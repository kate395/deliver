(function(){var innerGlobal=typeof window!="undefined"?window:global;var exportTo={};(function(window,global){var n,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){b!=Array.prototype&&b!=Object.prototype&&(b[c]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(){ca=function(){};ba.Symbol||(ba.Symbol=da)}var da=function(){var b=0;return function(c){return"jscomp_symbol_"+(c||"")+b++}}();
function ea(){ca();var b=ba.Symbol.iterator;b||(b=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&aa(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return fa(this)}});ea=function(){}}function fa(b){var c=0;return ha(function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}})}function ha(b){ea();b={next:b};b[ba.Symbol.iterator]=function(){return this};return b}function ia(b){ea();var c=b[Symbol.iterator];return c?c.call(b):fa(b)}
function ja(b,c){if(c){for(var d=ba,e=b.split("."),f=0;f<e.length-1;f++){var g=e[f];g in d||(d[g]={});d=d[g]}e=e[e.length-1];f=d[e];g=c(f);g!=f&&null!=g&&aa(d,e,{configurable:!0,writable:!0,value:g})}}
ja("Promise",function(b){function c(b){this.b=0;this.g=void 0;this.a=[];var c=this.c();try{b(c.resolve,c.reject)}catch(l){c.reject(l)}}function d(){this.a=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.b=function(b){null==this.a&&(this.a=[],this.f());this.a.push(b)};d.prototype.f=function(){var b=this;this.c(function(){b.h()})};var f=ba.setTimeout;d.prototype.c=function(b){f(b,0)};d.prototype.h=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=
[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(m){this.g(m)}}}this.a=null};d.prototype.g=function(b){this.c(function(){throw b;})};c.prototype.c=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.m),reject:b(this.f)}};c.prototype.m=function(b){if(b===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof c)this.o(b);else{a:switch(typeof b){case "object":var d=null!=b;break a;case "function":d=!0;
break a;default:d=!1}d?this.l(b):this.h(b)}};c.prototype.l=function(b){var c=void 0;try{c=b.then}catch(l){this.f(l);return}"function"==typeof c?this.u(c,b):this.h(b)};c.prototype.f=function(b){this.i(2,b)};c.prototype.h=function(b){this.i(1,b)};c.prototype.i=function(b,c){if(0!=this.b)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.b);this.b=b;this.g=c;this.j()};c.prototype.j=function(){if(null!=this.a){for(var b=0;b<this.a.length;++b)g.b(this.a[b]);this.a=null}};
var g=new d;c.prototype.o=function(b){var c=this.c();b.nb(c.resolve,c.reject)};c.prototype.u=function(b,c){var d=this.c();try{b.call(c,d.resolve,d.reject)}catch(m){d.reject(m)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(Da){g(Da)}}:c}var f,g,h=new c(function(b,c){f=b;g=c});this.nb(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.nb=function(b,c){function d(){switch(e.b){case 1:b(e.g);break;
case 2:c(e.g);break;default:throw Error("Unexpected state: "+e.b);}}var e=this;null==this.a?g.b(d):this.a.push(d)};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=ia(b),g=f.next();!g.done;g=f.next())e(g.value).nb(c,d)})};c.all=function(b){var d=ia(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d;k--;0==k&&b(h)}}var h=[],k=0;do h.push(void 0),k++,e(f.value).nb(g(h.length-1),c),f=
d.next();while(!f.done)})};return c});ja("Promise.prototype.finally",function(b){return b?b:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});function ka(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}function p(b){return ka(b())}
function la(){this.g=!1;this.c=null;this.I=void 0;this.v=1;this.b=this.f=0;this.i=this.a=null}function ma(b){if(b.g)throw new TypeError("Generator is already running");b.g=!0}la.prototype.h=function(b){this.I=b};function na(b,c){b.a={fc:c,jc:!0};b.v=b.f||b.b}la.prototype["return"]=function(b){this.a={"return":b};this.v=this.b};function q(b,c,d){b.v=d;return{value:c}}la.prototype.V=function(b){this.v=b};function oa(b,c,d){b.f=c;void 0!=d&&(b.b=d)}function pa(b){b.f=0;b.b=2}
function qa(b){b.v=0;b.f=0}function ra(b){b.f=0;var c=b.a.fc;b.a=null;return c}function sa(b){b.i=[b.a];b.f=0;b.b=0}function ta(b,c){var d=b.i.splice(0)[0];(d=b.a=b.a||d)?d.jc?b.v=b.f||b.b:void 0!=d.V&&b.b<d.V?(b.v=d.V,b.a=null):b.v=b.b:b.v=c}function ua(b){this.a=new la;this.b=b}function va(b,c){ma(b.a);var d=b.a.c;if(d)return wa(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.a["return"]);b.a["return"](c);return xa(b)}
function wa(b,c,d,e){try{var f=c.call(b.a.c,d);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return b.a.g=!1,f;var g=f.value}catch(h){return b.a.c=null,na(b.a,h),xa(b)}b.a.c=null;e.call(b.a,g);return xa(b)}
function xa(b){for(;b.a.v;)try{var c=b.b(b.a);if(c)return b.a.g=!1,{value:c.value,done:!1}}catch(d){b.a.I=void 0,na(b.a,d)}b.a.g=!1;if(b.a.a){c=b.a.a;b.a.a=null;if(c.jc)throw c.fc;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}
function ya(b){this.next=function(c){ma(b.a);b.a.c?c=wa(b,b.a.c.next,c,b.a.h):(b.a.h(c),c=xa(b));return c};this["throw"]=function(c){ma(b.a);b.a.c?c=wa(b,b.a.c["throw"],c,b.a.h):(na(b.a,c),c=xa(b));return c};this["return"]=function(c){return va(b,c)};ea();this[Symbol.iterator]=function(){return this}}function v(b,c){ya.prototype=b.prototype;return new ya(new ua(c))}
ja("Array.prototype.find",function(b){return b?b:function(b,d){a:{var c=this;c instanceof String&&(c=String(c));for(var f=c.length,g=0;g<f;g++){var h=c[g];if(b.call(d,h,g,c)){c=h;break a}}c=void 0}return c}});var za=this;za.a=!0;function x(b,c){var d=b.split("."),e=za;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===c?e[f]?e=e[f]:e=e[f]={}:e[f]=c}
function Aa(b,c){function d(){}d.prototype=c.prototype;b.se=c.prototype;b.prototype=new d;b.prototype.constructor=b;b.qe=function(b,d,g){return c.prototype[d].apply(b,Array.prototype.slice.call(arguments,2))}};/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Ba(b){this.c=Math.exp(Math.log(.5)/b);this.b=this.a=0}function Ca(b,c,d){var e=Math.pow(b.c,c);d=d*(1-e)+e*b.a;isNaN(d)||(b.a=d,b.b+=c)}function Ea(b){return b.a/(1-Math.pow(b.c,b.b))};function Fa(){this.b=new Ba(2);this.c=new Ba(5);this.a=0}Fa.prototype.getBandwidthEstimate=function(b){return 128E3>this.a?b:Math.min(Ea(this.b),Ea(this.c))};function Ga(){}window.console&&window.console.log.bind&&(Ga=console.warn.bind(console));var Ha=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Ia(b){var c;b instanceof Ia?(Ja(this,b.ga),this.Ca=b.Ca,this.ja=b.ja,Ka(this,b.Oa),this.$=b.$,La(this,Ma(b.a)),this.wa=b.wa):b&&(c=String(b).match(Ha))?(Ja(this,c[1]||"",!0),this.Ca=Na(c[2]||""),this.ja=Na(c[3]||"",!0),Ka(this,c[4]),this.$=Na(c[5]||"",!0),La(this,c[6]||"",!0),this.wa=Na(c[7]||"")):this.a=new Oa(null)}n=Ia.prototype;n.ga="";n.Ca="";n.ja="";n.Oa=null;n.$="";n.wa="";
n.toString=function(){var b=[],c=this.ga;c&&b.push(Pa(c,Ra,!0),":");if(c=this.ja){b.push("//");var d=this.Ca;d&&b.push(Pa(d,Ra,!0),"@");b.push(encodeURIComponent(c).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));c=this.Oa;null!=c&&b.push(":",String(c))}if(c=this.$)this.ja&&"/"!=c.charAt(0)&&b.push("/"),b.push(Pa(c,"/"==c.charAt(0)?Sa:Ta,!0));(c=this.a.toString())&&b.push("?",c);(c=this.wa)&&b.push("#",Pa(c,Ua));return b.join("")};
n.resolve=function(b){var c=new Ia(this);"data"===c.ga&&(c=new Ia);var d=!!b.ga;d?Ja(c,b.ga):d=!!b.Ca;d?c.Ca=b.Ca:d=!!b.ja;d?c.ja=b.ja:d=null!=b.Oa;var e=b.$;if(d)Ka(c,b.Oa);else if(d=!!b.$){if("/"!=e.charAt(0))if(this.ja&&!this.$)e="/"+e;else{var f=c.$.lastIndexOf("/");-1!=f&&(e=c.$.substr(0,f+1)+e)}if(".."==e||"."==e)e="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){f=0==e.lastIndexOf("/",0);e=e.split("/");for(var g=[],h=0;h<e.length;){var k=e[h++];"."==k?f&&h==e.length&&g.push(""):".."==k?
((1<g.length||1==g.length&&""!=g[0])&&g.pop(),f&&h==e.length&&g.push("")):(g.push(k),f=!0)}e=g.join("/")}}d?c.$=e:d=""!==b.a.toString();d?La(c,Ma(b.a)):d=!!b.wa;d&&(c.wa=b.wa);return c};function Ja(b,c,d){b.ga=d?Na(c,!0):c;b.ga&&(b.ga=b.ga.replace(/:$/,""))}function Ka(b,c){if(c){c=Number(c);if(isNaN(c)||0>c)throw Error("Bad port number "+c);b.Oa=c}else b.Oa=null}function La(b,c,d){c instanceof Oa?b.a=c:(d||(c=Pa(c,Va)),b.a=new Oa(c))}
function Na(b,c){return b?c?decodeURI(b):decodeURIComponent(b):""}function Pa(b,c,d){return"string"==typeof b?(b=encodeURI(b).replace(c,Wa),d&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Wa(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Ra=/[#\/\?@]/g,Ta=/[#\?:]/g,Sa=/[#\?]/g,Va=/[#\?@]/g,Ua=/#/g;function Oa(b){this.b=b||null}Oa.prototype.a=null;Oa.prototype.c=null;
Oa.prototype.add=function(b,c){if(!this.a&&(this.a={},this.c=0,this.b))for(var d=this.b.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("="),g=null;if(0<=f){var h=d[e].substring(0,f);g=d[e].substring(f+1)}else h=d[e];h=decodeURIComponent(h.replace(/\+/g," "));g=g||"";this.add(h,decodeURIComponent(g.replace(/\+/g," ")))}this.b=null;(d=this.a.hasOwnProperty(b)&&this.a[b])||(this.a[b]=d=[]);d.push(c);this.c++;return this};
Oa.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var b=[],c;for(c in this.a)for(var d=encodeURIComponent(c),e=this.a[c],f=0;f<e.length;f++){var g=d;""!==e[f]&&(g+="="+encodeURIComponent(e[f]));b.push(g)}return this.b=b.join("&")};function Ma(b){var c=new Oa;c.b=b.b;if(b.a){var d={},e;for(e in b.a)d[e]=b.a[e].concat();c.a=d;c.c=b.c}return c};function z(){var b,c,d=new Promise(function(d,f){b=d;c=f});d.resolve=b;d.reject=c;return d}z.prototype.resolve=function(){};z.prototype.reject=function(){};function Xa(b,c){var d=Ya();this.i=null==b.maxAttempts?d.maxAttempts:b.maxAttempts;this.f=null==b.baseDelay?d.baseDelay:b.baseDelay;this.h=null==b.fuzzFactor?d.fuzzFactor:b.fuzzFactor;this.g=null==b.backoffFactor?d.backoffFactor:b.backoffFactor;this.a=0;this.b=this.f;if(this.c=c||!1)this.a=1}function Za(b){if(b.a>=b.i)if(b.c)b.a=1,b.b=b.f;else return Promise.reject();var c=new z;b.a?(window.setTimeout(c.resolve,b.b*(1+(2*Math.random()-1)*b.h)),b.b*=b.g):c.resolve();b.a++;return c}
function Ya(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}};function A(b,c,d,e){this.severity=b;this.category=c;this.code=d;this.data=Array.prototype.slice.call(arguments,3);this.handled=!1}x("shaka.util.Error",A);A.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")};A.Severity={RECOVERABLE:1,CRITICAL:2};A.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9};
A.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,
EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,
UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,
HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,
FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,
CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013};function B(b,c){this.promise=b;this.b=c;this.a=!1}x("shaka.util.AbortableOperation",B);function $a(b){return new B(Promise.reject(b),function(){return Promise.resolve()})}B.failed=$a;function ab(){var b=Promise.reject(new A(2,7,7001));b["catch"](function(){});return new B(b,function(){return Promise.resolve()})}B.aborted=ab;function bb(b){return new B(Promise.resolve(b),function(){return Promise.resolve()})}B.completed=bb;
function cb(b){return new B(b,function(){return b["catch"](function(){})})}B.notAbortable=cb;B.prototype.abort=function(){this.a=!0;return this.b()};B.prototype.abort=B.prototype.abort;function db(b){return new B(Promise.all(b.map(function(b){return b.promise})),function(){return Promise.all(b.map(function(b){return b.abort()}))})}B.all=db;B.prototype["finally"]=function(b){this.promise.then(function(){return b(!0)},function(){return b(!1)});return this};B.prototype["finally"]=B.prototype["finally"];
B.prototype.U=function(b,c){function d(){f.reject(new A(2,7,7001));return e.abort()}var e=this,f=new z;this.promise.then(function(c){e.a?f.reject(new A(2,7,7001)):b?d=eb(b,c,f):f.resolve(c)},function(b){c?d=eb(c,b,f):f.reject(b)});return new B(f,function(){return d()})};B.prototype.chain=B.prototype.U;
function eb(b,c,d){try{var e=b(c);if(e&&e.promise&&e.abort)return d.resolve(e.promise),function(){return e.abort()};d.resolve(e);return function(){return Promise.resolve(e).then(function(){})["catch"](function(){})}}catch(f){return d.reject(f),function(){return Promise.resolve()}}};function fb(b,c){for(var d=[],e=0;e<b.length;++e){for(var f=!1,g=0;g<d.length&&!(f=c?c(b[e],d[g]):b[e]===d[g]);++g);f||d.push(b[e])}return d}function gb(b,c,d){for(var e=0;e<b.length;++e)if(d(b[e],c))return e;return-1}function hb(b,c){var d=b.indexOf(c);-1<d&&b.splice(d,1)}function ib(b,c){var d=0;b.forEach(function(b){d+=c(b)?1:0});return d};function jb(b,c,d,e,f){var g=f in e,h=!0,k;for(k in c){var l=f+"."+k,m=g?e[f]:d[k];g||k in b?void 0===c[k]?void 0===m||g?delete b[k]:b[k]=m:m.constructor==Object&&c[k]&&c[k].constructor==Object?(b[k]||(b[k]=m),l=jb(b[k],c[k],m,e,l),h=h&&l):typeof c[k]!=typeof m||null==c[k]||c[k].constructor!=m.constructor?h=!1:b[k]=c[k]:h=!1}return h}
function kb(b){function c(b){switch(typeof b){case "undefined":case "boolean":case "number":case "string":case "symbol":case "function":return b;default:if(!b)return b;if(0<=d.indexOf(b))return null;var e=b.constructor==Array;if(b.constructor!=Object&&!e)return null;d.push(b);var g=e?[]:{},h;for(h in b)g[h]=c(b[h]);e&&(g.length=b.length);return g}}var d=[];return c(b)};function lb(b,c){function d(){return Promise.all(b.map(function(b){return b.destroy()}))}return Promise.resolve(c()).then(function(b){return d().then(function(){return b})},function(b){return d().then(function(){throw b;})})};function mb(){this.a=[]}function nb(b,c){b.a.push(c["finally"](function(){hb(b.a,c)}))}mb.prototype.destroy=function(){var b=[];this.a.forEach(function(c){c.promise["catch"](function(){});b.push(c.abort())});this.a=[];return Promise.all(b)};function C(b){this.c=!1;this.g=new mb;this.a=[];this.b=[];this.f=b||null}x("shaka.net.NetworkingEngine",C);C.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};C.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var ob={};function pb(b,c,d){d=d||3;var e=ob[b];if(!e||d>=e.priority)ob[b]={priority:d,Hd:c}}C.registerScheme=pb;C.unregisterScheme=function(b){delete ob[b]};C.prototype.Kd=function(b){this.a.push(b)};C.prototype.registerRequestFilter=C.prototype.Kd;
C.prototype.je=function(b){hb(this.a,b)};C.prototype.unregisterRequestFilter=C.prototype.je;C.prototype.Ic=function(){this.a=[]};C.prototype.clearAllRequestFilters=C.prototype.Ic;C.prototype.Ld=function(b){this.b.push(b)};C.prototype.registerResponseFilter=C.prototype.Ld;C.prototype.ke=function(b){hb(this.b,b)};C.prototype.unregisterResponseFilter=C.prototype.ke;C.prototype.Jc=function(){this.b=[]};C.prototype.clearAllResponseFilters=C.prototype.Jc;
function qb(b,c){return{uris:b,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:c}}C.prototype.destroy=function(){this.c=!0;this.a=[];this.b=[];return this.g.destroy()};C.prototype.destroy=C.prototype.destroy;
function rb(b){b.then=function(c,d){Ga("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5.");return b.promise.then(c,d)};b["catch"]=function(c){Ga("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5.");return b.promise["catch"](c)};
return b}
C.prototype.request=function(b,c){var d=this;if(this.c)return rb(ab());c.method=c.method||"GET";c.headers=c.headers||{};c.retryParameters=c.retryParameters?kb(c.retryParameters):Ya();c.uris=kb(c.uris);var e=sb(this,b,c),f=e.U(function(){return tb(d,b,c,new Xa(c.retryParameters,!1),0,null)}),g=f.U(function(c){return ub(d,b,c)}),h=Date.now(),k=0;e.promise.then(function(){k=Date.now()-h},function(){});var l=0;f.promise.then(function(){l=Date.now()},function(){});e=g.U(function(c){var e=Date.now()-l;
c.timeMs+=k;c.timeMs+=e;d.f&&!c.fromCache&&1==b&&d.f(c.timeMs,c.data.byteLength);return c},function(b){b&&(b.severity=2);throw b;});nb(this.g,e);return rb(e)};C.prototype.request=C.prototype.request;function sb(b,c,d){var e=bb(void 0);b.a.forEach(function(b){e=e.U(function(){return b(c,d)})});return e.U(void 0,function(b){if(b&&7001==b.code)throw b;throw new A(2,1,1006,b);})}
function tb(b,c,d,e,f,g){var h=new Ia(d.uris[f]),k=h.ga;k||(k=location.protocol,k=k.slice(0,-1),Ja(h,k),d.uris[f]=h.toString());var l=(k=ob[k])?k.Hd:null;if(!l)return $a(new A(2,1,1E3,h));var m;return cb(Za(e)).U(function(){if(b.c)return ab();m=Date.now();var e=l(d.uris[f],d,c);void 0==e.promise&&(Ga("The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5."),e=cb(e));
return e}).U(function(b){void 0==b.timeMs&&(b.timeMs=Date.now()-m);return b},function(h){if(h&&7001==h.code)throw h;if(b.c)return ab();if(h&&1==h.severity)return f=(f+1)%d.uris.length,tb(b,c,d,e,f,h);throw h||g;})}function ub(b,c,d){var e=bb(void 0);b.b.forEach(function(b){e=e.U(function(){return b(c,d)})});return e.U(function(){return d},function(b){if(b&&7001==b.code)throw b;var c=2;b instanceof A&&(c=b.severity);throw new A(c,1,1007,b);})};function vb(){this.a={}}vb.prototype.push=function(b,c){this.a.hasOwnProperty(b)?this.a[b].push(c):this.a[b]=[c]};vb.prototype.get=function(b){return(b=this.a[b])?b.slice():null};vb.prototype.remove=function(b,c){var d=this.a[b];if(d)for(var e=0;e<d.length;++e)d[e]==c&&(d.splice(e,1),--e)};function wb(){this.a=new vb}wb.prototype.destroy=function(){xb(this);this.a=null;return Promise.resolve()};function D(b,c,d,e){b.a&&(c=new yb(c,d,e),b.a.push(d,c))}function zb(b,c,d,e){D(b,c,d,function(b){this.ma(c,d);e(b)}.bind(b))}wb.prototype.ma=function(b,c){if(this.a)for(var d=this.a.get(c)||[],e=0;e<d.length;++e){var f=d[e];f.target==b&&(f.ma(),this.a.remove(c,f))}};function xb(b){if(b.a){var c=b.a,d=[],e;for(e in c.a)d.push.apply(d,c.a[e]);for(c=0;c<d.length;++c)d[c].ma();b.a.a={}}}
function yb(b,c,d){this.target=b;this.type=c;this.a=d;this.target.addEventListener(c,d,!1)}yb.prototype.ma=function(){this.target.removeEventListener(this.type,this.a,!1);this.a=this.target=null};function E(b,c){var d=c||{},e;for(e in d)this[e]=d[e];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=b;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=!1}E.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};E.prototype.stopImmediatePropagation=function(){this.a=!0};E.prototype.stopPropagation=function(){};function Ab(b,c){return b.reduce(function(b,c,f){return c["catch"](b.bind(null,f))}.bind(null,c),Promise.reject())}function Bb(b,c){return b.concat(c)}function Cb(){}function Eb(b){return null!=b}function Fb(b,c,d){return d.indexOf(b)==c};function F(b,c){if(0==c.length)return b;var d=c.map(function(b){return new Ia(b)});return b.map(function(b){return new Ia(b)}).map(function(b){return d.map(b.resolve.bind(b))}).reduce(Bb,[]).map(function(b){return b.toString()})}function Gb(b,c){return{keySystem:b,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:c||[],keyIds:[]}}var Hb=1/15;function Ib(b){return!b||0==Object.keys(b).length}function G(b){return Object.keys(b).map(function(c){return b[c]})}function Jb(b,c){return Object.keys(b).every(function(d){return c(d,b[d])})}function Kb(b,c){Object.keys(b).forEach(function(d){c(d,b[d])})};function Lb(b,c){var d=b;c&&(d+='; codecs="'+c+'"');return d}var Mb={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};function H(b){if(!b)return"";b=new Uint8Array(b);239==b[0]&&187==b[1]&&191==b[2]&&(b=b.subarray(3));b=escape(Nb(b));try{return decodeURIComponent(b)}catch(c){throw new A(2,2,2004);}}x("shaka.util.StringUtils.fromUTF8",H);
function Ob(b,c,d){if(!b)return"";if(!d&&0!=b.byteLength%2)throw new A(2,2,2004);if(b instanceof ArrayBuffer)var e=b;else d=new Uint8Array(b.byteLength),d.set(new Uint8Array(b)),e=d.buffer;b=Math.floor(b.byteLength/2);d=new Uint16Array(b);e=new DataView(e);for(var f=0;f<b;f++)d[f]=e.getUint16(2*f,c);return Nb(d)}x("shaka.util.StringUtils.fromUTF16",Ob);
function Pb(b){var c=new Uint8Array(b);if(239==c[0]&&187==c[1]&&191==c[2])return H(c);if(254==c[0]&&255==c[1])return Ob(c.subarray(2),!1);if(255==c[0]&&254==c[1])return Ob(c.subarray(2),!0);var d=function(b,c){return b.byteLength<=c||32<=b[c]&&126>=b[c]}.bind(null,c);if(0==c[0]&&0==c[2])return Ob(b,!1);if(0==c[1]&&0==c[3])return Ob(b,!0);if(d(0)&&d(1)&&d(2)&&d(3))return H(b);throw new A(2,2,2003);}x("shaka.util.StringUtils.fromBytesAutoDetect",Pb);
function Qb(b){b=encodeURIComponent(b);b=unescape(b);for(var c=new Uint8Array(b.length),d=0;d<b.length;++d)c[d]=b.charCodeAt(d);return c.buffer}x("shaka.util.StringUtils.toUTF8",Qb);function Nb(b){for(var c="",d=0;d<b.length;d+=16E3)c+=String.fromCharCode.apply(null,b.subarray(d,d+16E3));return c};function Rb(b){this.a=null;this.b=function(){this.a=null;b()}.bind(this)}Rb.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)};function Sb(b){var c=Tb;b.cancel();b.a=setTimeout(b.b,1E3*c)}function Ub(b,c){b.cancel();var d=function(){this.b();this.a=setTimeout(d,1E3*c)}.bind(b);b.a=setTimeout(d,1E3*c)};function Vb(b,c){var d=void 0==c?!0:c,e=window.btoa(Nb(b)).replace(/\+/g,"-").replace(/\//g,"_");return d?e:e.replace(/=*$/,"")}x("shaka.util.Uint8ArrayUtils.toBase64",Vb);function Wb(b){b=window.atob(b.replace(/-/g,"+").replace(/_/g,"/"));for(var c=new Uint8Array(b.length),d=0;d<b.length;++d)c[d]=b.charCodeAt(d);return c}x("shaka.util.Uint8ArrayUtils.fromBase64",Wb);function Xb(b){for(var c=new Uint8Array(b.length/2),d=0;d<b.length;d+=2)c[d/2]=window.parseInt(b.substr(d,2),16);return c}
x("shaka.util.Uint8ArrayUtils.fromHex",Xb);function Yb(b){for(var c="",d=0;d<b.length;++d){var e=b[d].toString(16);1==e.length&&(e="0"+e);c+=e}return c}x("shaka.util.Uint8ArrayUtils.toHex",Yb);function Zb(b,c){if(!b&&!c)return!0;if(!b||!c||b.length!=c.length)return!1;for(var d=0;d<b.length;++d)if(b[d]!=c[d])return!1;return!0}x("shaka.util.Uint8ArrayUtils.equal",Zb);
function $b(b){for(var c=0,d=0;d<arguments.length;++d)c+=arguments[d].length;c=new Uint8Array(c);for(var e=d=0;e<arguments.length;++e)c.set(arguments[e],d),d+=arguments[e].length;return c}x("shaka.util.Uint8ArrayUtils.concat",$b);function ac(b){this.u=b;this.l=this.j=this.w=null;this.M=!1;this.b=null;this.g=new wb;this.a=[];this.o=[];this.i=new z;this.f=null;this.h=function(c){this.i.reject(c);b.onError(c)}.bind(this);this.P={};this.m={};this.H=new Rb(this.Jd.bind(this));this.ea=this.c=!1;this.L=[];this.W=!1;this.B=new Rb(this.Id.bind(this));Ub(this.B,1);this.i["catch"](function(){})}n=ac.prototype;
n.destroy=function(){this.c=!0;var b=[];this.a.forEach(function(c){c=c.ha.close()["catch"](Cb);var d=new Promise(function(b){setTimeout(b,1E3*bc)});b.push(Promise.race([c,d]))});this.i.reject();this.g&&b.push(this.g.destroy());this.l&&b.push(this.l.setMediaKeys(null)["catch"](Cb));this.B&&(this.B.cancel(),this.B=null);this.H&&(this.H.cancel(),this.H=null);this.g=this.l=this.j=this.w=this.b=null;this.a=[];this.o=[];this.u=this.h=this.f=null;return Promise.all(b)};n.configure=function(b){this.f=b};
n.init=function(b,c){var d={},e=[],f=b.periods.some(function(b){return b.variants.some(function(b){return b.drmInfos.length})});this.ea=c;this.o=b.offlineSessionIds;cc(this,b,c||0<b.offlineSessionIds.length,d,e);return e.length?dc(this,d,e,f):(this.M=!0,Promise.resolve())};
n.mb=function(b){if(!this.j)return zb(this.g,b,"encrypted",function(){this.h(new A(2,6,6010))}.bind(this)),Promise.resolve();this.l=b;zb(this.g,this.l,"play",this.rd.bind(this));b=this.l.setMediaKeys(this.j);b=b["catch"](function(b){return Promise.reject(new A(2,6,6003,b.message))});var c=null;this.b.serverCertificate&&this.b.serverCertificate.length&&(c=this.j.setServerCertificate(this.b.serverCertificate).then(function(){})["catch"](function(b){return Promise.reject(new A(2,6,6004,b.message))}));
return Promise.all([b,c]).then(function(){if(this.c)return Promise.reject();ec(this);this.b.initData.length||this.o.length||D(this.g,this.l,"encrypted",this.hd.bind(this))}.bind(this))["catch"](function(b){return this.c?Promise.resolve():Promise.reject(b)}.bind(this))};
function fc(b,c){return Promise.all(c.map(function(b){return gc(this,b).then(function(b){if(b){for(var c=new z,d=0;d<this.a.length;d++)if(this.a[d].ha==b){this.a[d].na=c;break}return Promise.all([b.remove(),c])}}.bind(this))}.bind(b)))}function ec(b){var c=b.b?b.b.initData:[];c.forEach(function(b){hc(this,b.initDataType,b.initData)}.bind(b));b.o.forEach(function(b){gc(this,b)}.bind(b));c.length||b.o.length||b.i.resolve();return b.i}n.keySystem=function(){return this.b?this.b.keySystem:""};
function ic(b){return b.a.map(function(b){return b.ha.sessionId})}n.pb=function(){var b=this.a.map(function(b){b=b.ha.expiration;return isNaN(b)?Infinity:b});return Math.min.apply(Math,b)};
function cc(b,c,d,e,f){var g=jc(b),h=kc(b,c);c.periods.forEach(function(b){b.variants.forEach(function(b){g&&(b.drmInfos=[g]);h&&(b.drmInfos=h);b.drmInfos.forEach(function(c){lc(this,c);window.cast&&window.cast.__platform__&&"com.microsoft.playready"==c.keySystem&&(c.keySystem="com.chromecast.playready");var g=e[c.keySystem];g||(g={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:d?"required":"optional",sessionTypes:[d?"persistent-license":"temporary"],label:c.keySystem,
drmInfos:[]},e[c.keySystem]=g,f.push(c.keySystem));g.drmInfos.push(c);c.distinctiveIdentifierRequired&&(g.distinctiveIdentifier="required");c.persistentStateRequired&&(g.persistentState="required");var h=[];b.video&&h.push(b.video);b.audio&&h.push(b.audio);h.forEach(function(b){("video"==b.type?g.videoCapabilities:g.audioCapabilities).push({robustness:("video"==b.type?c.videoRobustness:c.audioRobustness)||"",contentType:Lb(b.mimeType,b.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(b))}
function dc(b,c,d,e){if(1==d.length&&""==d[0])return Promise.reject(new A(2,6,6E3));var f=new z,g=f;[!0,!1].forEach(function(b){d.forEach(function(d){var e=c[d];e.drmInfos.some(function(b){return!!b.licenseServerUri})==b&&(0==e.audioCapabilities.length&&delete e.audioCapabilities,0==e.videoCapabilities.length&&delete e.videoCapabilities,g=g["catch"](function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(d,[e])}.bind(this)))}.bind(this))}.bind(b));g=g["catch"](function(){return Promise.reject(new A(2,
6,6001))});g=g.then(function(b){if(this.c)return Promise.reject();var d=0<=navigator.userAgent.indexOf("Edge/"),e=b.getConfiguration();this.w=(e.audioCapabilities||[]).concat(e.videoCapabilities||[]).map(function(b){return b.contentType});d&&(this.w=null);d=c[b.keySystem];mc(this,b.keySystem,d,d.drmInfos);return this.b.licenseServerUri?b.createMediaKeys():Promise.reject(new A(2,6,6012))}.bind(b)).then(function(b){if(this.c)return Promise.reject();this.j=b;this.M=!0}.bind(b))["catch"](function(b){if(this.c)return Promise.resolve();
this.w=this.b=null;return b instanceof A?Promise.reject(b):Promise.reject(new A(2,6,6002,b.message))}.bind(b));e||(g=g["catch"](function(){}));f.reject();return g}
function lc(b,c){var d=c.keySystem;if(d){if(!c.licenseServerUri){var e=b.f.servers[d];e&&(c.licenseServerUri=e)}c.keyIds||(c.keyIds=[]);if(d=b.f.advanced[d])c.distinctiveIdentifierRequired||(c.distinctiveIdentifierRequired=d.distinctiveIdentifierRequired),c.persistentStateRequired||(c.persistentStateRequired=d.persistentStateRequired),c.videoRobustness||(c.videoRobustness=d.videoRobustness),c.audioRobustness||(c.audioRobustness=d.audioRobustness),c.serverCertificate||(c.serverCertificate=d.serverCertificate)}}
function jc(b){if(Ib(b.f.clearKeys))return null;var c=[],d=[],e;for(e in b.f.clearKeys){var f=b.f.clearKeys[e],g=Xb(e);f=Xb(f);g={kty:"oct",kid:Vb(g,!1),k:Vb(f,!1)};c.push(g);d.push(g.kid)}b=JSON.stringify({keys:c});d=JSON.stringify({kids:d});d=[{initData:new Uint8Array(Qb(d)),initDataType:"keyids"}];return{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+window.btoa(b),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[]}}function kc(b,c){var d=b.f,e=Object.keys(d.servers);return!e.length||c.periods.some(function(b){return b.variants.some(function(b){return b.drmInfos.length})})?null:e.map(function(b){return{keySystem:b,licenseServerUri:d.servers[b],distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}})}
function mc(b,c,d,e){var f=[],g=[],h=[],k=[];nc(e,f,g,h,k);b.b={keySystem:c,licenseServerUri:f[0],distinctiveIdentifierRequired:"required"==d.distinctiveIdentifier,persistentStateRequired:"required"==d.persistentState,audioRobustness:d.audioCapabilities?d.audioCapabilities[0].robustness:"",videoRobustness:d.videoCapabilities?d.videoCapabilities[0].robustness:"",serverCertificate:g[0],initData:h,keyIds:k}}
function nc(b,c,d,e,f){function g(b,c){return b.keyId&&b.keyId==c.keyId?!0:b.initDataType==c.initDataType&&Zb(b.initData,c.initData)}b.forEach(function(b){-1==c.indexOf(b.licenseServerUri)&&c.push(b.licenseServerUri);b.serverCertificate&&-1==gb(d,b.serverCertificate,Zb)&&d.push(b.serverCertificate);b.initData&&b.initData.forEach(function(b){-1==gb(e,b,g)&&e.push(b)});if(b.keyIds)for(var h=0;h<b.keyIds.length;++h)-1==f.indexOf(b.keyIds[h])&&f.push(b.keyIds[h])})}
n.hd=function(b){for(var c=new Uint8Array(b.initData),d=0;d<this.a.length;++d)if(Zb(c,this.a[d].initData))return;hc(this,b.initDataType,c)};
function gc(b,c){try{var d=b.j.createSession("persistent-license")}catch(g){var e=new A(2,6,6005,g.message);b.h(e);return Promise.reject(e)}D(b.g,d,"message",b.pc.bind(b));D(b.g,d,"keystatuseschange",b.mc.bind(b));var f={initData:null,ha:d,loaded:!1,Mb:Infinity,na:null};b.a.push(f);return d.load(c).then(function(b){if(!this.c){if(b)return f.loaded=!0,this.a.every(function(b){return b.loaded})&&this.i.resolve(),d;this.a.splice(this.a.indexOf(f),1);this.h(new A(2,6,6013))}}.bind(b),function(b){this.c||
(this.a.splice(this.a.indexOf(f),1),this.h(new A(2,6,6005,b.message)))}.bind(b))}
function hc(b,c,d){try{var e=b.ea?b.j.createSession("persistent-license"):b.j.createSession()}catch(f){b.h(new A(2,6,6005,f.message));return}D(b.g,e,"message",b.pc.bind(b));D(b.g,e,"keystatuseschange",b.mc.bind(b));b.a.push({initData:d,ha:e,loaded:!1,Mb:Infinity,na:null});e.generateRequest(c,d.buffer)["catch"](function(b){if(!this.c){for(var c=0;c<this.a.length;++c)if(this.a[c].ha==e){this.a.splice(c,1);break}this.h(new A(2,6,6006,b.message))}}.bind(b))}
n.pc=function(b){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.W?this.L.push(b):oc(this,b)};
function oc(b,c){for(var d=c.target,e,f=0;f<b.a.length;f++)if(b.a[f].ha==d){e=b.a[f];break}f=qb([b.b.licenseServerUri],b.f.retryParameters);f.body=c.message;f.method="POST";"com.microsoft.playready"!=b.b.keySystem&&"com.chromecast.playready"!=b.b.keySystem||pc(f);b.u.Ka.request(2,f).promise.then(function(b){return this.c?Promise.reject():d.update(b.data).then(function(){this.u.onEvent(new E("drmsessionupdate"));e&&(e.na&&e.na.resolve(),setTimeout(function(){e.loaded=!0;this.a.every(function(b){return b.loaded})&&
this.i.resolve()}.bind(this),1E3*qc))}.bind(this))}.bind(b),function(b){if(this.c)return Promise.resolve();b=new A(2,6,6007,b);this.h(b);e&&e.na&&e.na.reject(b)}.bind(b))["catch"](function(b){if(this.c)return Promise.resolve();b=new A(2,6,6008,b.message);this.h(b);e&&e.na&&e.na.reject(b)}.bind(b))}
function pc(b){var c=Ob(b.body,!0,!0);if(-1==c.indexOf("PlayReadyKeyMessage"))b.headers["Content-Type"]="text/xml; charset=utf-8";else{c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector("value").textContent;b.body=Wb(c.querySelector("Challenge").textContent).buffer}}
n.mc=function(b){b=b.target;var c;for(c=0;c<this.a.length&&this.a[c].ha!=b;++c);if(c!=this.a.length){var d=!1;b.keyStatuses.forEach(function(b,e){if("string"==typeof e){var f=e;e=b;b=f}if("com.microsoft.playready"==this.b.keySystem&&16==e.byteLength){f=new DataView(e);var g=f.getUint32(0,!0),l=f.getUint16(4,!0),m=f.getUint16(6,!0);f.setUint32(0,g,!1);f.setUint16(4,l,!1);f.setUint16(6,m,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==b&&(b="usable");"status-pending"!=b&&(this.a[c].loaded=
!0);"expired"==b&&(d=!0);f=Yb(new Uint8Array(e));this.P[f]=b}.bind(this));var e=b.expiration-Date.now();(0>e||d&&1E3>e)&&!this.a[c].na&&(this.a.splice(c,1),b.close()["catch"](function(){}));this.a.every(function(b){return b.loaded})&&(this.i.resolve(),Sb(this.H))}};n.Jd=function(){function b(b,c){return"expired"==c}this.m={};for(var c in this.P)this.m[c]=this.P[c];!Ib(this.m)&&Jb(this.m,b)&&this.h(new A(2,6,6014));this.u.rb(this.m)};
function rc(){var b=[],c=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],d=[{videoCapabilities:c,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:c}],e={};"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(c){var f=navigator.requestMediaKeySystemAccess(c,d).then(function(b){var d=b.getConfiguration().sessionTypes;d=
d?0<=d.indexOf("persistent-license"):!1;0<=navigator.userAgent.indexOf("Tizen 3")&&(d=!1);e[c]={persistentState:d};return b.createMediaKeys()})["catch"](function(){e[c]=null});b.push(f)});return Promise.all(b).then(function(){return e})}n.rd=function(){for(var b=0;b<this.L.length;b++)oc(this,this.L[b]);this.W=!0;this.L=[]};function sc(b,c){var d=b.keySystem();return 0==c.drmInfos.length||c.drmInfos.some(function(b){return b.keySystem==d})}
function tc(b,c){if(!b.length)return c;if(!c.length)return b;for(var d=[],e=0;e<b.length;e++)for(var f=0;f<c.length;f++)if(b[e].keySystem==c[f].keySystem){var g=b[e];f=c[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);var k=[];k=k.concat(g.keyIds);k=k.concat(f.keyIds);d.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||
f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:k});break}return d}n.Id=function(){this.a.forEach(function(b){var c=b.Mb,d=b.ha.expiration;isNaN(d)&&(d=Infinity);d!=c&&(this.u.onExpirationUpdated(b.ha.sessionId,d),b.Mb=d)}.bind(this))};var bc=1,qc=5,Tb=.5;function uc(b){return!b||1==b.length&&1E-6>b.end(0)-b.start(0)?null:b.length?b.end(b.length-1):null}function vc(b,c,d){d=void 0===d?0:d;return!b||!b.length||1==b.length&&1E-6>b.end(0)-b.start(0)||c>b.end(b.length-1)?!1:c+d>=b.start(0)}function wc(b,c){if(!b||!b.length||1==b.length&&1E-6>b.end(0)-b.start(0))return 0;for(var d=0,e=b.length-1;0<=e&&b.end(e)>c;--e)d+=b.end(e)-Math.max(b.start(e),c);return d}
function xc(b){if(!b)return[];for(var c=[],d=0;d<b.length;d++)c.push({start:b.start(d),end:b.end(d)});return c};function I(b,c,d){this.startTime=b;this.endTime=c;this.payload=d;this.region=new yc;this.position=null;this.positionAlign=zc;this.size=100;this.textAlign=Ac;this.writingDirection=Bc;this.lineInterpretation=Cc;this.line=null;this.lineHeight="";this.lineAlign=Dc;this.displayAlign=Ec;this.fontSize=this.backgroundColor=this.color="";this.fontWeight=Fc;this.fontStyle=Gc;this.fontFamily="";this.textDecoration=[];this.wrapLine=!0;this.id=""}x("shaka.text.Cue",I);var zc="auto";
I.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:zc};var Ac="center",Hc={LEFT:"left",RIGHT:"right",CENTER:Ac,START:"start",END:"end"};I.textAlign=Hc;var Ec="before",Ic={BEFORE:Ec,CENTER:"center",AFTER:"after"};I.displayAlign=Ic;var Bc=0;I.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:Bc,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var Cc=0;I.lineInterpretation={LINE_NUMBER:Cc,PERCENTAGE:1};var Dc="center",Jc={CENTER:Dc,START:"start",END:"end"};
I.lineAlign=Jc;var Fc=400;I.fontWeight={NORMAL:Fc,BOLD:700};var Gc="normal",Kc={NORMAL:Gc,ITALIC:"italic",OBLIQUE:"oblique"};I.fontStyle=Kc;I.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function yc(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Lc;this.scroll=Mc}x("shaka.text.CueRegion",yc);var Lc=1;
yc.units={PX:0,PERCENTAGE:Lc,LINES:2};var Mc="";yc.scrollMode={NONE:Mc,UP:"up"};function Nc(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0});this.b=null;this.g=[];this.c=[];this.f=!1;this.a.on("data",this.i.bind(this));this.a.on("done",this.h.bind(this))}Nc.prototype.destroy=function(){this.a.dispose();this.a=null;return Promise.resolve()};function Oc(b,c){return window.muxjs&&"mp2t"==b.split(";")[0].split("/")[1]?c?MediaSource.isTypeSupported(Pc(c,b)):MediaSource.isTypeSupported(Pc("audio",b))||MediaSource.isTypeSupported(Pc("video",b)):!1}
function Pc(b,c){var d=c.replace("mp2t","mp4");"audio"==b&&(d=d.replace("video","audio"));var e=/avc1\.(66|77|100)\.(\d+)/.exec(d);if(e){var f="avc1.",g=e[1],h=Number(e[2]);f=("66"==g?f+"4200":"77"==g?f+"4d00":f+"6400")+(h>>4).toString(16);f+=(h&15).toString(16);d=d.replace(e[0],f)}return d}function Qc(b,c){b.f=!0;b.b=new z;b.g=[];b.c=[];var d=new Uint8Array(c);b.a.push(d);b.a.flush();b.f&&b.b.reject(new A(2,3,3018));return b.b}
Nc.prototype.i=function(b){for(var c=0;c<b.captions.length;c++){var d=b.captions[c];this.c.push(new I(d.startTime,d.endTime,d.text))}c=new Uint8Array(b.data.byteLength+b.initSegment.byteLength);c.set(b.initSegment,0);c.set(b.data,b.initSegment.byteLength);this.g.push(c)};Nc.prototype.h=function(){var b={data:$b.apply(null,this.g),cues:this.c};this.b.resolve(b);this.f=!1};function Rc(b){this.f=null;this.c=b;this.i=this.g=0;this.h=Infinity;this.b=this.a=null}var J={};x("shaka.text.TextEngine.registerParser",function(b,c){J[b]=c});x("shaka.text.TextEngine.unregisterParser",function(b){delete J[b]});Rc.prototype.destroy=function(){this.c=this.f=null;return Promise.resolve()};Rc.prototype.Yd=function(b){this.c=b};Rc.prototype.setDisplayer=Rc.prototype.Yd;
Rc.prototype.Db=function(b){var c={periodStart:0,segmentStart:null,segmentEnd:0};try{return this.f.parseMedia(new Uint8Array(b),c)[0].startTime}catch(d){throw new A(2,2,2009,d);}};
function Sc(b,c,d,e){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==d||null==e)this.f.parseInit(new Uint8Array(c));else{var b={periodStart:this.g,segmentStart:this.g+d,segmentEnd:this.g+e};b=this.f.parseMedia(new Uint8Array(c),b).filter(function(b){return b.startTime>=this.i&&b.startTime<this.h}.bind(this));this.c.append(b);null==this.a&&(this.a=Math.max(d+this.g,this.i));this.b=Math.min(e+this.g,this.h)}}.bind(b))}
Rc.prototype.remove=function(b,c){return Promise.resolve().then(function(){!this.c||!this.c.remove(b,c)||null==this.a||c<=this.a||b>=this.b||(b<=this.a&&c>=this.b?this.a=this.b=null:b<=this.a&&c<this.b?this.a=c:b>this.a&&c>=this.b&&(this.b=b))}.bind(this))};Rc.prototype.$b=function(b){this.c.append(b)};Rc.prototype.appendCues=Rc.prototype.$b;function Tc(b){this.f=b;this.o=null;this.b={};this.a=null;this.c={};this.i=new wb;this.m=!1;this.h={};this.l=!1;b=this.j=new z;var c=new MediaSource;zb(this.i,c,"sourceopen",b.resolve);this.f.src=window.URL.createObjectURL(c);this.g=c}
function Uc(){var b={};'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(c){b[c]=!!J[c]||
MediaSource.isTypeSupported(c)||Oc(c);var d=c.split(";")[0];b[d]=b[d]||b[c]});return b}n=Tc.prototype;
n.destroy=function(){this.m=!0;var b=[],c;for(c in this.c){var d=this.c[c],e=d[0];this.c[c]=d.slice(0,1);e&&b.push(e.p["catch"](Cb));for(e=1;e<d.length;++e)d[e].p["catch"](Cb),d[e].p.reject()}this.a&&b.push(this.a.destroy());for(var f in this.h)b.push(this.h[f].destroy());this.f&&(this.f.removeAttribute("src"),this.f.load());return Promise.all(b).then(function(){this.i.destroy();this.o=this.a=this.g=this.f=this.i=null;this.b={};this.h={};this.c={}}.bind(this))};
n.init=function(b,c){var d=this;return this.j.then(function(){for(var e in b){var f=b[e];f=Lb(f.mimeType,f.codecs);"text"==e?Vc(d,f):(!c&&MediaSource.isTypeSupported(f)||!Oc(f,e)||(d.h[e]=new Nc,f=Pc(e,f)),f=d.g.addSourceBuffer(f),D(d.i,f,"error",d.ge.bind(d,e)),D(d.i,f,"updateend",d.Ma.bind(d,e)),d.b[e]=f,d.c[e]=[])}})};function Vc(b,c){b.a||(b.a=new Rc(b.o));b.a.f=new J[c]}
function Wc(b,c){if("text"==c)var d=b.a.a;else d=Xc(b,c),d=!d||1==d.length&&1E-6>d.end(0)-d.start(0)?null:1==d.length&&0>d.start(0)?0:d.length?d.start(0):null;return d}function Yc(b,c){return"text"==c?b.a.b:uc(Xc(b,c))}function Zc(b,c,d){if("text"==c)return b=b.a,null==b.b||b.b<d?0:b.b-Math.max(d,b.a);b=Xc(b,c);return wc(b,d)}n.Ab=function(){var b=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:xc(this.f.buffered),audio:xc(Xc(this,"audio")),video:xc(Xc(this,"video")),text:b}};
function Xc(b,c){try{return b.b[c].buffered}catch(d){return null}}function $c(b,c,d,e,f){return"text"==c?Sc(b.a,d,e,f):b.h[c]?Qc(b.h[c],d).then(function(b){this.a||Vc(this,"text/vtt");this.l&&this.a.$b(b.cues);return ad(this,c,this.zc.bind(this,c,b.data.buffer))}.bind(b)):ad(b,c,b.zc.bind(b,c,d))}n.remove=function(b,c,d){return"text"==b?this.a.remove(c,d):ad(this,b,this.Ac.bind(this,b,c,d))};
function bd(b,c){return"text"==c?b.a?b.a.remove(0,Infinity):Promise.resolve():ad(b,c,b.Ac.bind(b,c,0,b.g.duration))}n.flush=function(b){return"text"==b?Promise.resolve():ad(this,b,this.Lc.bind(this,b))};function cd(b,c,d,e,f){return"text"==c?(b.a.g=d,b=b.a,b.i=e,b.h=f,Promise.resolve()):Promise.all([ad(b,c,b.Ec.bind(b,c)),ad(b,c,b.ae.bind(b,c,d)),ad(b,c,b.Xd.bind(b,c,e,f))])}n.endOfStream=function(b){return dd(this,function(){b?this.g.endOfStream(b):this.g.endOfStream()}.bind(this))};
n.ia=function(b){return dd(this,function(){this.g.duration=b}.bind(this))};n.R=function(){return this.g.duration};n.zc=function(b,c){this.b[b].appendBuffer(c)};n.Ac=function(b,c,d){d<=c?this.Ma(b):this.b[b].remove(c,d)};n.Ec=function(b){var c=this.b[b].appendWindowStart,d=this.b[b].appendWindowEnd;this.b[b].abort();this.b[b].appendWindowStart=c;this.b[b].appendWindowEnd=d;this.Ma(b)};n.Lc=function(b){this.f.currentTime-=.001;this.Ma(b)};
n.ae=function(b,c){0>c&&(c+=.001);this.b[b].timestampOffset=c;this.Ma(b)};n.Xd=function(b,c,d){this.b[b].appendWindowStart=0;this.b[b].appendWindowEnd=d;this.b[b].appendWindowStart=c;this.Ma(b)};n.ge=function(b){this.c[b][0].p.reject(new A(2,3,3014,this.f.error?this.f.error.code:0))};n.Ma=function(b){var c=this.c[b][0];c&&(c.p.resolve(),ed(this,b))};
function ad(b,c,d){if(b.m)return Promise.reject();d={start:d,p:new z};b.c[c].push(d);if(1==b.c[c].length)try{d.start()}catch(e){"QuotaExceededError"==e.name?d.p.reject(new A(2,3,3017,c)):d.p.reject(new A(2,3,3015,e)),ed(b,c)}return d.p}
function dd(b,c){if(b.m)return Promise.reject();var d=[],e;for(e in b.b){var f=new z,g={start:function(b){b.resolve()}.bind(null,f),p:f};b.c[e].push(g);d.push(f);1==b.c[e].length&&g.start()}return Promise.all(d).then(function(){try{c()}catch(l){var b=Promise.reject(new A(2,3,3015,l))}for(var d in this.b)ed(this,d);return b}.bind(b),function(){return Promise.reject()}.bind(b))}function ed(b,c){b.c[c].shift();var d=b.c[c][0];if(d)try{d.start()}catch(e){d.p.reject(new A(2,3,3015,e)),ed(b,c)}};function fd(b,c,d){return d==c||b>=gd&&d==c.split("-")[0]||b>=hd&&d.split("-")[0]==c.split("-")[0]?!0:!1}var gd=1,hd=2;function id(b){b=b.toLowerCase().split("-");var c=jd[b[0]];c&&(b[0]=c);return b.join("-")}
var jd={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",
fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",
lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",
srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};function kd(b,c,d){var e=b.video;return e&&(e.width<c.minWidth||e.width>c.maxWidth||e.width>d.width||e.height<c.minHeight||e.height>c.maxHeight||e.height>d.height||e.width*e.height<c.minPixels||e.width*e.height>c.maxPixels)||b.bandwidth<c.minBandwidth||b.bandwidth>c.maxBandwidth?!1:!0}function ld(b,c,d){var e=!1;b.variants.forEach(function(b){var f=b.allowedByApplication;b.allowedByApplication=kd(b,c,d);f!=b.allowedByApplication&&(e=!0)});return e}
function md(b,c,d,e){e.variants=e.variants.filter(function(e){return b&&b.M&&!sc(b,e)?!1:nd(e.audio,b,c)&&nd(e.video,b,d)});e.textStreams=e.textStreams.filter(function(b){return!!J[Lb(b.mimeType,b.codecs)]})}
function nd(b,c,d){if(!b)return!0;var e=null;c&&c.M&&(e=c.w);c=Lb(b.mimeType,b.codecs);var f=Lb(b.mimeType,b.codecs),g=b.mimeType,h;for(h in Mb){var k=b[h],l=Mb[h];k&&(g+="; "+l+'="'+k+'"')}return!(J[f]||MediaSource.isTypeSupported(g)||Oc(f,b.type))||e&&b.encrypted&&0>e.indexOf(c)||d&&(b.mimeType!=d.mimeType||b.codecs.split(".")[0]!=d.codecs.split(".")[0])?!1:!0}
function od(b){var c=b.audio,d=b.video,e=c?c.codecs:null,f=d?d.codecs:null,g=[];f&&g.push(f);e&&g.push(e);var h=[];d&&h.push(d.mimeType);c&&h.push(c.mimeType);h=h[0]||null;var k=[];c&&k.push(c.kind);d&&k.push(d.kind);k=k[0]||null;var l=[];c&&l.push.apply(l,c.roles);d&&l.push.apply(l,d.roles);l=fb(l);b={id:b.id,active:!1,type:"variant",bandwidth:b.bandwidth,language:b.language,label:null,kind:k,width:null,height:null,frameRate:null,mimeType:h,codecs:g.join(", "),audioCodec:e,videoCodec:f,primary:b.primary,
roles:l,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null};d&&(b.videoId=d.id,b.width=d.width||null,b.height=d.height||null,b.frameRate=d.frameRate||null,b.videoBandwidth=d.bandwidth||null);c&&(b.audioId=c.id,b.channelsCount=c.channelsCount,b.audioBandwidth=c.bandwidth||null,b.label=c.label);return b}
function pd(b){return{id:b.id,active:!1,type:"text",bandwidth:0,language:b.language,label:b.label,kind:b.kind||null,width:null,height:null,frameRate:null,mimeType:b.mimeType,codecs:b.codecs||null,audioCodec:null,videoCodec:null,primary:b.primary,roles:b.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null}}function qd(b){var c=[],d=rd(b.variants);b=b.textStreams;d.forEach(function(b){c.push(od(b))});b.forEach(function(b){c.push(pd(b))});return c}
function sd(b,c,d){return rd(b.variants).map(function(b){var e=od(b);b.video&&b.audio?e.active=d==b.video.id&&c==b.audio.id:b.video?e.active=d==b.video.id:b.audio&&(e.active=c==b.audio.id);return e})}function td(b,c){return b.textStreams.map(function(b){var d=pd(b);d.active=c==b.id;return d})}function ud(b,c){for(var d=0;d<b.variants.length;d++)if(b.variants[d].id==c.id)return b.variants[d];return null}function vd(b){return b.allowedByApplication&&b.allowedByKeySystem}
function rd(b){return b.filter(function(b){return vd(b)})}function wd(b,c,d,e,f){b=xd(b,c,d,f);return Bd(b,e)}
function xd(b,c,d,e){var f=rd(b),g=f;b=f.filter(function(b){return b.primary});b.length&&(g=b);var h=g.length?g[0].language:"";g=g.filter(function(b){return b.language==h});if(c){var k=id(c);[hd,gd,0].forEach(function(b){var c=!1;f.forEach(function(d){k=id(k);var f=id(d.language);fd(b,k,f)&&(c?g.push(d):(g=[d],c=!0),e&&(e.audio=!0))})})}if(d&&(c=Cd(g,d),c.length))return c;c=g.map(function(b){return(b.audio?b.audio.roles:[]).concat(b.video?b.video.roles:[])}).reduce(Bb,[]);return c.length?Cd(g,c[0]):
g}function Bd(b,c){var d=b.filter(function(b){return b.audio&&b.audio.channelsCount}).reduce(function(b,c){var d=c.audio.channelsCount;b[d]?b[d].push(c):b[d]=[c];return b},{}),e=Object.keys(d);if(0==e.length)return b;var f=e.filter(function(b){return b<=c});return f.length?d[Math.max.apply(null,f)]:d[Math.min.apply(null,e)]}
function Dd(b,c,d,e){var f=b,g=b.filter(function(b){return b.primary});g.length&&(f=g);var h=f.length?f[0].language:"";f=f.filter(function(b){return b.language==h});if(c){var k=id(c);[hd,gd,0].forEach(function(c){var d=!1;b.forEach(function(b){var g=id(b.language);fd(c,k,g)&&(d?f.push(b):(f=[b],d=!0),e&&(e.text=!0))})})}if(d){if(c=Ed(f,d),c.length)return c}else if(c=f.filter(function(b){return 0==b.roles.length}),c.length)return c;c=f.map(function(b){return b.roles}).reduce(Bb,[]);return c.length?
Ed(f,c[0]):f}function Cd(b,c){return b.filter(function(b){return b.audio&&0<=b.audio.roles.indexOf(c)||b.video&&0<=b.video.roles.indexOf(c)})}function Ed(b,c){return b.filter(function(b){return 0<=b.roles.indexOf(c)})}function Fd(b,c,d){for(var e=0;e<d.length;e++)if(d[e].audio==b&&d[e].video==c)return d[e];return null}function Gd(b,c,d){function e(b,c){return null==b?null==c:c.id==b}for(var f=0;f<d.length;f++)if(e(b,d[f].audio)&&e(c,d[f].video))return d[f];return null}
function Hd(b,c){for(var d=b.periods.length-1;0<d;--d)if(c+Hb>=b.periods[d].startTime)return d;return 0}function Id(b,c){for(var d=0;d<b.periods.length;++d){var e=b.periods[d];if("text"==c.type)for(var f=0;f<e.textStreams.length;++f){if(e.textStreams[f]==c)return d}else for(f=0;f<e.variants.length;++f){var g=e.variants[f];if(g.audio==c||g.video==c||g.video&&g.video.trickModeVideo==c)return d}}return-1};function K(){this.h=null;this.f=!1;this.b=new Fa;this.c=[];this.i=!1;this.a=this.g=null}x("shaka.abr.SimpleAbrManager",K);K.prototype.stop=function(){this.h=null;this.f=!1;this.c=[];this.g=null};K.prototype.stop=K.prototype.stop;K.prototype.init=function(b){this.h=b};K.prototype.init=K.prototype.init;
K.prototype.chooseVariant=function(){var b=Jd(this.a.restrictions,this.c),c=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!b.length&&(b=Jd(null,this.c),b=[b[0]]);for(var d=b[0]||null,e=0;e<b.length;++e){var f=b[e],g=(b[e+1]||{bandwidth:Infinity}).bandwidth/this.a.bandwidthUpgradeTarget;c>=f.bandwidth/this.a.bandwidthDowngradeTarget&&c<=g&&(d=f)}this.g=Date.now();return d};K.prototype.chooseVariant=K.prototype.chooseVariant;K.prototype.enable=function(){this.f=!0};
K.prototype.enable=K.prototype.enable;K.prototype.disable=function(){this.f=!1};K.prototype.disable=K.prototype.disable;K.prototype.segmentDownloaded=function(b,c){var d=this.b;if(!(16E3>c)){var e=8E3*c/b,f=b/1E3;d.a+=c;Ca(d.b,f,e);Ca(d.c,f,e)}if(null!=this.g&&this.f)a:{if(!this.i){if(!(128E3<=this.b.a))break a;this.i=!0}else if(Date.now()-this.g<1E3*this.a.switchInterval)break a;d=this.chooseVariant();this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.h(d)}};
K.prototype.segmentDownloaded=K.prototype.segmentDownloaded;K.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)};K.prototype.getBandwidthEstimate=K.prototype.getBandwidthEstimate;K.prototype.setVariants=function(b){this.c=b};K.prototype.setVariants=K.prototype.setVariants;K.prototype.configure=function(b){this.a=b};K.prototype.configure=K.prototype.configure;
function Jd(b,c){b&&(c=c.filter(function(c){return kd(c,b,{width:Infinity,height:Infinity})}));return c.sort(function(b,c){return b.bandwidth-c.bandwidth})};function Kd(b,c){var d=L(b,c);return 1!=d.length?null:d[0]}function L(b,c){return Array.prototype.filter.call(b.childNodes,function(b){return b instanceof Element&&b.tagName==c})}function Ld(b){return Array.prototype.filter.call(b.childNodes,function(b){return b instanceof Element&&"pssh"==b.localName&&"urn:mpeg:cenc:2013"==b.namespaceURI})}function Md(b,c,d){return b.hasAttributeNS(c,d)?b.getAttributeNS(c,d):null}
function Nd(b){return Array.prototype.every.call(b.childNodes,function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?b.textContent.trim():null}function M(b,c,d,e){var f=null;b=b.getAttribute(c);null!=b&&(f=d(b));return null==f?void 0!=e?e:null:f}function Od(b){if(!b)return null;/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(b)&&(b+="Z");b=Date.parse(b);return isNaN(b)?null:Math.floor(b/1E3)}
function Pd(b){if(!b)return null;b=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(b);if(!b)return null;b=31536E3*Number(b[1]||null)+2592E3*Number(b[2]||null)+86400*Number(b[3]||null)+3600*Number(b[4]||null)+60*Number(b[5]||null)+Number(b[6]||null);return isFinite(b)?b:null}function Qd(b){var c=/([0-9]+)-([0-9]+)/.exec(b);if(!c)return null;b=Number(c[1]);if(!isFinite(b))return null;c=Number(c[2]);return isFinite(c)?{start:b,end:c}:null}
function Rd(b){b=Number(b);return 0===b%1?b:null}function Sd(b){b=Number(b);return 0===b%1&&0<b?b:null}function Td(b){b=Number(b);return 0===b%1&&0<=b?b:null}function Ud(b){var c;b=(c=b.match(/^(\d+)\/(\d+)$/))?Number(c[1]/c[2]):Number(b);return isNaN(b)?null:b};var Vd={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};
function Wd(b,c,d){b=Xd(b);var e=null,f=[],g=[],h=b.map(function(b){return b.keyId}).filter(Eb);if(h.length&&1<h.filter(Fb).length)throw new A(2,4,4010);d||(g=b.filter(function(b){return"urn:mpeg:dash:mp4protection:2011"==b.uc?(e=b.init||e,!1):!0}),g.length&&(f=Yd(e,c,g),0==f.length&&(f=[Gb("",e)])));!b.length||!d&&g.length||(f=G(Vd).filter(function(b){return"org.w3.clearkey"!=b}).map(function(b){return Gb(b,e)}));var k=h[0]||null;k&&f.forEach(function(b){b.initData.forEach(function(b){b.keyId=k})});
return{bc:k,re:e,drmInfos:f,gc:!0}}function Zd(b,c,d,e){var f=Wd(b,c,e);if(d.gc){b=1==d.drmInfos.length&&!d.drmInfos[0].keySystem;c=0==f.drmInfos.length;if(0==d.drmInfos.length||b&&!c)d.drmInfos=f.drmInfos;d.gc=!1}else if(0<f.drmInfos.length&&(d.drmInfos=d.drmInfos.filter(function(b){return f.drmInfos.some(function(c){return c.keySystem==b.keySystem})}),0==d.drmInfos.length))throw new A(2,4,4008);return f.bc||d.bc}
function Yd(b,c,d){return d.map(function(d){var e=Vd[d.uc];return e?[Gb(e,d.init||b)]:c(d.node)||[]}).reduce(Bb,[])}
function Xd(b){return b.map(function(b){var c=b.getAttribute("schemeIdUri"),e=Md(b,"urn:mpeg:cenc:2013","default_KID"),f=Ld(b).map(Nd);if(!c)return null;c=c.toLowerCase();if(e&&(e=e.replace(/-/g,"").toLowerCase(),0<=e.indexOf(" ")))throw new A(2,4,4009);var g=[];try{g=f.map(function(b){return{initDataType:"cenc",initData:Wb(b),keyId:null}})}catch(h){throw new A(2,4,4007);}return{node:b,uc:c,keyId:e,init:0<g.length?g:null}}).filter(Eb)};function $d(b,c,d,e,f){var g={RepresentationID:c,Number:d,Bandwidth:e,Time:f};return b.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(b,c,d,e){if("$$"==b)return"$";var f=g[c];if(null==f)return b;"RepresentationID"==c&&d&&(d=void 0);"Time"==c&&(f=Math.round(f));switch(e){case void 0:case "d":case "i":case "u":b=f.toString();break;case "o":b=f.toString(8);break;case "x":b=f.toString(16);break;case "X":b=f.toString(16).toUpperCase();break;default:b=f.toString()}d=
window.parseInt(d,10)||1;return Array(Math.max(0,d-b.length)+1).join("0")+b})}
function ae(b,c){var d=be(b,c,"timescale"),e=1;d&&(e=Sd(d)||1);d=be(b,c,"duration");(d=Sd(d||""))&&(d/=e);var f=be(b,c,"startNumber"),g=Number(be(b,c,"presentationTimeOffset"))||0,h=Td(f||"");if(null==f||null==h)h=1;var k=ce(b,c,"SegmentTimeline");f=null;if(k){f=e;var l=b.K.duration||Infinity;k=L(k,"S");for(var m=[],r=0,t=0;t<k.length;++t){var u=k[t],w=M(u,"t",Td),y=M(u,"d",Td);u=M(u,"r",Rd);null!=w&&(w-=g);if(!y)break;w=null!=w?w:r;u=u||0;if(0>u)if(t+1<k.length){u=M(k[t+1],"t",Td);if(null==u)break;
else if(w>=u)break;u=Math.ceil((u-w)/y)-1}else{if(Infinity==l)break;else if(w/f>=l)break;u=Math.ceil((l*f-w)/y)-1}0<m.length&&w!=r&&(m[m.length-1].end=w/f);for(var Da=0;Da<=u;++Da)r=w+y,m.push({start:w/f,end:r/f,le:w}),w=r}f=m}return{timescale:e,O:d,Ba:h,ca:g/e||0,Wb:g,G:f}}function be(b,c,d){return[c(b.s),c(b.T),c(b.aa)].filter(Eb).map(function(b){return b.getAttribute(d)}).reduce(function(b,c){return b||c})}
function ce(b,c,d){return[c(b.s),c(b.T),c(b.aa)].filter(Eb).map(function(b){return Kd(b,d)}).reduce(function(b,c){return b||c})}function de(b,c){var d=new DOMParser;try{var e=H(b);var f=d.parseFromString(e,"text/xml")}catch(h){}if(f&&f.documentElement.tagName==c)var g=f.documentElement;return g&&0<g.getElementsByTagName("parsererror").length?null:g}
function ee(b,c,d,e,f,g){for(var h=Md(b,"http://www.w3.org/1999/xlink","href"),k=Md(b,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=0;l<b.attributes.length;l++){var m=b.attributes[l];"http://www.w3.org/1999/xlink"==m.namespaceURI&&(b.removeAttributeNS(m.namespaceURI,m.localName),--l)}if(5<=g)return $a(new A(2,4,4028));if("onLoad"!=k)return $a(new A(2,4,4027));var r=F([e],[h]);return f.request(0,qb(r,c)).U(function(e){e=de(e.data,b.tagName);if(!e)return $a(new A(2,4,4001,h));for(;b.childNodes.length;)b.removeChild(b.childNodes[0]);
for(;e.childNodes.length;){var k=e.childNodes[0];e.removeChild(k);b.appendChild(k)}for(k=0;k<e.attributes.length;k++){var l=e.attributes[k].nodeName,m=e.getAttribute(l);b.setAttribute(l,m)}return fe(b,c,d,r[0],f,g+1)})}
function fe(b,c,d,e,f,g){g=g||0;if(Md(b,"http://www.w3.org/1999/xlink","href")){var h=ee(b,c,d,e,f,g);d&&(h=h.U(void 0,function(){return fe(b,c,d,e,f,g)}));return h}for(h=0;h<b.childNodes.length;h++){var k=b.childNodes[h];k instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==Md(k,"http://www.w3.org/1999/xlink","href")&&(b.removeChild(k),--h)}h=[];for(k=0;k<b.childNodes.length;k++){var l=b.childNodes[k];l.nodeType==Node.ELEMENT_NODE&&h.push(fe(l,c,d,e,f,g))}return db(h).U(function(){return b})}
;function N(b,c,d){this.c=b;this.b=c;this.a=d}x("shaka.media.InitSegmentReference",N);N.prototype.xb=function(){return this.c()};N.prototype.createUris=N.prototype.xb;N.prototype.Cb=function(){return this.b};N.prototype.getStartByte=N.prototype.Cb;N.prototype.Bb=function(){return this.a};N.prototype.getEndByte=N.prototype.Bb;function O(b,c,d,e,f,g){this.position=b;this.startTime=c;this.endTime=d;this.c=e;this.b=f;this.a=g}x("shaka.media.SegmentReference",O);O.prototype.S=function(){return this.position};
O.prototype.getPosition=O.prototype.S;O.prototype.Db=function(){return this.startTime};O.prototype.getStartTime=O.prototype.Db;O.prototype.Oc=function(){return this.endTime};O.prototype.getEndTime=O.prototype.Oc;O.prototype.xb=function(){return this.c()};O.prototype.createUris=O.prototype.xb;O.prototype.Cb=function(){return this.b};O.prototype.getStartByte=O.prototype.Cb;O.prototype.Bb=function(){return this.a};O.prototype.getEndByte=O.prototype.Bb;function P(b,c){this.D=b;this.b=c==ge;this.a=0}x("shaka.util.DataViewReader",P);var ge=1;P.Endianness={oe:0,pe:ge};P.prototype.fa=function(){return this.a<this.D.byteLength};P.prototype.hasMoreData=P.prototype.fa;P.prototype.S=function(){return this.a};P.prototype.getPosition=P.prototype.S;P.prototype.Pc=function(){return this.D.byteLength};P.prototype.getLength=P.prototype.Pc;P.prototype.ba=function(){try{var b=this.D.getUint8(this.a);this.a+=1;return b}catch(c){he()}};P.prototype.readUint8=P.prototype.ba;
P.prototype.$a=function(){try{var b=this.D.getUint16(this.a,this.b);this.a+=2;return b}catch(c){he()}};P.prototype.readUint16=P.prototype.$a;P.prototype.A=function(){try{var b=this.D.getUint32(this.a,this.b);this.a+=4;return b}catch(c){he()}};P.prototype.readUint32=P.prototype.A;P.prototype.qc=function(){try{var b=this.D.getInt32(this.a,this.b);this.a+=4;return b}catch(c){he()}};P.prototype.readInt32=P.prototype.qc;
P.prototype.Pa=function(){try{if(this.b){var b=this.D.getUint32(this.a,!0);var c=this.D.getUint32(this.a+4,!0)}else c=this.D.getUint32(this.a,!1),b=this.D.getUint32(this.a+4,!1)}catch(d){he()}if(2097151<c)throw new A(2,3,3001);this.a+=8;return c*Math.pow(2,32)+b};P.prototype.readUint64=P.prototype.Pa;P.prototype.Aa=function(b){this.a+b>this.D.byteLength&&he();var c=new Uint8Array(this.D.buffer,this.D.byteOffset+this.a,b);this.a+=b;return new Uint8Array(c)};P.prototype.readBytes=P.prototype.Aa;
P.prototype.F=function(b){this.a+b>this.D.byteLength&&he();this.a+=b};P.prototype.skip=P.prototype.F;P.prototype.tc=function(b){this.a<b&&he();this.a-=b};P.prototype.rewind=P.prototype.tc;P.prototype.seek=function(b){(0>b||b>this.D.byteLength)&&he();this.a=b};P.prototype.seek=P.prototype.seek;P.prototype.Nb=function(){for(var b=this.a;this.fa()&&0!=this.D.getUint8(this.a);)this.a+=1;b=new Uint8Array(this.D.buffer,this.D.byteOffset+b,this.a-b);this.a+=1;return H(b)};
P.prototype.readTerminatedString=P.prototype.Nb;function he(){throw new A(2,3,3E3);};function Q(){this.c=[];this.b=[];this.a=!1}x("shaka.util.Mp4Parser",Q);Q.prototype.C=function(b,c){var d=ie(b);this.c[d]=0;this.b[d]=c;return this};Q.prototype.box=Q.prototype.C;Q.prototype.X=function(b,c){var d=ie(b);this.c[d]=1;this.b[d]=c;return this};Q.prototype.fullBox=Q.prototype.X;Q.prototype.stop=function(){this.a=!0};Q.prototype.stop=Q.prototype.stop;
Q.prototype.parse=function(b,c){var d=new Uint8Array(b);d=new P(new DataView(d.buffer,d.byteOffset,d.byteLength),0);for(this.a=!1;d.fa()&&!this.a;)this.sb(0,d,c)};Q.prototype.parse=Q.prototype.parse;
Q.prototype.sb=function(b,c,d){var e=c.S(),f=c.A(),g=c.A();switch(f){case 0:f=c.D.byteLength-e;break;case 1:f=c.Pa()}var h=this.b[g];if(h){var k=null,l=null;1==this.c[g]&&(l=c.A(),k=l>>>24,l&=16777215);g=e+f;d&&g>c.D.byteLength&&(g=c.D.byteLength);g-=c.S();c=0<g?c.Aa(g):new Uint8Array(0);c=new P(new DataView(c.buffer,c.byteOffset,c.byteLength),0);h({parser:this,partialOkay:d||!1,version:k,flags:l,reader:c,size:f,start:e+b})}else c.F(Math.min(e+f-c.S(),c.D.byteLength-c.S()))};
Q.prototype.parseNext=Q.prototype.sb;function R(b){for(;b.reader.fa()&&!b.parser.a;)b.parser.sb(b.start,b.reader,b.partialOkay)}Q.children=R;function je(b){for(var c=b.reader.A();0<c&&!b.parser.a;--c)b.parser.sb(b.start,b.reader,b.partialOkay)}Q.sampleDescription=je;function ke(b){return function(c){b(c.reader.Aa(c.reader.D.byteLength-c.reader.S()))}}Q.allData=ke;function ie(b){for(var c=0,d=0;d<b.length;d++)c=c<<8|b.charCodeAt(d);return c}
function le(b){return String.fromCharCode(b>>24&255,b>>16&255,b>>8&255,b&255)}Q.typeToString=le;function me(b,c,d,e){var f,g=(new Q).X("sidx",function(b){f=ne(c,e,d,b)});b&&g.parse(b);if(f)return f;throw new A(2,3,3004);}
function ne(b,c,d,e){var f=[];e.reader.F(4);var g=e.reader.A();if(0==g)throw new A(2,3,3005);if(0==e.version){var h=e.reader.A();var k=e.reader.A()}else h=e.reader.Pa(),k=e.reader.Pa();e.reader.F(2);var l=e.reader.$a();b=b+e.size+k;for(k=0;k<l;k++){var m=e.reader.A(),r=(m&2147483648)>>>31;m&=2147483647;var t=e.reader.A();e.reader.F(4);if(1==r)throw new A(2,3,3006);f.push(new O(f.length,h/g-c,(h+t)/g-c,function(){return d},b,b+m-1));h+=t;b+=m}e.parser.stop();return f};function S(b){this.a=b}x("shaka.media.SegmentIndex",S);S.prototype.destroy=function(){this.a=null;return Promise.resolve()};S.prototype.destroy=S.prototype.destroy;S.prototype.find=function(b){for(var c=this.a.length-1;0<=c;--c){var d=this.a[c];if(b>=d.startTime&&b<d.endTime)return d.position}return this.a.length&&b<this.a[0].startTime?this.a[0].position:null};S.prototype.find=S.prototype.find;
S.prototype.get=function(b){if(0==this.a.length)return null;b-=this.a[0].position;return 0>b||b>=this.a.length?null:this.a[b]};S.prototype.get=S.prototype.get;S.prototype.offset=function(b){for(var c=0;c<this.a.length;++c)this.a[c].startTime+=b,this.a[c].endTime+=b};S.prototype.offset=S.prototype.offset;
S.prototype.Ib=function(b){for(var c=[],d=0,e=0;d<this.a.length&&e<b.length;){var f=this.a[d],g=b[e];f.startTime<g.startTime?(c.push(f),d++):(f.startTime>g.startTime?0==d&&c.push(g):(.1<Math.abs(f.endTime-g.endTime)?c.push(new O(f.position,g.startTime,g.endTime,g.c,g.b,g.a)):c.push(f),d++),e++)}for(;d<this.a.length;)c.push(this.a[d++]);if(c.length)for(d=c[c.length-1].position+1;e<b.length;)f=b[e++],f=new O(d++,f.startTime,f.endTime,f.c,f.b,f.a),c.push(f);else c=b;this.a=c};S.prototype.merge=S.prototype.Ib;
S.prototype.zb=function(b){for(var c=0;c<this.a.length;++c)if(this.a[c].endTime>b){this.a.splice(0,c);return}this.a=[]};S.prototype.evict=S.prototype.zb;function oe(b,c){for(;b.a.length;)if(b.a[b.a.length-1].startTime>=c)b.a.pop();else break;for(;b.a.length;)if(0>=b.a[0].endTime)b.a.shift();else break;if(0!=b.a.length){var d=b.a[b.a.length-1];b.a[b.a.length-1]=new O(d.position,d.startTime,c,d.c,d.b,d.a)}};function pe(b){this.b=b;this.a=new P(b,0);qe||(qe=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}var qe;pe.prototype.fa=function(){return this.a.fa()};
function re(b){var c=se(b);if(7<c.length)throw new A(2,3,3002);for(var d=0,e=0;e<c.length;e++)d=256*d+c[e];c=d;d=se(b);a:{for(e=0;e<qe.length;e++)if(Zb(d,qe[e])){e=!0;break a}e=!1}if(e)d=b.b.byteLength-b.a.S();else{if(8==d.length&&d[1]&224)throw new A(2,3,3001);e=d[0]&(1<<8-d.length)-1;for(var f=1;f<d.length;f++)e=256*e+d[f];d=e}d=b.a.S()+d<=b.b.byteLength?d:b.b.byteLength-b.a.S();e=new DataView(b.b.buffer,b.b.byteOffset+b.a.S(),d);b.a.F(d);return new te(c,e)}
function se(b){var c=b.a.ba(),d;for(d=1;8>=d&&!(c&1<<8-d);d++);if(8<d)throw new A(2,3,3002);var e=new Uint8Array(d);e[0]=c;for(c=1;c<d;c++)e[c]=b.a.ba();return e}function te(b,c){this.id=b;this.a=c}function ue(b){if(8<b.a.byteLength)throw new A(2,3,3002);if(8==b.a.byteLength&&b.a.getUint8(0)&224)throw new A(2,3,3001);for(var c=0,d=0;d<b.a.byteLength;d++){var e=b.a.getUint8(d);c=256*c+e}return c};function ve(){}
ve.prototype.parse=function(b,c,d,e){var f;c=new pe(new DataView(c));if(440786851!=re(c).id)throw new A(2,3,3008);var g=re(c);if(408125543!=g.id)throw new A(2,3,3009);c=g.a.byteOffset;g=new pe(g.a);for(f=null;g.fa();){var h=re(g);if(357149030==h.id){f=h;break}}if(!f)throw new A(2,3,3010);g=new pe(f.a);f=1E6;for(h=null;g.fa();){var k=re(g);if(2807729==k.id)f=ue(k);else if(17545==k.id)if(h=k,4==h.a.byteLength)h=h.a.getFloat32(0);else if(8==h.a.byteLength)h=h.a.getFloat64(0);else throw new A(2,3,3003);
}if(null==h)throw new A(2,3,3011);g=f/1E9;f=h*g;b=re(new pe(new DataView(b)));if(475249515!=b.id)throw new A(2,3,3007);return we(b,c,g,f,d,e)};function we(b,c,d,e,f,g){function h(){return f}var k=[];b=new pe(b.a);for(var l=null,m=null;b.fa();){var r=re(b);if(187==r.id){var t=xe(r);t&&(r=d*t.me,t=c+t.Md,null!=l&&k.push(new O(k.length,l-g,r-g,h,m,t-1)),l=r,m=t)}}null!=l&&k.push(new O(k.length,l-g,e-g,h,m,null));return k}
function xe(b){var c=new pe(b.a);b=re(c);if(179!=b.id)throw new A(2,3,3013);b=ue(b);c=re(c);if(183!=c.id)throw new A(2,3,3012);c=new pe(c.a);for(var d=0;c.fa();){var e=re(c);if(241==e.id){d=ue(e);break}}return{me:b,Md:d}};function ye(b,c){var d=ce(b,c,"Initialization");if(!d)return null;var e=b.s.da,f=d.getAttribute("sourceURL");f&&(e=F(b.s.da,[f]));f=0;var g=null;if(d=M(d,"range",Qd))f=d.start,g=d.end;return new N(function(){return e},f,g)}
function ze(b,c){var d=Number(be(b,Ae,"presentationTimeOffset"))||0,e=be(b,Ae,"timescale"),f=1;e&&(f=Sd(e)||1);d=d/f||0;e=ye(b,Ae);var g=b.s.contentType;f=b.s.mimeType.split("/")[1];if("text"!=g&&"mp4"!=f&&"webm"!=f)throw new A(2,4,4006);if("webm"==f&&!e)throw new A(2,4,4005);g=ce(b,Ae,"RepresentationIndex");var h=be(b,Ae,"indexRange"),k=b.s.da;h=Qd(h||"");if(g){var l=g.getAttribute("sourceURL");l&&(k=F(b.s.da,[l]));h=M(g,"range",Qd,h)}if(!h)throw new A(2,4,4002);f=Be(b,c,e,k,h.start,h.end,f,d);return{createSegmentIndex:f.createSegmentIndex,
findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,initSegmentReference:e,ca:d}}
function Be(b,c,d,e,f,g,h,k){var l=b.presentationTimeline,m=!b.Fa||!b.K.Eb,r=b.K.index,t=b.K.duration,u=c,w=null;return{createSegmentIndex:function(){var b=[u(e,f,g),"webm"==h?u(d.c(),d.b,d.a):null];u=null;return Promise.all(b).then(function(b){var c=b[0];b=b[1]||null;c="mp4"==h?me(c,f,e,k):(new ve).parse(c,b,e,k);l.La(c,0==r);w=new S(c);m&&oe(w,t)})},findSegmentPosition:function(b){return w.find(b)},getSegmentReference:function(b){return w.get(b)}}}function Ae(b){return b.ab};function Ce(b,c){var d=ye(b,De);var e=Ee(b);var f=ae(b,De),g=f.Ba;0==g&&(g=1);var h=0;f.O?h=f.O*(g-1):f.G&&0<f.G.length&&(h=f.G[0].start);e={O:f.O,startTime:h,Ba:g,ca:f.ca,G:f.G,Ja:e};if(!e.O&&!e.G&&1<e.Ja.length)throw new A(2,4,4002);if(!e.O&&!b.K.duration&&!e.G&&1==e.Ja.length)throw new A(2,4,4002);if(e.G&&0==e.G.length)throw new A(2,4,4002);g=f=null;b.aa.id&&b.s.id&&(g=b.aa.id+","+b.s.id,f=c[g]);h=Fe(b.K.duration,e.Ba,b.s.da,e);f?(f.Ib(h),f.zb(b.presentationTimeline.Wa()-b.K.start)):(b.presentationTimeline.La(h,
0==b.K.index),f=new S(h),g&&b.Fa&&(c[g]=f));b.Fa&&b.K.Eb||oe(f,b.K.duration);return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:f.find.bind(f),getSegmentReference:f.get.bind(f),initSegmentReference:d,ca:e.ca}}function De(b){return b.qa}
function Fe(b,c,d,e){var f=e.Ja.length;e.G&&e.G.length!=e.Ja.length&&(f=Math.min(e.G.length,e.Ja.length));for(var g=[],h=e.startTime,k=0;k<f;k++){var l=e.Ja[k],m=F(d,[l.ed]),r=void 0;r=null!=e.O?h+e.O:e.G?e.G[k].end:h+b;g.push(new O(k+c,h,r,function(b){return b}.bind(null,m),l.start,l.end));h=r}return g}
function Ee(b){return[b.s.qa,b.T.qa,b.aa.qa].filter(Eb).map(function(b){return L(b,"SegmentURL")}).reduce(function(b,d){return 0<b.length?b:d}).map(function(c){c.getAttribute("indexRange")&&!b.ic&&(b.ic=!0);var d=c.getAttribute("media");c=M(c,"mediaRange",Qd,{start:0,end:null});return{ed:d,start:c.start,end:c.end}})};function Ge(b,c,d,e){var f=He(b);var g=ae(b,Ie);var h=be(b,Ie,"media"),k=be(b,Ie,"index");g={O:g.O,timescale:g.timescale,Ba:g.Ba,ca:g.ca,Wb:g.Wb,G:g.G,Hb:h,Ya:k};h=g.Ya?1:0;h+=g.G?1:0;h+=g.O?1:0;if(0==h)throw new A(2,4,4002);1!=h&&(g.Ya&&(g.G=null),g.O=null);if(!g.Ya&&!g.Hb)throw new A(2,4,4002);if(g.Ya){d=b.s.mimeType.split("/")[1];if("mp4"!=d&&"webm"!=d)throw new A(2,4,4006);if("webm"==d&&!f)throw new A(2,4,4005);e=$d(g.Ya,b.s.id,null,b.bandwidth||null,null);e=F(b.s.da,[e]);b=Be(b,c,f,e,0,null,
d,g.ca)}else g.O?(e||b.presentationTimeline.Kb(g.O),b=Je(b,g)):(e=c=null,b.aa.id&&b.s.id&&(e=b.aa.id+","+b.s.id,c=d[e]),h=Ke(b,g),k=!b.Fa||!b.K.Eb,c?(k&&oe(new S(h),b.K.duration),c.Ib(h),c.zb(b.presentationTimeline.Wa()-b.K.start)):(b.presentationTimeline.La(h,0==b.K.index),c=new S(h),e&&b.Fa&&(d[e]=c)),k&&oe(c,b.K.duration),b={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:c.find.bind(c),getSegmentReference:c.get.bind(c)});return{createSegmentIndex:b.createSegmentIndex,findSegmentPosition:b.findSegmentPosition,
getSegmentReference:b.getSegmentReference,initSegmentReference:f,ca:g.ca}}function Ie(b){return b.cb}
function Je(b,c){var d=b.K.duration,e=c.O,f=c.Ba,g=c.timescale,h=c.Hb,k=b.bandwidth||null,l=b.s.id,m=b.s.da;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(b){return 0>b||d&&b>=d?null:Math.floor(b/e)},getSegmentReference:function(b){var c=b*e,r=c+e;d&&(r=Math.min(r,d));return 0>r||d&&c>=d?null:new O(b,c,r,function(){var d=$d(h,l,b+f,k,c*g);return F(m,[d])},0,null)}}}
function Ke(b,c){for(var d=[],e=0;e<c.G.length;e++){var f=e+c.Ba;d.push(new O(f,c.G[e].start,c.G[e].end,function(b,c,d,e,f,r){b=$d(b,c,f,d,r);return F(e,[b]).map(function(b){return b.toString()})}.bind(null,c.Hb,b.s.id,b.bandwidth||null,b.s.da,f,c.G[e].le+c.Wb),0,null))}return d}function He(b){var c=be(b,Ie,"initialization");if(!c)return null;var d=b.s.id,e=b.bandwidth||null,f=b.s.da;return new N(function(){var b=$d(c,d,null,e,null);return F(f,[b])},0,null)};var Le={},Me={};x("shaka.media.ManifestParser.registerParserByExtension",function(b,c){Me[b]=c});x("shaka.media.ManifestParser.registerParserByMime",function(b,c){Le[b]=c});function Ne(){var b={},c;for(c in Le)b[c]=!0;for(var d in Me)b[d]=!0;["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(c){b[c]=!!Le[c]});["mpd","m3u8","ism"].forEach(function(c){b[c]=!!Me[c]});return b}
function Oe(b,c,d,e){var f=e;f||(e=(new Ia(b)).$.split("/").pop().split("."),1<e.length&&(e=e.pop().toLowerCase(),f=Me[e]));if(f)return Promise.resolve(f);d=qb([b],d);d.method="HEAD";return c.request(0,d).promise.then(function(c){(c=c.headers["content-type"])&&(c=c.toLowerCase());return(f=Le[c])?f:Promise.reject(new A(2,4,4E3,b))},function(b){b.severity=2;return Promise.reject(b)})};function T(b,c){this.f=b;this.l=c;this.c=this.b=Infinity;this.a=1;this.j=this.h=0;this.i=!0;this.g=0}x("shaka.media.PresentationTimeline",T);T.prototype.R=function(){return this.b};T.prototype.getDuration=T.prototype.R;T.prototype.ia=function(b){this.b=b};T.prototype.setDuration=T.prototype.ia;T.prototype.Vc=function(){return this.f};T.prototype.getPresentationStartTime=T.prototype.Vc;T.prototype.vc=function(b){this.j=b};T.prototype.setClockOffset=T.prototype.vc;
T.prototype.tb=function(b){this.i=b};T.prototype.setStatic=T.prototype.tb;T.prototype.Qb=function(b){this.c=b};T.prototype.setSegmentAvailabilityDuration=T.prototype.Qb;T.prototype.wc=function(b){this.l=b};T.prototype.setDelay=T.prototype.wc;T.prototype.La=function(b,c){0!=b.length&&(c&&(this.h=Math.max(this.h,b[0].startTime)),this.a=b.reduce(function(b,c){return Math.max(b,c.endTime-c.startTime)},this.a))};T.prototype.notifySegments=T.prototype.La;
T.prototype.Kb=function(b){this.a=Math.max(this.a,b)};T.prototype.notifyMaxSegmentDuration=T.prototype.Kb;T.prototype.Y=function(){return Infinity==this.b&&!this.i};T.prototype.isLive=T.prototype.Y;T.prototype.xa=function(){return Infinity!=this.b&&!this.i};T.prototype.isInProgress=T.prototype.xa;T.prototype.Wa=function(){return Infinity==this.c?this.g:Math.max(this.g,this.Ha()-this.c)};T.prototype.getSegmentAvailabilityStart=T.prototype.Wa;T.prototype.xc=function(b){this.g=b};
T.prototype.setUserSeekStart=T.prototype.xc;T.prototype.Ha=function(){return this.Y()||this.xa()?Math.min(Math.max(0,(Date.now()+this.j)/1E3-this.a-this.f),this.b):this.b};T.prototype.getSegmentAvailabilityEnd=T.prototype.Ha;T.prototype.Va=function(b){var c=Math.max(this.h,this.g);return Infinity==this.c?c:Math.max(c,Math.min(this.Ha()-this.c+b,this.ka()))};T.prototype.getSafeSeekRangeStart=T.prototype.Va;T.prototype.Ga=function(){return this.Va(0)};T.prototype.getSeekRangeStart=T.prototype.Ga;
T.prototype.ka=function(){return Math.max(0,this.Ha()-(this.Y()||this.xa()?this.l:0))};T.prototype.getSeekRangeEnd=T.prototype.ka;function Pe(){this.a=this.b=null;this.h=[];this.c=null;this.j=[];this.i=1;this.l={};this.m=0;this.o=new Ba(5);this.g=null;this.f=new mb}x("shaka.dash.DashParser",Pe);n=Pe.prototype;n.configure=function(b){this.b=b};n.start=function(b,c){this.h=[b];this.a=c;return Qe(this).then(function(b){this.a&&Re(this,b);return this.c}.bind(this))};n.stop=function(){this.b=this.a=null;this.h=[];this.c=null;this.j=[];this.l={};null!=this.g&&(window.clearTimeout(this.g),this.g=null);return this.f.destroy()};
n.update=function(){Qe(this)["catch"](function(b){if(this.a)this.a.onError(b)}.bind(this))};n.onExpirationUpdated=function(){};function Qe(b){var c=Date.now(),d=b.a.networkingEngine.request(0,qb(b.h,b.b.retryParameters));nb(b.f,d);return d.promise.then(function(c){if(b.a)return Se(b,c.data,c.uri)}).then(function(){var d=(Date.now()-c)/1E3;Ca(b.o,1,d);return d})}
function Se(b,c,d){c=de(c,"MPD");if(!c)throw new A(2,4,4001,d);c=fe(c,b.b.retryParameters,b.b.dash.xlinkFailGracefully,d,b.a.networkingEngine);nb(b.f,c);return c.promise.then(function(c){return Te(b,c,d)})}
function Te(b,c,d){d=[d];var e=L(c,"Location").map(Nd).filter(Eb);0<e.length&&(d=b.h=e);e=L(c,"BaseURL").map(Nd);d=F(d,e);var f=M(c,"minBufferTime",Pd);b.m=M(c,"minimumUpdatePeriod",Pd,-1);var g=M(c,"availabilityStartTime",Od);e=M(c,"timeShiftBufferDepth",Pd);var h=M(c,"suggestedPresentationDelay",Pd),k=M(c,"maxSegmentDuration",Pd),l=c.getAttribute("type")||"static";if(b.c)var m=b.c.presentationTimeline;else{var r=Math.max(b.b.dash.defaultPresentationDelay,1.5*f);m=new T(g,null!=h?h:r)}g=Ue(b,{Fa:"static"!=
l,presentationTimeline:m,aa:null,K:null,T:null,s:null,bandwidth:0,ic:!1},d,c);h=g.duration;var t=g.periods;m.tb("static"==l);"static"!=l&&g.cc||m.ia(h||Infinity);(l=m.Y())&&!isNaN(b.b.availabilityWindowOverride)&&(e=b.b.availabilityWindowOverride);null==e&&(e=Infinity);m.Qb(e);m.Kb(k||1);if(b.c)return Promise.resolve();c=L(c,"UTCTiming");return Ve(b,d,c,l).then(function(b){this.a&&(m.vc(b),this.c={presentationTimeline:m,periods:t,offlineSessionIds:[],minBufferTime:f||0})}.bind(b))}
function Ue(b,c,d,e){var f=M(e,"mediaPresentationDuration",Pd),g=[],h=0;e=L(e,"Period");for(var k=0;k<e.length;k++){var l=e[k];h=M(l,"start",Pd,h);var m=M(l,"duration",Pd),r=null;if(k!=e.length-1){var t=M(e[k+1],"start",Pd);null!=t&&(r=t-h)}else null!=f&&(r=f-h);null==r&&(r=m);l=We(b,c,d,{start:h,duration:r,node:l,index:k,Eb:null==r||k==e.length-1});g.push(l);m=c.aa.id;-1==b.j.indexOf(m)&&(b.j.push(m),b.c&&(b.a.filterNewPeriod(l),b.c.periods.push(l)));if(null==r){h=null;break}h+=r}null==b.c&&b.a.filterAllPeriods(g);
return null!=f?{periods:g,duration:f,cc:!1}:{periods:g,duration:h,cc:!0}}
function We(b,c,d,e){c.aa=Xe(e.node,null,d);c.K=e;c.aa.id||(c.aa.id="__shaka_period_"+e.start);L(e.node,"EventStream").forEach(b.Fd.bind(b,e.start,e.duration));d=L(e.node,"AdaptationSet").map(b.Dd.bind(b,c)).filter(Eb);var f=d.map(function(b){return b.Nd}).reduce(Bb,[]),g=f.filter(Fb);if(c.Fa&&f.length!=g.length)throw new A(2,4,4018);var h=d.filter(function(b){return!b.Ub});d.filter(function(b){return b.Ub}).forEach(function(b){var c=b.streams[0],d=b.Ub;h.forEach(function(b){b.id==d&&b.streams.forEach(function(b){b.trickModeVideo=
c})})});d=Ye(h,"video");f=Ye(h,"audio");if(!d.length&&!f.length)throw new A(2,4,4004);f.length||(f=[null]);d.length||(d=[null]);c=[];for(g=0;g<f.length;g++)for(var k=0;k<d.length;k++)Ze(b,f[g],d[k],c);b=Ye(h,"text");d=[];for(f=0;f<b.length;f++)d.push.apply(d,b[f].streams);return{startTime:e.start,textStreams:d,variants:c}}function Ye(b,c){return b.filter(function(b){return b.contentType==c})}
function Ze(b,c,d,e){if(c||d)if(c&&d){var f=c.drmInfos;var g=d.drmInfos;if(f.length&&g.length?0<tc(f,g).length:1){g=tc(c.drmInfos,d.drmInfos);for(var h=0;h<c.streams.length;h++)for(var k=0;k<d.streams.length;k++)f=(d.streams[k].bandwidth||0)+(c.streams[h].bandwidth||0),f={id:b.i++,language:c.language,primary:c.Gb||d.Gb,audio:c.streams[h],video:d.streams[k],bandwidth:f,drmInfos:g,allowedByApplication:!0,allowedByKeySystem:!0},e.push(f)}}else for(g=c||d,h=0;h<g.streams.length;h++)f=g.streams[h].bandwidth||
0,f={id:b.i++,language:g.language||"und",primary:g.Gb,audio:c?g.streams[h]:null,video:d?g.streams[h]:null,bandwidth:f,drmInfos:g.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},e.push(f)}
n.Dd=function(b,c){b.T=Xe(c,b.aa,null);var d=!1,e=L(c,"Role"),f=e.map(function(b){return b.getAttribute("value")}).filter(Eb),g=void 0,h="text"==b.T.contentType;h&&(g="subtitle");for(var k=0;k<e.length;k++){var l=e[k].getAttribute("schemeIdUri");if(null==l||"urn:mpeg:dash:role:2011"==l)switch(l=e[k].getAttribute("value"),l){case "main":d=!0;break;case "caption":case "subtitle":g=l}}var m=null,r=!1;L(c,"EssentialProperty").forEach(function(b){"http://dashif.org/guidelines/trickmode"==b.getAttribute("schemeIdUri")?
m=b.getAttribute("value"):r=!0});if(r)return null;e=L(c,"ContentProtection");var t=Wd(e,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);e=id(c.getAttribute("lang")||"und");l=c.getAttribute("label");k=L(c,"Representation");f=k.map(this.Gd.bind(this,b,t,g,e,l,d,f)).filter(function(b){return!!b});if(0==f.length){if(h)return null;throw new A(2,4,4003);}b.T.contentType&&"application"!=b.T.contentType||(b.T.contentType=$e(f[0].mimeType,f[0].codecs),f.forEach(function(c){c.type=b.T.contentType}));f.forEach(function(b){t.drmInfos.forEach(function(c){b.keyId&&
c.keyIds.push(b.keyId)})});h=k.map(function(b){return b.getAttribute("id")}).filter(Eb);return{id:b.T.id||"__fake__"+this.i++,contentType:b.T.contentType,language:e,Gb:d,streams:f,drmInfos:t.drmInfos,Ub:m,Nd:h}};
n.Gd=function(b,c,d,e,f,g,h,k){b.s=Xe(k,b.T,null);if(!af(b.s))return null;b.bandwidth=M(k,"bandwidth",Sd)||0;var l=b.s.contentType;l="text"==l||"application"==l;try{var m=this.Od.bind(this);if(b.s.ab)var r=ze(b,m);else if(b.s.qa)r=Ce(b,this.l);else if(b.s.cb)r=Ge(b,m,this.l,!!this.c);else{var t=b.s.da,u=b.K.duration||0;r={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(b){return 0<=b&&b<u?1:null},getSegmentReference:function(b){return 1!=b?null:new O(1,0,u,function(){return t},
0,null)},initSegmentReference:null,ca:0}}}catch(w){if(l&&4002==w.code)return null;throw w;}k=L(k,"ContentProtection");k=Zd(k,this.b.dash.customScheme,c,this.b.dash.ignoreDrmInfo);return{id:this.i++,createSegmentIndex:r.createSegmentIndex,findSegmentPosition:r.findSegmentPosition,getSegmentReference:r.getSegmentReference,initSegmentReference:r.initSegmentReference,presentationTimeOffset:r.ca,mimeType:b.s.mimeType,codecs:b.s.codecs,frameRate:b.s.frameRate,bandwidth:b.bandwidth,width:b.s.width,height:b.s.height,
kind:d,encrypted:0<c.drmInfos.length,keyId:k,language:e,label:f,type:b.T.contentType,primary:g,trickModeVideo:null,containsEmsgBoxes:b.s.containsEmsgBoxes,roles:h,channelsCount:b.s.Lb}};n.fe=function(){this.g=null;Qe(this).then(function(b){this.a&&Re(this,b)}.bind(this))["catch"](function(b){this.a&&(b.severity=1,this.a.onError(b),Re(this,0))}.bind(this))};function Re(b,c){0>b.m||(b.g=window.setTimeout(b.fe.bind(b),1E3*Math.max(3,b.m-c,Ea(b.o))))}
function Xe(b,c,d){c=c||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Lb:null};d=d||c.da;var e=L(b,"BaseURL").map(Nd),f=b.getAttribute("contentType")||c.contentType,g=b.getAttribute("mimeType")||c.mimeType,h=b.getAttribute("codecs")||c.codecs,k=M(b,"frameRate",Ud)||c.frameRate,l=!!L(b,"InbandEventStream").length,m=L(b,"AudioChannelConfiguration");m=bf(m)||c.Lb;f||(f=$e(g,h));return{da:F(d,e),ab:Kd(b,"SegmentBase")||c.ab,qa:Kd(b,"SegmentList")||c.qa,cb:Kd(b,"SegmentTemplate")||
c.cb,width:M(b,"width",Td)||c.width,height:M(b,"height",Td)||c.height,contentType:f,mimeType:g,codecs:h,frameRate:k,containsEmsgBoxes:l||c.containsEmsgBoxes,id:b.getAttribute("id"),Lb:m}}
function bf(b){for(var c=0;c<b.length;++c){var d=b[c],e=d.getAttribute("schemeIdUri");if(e&&(d=d.getAttribute("value")))switch(e){case "urn:mpeg:dash:outputChannelPositionList:2012":return d.trim().split(/ +/).length;case "urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case "urn:dts:dash:audio_channel_configuration:2012":e=parseInt(d,10);if(!e)continue;return e;case "tag:dolby.com,2014:dash:audio_channel_configuration:2011":case "urn:dolby:dash:audio_channel_configuration:2011":if(e=parseInt(d,
16)){for(b=0;e;)e&1&&++b,e>>=1;return b}}}return null}function af(b){var c=b.ab?1:0;c+=b.qa?1:0;c+=b.cb?1:0;if(0==c)return"text"==b.contentType||"application"==b.contentType?!0:!1;1!=c&&(b.ab&&(b.qa=null),b.cb=null);return!0}
function cf(b,c,d,e){c=F(c,[d]);c=qb(c,b.b.retryParameters);c.method=e;c=b.a.networkingEngine.request(0,c);nb(b.f,c);return c.promise.then(function(b){if("HEAD"==e){if(!b.headers||!b.headers.date)return 0;b=b.headers.date}else b=H(b.data);b=Date.parse(b);return isNaN(b)?0:b-Date.now()})}
function Ve(b,c,d,e){d=d.map(function(b){return{scheme:b.getAttribute("schemeIdUri"),value:b.getAttribute("value")}});var f=b.b.dash.clockSyncUri;e&&!d.length&&f&&d.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:f});return Ab(d,function(b){var d=b.value;switch(b.scheme){case "urn:mpeg:dash:utc:http-head:2014":case "urn:mpeg:dash:utc:http-head:2012":return cf(this,c,d,"HEAD");case "urn:mpeg:dash:utc:http-xsdate:2014":case "urn:mpeg:dash:utc:http-iso:2014":case "urn:mpeg:dash:utc:http-xsdate:2012":case "urn:mpeg:dash:utc:http-iso:2012":return cf(this,
c,d,"GET");case "urn:mpeg:dash:utc:direct:2014":case "urn:mpeg:dash:utc:direct:2012":return b=Date.parse(d),isNaN(b)?0:b-Date.now();case "urn:mpeg:dash:utc:http-ntp:2014":case "urn:mpeg:dash:utc:ntp:2014":case "urn:mpeg:dash:utc:sntp:2014":return Promise.reject();default:return Promise.reject()}}.bind(b))["catch"](function(){return 0})}
n.Fd=function(b,c,d){var e=d.getAttribute("schemeIdUri")||"",f=d.getAttribute("value")||"",g=M(d,"timescale",Td)||1;L(d,"Event").forEach(function(d){var h=M(d,"presentationTime",Td)||0,l=M(d,"duration",Td)||0;h=h/g+b;l=h+l/g;null!=c&&(h=Math.min(h,b+c),l=Math.min(l,b+c));d={schemeIdUri:e,value:f,startTime:h,endTime:l,id:d.getAttribute("id")||"",eventElement:d};this.a.onTimelineRegionAdded(d)}.bind(this))};
n.Od=function(b,c,d){b=qb(b,this.b.retryParameters);null!=c&&(b.headers.Range="bytes="+c+"-"+(null!=d?d:""));c=this.a.networkingEngine.request(1,b);nb(this.f,c);return c.promise.then(function(b){return b.data})};function $e(b,c){return J[Lb(b,c)]?"text":b.split("/")[0]}Me.mpd=Pe;Le["application/dash+xml"]=Pe;function df(b,c,d,e){this.uri=b;this.type=c;this.a=d;this.segments=e||null}function ef(b,c,d,e){this.id=b;this.name=c;this.a=d;this.value=e||null}ef.prototype.toString=function(){function b(b){return b.name+'="'+b.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(b).join(","):"#"+this.name};function ff(b,c){this.name=b;this.value=c}ef.prototype.getAttribute=function(b){var c=this.a.filter(function(c){return c.name==b});return c.length?c[0]:null};
function gf(b,c,d){d=d||null;return(b=b.getAttribute(c))?b.value:d}function hf(b,c){this.a=c;this.uri=b};function jf(b,c){return b.filter(function(b){return b.name==c})}function kf(b,c){var d=jf(b,c);return d.length?d[0]:null}function lf(b,c,d){return b.filter(function(b){var e=b.getAttribute("TYPE");b=b.getAttribute("GROUP-ID");return e.value==c&&b.value==d})}function mf(b,c){return F([b],[c])[0]};function nf(b){this.b=b;this.a=0}function of(b){pf(b,/[ \t]+/gm)}function pf(b,c){c.lastIndex=b.a;var d=c.exec(b.b);d=null==d?null:{position:d.index,length:d[0].length,Qd:d};if(b.a==b.b.length||null==d||d.position!=b.a)return null;b.a+=d.length;return d.Qd}function qf(b){return b.a==b.b.length?null:(b=pf(b,/[^ \t\n]*/gm))?b[0]:null};function rf(){this.a=0}
function sf(b,c,d){c=H(c);c=c.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var e=c.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(e[0]))throw new A(2,4,4015);c=0;for(var f=1;f<e.length;f++)if(!/^#(?!EXT)/m.test(e[f])){var g=tf(b,e[f]);--b.a;if(0<=uf.indexOf(g.name)){c=1;break}else"EXT-X-STREAM-INF"==g.name&&(f+=1)}f=[];for(g=1;g<e.length;)if(/^#(?!EXT)/m.test(e[g]))g+=1;else{var h=tf(b,e[g]);if(0<=vf.indexOf(h.name)){if(1!=c)throw new A(2,4,4017);e=e.splice(g,e.length-g);b=wf(b,e,f);return new df(d,
c,f,b)}f.push(h);g+=1;"EXT-X-STREAM-INF"==h.name&&(h.a.push(new ff("URI",e[g])),g+=1)}return new df(d,c,f)}function wf(b,c,d){var e=[],f=[];c.forEach(function(c){if(/^(#EXT)/.test(c))c=tf(b,c),0<=uf.indexOf(c.name)?d.push(c):f.push(c);else{if(/^#(?!EXT)/m.test(c))return[];e.push(new hf(c.trim(),f));f=[]}});return e}
function tf(b,c){a:{var d=b.a++;var e=c.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!e)throw new A(2,4,4016,c);var f=e[1],g=e[2];e=[];if(g&&0<=g.indexOf("=")){g=new nf(g);for(var h,k=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;h=pf(g,k);)e.push(new ff(h[1],h[2]||h[3]))}else if(g){d=new ef(d,f,e,g);break a}d=new ef(d,f,e)}return d}var uf="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),vf="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function xf(b){try{var c=xf.parse(b);return bb({uri:b,data:c.data,headers:{"content-type":c.contentType}})}catch(d){return $a(d)}}x("shaka.net.DataUriPlugin",xf);
xf.parse=function(b){var c=b.split(":");if(2>c.length||"data"!=c[0])throw new A(2,1,1004,b);c=c.slice(1).join(":").split(",");if(2>c.length)throw new A(2,1,1004,b);var d=c[0];c=window.decodeURIComponent(c.slice(1).join(","));d=d.split(";");var e=null;1<d.length&&(e=d[1]);if("base64"==e)b=Wb(c).buffer;else{if(e)throw new A(2,1,1005,b);b=Qb(c)}return{data:b,contentType:d[0]}};pb("data",xf);function yf(){this.g=this.c=null;this.M=1;this.w={};this.L={};this.W={};this.a={};this.b=null;this.m="";this.u=new rf;this.j=this.i=null;this.f=zf;this.o=null;this.l=0;this.B=Infinity;this.h=new mb;this.H=[]}x("shaka.hls.HlsParser",yf);n=yf.prototype;n.configure=function(b){this.g=b};n.start=function(b,c){this.c=c;this.m=b;return Af(this,b).then(function(c){return Bf(this,c.data,b).then(function(){Cf(this,this.i);return this.o}.bind(this))}.bind(this))};
n.stop=function(){this.g=this.c=null;this.w={};this.L={};this.o=null;return this.h.destroy()};n.update=function(){if(this.f!=Df.oa){var b=[],c;for(c in this.a)b.push(Ef(this,this.a[c],c));return Promise.all(b)}};
function Ef(b,c,d){Af(b,d).then(function(b){var e=Df,g=sf(this.u,b.data,d);if(1!=g.type)throw new A(2,4,4017);b=kf(g.a,"EXT-X-MEDIA-SEQUENCE");var h=c.stream;Ff(this,g,b?Number(b.value):0,h.mimeType,h.codecs).then(function(b){c.bb.a=b;b=b[b.length-1];kf(g.a,"EXT-X-ENDLIST")&&(Gf(this,e.oa),this.b.ia(b.endTime))}.bind(this))}.bind(b))}n.onExpirationUpdated=function(){};
function Bf(b,c,d){c=sf(b.u,c,d);if(0!=c.type)throw new A(2,4,4022);return Hf(b,c).then(function(b){this.c.filterAllPeriods([b]);var c=Infinity,d=0,e=0,k=Infinity;for(m in this.a){var l=this.a[m];c=Math.min(c,l.Jb);d=Math.max(d,l.Jb);e=Math.max(e,l.dd);"text"!=l.stream.type&&(k=Math.min(k,l.duration))}var m=null;l=0;this.f!=Df.oa&&(m=Date.now()/1E3-e,l=3*this.l);this.b=new T(m,l);this.b.tb(this.f==Df.oa);If(this);if(this.f!=Df.oa){c=3*this.l;this.b.wc(c);this.i=this.B;this.f==Df.Xb&&(isNaN(this.g.availabilityWindowOverride)||
(c=this.g.availabilityWindowOverride),this.b.Qb(c));for(c=0;95443.7176888889<=d;)c+=95443.7176888889,d-=95443.7176888889;if(c)for(var r in this.a)d=this.a[r],95443.7176888889>d.Jb&&(d.stream.presentationTimeOffset=-c,d.bb.offset(c))}else{this.b.ia(k);for(var t in this.a)r=this.a[t],r.stream.presentationTimeOffset=c,r.bb.offset(-c),oe(r.bb,k)}this.o={presentationTimeline:this.b,periods:[b],offlineSessionIds:[],minBufferTime:0}}.bind(b))}
function Hf(b,c){var d=c.a,e=jf(c.a,"EXT-X-MEDIA").filter(function(b){return"SUBTITLES"==U(b,"TYPE")}.bind(b)).map(function(b){return Jf(this,b)}.bind(b));return Promise.all(e).then(function(b){var e=jf(d,"EXT-X-STREAM-INF").map(function(b){return Kf(this,b,c)}.bind(this));return Promise.all(e).then(function(c){return{startTime:0,variants:c.reduce(Bb,[]),textStreams:b}}.bind(this))}.bind(b))}
function Kf(b,c,d){var e=gf(c,"CODECS","avc1.42E01E,mp4a.40.2").split(","),f=c.getAttribute("RESOLUTION"),g=null,h=null,k=gf(c,"FRAME-RATE"),l=Number(U(c,"BANDWIDTH"));if(f){var m=f.value.split("x");g=m[0];h=m[1]}d=jf(d.a,"EXT-X-MEDIA");var r=gf(c,"AUDIO"),t=gf(c,"VIDEO");r?d=lf(d,"AUDIO",r):t&&(d=lf(d,"VIDEO",t));if(m=Lf("text",e)){var u=gf(c,"SUBTITLES");u&&(u=lf(d,"SUBTITLES",u),u.length&&(b.w[u[0].id].stream.codecs=m));e.splice(e.indexOf(m),1)}d=d.map(function(b){return Mf(this,b,e)}.bind(b));
var w=[],y=[];return Promise.all(d).then(function(b){r?w=b:t&&(y=b);b=!1;if(w.length||y.length)if(w.length)if(U(c,"URI")==w[0].Pb){var d="audio";b=!0}else d="video";else d="audio";else 1==e.length?(d=Lf("video",e),d=f||k||d?"video":"audio"):(d="video",e=[e.join(",")]);return b?Promise.resolve():Of(this,c,e,d)}.bind(b)).then(function(b){b&&("audio"==b.stream.type?w=[b]:y=[b]);y&&Pf(y);w&&Pf(w);return Qf(this,w,y,l,g,h,k)}.bind(b))}
function Pf(b){b.forEach(function(b){var c=b.stream.codecs.split(",");c=c.filter(function(b){return"mp4a.40.34"!=b});b.stream.codecs=c.join(",")})}
function Qf(b,c,d,e,f,g,h){d.forEach(function(b){if(b=b.stream)b.width=Number(f)||void 0,b.height=Number(g)||void 0,b.frameRate=Number(h)||void 0}.bind(b));c.length||(c=[null]);d.length||(d=[null]);for(var k=[],l=0;l<c.length;l++)for(var m=0;m<d.length;m++){var r=c[l]?c[l].stream:null,t=d[m]?d[m].stream:null,u=c[l]?c[l].drmInfos:null,w=d[m]?d[m].drmInfos:null,y=void 0;if(r&&t)if(u.length&&w.length?0<tc(u,w).length:1)y=tc(u,w);else continue;else r?y=u:t&&(y=w);u=(d[l]?d[l].Pb:"")+" - "+(c[l]?c[l].Pb:
"");b.L[u]||(r=Rf(b,r,t,e,y),k.push(r),b.L[u]=r)}return k}function Rf(b,c,d,e,f){return{id:b.M++,language:c?c.language:"und",primary:!!c&&c.primary||!!d&&d.primary,audio:c,video:d,bandwidth:e,drmInfos:f,allowedByApplication:!0,allowedByKeySystem:!0}}function Jf(b,c){U(c,"TYPE");return Mf(b,c,[]).then(function(b){return b.stream})}
function Mf(b,c,d){var e=U(c,"URI");e=mf(b.m,e);if(b.a[e])return Promise.resolve(b.a[e]);var f=U(c,"TYPE").toLowerCase();"subtitles"==f&&(f="text");var g=id(gf(c,"LANGUAGE","und")),h=gf(c,"NAME"),k=c.getAttribute("DEFAULT"),l=c.getAttribute("AUTOSELECT"),m=gf(c,"CHANNELS");return Sf(b,e,d,f,g,!!k||!!l,h,"audio"==f?Tf(m):null).then(function(b){if(this.a[e])return this.a[e];this.w[c.id]=b;return this.a[e]=b}.bind(b))}function Tf(b){if(!b)return null;b=b.split("/")[0];return parseInt(b,10)}
function Of(b,c,d,e){var f=U(c,"URI");f=mf(b.m,f);return b.a[f]?Promise.resolve(b.a[f]):Sf(b,f,d,e,"und",!1,null,null).then(function(b){return this.a[f]?this.a[f]:this.a[f]=b}.bind(b))}
function Sf(b,c,d,e,f,g,h,k){var l=c;c=mf(b.m,c);var m,r="",t;return Af(b,c).then(function(b){m=sf(this.u,b.data,c);if(1!=m.type)throw new A(2,4,4017);b=m;var f=Df,g=kf(b.a,"EXT-X-PLAYLIST-TYPE"),h=kf(b.a,"EXT-X-ENDLIST");h=g&&"VOD"==g.value||h;g=g&&"EVENT"==g.value&&!h;g=!h&&!g;h?Gf(this,f.oa):(g?Gf(this,f.Xb):Gf(this,f.Cc),b=Uf(b.a,"EXT-X-TARGETDURATION"),b=Number(b.value),this.l=Math.max(b,this.l),this.B=Math.min(b,this.B));if(1==d.length)r=d[0];else if(b=Lf(e,d),null!=b)r=b;else throw new A(2,
4,4025,d);return Vf(this,e,r,m)}.bind(b)).then(function(b){t=b;b=kf(m.a,"EXT-X-MEDIA-SEQUENCE");return Ff(this,m,b?Number(b.value):0,t,r)}.bind(b)).then(function(b){var c=b[0].startTime,d=b[b.length-1].endTime,u=d-c;b=new S(b);var Qa=Wf(m),Nf=void 0;"text"==e&&(Nf="subtitle");var yd=[];m.segments.forEach(function(b){b=jf(b.a,"EXT-X-KEY");yd.push.apply(yd,b)});var zd=!1,Ad=[],Db=null;yd.forEach(function(b){if("NONE"!=U(b,"METHOD")){zd=!0;var c=U(b,"KEYFORMAT");if(b=(c=Xf[c])?c(b):null)b.keyIds.length&&
(Db=b.keyIds[0]),Ad.push(b)}});if(zd&&!Ad.length)throw new A(2,4,4026);Qa={id:this.M++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:b.find.bind(b),getSegmentReference:b.get.bind(b),initSegmentReference:Qa,presentationTimeOffset:0,mimeType:t,codecs:r,kind:Nf,encrypted:zd,keyId:Db,language:f,label:h||null,type:e,primary:g,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:k};this.W[Qa.id]=b;return{stream:Qa,
bb:b,drmInfos:Ad,Pb:l,Jb:c,dd:d,duration:u}}.bind(b))}function Wf(b){var c=jf(b.a,"EXT-X-MAP");if(!c.length)return null;if(1<c.length)throw new A(2,4,4020);c=c[0];var d=U(c,"URI"),e=mf(b.uri,d);b=0;d=null;if(c=gf(c,"BYTERANGE"))b=c.split("@"),c=Number(b[0]),b=Number(b[1]),d=b+c-1;return new N(function(){return[e]},b,d)}
function Yf(b,c,d,e,f){var g=d.a,h=mf(b.uri,d.uri);b=Uf(g,"EXTINF").value.split(",");b=f+Number(b[0]);d=0;var k=null;if(g=kf(g,"EXT-X-BYTERANGE"))d=g.value.split("@"),g=Number(d[0]),d=d[1]?Number(d[1]):c.a+1,k=d+g-1;return new O(e,f,b,function(){return[h]},d,k)}function If(b){b.b&&(b.H.forEach(function(c){b.b.La(c,!0)}),b.H=[])}
function Ff(b,c,d,e,f){var g=c.segments,h=[],k=mf(c.uri,g[0].uri),l=Yf(c,null,g[0],d,0),m=Wf(c);return Zf(b,c.uri,m,l,e,f).then(function(b){k.split("/").pop();for(var e=0;e<g.length;++e){var f=h[h.length-1];f=Yf(c,f,g[e],d+e,0==e?b:f.endTime);h.push(f)}this.H.push(h);If(this);return h}.bind(b))}
function $f(b,c){var d=b.c.networkingEngine,e=qb(c.c(),b.g.retryParameters),f={},g=c.b;f.Range="bytes="+g+"-"+(g+2048-1);var h={};if(0!=g||null!=c.a)g="bytes="+g+"-",null!=c.a&&(g+=c.a),h.Range=g;e.headers=f;f=d.request(1,e);nb(b.h,f);return f.promise["catch"](function(){Ga("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",e.uris[0]);e.headers=h;var c=d.request(1,e);nb(b.h,c);return c.promise})}
function Zf(b,c,d,e,f,g){if(b.o&&(c=b.a[c].bb.get(e.position)))return Promise.resolve(c.startTime);e=[$f(b,e)];if("video/mp4"==f||"audio/mp4"==f)d?e.push($f(b,d)):e.push(e[0]);return Promise.all(e).then(function(b){if("video/mp4"==f||"audio/mp4"==f)return ag(b[0].data,b[1].data);if("audio/mpeg"==f)return 0;if("video/mp2t"==f)return bg(b[0].data);if("application/mp4"==f||0==f.indexOf("text/")){b=b[0].data;var c=Lb(f,g);if(J[c]){var d=new Rc(null);d.f=new J[c];b=d.Db(b)}else b=0;return b}throw new A(2,
4,4030);}.bind(b))}function ag(b,c){var d=0;(new Q).C("moov",R).C("trak",R).C("mdia",R).X("mdhd",function(b){b.reader.F(0==b.version?8:16);d=b.reader.A();b.parser.stop()}).parse(c,!0);if(!d)throw new A(2,4,4030);var e=0,f=!1;(new Q).C("moof",R).C("traf",R).X("tfdt",function(b){e=(0==b.version?b.reader.A():b.reader.Pa())/d;f=!0;b.parser.stop()}).parse(b,!0);if(!f)throw new A(2,4,4030);return e}
function bg(b){function c(){throw new A(2,4,4030);}b=new P(new DataView(b),0);for(var d=0,e=0;;)if(d=b.S(),e=b.ba(),71!=e&&c(),b.$a()&16384||c(),e=(b.ba()&48)>>4,0!=e&&2!=e||c(),3==e&&(e=b.ba(),b.F(e)),1!=b.A()>>8)b.seek(d+188),e=b.ba(),71!=e&&(b.seek(d+192),e=b.ba()),71!=e&&(b.seek(d+204),e=b.ba()),71!=e&&c(),b.tc(1);else return b.F(3),d=b.ba()>>6,0!=d&&1!=d||c(),0==b.ba()&&c(),d=b.ba(),e=b.$a(),b=b.$a(),(1073741824*((d&14)>>1)+((e&65534)<<14|(b&65534)>>1))/9E4}
function Lf(b,c){for(var d=cg[b],e=0;e<d.length;e++)for(var f=0;f<c.length;f++)if(d[e].test(c[f].trim()))return c[f].trim();return"text"==b?"":null}
function Vf(b,c,d,e){e=mf(e.uri,e.segments[0].uri);var f=(new Ia(e)).$.split(".").pop(),g=dg[c][f];if(g)return Promise.resolve(g);if("text"==c)return d&&"vtt"!=d?Promise.resolve("application/mp4"):Promise.resolve("text/vtt");c=qb([e],b.g.retryParameters);c.method="HEAD";c=b.c.networkingEngine.request(1,c);nb(b.h,c);return c.promise.then(function(b){b=b.headers["content-type"];if(!b)throw new A(2,4,4021,f);return b.split(";")[0]})}
function U(b,c){var d=b.getAttribute(c);if(!d)throw new A(2,4,4023,c);return d.value}function Uf(b,c){var d=kf(b,c);if(!d)throw new A(2,4,4024,c);return d}function Af(b,c){var d=b.c.networkingEngine.request(0,qb([c],b.g.retryParameters));nb(b.h,d);return d.promise}
var cg={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},dg={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};
yf.prototype.P=function(){this.c&&(this.j=null,this.update().then(function(){Cf(this,this.i)}.bind(this))["catch"](function(b){this.c&&(b.severity=1,this.c.onError(b),Cf(this,0))}.bind(this)))};function Cf(b,c){null!=b.i&&null!=c&&(b.j=window.setTimeout(b.P.bind(b),1E3*c))}function Gf(b,c){b.f=c;b.b&&b.b.tb(b.f==Df.oa);b.f==Df.oa&&null!=b.j&&(window.clearTimeout(b.j),b.j=null,b.i=null)}
var Xf={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(b){var c=U(b,"METHOD");if("SAMPLE-AES-CENC"!=c&&"SAMPLE-AES-CTR"!=c)return null;c=U(b,"URI");c=xf.parse(c);c=new Uint8Array(c.data);c=Gb("com.widevine.alpha",[{initDataType:"cenc",initData:c}]);if(b=gf(b,"KEYID"))c.keyIds=[b.substr(2).toLowerCase()];return c}},zf="VOD",Df={oa:zf,Cc:"EVENT",Xb:"LIVE"};Me.m3u8=yf;Le["application/x-mpegurl"]=yf;Le["application/vnd.apple.mpegurl"]=yf;function eg(b,c,d,e){this.a=b;this.u=c;this.o=d;this.w=e;this.h=new wb;this.b=null;this.g=!1;this.m=b.readyState;this.c=!1;this.j=this.B=-1;this.f=this.i=!1;c=this.l.bind(this);D(this.h,b,"waiting",c);this.b=new Rb(c);Ub(this.b,.25)}eg.prototype.destroy=function(){var b=this.h.destroy();this.w=this.u=this.a=this.h=null;null!=this.b&&(this.b.cancel(),this.b=null);return b};eg.prototype.Za=function(){this.f=!0;this.l()};
eg.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var b=this.o.smallGapLimit,c=this.a.currentTime,d=this.a.buffered;a:{if(d&&d.length&&!(1==d.length&&1E-6>d.end(0)-d.start(0))){var e=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(e=.5);for(var f=0;f<d.length;f++)if(d.start(f)>c&&(0==f||d.end(f-1)-c<=e)){e=f;break a}}e=null}if(null==e){if(d=this.a.currentTime,
c=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=d)this.j=d,this.B=Date.now(),this.i=!1;else if(!this.i&&this.B<Date.now()-1E3)for(e=0;e<c.length;e++)if(d>=c.start(e)&&d<c.end(e)-.5){this.a.currentTime+=.1;this.j=this.a.currentTime;this.i=!0;break}}else if(0!=e||this.f)if(f=d.start(e),!(f>=this.u.presentationTimeline.ka())){var g=f-c;b=g<=b;var h=!1;.001>g||(b||this.c||(this.c=!0,c=new E("largegap",{currentTime:c,gapSize:g}),c.cancelable=!0,this.w(c),this.o.jumpLargeGaps&&!c.defaultPrevented&&
(h=!0)),!b&&!h)||(0!=e&&d.end(e-1),this.a.currentTime=f)}}}};function fg(b,c,d){this.a=b;this.i=c;this.h=d;this.c=new wb;this.f=1;this.g=!1;this.b=null;0<b.readyState?this.nc():zb(this.c,b,"loadedmetadata",this.nc.bind(this));D(this.c,b,"ratechange",this.td.bind(this))}n=fg.prototype;n.destroy=function(){var b=this.c.destroy();this.c=null;null!=this.b&&(this.b.cancel(),this.b=null);this.i=this.a=null;return b};function gg(b){return 0<b.a.readyState?b.a.currentTime:b.h}function hg(b,c){0<b.a.readyState?ig(b,b.a.currentTime,c):(b.h=c,setTimeout(b.i,0))}
n.Ua=function(){return this.f};function jg(b,c){null!=b.b&&(b.b.cancel(),b.b=null);b.f=c;b.a.playbackRate=b.g||0>c?0:c;!b.g&&0>c&&(b.b=new Rb(function(){b.a.currentTime+=c/4}),Ub(b.b,.25))}n.td=function(){var b=this.g||0>this.f?0:this.f;this.a.playbackRate&&this.a.playbackRate!=b&&jg(this,this.a.playbackRate)};n.nc=function(){.001>Math.abs(this.a.currentTime-this.h)?this.oc():(zb(this.c,this.a,"seeking",this.oc.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)};
n.oc=function(){var b=this;D(this.c,this.a,"seeking",function(){return b.i()})};function ig(b,c,d){function e(){!b.a||10<=f++||b.a.currentTime!=c||(b.a.currentTime=d,setTimeout(e,100))}b.a.currentTime=d;var f=0;setTimeout(e,100)};function kg(b,c,d,e,f,g){this.c=b;this.b=c;this.h=d;this.j=f;this.f=null;this.g=new eg(b,c,d,g);c=e;d=this.b.presentationTimeline;null==c?c=Infinity>d.R()?d.Ga():d.ka():0>c&&(c=d.ka()+c);this.a=new fg(b,this.ud.bind(this),lg(this,mg(this,c)));this.f=new Rb(this.sd.bind(this));Ub(this.f,.25)}n=kg.prototype;n.destroy=function(){var b=Promise.all([this.a.destroy(),this.g.destroy()]);this.g=this.a=null;null!=this.f&&(this.f.cancel(),this.f=null);this.j=this.h=this.b=this.c=null;return b};
function ng(b){var c=gg(b.a);0<b.c.readyState&&(b.c.paused||(c=mg(b,c)));return c}n.Ua=function(){return this.a.Ua()};n.Za=function(){this.g.Za()};n.sd=function(){if(0!=this.c.readyState&&!this.c.paused){var b=this.c.currentTime,c=this.b.presentationTimeline,d=c.Ga();c=c.ka();3>c-d&&(d=c-3);b<d&&(b=og(this,b),this.c.currentTime=b)}};
n.ud=function(){var b=this.g;b.g=!0;b.f=!1;b.c=!1;var c=gg(this.a);b=og(this,c);if(.001<Math.abs(b-c)&&(c=(new Date).getTime()/1E3,!this.i||this.i<c-1)){this.i=c;hg(this.a,b);return}this.j()};function lg(b,c){var d=b.b.presentationTimeline.R();return c>=d?d-b.h.durationBackoff:c}
function og(b,c){var d=vc.bind(null,b.c.buffered),e=Math.max(b.b.minBufferTime||0,b.h.rebufferingGoal),f=b.b.presentationTimeline,g=f.Ga(),h=f.ka(),k=f.R();3>h-g&&(g=h-3);var l=f.Va(e),m=f.Va(5);e=f.Va(e+5);return c>=k?lg(b,c):c>h?h:c<g?d(m)?m:e:c>=l||d(c)?c:e}function mg(b,c){var d=b.b.presentationTimeline.Ga();if(c<d)return d;d=b.b.presentationTimeline.ka();return c>d?d:c};function pg(b,c,d,e,f,g,h){this.a=b;this.w=c;this.g=d;this.u=e;this.l=f;this.h=g;this.B=h;this.c=[];this.j=new wb;this.b=!1;this.i=-1;this.f=null;qg(this)}pg.prototype.destroy=function(){var b=this.j?this.j.destroy():Promise.resolve();this.j=null;rg(this);this.B=this.h=this.l=this.u=this.g=this.w=this.a=null;this.c=[];return b};
pg.prototype.o=function(b){if(!this.c.some(function(c){return c.info.schemeIdUri==b.schemeIdUri&&c.info.startTime==b.startTime&&c.info.endTime==b.endTime})){var c={info:b,status:1};this.c.push(c);var d=new E("timelineregionadded",{detail:sg(b)});this.h(d);this.m(!0,c)}};function sg(b){var c=kb(b);c.eventElement=b.eventElement;return c}
pg.prototype.m=function(b,c){var d=c.info.startTime>this.a.currentTime?1:c.info.endTime<this.a.currentTime?3:2,e=2==c.status,f=2==d;if(d!=c.status){if(!b||e||f)e||this.h(new E("timelineregionenter",{detail:sg(c.info)})),f||this.h(new E("timelineregionexit",{detail:sg(c.info)}));c.status=d}};function qg(b){rg(b);b.f=window.setTimeout(b.H.bind(b),250)}function rg(b){b.f&&(window.clearTimeout(b.f),b.f=null)}
pg.prototype.H=function(){this.f=null;qg(this);var b=Hd(this.g,this.a.currentTime);b!=this.i&&(-1!=this.i&&this.B(),this.i=b);b=wc(this.a.buffered,this.a.currentTime);var c=uc(this.a.buffered),d=this.g.presentationTimeline,e=d.Ha();var f=this.w;f=f.g?"ended"==f.g.readyState:!0;c=d.Y()&&c>=e||this.a.ended||f;this.b?(d=Math.max(this.g.minBufferTime||0,this.u.rebufferingGoal),(c||b>=d)&&0!=this.b&&(this.b=!1,this.l(!1))):!c&&.5>b&&1!=this.b&&(this.b=!0,this.l(!0));this.c.forEach(this.m.bind(this,!1))};function tg(b,c){this.a=c;this.b=b;this.g=null;this.j=1;this.m=Promise.resolve();this.h=[];this.i={};this.c={};this.o=!1;this.B=null;this.w=this.f=this.l=!1;this.u=0}n=tg.prototype;n.destroy=function(){for(var b in this.c)ug(this.c[b]);this.g=this.c=this.i=this.h=this.m=this.b=this.a=null;this.f=!0;return Promise.resolve()};
n.configure=function(b){this.g=b;this.B=new Xa({maxAttempts:Math.max(b.retryParameters.maxAttempts,2),baseDelay:b.retryParameters.baseDelay,backoffFactor:b.retryParameters.backoffFactor,fuzzFactor:b.retryParameters.fuzzFactor,timeout:0},!0)};n.init=function(){var b=this.a.lc(this.b.periods[Hd(this.b,ng(this.a.Na))]);return b.variant||b.text?vg(this,b).then(function(){!this.f&&this.a&&this.a.kd&&this.a.kd()}.bind(this)):Promise.reject(new A(2,5,5005))};
function V(b){return b.b.periods[Hd(b.b,ng(b.a.Na))]}function wg(b){var c=b.c.video||b.c.audio;return c?b.b.periods[c.ya]:null}function xg(b){return yg(b,"audio")}function zg(b){return yg(b,"video")}function yg(b,c){var d=b.c[c];return d?d.pa||d.stream:null}function Ag(b,c,d){bd(b.a.J,"text");b.u++;b.w=!1;var e=b.u;return b.a.J.init({text:c},!1).then(function(){return Bg(b,[c])}).then(function(){b.f||!d||b.u!=e||b.c.text||b.w||(b.c.text=Cg(c,Hd(b.b,ng(b.a.Na))),Dg(b,b.c.text,0))})}
function Eg(b){b.w=!0;b.c.text&&(ug(b.c.text),delete b.c.text)}function Fg(b,c){var d=b.c.video;if(d){var e=d.stream;if(e)if(c){var f=e.trickModeVideo;f&&!d.pa&&(Gg(b,f,!1),d.pa=e)}else if(e=d.pa)d.pa=null,Gg(b,e,!0)}}function Hg(b,c,d){c.video&&Gg(b,c.video,d);c.audio&&Gg(b,c.audio,d)}
function Gg(b,c,d){var e=b.c[c.type];if(!e&&"text"==c.type&&b.g.ignoreTextStreamFailures)Ag(b,c,!0);else if(e){var f=Id(b.b,c);d&&f!=e.ya?Ig(b):(e.pa&&(c.trickModeVideo?(e.pa=c,c=c.trickModeVideo):e.pa=null),(f=b.h[f])&&f.Qa&&(f=b.i[c.id])&&f.Qa&&e.stream!=c&&("text"==c.type&&Vc(b.a.J,Lb(c.mimeType,c.codecs)),e.stream=c,e.qb=!0,d&&(e.va?e.ub=!0:e.za?(e.sa=!0,e.ub=!0):(ug(e),Jg(b,e,!0)))))}}
function Kg(b){var c=ng(b.a.Na),d=b.g.smallGapLimit;Object.keys(b.c).every(function(b){var e=this.a.J;"text"==b?(b=e.a,b=c>=b.a&&c<b.b):(b=Xc(e,b),b=vc(b,c,d));return b}.bind(b))||Ig(b)}function Ig(b){for(var c in b.c){var d=b.c[c];d.va||d.sa||(d.za?d.sa=!0:null==Wc(b.a.J,c)?null==d.ra&&Dg(b,d,0):(ug(d),Jg(b,d,!1)))}}
function vg(b,c,d){var e=Hd(b.b,ng(b.a.Na)),f={},g=[];c.variant&&c.variant.audio&&(f.audio=c.variant.audio,g.push(c.variant.audio));c.variant&&c.variant.video&&(f.video=c.variant.video,g.push(c.variant.video));c.text&&(f.text=c.text,g.push(c.text));return b.a.J.init(f,b.g.forceTransmuxTS).then(function(){if(!b.f){var c=b.b.presentationTimeline.R();Infinity>c?b.a.J.ia(c):b.a.J.ia(Math.pow(2,32));return Bg(b,g)}}).then(function(){if(!b.f)for(var c in f){var g=f[c];b.c[c]||(b.c[c]=Cg(g,e,d),Dg(b,b.c[c],
0))}})}function Cg(b,c,d){return{stream:b,type:b.type,Ia:null,la:null,pa:null,qb:!0,ya:c,endOfStream:!1,za:!1,ra:null,sa:!1,ub:!1,va:!1,Ob:!1,Xa:!1,rc:d||0}}
function Lg(b,c){var d=b.h[c];if(d)return d.promise;d={promise:new z,Qa:!1};b.h[c]=d;var e=b.b.periods[c].variants.map(function(b){var c=[];b.audio&&c.push(b.audio);b.video&&c.push(b.video);b.video&&b.video.trickModeVideo&&c.push(b.video.trickModeVideo);return c}).reduce(Bb,[]).filter(Fb);e.push.apply(e,b.b.periods[c].textStreams);b.m=b.m.then(function(){if(!this.f)return Bg(this,e)}.bind(b)).then(function(){this.f||(this.h[c].promise.resolve(),this.h[c].Qa=!0)}.bind(b))["catch"](function(b){this.f||
(this.h[c].promise["catch"](function(){}),this.h[c].promise.reject(),delete this.h[c],this.a.onError(b))}.bind(b));return d.promise}
function Bg(b,c){c.map(function(b){return b.id}).filter(Fb);for(var d=[],e=0;e<c.length;++e){var f=c[e],g=b.i[f.id];g?d.push(g.promise):(b.i[f.id]={promise:new z,Qa:!1},d.push(f.createSegmentIndex()))}return Promise.all(d).then(function(){if(!this.f)for(var b=0;b<c.length;++b){var d=this.i[c[b].id];d.Qa||(d.promise.resolve(),d.Qa=!0)}}.bind(b))["catch"](function(b){if(!this.f){for(var d=0;d<c.length;d++)this.i[c[d].id].promise["catch"](function(){}),this.i[c[d].id].promise.reject(),delete this.i[c[d].id];
return Promise.reject(b)}}.bind(b))}n.he=function(b){if(!this.f&&!b.za&&null!=b.ra&&!b.va)if(b.ra=null,b.sa)Jg(this,b,b.ub);else{try{var c=Mg(this,b);null!=c&&(Dg(this,b,c),b.Xa=!1)}catch(d){Ng(this,d);return}c=G(this.c);Og(this,b);c.every(function(b){return b.endOfStream})&&this.a.J.endOfStream().then(function(){if(!this.f){var b=this.a.J.R();b<this.b.presentationTimeline.R()&&this.b.presentationTimeline.ia(b)}}.bind(this))}};
function Mg(b,c){var d=ng(b.a.Na),e=Pg(b,c,d),f=Id(b.b,c.stream),g=Hd(b.b,e),h=Zc(b.a.J,c.type,d),k=Math.max(b.j*Math.max(b.b.minBufferTime||0,b.g.rebufferingGoal),b.j*b.g.bufferingGoal);if(e>=b.b.presentationTimeline.R())return c.endOfStream=!0,null;c.endOfStream=!1;c.ya=g;if(g!=f)return null;if(h>=k)return.5;g=Yc(b.a.J,c.type);g=Qg(b,c,d,g,f);if(!g)return 1;var l=Infinity;G(b.c).forEach(function(c){l=Math.min(l,Pg(b,c,d))});if(e>=l+b.b.presentationTimeline.a)return 1;c.rc=0;Rg(b,c,d,f,g);return null}
function Pg(b,c,d){return c.Ia&&c.la?b.b.periods[Id(b.b,c.Ia)].startTime+c.la.endTime:Math.max(d,c.rc)}function Qg(b,c,d,e,f){if(c.la&&c.stream==c.Ia)return Sg(b,c,f,c.la.position+1);d=c.la?c.stream.findSegmentPosition(Math.max(0,b.b.periods[Id(b.b,c.Ia)].startTime+c.la.endTime-b.b.periods[f].startTime)):c.stream.findSegmentPosition(Math.max(0,(e||d)-b.b.periods[f].startTime));if(null==d)return null;var g=null;null==e&&(g=Sg(b,c,f,Math.max(0,d-1)));return g||Sg(b,c,f,d)}
function Sg(b,c,d,e){d=b.b.periods[d];c=c.stream.getSegmentReference(e);if(!c)return null;b=b.b.presentationTimeline;e=b.Ha();return d.startTime+c.endTime<b.Wa()||d.startTime+c.startTime>e?null:c}
function Rg(b,c,d,e,f){var g=b.b.periods[e],h=c.stream,k=b.b.presentationTimeline.R(),l=b.b.periods[e+1];e=Tg(b,c,e,Math.max(0,g.startTime-.1),l?l.startTime:k);c.za=!0;c.qb=!1;k=Ug(b,f);Promise.all([e,k]).then(function(b){if(!this.f&&!this.l)return Vg(this,c,d,g,h,f,b[1])}.bind(b)).then(function(){this.f||this.l||(c.za=!1,c.Ob=!1,c.sa||this.a.Za(),Dg(this,c,0),Wg(this,h))}.bind(b))["catch"](function(b){this.f||this.l||(c.za=!1,"text"==c.type&&this.g.ignoreTextStreamFailures?delete this.c.text:3017==
b.code?Xg(this,c,b):(c.Xa=!0,b.severity=2,Ng(this,b)))}.bind(b))}function Xg(b,c,d){if(!G(b.c).some(function(b){return b!=c&&b.Ob})){var e=Math.round(100*b.j);if(20<e)b.j-=.2;else if(4<e)b.j-=.04;else{c.Xa=!0;b.l=!0;b.a.onError(d);return}c.Ob=!0}Dg(b,c,4)}
function Tg(b,c,d,e,f){if(!c.qb)return Promise.resolve();d=cd(b.a.J,c.type,b.b.periods[d].startTime-c.stream.presentationTimeOffset,e,f);if(!c.stream.initSegmentReference)return d;b=Ug(b,c.stream.initSegmentReference).then(function(b){if(!this.f)return $c(this.a.J,c.type,b,null,null)}.bind(b))["catch"](function(b){c.qb=!0;return Promise.reject(b)});return Promise.all([d,b])}
function Vg(b,c,d,e,f,g,h){f.containsEmsgBoxes&&(new Q).X("emsg",b.Ed.bind(b,e,g)).parse(h);return Yg(b,c,d).then(function(){if(!this.f)return $c(this.a.J,c.type,h,g.startTime,g.endTime)}.bind(b)).then(function(){if(!this.f)return c.Ia=f,c.la=g,Promise.resolve()}.bind(b))}
n.Ed=function(b,c,d){var e=d.reader.Nb(),f=d.reader.Nb(),g=d.reader.A(),h=d.reader.A(),k=d.reader.A(),l=d.reader.A();d=d.reader.Aa(d.reader.D.byteLength-d.reader.S());b=b.startTime+c.startTime+h/g;if("urn:mpeg:dash:event:2012"==e)this.a.md();else this.a.onEvent(new E("emsg",{detail:{startTime:b,endTime:b+k/g,schemeIdUri:e,value:f,timescale:g,presentationTimeDelta:h,eventDuration:k,id:l,messageData:d}}))};
function Yg(b,c,d){var e=Math.max(b.g.bufferBehind,b.b.presentationTimeline.a),f=Wc(b.a.J,c.type);if(null==f)return Promise.resolve();d=d-f-e;return 0>=d?Promise.resolve():b.a.J.remove(c.type,f,f+d).then(function(){}.bind(b))}function Wg(b,c){if(!b.o&&(b.o=G(b.c).every(function(b){return"text"==b.type?!0:!b.sa&&!b.va&&b.la}),b.o)){var d=Id(b.b,c);b.h[d]||Lg(b,d).then(function(){this.f||this.a.kc()}.bind(b))["catch"](Cb);for(d=0;d<b.b.periods.length;++d)Lg(b,d)["catch"](Cb);b.a.wd&&b.a.wd()}}
function Og(b,c){if(c.ya!=Id(b.b,c.stream)){var d=c.ya,e=G(b.c);e.every(function(b){return b.ya==d})&&e.every(Zg)&&Lg(b,d).then(function(){if(!this.f&&e.every(function(b){var c=Id(this.b,b.stream);return Zg(b)&&b.ya==d&&c!=d}.bind(this))){var b=this.b.periods[d],c=this.a.lc(b),h={};c.variant&&c.variant.video&&(h.video=c.variant.video);c.variant&&c.variant.audio&&(h.audio=c.variant.audio);c.text&&(h.text=c.text);for(var k in this.c)if(!h[k]&&"text"!=k){this.a.onError(new A(2,5,5005));return}for(var l in h)if(!this.c[l])if("text"==
l)vg(this,{text:h.text},b.startTime),delete h[l];else{this.a.onError(new A(2,5,5005));return}for(var m in this.c)(b=h[m])?(Gg(this,b,!1),Dg(this,this.c[m],0)):delete this.c[m];this.a.kc()}}.bind(b))["catch"](Cb)}}function Zg(b){return!b.za&&null==b.ra&&!b.sa&&!b.va}function Ug(b,c){var d=qb(c.c(),b.g.retryParameters);if(0!=c.b||null!=c.a){var e="bytes="+c.b+"-";null!=c.a&&(e+=c.a);d.headers.Range=e}return b.a.Ka.request(1,d).promise.then(function(b){return b.data})}
function Jg(b,c,d){c.sa=!1;c.ub=!1;c.va=!0;bd(b.a.J,c.type).then(function(){if(!this.f&&d)return this.a.J.flush(c.type)}.bind(b)).then(function(){this.f||(c.Ia=null,c.la=null,c.va=!1,c.endOfStream=!1,Dg(this,c,0))}.bind(b))}function Dg(b,c,d){c.ra=window.setTimeout(b.he.bind(b,c),1E3*d)}function ug(b){null!=b.ra&&(window.clearTimeout(b.ra),b.ra=null)}function Ng(b,c){Za(b.B).then(function(){this.f||(this.a.onError(c),c.handled||this.g.failureCallback(c))}.bind(b))};function $g(b,c,d,e,f,g){if(200<=d&&299>=d&&202!=d)return f&&(e=f),{uri:e,data:c,headers:b,fromCache:!!b["x-shaka-from-cache"]};f=null;try{f=Pb(c)}catch(h){}throw new A(401==d||403==d?2:1,1,1001,e,d,f,b,g);};function W(b,c,d){var e=new W.b;Kb(c.headers,function(b,c){e.append(b,c)});var f=new W.a,g={body:c.body||void 0,headers:e,method:c.method,signal:f.signal,credentials:c.allowCrossSiteCredentials?"include":void 0},h={ac:!1,Bc:!1},k;c.retryParameters.timeout&&(k=setTimeout(function(){h.Bc=!0;f.abort()},c.retryParameters.timeout));b=W.f(b,d,g,h,k);return new B(b,function(){h.ac=!0;f.abort();return Promise.resolve()})}x("shaka.net.HttpFetchPlugin",W);
W.f=function(b,c,d,e,f){return p(function h(){var k,l,m,r,t,u;return v(h,function(h){switch(h.v){case 1:return k=W.c,oa(h,2,3),q(h,k(b,d),5);case 5:return l=h.I,q(h,l.arrayBuffer(),6);case 6:m=h.I;case 3:sa(h);clearTimeout(f);ta(h,4);break;case 2:r=ra(h);if(e.ac)throw new A(1,1,7001,b,c);if(e.Bc)throw new A(1,1,1003,b,c);throw new A(1,1,1002,b,r,c);case 4:return t={},u=l.headers,u.forEach(function(b,c){t[c.trim()]=b}),h["return"]($g(t,m,l.status,b,l.url,c))}})})};
W.isSupported=function(){return!(!window.fetch||!window.AbortController)};W.isSupported=W.isSupported;W.c=window.fetch;W.a=window.AbortController;W.b=window.Headers;W.isSupported()&&(pb("http",W,2),pb("https",W,2));function ah(b,c,d){var e=new ah.g,f=new Promise(function(f,h){e.open(c.method,b,!0);e.responseType="arraybuffer";e.timeout=c.retryParameters.timeout;e.withCredentials=c.allowCrossSiteCredentials;e.onabort=function(){h(new A(1,1,7001,b,d))};e.onload=function(c){c=c.target;var e=c.getAllResponseHeaders().trim().split("\r\n").reduce(function(b,c){var d=c.split(": ");b[d[0].toLowerCase()]=d.slice(1).join(": ");return b},{});try{var g=$g(e,c.response,c.status,b,c.responseURL,d);f(g)}catch(t){h(t)}};e.onerror=
function(c){h(new A(1,1,1002,b,c,d))};e.ontimeout=function(){h(new A(1,1,1003,b,d))};for(var g in c.headers)e.setRequestHeader(g.toLowerCase(),c.headers[g]);e.send(c.body)});return new B(f,function(){e.abort();return Promise.resolve()})}x("shaka.net.HttpXHRPlugin",ah);ah.g=window.XMLHttpRequest;pb("http",ah,1);pb("https",ah,1);function bh(b){this.a={};this.c=Promise.resolve();this.h=!1;this.i=b;this.f=this.b=this.g=0}bh.prototype.destroy=function(){this.h=!0;var b=this.c["catch"](function(){});this.c=Promise.resolve();return b};function ch(b,c,d,e,f){b.a[c]=b.a[c]||[];b.a[c].push({request:d,dc:e,gd:f})}
function dh(b,c){var d=G(b.a);b.a={};d.forEach(function(c){c.forEach(function(c){b.b+=c.dc})});var e=Promise.resolve().then(function(){eh(b);return Promise.all(d.map(function(d){return fh(b,c,d)}))});b.c=b.c.then(function(){return e});return e}function fh(b,c,d){var e=Promise.resolve();d.forEach(function(d){e=e.then(function(){eh(b);return gh(b,c,d)})});return e}
function gh(b,c,d){return Promise.resolve().then(function(){eh(b);return c.request(1,d.request).promise}).then(function(c){eh(b);b.g+=d.dc;b.f+=c.data.byteLength;b.i(b.b?b.g/b.b:0,b.f);return d.gd(c.data)})}function eh(b){if(b.h)throw new A(2,9,7001);};function hh(b,c){var d=this;this.c=b;this.b=b.objectStore(c);this.a=new z;b.onabort=function(b){b.preventDefault();d.a.reject()};b.onerror=function(b){b.preventDefault();d.a.reject()};b.oncomplete=function(){d.a.resolve()}}hh.prototype.abort=function(){try{this.c.abort()}catch(b){}return this.a["catch"](function(){})};hh.prototype.store=function(){return this.b};hh.prototype.promise=function(){return this.a};function ih(b){this.b=b;this.a=[]}ih.prototype.destroy=function(){return Promise.all(this.a.map(function(b){return b.abort()}))};function jh(b,c){return kh(b,c,"readwrite")}function kh(b,c,d){d=b.b.transaction([c],d);var e=new hh(d,c);b.a.push(e);e.promise().then(function(){hb(b.a,e)},function(){hb(b.a,e)});return e};function lh(){this.a={}}lh.prototype.destroy=function(){var b=G(this.a).map(function(b){return b.destroy()});this.a={};return Promise.all(b)};lh.prototype.init=function(){var b=this;Kb(mh,function(c,e){var d=e();d&&(b.a[c]=d)});var c=G(this.a).map(function(b){return b.init()});return Promise.all(c)};
function nh(b){var c=null;Kb(b.a,function(b,e){Kb(e.getCells(),function(d,e){e.hasFixedKeySpace()||c||(c={path:{Z:b,N:d},N:e})})});if(c)return c;throw new A(2,9,9013,"Could not find a cell that supports add-operations");}function oh(b,c){Kb(b.a,function(b,e){Kb(e.getCells(),function(d,e){c({Z:b,N:d},e)})})}function ph(b,c,d){b=b.a[c];if(!b)throw new A(2,9,9013,"Could not find mechanism with name "+c);c=b.getCells()[d];if(!c)throw new A(2,9,9013,"Could not find cell with name "+d);return c}
function qh(b){b=G(b.a).map(function(b){return b.erase()});return Promise.all(b)}x("shaka.offline.StorageMuxer.register",function(b,c){mh[b]=c});x("shaka.offline.StorageMuxer.unregister",function(b){delete mh[b]});function rh(){return G(mh).some(function(b){return(b=b())?(b.destroy(),!0):!1})}var mh={};function sh(b){this.a=new ih(b)}n=sh.prototype;n.destroy=function(){return this.a.destroy()};n.hasFixedKeySpace=function(){return!0};n.addSegments=function(){return th("segment")};n.removeSegments=function(b,c){return uh(this,"segment",b,c)};n.getSegments=function(b){return vh(this,"segment",b).then(function(b){return b.map(wh)})};n.addManifests=function(){return th("manifest")};
n.updateManifestExpiration=function(b,c){var d=jh(this.a,"manifest"),e=d.store(),f=new z;e.get(b).onsuccess=function(d){(d=d.target.result)?(d.expiration=c,e.put(d),f.resolve()):f.reject(new A(2,9,9012,"Could not find values for "+b))};return d.promise().then(function(){return f})};n.removeManifests=function(b,c){return uh(this,"manifest",b,c)};n.getManifests=function(b){return vh(this,"manifest",b).then(function(b){return b.map(xh)})};
n.getAllManifests=function(){var b=kh(this.a,"manifest","readonly"),c={};b.store().openCursor().onsuccess=function(b){if(b=b.target.result)c[b.key]=xh(b.value),b["continue"]()};return b.promise().then(function(){return c})};function th(b){return Promise.reject(new A(2,9,9011,"Cannot add new value to "+b))}function uh(b,c,d,e){b=jh(b.a,c);var f=b.store();d.forEach(function(b){f["delete"](b).onsuccess=function(){return e(b)}});return b.promise()}
function vh(b,c,d){b=kh(b.a,c,"readonly");var e=b.store(),f={},g=[];d.forEach(function(b){e.get(b).onsuccess=function(c){c=c.target.result;void 0==c&&g.push(b);f[b]=c}});return b.promise().then(function(){return g.length?Promise.reject(new A(2,9,9012,"Could not find values for "+g)):d.map(function(b){return f[b]})})}
function xh(b){return{originalManifestUri:b.originalManifestUri,duration:b.duration,size:b.size,expiration:null==b.expiration?Infinity:b.expiration,periods:b.periods.map(yh),sessionIds:b.sessionIds,drmInfo:b.drmInfo,appMetadata:b.appMetadata}}function yh(b){zh(b);b.streams.forEach(function(){});return{startTime:b.startTime,streams:b.streams.map(Ah)}}
function Ah(b){var c=b.ad?Bh(b.ad):null;return{id:b.id,primary:b.primary,presentationTimeOffset:b.presentationTimeOffset,contentType:b.contentType,mimeType:b.mimeType,codecs:b.codecs,frameRate:b.frameRate,kind:b.kind,language:b.language,label:b.label,width:b.width,height:b.height,initSegmentKey:c,encrypted:b.encrypted,keyId:b.keyId,segments:b.segments.map(Ch),variantIds:b.variantIds}}function Ch(b){var c=Bh(b.uri);return{startTime:b.startTime,endTime:b.endTime,dataKey:c}}
function wh(b){return{data:b.data}}function Bh(b){var c;if((c=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(b))||(c=/^offline:segment\/([0-9]+)$/.exec(b)))return Number(c[1]);throw new A(2,9,9004,"Could not parse uri "+b);}
function zh(b){var c=b.streams.filter(function(b){return"audio"==b.contentType}),d=b.streams.filter(function(b){return"video"==b.contentType});if(!c.every(function(b){return b.variantIds})||!d.every(function(b){return b.variantIds})){c.forEach(function(b){b.variantIds=[]});d.forEach(function(b){b.variantIds=[]});var e=0;if(d.length&&!c.length){var f=e++;d.forEach(function(b){b.variantIds.push(f)})}if(!d.length&&c.length){var g=e++;c.forEach(function(b){b.variantIds.push(g)})}d.length&&c.length&&c.forEach(function(b){d.forEach(function(c){var d=
e++;b.variantIds.push(d);c.variantIds.push(d)})})}};function Dh(b,c,d,e){this.a=new ih(b);this.c=c;this.b=d;this.f=e}n=Dh.prototype;n.destroy=function(){return this.a.destroy()};n.hasFixedKeySpace=function(){return this.f};n.addSegments=function(b){return Eh(this,this.c,b)};n.removeSegments=function(b,c){return Fh(this,this.c,b,c)};n.getSegments=function(b){return Gh(this,this.c,b)};n.addManifests=function(b){return Eh(this,this.b,b)};
n.updateManifestExpiration=function(b,c){var d=jh(this.a,this.b),e=d.store();e.get(b).onsuccess=function(d){if(d=d.target.result)d.expiration=c,e.put(d,b)};return d.promise()};n.removeManifests=function(b,c){return Fh(this,this.b,b,c)};n.getManifests=function(b){return Gh(this,this.b,b)};n.getAllManifests=function(){var b=kh(this.a,this.b,"readonly"),c={};b.store().openCursor().onsuccess=function(b){if(b=b.target.result)c[b.key]=b.value,b["continue"]()};return b.promise().then(function(){return c})};
function Eh(b,c,d){if(b.f)return Promise.reject(new A(1,9,9011,"Cannot add new value to "+c));b=jh(b.a,c);var e=b.store(),f=[];d.forEach(function(b){e.add(b).onsuccess=function(b){f.push(b.target.result)}});return b.promise().then(function(){return f})}function Fh(b,c,d,e){b=jh(b.a,c);var f=b.store();d.forEach(function(b){f["delete"](b).onsuccess=function(){return e(b)}});return b.promise()}
function Gh(b,c,d){b=kh(b.a,c,"readonly");var e=b.store(),f={},g=[];d.forEach(function(b){var c=e.get(b);c.onsuccess=function(){void 0==c.result&&g.push(b);f[b]=c.result}});return b.promise().then(function(){return g.length?Promise.reject(new A(1,9,9012,"Could not find values for "+g)):d.map(function(b){return f[b]})})};function Hh(){this.c=this.b=this.a=this.f=null}
Hh.prototype.init=function(){var b=this,c=new z,d=window.indexedDB.open("shaka_offline_db",3);d.onsuccess=function(d){d=d.target.result;b.f=d;var e=d.objectStoreNames;e=e.contains("manifest")&&e.contains("segment")?new sh(d):null;b.a=e;e=d.objectStoreNames;e=e.contains("manifest-v2")&&e.contains("segment-v2")?new Dh(d,"segment-v2","manifest-v2",!0):null;b.b=e;e=d.objectStoreNames;d=e.contains("manifest-v3")&&e.contains("segment-v3")?new Dh(d,"segment-v3","manifest-v3",!1):null;b.c=d;c.resolve()};
d.onupgradeneeded=function(b){b=b.target.result;var c={autoIncrement:!0};b.createObjectStore("manifest-v3",c);b.createObjectStore("segment-v3",c)};d.onerror=function(b){c.reject(new A(2,9,9001,d.error));b.preventDefault()};return c};
Hh.prototype.destroy=function(){var b=this;return p(function d(){return v(d,function(d){switch(d.v){case 1:if(!b.a){d.V(2);break}return q(d,b.a.destroy(),2);case 2:if(!b.b){d.V(4);break}return q(d,b.b.destroy(),4);case 4:if(!b.c){d.V(6);break}return q(d,b.c.destroy(),6);case 6:b.f&&b.f.close(),d.v=0}})})};Hh.prototype.getCells=function(){var b={};this.a&&(b.v1=this.a);this.b&&(b.v2=this.b);this.c&&(b.v3=this.c);return b};
Hh.prototype.erase=function(){var b=this;return p(function d(){return v(d,function(d){switch(d.v){case 1:if(!b.a){d.V(2);break}return q(d,b.a.destroy(),2);case 2:if(!b.b){d.V(4);break}return q(d,b.b.destroy(),4);case 4:if(!b.c){d.V(6);break}return q(d,b.c.destroy(),6);case 6:return b.f&&b.f.close(),q(d,Ih(),8);case 8:return b.f=null,b.a=null,b.b=null,b.c=null,q(d,b.init(),0)}})})};
function Ih(){var b=new z,c=window.indexedDB.deleteDatabase("shaka_offline_db");c.onblocked=function(){};c.onsuccess=function(){b.resolve()};c.onerror=function(d){b.reject(new A(2,9,9001,c.error));d.preventDefault()};return b}mh.idb=function(){return window.indexedDB?new Hh:null};function Jh(b,c,d,e){this.a=b;this.g=c;this.f=d;this.c=e;this.b=["offline:",b,"/",c,"/",d,"/",e].join("")}Jh.prototype.Z=function(){return this.g};Jh.prototype.N=function(){return this.f};Jh.prototype.key=function(){return this.c};Jh.prototype.toString=function(){return this.b};
function Kh(b){b=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(b);if(null==b)return null;var c=b[1];if("manifest"!=c&&"segment"!=c)return null;var d=b[2];if(!d)return null;var e=b[3];return e&&null!=c?new Jh(c,d,e,Number(b[4])):null};function Lh(b,c){this.b=b;this.a=c}function Mh(b,c){var d=new T(null,0);d.ia(c.duration);var e=c.periods.map(function(c){return Nh(b,c,d)}),f=c.drmInfo?[c.drmInfo]:[];c.drmInfo&&e.forEach(function(b){b.variants.forEach(function(b){b.drmInfos=f})});return{presentationTimeline:d,minBufferTime:2,offlineSessionIds:c.sessionIds,periods:e}}
function Nh(b,c,d){var e=c.streams.filter(function(b){return"audio"==b.contentType}),f=c.streams.filter(function(b){return"video"==b.contentType});e=Oh(b,e,f);f=c.streams.filter(function(b){return"text"==b.contentType}).map(function(c){return Ph(b,c)});c.streams.forEach(function(c,e){var f=c.segments.map(function(c,d){return Qh(b,d,c)});d.La(f,0==e)});return{startTime:c.startTime,variants:e,textStreams:f}}
function Oh(b,c,d){var e={},f=[];f.push.apply(f,c);f.push.apply(f,d);f.forEach(function(b){b.variantIds.forEach(function(b){e[b]=e[b]||{id:b,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}})});c.forEach(function(c){var d=Ph(b,c);c.variantIds.forEach(function(b){b=e[b];b.language=d.language;b.primary=b.primary||d.primary;b.audio=d})});d.forEach(function(c){var d=Ph(b,c);c.variantIds.forEach(function(b){b=e[b];b.primary=b.primary||
d.primary;b.video=d})});return G(e)}
function Ph(b,c){var d=c.segments.map(function(c,d){return Qh(b,d,c)}),e=new S(d);d={id:c.id,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(b){return e.find(b)},getSegmentReference:function(b){return e.get(b)},initSegmentReference:null,presentationTimeOffset:c.presentationTimeOffset,mimeType:c.mimeType,codecs:c.codecs,width:c.width||void 0,height:c.height||void 0,frameRate:c.frameRate||void 0,kind:c.kind,encrypted:c.encrypted,keyId:c.keyId,language:c.language,
label:c.label||null,type:c.contentType,primary:c.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};null!=c.initSegmentKey&&(d.initSegmentReference=Rh(b,c.initSegmentKey));return d}function Qh(b,c,d){var e=new Jh("segment",b.b,b.a,d.dataKey);return new O(c,d.startTime,d.endTime,function(){return[e.toString()]},0,null)}function Rh(b,c){var d=new Jh("segment",b.b,b.a,c);return new N(function(){return[d.toString()]},0,null)};function Sh(){this.a=null}n=Sh.prototype;n.configure=function(){};n.start=function(b){var c=Kh(b);this.a=c;if(null==c||"manifest"!=c.a)return Promise.reject(new A(2,1,9004,c));var d=new lh;return lb([d],function(){return p(function f(){var b,h,k,l;return v(f,function(f){switch(f.v){case 1:return q(f,d.init(),2);case 2:return q(f,ph(d,c.Z(),c.N()),3);case 3:return b=f.I,q(f,b.getManifests([c.key()]),4);case 4:return h=f.I,k=h[0],l=new Lh(c.Z(),c.N()),f["return"](Mh(l,k))}})})})};n.stop=function(){return Promise.resolve()};
n.update=function(){};n.onExpirationUpdated=function(b,c){var d=this.a,e=new lh;return lb([e],function(){return p(function g(){var h,k,l,m,r;return v(g,function(g){switch(g.v){case 1:return q(g,e.init(),2);case 2:return q(g,ph(e,d.Z(),d.N()),3);case 3:return h=g.I,q(g,h.getManifests([d.key()]),4);case 4:k=g.I;l=k[0];m=0<=l.sessionIds.indexOf(b);r=void 0==l.expiration||l.expiration>c;if(m&&r)return q(g,h.updateManifestExpiration(d.key(),c),0);g.V(0)}})})})["catch"](function(){})};
Le["application/x-offline-manifest"]=Sh;function Th(b){var c=Kh(b);return c&&"manifest"==c.a?Th.a(b):c&&"segment"==c.a?Th.b(c.key(),c):$a(new A(2,1,9004,b))}x("shaka.offline.OfflineScheme",Th);Th.a=function(b){b={uri:b,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return bb(b)};
Th.b=function(b,c){var d=new lh,e=lb([d],function(){return p(function g(){var b,e,l;return v(g,function(g){switch(g.v){case 1:return q(g,d.init(),2);case 2:return q(g,ph(d,c.Z(),c.N()),3);case 3:return b=g.I,q(g,b.getSegments([c.key()]),4);case 4:return e=g.I,l=e[0],g["return"]({uri:c,data:l.data,headers:{}})}})})});return cb(e)};pb("offline",Th);function X(b){this.a=null;this.b=b;for(var c=0;c<b.textTracks.length;++c){var d=b.textTracks[c];d.mode="disabled";"Shaka Player TextTrack"==d.label&&(this.a=d)}this.a||(this.a=b.addTextTrack("subtitles","Shaka Player TextTrack"));this.a.mode="hidden"}x("shaka.text.SimpleTextDisplayer",X);X.prototype.remove=function(b,c){if(!this.a)return!1;Uh(this.a,function(d){return!(d.startTime>=c||d.endTime<=b)});return!0};X.prototype.remove=X.prototype.remove;
X.prototype.append=function(b){var c=[];if(window.VTTRegion){var d=b.map(function(b){return b.region});d=d.filter(Fb);for(var e=0;e<d.length;e++){var f=Vh(this,d[e]);c.push(f)}}var g=[];for(d=0;d<b.length;d++)(e=Wh(b[d],c))&&g.push(e);g.slice().sort(function(b,c){return b.startTime!=c.startTime?b.startTime-c.startTime:b.endTime!=c.endTime?b.endTime-c.startTime:g.indexOf(c)-g.indexOf(b)}).forEach(function(b){this.a.addCue(b)}.bind(this))};X.prototype.append=X.prototype.append;
X.prototype.destroy=function(){this.a&&Uh(this.a,function(){return!0});this.b=this.a=null;return Promise.resolve()};X.prototype.destroy=X.prototype.destroy;X.prototype.isTextVisible=function(){return"showing"==this.a.mode};X.prototype.isTextVisible=X.prototype.isTextVisible;X.prototype.setTextVisibility=function(b){this.a.mode=b?"showing":"hidden"};X.prototype.setTextVisibility=X.prototype.setTextVisibility;
function Wh(b,c){if(b.startTime>=b.endTime)return null;var d=new VTTCue(b.startTime,b.endTime,b.payload);d.lineAlign=b.lineAlign;d.positionAlign=b.positionAlign;d.size=b.size;try{d.align=b.textAlign}catch(f){}"center"==b.textAlign&&"center"!=d.align&&(d.align="middle");2==b.writingDirection?d.vertical="lr":3==b.writingDirection&&(d.vertical="rl");1==b.lineInterpretation&&(d.snapToLines=!1);null!=b.line&&(d.line=b.line);null!=b.position&&(d.position=b.position);if(b.region.id.length){var e=c.filter(function(c){return c.id==
b.region.id});e.length&&(d.region=e[0])}return d}function Vh(b,c){var d=new VTTRegion,e=b.b.offsetWidth,f=b.b.offsetHeight;d.id=c.id;d.regionAnchorX=c.regionAnchorX;d.regionAnchorY=c.regionAnchorY;d.scroll=c.scroll;2==c.heightUnits&&(d.lines=c.height);d.width=0==c.widthUnits?100*c.width/e:c.width;0==c.viewportAnchorUnits?(d.viewportAnchorX=100*c.viewportAnchorX/e,d.viewportAnchorY=100*c.viewportAnchorY/f):(d.viewportAnchorX=c.viewportAnchorX,d.viewportAnchorY=c.viewportAnchorY);return d}
function Uh(b,c){var d=b.mode;b.mode="showing"==d?"showing":"hidden";for(var e=b.cues,f=e.length-1;0<=f;f--){var g=e[f];g&&c(g)&&b.removeCue(g)}b.mode=d};function Xh(){this.vb=new vb;this.Zb=this}Xh.prototype.addEventListener=function(b,c){this.vb.push(b,c)};Xh.prototype.removeEventListener=function(b,c){this.vb.remove(b,c)};Xh.prototype.dispatchEvent=function(b){for(var c=this.vb.get(b.type)||[],d=0;d<c.length;++d){b.target=this.Zb;b.currentTarget=this.Zb;var e=c[d];try{e.handleEvent?e.handleEvent(b):e.call(this,b)}catch(f){}if(b.a)break}return b.defaultPrevented};function Y(b,c){Xh.call(this);this.ta=!1;this.f=null;this.Ta=!1;this.w=null;this.o=new wb;this.h=this.wb=this.b=this.m=this.a=this.B=this.g=this.i=this.l=this.u=null;this.Dc=1E9;this.hb=[];this.kb=!1;this.ua=!0;this.P=this.lb=this.Ea=null;this.Yb=!1;this.H=null;this.jb=[];this.L={};this.c=Yh(this);this.ib={width:Infinity,height:Infinity};this.j=Zh();this.gb=0;this.M=this.c.preferredAudioLanguage;this.ea=this.c.preferredTextLanguage;this.Da=this.c.preferredVariantRole;this.Sa=this.c.preferredTextRole;
this.W=this.c.preferredAudioChannelCount;c&&c(this);this.u=new C(this.de.bind(this));b&&this.mb(b,!0)}Aa(Y,Xh);x("shaka.Player",Y);function $h(b){if(!b.Ea)return Promise.resolve();var c=Promise.resolve();b.m&&(c=b.m.stop(),b.m=null);return Promise.all([c,b.Ea()])}
Y.prototype.destroy=function(){var b=this;return p(function d(){var e;return v(d,function(d){switch(d.v){case 1:return q(d,b.detach(),2);case 2:return b.ta=!0,e=Promise.all([b.o?b.o.destroy():null,b.u?b.u.destroy():null]),b.Ta=!1,b.o=null,b.h=null,b.u=null,b.c=null,q(d,e,0)}})})};Y.prototype.destroy=Y.prototype.destroy;Y.version="v2.4.4";var ai={};Y.registerSupportPlugin=function(b,c){ai[b]=c};
Y.isBrowserSupported=function(){return!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach&&!!window.MediaSource&&!!MediaSource.isTypeSupported&&!!window.MediaKeys&&!!window.navigator&&!!window.navigator.requestMediaKeySystemAccess&&!!window.MediaKeySystemAccess&&!!window.MediaKeySystemAccess.prototype.getConfiguration};Y.probeSupport=function(){return rc().then(function(b){var c=Ne(),d=Uc();b={manifest:c,media:d,drm:b};for(var e in ai)b[e]=ai[e]();return b})};
Y.prototype.mb=function(b,c){var d=this;return p(function f(){return v(f,function(f){switch(f.v){case 1:void 0===c&&(c=!0);if(!d.f){f.V(2);break}return q(f,d.detach(),2);case 2:d.f=b;D(d.o,d.f,"error",d.yd.bind(d));if(c)return d.i=new Tc(d.f),q(f,d.i.j,0);f.V(0)}})})};Y.prototype.attach=Y.prototype.mb;Y.prototype.detach=function(){var b=this;return p(function d(){return v(d,function(d){switch(d.v){case 1:return b.f?q(d,b.Vb(!1),2):d["return"]();case 2:b.o.ma(b.f,"error"),b.f=null,d.v=0}})})};
Y.prototype.detach=Y.prototype.detach;function bi(b,c,d){return p(function f(){var g,h;return v(f,function(f){switch(f.v){case 1:return q(f,Oe(c,b.u,b.c.manifest.retryParameters,d),2);case 2:return g=f.I,b.m=new g,b.m.configure(b.c.manifest),h={networkingEngine:b.u,filterNewPeriod:b.ob.bind(b),filterAllPeriods:b.Rb.bind(b),onTimelineRegionAdded:b.xd.bind(b),onEvent:b.eb.bind(b),onError:b.Ra.bind(b)},f["return"](b.m.start(c,h))}})})}
function ci(b){b.b.periods.some(function(b){return b.variants.some(function(b){return b.video&&b.audio})})&&b.b.periods.forEach(function(b){b.variants=b.variants.filter(function(b){return b.video&&b.audio})});if(0==b.b.periods.length)throw new A(2,4,4014);}function di(b){var c=b.b.presentationTimeline.R(),d=b.c.playRangeEnd,e=b.c.playRangeStart;0<e&&(b.Y()||b.b.presentationTimeline.xc(e));d<c&&(b.Y()||b.b.presentationTimeline.ia(d))}
Y.prototype.load=function(b,c,d){var e=this;return p(function g(){var h,k,l,m,r,t,u,w,y,Da,Qa;return v(g,function(g){switch(g.v){case 1:if(!e.f)throw new A(2,7,7002);k=new z;l=function(){h=new A(2,7,7E3);return k};e.dispatchEvent(new E("loading"));m=Date.now();oa(g,2);r=e.Vb();e.Ea=l;return q(g,r,4);case 4:e.j=Zh();D(e.o,e.f,"playing",e.fb.bind(e));D(e.o,e.f,"pause",e.fb.bind(e));D(e.o,e.f,"ended",e.fb.bind(e));t=e.c.abrFactory;e.h=new t;e.h.configure(e.c.abr);e.w=new e.c.textDisplayFactory;e.w.setTextVisibility(e.Ta);
if(h)throw h;u=e;return q(g,bi(e,b,d),5);case 5:u.b=g.I;e.wb=b;if(h)throw h;ci(e);e.l=new ac({Ka:e.u,onError:e.Ra.bind(e),rb:e.ld.bind(e),onExpirationUpdated:e.jd.bind(e),onEvent:e.eb.bind(e)});e.l.configure(e.c.drm);return q(g,e.l.init(e.b,!1),6);case 6:if(h)throw h;e.Rb(e.b.periods);e.gb=Date.now()/1E3;e.M=e.c.preferredAudioLanguage;e.ea=e.c.preferredTextLanguage;e.W=e.c.preferredAudioChannelCount;di(e);return q(g,e.l.mb(e.f),7);case 7:if(h)throw h;e.h.init(e.ee.bind(e));e.i||(e.i=new Tc(e.f));
e.i.o=e.w;e.g=new kg(e.f,e.b,e.c.streaming,void 0==c?null:c,e.ce.bind(e),e.eb.bind(e));e.B=new pg(e.f,e.i,e.b,e.c.streaming,e.yc.bind(e),e.eb.bind(e),e.be.bind(e));e.a=new tg(e.b,{Na:e.g,J:e.i,Ka:e.u,lc:e.fd.bind(e),kc:e.Gc.bind(e),onError:e.Ra.bind(e),onEvent:e.eb.bind(e),md:e.nd.bind(e),Za:e.vd.bind(e),filterNewPeriod:e.ob.bind(e),filterAllPeriods:e.Rb.bind(e)});e.a.configure(e.c.streaming);ei(e);e.dispatchEvent(new E("streaming"));return q(g,e.a.init(),8);case 8:if(h)throw h;e.c.streaming.startAtSegmentBoundary&&
(w=fi(e,ng(e.g)),hg(e.g.a,w));e.b.periods.forEach(e.ob.bind(e));gi(e);hi(e);y=V(e.a);Da=wd(y.variants,e.M,e.Da,e.W);e.h.setVariants(Da);y.variants.some(function(b){return b.primary});e.jb.forEach(e.B.o.bind(e.B));e.jb=[];zb(e.o,e.f,"loadeddata",function(){this.j.loadLatency=(Date.now()-m)/1E3}.bind(e));if(h)throw h;e.Ea=null;qa(g);break;case 2:return Qa=ra(g),k.resolve(),e.Ea==l&&(e.Ea=null,e.dispatchEvent(new E("unloading"))),h?g["return"](Promise.reject(h)):g["return"](Promise.reject(Qa))}})})};
Y.prototype.load=Y.prototype.load;
function ei(b){function c(b){return(b.video?b.video.codecs.split(".")[0]:"")+"-"+(b.audio?b.audio.codecs.split(".")[0]:"")}var d=b.b.periods.reduce(function(b,c){return b.concat(c.variants)},[]);d=Bd(d,b.c.preferredAudioChannelCount);var e={};d.forEach(function(b){var d=c(b);d in e||(e[d]=[]);e[d].push(b)});var f=null,g=Infinity;Kb(e,function(b,c){var d=0,e=0;c.forEach(function(b){d+=b.bandwidth||0;++e});var h=d/e;h<g&&(f=b,g=h)});b.b.periods.forEach(function(b){b.variants=b.variants.filter(function(b){return c(b)==
f?!0:!1})})}Y.prototype.configure=function(b,c){if(2==arguments.length&&"string"==typeof b){for(var d=b,e={},f=e,g=0,h=0;;){g=d.indexOf(".",g);if(0>g)break;if(0==g||"\\"!=d[g-1])h=d.substring(h,g).replace(/\\\./g,"."),f[h]={},f=f[h],h=g+1;g+=1}f[d.substring(h).replace(/\\\./g,".")]=c;b=e}d=jb(this.c,b,Yh(this),ii(),"");ji(this);return d};Y.prototype.configure=Y.prototype.configure;
function ji(b){b.m&&b.m.configure(b.c.manifest);b.l&&b.l.configure(b.c.drm);if(b.a){b.a.configure(b.c.streaming);try{b.b.periods.forEach(b.ob.bind(b))}catch(e){b.Ra(e)}var c=V(b.a),d=Fd(xg(b.a),zg(b.a),c.variants);d&&d.allowedByApplication&&d.allowedByKeySystem||ki(b,c)}b.h&&(b.h.configure(b.c.abr),b.c.abr.enabled&&!b.ua?b.h.enable():b.h.disable())}Y.prototype.getConfiguration=function(){var b=Yh(this);jb(b,this.c,Yh(this),ii(),"");return b};Y.prototype.getConfiguration=Y.prototype.getConfiguration;
Y.prototype.Pd=function(){this.c=Yh(this);ji(this)};Y.prototype.resetConfiguration=Y.prototype.Pd;Y.prototype.Sc=function(){return this.f};Y.prototype.getMediaElement=Y.prototype.Sc;Y.prototype.Tc=function(){return this.u};Y.prototype.getNetworkingEngine=Y.prototype.Tc;Y.prototype.Rc=function(){return this.wb};Y.prototype.getManifestUri=Y.prototype.Rc;Y.prototype.Y=function(){return this.b?this.b.presentationTimeline.Y():!1};Y.prototype.isLive=Y.prototype.Y;
Y.prototype.xa=function(){return this.b?this.b.presentationTimeline.xa():!1};Y.prototype.isInProgress=Y.prototype.xa;Y.prototype.bd=function(){if(!this.b||!this.b.periods.length)return!1;var b=this.b.periods[0].variants;return b.length?!b[0].video:!1};Y.prototype.isAudioOnly=Y.prototype.bd;Y.prototype.Rd=function(){var b=0,c=0;this.b&&(c=this.b.presentationTimeline,b=c.Ga(),c=c.ka());return{start:b,end:c}};Y.prototype.seekRange=Y.prototype.Rd;
Y.prototype.keySystem=function(){return this.l?this.l.keySystem():""};Y.prototype.keySystem=Y.prototype.keySystem;Y.prototype.drmInfo=function(){return this.l?this.l.b:null};Y.prototype.drmInfo=Y.prototype.drmInfo;Y.prototype.pb=function(){return this.l?this.l.pb():Infinity};Y.prototype.getExpiration=Y.prototype.pb;Y.prototype.cd=function(){return this.kb};Y.prototype.isBuffering=Y.prototype.cd;
Y.prototype.Vb=function(b){var c=this;return p(function e(){return v(e,function(e){switch(e.v){case 1:if(c.ta)return e["return"]();void 0===b&&(b=!0);c.dispatchEvent(new E("unloading"));return q(e,$h(c),2);case 2:return c.lb||(c.lb=li(c).then(function(){c.yc(!1);c.lb=null})),q(e,c.lb,3);case 3:if(b)return c.i=new Tc(c.f),q(e,c.i.j,0);e.V(0)}})})};Y.prototype.unload=Y.prototype.Vb;Y.prototype.Ua=function(){return this.g?this.g.Ua():0};Y.prototype.getPlaybackRate=Y.prototype.Ua;
Y.prototype.ie=function(b){this.g&&jg(this.g.a,b);this.a&&Fg(this.a,1!=b)};Y.prototype.trickPlay=Y.prototype.ie;Y.prototype.Hc=function(){this.g&&jg(this.g.a,1);this.a&&Fg(this.a,!1)};Y.prototype.cancelTrickPlay=Y.prototype.Hc;Y.prototype.$c=function(){if(!this.b||!this.g)return[];var b=Hd(this.b,ng(this.g)),c=this.L[b]||{};return sd(this.b.periods[b],c.audio,c.video)};Y.prototype.getVariantTracks=Y.prototype.$c;
Y.prototype.Zc=function(){if(!this.b||!this.g)return[];var b=Hd(this.b,ng(this.g)),c=this.L[b]||{};if(!c.text){var d=Dd(this.b.periods[b].textStreams,this.ea,this.Sa);d.length&&(c.text=d[0].id)}return td(this.b.periods[b],c.text).filter(function(b){return 0>this.hb.indexOf(b.id)}.bind(this))};Y.prototype.getTextTracks=Y.prototype.Zc;
Y.prototype.Vd=function(b){if(this.a){a:{for(var c=V(this.a),d=0;d<c.textStreams.length;d++)if(c.textStreams[d].id==b.id){b=c.textStreams[d];break a}b=null}b&&(this.i.l=!1,mi(this,b,!1),c=b,this.ua?this.H=c:Gg(this.a,c,!0),this.ea=b.language)}};Y.prototype.selectTextTrack=Y.prototype.Vd;Y.prototype.Td=function(){this.i.l=!0;Eg(this.a)};Y.prototype.selectEmbeddedTextTrack=Y.prototype.Td;Y.prototype.ne=function(){return this.i?this.i.l:!1};Y.prototype.usingEmbeddedTextTrack=Y.prototype.ne;
Y.prototype.Wd=function(b,c){if(this.a){this.c.abr.enabled&&Ga("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var d=V(this.a),e=ud(d,b);e&&vd(e)&&(ni(this,e,!1),oi(this,e,c),this.M=e.language,e.audio&&e.audio.channelsCount&&(this.W=e.audio.channelsCount),d=wd(d.variants,this.M,this.Da,this.W),this.h.setVariants(d))}};Y.prototype.selectVariantTrack=Y.prototype.Wd;
Y.prototype.Nc=function(){if(!this.a)return[];var b=rd(V(this.a).variants).map(function(b){return b.audio}).filter(Fb);return pi(b)};Y.prototype.getAudioLanguagesAndRoles=Y.prototype.Nc;Y.prototype.Yc=function(){return this.a?pi(V(this.a).textStreams):[]};Y.prototype.getTextLanguagesAndRoles=Y.prototype.Yc;Y.prototype.Mc=function(){return this.a?rd(V(this.a).variants).map(function(b){return b.language}).filter(Fb):[]};Y.prototype.getAudioLanguages=Y.prototype.Mc;
Y.prototype.Xc=function(){return this.a?V(this.a).textStreams.map(function(b){return b.language}).filter(Fb):[]};Y.prototype.getTextLanguages=Y.prototype.Xc;function pi(b){var c=[];b.forEach(function(b){if(b){var d=b.language;b.roles.length?b.roles.forEach(function(b){c.push({language:d,role:b})}):c.push({language:d,role:""})}else c.push({language:"und",role:""})});return fb(c,function(b,c){return b.language==c.language&&b.role==c.role})}
Y.prototype.Sd=function(b,c){if(this.a){var d=V(this.a);this.M=b;this.Da=c||"";ki(this,d)}};Y.prototype.selectAudioLanguage=Y.prototype.Sd;Y.prototype.Ud=function(b,c){if(this.a){var d=V(this.a);this.ea=b;this.Sa=c||"";ki(this,d)}};Y.prototype.selectTextLanguage=Y.prototype.Ud;Y.prototype.Fb=function(){return this.w?this.w.isTextVisible():this.Ta};Y.prototype.isTextTrackVisible=Y.prototype.Fb;
Y.prototype.$d=function(b){this.w&&this.w.setTextVisibility(b);this.Ta=b;qi(this);!this.c.streaming.alwaysStreamText&&this.a&&(b?(b=Dd(V(this.a).textStreams,this.ea,this.Sa)[0])&&Ag(this.a,b,!0):Eg(this.a))};Y.prototype.setTextTrackVisibility=Y.prototype.$d;Y.prototype.Uc=function(){return this.b?new Date(1E3*this.b.presentationTimeline.f+1E3*this.f.currentTime):null};Y.prototype.getPlayheadTimeAsDate=Y.prototype.Uc;
Y.prototype.Wc=function(){return this.b?new Date(1E3*this.b.presentationTimeline.f):null};Y.prototype.getPresentationStartTimeAsDate=Y.prototype.Wc;Y.prototype.Ab=function(){return this.i?this.i.Ab():{total:[],audio:[],video:[],text:[]}};Y.prototype.getBufferedInfo=Y.prototype.Ab;
Y.prototype.getStats=function(){ri(this);this.fb();var b=null,c=null,d=this.f;d=d&&d.getVideoPlaybackQuality?d.getVideoPlaybackQuality():{};if(this.g&&this.b){var e=Hd(this.b,ng(this.g)),f=this.b.periods[e];if(e=this.L[e])c=Gd(e.audio,e.video,f.variants),b=c.video||{}}b||(b={});c||(c={});return{width:b.width||0,height:b.height||0,streamBandwidth:c.bandwidth||0,decodedFrames:Number(d.totalVideoFrames),droppedFrames:Number(d.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():
NaN,loadLatency:this.j.loadLatency,playTime:this.j.playTime,bufferingTime:this.j.bufferingTime,switchHistory:kb(this.j.switchHistory),stateHistory:kb(this.j.stateHistory)}};Y.prototype.getStats=Y.prototype.getStats;
Y.prototype.addTextTrack=function(b,c,d,e,f,g){if(!this.a)return Promise.reject();var h=V(this.a),k=this.b.periods.indexOf(h)+1,l=(k>=this.b.periods.length?this.b.presentationTimeline.R():this.b.periods[k].startTime)-h.startTime;if(Infinity==l)return Promise.reject(new A(1,4,4033));var m={id:this.Dc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(c){return 1!=c?null:new O(1,0,l,function(){return[b]},0,null)},initSegmentReference:null,
presentationTimeOffset:0,mimeType:e,codecs:f||"",kind:d,encrypted:!1,keyId:null,language:c,label:g||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};this.hb.push(m.id);h.textStreams.push(m);return Ag(this.a,m,this.Ta).then(function(){if(!this.ta){var b=this.b.periods.indexOf(h),e=yg(this.a,"text");e&&(this.L[b].text=e.id);this.hb.splice(this.hb.indexOf(m.id),1);ki(this,h);gi(this);return{id:m.id,active:!1,type:"text",bandwidth:0,language:c,label:g||
null,kind:d,width:null,height:null}}}.bind(this))};Y.prototype.addTextTrack=Y.prototype.addTextTrack;Y.prototype.Zd=function(b,c){this.ib.width=b;this.ib.height=c};Y.prototype.setMaxHardwareResolution=Y.prototype.Zd;Y.prototype.sc=function(){if(this.a){var b=this.a;if(b.f)b=!1;else if(b.l)b=!1;else{for(var c in b.c){var d=b.c[c];d.Xa&&(d.Xa=!1,Dg(b,d,.1))}b=!0}}else b=!1;return b};Y.prototype.retryStreaming=Y.prototype.sc;Y.prototype.Qc=function(){return this.b};Y.prototype.getManifest=Y.prototype.Qc;
function ni(b,c,d){c.video&&si(b,c.video);c.audio&&si(b,c.audio);var e=wg(b.a);c!=Fd(xg(b.a),zg(b.a),e?e.variants:[])&&b.j.switchHistory.push({timestamp:Date.now()/1E3,id:c.id,type:"variant",fromAdaptation:d,bandwidth:c.bandwidth})}function mi(b,c,d){si(b,c);b.j.switchHistory.push({timestamp:Date.now()/1E3,id:c.id,type:"text",fromAdaptation:d,bandwidth:null})}function si(b,c){var d=Id(b.b,c);b.L[d]||(b.L[d]={});b.L[d][c.type]=c.id}
function li(b){b.o&&(b.o.ma(b.f,"loadeddata"),b.o.ma(b.f,"playing"),b.o.ma(b.f,"pause"),b.o.ma(b.f,"ended"));var c=Promise.all([b.h?b.h.stop():null,b.i?b.i.destroy():null,b.l?b.l.destroy():null,b.g?b.g.destroy():null,b.B?b.B.destroy():null,b.a?b.a.destroy():null,b.m?b.m.stop():null,b.w?b.w.destroy():null]);b.ua=!0;b.l=null;b.i=null;b.g=null;b.B=null;b.a=null;b.m=null;b.w=null;b.b=null;b.wb=null;b.jb=[];b.L={};b.j=Zh();return c}
function ii(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}
function Yh(b){var c=5E5,d=Infinity;navigator.connection&&navigator.connection.type&&(c=1E6*navigator.connection.downlink,navigator.connection.saveData&&(d=360));return{drm:{retryParameters:Ya(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:Ya(),availabilityWindowOverride:NaN,dash:{customScheme:function(b){if(b)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:Ya(),failureCallback:b.Kc.bind(b),
rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1},abrFactory:K,textDisplayFactory:function(){return new X(b.f)},abr:{enabled:!0,defaultBandwidthEstimate:c,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:d,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}},
preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity},playRangeStart:0,playRangeEnd:Infinity}}n=Y.prototype;n.Kc=function(b){var c=[1001,1002,1003];this.Y()&&0<=c.indexOf(b.code)&&(b.severity=1,this.sc())};
function Zh(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}
n.Rb=function(b){b.forEach(md.bind(null,this.l,this.a?xg(this.a):null,this.a?zg(this.a):null));var c=ib(b,function(b){return b.variants.some(vd)});if(0==c)throw new A(2,4,4032);if(c<b.length)throw new A(2,4,4011);b.forEach(function(b){ld(b,this.c.restrictions,this.ib)&&this.a&&V(this.a)==b&&gi(this);if(!b.variants.some(vd))throw new A(2,4,4012);}.bind(this))};
n.ob=function(b){md(this.l,this.a?xg(this.a):null,this.a?zg(this.a):null,b);var c=b.variants,d=c.some(vd);ld(b,this.c.restrictions,this.ib)&&this.a&&V(this.a)==b&&gi(this);b=c.some(vd);if(!d)throw new A(2,4,4011);if(!b)throw new A(2,4,4012);};function oi(b,c,d){b.ua?(b.P=c,b.Yb=d||!1):Hg(b.a,c,d||!1)}function ri(b){if(b.b){var c=Date.now()/1E3;b.kb?b.j.bufferingTime+=c-b.gb:b.j.playTime+=c-b.gb;b.gb=c}}
function fi(b,c){function d(b,c){if(!b)return null;var d=b.findSegmentPosition(c-f.startTime);return null==d?null:(d=b.getSegmentReference(d))?d.startTime+f.startTime:null}var e=zg(b.a),f=V(b.a),g=d(xg(b.a),c);e=d(e,c);return null!=e&&null!=g?Math.max(e,g):null!=e?e:null!=g?g:c}n.de=function(b,c){this.h&&this.h.segmentDownloaded(b,c)};n.yc=function(b){ri(this);this.kb=b;this.fb();if(this.g){var c=this.g.a;b!=c.g&&(c.g=b,jg(c,c.f))}this.dispatchEvent(new E("buffering",{buffering:b}))};n.be=function(){gi(this)};
n.fb=function(){if(!this.ta){var b=this.kb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing";var c=Date.now()/1E3;if(this.j.stateHistory.length){var d=this.j.stateHistory[this.j.stateHistory.length-1];d.duration=c-d.timestamp;if(b==d.state)return}this.j.stateHistory.push({timestamp:c,state:b,duration:0})}};n.ce=function(){if(this.B){var b=this.B;b.c.forEach(b.m.bind(b,!0))}this.a&&Kg(this.a)};
function ti(b,c){if(!c||!c.length)return b.Ra(new A(2,4,4012)),null;b.h.setVariants(c);return b.h.chooseVariant()}function ki(b,c){var d=wd(c.variants,b.M,b.Da,b.W),e=Dd(c.textStreams,b.ea,b.Sa);if(d=ti(b,d))ni(b,d,!0),oi(b,d,!0);(e=e[0])&&(b.c.streaming.alwaysStreamText||b.Fb())&&(mi(b,e,!0),b.ua?b.H=e:Gg(b.a,e,!0));hi(b)}
n.fd=function(b){this.ua=!0;this.h.disable();var c={audio:!1,text:!1},d=wd(b.variants,this.M,this.Da,this.W,c),e=Dd(b.textStreams,this.ea,this.Sa,c);d=ti(this,d);e=e[0]||null;if(this.P){a:{var f=this.b;for(var g=0;g<f.periods.length;++g)for(var h=f.periods[g],k=0;k<h.variants.length;++k)if(h.variants[k]==this.P){f=g;break a}f=-1}this.b.periods[f]==b&&(d=this.P);this.P=null}this.H&&(this.b.periods[Id(this.b,this.H)]==b&&(e=this.H),this.H=null);d&&ni(this,d,!0);e&&(mi(this,e,!0),!wg(this.a)&&d&&d.audio&&
c.text&&e.language!=d.audio.language&&(this.w.setTextVisibility(!0),qi(this)));return this.c.streaming.alwaysStreamText||this.Fb()?{variant:d,text:e}:{variant:d,text:null}};n.Gc=function(){this.ua=!1;this.c.abr.enabled&&this.h.enable();this.P&&(Hg(this.a,this.P,this.Yb),this.P=null);this.H&&(Gg(this.a,this.H,!0),this.H=null)};n.nd=function(){this.m&&this.m.update&&this.m.update()};n.vd=function(){this.g&&this.g.Za()};n.ee=function(b,c){ni(this,b,!0);this.a&&(Hg(this.a,b,c||!1),hi(this))};
function hi(b){Promise.resolve().then(function(){this.ta||this.dispatchEvent(new E("adaptation"))}.bind(b))}function gi(b){Promise.resolve().then(function(){this.ta||this.dispatchEvent(new E("trackschanged"))}.bind(b))}function qi(b){b.dispatchEvent(new E("texttrackvisibility"))}n.Ra=function(b){if(!this.ta){var c=new E("error",{detail:b});this.dispatchEvent(c);c.defaultPrevented&&(b.handled=!0)}};n.xd=function(b){this.B?this.B.o(b):this.jb.push(b)};n.eb=function(b){this.dispatchEvent(b)};
n.yd=function(){if(this.f.error){var b=this.f.error.code;if(1!=b){var c=this.f.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));this.Ra(new A(2,3,3016,b,c,this.f.error.message))}}};
n.ld=function(b){var c=["output-restricted","internal-error"],d=V(this.a),e=!1,f=Object.keys(b),g=1==f.length&&"00"==f[0];f.length&&d.variants.forEach(function(d){var f=[];d.audio&&f.push(d.audio);d.video&&f.push(d.video);f.forEach(function(f){var h=d.allowedByKeySystem;f.keyId&&(f=b[g?"00":f.keyId],d.allowedByKeySystem=!!f&&0>c.indexOf(f));h!=d.allowedByKeySystem&&(e=!0)})});(f=Fd(xg(this.a),zg(this.a),d.variants))&&!f.allowedByKeySystem&&ki(this,d);e&&(gi(this),d=wd(d.variants,this.M,this.Da,this.W),
this.h.setVariants(d))};n.jd=function(b,c){if(this.m&&this.m.onExpirationUpdated)this.m.onExpirationUpdated(b,c);this.dispatchEvent(new E("expirationupdated"))};function ui(b,c,d){var e=void 0==c.expiration?Infinity:c.expiration,f=c.presentationTimeline.R();c=qd(c.periods[0]);return{offlineUri:null,originalManifestUri:b,duration:f,size:0,expiration:e,tracks:c,appMetadata:d}}function vi(b,c){var d=Nh(new Lh(b.Z(),b.N()),c.periods[0],new T(null,0)),e=c.appMetadata||{};d=qd(d);return{offlineUri:b.toString(),originalManifestUri:c.originalManifestUri,duration:c.duration,size:c.size,expiration:c.expiration,tracks:d,appMetadata:e}};function wi(){this.a={}}function xi(b,c,d){d=d.endTime-d.startTime;return yi(b,c)*d}function yi(b,c){var d=b.a[c];null==d&&(d=0);return d};function Z(b){if(!b||b.constructor!=Y)throw new A(2,9,9008);this.a=b;this.b=zi(this);this.g=!1;this.c=null;this.f=[]}x("shaka.offline.Storage",Z);function Ai(){return rh()}Z.support=Ai;Z.prototype.destroy=function(){this.a=this.b=null;return Promise.resolve()};Z.prototype.destroy=Z.prototype.destroy;Z.prototype.configure=function(b){jb(this.b,b,zi(this),{},"")};Z.prototype.configure=Z.prototype.configure;
Z.prototype.store=function(b,c,d){var e=this;return p(function g(){var h,k,l,m,r,t;return v(g,function(g){switch(g.v){case 1:Bi();if(e.g)return g["return"](Promise.reject(new A(2,9,9006)));e.g=!0;h=c||{};k=null;l=function(b){k=k||b};return q(g,Ci(e,b,l,d),2);case 2:m=g.I;r=!m.manifest.presentationTimeline.Y()&&!m.manifest.presentationTimeline.xa();if(!r)throw new A(2,9,9005,b);Di(e);if(k)throw k;t=new lh;return g["return"](lb([t,m.yb],function(){return p(function y(){var c,d,g,l,r,u,Db;return v(y,
function(y){switch(y.v){case 1:return pa(y),q(y,t.init(),4);case 4:return Di(e),Ei(e,m.yb,m.manifest.periods),q(y,nh(t),5);case 5:return c=y.I,Di(e),oa(y,6),q(y,Fi(e,c.N,m.yb,m.manifest,b,h||{}),8);case 8:return d=y.I,Di(e),q(y,c.N.addManifests([d]),9);case 9:return g=y.I,Di(e),l=new Jh("manifest",c.path.Z,c.path.N,g[0]),y["return"](vi(l,d));case 6:return r=ra(y),u=e.f,Db=function(){},q(y,c.N.removeSegments(u,Db),10);case 10:throw k||r;case 2:sa(y),e.g=!1,e.c=null,e.f=[],ta(y,0)}})})}))}})})};
Z.prototype.store=Z.prototype.store;function Fi(b,c,d,e,f,g){var h=ui(f,e,g),k=new bh(function(c,d){h.size=d;b.b.progressCallback(h,c)}),l;return lb([k],function(){l=Gi(b,k,c,d,e,f,g);return dh(k,b.a.u)}).then(function(){l.size=h.size;return l})}
Z.prototype.remove=function(b){var c=this;Bi();var d=Kh(b);if(null==d||"manifest"!=d.a)return Promise.reject(new A(2,9,9004,b));var e=new lh;return lb([e],function(){return p(function g(){var b,k,l;return v(g,function(g){switch(g.v){case 1:return q(g,e.init(),2);case 2:return q(g,ph(e,d.Z(),d.N()),3);case 3:return b=g.I,q(g,b.getManifests([d.key()]),4);case 4:return k=g.I,l=k[0],q(g,Promise.all([Hi(c,d,l),Ii(c,b,d,l)]),0)}})})})};Z.prototype.remove=Z.prototype.remove;
function Hi(b,c,d){var e,f=new ac({Ka:b.a.u,onError:function(b){6013!=b.code&&(e=b)},rb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});f.configure(b.a.getConfiguration().drm);var g=Mh(new Lh(c.Z(),c.N()),d);return lb([f],function(){return p(function k(){return v(k,function(c){switch(c.v){case 1:return q(c,f.init(g,b.b.usePersistentLicense),2);case 2:return q(c,fc(f,d.sessionIds),0)}})})}).then(function(){if(e)throw e;})}
function Ii(b,c,d,e){function f(){k+=1;b.b.progressCallback(l,k/h)}var g=Ji(e),h=g.length+1,k=0,l=vi(d,e);return Promise.all([c.removeSegments(g,f),c.removeManifests([d.key()],f)])}
Z.prototype.list=function(){function b(b,d){return p(function h(){var e;return v(h,function(f){switch(f.v){case 1:return q(f,d.getAllManifests(),2);case 2:e=f.I,Kb(e,function(d,e){var f=vi(new Jh("manifest",b.Z,b.N,d),e);c.push(f)}),f.v=0}})})}Bi();var c=[],d=new lh;return lb([d],function(){return p(function f(){var c;return v(f,function(f){switch(f.v){case 1:return q(f,d.init(),2);case 2:return c=Promise.resolve(),oh(d,function(d,f){c=c.then(function(){return b(d,f)})}),q(f,c,0)}})})}).then(function(){return c})};
Z.prototype.list=Z.prototype.list;
function Ci(b,c,d,e){function f(){}var g=b.a.u,h=b.a.getConfiguration(),k,l,m;return Oe(c,g,h.manifest.retryParameters,e).then(function(b){var e=this;Di(this);l=new ac({Ka:g,onError:d,rb:f,onExpirationUpdated:function(){},onEvent:function(){}});l.configure(h.drm);var k={networkingEngine:g,filterAllPeriods:function(b){Ei(e,l,b)},filterNewPeriod:function(b){Ki(e,l,b)},onTimelineRegionAdded:function(){},onEvent:function(){},onError:d};m=new b;m.configure(h.manifest);return m.start(c,k)}.bind(b)).then(function(b){Di(this);
k=b;return l.init(k,this.b.usePersistentLicense)}.bind(b)).then(function(){Di(this);return Li(k)}.bind(b)).then(function(){Di(this);return ec(l)}.bind(b)).then(function(){Di(this);return m.stop()}.bind(b)).then(function(){Di(this);return{manifest:k,yb:l}}.bind(b))["catch"](function(b){if(m)return m.stop().then(function(){throw b;});throw b;})}
function Mi(b,c){var d=[],e=id(b),f=[0,gd,hd],g=c.filter(function(b){return"variant"==b.type});f=f.map(function(b){return g.filter(function(c){c=id(c.language);return fd(b,e,c)})});for(var h,k=0;k<f.length;k++)if(f[k].length){h=f[k];break}h||(f=g.filter(function(b){return b.primary}),f.length&&(h=f));h||(h=g,g.map(function(b){return b.language}).filter(Fb));var l=h.filter(function(b){return b.height&&480>=b.height});l.length&&(l.sort(function(b,c){return c.height-b.height}),h=l.filter(function(b){return b.height==
l[0].height}));h.sort(function(b,c){return b.bandwidth-c.bandwidth});h.length&&d.push(h[Math.floor(h.length/2)]);d.push.apply(d,c.filter(function(b){return"text"==b.type}));return d}function zi(b){return{trackSelectionCallback:function(c){var d=b.a.getConfiguration();return Mi(d.preferredAudioLanguage,c)},progressCallback:function(b,d){if(b||d)return null},usePersistentLicense:!0}}function Ei(b,c,d){d.forEach(function(d){return Ki(b,c,d)})}
function Ki(b,c,d){var e=null;if(b.c){var f=b.c.filter(function(b){return"variant"==b.type})[0];f&&(e=ud(d,f))}var g=f=null;e&&(e.audio&&(f=e.audio),e.video&&(g=e.video));md(c,f,g,d);ld(d,b.a.getConfiguration().restrictions,{width:Infinity,height:Infinity})}
function Li(b){var c=b.periods.map(function(b){return b.variants}).reduce(Bb,[]).map(function(b){var c=[];b.audio&&c.push(b.audio);b.video&&c.push(b.video);return c}).reduce(Bb,[]).filter(Fb);b=b.periods.map(function(b){return b.textStreams}).reduce(Bb,[]);c.push.apply(c,b);return Promise.all(c.map(function(b){return b.createSegmentIndex()}))}
function Gi(b,c,d,e,f,g,h){var k=new wi,l=f.periods.map(function(g){return Ni(b,c,d,k,e,f,g)}),m=e.b,r=ic(e);if(m&&b.b.usePersistentLicense){if(!r.length)throw new A(2,9,9007,g);m.initData=[]}return{originalManifestUri:g,duration:f.presentationTimeline.R(),size:0,expiration:e.pb(),periods:l,sessionIds:b.b.usePersistentLicense?r:[],drmInfo:m,appMetadata:h}}
function Ni(b,c,d,e,f,g,h){var k=sd(h,null,null),l=td(h,null);k=b.b.trackSelectionCallback(k.concat(l));null==b.c&&(b.c=k,Ei(b,f,g.periods));Oi(k);g.periods.forEach(function(b){b.variants.forEach(function(b){var c=b.audio,d=b.video;c&&!d&&(e.a[c.id]=c.bandwidth||b.bandwidth);!c&&d&&(e.a[d.id]=d.bandwidth||b.bandwidth);if(c&&d){var f=c.bandwidth||393216,g=d.bandwidth||b.bandwidth-f;0>=g&&(g=b.bandwidth);e.a[c.id]=f;e.a[d.id]=g}});b.textStreams.forEach(function(b){e.a[b.id]=52})});var m={};k.forEach(function(b){"variant"==
b.type&&null!=b.audioId&&(m[b.audioId]=!0);"variant"==b.type&&null!=b.videoId&&(m[b.videoId]=!0);"text"==b.type&&(m[b.id]=!0)});var r={};Pi(g).filter(function(b){return!!m[b.id]}).forEach(function(f){r[f.id]=Qi(b,c,d,e,g,f)});k.forEach(function(b){"variant"==b.type&&null!=b.audioId&&r[b.audioId].variantIds.push(b.id);"variant"==b.type&&null!=b.videoId&&r[b.videoId].variantIds.push(b.id)});return{startTime:h.startTime,streams:G(r)}}
function Qi(b,c,d,e,f,g){var h={id:g.id,primary:g.primary,presentationTimeOffset:g.presentationTimeOffset||0,contentType:g.type,mimeType:g.mimeType,codecs:g.codecs,frameRate:g.frameRate,kind:g.kind,language:g.language,label:g.label,width:g.width||null,height:g.height||null,initSegmentKey:null,encrypted:g.encrypted,keyId:g.keyId,segments:[],variantIds:[]},k=g.id;Ri(g,f.presentationTimeline.Wa(),function(f){ch(c,k,Si(b,f),xi(e,g.id,f),function(c){return d.addSegments([{data:c}]).then(function(c){b.f.push(c[0]);
h.segments.push({startTime:f.startTime,endTime:f.endTime,dataKey:c[0]})})})});(f=g.initSegmentReference)&&ch(c,k,Si(b,f),.5*yi(e,g.id),function(c){return d.addSegments([{data:c}]).then(function(c){b.f.push(c[0]);h.initSegmentKey=c[0]})});return h}function Ri(b,c,d){c=b.findSegmentPosition(c);for(var e=null==c?null:b.getSegmentReference(c);e;)d(e),e=b.getSegmentReference(++c)}function Di(b){if(!b.a)throw new A(2,9,7001);}function Bi(){if(!rh())throw new A(2,9,9E3);}
function Si(b,c){var d=b.a.getConfiguration().streaming.retryParameters;d=qb(c.c(),d);if(0!=c.b||null!=c.a)d.headers.Range="bytes="+c.b+"-"+(null==c.a?"":c.a);return d}function Ji(b){var c=[];b.periods.forEach(function(b){b.streams.forEach(function(b){null!=b.initSegmentKey&&c.push(b.initSegmentKey);b.segments.forEach(function(b){c.push(b.dataKey)})})});return c}
Z.deleteAll=function(b){var c=b.u,d=b.getConfiguration().drm,e=new lh;return lb([e],function(){return p(function g(){var b,k;return v(g,function(g){switch(g.v){case 1:return q(g,e.init(),2);case 2:return q(g,Ti(e),3);case 3:return b=g.I,k=Promise.resolve(),b.forEach(function(b){k=k.then(function(){return Ui(c,d,b)})}),q(g,k,4);case 4:return q(g,qh(e),0)}})})})};
function Ui(b,c,d){var e=new ac({Ka:b,onError:function(){},rb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});e.configure(c);return lb([e],function(){return p(function g(){return v(g,function(b){switch(b.v){case 1:return q(b,e.init(d,!0),2);case 2:return q(b,fc(e,d.offlineSessionIds),0)}})})})}function Oi(b){b.some(function(c){return b.some(function(b){return c!=b&&c.type==b.type&&c.kind==b.kind&&c.language==b.language})})}
function Pi(b){var c={};b.periods.forEach(function(b){b.textStreams.forEach(function(b){c[b.id]=b});b.variants.forEach(function(b){b.audio&&(c[b.audio.id]=b.audio);b.video&&(c[b.video.id]=b.video)})});return G(c)}function Ti(b){var c=[],d=[];oh(b,function(b,f){var e=new Lh(b.Z,b.N);d.push(f.getAllManifests().then(function(b){G(b).forEach(function(b){c.push(Mh(e,b))})}))});return Promise.all(d).then(function(){return c})}ai.offline=Ai;x("shaka.polyfill.installAll",function(){for(var b=0;b<Vi.length;++b)Vi[b].Fc()});var Vi=[];function Wi(b,c){c=c||0;for(var d={priority:c,Fc:b},e=0;e<Vi.length;e++)if(Vi[e].priority<c){Vi.splice(e,0,d);return}Vi.push(d)}x("shaka.polyfill.register",Wi);Wi(function(){var b=navigator.userAgent;b&&0<=b.indexOf("CrKey")&&delete window.indexedDB});var Xi;function Yi(b,c,d){if("input"==b)switch(this.type){case "range":b="change"}Xi.call(this,b,c,d)}Wi(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==Yi||(Xi=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Yi)});Wi(function(){});function Zi(){var b=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var c=b.apply(this,arguments);c.abort=function(){};return c}}function $i(){var b=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(c,d){return b.call(this,c,d-.001)}}
function aj(){var b=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var c=0,d=0;d<this.sourceBuffers.length;++d){var g=this.sourceBuffers[d];g=g.buffered.end(g.buffered.length-1);c=Math.max(c,g)}if(!isNaN(this.duration)&&c<this.duration)for(this.hc=!0,c=0;c<this.sourceBuffers.length;++c)this.sourceBuffers[c].ec=!1;return b.apply(this,arguments)};var c=!1,d=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var b=d.apply(this,arguments);
b.mediaSource_=this;b.addEventListener("updateend",bj,!1);c||(this.addEventListener("sourceclose",cj,!1),c=!0);return b}}function bj(b){var c=b.target,d=c.mediaSource_;if(d.hc){b.preventDefault();b.stopPropagation();b.stopImmediatePropagation();c.ec=!0;for(b=0;b<d.sourceBuffers.length;++b)if(0==d.sourceBuffers[b].ec)return;d.hc=!1}}
function cj(b){b=b.target;for(var c=0;c<b.sourceBuffers.length;++c)b.sourceBuffers[c].removeEventListener("updateend",bj,!1);b.removeEventListener("sourceclose",cj,!1)}function dj(){var b=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(c){return"mp2t"==c.split(/ *; */)[0].split("/")[1]?!1:b(c)}}
function ej(){var b=MediaSource.isTypeSupported,c=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(d){for(var e=d.split(/ *; */),f=e[0],g={},h=1;h<e.length;++h){var k=e[h].split("="),l=k[0];k=k[1].replace(/"(.*)"/,"$1");g[l]=k}e=g.codecs;if(!e)return b(d);var m=!1,r=!1;d=e.split(",").filter(function(b){if(c.test(b))return r=!0,!1;/^(hev|hvc)1\.2/.test(b)&&(m=!0);return!0});r&&(m=!1);g.codecs=d.join(",");m&&(g.eotf="smpte2084");for(var t in g)f+="; "+t+'="'+g[t]+'"';return cast.__platform__.canDisplayType(f)}}
Wi(function(){if(window.MediaSource)if(window.cast&&cast.__platform__&&cast.__platform__.canDisplayType)ej();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var b=navigator.appVersion;dj();0<=b.indexOf("Version/8")?window.MediaSource=null:0<=b.indexOf("Version/9")?Zi():0<=b.indexOf("Version/10")?(Zi(),aj()):0<=b.indexOf("Version/11")&&(Zi(),$i())}});function fj(b){this.f=[];this.b=[];this.a=[];(new Q).X("pssh",this.c.bind(this)).parse(b.buffer)}fj.prototype.c=function(b){if(!(1<b.version)){var c=Yb(b.reader.Aa(16)),d=[];if(0<b.version)for(var e=b.reader.A(),f=0;f<e;++f){var g=Yb(b.reader.Aa(16));d.push(g)}e=b.reader.A();b.reader.F(e);this.b.push.apply(this.b,d);this.f.push(c);this.a.push({start:b.start,end:b.start+b.size-1})}};function gj(b,c){try{var d=new hj(b,c);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}
function hj(b,c){this.keySystem=b;for(var d=!1,e=0;e<c.length;++e){var f=c[e],g={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:f.initDataTypes,sessionTypes:["temporary"],label:f.label},h=!1;if(f.audioCapabilities)for(var k=0;k<f.audioCapabilities.length;++k){var l=f.audioCapabilities[k];if(l.contentType){h=!0;var m=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,m)&&(g.audioCapabilities.push(l),d=!0)}}if(f.videoCapabilities)for(k=
0;k<f.videoCapabilities.length;++k)l=f.videoCapabilities[k],l.contentType&&(h=!0,m=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,m)&&(g.videoCapabilities.push(l),d=!0));h||(d=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4"));"required"==f.persistentState&&(d=!1);if(d){this.a=g;return}}d=Error("Unsupported keySystem");d.name="NotSupportedError";d.code=DOMException.NOT_SUPPORTED_ERR;throw d;}hj.prototype.createMediaKeys=function(){var b=new ij(this.keySystem);return Promise.resolve(b)};
hj.prototype.getConfiguration=function(){return this.a};function jj(b){var c=this.mediaKeys;c&&c!=b&&kj(c,null);delete this.mediaKeys;return(this.mediaKeys=b)?kj(b,this):Promise.resolve()}function ij(b){this.a=new MSMediaKeys(b);this.b=new wb}ij.prototype.createSession=function(b){var c=b||"temporary";if("temporary"!=c)throw new TypeError("Session type "+b+" is unsupported on this platform.");return new lj(this.a,c)};ij.prototype.setServerCertificate=function(){return Promise.resolve(!1)};
function kj(b,c){function d(){c.msSetMediaKeys(e.a);c.removeEventListener("loadedmetadata",d)}xb(b.b);if(!c)return Promise.resolve();D(b.b,c,"msneedkey",mj);var e=b;try{return 1<=c.readyState?c.msSetMediaKeys(b.a):c.addEventListener("loadedmetadata",d),Promise.resolve()}catch(f){return Promise.reject(f)}}function lj(b){Xh.call(this);this.c=null;this.g=b;this.b=this.a=null;this.f=new wb;this.sessionId="";this.expiration=NaN;this.closed=new z;this.keyStatuses=new nj}Aa(lj,Xh);n=lj.prototype;
n.generateRequest=function(b,c){this.a=new z;try{this.c=this.g.createSession("video/mp4",new Uint8Array(c),null),D(this.f,this.c,"mskeymessage",this.qd.bind(this)),D(this.f,this.c,"mskeyadded",this.od.bind(this)),D(this.f,this.c,"mskeyerror",this.pd.bind(this)),oj(this,"status-pending")}catch(d){this.a.reject(d)}return this.a};n.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))};n.update=function(b){this.b=new z;try{this.c.update(new Uint8Array(b))}catch(c){this.b.reject(c)}return this.b};
n.close=function(){try{this.c.close(),this.closed.resolve(),xb(this.f)}catch(b){this.closed.reject(b)}return this.closed};n.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};
function mj(b){var c=document.createEvent("CustomEvent");c.initCustomEvent("encrypted",!1,!1,null);c.initDataType="cenc";if(b=b.initData){var d=new fj(b);if(!(1>=d.a.length)){for(var e=[],f=0;f<d.a.length;f++)e.push(b.subarray(d.a[f].start,d.a[f].end+1));b=fb(e,pj);for(e=d=0;e<b.length;e++)d+=b[e].length;d=new Uint8Array(d);for(f=e=0;f<b.length;f++)d.set(b[f],e),e+=b[f].length;b=d}}c.initData=b;this.dispatchEvent(c)}function pj(b,c){return Zb(b,c)}
n.qd=function(b){this.a&&(this.a.resolve(),this.a=null);this.dispatchEvent(new E("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:b.message.buffer}))};n.od=function(){this.a?(oj(this,"usable"),this.a.resolve(),this.a=null):this.b&&(oj(this,"usable"),this.b.resolve(),this.b=null)};
n.pd=function(){var b=Error("EME PatchedMediaKeysMs key error");b.errorCode=this.c.error;if(null!=this.a)this.a.reject(b),this.a=null;else if(null!=this.b)this.b.reject(b),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:oj(this,"output-not-allowed");break;default:oj(this,"internal-error")}};function oj(b,c){var d=b.keyStatuses;d.size=void 0==c?0:1;d.a=c;b.dispatchEvent(new E("keystatuseschange"))}
function nj(){this.size=0;this.a=void 0}var qj;n=nj.prototype;n.forEach=function(b){this.a&&b(this.a,qj)};n.get=function(b){if(this.has(b))return this.a};n.has=function(b){var c=qj;return this.a&&Zb(new Uint8Array(b),new Uint8Array(c))?!0:!1};n.entries=function(){};n.keys=function(){};n.values=function(){};
Wi(function(){!window.HTMLVideoElement||!window.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(qj=(new Uint8Array([0])).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=jj,window.MediaKeys=ij,window.MediaKeySystemAccess=hj,navigator.requestMediaKeySystemAccess=gj)});function rj(){return Promise.reject(Error("The key system specified is not supported."))}function sj(b){return null==b?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function tj(){throw new TypeError("Illegal constructor.");}tj.prototype.createSession=function(){};tj.prototype.setServerCertificate=function(){};function uj(){throw new TypeError("Illegal constructor.");}uj.prototype.getConfiguration=function(){};uj.prototype.createMediaKeys=function(){};
Wi(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=rj,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sj,window.MediaKeys=tj,window.MediaKeySystemAccess=uj)},-10);var vj="";function wj(b){var c=vj;return c?c+b.charAt(0).toUpperCase()+b.slice(1):b}function xj(b,c){try{var d=new yj(b,c);return Promise.resolve(d)}catch(e){return Promise.reject(e)}}function zj(b){var c=this.mediaKeys;c&&c!=b&&Aj(c,null);delete this.mediaKeys;(this.mediaKeys=b)&&Aj(b,this);return Promise.resolve()}
function yj(b,c){this.a=this.keySystem=b;var d=!1;"org.w3.clearkey"==b&&(this.a="webkit-org.w3.clearkey",d=!1);var e=!1;var f=document.getElementsByTagName("video");f=f.length?f[0]:document.createElement("video");for(var g=0;g<c.length;++g){var h=c[g],k={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:h.initDataTypes,sessionTypes:["temporary"],label:h.label},l=!1;if(h.audioCapabilities)for(var m=0;m<h.audioCapabilities.length;++m){var r=
h.audioCapabilities[m];if(r.contentType){l=!0;var t=r.contentType.split(";")[0];f.canPlayType(t,this.a)&&(k.audioCapabilities.push(r),e=!0)}}if(h.videoCapabilities)for(m=0;m<h.videoCapabilities.length;++m)r=h.videoCapabilities[m],r.contentType&&(l=!0,f.canPlayType(r.contentType,this.a)&&(k.videoCapabilities.push(r),e=!0));l||(e=f.canPlayType("video/mp4",this.a)||f.canPlayType("video/webm",this.a));"required"==h.persistentState&&(d?(k.persistentState="required",k.sessionTypes=["persistent-license"]):
e=!1);if(e){this.b=k;return}}d="Unsupported keySystem";if("org.w3.clearkey"==b||"com.widevine.alpha"==b)d="None of the requested configurations were supported.";d=Error(d);d.name="NotSupportedError";d.code=DOMException.NOT_SUPPORTED_ERR;throw d;}yj.prototype.createMediaKeys=function(){var b=new Bj(this.a);return Promise.resolve(b)};yj.prototype.getConfiguration=function(){return this.b};function Bj(b){this.g=b;this.b=null;this.a=new wb;this.c=[];this.f={}}
function Aj(b,c){b.b=c;xb(b.a);var d=vj;c&&(D(b.a,c,d+"needkey",b.Cd.bind(b)),D(b.a,c,d+"keymessage",b.Bd.bind(b)),D(b.a,c,d+"keyadded",b.zd.bind(b)),D(b.a,c,d+"keyerror",b.Ad.bind(b)))}n=Bj.prototype;n.createSession=function(b){var c=b||"temporary";if("temporary"!=c&&"persistent-license"!=c)throw new TypeError("Session type "+b+" is unsupported on this platform.");b=this.b||document.createElement("video");b.src||(b.src="about:blank");c=new Cj(b,this.g,c);this.c.push(c);return c};
n.setServerCertificate=function(){return Promise.resolve(!1)};n.Cd=function(b){var c=document.createEvent("CustomEvent");c.initCustomEvent("encrypted",!1,!1,null);c.initDataType="webm";c.initData=b.initData;this.b.dispatchEvent(c)};n.Bd=function(b){var c=Dj(this,b.sessionId);c&&(b=new E("message",{messageType:void 0==c.keyStatuses.a?"licenserequest":"licenserenewal",message:b.message}),c.b&&(c.b.resolve(),c.b=null),c.dispatchEvent(b))};
n.zd=function(b){if(b=Dj(this,b.sessionId))Ej(b,"usable"),b.a&&b.a.resolve(),b.a=null};
n.Ad=function(b){var c=Dj(this,b.sessionId);if(c){var d=Error("EME v0.1b key error");d.errorCode=b.errorCode;d.errorCode.systemCode=b.systemCode;!b.sessionId&&c.b?(d.method="generateRequest",45==b.systemCode&&(d.message="Unsupported session type."),c.b.reject(d),c.b=null):b.sessionId&&c.a?(d.method="update",c.a.reject(d),c.a=null):(d=b.systemCode,b.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Ej(c,"output-restricted"):1==d?Ej(c,"expired"):Ej(c,"internal-error"))}};
function Dj(b,c){var d=b.f[c];return d?d:(d=b.c.shift())?(d.sessionId=c,b.f[c]=d):null}function Cj(b,c,d){Xh.call(this);this.f=b;this.h=!1;this.a=this.b=null;this.c=c;this.g=d;this.sessionId="";this.expiration=NaN;this.closed=new z;this.keyStatuses=new Fj}Aa(Cj,Xh);
function Gj(b,c,d){if(b.h)return Promise.reject(Error("The session is already initialized."));b.h=!0;try{if("persistent-license"==b.g)if(d)var e=new Uint8Array(Qb("LOAD_SESSION|"+d));else{var f=Qb("PERSISTENT|"),g=new Uint8Array(f.byteLength+c.byteLength);g.set(new Uint8Array(f),0);g.set(new Uint8Array(c),f.byteLength);e=g}else e=new Uint8Array(c)}catch(k){return Promise.reject(k)}b.b=new z;var h=wj("generateKeyRequest");try{b.f[h](b.c,e)}catch(k){if("InvalidStateError"!=k.name)return b.b=null,Promise.reject(k);
setTimeout(function(){try{this.f[h](this.c,e)}catch(l){this.b.reject(l),this.b=null}}.bind(b),10)}return b.b}n=Cj.prototype;
n.Sb=function(b,c){if(this.a)this.a.then(this.Sb.bind(this,b,c))["catch"](this.Sb.bind(this,b,c));else{this.a=b;if("webkit-org.w3.clearkey"==this.c){var d=H(c);var e=JSON.parse(d);"oct"!=e.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null);d=Wb(e.keys[0].k);e=Wb(e.keys[0].kid)}else d=new Uint8Array(c),e=null;var f=wj("addKey");try{this.f[f](this.c,d,e,this.sessionId)}catch(g){this.a.reject(g),this.a=null}}};
function Ej(b,c){var d=b.keyStatuses;d.size=void 0==c?0:1;d.a=c;b.dispatchEvent(new E("keystatuseschange"))}n.generateRequest=function(b,c){return Gj(this,c,null)};n.load=function(b){return"persistent-license"==this.g?Gj(this,null,b):Promise.reject(Error("Not a persistent session."))};n.update=function(b){var c=new z;this.Sb(c,b);return c};
n.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var b=wj("cancelKeyRequest");try{this.f[b](this.c,this.sessionId)}catch(c){}}this.closed.resolve();return this.closed};n.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};function Fj(){this.size=0;this.a=void 0}var Hj;n=Fj.prototype;n.forEach=function(b){this.a&&b(this.a,Hj)};n.get=function(b){if(this.has(b))return this.a};
n.has=function(b){var c=Hj;return this.a&&Zb(new Uint8Array(b),new Uint8Array(c))?!0:!1};n.entries=function(){};n.keys=function(){};n.values=function(){};
Wi(function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)vj="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Hj=(new Uint8Array([0])).buffer;navigator.requestMediaKeySystemAccess=xj;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=null;HTMLMediaElement.prototype.setMediaKeys=zj;window.MediaKeys=Bj;window.MediaKeySystemAccess=
yj}});function Ij(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Wi(function(){if(window.HTMLVideoElement){var b=HTMLVideoElement.prototype;!b.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in b&&(b.getVideoPlaybackQuality=Ij)}});function Jj(b,c,d){return new window.TextTrackCue(b,c,d)}function Kj(b,c,d){return new window.TextTrackCue(b+"-"+c+"-"+d,b,c,d)}Wi(function(){if(!window.VTTCue&&window.TextTrackCue){var b=TextTrackCue.length;if(3==b)window.VTTCue=Jj;else if(6==b)window.VTTCue=Kj;else{try{var c=!!Jj(1,2,"")}catch(d){c=!1}c&&(window.VTTCue=Jj)}}});function Lj(){}Lj.prototype.parseInit=function(){};
Lj.prototype.parseMedia=function(b,c){var d=H(b),e=[],f=new DOMParser,g=null;try{g=f.parseFromString(d,"text/xml")}catch(Da){throw new A(2,2,2005);}if(g){if(f=g.getElementsByTagName("tt")[0]){g=f.getAttribute("ttp:frameRate");var h=f.getAttribute("ttp:subFrameRate");var k=f.getAttribute("ttp:frameRateMultiplier");var l=f.getAttribute("ttp:tickRate");d=f.getAttribute("xml:space")||"default"}else throw new A(2,2,2005);if("default"!=d&&"preserve"!=d)throw new A(2,2,2005);d="default"==d;g=new Mj(g,h,
k,l);h=Nj(f.getElementsByTagName("styling")[0]);k=Nj(f.getElementsByTagName("layout")[0]);l=[];for(var m=0;m<k.length;m++){var r=k[m],t=h;var u=new yc;var w=r.getAttribute("xml:id");if(w){u.id=w;var y;if(y=Oj(r,t,"tts:extent"))y=(w=Pj.exec(y))||Qj.exec(y),null!=y&&(u.width=Number(y[1]),u.height=Number(y[2]),u.widthUnits=w?Lc:0,u.heightUnits=w?Lc:0);if(r=Oj(r,t,"tts:origin"))y=(w=Pj.exec(r))||Qj.exec(r),null!=y&&(u.viewportAnchorX=Number(y[1]),u.viewportAnchorY=Number(y[2]),u.viewportAnchorUnits=w?
Lc:0)}else u=null;u&&l.push(u)}f=Nj(f.getElementsByTagName("body")[0]);for(m=0;m<f.length;m++)(u=Rj(f[m],c.periodStart,g,h,k,l,d))&&e.push(u)}return e};
var Pj=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Sj=/^(\d+px|\d+em)$/,Qj=/^(\d+)px (\d+)px$/,Tj=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Uj=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Vj=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Wj=/^(\d*(?:\.\d*)?)f$/,Xj=/^(\d*(?:\.\d*)?)t$/,Yj=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Zj={left:"start",center:Dc,right:"end",start:"start",end:"end"},ak={left:"line-left",center:"center",right:"line-right"};
function Nj(b){var c=[];if(!b)return c;for(var d=b.childNodes,e=0;e<d.length;e++){var f="span"==d[e].nodeName&&"p"==b.nodeName;d[e].nodeType!=Node.ELEMENT_NODE||"br"==d[e].nodeName||f||(f=Nj(d[e]),c=c.concat(f))}c.length||c.push(b);return c}function bk(b,c){for(var d=b.childNodes,e=0;e<d.length;e++)if("br"==d[e].nodeName&&0<e)d[e-1].textContent+="\n";else if(0<d[e].childNodes.length)bk(d[e],c);else if(c){var f=d[e].textContent.trim();f=f.replace(/\s+/g," ");d[e].textContent=f}}
function Rj(b,c,d,e,f,g,h){if(!b.hasAttribute("begin")&&!b.hasAttribute("end")&&/^\s*$/.test(b.textContent))return null;bk(b,h);h=ck(b.getAttribute("begin"),d);var k=ck(b.getAttribute("end"),d);d=ck(b.getAttribute("dur"),d);var l=b.textContent;null==k&&null!=d&&(k=h+d);if(null==h||null==k)throw new A(2,2,2001);c=new I(h+c,k+c,l);if((f=dk(b,"region",f))&&f.getAttribute("xml:id")){var m=f.getAttribute("xml:id");g=g.filter(function(b){return b.id==m});c.region=g[0]}ek(c,b,f,e);return c}
function ek(b,c,d,e){"rtl"==fk(c,d,e,"tts:direction")&&(b.writingDirection=1);var f=fk(c,d,e,"tts:writingMode");"tb"==f||"tblr"==f?b.writingDirection=2:"tbrl"==f?b.writingDirection=3:"rltb"==f||"rl"==f?b.writingDirection=1:f&&(b.writingDirection=Bc);if(f=fk(c,d,e,"tts:textAlign"))b.positionAlign=ak[f],b.lineAlign=Zj[f],b.textAlign=Hc[f.toUpperCase()];if(f=fk(c,d,e,"tts:displayAlign"))b.displayAlign=Ic[f.toUpperCase()];if(f=fk(c,d,e,"tts:color"))b.color=f;if(f=fk(c,d,e,"tts:backgroundColor"))b.backgroundColor=
f;if(f=fk(c,d,e,"tts:fontFamily"))b.fontFamily=f;(f=fk(c,d,e,"tts:fontWeight"))&&"bold"==f&&(b.fontWeight=700);(f=fk(c,d,e,"tts:wrapOption"))&&"noWrap"==f&&(b.wrapLine=!1);(f=fk(c,d,e,"tts:lineHeight"))&&f.match(Sj)&&(b.lineHeight=f);(f=fk(c,d,e,"tts:fontSize"))&&f.match(Sj)&&(b.fontSize=f);if(f=fk(c,d,e,"tts:fontStyle"))b.fontStyle=Kc[f.toUpperCase()];(d=Oj(d,e,"tts:textDecoration"))&&gk(b,d);(c=hk(c,e,"tts:textDecoration"))&&gk(b,c)}
function gk(b,c){for(var d=c.split(" "),e=0;e<d.length;e++)switch(d[e]){case "underline":0>b.textDecoration.indexOf("underline")&&b.textDecoration.push("underline");break;case "noUnderline":0<=b.textDecoration.indexOf("underline")&&hb(b.textDecoration,"underline");break;case "lineThrough":0>b.textDecoration.indexOf("lineThrough")&&b.textDecoration.push("lineThrough");break;case "noLineThrough":0<=b.textDecoration.indexOf("lineThrough")&&hb(b.textDecoration,"lineThrough");break;case "overline":0>b.textDecoration.indexOf("overline")&&
b.textDecoration.push("overline");break;case "noOverline":0<=b.textDecoration.indexOf("overline")&&hb(b.textDecoration,"overline")}}function fk(b,c,d,e){return(b=hk(b,d,e))?b:Oj(c,d,e)}function Oj(b,c,d){for(var e=Nj(b),f=0;f<e.length;f++){var g=e[f].getAttribute(d);if(g)return g}return(b=dk(b,"style",c))?b.getAttribute(d):null}function hk(b,c,d){return(b=dk(b,"style",c))?b.getAttribute(d):null}
function dk(b,c,d){if(!b||1>d.length)return null;var e=null,f=b;for(b=null;f&&!(b=f.getAttribute(c))&&(f=f.parentNode,f instanceof Element););if(c=b)for(b=0;b<d.length;b++)if(d[b].getAttribute("xml:id")==c){e=d[b];break}return e}
function ck(b,c){var d=null;if(Tj.test(b)){d=Tj.exec(b);var e=Number(d[1]),f=Number(d[2]),g=Number(d[3]),h=Number(d[4]);h+=(Number(d[5])||0)/c.b;g+=h/c.frameRate;d=g+60*f+3600*e}else Uj.test(b)?d=ik(Uj,b):Vj.test(b)?d=ik(Vj,b):Wj.test(b)?(d=Wj.exec(b),d=Number(d[1])/c.frameRate):Xj.test(b)?(d=Xj.exec(b),d=Number(d[1])/c.a):Yj.test(b)&&(d=ik(Yj,b));return d}
function ik(b,c){var d=b.exec(c);return null==d||""==d[0]?null:(Number(d[4])||0)/1E3+(Number(d[3])||0)+60*(Number(d[2])||0)+3600*(Number(d[1])||0)}function Mj(b,c,d,e){this.frameRate=Number(b)||30;this.b=Number(c)||1;this.a=Number(e);0==this.a&&(this.a=b?this.frameRate*this.b:1);d&&(b=/^(\d+) (\d+)$/g.exec(d))&&(this.frameRate*=b[1]/b[2])}J["application/ttml+xml"]=Lj;function jk(){this.a=new Lj}jk.prototype.parseInit=function(b){var c=!1;(new Q).C("moov",R).C("trak",R).C("mdia",R).C("minf",R).C("stbl",R).X("stsd",je).C("stpp",function(b){c=!0;b.parser.stop()}).parse(b);if(!c)throw new A(2,2,2007);};jk.prototype.parseMedia=function(b,c){var d=!1,e=[];(new Q).C("mdat",ke(function(b){d=!0;e=e.concat(this.a.parseMedia(b,c))}.bind(this))).parse(b);if(!d)throw new A(2,2,2007);return e};J['application/mp4; codecs="stpp"']=jk;
J['application/mp4; codecs="stpp.TTML.im1t"']=jk;function kk(){}kk.prototype.parseInit=function(){};
kk.prototype.parseMedia=function(b,c){var d=H(b);d=d.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");d=d.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(d[0]))throw new A(2,2,2E3);var e=c.segmentStart;if(null==e&&(e=0,0<=d[0].indexOf("X-TIMESTAMP-MAP"))){var f=d[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),g=d[0].match(/MPEGTS:(\d+)/m);f&&g&&(e=lk(new nf(f[1])),e=c.periodStart+(Number(g[1])/9E4-e))}g=[];var h=d[0].split("\n");for(f=1;f<h.length;f++)if(/^Region:/.test(h[f])){var k=new nf(h[f]),
l=new yc;qf(k);of(k);for(var m=qf(k);m;){var r=l,t=m;(m=/^id=(.*)$/.exec(t))?r.id=m[1]:(m=/^width=(\d{1,2}|100)%$/.exec(t))?r.width=Number(m[1]):(m=/^lines=(\d+)$/.exec(t))?(r.height=Number(m[1]),r.heightUnits=2):(m=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))?(r.regionAnchorX=Number(m[1]),r.regionAnchorY=Number(m[2])):(m=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(t))?(r.viewportAnchorX=Number(m[1]),r.viewportAnchorY=Number(m[2])):/^scroll=up$/.exec(t)&&(r.scroll="up");of(k);
m=qf(k)}g.push(l)}f=[];for(k=1;k<d.length;k++){h=d[k].split("\n");m=h;t=e;h=g;if(1==m.length&&!m[0]||/^NOTE($|[ \t])/.test(m[0])||"STYLE"==m[0])h=null;else{l=null;0>m[0].indexOf("--\x3e")&&(l=m[0],m.splice(0,1));r=new nf(m[0]);var u=lk(r),w=pf(r,/[ \t]+--\x3e[ \t]+/g),y=lk(r);if(null==u||null==w||null==y)throw new A(2,2,2001);m=new I(u+t,y+t,m.slice(1).join("\n").trim());of(r);for(t=qf(r);t;)mk(m,t,h),of(r),t=qf(r);null!=l&&(m.id=l);h=m}h&&f.push(h)}return f};
function mk(b,c,d){var e;if(e=/^align:(start|middle|center|end|left|right)$/.exec(c))c=e[1],"middle"==c?b.textAlign=Ac:b.textAlign=Hc[c.toUpperCase()];else if(e=/^vertical:(lr|rl)$/.exec(c))b.writingDirection="lr"==e[1]?2:3;else if(e=/^size:([\d.]+)%$/.exec(c))b.size=Number(e[1]);else if(e=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(c))b.position=Number(e[1]),e[2]&&(c=e[2],b.positionAlign="line-left"==c||"start"==c?"line-left":"line-right"==c||"end"==c?"line-right":"center");
else if(e=/^region:(.*)$/.exec(c)){if(c=nk(d,e[1]))b.region=c}else if(d=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(c))b.lineInterpretation=1,b.line=Number(d[1]),d[2]&&(b.lineAlign=Jc[d[2].toUpperCase()]);else if(d=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(c))b.lineInterpretation=Cc,b.line=Number(d[1]),d[2]&&(b.lineAlign=Jc[d[2].toUpperCase()])}function nk(b,c){var d=b.filter(function(b){return b.id==c});return d.length?d[0]:null}
function lk(b){b=pf(b,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g);if(null==b)return null;var c=Number(b[2]),d=Number(b[3]);return 59<c||59<d?null:Number(b[4])/1E3+d+60*c+3600*(Number(b[1])||0)}J["text/vtt"]=kk;J['text/vtt; codecs="vtt"']=kk;function ok(){this.a=null}ok.prototype.parseInit=function(b){var c=!1;(new Q).C("moov",R).C("trak",R).C("mdia",R).X("mdhd",function(b){0==b.version?(b.reader.F(4),b.reader.F(4),this.a=b.reader.A(),b.reader.F(4)):(b.reader.F(8),b.reader.F(8),this.a=b.reader.A(),b.reader.F(8));b.reader.F(4)}.bind(this)).C("minf",R).C("stbl",R).X("stsd",je).C("wvtt",function(){c=!0}).parse(b);if(!this.a)throw new A(2,2,2008);if(!c)throw new A(2,2,2008);};
ok.prototype.parseMedia=function(b,c){var d=this;if(!this.a)throw new A(2,2,2008);var e=0,f=[],g,h=[],k=!1,l=!1,m=!1,r=null;(new Q).C("moof",R).C("traf",R).X("tfdt",function(b){k=!0;e=0==b.version?b.reader.A():b.reader.Pa()}).X("tfhd",function(b){var c=b.flags;b=b.reader;b.F(4);c&1&&b.F(8);c&2&&b.F(4);r=c&8?b.A():null}).X("trun",function(b){l=!0;var c=b.version,d=b.flags;b=b.reader;var e=b.A();d&1&&b.F(4);d&4&&b.F(4);for(var g=[],h=0;h<e;h++){var k={duration:null,sampleSize:null,Tb:null};d&256&&(k.duration=
b.A());d&512&&(k.sampleSize=b.A());d&1024&&b.F(4);d&2048&&(k.Tb=0==c?b.A():b.qc());g.push(k)}f=g}).C("mdat",ke(function(b){m=!0;g=b})).parse(b);if(!m&&!k&&!l)throw new A(2,2,2008);var t=e,u=new DataView(g.buffer,g.byteOffset,g.byteLength),w=new P(u,0);f.forEach(function(b){var f=b.duration||r,g=b.Tb?e+b.Tb:t;t=g+(f||0);var k=0;do{var l=w.A();k+=l;var m=w.A(),u=null;"vttc"==le(m)?8<l&&(u=w.Aa(l-8)):w.F(l-8);f&&u&&h.push(pk(u,c.periodStart+g/d.a,c.periodStart+t/d.a))}while(b.sampleSize&&k<b.sampleSize)});
return h.filter(Eb)};function pk(b,c,d){var e,f,g;(new Q).C("payl",ke(function(b){e=H(b)})).C("iden",ke(function(b){f=H(b)})).C("sttg",ke(function(b){g=H(b)})).parse(b);return e?qk(e,f,g,c,d):null}function qk(b,c,d,e,f){b=new I(e,f,b);c&&(b.id=c);if(d)for(c=new nf(d),d=qf(c);d;)mk(b,d,[]),of(c),d=qf(c);return b}J['application/mp4; codecs="wvtt"']=ok;}).call(exportTo,innerGlobal,innerGlobal);if(typeof exports!="undefined")for(var k in exportTo.shaka)exports[k]=exportTo.shaka[k];else if(typeof define!="undefined"&&define.amd)define(function(){return exportTo.shaka});else innerGlobal.shaka=exportTo.shaka})();

/**
 * @license Copyright (c) 2015-2018 Radiant Media Player 
 * Radiant Media Player 5.0.5 | https://www.radiantmediaplayer.com
 * Terms of service: https://www.radiantmediaplayer.com/terms-of-service.html
 * Contact information: https://www.radiantmediaplayer.com/contact.html
 */
!function r(n,o,l){function d(e,t){if(!o[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var s=o[e]={exports:{}};n[e][0].call(s.exports,function(t){return d(n[e][1][t]||t)},s,s.exports,r,n,o,l)}return o[e].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)d(l[t]);return d}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=s(t("../fw/fw")),d=s(t("../fw/env")),h=s(t("../core/ui/core-ui")),a=s(t("../core/utils/error"));function s(t){return t&&t.__esModule?t:{default:t}}var c={},o=20;c.destroy=function(){this.dom.container&&(this.dom.container.removeEventListener("ready",this.onReadyMain360),this.dom.container.removeEventListener("playing",this.onPlayingUpdate360UI));try{this.requestAnimation360&&window.cancelAnimationFrame(this.requestAnimation360),this.texture360&&this.texture360.dispose(),this.scene360&&this.mesh360&&this.scene360.remove(this.mesh360)}catch(t){l.default.trace(t)}l.default.removeElement(this.canvas360)},c.resize=function(){if(this.renderer360&&this.camera360){var t=-1,e=-1;if(this.isInFullscreen){if(this.hasNativeFullscreenSupport)t=l.default.getScreenWidth(),e=l.default.getScreenHeight();else if(this.fullWindowMode){var i=d.default.getViewportSize();-1<i.width&&-1<i.height&&(t=i.width,e=i.height)}}else t=this.width,e=this.height;0<t&&0<e&&(this.renderer360.setSize(t,e),this.camera360.aspect=t/e,this.camera360.updateProjectionMatrix())}};var r=function(t){t&&("mousedown"===t.type?(this.dragStart.x=l.default.getPosX(t),this.dragStart.y=l.default.getPosY(t)):"touchstart"===t.type&&(t.preventDefault(),this.dragStart.x=l.default.getPosXTouch(t),this.dragStart.y=l.default.getPosYTouch(t)),l.default.addClass(this.canvas360,"rmp-canvas-360-grabbing"),this.mouseDown=!0)},n=function(){l.default.removeClass(this.canvas360,"rmp-canvas-360-grabbing"),this.mouseDown=!1},u=function(t){if(!this.progressiveMoveInprogress&&this.mouseDown){var e,i,a=void 0,s=void 0;"mousemove"===t.type?(a=l.default.getPosX(t),s=l.default.getPosY(t)):"touchmove"===t.type&&(a=l.default.getPosXTouch(t),s=l.default.getPosYTouch(t)),e=this.dragStart.x-a,i=this.dragStart.y-s,this.dragStart.x=a,this.dragStart.y=s;var r=this.getPlayerWidth()/this.getPlayerHeight(),n=1;l.default.hasClass(this.dom.container,"rmp-extrasmall")?n=2:l.default.hasClass(this.dom.container,"rmp-small")&&(n=1.5),this.lon+=.1*e*n,this.lat+=.1*i*r*n}},f=function(){this.camera360&&(this.fov>this.video360MaxFocalLength?this.fov=this.video360MaxFocalLength:this.fov<this.video360MinFocalLength&&(this.fov=this.video360MinFocalLength),this.camera360.fov=this.fov,this.camera360.updateProjectionMatrix())},p=function(){this.dom.content.addEventListener("mousedown",r.bind(this)),this.dom.content.addEventListener("mouseup",n.bind(this)),this.dom.content.addEventListener("mouseleave",n.bind(this)),this.dom.content.addEventListener("mousemove",u.bind(this)),this.dom.content.addEventListener("wheel",function(t){t&&(t.stopPropagation(),t.preventDefault()),this.progressiveMoveInprogress||t&&t.wheelDeltaY&&(0<t.wheelDeltaY?this.fov-=10:this.fov+=10,f.call(this))}.bind(this)),this.dom.content.addEventListener("touchstart",r.bind(this)),this.dom.content.addEventListener("touchend",n.bind(this)),this.dom.content.addEventListener("touchmove",u.bind(this),!!d.default.hasPassiveEventListeners&&{passive:!0})};c.setCamLatLongFov=function(t,e,i,a,s){var r=this;if(!this.progressiveMoveInprogress){if(this.progressiveMoveInprogress=!0,s&&(s.stopPropagation(),"touchend"===s.type&&s.preventDefault()),h.default.showChrome.call(this),a)return this.lon=e,this.lat=t,this.fov=i,f.call(this),void(this.progressiveMoveInprogress=!1);0!==e&&(this.lon+=e/o),0!==t&&(this.lat-=t/o),0!==i&&(this.fov-=i/o,f.call(this));var n=1;l.default.clearInterval(this.progressiveInterval),this.progressiveInterval=setInterval(function(){0!==e&&(r.lon+=e/o),0!==t&&(r.lat-=t/o),0!==i&&(r.fov-=i/o,f.call(r)),++n===o&&(r.progressiveMoveInprogress=!1,l.default.clearInterval(r.progressiveInterval))},o)}};var m=function(){var e=this;this.dom.container.removeEventListener("ready",this.onReadyMain360),this.onPlayingUpdate360UI=function(){this.dom.container.removeEventListener("playing",this.onPlayingUpdate360UI);var t=this.dom.container.querySelector(".rmp-360-ui-text");null!==t&&l.default.removeElement(t),l.default.show(this.dom.ui360);var e=document.createElement("div");e.className="rmp-360-ui-button rmp-360-ui-top rmp-i rmp-i-up",l.default.addEvent(["touchend","click"],e,c.setCamLatLongFov.bind(this,20,0,0,!1)),this.dom.ui360.appendChild(e);var i=document.createElement("div");i.className="rmp-360-ui-button rmp-360-ui-bottom rmp-i rmp-i-down",l.default.addEvent(["touchend","click"],i,c.setCamLatLongFov.bind(this,-20,0,0,!1)),this.dom.ui360.appendChild(i);var a=document.createElement("div");a.className="rmp-360-ui-button rmp-360-ui-left rmp-i rmp-i-left",l.default.addEvent(["touchend","click"],a,c.setCamLatLongFov.bind(this,0,-20,0,!1)),this.dom.ui360.appendChild(a);var s=document.createElement("div");s.className="rmp-360-ui-button rmp-360-ui-right rmp-i rmp-i-right",l.default.addEvent(["touchend","click"],s,c.setCamLatLongFov.bind(this,0,20,0,!1)),this.dom.ui360.appendChild(s);var r=document.createElement("div");r.className="rmp-360-ui-button rmp-360-ui-plus rmp-i rmp-i-plus-360",l.default.addEvent(["touchend","click"],r,c.setCamLatLongFov.bind(this,0,0,10,!1)),this.dom.ui360.appendChild(r);var n=document.createElement("div");n.className="rmp-360-ui-button rmp-360-ui-minus rmp-i rmp-i-minus-360",l.default.addEvent(["touchend","click"],n,c.setCamLatLongFov.bind(this,0,0,-10,!1)),this.dom.ui360.appendChild(n);var o=document.createElement("div");o.className="rmp-360-ui-button rmp-360-ui-reset rmp-i rmp-i-reset-360",l.default.addEvent(["touchend","click"],o,c.setCamLatLongFov.bind(this,this.video360InitialLat,this.video360InitialLon,this.video360FocalLength,!0)),this.dom.ui360.appendChild(o)}.bind(this),this.dom.container.addEventListener("playing",this.onPlayingUpdate360UI);var t=this.getPlayerWidth(),i=this.getPlayerHeight(),a=t/i;this.lat=this.video360InitialLat,this.lon=this.video360InitialLon,this.fov=this.video360FocalLength,this.camera360=new THREE.PerspectiveCamera(this.video360FocalLength,a,1,1100),this.camera360.target=new THREE.Vector3(0,0,0),this.scene360=new THREE.Scene;var s=2*Math.round(60/a/2),r=new THREE.SphereBufferGeometry(500,60,s);r.scale(-1,1,1),this.texture360=new THREE.VideoTexture(this.dom.video);var n=new THREE.MeshBasicMaterial({map:this.texture360});this.texture360.minFilter=THREE.LinearFilter,this.texture360.format=THREE.RGBFormat,this.mesh360=new THREE.Mesh(r,n),this.scene360.add(this.mesh360),this.renderer360=new THREE.WebGLRenderer,this.renderer360.setPixelRatio(d.default.devicePixelRatio),this.renderer360.setSize(t,i),this.canvas360=this.renderer360.domElement,this.canvas360.className="rmp-canvas-360",this.dom.content.insertBefore(this.canvas360,this.dom.poster),l.default.hide(this.dom.video),this.dom.ui360=document.createElement("div"),l.default.addEvent(["touchend","click"],this.dom.ui360,function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),h.default.showChrome.call(this)}.bind(this)),d.default.isMobile||(this.dom.ui360.addEventListener("mouseenter",function(t){t&&t.stopPropagation(),e.forceResetTimer=!0}),this.dom.ui360.addEventListener("mouseleave",function(t){t&&t.stopPropagation(),e.forceResetTimer=!1})),this.dom.ui360.className="rmp-360-ui rmp-color-bg",l.default.hide(this.dom.ui360),this.dom.container.appendChild(this.dom.ui360);var o=document.createElement("div");o.className="rmp-360-ui-text rmp-color-bg",o.textContent="360",this.dom.container.appendChild(o),p.call(this),this.animate360=function(){this.requestAnimation360=window.requestAnimationFrame(this.animate360),this.lat=Math.max(-85,Math.min(85,this.lat));var t=THREE.Math.degToRad(90-this.lat),e=THREE.Math.degToRad(this.lon),i=50*Math.sin(t);this.camera360.position.x=i*Math.cos(e),this.camera360.position.y=50*Math.cos(t),this.camera360.position.z=i*Math.sin(e),this.camera360.lookAt(this.camera360.target),this.renderer360.render(this.scene360,this.camera360)}.bind(this),this.animate360()},v=function(){this.onReadyMain360=m.bind(this),this.get5Ready()?this.onReadyMain360():this.dom.container.addEventListener("ready",this.onReadyMain360)};c.load=function(){if("undefined"!=typeof THREE)v.call(this);else{var t="https://cdn.radiantmediatechs.com/rmp/5.0.5/three/three.min.js";0,l.default.getScript(t,v.bind(this),a.default.fatal.bind(this,"failed to load required lib three.js (360 video)",500,null))}},i.default=c},{"../core/ui/core-ui":40,"../core/utils/error":42,"../fw/env":50,"../fw/fw":51}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});a(t("../fw/fw"));var o=a(t("../core/utils/error"));function a(t){return t&&t.__esModule?t:{default:t}}var s={},r=void 0,n=function(t,e,i){i.addEventListener(t,function(){e(arguments[0])})};s.filterDrm=function(){if("string"==typeof this.fpsDrm.certificatePath&&""!==this.fpsDrm.certificatePath&&"string"==typeof this.fpsDrm.processSpcPath&&""!==this.fpsDrm.processSpcPath){var t="text";"string"==typeof this.fpsDrm.licenseResponseType&&-1<["blob","json","text","arraybuffer"].indexOf(this.fpsDrm.licenseResponseType)&&(t=this.fpsDrm.licenseResponseType),this.fpsDrm.licenseResponseType=t;var e=[];Array.isArray(this.fpsDrm.licenseRequestHeaders)&&(e=this.fpsDrm.licenseRequestHeaders),this.fpsDrm.licenseRequestHeaders=e;var i=[{name:"Pragma",value:"Cache-Control: no-cache"},{name:"Cache-Control",value:"max-age=0"}];Array.isArray(this.fpsDrm.certificateRequestHeaders)&&(i=this.fpsDrm.certificateRequestHeaders),this.fpsDrm.certificateRequestHeaders=i;var a=function(t){var e,i=(e=new Uint16Array(t.buffer),String.fromCharCode.apply(null,e)),a=document.createElement("a");return a.href=i,a.hostname};"function"==typeof this.fpsDrm.extractContentId&&(a=this.fpsDrm.extractContentId),this.fpsDrm.extractContentId=a;var s=function(t,e){return"spc="+function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",a=void 0,s=void 0,r=void 0,n=void 0,o=void 0,l=void 0,d=void 0,h=0;h<t.length;)n=(a=t[h++])>>2,o=(3&a)<<4|(s=h<t.length?t[h++]:Number.NaN)>>4,l=(15&s)<<2|(r=h<t.length?t[h++]:Number.NaN)>>6,d=63&r,Number.isNaN(s)?l=d=64:Number.isNaN(r)&&(d=64),i+=e.charAt(n)+e.charAt(o)+e.charAt(l)+e.charAt(d);return i}(t)+"&assetId="+encodeURIComponent(e.contentId)};"function"==typeof this.fpsDrm.licenseRequestMessage&&(s=this.fpsDrm.licenseRequestMessage),this.fpsDrm.licenseRequestMessage=s;var r=function(t){var e=t.target,i=e.session,a=e.responseText.trim();"<ckc>"===a.substr(0,5)&&"</ckc>"===a.substr(-6)&&(a=a.slice(5,-6));var s=function(t){for(var e=window.atob(t),i=e.length,a=new Uint8Array(new ArrayBuffer(i)),s=0;s<i;s++)a[s]=e.charCodeAt(s);return a}(a);i.update(s)};return"function"==typeof this.fpsDrm.licenseRequestLoaded&&(r=this.fpsDrm.licenseRequestLoaded),this.fpsDrm.licenseRequestLoaded=r,!0}return!1};var l=function(t,e,i){"string"==typeof e&&(e=function(t){for(var e=new ArrayBuffer(2*t.length),i=new Uint16Array(e),a=0,s=t.length;a<s;a++)i[a]=t.charCodeAt(a);return i}(e));var a=0,s=new ArrayBuffer(t.byteLength+4+e.byteLength+4+i.byteLength),r=new DataView(s);new Uint8Array(s,a,t.byteLength).set(t),a+=t.byteLength,r.setUint32(a,e.byteLength,!0),a+=4;var n=new Uint16Array(s,a,e.length);return n.set(e),a+=n.byteLength,r.setUint32(a,i.byteLength,!0),a+=4,new Uint8Array(s,a,i.byteLength).set(i),new Uint8Array(s,0,s.byteLength)},d=function(t){var e=t.target,i=t.message,a=new XMLHttpRequest;a.responseType=this.fpsDrm.licenseResponseType,a.session=e,a.addEventListener("load",this.fpsDrm.licenseRequestLoaded.bind(this),!1),a.addEventListener("error",function(t){var e=null;t&&(e=t),o.default.fatal.call(this,"FPS license request failed",604,e)}.bind(this),!1);var s=this.fpsDrm.licenseRequestMessage(i,e);a.open("POST",this.fpsDrm.processSpcPath,!0);for(var r=0,n=this.fpsDrm.licenseRequestHeaders.length;r<n;r++)"string"==typeof this.fpsDrm.licenseRequestHeaders[r].name&&""!==this.fpsDrm.licenseRequestHeaders[r].name&&"string"==typeof this.fpsDrm.licenseRequestHeaders[r].value&&""!==this.fpsDrm.licenseRequestHeaders[r].value&&a.setRequestHeader(this.fpsDrm.licenseRequestHeaders[r].name,this.fpsDrm.licenseRequestHeaders[r].value);a.send(s)},h=function(t){var e=null;t&&(e=t),o.default.warning.call(this,"FPS decryption key error was encountered",6e3,e)},c=function(t){0},u=function(t){var e=null;t&&(e=t),o.default.warning.call(this,"FPS video playback error occured",6001,e)},f=function(t,e){var i=e.initData;var a=this.fpsDrm.extractContentId(i);if(i=l(i,a,t),this.dom.video.webkitKeys||(!function(){window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")?r="com.apple.fps.1_0":o.default.fatal.call(this,"FPS key System not supported",601,null)}(),this.dom.video.webkitSetMediaKeys(new window.WebKitMediaKeys(r))),this.dom.video.webkitKeys){var s=this.dom.video.webkitKeys.createSession("video/mp4",i);s?(s.contentId=a,n("webkitkeymessage",d.bind(this),s),n("webkitkeyadded",c,s),n("webkitkeyerror",h,s)):o.default.fatal.call(this,"FPS could not create key session",603,null)}else o.default.fatal.call(this,"FPS could not create MediaKeys",602,null)};s.init=function(){var t=new XMLHttpRequest;t.responseType="arraybuffer",t.addEventListener("load",function(t){var e=t.target,i=new Uint8Array(e.response);this.dom.video.addEventListener("webkitneedkey",f.bind(this,i)),this.dom.video.addEventListener("error",u),this.dom.video.src=this.startingBitratePath}.bind(this)),t.addEventListener("error",function(t){var e=null;t&&(e=t),o.default.fatal.call(this,"FPS failed to retrieve the FPS server certificate",600,e)}.bind(this)),t.open("GET",this.fpsDrm.certificatePath,!0);for(var e=0,i=this.fpsDrm.certificateRequestHeaders.length;e<i;e++)"string"==typeof this.fpsDrm.certificateRequestHeaders[e].name&&""!==this.fpsDrm.certificateRequestHeaders[e].name&&"string"==typeof this.fpsDrm.certificateRequestHeaders[e].value&&""!==this.fpsDrm.certificateRequestHeaders[e].value&&t.setRequestHeader(this.fpsDrm.certificateRequestHeaders[e].name,this.fpsDrm.certificateRequestHeaders[e].value);t.send()},i.default=s},{"../core/utils/error":42,"../fw/fw":51}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var b=n(t("../fw/fw")),o=n(t("../fw/env")),S=n(t("../core/ui/core-ui")),E=n(t("../core/utils/error")),A=n(t("../core/modules/quality")),C=n(t("../vtt/captions")),a=n(t("../core/utils/utils")),k=n(t("../core/modules/modules")),l=n(t("../../../../rmp-connection/js/rmp-connection")),s=n(t("../cast/cast")),r=n(t("../ads/ima-dai"));function n(t){return t&&t.__esModule?t:{default:t}}var d={destroy:function(){try{this.hlsJS&&(this.hlsJS.destroy(),this.hlsJS.bufferTimer=void 0,b.default.clearInterval(this.hlsJS.bufferTimer)),b.default.clearInterval(this.hlsJSAbrInterval),b.default.clearTimeout(this.hlsJSErrorRetryTimeout)}catch(t){b.default.trace(t)}}},w=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this.hlsJS.audioTrack=t,k.default.setActiveLevel.call(this,"audio",t),this.googleCast&&s.default.setAudioTrack.call(this,t)},h=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this.setBitrate(t-1)},P=function(t){b.default.createCustomEvent("hlserror",this.dom.container,t),E.default.fatal.call(this,"hls.js error - cannot recover",201,t)},c=function(){var t=void 0;this.hlsJS&&this.hlsJS.subtitleTracks&&0<this.hlsJS.subtitleTracks.length?(t=this.hlsJS.subtitleTracks,this.hlsJS.subtitleDisplay=!0):this.dom.video&&this.dom.video.textTracks&&0<this.dom.video.textTracks.length&&(t=this.dom.video.textTracks,this.hlsJSCEA=!0),t&&(this.textTracks=t,this.textTracks=b.default.filterTextTracks(this.textTracks),0<this.textTracks.length&&(b.default.clearInterval(this.hlsJSCCInterval),C.default.appendUI.call(this)))},_=function(){this.hlsJS.off(Hls.Events.MANIFEST_PARSED,this.hlsManifestParsed),function(){var t=this.hlsJS.levels;if(Array.isArray(t)&&0<t.length&&(A.default.setUpAbrUI.call(this),this.dom.qualityAuto)){b.default.addEvent(["touchend","click"],this.dom.qualityAuto,h.bind(this,0));for(var e=0,i=t.length;e<i;e++){var a=document.createElement("div");b.default.setClass(a,"rmp-overlay-level rmp-color-bg rmp-q"+(e+1));var s="";t[e]&&(this.hlsJSUseManifestRenditionName&&"string"==typeof t[e].name&&""!==t[e].name?s+=t[e].name:(t[e].bitrate||t[e].height)&&(t[e].height&&0<t[e].height&&(s+=t[e].height+"p",t[e].bitrate&&1e4<t[e].bitrate&&(s+=" "+this.uiSeparator+" ")),t[e].bitrate&&1e4<t[e].bitrate&&(s+=Math.round(t[e].bitrate/1e3).toString()+" kbps"))),""===s&&(s+="Level "+(e+1)),b.default.setText(a,s),b.default.addEvent(["touchend","click"],a,h.bind(this,e+1)),this.dom.qualityOverlayLevelsArea.appendChild(a)}}}.call(this),this.hlsJSEnableCaptions&&function(){var t=this;c.call(this),b.default.clearInterval(this.hlsJSCCInterval),this.hlsJSCCInterval=setInterval(c.bind(this),1e3),this.hlsJS.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(){b.default.createStdEvent("hlssubtitletrackswitch",t.dom.container)})}.call(this),b.default.createStdEvent("hlsmanifestparsed",this.dom.container)},L=function(){var t=-1;try{t=this.hlsJS.currentLevel}catch(t){b.default.trace(t)}if(-1<t&&this.dom.qualityOverlayLevelsArea){var e=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");if(0<e.length){for(var i=0,a=e.length;i<a;i++)b.default.removeClass(e[i],"rmp-abr-active");b.default.addClass(e[t+1],"rmp-abr-active")}}};d.initFinised=function(){this.initHLSJS=function(){this.hlsJS.loadSource(this.startingBitratePath)}.bind(this),this.hlsJS.attachMedia(this.dom.video),this.readingHlsHevc?a.default.checkStreams.call(this,this.initHLSJS,this.backupSrc,"hlsHevc"):a.default.checkStreams.call(this,this.initHLSJS,this.backupSrc,"hls"),this.msePreloadCompleted=!0,b.default.createStdEvent("hlsinstancecreated",this.dom.container)};var u=function(){var h=this;if("undefined"==typeof Hls)E.default.fatal.call(this,"failed to load required lib hls.js",200,null);else{var t=function(){var t=!1;this.hasCC&&(this.hlsJSEnableCaptions=!1);var e=l.default.getBandwidthEstimate();e<=0&&(e=o.default.fallbackArbitraryBWEstimate);var i={capLevelToPlayerSize:this.hlsJSCapLevelToPlayerSize,debug:t,maxBufferLength:this.hlsJSMaxBufferLength,autoStartLoad:!0,maxBufferSize:this.hlsJSMaxBufferSize,minAutoBitrate:this.hlsJSMinAutoBitrate,liveSyncDuration:this.hlsJSLiveSyncDuration,maxAudioFramesDrift:this.hlsJSMaxAudioFramesDrift,enableCEA708Captions:this.hlsJSEnableCaptions,enableWebVTT:this.hlsJSEnableCaptions,abrEwmaDefaultEstimate:e,abrBandWidthFactor:this.hlsJSAbrBandWidthFactor,abrBandWidthUpFactor:this.hlsJSAbrBandWidthUpFactor};if("mp4a.40.2"!==this.hlsJSDefaultAudioCodec&&"mp4a.40.5"!==this.hlsJSDefaultAudioCodec||(i.defaultAudioCodec=this.hlsJSDefaultAudioCodec),this.isVod&&(i.levelLoadingMaxRetry=2,i.fragLoadingMaxRetry=3),this.hlsJSXhrWithCredentials&&(i.xhrSetup=function(t){t.withCredentials=!0}),null!==this.hlsJSXhrSetup&&(i.xhrSetup=this.hlsJSXhrSetup),this.hlsJSAppleAppStoreCompliance&&(i.minAutoBitrate=192001,this.hlsJSStartLevel=-1),!b.default.isEmptyObject(this.hlsJSCustomConfig))for(var a=Object.keys(this.hlsJSCustomConfig),s=0,r=a.length;s<r;s++){var n=a[s];i[n]=this.hlsJSCustomConfig[n]}return i}.call(this);if(this.hlsJS=new Hls(t),this.hasStreamroot&&"undefined"!=typeof HlsjsDnaWrapper&&(this.streamrootWrapper=new HlsjsDnaWrapper(this.hlsJS,this.streamrootConfig.streamrootKey,this.streamrootConfig.dnaConfig)),this.hlsJSStartLevel<0?this.hlsJS.startLevel=-1:this.hlsJS.startLevel=parseInt(this.hlsJSStartLevel),this.hlsManifestParsed=_.bind(this),this.hlsJS.on(Hls.Events.MANIFEST_PARSED,this.hlsManifestParsed),this.hlsJSStopDownloadWhilePaused&&(this.hlsOnFirstPlaying=function(){this.dom.container.removeEventListener("playing",this.hlsOnFirstPlaying),this.hlsOnPauseStopLoad=function(){this.hlsStopLoad()}.bind(this),this.dom.container.addEventListener("pause",this.hlsOnPauseStopLoad),this.hlsOnPlayStartLoad=function(){this.hlsStartLoad()}.bind(this),this.dom.container.addEventListener("play",this.hlsOnPlayStartLoad)}.bind(this),this.dom.container.addEventListener("playing",this.hlsOnFirstPlaying)),this.hlsJS.on(Hls.Events.FRAG_LOADED,function(t,e){e&&void 0!==e.frag&&(h.hlsFragmentData=e.frag,b.default.createStdEvent("hlsfragmentloaded",h.dom.container))}),L.call(this),b.default.clearInterval(this.hlsJSAbrInterval),this.hlsJSAbrInterval=setInterval(L.bind(this),1e3),this.hlsJS.on(Hls.Events.LEVEL_SWITCHING,function(){b.default.createStdEvent("hlslevelswitching",h.dom.container)}),this.hlsJS.on(Hls.Events.LEVEL_SWITCHED,function(){b.default.createStdEvent("hlslevelswitched",h.dom.container)}),this.hlsJS.on(Hls.Events.LEVEL_LOADED,function(t,e){if(void 0!==e.details&&(h.hlsLevelData=e.details,b.default.createStdEvent("hlslevelloaded",h.dom.container),h.hlsLevelData.fragments&&h.hlsLevelData.fragments[0])){var i=h.hlsLevelData.fragments[0];i.programDateTime&&"function"==typeof i.programDateTime.getTime&&(h.hlsEpochProgramDateTime=i.programDateTime.getTime(),i.rawProgramDateTime&&(h.hlsRawProgramDateTime=i.rawProgramDateTime),b.default.createStdEvent("hlsprogramdatetimeavailable",h.dom.container))}}),this.hlsJS.on(Hls.Events.MANIFEST_LOADED,function(t,e){void 0!==e.levels&&(h.hlsManifestData=e.levels,b.default.createStdEvent("hlsmanifestloaded",h.dom.container))}),this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA,function(t,e){e&&e.samples?(h.hlsID3TagData=e.samples,b.default.createStdEvent("hlsid3tagparsingcompleted",h.dom.container)):h.hlsID3TagData=null}),this.hlsJS.on(Hls.Events.FRAG_CHANGED,function(t,e){e&&void 0!==e.frag&&(h.hlsFragmentBeingPlayed=e.frag,b.default.createStdEvent("hlsfragmentbeingplayedchanged",h.dom.container))}),this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHING,function(){b.default.createStdEvent("hlsaudiotrackswitching",h.dom.container)}),this.hlsJS.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(){b.default.createStdEvent("hlsaudiotrackswitched",h.dom.container)}),this.hlsJSAttachMultiAudio=function(){this.hlsJS.off(Hls.Events.AUDIO_TRACKS_UPDATED,this.hlsJSAttachMultiAudio);var t=this.hlsJS.audioTracks;if(Array.isArray(t)&&1<t.length){k.default.append.call(this,"audio"),k.default.appendOverlay.call(this,"audio"),k.default.deferredShow.call(this,"audio");var e=void 0;if(1===t.filter(function(t){return!0===t.default}).length)for(var i=0;i<t.length;i++){var a=void 0;"AUDIO"===t[i].type&&!0===t[i].default&&0!==i&&(a=t.splice(i,1)),a&&a[0]&&t.unshift(a[0])}for(var s=0;s<t.length;s++)"AUDIO"===t[s].type&&(e=document.createElement("div"),0===s?b.default.setClass(e,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):b.default.setClass(e,"rmp-overlay-level rmp-color-bg"),this.hlsJSUseManifestRenditionName&&"string"==typeof t[s].name&&""!==t[s].name?b.default.setText(e,t[s].name):"string"==typeof t[s].lang&&""!==t[s].lang?b.default.setText(e,t[s].lang):b.default.setText(e,"Audio "+s),b.default.addEvent(["touchend","click"],e,w.bind(this,s)),this.dom.audioOverlayLevelsArea.appendChild(e))}}.bind(this),this.hlsJS.on(Hls.Events.AUDIO_TRACKS_UPDATED,this.hlsJSAttachMultiAudio),this.isLiveDvr&&this.hlsJS.on(Hls.Events.LEVEL_LOADED,function(t,e){e&&e.details&&"number"==typeof e.details.totalduration&&(h.hlsJSLevelDuration=e.details.totalduration)}),this.hlsJS.on(Hls.Events.FRAG_BUFFERED,function(t,e){if(e&&b.default.isObject(e.stats)){var i=e.stats;"number"==typeof i.bwEstimate&&0<i.bwEstimate&&(h.bwEstimate=Math.round(i.bwEstimate))}}),this.adImaDai)return void r.default.init.call(this);var c=0,u=0,f=0,p=null;this.hlsJSUnstalledBuffer=function(){this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer),S.default.hideLoadingSpin.call(this),b.default.createStdEvent("buffernotstalledanymore",this.dom.container)}.bind(this);var m=[Hls.ErrorDetails.MANIFEST_LOAD_ERROR,Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT],v=[Hls.ErrorDetails.LEVEL_LOAD_ERROR,Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT,Hls.ErrorDetails.FRAG_LOAD_ERROR,Hls.ErrorDetails.FRAG_LOAD_TIMEOUT],g=0,y=null;this.hlsJS.on(Hls.Events.ERROR,function(t,e){if(b.default.isObject(e)&&"boolean"==typeof e.fatal&&e.details&&e.type){var i=e.fatal,a=e.type,s=e.details;if(!i&&s===Hls.ErrorDetails.BUFFER_STALLED_ERROR)return S.default.showLoadingSpin.call(h),h.dom.container.addEventListener("playing",h.hlsJSUnstalledBuffer),void b.default.createStdEvent("bufferstalled",h.dom.container);if(i)if(a===Hls.ErrorTypes.NETWORK_ERROR){0;var r=-1<m.indexOf(s),n=-1<v.indexOf(s);if((h.isLive||h.isLiveDvr&&h.dvrLiveMode)&&(r||n))if(g<h.liveRetries){if(null===y&&(y=function(){this.hlsJS.off(Hls.Events.LEVEL_LOADED,this.hlsJSOnLiveRetriesSuccess),this.hlsJS.off(Hls.Events.MANIFEST_LOADED,this.hlsJSOnLiveRetriesSuccess),this.hlsJS.off(Hls.Events.FRAG_LOADED,this.hlsJSOnLiveRetriesSuccess),g=0,y=null},h.hlsJSOnLiveRetriesSuccess=y.bind(h),h.hlsJS.on(Hls.Events.LEVEL_LOADED,h.hlsJSOnLiveRetriesSuccess),h.hlsJS.on(Hls.Events.MANIFEST_LOADED,h.hlsJSOnLiveRetriesSuccess),h.hlsJS.on(Hls.Events.FRAG_LOADED,h.hlsJSOnLiveRetriesSuccess)),r){if(!h.hasLoadedMetadata)return void P.call(h,e);b.default.clearTimeout(h.hlsJSErrorRetryTimeout),h.hlsJSErrorRetryTimeout=setTimeout(function(){h.dom.quality&&A.default.destroy.call(h),h.dom.audio&&k.default.destroy.call(h,"audio"),h.dom.captions&&C.default.destroy.call(h),h.hlsJS.loadSource(h.startingBitratePath)},400)}else b.default.clearTimeout(h.hlsJSErrorRetryTimeout),h.hlsJSErrorRetryTimeout=setTimeout(function(){h.hlsJS.startLoad()},400);g++}else P.call(h,e);else if(r||s===Hls.ErrorDetails.MANIFEST_PARSING_ERROR)P.call(h,e);else if(n){var o=h.getBitrates();if(s===Hls.ErrorDetails.LEVEL_LOAD_ERROR&&1===o.length)f=0,P.call(h,e);else if(f<3){0===f&&null===p&&(p=function(){0<f&&(f=0)},h.hlsJS.on(Hls.Events.LEVEL_LOADED,p)),f++;var l=b.default.getRandomInt(0,o.length);0,h.hlsJS.currentLevel=l}else f=0,P.call(h,e)}else b.default.clearTimeout(h.hlsJSErrorRetryTimeout),h.hlsJSErrorRetryTimeout=setTimeout(function(){h.hlsJS.startLoad()},400)}else if(a===Hls.ErrorTypes.MEDIA_ERROR){if(s===Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR)return void P.call(h,e);var d=b.default.getNow();0===c||3e3<d-c?(c=b.default.getNow(),h.hlsJS.recoverMediaError()):0===u||3e3<d-u?(u=b.default.getNow(),h.hlsJS.swapAudioCodec(),h.hlsJS.recoverMediaError()):P.call(h,e)}else P.call(h,e);else b.default.createCustomEvent("hlswarning",h.dom.container,e),E.default.warning.call(h,"hls.js warning",2e3,e)}}),d.initFinised.call(this)}},f=function(){if("undefined"!=typeof Hls)u.call(this);else{var t="https://cdn.radiantmediatechs.com/rmp/5.0.5/hls/hls.min.js";0,b.default.getScript(t,u.bind(this),E.default.fatal.bind(this,"failed to load required lib hls.js",200,null))}};d.init=function(){if(this.msePreloadRequested)this.msePreloadRequested=!1;else if(!b.default.isEmptyObject(this.streamrootConfig)&&this.streamrootConfig.streamrootKey&&"hlsjs"===this.streamrootConfig.type)if(this.hasStreamroot=!0,"undefined"!=typeof HlsjsDnaWrapper)f.call(this);else{b.default.getScript("https://cdn.streamroot.io/hlsjs-dna-wrapper/1/stable/hlsjs-dna-wrapper.js",f.bind(this),f.bind(this))}else f.call(this)},i.default=d},{"../../../../rmp-connection/js/rmp-connection":251,"../ads/ima-dai":8,"../cast/cast":21,"../core/modules/modules":29,"../core/modules/quality":30,"../core/ui/core-ui":40,"../core/utils/error":42,"../core/utils/utils":44,"../fw/env":50,"../fw/fw":51,"../vtt/captions":55}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=f(t("../fw/fw")),a=f(t("../core/modules/quality")),s=f(t("../vtt/captions")),r=f(t("./shaka/configuration")),n=f(t("../core/ui/core-ui")),o=f(t("../core/utils/utils")),l=f(t("../core/utils/error")),d=f(t("../core/modules/modules")),h=f(t("../cast/cast")),c=f(t("../api/offline"));function f(t){return t&&t.__esModule?t:{default:t}}var p={},m=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),n.default.showChrome.call(this),this.setBitrate(t-1)},v=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),n.default.showChrome.call(this),this.setAudioTrack(t),this.googleCast&&h.default.setAudioTrack.call(this,t)},g=function(){var t=this.shakaPlayer.getVariantTracks(),e=t.find(function(t){return!0===t.active});return e?e.language:t[0].language},y=function(){var t=this.shakaPlayer.getVariantTracks();if(0<t.length&&this.dom.qualityOverlayLevelsArea){var e=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");if(0<e.length){for(var i=0,a=e.length;i<a;i++)u.default.removeClass(e[i],"rmp-abr-active");for(var s=0,r=t.length;s<r;s++){var n=t[s];if(n.active){var o=this.shakaCurrentLevel;this.audioOnly?n.audioBandwidth?this.shakaCurrentLevel=n.audioBandwidth:n.bandwidth&&(this.shakaCurrentLevel=n.bandwidth):n.videoBandwidth?this.shakaCurrentLevel=n.videoBandwidth:n.bandwidth&&(this.shakaCurrentLevel=n.bandwidth),null!==o&&this.shakaCurrentLevel===o||u.default.createStdEvent("shakalevelswitching",this.dom.container);for(var l=0,d=e.length;l<d;l++){var h=e[l],c=h.getAttribute("data-track-id");if(c&&parseInt(c)===n.id){u.default.addClass(h,"rmp-abr-active");break}}break}}}}};p.setUpVideoRenditions=function(){this.shakaVideoRenditions=[];for(var e=g.call(this),t=this.variantsPerLng.filter(function(t){return Object.keys(t)[0]===e}),i=0,a=(t=void 0!==t[0][e]?t[0][e]:[]).length;i<a;i++){var s=t[i],r=document.createElement("div");u.default.setClass(r,"rmp-overlay-level rmp-color-bg rmp-q"+(i+1)),r.setAttribute("data-track-id",s.id),this.shakaVideoRenditions.push(s.id);var n="",o=s.height;o&&(n+=o+"p");var l=Math.round(s.bandwidth/1e3);10<l&&(n+=" "+this.uiSeparator+" "+l.toString()+" kbps"),n||(n+="Level "+(i+1)),u.default.setText(r,n),this.dom.qualityOverlayLevelsArea.appendChild(r)}(function(){if(this.dom.qualityOverlayLevelsArea)for(var t=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),e=0,i=t.length;e<i;e++)u.default.addEvent(["touchend","click"],t[e],m.bind(this,e))}).call(this),y.call(this)};var b=function(){(function(){var a=this;this.variantsAudioLng=this.shakaPlayer.getAudioLanguages();var s=this.shakaPlayer.getVariantTracks();this.variantsPerLng=[],this.variantsAudioLng.forEach(function(e){var t=s.filter(function(t){return t.language===e});t.sort(function(t,e){return t.bandwidth-e.bandwidth});var i={};i[e]=t,a.variantsPerLng.push(i)}),this.hasCC||(this.shakaTextTracks=this.shakaPlayer.getTextTracks())}).call(this),0<this.variantsPerLng.length&&(a.default.setUpAbrUI.call(this),p.setUpVideoRenditions.call(this),1<this.variantsPerLng.length&&function(){d.default.append.call(this,"audio"),d.default.appendOverlay.call(this,"audio"),d.default.deferredShow.call(this,"audio");for(var t=g.call(this),e=0;e<this.variantsAudioLng.length;e++){var i=this.variantsAudioLng[e],a=document.createElement("div");i===t?u.default.setClass(a,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):u.default.setClass(a,"rmp-overlay-level rmp-color-bg");var s="Audio "+e;"und"!==i&&(s=i),u.default.setText(a,s),u.default.addEvent(["touchend","click"],a,v.bind(this,e)),this.dom.audioOverlayLevelsArea.appendChild(a)}}.call(this),!this.hasCC&&0<this.shakaTextTracks.length&&(this.textTracks=u.default.filterTextTracks(this.shakaTextTracks),0<this.textTracks.length&&s.default.appendUI.call(this)))},S=0,E=function(t){if(t){var e=t;t&&t.detail&&(e=t.detail),e&&"number"==typeof e.severity&&(2===e.severity?(u.default.createCustomEvent("shakaerror",this.dom.container,e),l.default.fatal.call(this,"Shaka player error - cannot recover",301,e)):1===e.severity&&(1===e.category&&this.isLive&&this.hasLoadedMetadata?S<this.liveRetries?(0===S&&(this.shakaOnPlayingResetRetriesCount=function(){this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount),S=0}.bind(this),this.dom.container.addEventListener("playing",this.shakaOnPlayingResetRetriesCount)),S++):(this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount),u.default.createCustomEvent("shakaerror",this.dom.container,e),l.default.fatal.call(this,"Shaka player error - cannot recover",301,e)):(u.default.createStdEvent("shakawarning",this.dom.container,e),l.default.warning.call(this,"Shaka player warning",3e3,e))))}};p.destroy=function(){this.shakaPlayer&&(this.shakaPlayer.removeEventListener("error",this.shakaError),this.shakaPlayer.removeEventListener("adaptation",this.shakaAdaptationChanged),this.shakaPlayer.removeEventListener("buffering",this.shakaBuffering),this.shakaPlayer.removeEventListener("trackschanged",this.shakaTracksChanged),this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer)),this.dom.container&&this.dom.container.removeEventListener("playing",this.shakaOnPlayingResetRetriesCount)};var A=function(){this.shakaPlayer=new shaka.Player(this.dom.video),this.hasStreamroot&&"undefined"!=typeof ShakaPlayerDnaWrapper&&(this.streamrootWrapper=new ShakaPlayerDnaWrapper(this.shakaPlayer,this.streamrootConfig.streamrootKey,this.streamrootConfig.dnaConfig));var t=void 0;t=u.default.isEmptyObject(this.shakaCustomConfig)?r.default.initial.call(this):this.shakaCustomConfig,this.shakaPlayer.configure(t),null!==this.shakaCustomRequestFilter?this.shakaPlayer.getNetworkingEngine().registerRequestFilter(this.shakaCustomRequestFilter):u.default.isEmptyObject(this.shakaRequestConfiguration)||r.default.request.call(this),this.shakaError=E.bind(this),this.shakaPlayer.addEventListener("error",this.shakaError),this.shakaAdaptationChanged=function(){this.shakaPlayer.getConfiguration().abr.enabled&&y.call(this)}.bind(this),this.shakaPlayer.addEventListener("adaptation",this.shakaAdaptationChanged),this.shakaBuffering=function(t){t&&"buffering"===t.type&&t.buffering&&(this.firstBufferStalledEvent||(n.default.showLoadingSpin.call(this),this.shakaPlayer.addEventListener("buffering",this.shakaUnstalledBuffer),u.default.createStdEvent("bufferstalled",this.dom.container)),this.firstBufferStalledEvent=!1)}.bind(this),this.shakaUnstalledBuffer=function(t){this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer),t&&"buffering"===t.type&&!t.buffering&&(n.default.hideLoadingSpin.call(this),u.default.createStdEvent("buffernotstalledanymore",this.dom.container))}.bind(this),this.shakaPlayer.addEventListener("buffering",this.shakaBuffering),this.shakaTracksChanged=function(){this.dom.quality&&a.default.destroy.call(this),this.dom.audio&&d.default.destroy.call(this,"audio"),this.hasCC||this.dom.captions&&s.default.destroy.call(this),b.call(this),u.default.createStdEvent("shakatrackschanged",this.dom.container)}.bind(this),this.shakaPlayer.addEventListener("trackschanged",this.shakaTracksChanged),this.shakaOffline&&this.isVod&&(this.hasDownloadSupport()?c.default.init.call(this):l.default.warning.call(this,"offline storage is not supported in this environment",3007,null)),this.shakaPlayer.load(this.startingBitratePath).catch(this.shakaError),this.msePreloadCompleted=!0,u.default.createStdEvent("shakainstancecreated",this.dom.container)},C=function(){"undefined"!=typeof shaka&&(shaka.polyfill.installAll(),shaka.Player.isBrowserSupported())?this.readingDash?o.default.checkStreams.call(this,A.bind(this),this.backupSrc,"dash"):this.readingHlsShaka&&(this.readingHlsHevc?o.default.checkStreams.call(this,A.bind(this),this.backupSrc,"hlsHevc"):o.default.checkStreams.call(this,A.bind(this),this.backupSrc,"hls")):l.default.fatal.call(this,"failed to load required lib Shaka player",300,null)},k=function(){if("undefined"!=typeof shaka)C.call(this);else{var t="https://cdn.radiantmediatechs.com/rmp/5.0.5/dash/shaka-player.compiled.js";0,u.default.getScript(t,C.bind(this),l.default.fatal.bind(this,"failed to load required lib Shaka player",300,null))}};p.init=function(){if(this.msePreloadRequested)this.msePreloadRequested=!1;else if(!u.default.isEmptyObject(this.streamrootConfig)&&this.streamrootConfig.streamrootKey&&"shakaplayer"===this.streamrootConfig.type)if(this.hasStreamroot=!0,"undefined"!=typeof ShakaPlayerDnaWrapper)k.call(this);else{u.default.getScript("https://cdn.streamroot.io/shakaplayer-dna-wrapper/1/stable/shakaplayer-dna-wrapper.js",k.bind(this),k.bind(this))}else k.call(this)},i.default=p},{"../api/offline":18,"../cast/cast":21,"../core/modules/modules":29,"../core/modules/quality":30,"../core/ui/core-ui":40,"../core/utils/error":42,"../core/utils/utils":44,"../fw/fw":51,"../vtt/captions":55,"./shaka/configuration":5}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=a(t("../../fw/fw")),n=a(t("../../fw/env")),o=a(t("../../../../../rmp-connection/js/rmp-connection"));function a(t){return t&&t.__esModule?t:{default:t}}var s={},l=function(t){var e=n.default.devicePixelRatio;e<=1&&!this.getFullscreen()&&(e=1.25);var i=this.getPlayerWidth()*e,a=this.getPlayerHeight()*e;if(0<i&&0<a){var s={maxWidth:i,maxHeight:a};return t?(t.abr.restrictions=s,t):{abr:{restrictions:s}}}return null};s.initial=function(){var t={abr:{},drm:{},manifest:{},restrictions:{},streaming:{}},e={},i={},a=this.shakaStartLevel,s=null;if(a<0&&0<(s=o.default.getBandwidthEstimate())&&(a=Math.round(1e3*s*1e3)),null===s&&(a=n.default.fallbackArbitraryBWEstimate),t.abr.defaultBandwidthEstimate=a,t.abr.bandwidthDowngradeTarget=this.shakaBandwidthDowngradeTarget,t.abr.bandwidthUpgradeTarget=this.shakaBandwidthUpgradeTarget,this.shakaCapLevelToPlayerSize){var r=l.call(this,t);r&&(t=r),this.configureShakaCapLevelToPlayerSize=function(){var t=l.call(this,null);t&&this.shakaPlayer.configure(t)}.bind(this,null),this.dom.container.addEventListener("resize",this.configureShakaCapLevelToPlayerSize)}if(t.preferredAudioLanguage=this.shakaPreferredAudioLanguage,t.streaming.bufferBehind=this.shakaStreamingBufferBehind,t.streaming.bufferingGoal=this.shakaStreamingBufferingGoal,t.streaming.rebufferingGoal=this.shakaStreamingRebufferingGoal,t.streaming.ignoreTextStreamFailures=this.shakaStreamingIgnoreTextStreamFailures,t.streaming.jumpLargeGaps=this.shakaJumpLargeGaps,t.streaming.smallGapLimit=this.shakaSmallGapLimit,10!==this.shakaManifestDashDefaultPresentationDelay&&(t.manifest.dash={},t.manifest.dash.defaultPresentationDelay=this.shakaManifestDashDefaultPresentationDelay),c.default.isEmptyObject(this.shakaRetryParameters)){t.manifest.retryParameters={maxAttempts:3},t.streaming.retryParameters={maxAttempts:4}}else"number"==typeof this.shakaRetryParameters.maxAttempts&&(e.maxAttempts=this.shakaRetryParameters.maxAttempts),"number"==typeof this.shakaRetryParameters.baseDelay&&(e.baseDelay=this.shakaRetryParameters.baseDelay),"number"==typeof this.shakaRetryParameters.backoffFactor&&(e.backoffFactor=this.shakaRetryParameters.backoffFactor),"number"==typeof this.shakaRetryParameters.fuzzFactor&&(e.fuzzFactor=this.shakaRetryParameters.fuzzFactor),"number"==typeof this.shakaRetryParameters.timeout&&(e.timeout=this.shakaRetryParameters.timeout),c.default.isEmptyObject(e)||(t.drm.retryParameters=e,t.manifest.retryParameters=e,t.streaming.retryParameters=e);return c.default.isEmptyObject(this.shakaDrm)||(c.default.isObject(this.shakaDrm.servers)&&(t.drm.servers=this.shakaDrm.servers),c.default.isObject(this.shakaDrm.clearKeys)&&(t.drm.clearKeys=this.shakaDrm.clearKeys),c.default.isObject(this.shakaDrm.advanced)&&(t.drm.advanced=this.shakaDrm.advanced)),c.default.isEmptyObject(this.shakaRestrictions)||("number"==typeof this.shakaRestrictions.minWidth&&(i.minWidth=this.shakaRestrictions.minWidth),"number"==typeof this.shakaRestrictions.maxWidth&&(i.maxWidth=this.shakaRestrictions.maxWidth),"number"==typeof this.shakaRestrictions.minHeight&&(i.minHeight=this.shakaRestrictions.minHeight),"number"==typeof this.shakaRestrictions.maxHeight&&(i.maxHeight=this.shakaRestrictions.maxHeight),"number"==typeof this.shakaRestrictions.minPixels&&(i.minPixels=this.shakaRestrictions.minPixels),"number"==typeof this.shakaRestrictions.maxPixels&&(i.maxPixels=this.shakaRestrictions.maxPixels),"number"==typeof this.shakaRestrictions.minAudioBandwidth&&(i.minAudioBandwidth=this.shakaRestrictions.minAudioBandwidth),"number"==typeof this.shakaRestrictions.maxAudioBandwidth&&(i.maxAudioBandwidth=this.shakaRestrictions.maxAudioBandwidth),"number"==typeof this.shakaRestrictions.minVideoBandwidth&&(i.minVideoBandwidth=this.shakaRestrictions.minVideoBandwidth),"number"==typeof this.shakaRestrictions.maxVideoBandwidth&&(i.maxVideoBandwidth=this.shakaRestrictions.maxVideoBandwidth),c.default.isEmptyObject(i)||(t.restrictions=i)),c.default.isEmptyObject(t.drm)&&delete t.drm,c.default.isEmptyObject(t.manifest)&&delete t.manifest,c.default.isEmptyObject(t.restrictions)&&delete t.restrictions,t},s.request=function(){var n={},o=!1,l="";c.default.isObject(this.shakaRequestConfiguration.license)&&(c.default.isObject(this.shakaRequestConfiguration.license.headers)&&(n=this.shakaRequestConfiguration.license.headers),"boolean"==typeof this.shakaRequestConfiguration.license.credentials&&(o=this.shakaRequestConfiguration.license.credentials),"string"==typeof this.shakaRequestConfiguration.license.parameters&&(l=this.shakaRequestConfiguration.license.parameters));var d=!1;c.default.isObject(this.shakaRequestConfiguration.manifest)&&"boolean"==typeof this.shakaRequestConfiguration.manifest.credentials&&(d=this.shakaRequestConfiguration.manifest.credentials);var h=!1;c.default.isObject(this.shakaRequestConfiguration.segment)&&"boolean"==typeof this.shakaRequestConfiguration.segment.credentials&&(h=this.shakaRequestConfiguration.segment.credentials),this.shakaPlayer.getNetworkingEngine().registerRequestFilter(function(t,e){if(t===shaka.net.NetworkingEngine.RequestType.LICENSE){if(!c.default.isEmptyObject(n))for(var i=Object.keys(n),a=0,s=i.length;a<s;a++){var r=i[a];e.headers[r]=n[r]}""!==l&&(e.uris[0]+=l),o&&(e.allowCrossSiteCredentials=!0)}t===shaka.net.NetworkingEngine.RequestType.MANIFEST&&d&&(e.allowCrossSiteCredentials=!0),t===shaka.net.NetworkingEngine.RequestType.SEGMENT&&h&&(e.allowCrossSiteCredentials=!0)})},i.default=s},{"../../../../../rmp-connection/js/rmp-connection":251,"../../fw/env":50,"../../fw/fw":51}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var g=l(t("../fw/fw")),y=l(t("../fw/env")),a=l(t("../core/ui/core-ui")),s=l(t("./ima-ads")),r=l(t("./rmp-vast")),n=l(t("../core/modules/modules")),o=l(t("../core/accessible/accessible"));function l(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var h={destroy:function(){g.default.removeEvent("ended",this.dom.container,this.onEndedWaitForPlay),g.default.removeEvent("play",this.dom.container,this.onRePlayLoadAdTag),g.default.removeEvent("adloaded",this.dom.container,this.onAdLoadedAfterReload)}},c=function(){this.dom.container.removeEventListener("ended",this.onEndedWaitForPlay),this.onRePlayLoadAdTag=function(){this.dom.container.removeEventListener("play",this.onRePlayLoadAdTag),this.adTagWaterfall=[].concat(d(this.originalAdTagWaterfall)),this.adTagUrl=this.originalAdTagUrl,"ima"===this.adParser?this.contentCompleteCalled=!1:this.rmpVast.setContentPlayerCompleted(!1),this.loadAds(this.adTagUrl),this.dom.container.addEventListener("ended",this.onEndedWaitForPlay)}.bind(this),this.dom.container.addEventListener("play",this.onRePlayLoadAdTag)};h.onEndedReloadAdTag=function(){this.onEndedWaitForPlay=c.bind(this),this.dom.container.addEventListener("ended",this.onEndedWaitForPlay)};var u=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),g.default.removeEvent(["touchend","click"],this.dom.overlayButton,this.onInteractionReloadAdTag),y.default.isMobile&&g.default.removeEvent(["touchend","click"],this.dom.centralMobileUI,this.onInteractionReloadAdTag),this.adTagWaterfall=[].concat(d(this.originalAdTagWaterfall)),this.adTagUrl=this.originalAdTagUrl,this.loadAds(this.adTagUrl),this.onAdLoadedAfterReload=function(){this.dom.container.removeEventListener("adloaded",this.onAdLoadedAfterReload),g.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay"),g.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play"),y.default.isMobile&&(g.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),g.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),g.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")),g.default.show(this.dom.outline)}.bind(this),this.dom.container.addEventListener("adloaded",this.onAdLoadedAfterReload)};h.endedOutStreamUI=function(){""!==this.endOfVideoPoster&&this.setPoster(this.endOfVideoPoster),""!==this.poster&&g.default.show(this.dom.poster),g.default.hide(this.dom.outline),this.adTagReloadOnEnded?(g.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-play"),g.default.addClass(this.dom.overlayButtonIcon,"rmp-i-replay"),a.default.showCentralPlay.call(this),this.onInteractionReloadAdTag=u.bind(this),g.default.addEvent(["touchend","click"],this.dom.overlayButton,this.onInteractionReloadAdTag),y.default.isMobile&&(g.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),g.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),g.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),g.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),g.default.addEvent(["touchend","click"],this.dom.centralMobileUI,this.onInteractionReloadAdTag))):(a.default.hideCentralPlay.call(this),a.default.hideLoadingSpin.call(this),g.default.removeEvent(["touchend","click"],this.dom.playPause,this.initiatePlayback),g.default.removeEvent(["touchend","click"],this.dom.overlayButton,this.initiatePlayback),y.default.isMobile&&(g.default.hide(this.dom.centralMobileUI),g.default.removeEvent(["touchend","click"],this.dom.centralMobileUI,this.initiatePlayback)))},h.createControlBarAdInfo=function(){this.dom.adInfo=document.createElement("div"),g.default.setClass(this.dom.adInfo,"rmp-ad-info"),g.default.hide(this.dom.adInfo),!y.default.isMobile||"ima"!==this.adParser||"s3"!==this.skin&&"s4"!==this.skin||g.default.addClass(this.dom.adInfo,"rmp-no-display"),this.dom.outline.appendChild(this.dom.adInfo),""!==this.labels.ads.controlBarCustomMessage&&(this.dom.adMessage=document.createElement("span"),g.default.setClass(this.dom.adMessage,"rmp-ad-info-message"),g.default.setText(this.dom.adMessage,this.labels.ads.controlBarCustomMessage),this.dom.adInfo.appendChild(this.dom.adMessage))};var f=function(){var t=this.getAdCurrentTime();if(t>1e3*this.adSkipOffset)g.default.clearInterval(this.adSkipInterval),this.dom.adSkipWaiting.style.display="none",this.dom.adSkipMessage.style.display="block",this.dom.skipIcon.style.display="block";else if(-1<t){var e=Math.round((1e3*this.adSkipOffset-t)/1e3);0<e&&(this.dom.adSkipWaiting.textContent=this.labels.ads.skipWaitingMessage+" "+e+"s")}},p=function(){g.default.removeClass(this.dom.outline,"rmp-no-display"),a.default.enableCentralUI.call(this)},m=function(){g.default.addClass(this.dom.outline,"rmp-no-display"),a.default.disableCentralUI.call(this)};h.setAdUI=function(t){if(t&&!this.hasAdUI){if(!this.adOutStream&&(n.default.closeAll.call(this),n.default.hide.call(this),g.default.hide([this.dom.seekBar,this.dom.duration,this.dom.timeElapsed]),this.dom.logoImg&&g.default.hide(this.dom.logoImg),this.dom.quickRewind&&g.default.hide(this.dom.quickRewind),this.hasRelated&&g.default.hide(this.dom.relatedSkip),this.hasPlaylist&&(g.default.hide(this.dom.playlistLeftArrow),g.default.hide(this.dom.playlistRightArrow)),this.video360)){var e=this.dom.container.querySelector(".rmp-360-ui-text");null!==e&&g.default.removeElement(e),g.default.hide(this.dom.ui360),g.default.show(this.dom.adContainer)}g.default.addClass(this.dom.contentTitle,"rmp-no-display"),this.dom.adInfo||h.createControlBarAdInfo.call(this),!1===this.adCountDown&&""===this.labels.ads.controlBarCustomMessage||g.default.show(this.dom.adInfo),this.adSkipButton&&"ima"!==this.adParser&&function(){if(!this.rmpVast.getIsSkippableAd()&&!this.isVpaidCreative()){if(void 0===this.dom.adSkipButton)if(this.dom.adSkipButton=document.createElement("div"),this.dom.adSkipButton.className="rmp-ad-skip",o.default.makeAccessible.call(this,this.dom.adSkipButton,"Ad skip button",!0),this.dom.adSkipWaiting=document.createElement("div"),this.dom.adSkipWaiting.className="rmp-ad-skip-waiting",this.dom.adSkipMessage=document.createElement("div"),this.dom.adSkipMessage.className="rmp-ad-skip-message",this.dom.adSkipMessage.textContent=this.labels.ads.skipMessage,this.dom.skipIcon=document.createElement("div"),this.dom.skipIcon.className="rmp-ad-skip-icon",g.default.addEvent(["touchend","click"],this.dom.adSkipButton,function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),this.getAdCurrentTime()>1e3*this.adSkipOffset&&this.stopAds()}.bind(this)),this.dom.adSkipButton.appendChild(this.dom.adSkipWaiting),this.dom.adSkipButton.appendChild(this.dom.adSkipMessage),this.dom.adSkipButton.appendChild(this.dom.skipIcon),"ima"===this.adParser)this.dom.adContainer.appendChild(this.dom.adSkipButton);else{var t=this.dom.container.querySelector(".rmp-ad-container");null!==t&&t.appendChild(this.dom.adSkipButton)}this.dom.adSkipButton.style.display="block",this.adSkipOffset<=0?(this.dom.adSkipWaiting.style.display="none",this.dom.adSkipMessage.style.display="block",this.dom.skipIcon.style.display="block"):(this.dom.adSkipWaiting.style.display="block",this.dom.adSkipMessage.style.display="none",this.dom.skipIcon.style.display="none"),0<this.adSkipOffset&&(f.call(this),g.default.clearInterval(this.adSkipInterval),this.adSkipInterval=setInterval(f.bind(this),1e3))}}.call(this),this.isVPAID&&h.setVPAIDUI.call(this,!0),function(){/adsense/i.test(this.adSystem)&&/(text|image\/)/i.test(this.adContentType)&&m.call(this)}.call(this),a.default.showChrome.call(this),this.hasAdUI=!0}else!t&&this.hasAdUI&&(this.adOutStream||(n.default.show.call(this),this.isLive?g.default.setText(this.dom.timeElapsedText,this.labels.hint.live):g.default.show([this.dom.seekBar,this.dom.duration]),g.default.show(this.dom.timeElapsed),this.dom.quickRewind&&g.default.show(this.dom.quickRewind),this.hasRelated&&g.default.show(this.dom.relatedSkip),this.hasPlaylist&&(g.default.show(this.dom.playlistLeftArrow),g.default.show(this.dom.playlistRightArrow)),this.video360&&(g.default.hide(this.dom.adContainer),g.default.show(this.dom.ui360))),g.default.hide(this.dom.adInfo),this.isVPAID&&h.setVPAIDUI.call(this,!1),g.default.removeClass(this.dom.contentTitle,"rmp-no-display"),this.dom.logoImg&&g.default.show(this.dom.logoImg),p.call(this),g.default.clearInterval(this.adCountdownInterval),this.adSkipButton&&"ima"!==this.adParser&&function(){g.default.clearInterval(this.adSkipInterval),this.dom.adSkipButton&&(this.dom.adSkipButton.style.display="none")}.call(this),this.hasAdUI=!1)},h.updateVPAIDStatus=function(t){var e=this.getAdContentType();/\/javascript/i.test(e)&&(this.isVPAID=!0,t&&h.setVPAIDUI.call(this,!0))},h.setVPAIDUI=function(t){t?this.adVpaidControls?this.dom.outline.style.zIndex="9999":m.call(this):this.adVpaidControls?"9999"===this.dom.outline.style.zIndex&&(this.dom.outline.style.zIndex="auto"):p.call(this)},h.udpatePlayPause=function(){this.getAdPaused()?(g.default.addClass(this.dom.playPause,"rmp-i-play"),g.default.removeClass(this.dom.playPause,"rmp-i-pause"),y.default.isMobile&&(g.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),g.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),g.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play")),a.default.showChrome.call(this),a.default.showCentralPlay.call(this)):(g.default.removeClass(this.dom.playPause,"rmp-i-play"),g.default.addClass(this.dom.playPause,"rmp-i-pause"),y.default.isMobile&&(g.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),g.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),g.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")),a.default.hideCentralPlay.call(this))},h.playPause=function(){"ima"===this.adParser?this.getAdPaused()?s.default.resumeAds.call(this):s.default.pauseAds.call(this):this.getAdPaused()?r.default.resumeAds.call(this):r.default.pauseAds.call(this)};var v=function(){var t=-1;if("ima"===this.adParser)try{t=this.adsManager.getRemainingTime()}catch(t){g.default.trace(t)}else t=(this.getAdDuration()-this.getAdCurrentTime())/1e3;"number"==typeof t&&0<=t&&(t=g.default.readableTime(Math.round(t)),g.default.setText(this.dom.adCountdown,"("+t+")"))};h.addCountDown=function(){this.dom.adCountdown||(this.dom.adCountdown=document.createElement("span"),g.default.setClass(this.dom.adCountdown,"rmp-ad-info-countdown"),this.dom.adInfo.appendChild(this.dom.adCountdown)),v.call(this),g.default.clearInterval(this.adCountdownInterval),this.adCountdownInterval=setInterval(v.bind(this),1e3)};h.onAdBlockDetection=function(){var t=this;g.default.addClass(this.dom.container,"rmp-ad-block-detected"),this.googleCast=!1,this.airplay=!1,this.dom.container.addEventListener("playing",function(){t.pause(),t.showPoster()}),function(){var t=document.createElement("div");t.className="rmp-ad-block-container",t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation()});var e=document.createElement("div");e.className="rmp-ad-block-text",e.textContent=this.adBlockerDetectedMessage,t.appendChild(e),this.dom.container.appendChild(t),g.default.fadeIn(t),g.default.show(this.dom.poster)}.call(this)},h.replaceAdTagVar=function(t){var i=t;if(!/__.+__/i.test(i))return i;var a=[],e="";window.location&&window.location.hostname&&(e=window.location.hostname.toLowerCase()),a.push(g.default.RFC3986EncodeURIComponent(e));var s=this.height;this.isInFullscreen&&(s=g.default.getScreenHeight()),("number"!=typeof s||s<=0)&&(s=""),a.push(g.default.RFC3986EncodeURIComponent(Math.round(s).toString()));var r=this.width;this.isInFullscreen&&(r=g.default.getScreenWidth()),("number"!=typeof r||r<=0)&&(r=""),a.push(g.default.RFC3986EncodeURIComponent(Math.round(r).toString()));for(var n="",o=0;o<12;o++)n+=g.default.getRandomInt(0,9).toString();a.push(g.default.RFC3986EncodeURIComponent(n));var l="";document.URL&&(l=document.URL),a.push(g.default.RFC3986EncodeURIComponent(l));var d=Date.now();("number"!=typeof d||d<=0)&&(d=""),a.push(g.default.RFC3986EncodeURIComponent(d.toString()));var h="";document.referrer&&(h=document.referrer),a.push(g.default.RFC3986EncodeURIComponent(h));var c="";y.default.isMobile&&(c="mobile"),a.push(g.default.RFC3986EncodeURIComponent(c));var u="";"ima"===this.adParser&&(u=this.adParser),a.push(g.default.RFC3986EncodeURIComponent(u));var f="";""!==this.contentTitle&&(f=this.contentTitle),a.push(g.default.RFC3986EncodeURIComponent(f));var p="";""!==this.contentDescription&&(p=this.contentDescription),a.push(g.default.RFC3986EncodeURIComponent(p));var m=this.getDuration();m=-1!==m&&this.isVod?Math.round(m/1e3).toString():"",a.push(g.default.RFC3986EncodeURIComponent(m));var v=this.getCurrentTime();return v=-1!==v&&this.isVod?Math.round(v/1e3).toString():"",a.push(g.default.RFC3986EncodeURIComponent(v)),["__domain__","__player-height__","__player-width__","__random-number__","__page-url__","__timestamp__","__referrer__","__mobile__","__ima__","__item-title__","__item-description__","__item-duration__","__current-time__"].forEach(function(t,e){i=i.replace(t,a[e])}),i},i.default=h},{"../core/accessible/accessible":22,"../core/modules/modules":29,"../core/ui/core-ui":40,"../fw/env":50,"../fw/fw":51,"./ima-ads":7,"./rmp-vast":9}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=c(t("../fw/fw")),r=c(t("../fw/env")),a=c(t("../core/ready")),n=c(t("../core/volume/volume")),o=c(t("../core/resize/resize")),l=c(t("../core/ui/core-ui")),d=c(t("../core/utils/utils")),h=c(t("./ads-helpers"));function c(t){return t&&t.__esModule?t:{default:t}}var u={},f=function(){if(null!==this.adsManager&&"function"==typeof this.adsManager.destroy)try{this.adsManager.destroy()}catch(t){s.default.trace(t)}};u.contentCompleteAds=function(){if(null!==this.adsLoader&&"function"==typeof this.adsLoader.contentComplete)try{this.adsLoader.contentComplete()}catch(t){s.default.trace(t)}};var p=function(){this.adShowRemainingTime&&(s.default.hide(this.dom.adCurrentTime),s.default.clearInterval(this.adRemainingTimeBarInterval)),this.isVod&&this.dom.video.addEventListener("ended",this.ended),this.readingPDorNative&&this.dom.video.addEventListener("error",this.generateError,!0),h.default.setAdUI.call(this,!1)};u.resetAdsForNewRequest=function(){this.adOnStage=!1,this.adPaused=!1,this.isVPAID=!1,this.getAdOnStage()&&this.getAdLinear()&&p.call(this),f.call(this)},u.requestAds=function(t){if(this.get5Ready()&&this.ads&&this.adParserLoaded&&"string"==typeof t&&null!==this.adsLoader){l.default.showLoadingSpin.call(this);try{var e=t.trim(),i=new google.ima.AdsRequest;/^<\?xml.+\?>/i.test(e)?i.adsResponse=e:i.adTagUrl=e,i.linearAdSlotWidth=this.width,i.linearAdSlotHeight=this.height,i.nonLinearAdSlotWidth=this.width,i.nonLinearAdSlotHeight=this.height,i.vastLoadTimeout=this.adLoadVastTimeout,this.adForceNonLinearFullSlot&&(i.forceNonLinearFullSlot=!0),0<this.adContentDuration&&(i.contentDuration=this.adContentDuration),""!==this.adContentKeywords&&(i.contentKeywords=this.adContentKeywords),""!==this.adContentTitle&&(i.contentTitle=this.adContentTitle),i.setAdWillAutoPlay(this.autoplay),i.setAdWillPlayMuted(this.muted),this.adsLoader.requestAds(i)}catch(t){s.default.trace(t),this.play()}}else this.play()};var m=function(){if(this.adPaused=!1,this.adOnStage=!1,p.call(this),this.adOutStream)return h.default.endedOutStreamUI.call(this),void s.default.createStdEvent("adcontentresumerequested",this.dom.container);if(!this.contentCompleteCalled){if(this.firstPreroll&&(this.firstPreroll=!1,this.adAutoplayOnlyPreroll))return s.default.show(this.dom.poster),void l.default.restorePlayUI.call(this);d.default.playPromise.call(this)}s.default.createStdEvent("adcontentresumerequested",this.dom.container)},v=function(){Array.isArray(this.adTagWaterfall)&&"string"==typeof this.adTagWaterfall[0]&&""!==this.adTagWaterfall[0]?(this.adTagUrl=h.default.replaceAdTagVar.call(this,this.adTagWaterfall[0]),0<this.adTagWaterfall.length&&this.adTagWaterfall.shift(),u.resetAdsForNewRequest.call(this),u.requestAds.call(this,this.adTagUrl),s.default.createStdEvent("adclientsidewaterfallrequested",this.dom.container)):(f.call(this),m.call(this))},g=[201,202,203,600,601,603,604],y=function(t){var e=t.getError();void 0!==e&&(this.adErrorCode=e.getErrorCode(),this.adErrorMessage=e.getMessage(),this.adErrorType=e.getType(),this.adVastErrorCode=e.getVastErrorCode(),-1<g.indexOf(this.adVastErrorCode))||(l.default.hideLoadingSpin.call(this),s.default.createStdEvent("aderror",this.dom.container),void 0!==e&&(this.adErrorType===google.ima.AdError.Type.AD_LOAD?s.default.createStdEvent("adloaderror",this.dom.container):this.adErrorType===google.ima.AdError.Type.AD_PLAY&&s.default.createStdEvent("adplayerror",this.dom.container)),v.call(this))},b=function(t){this.adOnStage=!0,this.isVPAID=!1,l.default.hideLoadingSpin.call(this),l.default.showChrome.call(this),o.default.resizeAds.call(this),s.default.removeClass(this.dom.adContainer,"rmp-ad-overlay");var e=t.isLinear();"boolean"==typeof e&&(this.isLinear=!!e),this.adID=t.getAdId(),this.adCreativeAdId=t.getCreativeAdId(),this.adCreativeId=t.getCreativeId(),this.adDealId=t.getDealId(),this.adSystem=t.getAdSystem(),this.adAdvertiserName=t.getAdvertiserName(),this.adMediaUrl=t.getMediaUrl(),this.adSurveyUrl=t.getSurveyUrl(),this.adUniversalAdIdRegistry=t.getUniversalAdIdRegistry(),this.adUniversalAdIdValue=t.getUniversalAdIdValue(),this.adApiFramework=t.getApiFramework(),this.adContentType=t.getContentType(),this.adDescription=t.getDescription(),this.adDuration=t.getDuration(),this.adTraffickingParameters=t.getTraffickingParameters(),this.adTraffickingParametersString=t.getTraffickingParametersString(),this.adNonLinearHeight=t.getHeight(),this.adNonLinearWidth=t.getWidth(),this.adTitle=t.getTitle(),this.adWrapperAdIds=t.getWrapperAdIds(),this.adWrapperAdSystems=t.getWrapperAdSystems(),this.adWrapperCreativeIds=t.getWrapperCreativeIds(),this.currentAdForCompanion=t,this.isLinear&&(this.muted?n.default.setVolumeAds.call(this,0):n.default.setVolumeAds.call(this,this.currentVolume))},S=function(t){if(b.call(this,t),this.googleCast&&this.castConnected||this.video360&&!this.isLinear)return this.video360&&s.default.hide(this.dom.adContainer),this.stopAds(),void this.play();h.default.updateVPAIDStatus.call(this,this.isLinear),this.isLinear?(this.adPaused=!1,h.default.udpatePlayPause.call(this),this.adCountDown&&this.dom.adInfo&&h.default.addCountDown.call(this),function(t){if(this.adPodInfo=t.getAdPodInfo(),this.dom.adPod&&s.default.setText(this.dom.adPod,""),this.adPodInfo&&this.dom.adInfo){var e=this.adPodInfo.getTotalAds();if("number"==typeof e&&1<e){this.dom.adPod||(this.dom.adPod=document.createElement("span"),s.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod));var i=this.adPodInfo.getAdPosition();"number"==typeof i&&s.default.setText(this.dom.adPod,i+"/"+e)}}}.call(this,t),s.default.hide(this.dom.poster)):this.adOutStream?(this.stopAds(),v.call(this)):(this.adNonLinearHeight+40<this.height&&s.default.addClass(this.dom.adContainer,"rmp-ad-overlay"),this.adAutoAlign||s.default.addClass(this.dom.adContainer,"rmp-ad-no-auto-align"),d.default.playPromise.call(this)),s.default.createStdEvent("adstarted",this.dom.container)},E=function(t){if(s.default.isObject(t)){0;var e=t.getAd();if(s.default.isObject(e)&&t.type)switch(t.type){case google.ima.AdEvent.Type.LOADED:(function(t){b.call(this,t),s.default.createStdEvent("adloaded",this.dom.container)}).call(this,e);break;case google.ima.AdEvent.Type.STARTED:S.call(this,e);break;case google.ima.AdEvent.Type.COMPLETE:(function(){this.isLive||s.default.setText(this.dom.timeElapsedText,s.default.readableTime(s.default.getMediaCurrentTime(this.dom.video))),s.default.createStdEvent("adcomplete",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:(function(){s.default.createStdEvent("adalladscompleted",this.dom.container),this.contentCompleteCalled&&(this.contentCompleteCalled=!1,this.loop||(s.default.show(this.dom.poster),l.default.restorePlayUI.call(this)),!this.adDisableCustomPlaybackForIOS10Plus&&r.default.isIos[0]&&this.dom.video.src!==this.currentiOSSrc&&(this.srcChangeAutoplay=!1,this.setSrc(this.currentiOSSrc))),this.adOutStream&&r.default.isIphone&&m.call(this)}).call(this);break;case google.ima.AdEvent.Type.RESUMED:(function(){this.adPaused=!1,h.default.udpatePlayPause.call(this),s.default.createStdEvent("adresumed",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.PAUSED:(function(){this.adPaused=!0,h.default.udpatePlayPause.call(this),s.default.createStdEvent("adpaused",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.CLICK:(function(){!this.adPauseOnClick||this.isVpaidCreative()||this.getAdPaused()||this.pause(),s.default.createStdEvent("adclick",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.AD_BREAK_READY:s.default.createStdEvent("adbreakready",this.dom.container);break;case google.ima.AdEvent.Type.AD_METADATA:s.default.createStdEvent("admetadata",this.dom.container);break;case google.ima.AdEvent.Type.DURATION_CHANGE:s.default.createStdEvent("addurationchange",this.dom.container);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:s.default.createStdEvent("adfirstquartile",this.dom.container);break;case google.ima.AdEvent.Type.MIDPOINT:s.default.createStdEvent("admidpoint",this.dom.container);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:s.default.createStdEvent("adthirdquartile",this.dom.container);break;case google.ima.AdEvent.Type.IMPRESSION:s.default.createStdEvent("adimpression",this.dom.container);break;case google.ima.AdEvent.Type.INTERACTION:s.default.createStdEvent("adinteraction",this.dom.container);break;case google.ima.AdEvent.Type.LINEAR_CHANGED:(function(){s.default.createStdEvent("adlinearchanged",this.dom.container)}).call(this);break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:s.default.createStdEvent("adskippablestatechanged",this.dom.container);break;case google.ima.AdEvent.Type.SKIPPED:s.default.createStdEvent("adskipped",this.dom.container);break;case google.ima.AdEvent.Type.USER_CLOSE:s.default.createStdEvent("aduserclose",this.dom.container);break;case google.ima.AdEvent.Type.VOLUME_CHANGED:s.default.createStdEvent("advolumechanged",this.dom.container);break;case google.ima.AdEvent.Type.VOLUME_MUTED:s.default.createStdEvent("advolumemuted",this.dom.container);break;case google.ima.AdEvent.Type.LOG:(function(t){var e=t.getAdData();if(s.default.isObject(e)&&e.adError){var i=e.adError;this.adErrorCode=i.getErrorCode(),this.adErrorMessage=i.getMessage(),this.adErrorType=i.getType(),this.vastError=i.getVastErrorCode(),s.default.createStdEvent("adlog",this.dom.container)}}).call(this,t)}}},A=function(){if(this.adsManager&&this.dom.adCurrentTime){var t=-1,e=-1;try{t=this.adsManager.getRemainingTime(),e=this.getAdDuration()}catch(t){s.default.trace(t)}if(0<t&&0<e){var i=Math.floor(100*(1-1e3*t/e));i<0&&(i=0),this.dom.adCurrentTime&&(this.dom.adCurrentTime.style.width=i+"%")}}},C=function(t){if(void 0!==t){for(var e=[google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED],i=0,a=e.length;i<a;i++)t.addEventListener(e[i],E.bind(this));t.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){!this.adDisableCustomPlaybackForIOS10Plus&&r.default.isIos[0]&&this.dom.video.src&&(this.currentiOSSrc=this.dom.video.src),this.adShowRemainingTime&&(void 0===this.dom.adCurrentTime&&(this.dom.adCurrentTime=document.createElement("div"),this.dom.adCurrentTime.className="rmp-ad-current-time",this.dom.outline.appendChild(this.dom.adCurrentTime)),s.default.show(this.dom.adCurrentTime),this.dom.adCurrentTime.style.width=0,A.call(this),s.default.clearInterval(this.adRemainingTimeBarInterval),this.adRemainingTimeBarInterval=setInterval(A.bind(this),250)),this.isVod&&s.default.removeEvent("ended",this.dom.video,this.ended),this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0),h.default.setAdUI.call(this,!0),this.adOutStream||this.dom.video.paused||this.dom.video.pause(),s.default.createStdEvent("adcontentpauserequested",this.dom.container)}.bind(this)),t.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,m.bind(this)),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y.bind(this));try{t.init(this.width,this.height,google.ima.ViewMode.NORMAL),t.start()}catch(t){s.default.trace(t),this.play()}}},k=function(t){var e=new google.ima.AdsRenderingSettings,i=e.restoreCustomPlaybackStateOnAdBreakComplete=!0;(r.default.isIos[0]||r.default.isAndroid[0]&&r.default.isAndroid[1]<4)&&(i=!1),this.adEnablePreloading&&i?e.enablePreloading=!0:e.enablePreloading=!1,0<this.adLoadMediaTimeout&&(e.loadVideoTimeout=this.adLoadMediaTimeout),this.adAutoAlign||(e.autoAlign=this.adAutoAlign),this.adUseStyledNonLinearAds&&(e.useStyledNonLinearAds=!0),r.default.isMobile&&this.adOutStreamSkin&&(e.uiElements=[]),this.adsManager=t.getAdsManager(this.dom.video,e),C.call(this,this.adsManager)},w=function(){if(s.default.clearTimeout(this.imaLoadTimeout),!this.imaLoadCancel){if("undefined"!=typeof google&&void 0!==google.ima){if(this.adImaDai)return this.adParserLoaded=!0,h.default.createControlBarAdInfo.call(this),void a.default.fire.call(this);if(this.adParserLoaded=!0,this.dom.adContainer&&this.dom.video){google.ima.settings.setLocale(this.adLocale),google.ima.settings.setNumRedirects(this.adMaxNumRedirects),"enabled"===this.adVpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):"insecure"===this.adVpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),r.default.isIphone&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.adDisableCustomPlaybackForIOS10Plus),google.ima.settings.setPlayerType("radiantmediaplayer"),google.ima.settings.setPlayerVersion(this.playerVersion);try{this.adDisplayContainer=new google.ima.AdDisplayContainer(this.dom.adContainer,this.dom.video),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){var e=this;this.hasLoadedMetadata?k.call(this,t):(s.default.clearInterval(this.runAdsManagerInterval),this.runAdsManagerInterval=setInterval(function(){e.hasLoadedMetadata&&(s.default.clearInterval(e.runAdsManagerInterval),k.call(e,t))},10)),s.default.createStdEvent("adadsmanagerloaded",this.dom.container)}.bind(this)),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y.bind(this))}catch(t){return s.default.trace(t),void a.default.fire.call(this)}h.default.createControlBarAdInfo.call(this)}}a.default.fire.call(this)}},P=function(){s.default.clearTimeout(this.imaLoadTimeout),this.imaLoadCancel||(this.adParserLoadError=!0,this.ads=!1,this.adAutoplayOnlyPreroll&&d.default.autoplayFailureRestorePlayUI.call(this),s.default.createStdEvent("adloadererror",this.dom.container),a.default.fire.call(this),this.adOutStream&&h.default.endedOutStreamUI.call(this))};u.init=function(){var t=this;if("undefined"!=typeof google&&void 0!==google.ima)w.call(this);else{var e=void 0;e=this.adImaTest?"https://imasdk.googleapis.com/js/sdkloader/ima3_test.js":this.adImaDai?"https://imasdk.googleapis.com/js/sdkloader/ima3_dai.js":"https://imasdk.googleapis.com/js/sdkloader/ima3.js",s.default.getScript(e,w.bind(this),P.bind(this)),s.default.clearTimeout(this.imaLoadTimeout),this.imaLoadTimeout=setTimeout(function(){P.call(t),t.imaLoadCancel=!0},this.ajaxInternalTimeout)}},u.resumeAds=function(){if(this.adsManager){0;try{this.adsManager.resume()}catch(t){s.default.trace(t)}}},u.pauseAds=function(){if(this.adsManager){0;try{this.adsManager.pause()}catch(t){s.default.trace(t)}}},i.default=u},{"../core/ready":34,"../core/resize/resize":35,"../core/ui/core-ui":40,"../core/utils/utils":44,"../core/volume/volume":46,"../fw/env":50,"../fw/fw":51,"./ads-helpers":6}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=n(t("../fw/fw")),a=n(t("../abr/hls")),s=n(t("./ads-helpers")),r=n(t("../core/utils/error"));function n(t){return t&&t.__esModule?t:{default:t}}var l={},d=function(t){if(t&&t.type)switch(t.type){case google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED:o.default.createStdEvent("adstreaminitialized",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.LOADED:0,this.startingBitratePath=t.getStreamData().url,a.default.initFinised.call(this),o.default.createStdEvent("adloaded",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.ERROR:0,o.default.createStdEvent("aderror",this.dom.container),this.adImaDaiBackupStream?(this.startingBitratePath=this.adImaDaiBackupStream,a.default.initFinised.call(this)):r.default.fatal.call(this,"IMA DAI backup stream not provided - cannot recover",202,t);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:this.adOnStage=!0,this.isLinear=!0,s.default.setAdUI.call(this,!0),this.dom.imaDaiClickElement.style.display="block",o.default.createStdEvent("adbreakstarted",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:this.isLinear=!1,this.adOnStage=!1,s.default.setAdUI.call(this,!1),this.dom.imaDaiClickElement.style.display="none",o.default.createStdEvent("adbreakended",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.AD_PROGRESS:(function(t){if(t&&"function"==typeof t.getStreamData){var e=t.getStreamData().adProgressData,i=e.adPosition,a=e.totalAds,s=e.currentTime;this.imaDaiAdCurrentTime=s;var r=e.duration,n=Math.floor(r-s);this.adCountDown&&0<=n&&(n=o.default.readableTime(n),o.default.setText(this.dom.adCountdown,"("+n+")")),"number"==typeof a&&1<a&&(this.dom.adPod||(this.dom.adPod=document.createElement("span"),o.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod)),"number"==typeof i&&o.default.setText(this.dom.adPod,i+"/"+a))}}).call(this,t),o.default.createStdEvent("adprogress",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED:o.default.createStdEvent("adcuepointschanged",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.CLICK:this.adPauseOnClick&&!this.getAdPaused()&&this.pause(),o.default.createStdEvent("adclick",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.STARTED:(function(t){if(t&&(this.adCountDown&&this.dom.adInfo&&(this.dom.adCountdown||(this.dom.adCountdown=document.createElement("span"),o.default.setClass(this.dom.adCountdown,"rmp-ad-info-countdown"),this.dom.adInfo.appendChild(this.dom.adCountdown))),"function"==typeof t.getAd)){var e=t.getAd();this.adID=e.getAdId(),this.adPodInfo=e.getAdPodInfo(),this.adSystem=e.getAdSystem(),this.adAdvertiserName=e.getAdvertiserName(),this.adApiFramework=e.getApiFramework(),this.adCreativeAdId=e.getCreativeAdId(),this.adCreativeId=e.getCreativeId(),this.adDealId=e.getDealId(),this.adDescription=e.getDescription(),this.adDuration=e.getDuration(),this.adTitle=e.getTitle(),this.adWrapperAdIds=e.getWrapperAdIds(),this.adWrapperAdSystems=e.getWrapperAdSystems(),this.adWrapperCreativeIds=e.getWrapperCreativeIds(),this.currentAdForCompanion=e}}).call(this,t),o.default.createStdEvent("adstarted",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:o.default.createStdEvent("adfirstquartile",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:o.default.createStdEvent("admidpoint",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:o.default.createStdEvent("adthirdquartile",this.dom.container);break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:o.default.createStdEvent("adcomplete",this.dom.container)}},h=function(){this.adImaDaiBackupStream?(this.startingBitratePath=this.adImaDaiBackupStream,a.default.initFinised.call(this)):r.default.fatal.call(this,"IMA DAI backup stream not provided - cannot recover",202,null)};l.init=function(){var i=this;"undefined"!=typeof google&&void 0!==google.ima&&void 0!==google.ima.dai?this.adParserLoadError?h.call(this):(this.dom.imaDaiClickElement=document.createElement("div"),this.dom.imaDaiClickElement.className="rmp-ima-dai-click-area",this.dom.content.appendChild(this.dom.imaDaiClickElement),this.imaDaiStreamManager=new google.ima.dai.api.StreamManager(this.dom.video),this.imaDaiStreamManager.setClickElement(this.dom.imaDaiClickElement),this.imaDaiStreamManager.addEventListener([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.LOADED,google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE],d.bind(this),!1),this.hlsJS.on(Hls.Events.FRAG_PARSING_METADATA,function(t,e){i.imaDaiStreamManager&&e&&e.samples.forEach(function(t){i.imaDaiStreamManager.processMetadata("ID3",t.data,t.pts)})}),this.imaDaiLive?function(t,e,i,a){var s=new google.ima.dai.api.LiveStreamRequest;s.assetKey=t,e&&(s.apiKey=e),o.default.isEmptyObject(i)||(s.adTagParameters=i),a&&(s.streamActivityMonitorId=a),this.imaDaiStreamManager.requestStream(s)}.call(this,this.adImaDaiLiveAssetKey,this.adImaDaiApiKey,this.adImaDaiAdTagParameters,this.adImaDaiStreamActivityMonitorId):this.imaDaiVod&&function(t,e,i,a,s){var r=new google.ima.dai.api.VODStreamRequest;r.contentSourceId=t,r.videoId=e,i&&(r.apiKey=i),o.default.isEmptyObject(a)||(r.adTagParameters=a),s&&(r.streamActivityMonitorId=s),this.imaDaiStreamManager.requestStream(r)}.call(this,this.adImaDaiVodContentSourceId,this.adImaDaiVodVideoId,this.adImaDaiApiKey,this.adImaDaiAdTagParameters,this.adImaDaiStreamActivityMonitorId)):setTimeout(function(){i.adParserLoadError?h.call(i):l.init.call(i)},100)},i.default=l},{"../abr/hls":3,"../core/utils/error":42,"../fw/fw":51,"./ads-helpers":6}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=c(t("../fw/fw")),s=c(t("../fw/env")),r=c(t("../core/ready")),n=c(t("../core/volume/volume")),o=c(t("../core/ui/core-ui")),l=c(t("../core/resize/resize")),d=c(t("./ads-helpers")),h=c(t("../../../../rmp-vast/js/src/module"));function c(t){return t&&t.__esModule?t:{default:t}}var u={},f=function(){if(a.default.removeEvent("adstarted",this.dom.container,this.onRmpVastAdStarted),o.default.hideLoadingSpin.call(this),this.googleCast&&this.castConnected)return this.stopAds(),void this.play();l.default.resizeAds.call(this);var t=this.dom.container.querySelector(".rmp-ad-container");null!==t&&a.default.removeClass(t,"rmp-ad-overlay");var e=this.getAdLinear();if(d.default.updateVPAIDStatus.call(this,e),e)this.isVod&&a.default.removeEvent("ended",this.dom.video,this.ended),d.default.udpatePlayPause.call(this),d.default.setAdUI.call(this,!0),this.adCountDown&&this.dom.adInfo&&d.default.addCountDown.call(this),null===this.adPodInfo&&function(){if(this.adPodInfo=this.rmpVast.getAdPodInfo(),this.dom.adPod&&a.default.setText(this.dom.adPod,""),this.adPodInfo&&this.dom.adInfo){var t=this.adPodInfo.adPodLength;if("number"==typeof t&&1<t){this.dom.adPod||(this.dom.adPod=document.createElement("span"),a.default.setClass(this.dom.adPod,"rmp-ad-info-pod"),this.dom.adCountdown?this.dom.adInfo.insertBefore(this.dom.adPod,this.dom.adCountdown):this.dom.adInfo.appendChild(this.dom.adPod));var e=this.adPodInfo.adPodCurrentIndex;"number"==typeof e&&a.default.setText(this.dom.adPod,e+1+"/"+t)}}}.call(this),this.muted?n.default.setVolumeAds.call(this,0):n.default.setVolumeAds.call(this,this.currentVolume);else{var i=this.getAdMediaHeight();-1<i&&i+40<this.height&&t&&a.default.addClass(t,"rmp-ad-overlay")}};u.restoreContentUI=function(){(function(){this.rmpVast.getIsUsingContentPlayerForAds()||(a.default.removeEvent("adresumed",this.dom.container,this.onRmpVastAdPlayPause),a.default.removeEvent("adpaused",this.dom.container,this.onRmpVastAdPlayPause)),a.default.removeEvent("adstarted",this.dom.container,this.onRmpVastAdStarted),a.default.removeEvent("addestroyed",this.dom.container,this.onRmpVastAdDestroyed),a.default.removeEvent("aderror",this.dom.container,this.onRmpVastAdError),a.default.removeEvent("adinteraction",this.dom.container,this.onRmpVastAdInteraction),a.default.removeEvent("adlinearchange",this.dom.container,this.onRmpVastAdLinearChanged)}).call(this),o.default.hideLoadingSpin.call(this),d.default.setAdUI.call(this,!1),this.isVod&&a.default.addEvent("ended",this.dom.video,this.ended)};u.wireAdEvents=function(){this.rmpVast.getIsUsingContentPlayerForAds()||(this.onRmpVastAdPlayPause=function(){d.default.udpatePlayPause.call(this)}.bind(this),a.default.addEvent("adresumed",this.dom.container,this.onRmpVastAdPlayPause),a.default.addEvent("adpaused",this.dom.container,this.onRmpVastAdPlayPause)),this.onRmpVastAdStarted=f.bind(this),a.default.addEvent("adstarted",this.dom.container,this.onRmpVastAdStarted),this.onRmpVastAdDestroyed=function(){if(this.adPodInfo=this.rmpVast.getAdPodInfo(),this.adPodInfo&&this.adPodInfo.adPodCurrentIndex+1!==this.adPodInfo.adPodLength){var t=this.adPodInfo.adPodCurrentIndex,e=this.adPodInfo.adPodLength;return"number"==typeof t&&"number"==typeof e&&a.default.setText(this.dom.adPod,t+2+"/"+e),void a.default.addEvent("adstarted",this.dom.container,this.onRmpVastAdStarted)}if(this.adPodInfo=null,this.adErrorDetected&&(this.adErrorDetected=!1,Array.isArray(this.adTagWaterfall)&&"string"==typeof this.adTagWaterfall[0]&&""!==this.adTagWaterfall[0]))return this.adTagUrl=d.default.replaceAdTagVar.call(this,this.adTagWaterfall[0]),0<this.adTagWaterfall.length&&this.adTagWaterfall.shift(),this.loadAds(this.adTagUrl),void a.default.createStdEvent("adclientsidewaterfallrequested",this.dom.container);this.adOutStream?d.default.endedOutStreamUI.call(this):(this.readingPDorNative&&this.dom.video.addEventListener("error",this.generateError,!0),u.restoreContentUI.call(this))}.bind(this),a.default.addEvent("addestroyed",this.dom.container,this.onRmpVastAdDestroyed),this.onRmpVastAdError=function(){var t=this.getAdErrorType();t&&("adLoadError"===t?a.default.createStdEvent("adloaderror",this.dom.container):"adPlayError"===t&&a.default.createStdEvent("adplayerror",this.dom.container)),this.adErrorDetected=!0}.bind(this),a.default.addEvent("aderror",this.dom.container,this.onRmpVastAdError),this.onRmpVastAdInteraction=function(){a.default.createStdEvent("adinteraction",this.dom.container)}.bind(this),a.default.addEvent("adinteraction",this.dom.container,this.onRmpVastAdInteraction),this.onRmpVastAdLinearChanged=function(){a.default.createStdEvent("adlinearchanged",this.dom.container)}.bind(this),a.default.addEvent("adlinearchange",this.dom.container,this.onRmpVastAdLinearChanged)};u.loadAds=function(t){this.isVPAID=!1,o.default.showLoadingSpin.call(this),this.onAdTagStartLoading=function(){this.dom.container.removeEventListener("adtagstartloading",this.onAdTagStartLoading),this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0),u.wireAdEvents.call(this)}.bind(this),this.dom.container.addEventListener("adtagstartloading",this.onAdTagStartLoading);var e=t.trim();this.rmpVast.loadAds(e)},u.init=function(){this.adParserLoaded=!0;var t={ajaxTimeout:this.adLoadVastTimeout,creativeLoadTimeout:this.adLoadMediaTimeout,ajaxWithCredentials:this.adAjaxWithCredentials,maxNumRedirects:this.adMaxNumRedirects,pauseOnClick:this.adPauseOnClick,skipMessage:this.labels.ads.skipMessage,skipWaitingMessage:this.labels.ads.skipWaitingMessage,textForClickUIOnMobile:this.labels.ads.textForClickUIOnMobile,outstream:this.adOutStream};if(this.adRmpVastEnableVpaid){t.enableVpaid=this.adRmpVastEnableVpaid;var e="normal";this.isInFullscreen&&(e="fullscreen");var i=500;s.default.isMobile||(i=750),t.vpaidSettings={width:this.width,height:this.height,viewMode:e,desiredBitrate:i}}this.rmpVast=new h.default(this.id,t),d.default.createControlBarAdInfo.call(this),r.default.fire.call(this)},u.resumeAds=function(){this.rmpVast&&"function"==typeof this.rmpVast.play&&this.rmpVast.play()},u.pauseAds=function(){this.rmpVast&&"function"==typeof this.rmpVast.pause&&this.rmpVast.pause()},i.default=u},{"../../../../rmp-vast/js/src/module":260,"../core/ready":34,"../core/resize/resize":35,"../core/ui/core-ui":40,"../core/volume/volume":46,"../fw/env":50,"../fw/fw":51,"./ads-helpers":6}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s(t("../fw/fw")),l=s(t("./ads-helpers"));function s(t){return t&&t.__esModule?t:{default:t}}var r={},n=function(){var t=void 0;if(this.isVod){var e=this.getCurrentTime();-1<e&&(t=Math.round(e/100)/10)}else t=this.liveAdSchedulerCheckerIndex;var i=void 0,a=void 0;if(Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&(i=this.adSchedule.midroll[0][0],a=this.adSchedule.midroll[0][1],"number"==typeof i&&"number"==typeof t&&i<t&&"string"==typeof a&&""!==a)){if(this.adTagUrl=l.default.replaceAdTagVar.call(this,a),this.isVod){this.dom.container.removeEventListener("timeupdate",this.adSchedulerChecker);var s=void 0,r=void 0,n=void 0;if(n=function(){this.dom.container.removeEventListener("adstarted",n),this.getAdLinear()||this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("adstarted",n),"ima"===this.adParser)s=function(){this.dom.container.removeEventListener("adstarted",n),this.dom.container.removeEventListener("aderror",r),this.dom.container.removeEventListener("adcontentresumerequested",s),this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("adcontentresumerequested",s),r=function(){this.dom.container.removeEventListener("adstarted",n),this.dom.container.removeEventListener("aderror",r),this.dom.container.removeEventListener("adcontentresumerequested",s),this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this),this.dom.container.addEventListener("aderror",r);else{var o=function(){this.dom.container.removeEventListener("adstarted",n),this.dom.container.removeEventListener("addestroyed",o),this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker)}.bind(this);this.dom.container.addEventListener("addestroyed",o)}}this.loadAds(this.adTagUrl),this.adSchedule.midroll.shift()}};r.destroy=function(){this.dom.container&&(this.isVod&&(this.dom.container.removeEventListener("timeupdate",this.adSchedulerChecker),this.dom.container.removeEventListener("ended",this.adSchedulerEnded)),this.dom.container.removeEventListener("play",this.playScheduler),this.dom.container.removeEventListener("pause",this.pauseScheduler))},r.init=function(){this.adScheduleInput&&this.ads&&(this.adSchedulerChecker=n.bind(this),this.isVod?(this.dom.container.addEventListener("timeupdate",this.adSchedulerChecker),this.adSchedulerEnded=function(){a.default.removeEvent("ended",this.dom.container,this.adSchedulerEnded),this.adSchedule.postroll&&(this.adTagUrl=l.default.replaceAdTagVar.call(this,this.adSchedule.postroll),this.loadAds(this.adTagUrl))}.bind(this),this.dom.container.addEventListener("ended",this.adSchedulerEnded)):(this.playScheduler=function(){var t=this;a.default.clearInterval(this.liveAdSchedulerChecker),this.liveAdSchedulerChecker=setInterval(function(){(!t.getAdOnStage()||t.getAdOnStage()&&!t.getAdLinear())&&(t.liveAdSchedulerCheckerIndex++,n.call(t))},1e3)}.bind(this),this.dom.container.addEventListener("play",this.playScheduler),this.pauseScheduler=function(){a.default.clearInterval(this.liveAdSchedulerChecker)}.bind(this),this.dom.container.addEventListener("pause",this.pauseScheduler)))},i.default=r},{"../fw/fw":51,"./ads-helpers":6}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("../fw/fw"),h=(a=s)&&a.__esModule?a:{default:a};var r={},n=function(){var t,e,i,a,s,r,n,o,l=this;if("undefined"==typeof ga&&(t=window,e=document,i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,a=e.createElement("script"),s=e.getElementsByTagName("script")[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s)),"undefined"!=typeof ga){this.gaAnonymizeIp&&ga("set","anonymizeIp",!0),""!==this.gaNamedTracker?(ga("create",this.gaTrackingId,"auto",this.gaNamedTracker),this.gaCommand=this.gaNamedTracker+".send"):ga("create",this.gaTrackingId,"auto"),0===this.gaEvents.length&&(this.gaEvents=["context","ready","playerstart","error","adimpression","adloadererror","aderror"]);var d=(r=this.gaEvents,n=["context","ready","playerstart","error","adimpression","adloadererror","aderror","adloaderror","adplayerror","enterfullscreen","ended","seeking","adclick","adclientsidewaterfallrequested"],o=[],r.forEach(function(t){-1<n.indexOf(t)&&o.push(t)}),o);0,d.forEach(function(t){switch(t){case"context":l.gaContext=!0;break;case"ready":l.logGaReady=function(){if(this.dom.container.removeEventListener("ready",this.logGaReady),ga(this.gaCommand,"event",this.gaCategory,"ready",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents}),this.gaContext){var t=this.getPlayerMode(),e=this.getStreamType();if(""===t||""===e&&"nosupport"!==t)return;var i=t;"nosupport"!==t&&(i+="-"+e),ga(this.gaCommand,"event",this.gaCategory,i,this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}}.bind(l),l.dom.container.addEventListener("ready",l.logGaReady);break;case"playerstart":l.logGaPlayerStart=function(){this.dom.container.removeEventListener("playing",this.logGaPlayerStart),this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart),ga(this.gaCommand,"event",this.gaCategory,"playerstart",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("playing",l.logGaPlayerStart),l.ads&&l.dom.container.addEventListener("adloaded",l.logGaPlayerStart),l.logGaSrcChanged=function(){this.dom.container.removeEventListener("playing",this.logGaPlayerStart),this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart),this.dom.container.addEventListener("playing",this.logGaPlayerStart),this.dom.container.addEventListener("adloaded",this.logGaPlayerStart)}.bind(l),l.dom.container.addEventListener("srcchanged",l.logGaSrcChanged);break;case"error":l.logGaError=function(){ga(this.gaCommand,"event",this.gaCategory,"error",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("error",l.logGaError);break;case"adimpression":l.ads&&(l.logGaAdImpression=function(){ga(this.gaCommand,"event",this.gaCategory,"adimpression",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adimpression",l.logGaAdImpression));break;case"adloadererror":l.ads&&(l.logGaAdLoaderError=function(){this.dom.container.removeEventListener("adloadererror",this.logGaAdLoaderError),ga(this.gaCommand,"event",this.gaCategory,"adloadererror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adloadererror",l.logGaAdLoaderError));break;case"aderror":l.ads&&(l.logGaAdError=function(){ga(this.gaCommand,"event",this.gaCategory,"aderror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("aderror",l.logGaAdError));break;case"adloaderror":l.ads&&(l.logGaAdLoadError=function(){ga(this.gaCommand,"event",this.gaCategory,"adloaderror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adloaderror",l.logGaAdLoadError));break;case"adplayerror":l.ads&&(l.logGaAdPlayError=function(){ga(this.gaCommand,"event",this.gaCategory,"adplayerror",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adplayerror",l.logGaAdPlayError));break;case"enterfullscreen":l.logGaFullscreen=function(){ga(this.gaCommand,"event",this.gaCategory,"enterfullscreen",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("enterfullscreen",l.logGaFullscreen);break;case"ended":l.isVod&&(l.logGaEnded=function(){ga(this.gaCommand,"event",this.gaCategory,"ended",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("ended",l.logGaEnded));break;case"seeking":l.isVod&&(l.logGaSeeking=function(){var t=this;this.isVod&&!this.gaSeekingSending&&(this.gaSeekingSending=!0,h.default.clearTimeout(this.logGaSeekingTimeout),this.logGaSeekingTimeout=setTimeout(function(){t.gaSeekingSending=!1},400),ga(this.gaCommand,"event",this.gaCategory,"seeking",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents}))}.bind(l),l.dom.container.addEventListener("seeking",l.logGaSeeking));break;case"adclick":l.ads&&(l.logGaAdClick=function(){ga(this.gaCommand,"event",this.gaCategory,"adclick",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adclick",l.logGaAdClick));break;case"adclientsidewaterfallrequested":l.ads&&(l.logGaAdClientSideWaterfallRequested=function(){ga(this.gaCommand,"event",this.gaCategory,"adclientsidewaterfallrequested",this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})}.bind(l),l.dom.container.addEventListener("adclientsidewaterfallrequested",l.logGaAdClientSideWaterfallRequested))}})}};r.reset=function(){h.default.clearInterval(this.analyticsInterval),this.dom.container&&(this.dom.container.removeEventListener("playing",this.analyticsPlay),this.dom.container.removeEventListener("pause",this.analyticsPause),this.dom.container.removeEventListener("waiting",this.analyticsPause),this.dom.container.removeEventListener("ready",this.logGaReady),this.dom.container.removeEventListener("playing",this.logGaPlayerStart),this.dom.container.removeEventListener("srcchanged",this.logGaSrcChanged),this.dom.container.removeEventListener("error",this.logGaError),this.ads&&(this.dom.container.removeEventListener("adloaded",this.logGaPlayerStart),this.dom.container.removeEventListener("adimpression",this.logGaAdImpression),this.dom.container.removeEventListener("adloadererror",this.logGaAdLoaderError),this.dom.container.removeEventListener("aderror",this.logGaAdError),this.dom.container.removeEventListener("adloaderror",this.logGaAdLoadError),this.dom.container.removeEventListener("adplayerror",this.logGaAdPlayError),this.dom.container.removeEventListener("adclick",this.logGaAdClick),this.dom.container.removeEventListener("adclientsidewaterfallrequested",this.logGaAdClientSideWaterfallRequested)),this.dom.container.removeEventListener("enterfullscreen",this.logGaFullscreen),this.isVod&&(this.dom.container.removeEventListener("ended",this.logGaEnded),this.dom.container.removeEventListener("seeking",this.logGaSeeking)),this.heatMap&&this.dom.container.removeEventListener("timeupdate",this.updateHeatMap))},r.init=function(){if(this.analyticsPlay=function(){var t=this;h.default.clearInterval(this.analyticsInterval),this.analyticsInterval=setInterval(function(){t.changingSrc||t.getAdOnStage()&&t.getAdLinear()||(t.analyticsSecondsPlayed=t.analyticsSecondsPlayed+.25)},250)}.bind(this),this.dom.container.addEventListener("playing",this.analyticsPlay),this.analyticsPause=function(){h.default.clearInterval(this.analyticsInterval)}.bind(this),this.dom.container.addEventListener("pause",this.analyticsPause),this.dom.container.addEventListener("waiting",this.analyticsPause),""!==this.gaTrackingId&&n.call(this),this.isVod&&this.heatMap){100<this.heatMapAccuracy?this.heatMapAccuracy=100:this.heatMapAccuracy<1&&(this.heatMapAccuracy=1);for(var t=0;t<this.heatMapAccuracy;t++)this.heatMapArray[t]=0;this.updateHeatMap=function(){var t=this.getDuration(),e=this.getCurrentTime();if(-1<e&&-1<t)for(var i=100*e/t,a=100/this.heatMapAccuracy,s=0;s<this.heatMapAccuracy;s++)s*a<=i&&i<(s+1)*a&&(this.heatMapArray[s]=this.heatMapArray[s]+1)}.bind(this),this.dom.container.addEventListener("timeupdate",this.updateHeatMap)}},i.default=r},{"../fw/fw":51}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a(t("../fw/env")),r=a(t("../fw/fw"));function a(t){return t&&t.__esModule?t:{default:t}}var n={},o="https://www.rmp-data.com/ls/increment.php",l=["a2VpdWR5dHNobEAxNDg4ODkxNTQy","dW9wY2N0dmtpZ0AxNDkxMzg5"],d=function(t){var e=t.match(/(http:\/\/|https:\/\/|\/\/)/i),i=void 0;if("string"==typeof e[1]&&""!==e[1]){var a=e[1],s=t.split(a);if("string"==typeof s[1]&&""!==s[1]){var r=s[1].split("/");"string"==typeof r[0]&&""!==r[0]&&(i=r[0])}}return i&&/^.+\..+$/i.test(i)?i:null},h=function(a,s,r){return new Promise(function(t,e){if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;i.open("POST",s,!0),i.timeout=r,i.onloadend=function(){"number"==typeof i.status&&200<=i.status&&i.status<300?t():e()},i.ontimeout=function(){e()},i.send(a)}else e()})},c=function(){var t=0;if("plus"===this.licType&&s.default.localStorage(this.allowLocalStorage)){var e=window.localStorage.getItem("rmpBacklog");null!==e&&(e=JSON.parse(e)).value&&(t=parseInt(e.value))}return t},u=function(){var t=this;if(s.default.isOnline()){if(s.default.formData()){0;var e=new FormData;if(e.append("licType",this.licType),e.append("licenseKey",this.licenseKey),"file:"===s.default.getProtocol){var i="app";this.appName&&(i=i+"."+this.appName.replace(/\s/g,"-").toLowerCase()),e.append("hostname",i)}else s.default.isInIframe&&-1<l.indexOf(this.licenseKey)&&"string"==typeof document.referrer&&""!==document.referrer&&null!==d(document.referrer)?e.append("hostname",d(document.referrer)):e.append("hostname",this.ragnarok);e.append("version",this.playerVersion),e.append("cs",function(t){var e=t.split(".");if(3===e.length){var i=parseInt(e[0])+parseInt(e[1])+parseInt(e[2]),a=[89,251,307,523,907,1171,1423],s=Math.floor(Math.random()*a.length);if("number"==typeof a[s])return i*a[s]}return 0}(this.playerVersion)),h(e,o,this.ajaxInternalTimeout).then(function(){0}).catch(function(){r.default.clearTimeout(t.logRetryTimeout),t.logRetryTimeout=setTimeout(function(){h(e,o,t.ajaxInternalTimeout).then(function(){0}).catch(function(){0})},1e4)})}}else{var a=c.call(this);try{window.localStorage.setItem("rmpBacklog",JSON.stringify({value:(a+1).toString()}))}catch(t){r.default.trace(t)}}};n.destroy=function(){this.dom.container&&(this.dom.container.removeEventListener("srcchanged",this.runLogsOnSrcChanged),this.dom.container.removeEventListener("playing",this.runLogs),this.dom.container.removeEventListener("adloaded",this.runLogs))},n.init=function(){if(this.ragnarok!==this.originLocal&&this.ragnarok!==this.altLocal){var t=Math.floor(10*Math.random()+1);if("plus"===this.licType&&(4===t||5===t)||5===t){this.runLogs=function(){n.destroy.call(this),this.dom.container.addEventListener("srcchanged",this.runLogsOnSrcChanged),this.appendFormDataAndSendLog()}.bind(this),this.runLogsOnSrcChanged=function(){this.dom.container.removeEventListener("srcchanged",this.runLogsOnSrcChanged),this.dom.container.addEventListener("playing",this.runLogs),this.dom.container.addEventListener("adloaded",this.runLogs)}.bind(this),this.appendFormDataAndSendLog=u.bind(this),this.dom.container.addEventListener("playing",this.runLogs),this.dom.container.addEventListener("adloaded",this.runLogs);var e=c.call(this);if("plus"===this.licType&&0<e&&s.default.isOnline()){for(var i=0;i<e;i++)this.appendFormDataAndSendLog();if(s.default.localStorage(this.allowLocalStorage))try{window.localStorage.setItem("rmpBacklog",JSON.stringify({value:"0"}))}catch(t){r.default.trace(t)}}}}},i.default=n},{"../fw/env":50,"../fw/fw":51}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=o(t("../fw/fw")),s=o(t("../ads/ima-ads")),r=o(t("../ads/rmp-vast")),n=o(t("../ads/ads-helpers"));function o(t){return t&&t.__esModule?t:{default:t}}var l={};l.attach=function(t){t.prototype.getAdLinear=function(){if(this.getAdOnStage()){if("ima"===this.adParser)return this.isLinear;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdLinear()}return!1},t.prototype.getAdSystem=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adSystem)return this.adSystem;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdSystem()}return""},t.prototype.getAdContentType=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adContentType)return this.adContentType;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdContentType()}return""},t.prototype.getAdTitle=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adTitle)return this.adTitle;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdTitle()}return""},t.prototype.getAdDescription=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adDescription)return this.adDescription;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdDescription()}return""},t.prototype.getAdMediaUrl=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&"string"==typeof this.adMediaUrl)return this.adMediaUrl;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaUrl()}return""},t.prototype.getAdMediaHeight=function(){if(this.getAdOnStage())if("ima"===this.adParser){var t=void 0;if("number"==typeof(t=this.getAdLinear()?this.getPlayerHeight():this.adNonLinearHeight))return t}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaHeight();return-1},t.prototype.getAdMediaWidth=function(){if(this.getAdOnStage())if("ima"===this.adParser){var t=void 0;if("number"==typeof(t=this.getAdLinear()?this.getPlayerWidth():this.adNonLinearWidth))return t}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdMediaWidth();return-1},t.prototype.getAdCurrentTime=function(){if(this.getAdOnStage()&&this.getAdLinear())if("ima"===this.adParser)if(this.adImaDai){if(0<=this.imaDaiAdCurrentTime)return Math.round(1e3*this.imaDaiAdCurrentTime)}else{var t=this.getAdDuration(),e=this.adsManager.getRemainingTime();if(a.default.isNumber(e)&&0<=e&&0<=t)return Math.round(t-1e3*e)}else if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdCurrentTime();return-1},t.prototype.getAdDuration=function(){if(this.getAdOnStage()&&this.getAdLinear()){if("ima"===this.adParser&&a.default.isNumber(this.adDuration)&&0<=this.adDuration)return 1e3*this.adDuration;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdDuration()}return-1},t.prototype.getAdOnStage=function(){if(this.ads&&this.get5Ready()){if("ima"===this.adParser)return this.adOnStage;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdOnStage()}return!1},t.prototype.getAdPaused=function(){if(this.getAdOnStage()&&this.getAdLinear()){if("ima"===this.adParser)return this.adImaDai?this.getPaused():this.adPaused;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdPaused()}return!1},t.prototype.getAdTagUrl=function(){if(this.ads&&this.get5Ready()){if(this.adScheduleInput&&this.adSchedule.preroll&&!this.getPlayerInitialized())return n.default.replaceAdTagVar.call(this,this.adSchedule.preroll);if(""!==this.adTagUrl)return this.adTagUrl}return""};t.prototype.loadAds=function(t){var e=this;if(this.ads&&this.get5Ready()){if("string"!=typeof t)return void 0;if(this.googleCast&&this.castConnected)return void 0;if(this.adTagUrl=n.default.replaceAdTagVar.call(this,t),this.adTagUrl=this.adTagUrl.trim(),"ima"===this.adParser){if(!this.adDCInitialized)return;this.onContentResumeRequestedLoadAds=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.onContentResumeRequestedLoadAds),s.default.resetAdsForNewRequest.call(this),s.default.requestAds.call(this,this.adTagUrl)}.bind(this),this.getAdOnStage()&&this.getAdLinear()?(this.dom.container.addEventListener("adcontentresumerequested",this.onContentResumeRequestedLoadAds),this.stopAds()):this.onContentResumeRequestedLoadAds()}else if("rmp-vast"===this.adParser&&this.rmpVast){if(!this.rmpVast.getInitialized())return;r.default.restoreContentUI.call(this),setTimeout(function(){r.default.loadAds.call(e,e.adTagUrl)},1)}}},t.prototype.stopAds=function(){if(this.ads&&this.get5Ready())if("ima"===this.adParser){if(this.adsManager){this.adOnStage=!1;try{this.adsManager.stop()}catch(t){a.default.trace(t)}}}else"rmp-vast"===this.adParser&&this.rmpVast&&(this.rmpVast.stopAds(),r.default.restoreContentUI.call(this))},t.prototype.getAdUI=function(){return this.hasAdUI},t.prototype.setAdUI=function(t){"boolean"==typeof t&&this.get5Ready()&&n.default.setAdUI.call(this,t)},t.prototype.getAdErrorMessage=function(){if(this.get5Ready()){if("ima"===this.adParser&&this.adErrorMessage)return this.adErrorMessage;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdErrorMessage()}return""},t.prototype.getAdVastErrorCode=function(){if(this.get5Ready()){if("ima"===this.adParser&&a.default.isNumber(this.adVastErrorCode))return this.adVastErrorCode;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdVastErrorCode()}return-1},t.prototype.getAdErrorType=function(){if(this.get5Ready()){if("ima"===this.adParser&&this.adErrorType)return this.adErrorType;if("rmp-vast"===this.adParser&&this.rmpVast)return this.rmpVast.getAdErrorType()}return""},t.prototype.getAdPodInfo=function(){if(this.getAdOnStage()){if("ima"===this.adParser&&a.default.isObject(this.adPodInfo))return this.adPodInfo;if("rmp-vast"===this.adParser)return this.rmpVast.getAdPodInfo()}return null},t.prototype.getAdID=function(){return this.getAdOnStage()&&"string"==typeof this.adID?this.adID:""},t.prototype.getAdCreativeAdId=function(){return this.getAdOnStage()&&"string"==typeof this.adCreativeAdId?this.adCreativeAdId:""},t.prototype.getAdCreativeId=function(){return this.getAdOnStage()&&"string"==typeof this.adCreativeId?this.adCreativeId:""},t.prototype.getAdDealId=function(){return this.getAdOnStage()&&"string"==typeof this.adDealId?this.adDealId:""},t.prototype.getAdSurveyUrl=function(){return this.getAdOnStage()&&"string"==typeof this.adSurveyUrl?this.adSurveyUrl:""},t.prototype.getAdUniversalAdIdRegistry=function(){return this.getAdOnStage()&&"string"==typeof this.adUniversalAdIdRegistry?this.adUniversalAdIdRegistry:""},t.prototype.getAdUniversalAdIdValue=function(){return this.getAdOnStage()&&"string"==typeof this.adUniversalAdIdValue?this.adUniversalAdIdValue:""},t.prototype.getAdvertiserName=function(){return this.getAdOnStage()&&"string"==typeof this.adAdvertiserName?this.adAdvertiserName:""},t.prototype.getAdApiFramework=function(){return this.getAdOnStage()&&"string"==typeof this.adApiFramework?this.adApiFramework:""},t.prototype.getAdTraffickingParameters=function(){return this.getAdOnStage()&&a.default.isObject(this.adTraffickingParameters)?this.adTraffickingParameters:null},t.prototype.getAdTraffickingParametersString=function(){return this.getAdOnStage()&&"string"==typeof this.adTraffickingParametersString?this.adTraffickingParametersString:""},t.prototype.getAdWrapperAdIds=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperAdIds)?this.adWrapperAdIds:null},t.prototype.getAdWrapperAdSystems=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperAdSystems)?this.adWrapperAdSystems:null},t.prototype.getAdWrapperCreativeIds=function(){return this.getAdOnStage()&&Array.isArray(this.adWrapperCreativeIds)?this.adWrapperCreativeIds:null},t.prototype.getCompanionAds=function(t,e,i){if(this.ads&&this.get5Ready()&&"ima"===this.adParser)if(this.adImaDai){if("function"==typeof this.currentAdForCompanion.getCompanionAds)return this.currentAdForCompanion.getCompanionAds()}else{var a=this.currentAdForCompanion.getCompanionAds(t,e,i);if(Array.isArray(a)&&0<a.length)return a}return null},t.prototype.getAdErrorCode=function(){return a.default.isNumber(this.adErrorCode)?this.adErrorCode:-1},t.prototype.getAdParser=function(){return this.adParser},t.prototype.getAdParserBlocked=function(){return this.adParserLoadError},t.prototype.getAdBlockerDetected=function(){return"boolean"==typeof window.rmpGlobals.adBlockerDetected&&window.rmpGlobals.adBlockerDetected},t.prototype.isVpaidCreative=function(){return this.isVPAID}},i.default=l},{"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../fw/fw":51}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=E(t("../fw/fw")),a=E(t("../fw/env")),r=E(t("../fw/defaults/input-defaults")),n=E(t("../core/volume/volume")),o=E(t("../core/resize/resize")),l=E(t("../ads/ima-ads")),d=E(t("../ads/rmp-vast")),h=E(t("../core/ui/core-ui")),c=E(t("../core/utils/utils")),u=E(t("../playlist/playlist")),f=E(t("../playlist/related")),p=E(t("../core/dvr/dvr")),m=E(t("../core/seek/seek")),v=E(t("../360/360")),g=E(t("../cast/cast")),y=E(t("../vtt/captions")),b=E(t("../vtt/thumbnails")),S=E(t("../core/modules/modules"));function E(t){return t&&t.__esModule?t:{default:t}}var A={};A.attach=function(t){t.prototype.getReady=function(){return this.playerReady},t.prototype.get5Ready=function(){return this.isHTML5&&this.playerReady},t.prototype.getEnvironment=function(){return a.default},t.prototype.getFramework=function(){return s.default},t.prototype.getPlayerSettings=function(){return r.default},t.prototype.isStandalone=function(){return a.default.isStandalone},t.prototype.isWebView=function(){return a.default.isWebView},t.prototype.getPlayerVersion=function(){return this.playerVersion},t.prototype.getAutoplayRequested=function(){return!!this.getReady()&&this.autoplay},t.prototype.getPaused=function(){if(this.get5Ready()){if(g.default.castingAPIAvailable.call(this))return this.remotePlayer.isPaused;if("boolean"==typeof this.dom.video.paused)return this.dom.video.paused}return!1},t.prototype.getCurrentTime=function(){if(this.isLive)return-1;if(this.get5Ready()&&g.default.castingAPIAvailable.call(this))return g.default.getCurrentTime.call(this);if(this.getAdOnStage()&&this.getAdLinear()&&(a.default.isIos[0]||"rmp-vast"===this.adParser&&a.default.isMacosSafari[0]))return-1;var t=s.default.getMediaCurrentTime(this.dom.video);return 0<=t?Math.round(1e3*t):-1},t.prototype.getDuration=function(){if(this.isLive)return-1;if(this.isLiveDvr)return Math.round(1e3*this.hlsJSLevelDuration);if(this.get5Ready()&&g.default.castingAPIAvailable.call(this))return g.default.getDuration.call(this);if(this.getAdOnStage()&&this.getAdLinear()&&(a.default.isIos[0]||"rmp-vast"===this.adParser&&a.default.isMacosSafari[0]))return-1;var t=s.default.getMediaDuration(this.dom.video);return 0<=t?Math.round(1e3*t):-1},t.prototype.getPlayerMode=function(){return this.playerReady?this.isHTML5?"html5":"nosupport":""},t.prototype.getStreamType=function(){var t="";return this.get5Ready()&&(this.readingDash?t="dash":this.readingHlsHevc?t="hlsHevc":this.readingHlsJS||this.readingHls||this.readingHlsShaka?t="hls":this.readingMp4Hevc&&this.readingMp4?t="mp4Hevc":this.readingMp4&&!this.readingWebM?t="mp4":this.readingMp4&&this.readingWebM?t="webm":this.readingM4a?t="m4a":this.readingMp3?t="mp3":this.readingOgg?t="ogg":this.readingOutstream&&(t="outstream")),t},t.prototype.getStreamingLibrary=function(){if(this.get5Ready())return this.readingHlsJS?"hls.js":this.readingDash||this.readingHlsShaka?"shakaplayer":this.readingHls||this.readingMp4||this.readingM4a||this.readingMp3||this.readingOgg?"native":null},t.prototype.getBufferLength=function(t){if("string"!=typeof t||"behind"!==t&&"ahead"!==t)return-1;if(this.get5Ready()){var e=this.getCurrentTime();if(-1<e&&void 0!==this.dom.video.buffered&&"function"==typeof this.dom.video.buffered.start&&"function"==typeof this.dom.video.buffered.end){for(var i=this.dom.video.buffered,a=0;a<i.length;++a){var s=1e3*i.start(a),r=1e3*i.end(a);if(s<=e&&e<=r)return"behind"===t?Math.round(e-s):Math.round(r-e)}return-1}}return-1},t.prototype.getLoop=function(){return!(!this.get5Ready()||"boolean"!=typeof this.dom.video.loop)&&this.dom.video.loop},t.prototype.setLoop=function(t){!this.isVod||this.ads&&a.default.isIos[0]||"boolean"==typeof t&&this.dom.video&&(this.dom.video.loop=t)},t.prototype.getControls=function(){return!!this.get5Ready()&&this.controls},t.prototype.setControls=function(t){"boolean"==typeof t&&this.get5Ready()&&(t?h.default.protoShowControls.call(this):h.default.protoHideControls.call(this))},t.prototype.getControlsVisible=function(){if(this.get5Ready()&&!this.hideControls){if(s.default.hasClass(this.dom.container,"rmp-chrome"))return!0;if(s.default.hasClass(this.dom.container,"rmp-no-chrome"))return!1}return!1},t.prototype.setControlsVisible=function(t){"boolean"==typeof t&&this.get5Ready()&&!this.hideControls&&(t?h.default.showChrome.call(this):h.default.hideChrome.call(this))},t.prototype.getFullscreen=function(){return!!this.get5Ready()&&this.isInFullscreen},t.prototype.setFullscreen=function(t){if(this.get5Ready()&&"boolean"==typeof t){var e=this.getFullscreen();if(e&&t||!e&&!t)return;o.default.fullscreenInteraction.call(this)}},t.prototype.play=function(){if(this.get5Ready()){if(g.default.castingAPIAvailable.call(this))return void(this.remotePlayer.isPaused&&this.remotePlayerController.playOrPause());this.getAdOnStage()&&this.getAdLinear()?"ima"===this.adParser?l.default.resumeAds.call(this):d.default.resumeAds.call(this):this.getPaused()&&this.initiatePlayback()}},t.prototype.pause=function(){if(this.get5Ready()){if(g.default.castingAPIAvailable.call(this))return void(this.remotePlayer.isPaused||this.remotePlayerController.playOrPause());this.getAdOnStage()&&this.getAdLinear()&&!this.adImaDai?"ima"===this.adParser?l.default.pauseAds.call(this):d.default.pauseAds.call(this):this.getPaused()||this.initiatePlayback()}};t.prototype.stop=function(){if(this.get5Ready()){if(g.default.castingAPIAvailable.call(this))return this.remotePlayer.isPaused||this.remotePlayerController.playOrPause(),this.isVod&&(this.remotePlayer.currentTime=0,this.remotePlayerController.seek(),this.dom.current.style.width=0,this.dom.handle.style.left=0,this.dom.timeElapsedText.textContent="00:00"),void s.default.createStdEvent("stopcompleted",this.dom.container);null===this.postStop&&(this.postStop=function(){this.ads&&null!==this.postStop&&("ima"===this.adParser?this.dom.container.removeEventListener("adalladscompleted",this.postStop):"rmp-vast"===this.adParser&&this.rmpVast&&this.dom.container.removeEventListener("addestroyed",this.postStop)),this.getPaused()||this.pause(),this.isVod&&this.seekTo(0),this.showPoster(),s.default.createStdEvent("stopcompleted",this.dom.container)}.bind(this)),this.getAdOnStage()?"ima"===this.adParser?this.getAdLinear()?(this.dom.container.addEventListener("adalladscompleted",this.postStop),this.stopAds()):(this.stopAds(),this.postStop()):"rmp-vast"===this.adParser&&this.rmpVast&&(this.dom.container.addEventListener("addestroyed",this.postStop),this.stopAds()):this.postStop()}},t.prototype.seekTo=function(t){if(this.get5Ready()){if(!s.default.isNumber(t))return void 0;if(this.isLive)return void 0;if(this.isLiveDvr)return void 0;if(this.getAdOnStage()&&this.getAdLinear())return void 0;if(0<=t){var e=Math.round(t/1e3*100)/100;if(g.default.castingAPIAvailable.call(this))return this.remotePlayer.currentTime=e,void this.remotePlayerController.seek();s.default.setMediaCurrentTime(this.dom.video,e)}}},t.prototype.dvrSeekTo=function(t){if(this.isLiveDvr&&this.get5Ready()){if(!s.default.isNumber(t))return void 0;if(this.getAdOnStage()&&this.getAdLinear())return void 0;0,t<1e4&&(t=1e4);var e=t/this.getDuration();if(1<=e)return;m.default.do.call(this,e)}},t.prototype.dvrJumpToLive=function(){this.isLiveDvr&&this.get5Ready()&&p.default.setLiveMode.call(this,null)},t.prototype.dvrIsLive=function(){return!(!this.get5Ready()||!this.isLiveDvr)&&this.dvrLiveMode},t.prototype.getVolume=function(){if(this.get5Ready()){if(g.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel;var t=void 0;if(t=this.getAdOnStage()&&this.getAdLinear()?n.default.getVolumeAds.call(this):this.dom.video.volume,s.default.isNumber(t)&&-2!==t)return t}return-1},t.prototype.setVolume=function(t){if(s.default.isNumber(t)&&this.get5Ready()){var e=void 0;if(e=t<0?0:1<t?1:t,this.currentVolume=e,this.getMute()&&this.setMute(!1),g.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel=this.currentVolume,this.remotePlayerController.setVolumeLevel(),void n.default.change.call(this);this.dom.video.volume=this.currentVolume,this.getAdOnStage()&&this.getAdLinear()&&n.default.setVolumeAds.call(this,this.currentVolume)}},t.prototype.getMute=function(){return!!this.playerReady&&(g.default.castingAPIAvailable.call(this)?this.remotePlayer.isMuted:this.muted)},t.prototype.setMute=function(t){this.get5Ready()&&(t?n.default.protoMute.call(this):n.default.protoUnmute.call(this))},t.prototype.getPlaybackRate=function(){return this.dom.video&&"number"==typeof this.dom.video.playbackRate?this.dom.video.playbackRate:-1},t.prototype.setPlaybackRate=function(t){if(this.get5Ready()){if(!s.default.isNumber(t))return void 0;var e=this.getPaused();!e&&a.default.isIos[0]&&this.pause(),this.dom.video.playbackRate=t,!e&&a.default.isIos[0]&&this.play()}},t.prototype.getContentTitle=function(){return this.contentTitle},t.prototype.setContentTitle=function(t){if("string"==typeof t&&(this.contentTitle=t),this.dom.container&&this.dom.container.setAttribute("aria-label",this.contentTitle),this.sharing){var e=this.labels.hint.sharing+" "+this.uiSeparator+" "+this.contentTitle;s.default.setText(this.dom.sharingTitleWrapper,e)}s.default.setText(this.dom.contentTitle,this.contentTitle)},t.prototype.getContentDescription=function(){return this.contentDescription},t.prototype.setContentDescription=function(t){"string"==typeof title&&(this.contentDescription=t),s.default.setText(this.dom.contentDescription,this.contentDescription)},t.prototype.getContentID=function(){return this.contentID},t.prototype.setContentID=function(t){"string"==typeof t&&(this.contentID=t)},t.prototype.getVideoTitle=function(){return this.videoTitle},t.prototype.setVideoTitle=function(t){this.useVideoTitle&&"string"==typeof t&&(this.videoTitle=t,this.dom.video&&this.dom.video.setAttribute("title",this.videoTitle))},t.prototype.getAppName=function(){return this.appName},t.prototype.showCaptions=function(t){"string"==typeof t&&this.get5Ready()&&y.default.menuItemInteraction.call(this,t)},t.prototype.hideCaptions=function(){this.get5Ready()&&y.default.menuItemInteraction.call(this,"off")},t.prototype.getCCVisibleLanguage=function(){if(this.get5Ready()&&this.dom.captionsOverlayLevelsArea)for(var t=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),e=0,i=t.length;e<i;e++){var a=t[e];if(s.default.hasClass(a,"rmp-overlay-level-active"))return a.getAttribute("lang")}return""},t.prototype.getCaptionsData=function(){return this.get5Ready()?y.default.getData.call(this):null},t.prototype.getCaptionsList=function(){return this.get5Ready()&&this.hasCC&&this.ccFilesReady?this.loadedCCFiles:null},t.prototype.setCaptionsList=function(t){this.get5Ready()&&s.default.isValidTextTracksSet(t)&&(this.ccFiles=t,this.hasCC||y.default.prepare.call(this),y.default.destroy.call(this),y.default.initVttJS.call(this))},t.prototype.getPoster=function(){return this.playerReady?this.poster:""},t.prototype.setPoster=function(t){"string"==typeof t&&this.dom.posterImg&&(this.dom.posterImg.removeEventListener("load",this.onPosterLoad),this.dom.posterImg.removeEventListener("error",this.onPosterError),this.dom.posterImg.addEventListener("load",this.onPosterLoad),this.dom.posterImg.addEventListener("error",this.onPosterError),this.poster=t,this.dom.posterImg.src=this.poster)},t.prototype.showPoster=function(){this.get5Ready()&&s.default.show(this.dom.poster)},t.prototype.hidePoster=function(){this.get5Ready()&&s.default.hide(this.dom.poster)},t.prototype.resize=function(){this.playerReady&&o.default.resize.call(this)},t.prototype.getPlayerWidth=function(){return s.default.getWidth(this.dom.container)},t.prototype.getPlayerHeight=function(){return s.default.getHeight(this.dom.container)},t.prototype.setPlayerSize=function(t,e){if(!("number"!=typeof t||t<=0||"number"!=typeof e||e<=0)&&(!this.isInFullscreen||this.fullWindowMode)&&!this.iframeMode&&!this.autoHeightMode&&this.playerReady){this.width=t,this.height=e,this.audioOnly&&(this.height=40);var i={width:t+"%",height:e+"px"};s.default.setStyle(this.dom.container,i),o.default.auxResize.call(this,t)}},t.prototype.getPlayerInitialized=function(){return this.playerInitialized},t.prototype.getTimeViewed=function(){return this.get5Ready()&&s.default.isNumber(this.analyticsSecondsPlayed)?Math.round(1e3*this.analyticsSecondsPlayed):-1},t.prototype.getPercentViewed=function(){if(this.get5Ready()&&this.isVod&&s.default.isNumber(this.analyticsSecondsPlayed)){var t=this.getDuration();if(-1<t)return Math.round(1e3*this.analyticsSecondsPlayed*100/t)}return-1},t.prototype.getTimeReady=function(){return this.playerReady&&s.default.isNumber(this.timeReady)&&0<this.timeReady?this.timeReady:-1},t.prototype.getStartUpTime=function(){return this.get5Ready()?this.startUpTime:-1},t.prototype.getRawHeatMap=function(){return this.get5Ready()&&this.isVod&&this.heatMap?this.heatMapArray:null},t.prototype.getGALabel=function(){return"string"==typeof this.gaLabel&&""!==this.gaLabel?this.gaLabel:""},t.prototype.setGALabel=function(t){"string"==typeof t&&""!==t&&(this.gaLabel=t)},t.prototype.getGACategory=function(){return"string"==typeof this.gaCategory&&""!==this.gaCategory?this.gaCategory:""},t.prototype.setGACategory=function(t){"string"==typeof t&&""!==t&&(this.gaCategory=t)},t.prototype.sendGAEvent=function(t){this.get5Ready()&&"undefined"!=typeof ga&&"string"==typeof t&&""!==t&&ga(this.gaCommand,"event",this.gaCategory,t,this.gaLabel,{nonInteraction:this.gaNonInteractionEvents})},t.prototype.getLogo=function(){if(this.get5Ready()&&""!==this.logo){var t="";this.dom.logoImg&&this.dom.logoImg.src&&(t=this.dom.logoImg.src);var e="";return""!==this.logoLoc&&(e=this.logoLoc),{img:t,loc:e}}return null},t.prototype.setLogo=function(t){this.get5Ready()&&""!==this.logo&&!s.default.isEmptyObject(t)&&t.img&&t.loc&&this.dom.logoImg&&(this.dom.logoImg.removeEventListener("load",this.onLogoLoad),this.dom.logoImg.removeEventListener("error",this.onLogoError),this.dom.logoImg.addEventListener("load",this.onLogoLoad),this.dom.logoImg.addEventListener("error",this.onLogoError),s.default.removeEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl),this.logoLoc=t.loc,this.openLogoUrl=c.default.openUrl.bind(this,this.logoLoc),s.default.addEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl),this.dom.logoImg.src=t.img)},t.prototype.getThumbnails=function(){return this.seekBarThumbnailsLoc},t.prototype.setThumbnails=function(t){"string"==typeof t&&""!==t&&(b.default.destroy.call(this),this.seekBarThumbnailsLoc=t,b.default.init.call(this))},t.prototype.getWaitingUI=function(){return!!s.default.hasClass(this.dom.container,"rmp-waiting")},t.prototype.setWaitingUI=function(t){this.get5Ready()&&"boolean"==typeof t&&(t&&!this.getWaitingUI()?h.default.showLoadingSpin.call(this):!t&&this.getWaitingUI()&&h.default.hideLoadingSpin.call(this))},t.prototype.getCurrentPlaylistItemIndex=function(){return this.currentPlaylistIndex},t.prototype.setPlaylistItem=function(t){this.get5Ready()&&"number"==typeof t&&0<=t&&u.default.load.call(this,t,null)},t.prototype.isPlaylist=function(){return this.hasPlaylist},t.prototype.getPlaylistData=function(){return this.isPlaylist()&&0<this.playlistList.length&&s.default.isObject(this.playlistList[0])?this.playlistList:null},t.prototype.setPlaylistData=function(t){this.isPlaylist()&&("string"==typeof t&&""!==t||Array.isArray(t)&&s.default.isObject(t[0]))&&u.default.setData.call(this,t,!1)},t.prototype.getCurrentRelatedItemIndex=function(){return this.currentRelatedIndex},t.prototype.setRelatedItem=function(t){this.get5Ready()&&"number"==typeof t&&0<=t&&f.default.load.call(this,t,null)},t.prototype.isRelated=function(){return this.hasRelated},t.prototype.getRelatedData=function(){return this.isRelated()&&0<this.relatedList.length&&s.default.isObject(this.relatedList[0])?this.relatedList:null},t.prototype.setRelatedData=function(t){this.isRelated()&&("string"==typeof t&&""!==t||Array.isArray(t)&&s.default.isObject(t[0]))&&f.default.setData.call(this,t,!1)},t.prototype.getCamLat=function(){return this.lat},t.prototype.getCamLon=function(){return this.lon},t.prototype.getCamFov=function(){return this.fov},t.prototype.setCamLatLongFov=function(t,e,i){this.get5Ready()&&"number"==typeof t&&"number"==typeof e&&"number"==typeof i&&v.default.setCamLatLongFov.call(this,t,e,i,!0)},t.prototype.resetCamLatLongFov=function(){this.get5Ready()&&v.default.setCamLatLongFov.call(this,this.video360InitialLat,this.video360InitialLon,this.video360FocalLength,!0)},t.prototype.getChapters=function(){return this.get5Ready()&&0<this.chaptersArray.length?this.chaptersArray:null},t.prototype.seekToChapter=function(t){this.get5Ready()&&0<this.chaptersArray.length&&"number"==typeof t&&-1<t&&(null!==this.getChapters()&&void 0!==this.chaptersArray[t]&&this.seekTo(this.chaptersArray[t].start))},t.prototype.getCastMediaLoaded=function(){return this.castMediaLoaded},t.prototype.getCastConnected=function(){return this.castConnected},t.prototype.getCastUrl=function(){return this.castUrl},t.prototype.getHlsManifestData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsManifestData:null},t.prototype.getHlsLevelData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsLevelData:null},t.prototype.getHlsFragmentData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsFragmentData:null},t.prototype.getHlsFragmentBeingPlayedData=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsFragmentBeingPlayed:null},t.prototype.getHlsEpochProgramDateTime=function(){return this.hlsEpochProgramDateTime},t.prototype.getHlsRawProgramDateTime=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsRawProgramDateTime:null},t.prototype.getHlsId3TagSamples=function(){return this.get5Ready()&&this.readingHlsJS?this.hlsID3TagData:null},t.prototype.getHlsBwEstimate=function(){return this.bwEstimate},t.prototype.hlsStartLoad=function(){null!==this.hlsJS&&this.hlsJS.startLoad()},t.prototype.hlsStopLoad=function(){null!==this.hlsJS&&this.hlsJS.stopLoad()},t.prototype.getHlsJSInstance=function(){return this.hlsJS},t.prototype.getShakaPlayerInstance=function(){return this.shakaPlayer},t.prototype.getHtmlMediaElement=function(){return this.dom.video?this.dom.video:null},t.prototype.getErrorData=function(){return this.errorData},t.prototype.setModuleOverlayVisible=function(t,e){"boolean"==typeof e&&"string"==typeof t&&-1<S.default.types.indexOf(t)&&this.dom[t+"Overlay"]&&(e&&!s.default.isVisible(this.dom[t+"Overlay"])?S.default.open.call(this,t,null):!e&&s.default.isVisible(this.dom[t+"Overlay"])&&S.default.close.call(this,t,400,null))},t.prototype.getModuleOverlayVisible=function(t){return!!("string"==typeof t&&-1<S.default.types.indexOf(t)&&this.dom[t+"Overlay"])&&s.default.isVisible(this.dom[t+"Overlay"])}},i.default=A},{"../360/360":1,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/cast":21,"../core/dvr/dvr":25,"../core/modules/modules":29,"../core/resize/resize":35,"../core/seek/seek":38,"../core/ui/core-ui":40,"../core/utils/utils":44,"../core/volume/volume":46,"../fw/defaults/input-defaults":49,"../fw/env":50,"../fw/fw":51,"../playlist/playlist":53,"../playlist/related":54,"../vtt/captions":55,"../vtt/thumbnails":56}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=a(t("../fw/fw")),u=a(t("../abr/shaka")),f=a(t("../core/modules/modules"));function a(t){return t&&t.__esModule?t:{default:t}}var s={attach:function(t){t.prototype.getAudioTracks=function(){if(!this.get5Ready())return null;var i=[];if(this.readingHlsJS&&this.hlsJS&&Array.isArray(this.hlsJS.audioTracks)&&0<this.hlsJS.audioTracks.length){var a=this.hlsJS.audioTrack;return this.hlsJS.audioTracks.forEach(function(t,e){t.id===a?i.push({language:t.lang,active:!0,id:e}):i.push({language:t.lang,active:!1,id:e})}),i}if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer){var t=this.shakaPlayer.getAudioLanguages(),e=this.shakaPlayer.getVariantTracks().find(function(t){return!0===t.active});if(e){var s=e.language;t.forEach(function(t,e){t===s?i.push({language:t,active:!0,id:e}):i.push({language:t,active:!1,id:e})})}return i}return null},t.prototype.setAudioTrack=function(e){if(this.get5Ready()&&"number"==typeof e)if(this.readingHlsJS&&this.hlsJS&&Array.isArray(this.hlsJS.audioTracks)&&1<this.hlsJS.audioTracks.length&&c.default.isObject(this.hlsJS.audioTracks[e]))this.hlsJS.audioTrack=e,f.default.setActiveLevel.call(this,"audio",e);else if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer){var t=this.getAudioTracks().find(function(t){return t.id===e});if(t){if(this.shakaPlayer.selectAudioLanguage(t.language),this.abrAutoMode=!0,this.shakaPlayer.configure({abr:{enabled:!0}}),f.default.setActiveLevel.call(this,"audio",e),this.dom.qualityOverlayLevelsArea){for(var i=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),a=[],s=0,r=i.length;s<r;s++){var n=i[s];c.default.hasClass(n,"rmp-q0")?c.default.addClass(n,"rmp-overlay-level-active"):a.push(n)}a.forEach(function(t){c.default.removeElement(t)}),0<this.variantsPerLng.length&&u.default.setUpVideoRenditions.call(this)}if(!this.hasCC&&0<this.shakaTextTracks.length&&this.dom.captionsOverlayLevelsArea){this.defaultTrack=0;for(var o=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),l=0,d=o.length;l<d;l++)c.default.removeClass(o[l],"rmp-overlay-level-active");var h=this.dom.container.querySelector(".captions-off");null!==h&&c.default.addClass(h,"rmp-overlay-level-active"),this.shakaPlayer.setTextTrackVisibility(!1)}c.default.createStdEvent("shakaaudiotrackswitching",this.dom.container)}}}}};i.default=s},{"../abr/shaka":4,"../core/modules/modules":29,"../fw/fw":51}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=a(t("../fw/fw")),d=a(t("../core/modules/quality")),h=a(t("../core/modules/modules"));function a(t){return t&&t.__esModule?t:{default:t}}var s={attach:function(t){t.prototype.getBitrates=function(){var r=this;if(!this.get5Ready())return null;var n=[];if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer)return this.shakaPlayer.getVariantTracks().forEach(function(t){for(var e={},i=0,a=r.shakaVideoRenditions.length;i<a;i++){var s=r.shakaVideoRenditions[i];if(t.id===s){e.id=i,e.active=!1,t.active&&(e.active=!0),t.bandwidth&&(e.bandwidth=t.bandwidth),t.width&&(e.width=t.width),t.height&&(e.height=t.height),t.videoCodec&&(e.videoCodec=t.videoCodec),t.audioCodec&&(e.audioCodec=t.audioCodec),n.push(e);break}}}),n;if(this.readingHlsJS&&this.hlsJS){if(Array.isArray(this.hlsJS.levels)&&0<this.hlsJS.levels.length){var a=this.hlsJS.currentLevel;return this.hlsJS.levels.forEach(function(t,e){var i={};i.id=e,i.active=!1,e===a&&(i.active=!0),t.bitrate&&(i.bitrate=t.bitrate),t.width&&(i.width=t.width),t.height&&(i.height=t.height),t.videoCodec&&(i.videoCodec=t.videoCodec),t.audioCodec&&(i.audioCodec=t.audioCodec),n.push(i)}),n}}else{if(this.readingMp4){var s=this.getCurrentBitrateIndex();return this.src.mp4.forEach(function(t,e){var i=!1;e===s&&(i=!0),n.push({active:i,id:e})}),n}if(this.readingM4a||this.readingMp3||this.readingOgg)return n.push({active:!0,id:0}),n}return null},t.prototype.setBitrate=function(t){if("number"==typeof t&&this.get5Ready()&&(!this.getAdOnStage()||!this.getAdLinear())){var e=this.getBitrates();if(!(-1!==t&&void 0===e[t]||this.readingMp4&&-1===t))if(this.readingMp4)d.default.setMp4Bitrate.call(this,t);else if((this.readingDash||this.readingHlsShaka)&&this.shakaPlayer){if(-1===t)this.abrAutoMode=!0,this.shakaPlayer.configure({abr:{enabled:!0}});else{this.abrAutoMode=!1,this.shakaPlayer.configure({abr:{enabled:!1}});var i=this.shakaVideoRenditions[t],a=this.shakaPlayer.getVariantTracks().find(function(t){return t.id===i});a&&(this.shakaPlayer.selectVariantTrack(a,!0),l.default.createStdEvent("shakalevelswitching",this.dom.container))}if(this.dom.qualityOverlayLevelsArea){var s=this.dom.qualityOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");if(0<s.length&&s[t+1]){for(var r=0,n=s.length;r<n;r++)l.default.removeClass(s[r],"rmp-abr-active");l.default.addClass(s[t+1],"rmp-abr-active")}h.default.setActiveLevel.call(this,"quality",t+1)}}else if(this.readingHlsJS&&this.hlsJS){if(-1===t){this.abrAutoMode=!0;try{this.hlsJS.nextLevel=-1}catch(t){l.default.trace(t)}}else{var o=this.hlsJS.levels;if(o&&o.length&&0<=t&&t<o.length){this.abrAutoMode=!1;try{this.hlsJS.nextLevel=t}catch(t){l.default.trace(t)}}else 0}h.default.setActiveLevel.call(this,"quality",t+1)}}},t.prototype.getAbrAutoMode=function(){return!!this.get5Ready()&&(this.readingMse?this.abrAutoMode:!!this.readingHls||(this.readingMp4||this.readingM4a||this.readingMp3||this.readingOgg,!1))},t.prototype.getCurrentBitrateIndex=function(){if(!this.get5Ready())return-2;if(this.readingMse||this.readingHls){if(this.getAbrAutoMode())return-1;var t=this.getBitrates();if(t)return t.find(function(t){return!0===t.active}).id}else{if(this.readingMp4){var e=this.getSrc(),i=this.src.mp4.findIndex(function(t){return t===e});return-1===i&&(i=0),i}if(this.readingM4a||this.readingMp3||this.readingOgg)return 0}return-2}}};i.default=s},{"../core/modules/modules":29,"../core/modules/quality":30,"../fw/fw":51}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=a(t("../fw/fw")),o=a(t("../fw/env")),l=a(t("../ads/ima-ads")),d=a(t("../ads/scheduler")),h=a(t("../ads/ads-helpers")),c=a(t("../analytics/logs")),u=a(t("../cast/cast")),f=a(t("../cast/airplay")),p=a(t("../abr/shaka")),m=a(t("../abr/hls")),v=a(t("../core/utils/viewable")),g=a(t("../vtt/captions")),y=a(t("../vtt/thumbnails")),b=a(t("../360/360")),S=a(t("../core/dom")),E=a(t("../analytics/analytics")),A=a(t("../core/utils/utils")),C=a(t("../core/utils/error"));function a(t){return t&&t.__esModule?t:{default:t}}var s={};s.attach=function(t){var i=function(){var t=this;setTimeout(function(){t.destroyRunning=!1,n.default.createStdEvent("destroycompleted",t.dom.container)},1)},a=function(){var t=this;h.default.destroy.call(this),this.dom.container.removeEventListener("adcontentresumerequested",this.castInit),this.adScheduleInput&&d.default.destroy.call(this),A.default.clearAdAutoplayEvents.call(this),"ima"===this.adParser&&null===this.postImaAdDestroy&&(this.postImaAdDestroy=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.postImaAdDestroy),l.default.resetAdsForNewRequest.call(this);try{this.adsLoader.destroy(),this.adDisplayContainer.destroy()}catch(t){n.default.trace(t)}this.adsDestroyed=!0}.bind(this)),"ima"===this.adParser?this.getAdOnStage()?this.getAdLinear()?(this.dom.container.addEventListener("adcontentresumerequested",this.postImaAdDestroy),this.stopAds()):(this.stopAds(),this.postImaAdDestroy()):this.postImaAdDestroy():this.getAdOnStage()?this.getAdLinear()?(this.dom.container.addEventListener("addestroyed",function(){t.adsDestroyed=!0}),this.stopAds()):(this.stopAds(),this.adsDestroyed=!0):this.adsDestroyed=!0},s=function(){(function(){o.default.isMobile&&(this.dom.container.removeEventListener("playing",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("adloaded",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("aderror",this.onMobileStartAutoHideCentralUI)),this.ads&&(o.default.isIos[0]&&!this.hideFullscreen&&(this.dom.container.removeEventListener("adloaded",this.onIosStartShowFS),this.dom.container.removeEventListener("aderror",this.onIosStartShowFS),this.dom.container.removeEventListener("playing",this.onIosStartShowFS)),"ima"===this.adParser&&o.default.isIphone&&this.adDisableCustomPlaybackForIOS10Plus&&(this.dom.container.removeEventListener("adcontentpauserequested",this.onIphone10PlusHideFS),this.dom.container.removeEventListener("adcontentresumerequested",this.onIphone10PlusHideFS))),this.dom.container.removeEventListener("srcchanged",this.appendFormDataAndSendLog),this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch),this.dom.container.removeEventListener("contextmenu",n.default.contextMenuInteraction),this.dom.container.removeEventListener("mousemove",this.showChrome),this.dom.container.removeEventListener("touchend",this.containerTouch),this.dom.container.removeEventListener("click",this.containerClick),this.dom.container.removeEventListener("playing",this.setAudioTrackFn),this.dom.container.removeEventListener("resize",this.configureShakaCapLevelToPlayerSize),this.processInitiatePlayback&&this.dom.container.removeEventListener("loadedmetadata",this.processInitiatePlayback),this.dom.container.removeEventListener("playing",this.unstalledBuffer),this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer),g.default.destroy.call(this),this.dom.container.removeEventListener("playing",this.startUpLogPlaying),this.dom.container.removeEventListener("adloaded",this.startUpLogPlaying),this.dom.container.removeEventListener("loadedmetadata",this.afterMp4BitrateSwitch),this.hlsJSStopDownloadWhilePaused&&(this.dom.container.removeEventListener("playing",this.hlsOnFirstPlaying),this.dom.container.removeEventListener("pause",this.hlsOnPauseStopLoad),this.dom.container.removeEventListener("play",this.hlsOnPlayStartLoad)),this.hasChapters&&this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters)}).call(this),this.video360&&b.default.destroy.call(this),this.dom.video&&function(){S.default.destroyVideo.call(this),this.dom.video.removeEventListener("ended",this.ended),null!==this.hlsResizeLevelSwitch&&this.dom.video.removeEventListener("resize",this.hlsResizeLevelSwitch),this.readingPDorNative&&this.dom.video.removeEventListener("error",this.generateError,!0)}.call(this),function(){var e=this;if(this.readingDash||this.readingHlsShaka){if(null===this.shakaPlayer)return void i.call(this);p.default.destroy.call(this),this.shakaPlayer.destroy().then(function(){i.call(e)}).catch(function(t){n.default.trace(t),i.call(e)})}else if(this.readingHlsJS){if(null===this.hlsJS)return void i.call(this);m.default.destroy.call(this),i.call(this)}else this.readingPDorNative?(n.default.clearNativeHtml5Buffer(this.dom.video),i.call(this)):this.readingOutstream&&i.call(this)}.call(this)},r=function(){var t=this;if(document.removeEventListener("fullscreenchange",this.fullscreenchange),document.removeEventListener("fullscreenerror",this.fullscreenerror),document.removeEventListener("mouseup",this.mouseupDoc),document.removeEventListener("mousemove",this.mousemoveDoc),function(){n.default.clearTimeout(this.imaLoadTimeout),n.default.clearTimeout(this.throttledResizeTimeout),n.default.clearTimeout(this.cssLinkTimeout),n.default.clearTimeout(this.logRetryTimeout),n.default.clearTimeout(this.logGaSeekingTimeout),n.default.clearTimeout(this.prerollMaskRemovalTimeout),n.default.clearTimeout(this.orientationChangeResizeTimeout),n.default.clearTimeout(this.siteCheckerRetryTimeout),n.default.clearTimeout(this.rmpPlusCheckerRetryTimeout),n.default.clearTimeout(this.hlsJSErrorRetryTimeout),n.default.clearInterval(this.progressiveInterval),n.default.clearInterval(this.hlsJSCCInterval),n.default.clearInterval(this.hlsJSAbrInterval),n.default.clearInterval(this.adSkipInterval),n.default.clearInterval(this.adCountdownInterval),n.default.clearInterval(this.adRemainingTimeBarInterval),n.default.clearInterval(this.runAdsManagerInterval),n.default.clearInterval(this.liveAdSchedulerChecker),n.default.clearInterval(this.analyticsInterval),n.default.clearInterval(this.setSrcResetAdInterval),n.default.clearInterval(this.chromeTimer)}.call(this),v.default.destroy.call(this),this.googleCast&&u.default.destroy.call(this),f.default.destroy.call(this),0<this.offsetStartPosition&&this.isVod&&this.dom.container&&this.dom.container.removeEventListener("playing",this.onStartSeekToOffset),this.dummyThumbnailsImg&&y.default.destroy.call(this),this.ads){a.call(this);var e=setInterval(function(){t.adsDestroyed&&(n.default.clearInterval(e),s.call(t))},10)}else s.call(this)};t.prototype.destroy=function(){var t=this;if(this.playerReady)if(this.destroyRunning)C.default.warning.call(this,"destroy currently running - wait for completion before invoking",1004,null);else if(this.destroyRunning=!0,n.default.removeEvent("resize",window,this.throttledResize),n.default.removeEvent("orientationchange",window,this.throttledResize),n.default.removeEvent("online",window,this.windowOnline),n.default.removeEvent("offline",window,this.windowOffline),this.disableKeyboardControl||(n.default.removeEvent("keyup",document,this.addTabKeyDetection),n.default.removeEvent("blur",this.dom.container,this.removeFocusToContainer),n.default.removeEvent("keyup",this.dom.container,this.bindKeyboard),n.default.removeEvent("keydown",this.dom.container,n.default.preventKeyDown)),c.default.destroy.call(this),this.isHTML5)if(E.default.reset.call(this),this.getFullscreen()&&(this.proceedDestroy=!1,this.exitFSDestroy=function(){this.exitFSDestroy&&this.dom.container.removeEventListener("exitfullscreen",this.exitFSDestroy),this.proceedDestroy=!0}.bind(this),this.dom.container.addEventListener("exitfullscreen",this.exitFSDestroy),this.setFullscreen(!1)),this.proceedDestroy)r.call(this);else var e=setInterval(function(){t.proceedDestroy&&(n.default.clearInterval(e),r.call(t))},10);else i.call(this)}},i.default=s},{"../360/360":1,"../abr/hls":3,"../abr/shaka":4,"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/scheduler":10,"../analytics/analytics":11,"../analytics/logs":12,"../cast/airplay":20,"../cast/cast":21,"../core/dom":24,"../core/utils/error":42,"../core/utils/utils":44,"../core/utils/viewable":45,"../fw/env":50,"../fw/fw":51,"../vtt/captions":55,"../vtt/thumbnails":56}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=n(t("../fw/fw")),s=n(t("../fw/env")),r=n(t("../core/utils/error"));function n(t){return t&&t.__esModule?t:{default:t}}var o={},l=function(t,e){this.shakaOfflineDownloadProgress=e,a.default.createStdEvent("downloadprogress",this.dom.container)},d=function(t){var e=t.length;return 1===e?t[0]:t[Math.floor(e/2)]};o.init=function(){window.rmpStorage=new shaka.offline.Storage(this.shakaPlayer);var t={progressCallback:l.bind(this),usePersistentLicense:this.shakaUsePersistentLicense};-4!==this.shakaOfflinePreferredTrackQuality&&(t.trackSelectionCallback=function(t){var e=void 0,i=t.filter(function(t){return"variant"===t.type});if(0===i.length)return[t[0]];var a=this.shakaPlayer.getVariantTracks().find(function(t){return!0===t.active});if(!a)return[d(i)];var s=a.language,r=i.filter(function(t){return t.language===s}).sort(function(t,e){return t.bandwidth>e.bandwidth});if(0===r.length)return[d(i)];switch(this.shakaOfflinePreferredTrackQuality){case-3:e=r[r.length-1];break;case-2:e=r[0];break;case-1:e=d(r);break;default:e=0<=this.shakaOfflinePreferredTrackQuality&&r[this.shakaOfflinePreferredTrackQuality]?r[this.shakaOfflinePreferredTrackQuality]:d(r)}return[e]}.bind(this)),window.rmpStorage.configure(t)},o.attach=function(t){t.prototype.isOnline=function(){return s.default.isOnline()},t.prototype.hasDownloadSupport=function(){return!!("undefined"!=typeof shaka&&shaka.offline&&shaka.offline.Storage&&shaka.offline.Storage.support())},t.prototype.getDownloadedList=function(){return this.hasDownloadSupport()?this.shakaOfflineList:(r.default.warning.call(this,"offline storage is not supported in this environment",3007,null),null)},t.prototype.listDownloadedContent=function(){var e=this;this.hasDownloadSupport()?window.rmpStorage?window.rmpStorage.list().then(function(t){e.shakaOfflineList=t,a.default.createStdEvent("downloadlistavailable",e.dom.container)}).catch(function(t){r.default.warning.call(e,"could not list offline downloaded content",3003,t)}):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)},t.prototype.download=function(t){var e=this;if(this.hasDownloadSupport())if(window.rmpStorage){var i={};a.default.isObject(t)&&(i=t),this.shakaOfflineDownloadProgress=0,a.default.createStdEvent("downloadstarted",this.dom.container),window.rmpStorage.store(this.startingBitratePath,i).then(function(){l.call(e,null,1),a.default.createStdEvent("downloadcompleted",e.dom.container)}).catch(function(t){l.call(e,null,-1),r.default.warning.call(e,"could not download offline content",3002,t)})}else r.default.warning.call(this,"storage has not been initialized",3001,null);else r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)},t.prototype.getDownloadProgress=function(){return this.hasDownloadSupport()?this.shakaOfflineDownloadProgress:(r.default.warning.call(this,"offline storage is not supported in this environment",3007,null),-1)},t.prototype.loadDownload=function(t){this.hasDownloadSupport()?window.rmpStorage?t&&t.offlineUri?this.setSrc(t.offlineUri):r.default.warning.call(this,"could not load offline content - invalid input",3005,null):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)},t.prototype.removeDownload=function(t){var e=this;this.hasDownloadSupport()?window.rmpStorage?window.rmpStorage.remove(t.offlineUri).then(function(){a.default.createStdEvent("downloadremoved",e.dom.container)}).catch(function(t){r.default.warning.call(e,"could not remove offline downloaded content",3004,t)}):r.default.warning.call(this,"storage has not been initialized",3001,null):r.default.warning.call(this,"offline storage is not supported in this environment",3007,null)}},i.default=o},{"../core/utils/error":42,"../fw/env":50,"../fw/fw":51}],19:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=a(t("../fw/fw")),l=a(t("../abr/shaka")),d=a(t("../abr/hls")),h=a(t("../core/ui/core-ui")),c=a(t("../core/modules/modules")),u=a(t("../core/modules/quality")),f=a(t("../vtt/captions")),p=a(t("../ads/ima-ads")),m=a(t("../vtt/thumbnails")),v=a(t("../core/utils/error"));function a(t){return t&&t.__esModule?t:{default:t}}var s={};s.attach=function(t){var a=function(){this.changingSrc=!1,o.default.createStdEvent("srcchanged",this.dom.container)},s=function(){"ima"===this.adParser?(this.contentCompleteCalled=!1,this.getAdLinear()?(this.setSrcResetIMA=function(){this.dom.container.removeEventListener("adcontentresumerequested",this.setSrcResetIMA),p.default.resetAdsForNewRequest.call(this),this.setSrcAdReset=!0}.bind(this),this.dom.container.addEventListener("adcontentresumerequested",this.setSrcResetIMA),this.stopAds()):(p.default.resetAdsForNewRequest.call(this),this.setSrcAdReset=!0)):(this.rmpVast.setContentPlayerCompleted(!1),this.setSrcResetRmpVast=function(){this.dom.container.removeEventListener("addestroyed",this.setSrcResetRmpVast),this.setSrcAdReset=!0}.bind(this),this.dom.container.addEventListener("addestroyed",this.setSrcResetRmpVast),this.stopAds())},r=function(){this.dom.video.src=this.startingBitratePath;try{this.dom.video.load()}catch(t){o.default.trace(t)}},n=function(){var e=this;this.dom.container.addEventListener("loadedmetadata",this.afterSrcSwitch),this.dom.container.addEventListener("error",this.afterSrcSwitch),this.readingHlsJS?(d.default.destroy.call(this),d.default.init.call(this)):this.readingDash||this.readingHlsShaka?this.shakaPlayer?(l.default.destroy.call(this),this.shakaPlayer.destroy().then(function(){l.default.init.call(e)}).catch(function(t){o.default.trace(t),l.default.init.call(e)})):l.default.init.call(this):r.call(this)};t.prototype.setSrc=function(t){var e=this;if(this.get5Ready()&&!(this.video360||this.readingFps||this.readingOutstream))if(this.changingSrc)v.default.warning.call(this,"setSrc currently running - wait for completion before invoking",1005,null);else{this.changingSrc=!0;var i=function(t){var e=this.getStreamType(),i="",a=!1;if("string"==typeof t)a=!0;else if(!o.default.isObject(t))return i;switch(e){case"hlsHevc":a?i=t:t.hlsHevc&&(i=t.hlsHevc);break;case"hls":a?i=t:t.hls&&(i=t.hls);break;case"dash":a?i=t:t.dash&&(i=t.dash);break;case"mp4":a?i=t:t.mp4&&t.mp4[0]&&(i=t.mp4[0]);break;case"mp4Hevc":a?i=t:t.mp4Hevc&&t.mp4Hevc[0]&&(i=t.mp4Hevc[0]);break;case"webm":a?i=t:t.webm&&t.webm[0]&&(i=t.webm[0]);break;case"m4a":a?i=t:t.m4a&&(i=t.m4a);break;case"mp3":a?i=t:t.mp3&&(i=t.mp3);break;case"ogg":a?i=t:t.ogg&&(i=t.ogg)}return i}.call(this,t);if(""!==i){if(this.readingMse&&this.msePreloadRequested){if(!this.msePreloadCompleted)return void 0;this.msePreloadRequested=!1}if(this.castUrl=i,this.startingBitratePath=i,c.default.show.call(this),this.readingMp4&&o.default.isObject(t)&&(Array.isArray(t.webm)&&0<t.webm.length||Array.isArray(t.mp4)&&0<t.mp4.length)&&(Array.isArray(t.webm)&&this.readingWebM?this.src.mp4=t.webm:Array.isArray(t.mp4)&&(this.src.mp4=t.mp4),this.initialBitrate=o.default.filterInitialBitrate(this.initialBitrate,this.src.mp4),this.startingBitratePath=this.src.mp4[this.initialBitrate],this.castUrl=this.startingBitratePath),this.afterSrcSwitch?(this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch),this.dom.container.removeEventListener("error",this.afterSrcSwitch)):this.afterSrcSwitch=function(t){this.dom.container.removeEventListener("loadedmetadata",this.afterSrcSwitch),this.dom.container.removeEventListener("error",this.afterSrcSwitch),t&&t.type&&("loadedmetadata"===t.type?(this.srcChangeAutoplay?this.play():(h.default.showCentralPlay.call(this),this.showPoster()),this.googleCast&&this.castConnected&&this.loadCastMedia(),a.call(this)):"error"===t.type&&(this.changingSrc=!1))}.bind(this),function(){this.abrAutoMode||!this.readingMse&&!this.readingHls||(this.abrAutoMode=!0),this.readingMse||(this.dom.video.preload="auto"),this.analyticsSecondsPlayed=0}.call(this),function(){this.hasChapters&&(this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters),c.default.destroy.call(this,"chapters"),this.hasChapters=!1,this.chaptersArray=[]),this.hasThumbnails&&m.default.destroy.call(this);var t=this.dom.container.querySelector(".rmp-error");null!==t&&o.default.removeElement(t),h.default.enableCentralUI.call(this),h.default.showLoadingSpin.call(this),h.default.showChrome.call(this),c.default.closeAll.call(this),this.setSrcPDModule||(this.dom.quality&&u.default.destroy.call(this),this.dom.audio&&c.default.destroy.call(this,"audio"),this.dom.captions&&f.default.destroy.call(this),this.isVod&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&(this.dom.current.style.width=0,this.dom.handle.style.left=0,this.dom.timeElapsedText.textContent="00:00"),this.readingMp4&&1<this.src.mp4.length&&(u.default.setUpMP4UI.call(this),o.default.show(this.dom.quality)))}.call(this),this.getPlayerInitialized())this.getAdOnStage()?(s.call(this),o.default.clearInterval(this.setSrcResetAdInterval),this.setSrcResetAdInterval=setInterval(function(){e.setSrcAdReset&&(o.default.clearInterval(e.setSrcResetAdInterval),e.setSrcAdReset=!1,n.call(e))},10)):n.call(this);else{if(this.readingPDorNative)r.call(this),h.default.showCentralPlay.call(this);else if(this.readingHlsJS)this.msePreloadCompleted?(d.default.destroy.call(this),h.default.showCentralPlay.call(this),d.default.init.call(this),this.msePreloadRequested=!0):h.default.showCentralPlay.call(this);else if(this.readingDash||this.readingHlsShaka){if(this.msePreloadCompleted)return l.default.destroy.call(this),void this.shakaPlayer.destroy().then(function(){h.default.showCentralPlay.call(e),l.default.init.call(e),e.msePreloadRequested=!0,a.call(e)}).catch(function(t){o.default.trace(t),h.default.showCentralPlay.call(e),l.default.init.call(e),e.msePreloadRequested=!0,a.call(e)});h.default.showCentralPlay.call(this)}a.call(this)}}}},t.prototype.getSrc=function(){return this.startingBitratePath},t.prototype.isChangingSrc=function(){return this.changingSrc}},i.default=s},{"../abr/hls":3,"../abr/shaka":4,"../ads/ima-ads":7,"../core/modules/modules":29,"../core/modules/quality":30,"../core/ui/core-ui":40,"../core/utils/error":42,"../fw/fw":51,"../vtt/captions":55,"../vtt/thumbnails":56}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=r(t("../fw/fw")),s=r(t("../core/modules/modules"));function r(t){return t&&t.__esModule?t:{default:t}}var n={destroy:function(){this.dom.video&&this.dom.video.removeEventListener("webkitplaybacktargetavailabilitychanged",this.onAirPlayAvailabilityChanged),this.dom.airplay&&this.dom.airplay.removeEventListener("click",this.onAirPlayClick),this.dom.container&&this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay)}},o=function(t){if(t)switch(t.availability){case"available":0,this.dom.airplay||(s.default.append.call(this,"airplay"),this.onAirPlayClick=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault());try{this.dom.video.webkitShowPlaybackTargetPicker()}catch(t){a.default.trace(t)}}.bind(this),this.dom.airplay.addEventListener("click",this.onAirPlayClick),a.default.addClass(this.dom.container,"rmp-airplay-available")),this.hasLoadedMetadata?s.default.deferredShow.call(this,"airplay"):(this.onLoadedmetadataShowAirPlay=function(){this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay),s.default.deferredShow.call(this,"airplay")}.bind(this),this.dom.container.addEventListener("loadedmetadata",this.onLoadedmetadataShowAirPlay));break;default:a.default.hide(this.dom.airplay)}};n.init=function(){"undefined"!=typeof WebKitPlaybackTargetAvailabilityEvent&&(this.onAirPlayAvailabilityChanged=o.bind(this),this.dom.video.addEventListener("webkitplaybacktargetavailabilitychanged",this.onAirPlayAvailabilityChanged))},i.default=n},{"../core/modules/modules":29,"../fw/fw":51}],21:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=l(t("../fw/fw")),a=l(t("../fw/env")),s=l(t("../core/ui/core-ui")),c=l(t("../core/events")),r=l(t("../core/volume/volume")),n=l(t("../core/modules/modules")),o=l(t("../core/utils/error"));function l(t){return t&&t.__esModule?t:{default:t}}var u={},d=!1,f=void 0,p=!1,m="",v=!1,g="",y=h.default.nullFn,b=h.default.nullFn,S=h.default.nullFn,E=h.default.nullFn,A=h.default.nullFn,C=h.default.nullFn,k=h.default.nullFn,w=h.default.nullFn,P=h.default.nullFn,_=h.default.nullFn,L=h.default.nullFn,T=null,I=null,M=[],x=function(){this.setVolume(this.currentVolume),h.default.removeClass(this.dom.container,"rmp-casting"),h.default.hide(f)};u.destroy=function(){if(this.castConnected){x.call(this);try{I.endSession()}catch(t){h.default.trace(t)}}this.remotePlayerController&&(this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,y),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,b),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,S),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,E),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,A),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,_),this.isVod&&(this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,k),this.remotePlayerController.removeEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,w))),T&&(T.removeEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,L),T.removeEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,C)),this.dom.container&&(this.dom.container.removeEventListener("playing",P),this.dom.container.removeEventListener("ready",this.castReady),this.dom.container.removeEventListener("playing",this.onPlayingSetupRemotePlayer))},u.castingAPIAvailable=function(){return!!(this.googleCast&&this.castMediaLoaded&&this.remotePlayer&&this.remotePlayerController)},u.connectedAPIAvailable=function(){return!!(this.googleCast&&this.castConnected&&this.remotePlayer&&this.remotePlayerController)},u.setAudioTrack=function(t){if(this.castMediaLoaded&&this.castMedia&&0<M.length){var e=M.filter(function(t){return"AUDIO"===t.type});if(e[t]&&"number"==typeof e[t].trackId){var i=e[t].trackId;0;var a=new chrome.cast.media.EditTracksInfoRequest([i]);this.castMedia.editTracksInfo(a,h.default.log,h.default.trace)}}};u.setTextTrack=function(t){if(this.castMediaLoaded&&this.castMedia&&0<M.length){var e=M.filter(function(t){return"TEXT"===t.type});if(e[t]&&"number"==typeof e[t].trackId){var i=e[t].trackId,a=function(){var t=new chrome.cast.media.TextTrackStyle;return t.foregroundColor="#"+this.googleCastCCForegroundColor,t.backgroundColor="#"+this.googleCastCCBackgroundColor,t.fontScale=this.googleCastCCFontScale,t}.call(this);0;var s=new chrome.cast.media.EditTracksInfoRequest([i],a);this.castMedia.editTracksInfo(s,h.default.log,h.default.trace)}}},u.getDuration=function(){var t=void 0;return this.remotePlayer.duration?t=this.remotePlayer.duration:this.remotePlayer.mediaInfo&&this.remotePlayer.mediaInfo.duration&&(t=this.remotePlayer.mediaInfo.duration),t?Math.round(1e3*t):-1},u.getCurrentTime=function(){return"number"==typeof this.remotePlayer.currentTime&&0<=this.remotePlayer.currentTime?Math.round(1e3*this.remotePlayer.currentTime):-1};var R=function(){var t=void 0;this.remotePlayer&&("LOADING"===this.remotePlayerState||"BUFFERING"===this.remotePlayerState?s.default.showLoadingSpin.call(this):"LOADED"!==this.remotePlayerState&&"ENDED"!==this.remotePlayerState&&"IDLE"!==this.remotePlayerState&&"PLAYING"!==this.remotePlayerState&&"PAUSED"!==this.remotePlayerState||s.default.hideLoadingSpin.call(this),t=this.remotePlayerState),t||(t="STANDBY"),f||(f=document.createElement("div"),h.default.hide(f),h.default.setClass(f,"rmp-cast-diplay-message"),this.dom.container.appendChild(f)),h.default.show(f);var e=g+" "+t;I&&(e+=" on "+I.getCastDevice().friendlyName),h.default.setText(f,e)},D=function(){(function(){this.getAdOnStage()&&this.stopAds(),h.default.addClass(this.dom.container,"rmp-casting")}).call(this),(I=T.getCurrentSession())&&(this.castConnected=!0,d?(this.castMedia=I.getMediaSession(),this.castMedia?(this.pause(),this.castMediaLoaded=!0):this.loadCastMedia()):this.loadCastMedia(),d=!1)},O=function(){this.remotePlayer.isConnected?this.getPlayerInitialized()?D.call(this):(this.initiatePlayback(),this.onPlayingSetupRemotePlayer=function(){this.dom.container.removeEventListener("playing",this.onPlayingSetupRemotePlayer),D.call(this)}.bind(this),this.dom.container.addEventListener("playing",this.onPlayingSetupRemotePlayer)):function(){if(this.remotePlayerState="",this.castMediaLoaded=!1,this.castConnected=!1,I.endSession(),x.call(this),!p&&(this.remotePlayer.savedPlayerState.isPaused||this.play(),this.isVod&&this.remotePlayer&&this.remotePlayer.savedPlayerState&&this.remotePlayer.savedPlayerState.currentTime)){var t=this.remotePlayer.savedPlayerState.currentTime;h.default.isNumber(t)&&0<=t&&this.seekTo(1e3*t)}}.call(this)},j=function(){h.default.addClass(this.dom.container,"rmp-cast-available"),n.default.append.call(this,"cast"),h.default.addEvent(["touchend","click"],this.dom.cast,function(t){t&&t.stopPropagation(),s.default.showChrome.call(this)}.bind(this)),n.default.deferredShow.call(this,"cast"),a.default.isMobile&&!this.getPlayerInitialized()&&(P=function(){this.dom.container.removeEventListener("playing",P),n.default.deferredShow.call(this,"cast")}.bind(this),h.default.hide(this.dom.cast),this.dom.container.addEventListener("playing",P)),this.readingDash?m="application/dash+xml":this.readingHls||this.readingHlsJS||this.readingHlsShaka?m="application/vnd.apple.mpegurl":this.readingMp4&&!this.readingWebM?m="video/mp4":this.readingMp4&&this.readingWebM?m="video/webm":this.audioOnly&&this.readingM4a?m="audio/mp4":this.audioOnly&&this.readingMp3?m="audio/mp3":this.audioOnly&&this.readingOgg&&(m="audio/ogg"),this.castUrl=this.startingBitratePath,this.loadCastMedia=function(){var d=this;p=!1,this.pause();var t=new chrome.cast.media.MediaInfo(this.castUrl,m);t.metadata=new chrome.cast.media.GenericMediaMetadata,"MOVIE"===this.googleCastMetadataType||"TV_SHOW"===this.googleCastMetadataType?t.metadata.metadataType=this.googleCastMetadataType:t.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,g=""===this.googleCastContentTitle?this.contentTitle:this.googleCastContentTitle,t.metadata.title=g;var e=void 0;if(this.googleCastPoster?e=this.googleCastPoster:this.poster&&(e=this.poster),t.metadata.images=[{url:e}],""!==this.googleCastReleaseDate&&(t.metadata.subtitle=this.googleCastReleaseDate),this.isVod?t.streamType=chrome.cast.media.StreamType.BUFFERED:t.streamType=chrome.cast.media.StreamType.LIVE,t.customData={},this.hasCC){for(var i=[],a=0,s=this.ccFiles.length;a<s;a++)i[a]=new chrome.cast.media.Track(a+1,chrome.cast.media.TrackType.TEXT),i[a].trackContentId=this.ccFiles[a][2],i[a].trackContentType="text/vtt",i[a].subtype=chrome.cast.media.TextTrackType.SUBTITLES,i[a].name=this.ccFiles[a][1],i[a].language=this.ccFiles[a][0],i[a].customData=null;t.streamType=chrome.cast.media.StreamType.BUFFERED,t.textTrackStyle=new chrome.cast.media.TextTrackStyle,t.textTrackStyle.foregroundColor="#"+this.googleCastCCForegroundColor,t.textTrackStyle.backgroundColor="#"+this.googleCastCCBackgroundColor,t.textTrackStyle.fontScale=this.googleCastCCFontScale,t.duration=null,t.tracks=i}this.remotePlayerState="LOADING",R.call(this);var r=new chrome.cast.media.LoadRequest(t);this.hasCC&&0<this.defaultTrack&&(r.activeTrackIds=[this.defaultTrack]),I.loadMedia(r).then(function(){d.remotePlayerState="LOADED",R.call(d);var t=d.getCurrentTime();if(d.isVod&&0<t&&(d.remotePlayer.currentTime=t/1e3,d.remotePlayerController.seek()),c.default.play.call(d),d.castMedia=I.getMediaSession(),M=d.castMedia.media.tracks,d.castMediaLoaded=!0,d.dom.captions&&d.dom.captionsOverlayLevelsArea){for(var e=d.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),i=0,a=0,s=e.length;a<s;a++)if(h.default.hasClass(e[a],"rmp-overlay-level-active")){i=a;break}0<i&&u.setTextTrack.call(d,i-1)}if(d.dom.audio&&d.dom.audioOverlayLevelsArea){for(var r=d.dom.audioOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),n=0,o=0,l=r.length;o<l;o++)if(h.default.hasClass(r[o],"rmp-overlay-level-active")){n=o;break}0<n&&u.setAudioTrack.call(d,n)}h.default.createStdEvent("castmedialoaded",d.dom.container)}).catch(function(t){d.castMediaLoaded=!1,d.castConnected=!1,p=!0,x.call(d),I.endSession(),h.default.createStdEvent("castmediaerror",d.dom.container);var e=null;t&&(e=t),o.default.warning.call(d,"castSession.loadMedia failed on receiving device",7001,e)})}.bind(this),y=function(){if(this.remotePlayer&&this.remotePlayer.playerState){switch(this.remotePlayer.playerState){case"BUFFERING":this.remotePlayerState="BUFFERING",h.default.createStdEvent("waiting",this.dom.container);break;case"PLAYING":this.remotePlayerState="PLAYING",h.default.createStdEvent("playing",this.dom.container);break;case"IDLE":this.remotePlayerState="IDLE";break;case"PAUSED":this.remotePlayerState="PAUSED"}R.call(this)}}.bind(this),b=O.bind(this),S=function(){this.remotePlayer&&(r.default.change.call(this),h.default.createStdEvent("volumechange",this.dom.container))}.bind(this),E=function(){}.bind(this),A=function(){this.remotePlayer&&(this.remotePlayer.isPaused?c.default.pause.call(this):c.default.play.call(this))}.bind(this),this.isVod&&(k=function(){c.default.timeupdate.call(this)}.bind(this),w=function(){(this.remotePlayer.duration||this.remotePlayer.mediaInfo&&this.remotePlayer.mediaInfo.duration)&&c.default.durationchange.call(this)}.bind(this)),_=function(){r.default.change.call(this),h.default.createStdEvent("volumechange",this.dom.container)}.bind(this),function(){var t=this;this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,b),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,function(){t.isVod&&!t.remotePlayer.isMediaLoaded&&t.castMediaLoaded&&(t.castMediaLoaded=!1,t.remotePlayerState="ENDED",R.call(t),c.default.pause.call(t),t.seekTo(0),h.default.createStdEvent("ended",t.dom.container))}),this.isVod&&(this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,k),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,w)),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,A),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,S),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,E),this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,y)}.call(this)};C=function(t){if(t)switch(t.sessionState){case cast.framework.SessionState.NO_SESSION:case cast.framework.SessionState.SESSION_STARTING:case cast.framework.SessionState.SESSION_STARTED:case cast.framework.SessionState.SESSION_START_FAILED:case cast.framework.SessionState.SESSION_ENDING:case cast.framework.SessionState.SESSION_ENDED:0;break;case cast.framework.SessionState.SESSION_RESUMED:0,d=!0}};var V=function(){if(this.dom.container.removeEventListener("adcontentresumerequested",this.castInit),"undefined"!=typeof cast&&void 0!==cast.framework&&void 0!==cast.framework.CastContext&&(h.default.createStdEvent("castapiavailable",this.dom.container),T=cast.framework.CastContext.getInstance())){var t=this.googleCastReceiverAppId;"cast-default"===t&&(t=chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID),T.setOptions({receiverApplicationId:t,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),L=function(t){if(t)switch(t.castState){case cast.framework.CastState.NO_DEVICES_AVAILABLE:break;case cast.framework.CastState.NOT_CONNECTED:case cast.framework.CastState.CONNECTED:v||(v=!0,j.call(this));break;case cast.framework.CastState.CONNECTING:}}.bind(this),T.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,L),T.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,C);var e=T.getCastState();0,e!==cast.framework.CastState.NO_DEVICES_AVAILABLE&&(v=!0,j.call(this))}};u.ready=function(){if(this.dom.container.removeEventListener("ready",this.castReady),this.googleCast)if(chrome.cast&&chrome.cast.isAvailable)V.call(this);else{window.__onGCastApiAvailable=function(t){t&&chrome.cast&&(this.castInit=V.bind(this),this.getAdOnStage()&&this.getAdLinear()?this.dom.container.addEventListener("adcontentresumerequested",this.castInit):this.castInit(),delete window.__onGCastApiAvailable)}.bind(this),h.default.getScript("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",function(){},o.default.warning.bind(this,"failed to load cast_sender.js dependency",7e3,null))}},i.default=u},{"../core/events":26,"../core/modules/modules":29,"../core/ui/core-ui":40,"../core/utils/error":42,"../core/volume/volume":46,"../fw/env":50,"../fw/fw":51}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a(t("../../fw/fw")),l=a(t("../ui/core-ui")),d=a(t("../resize/resize")),h=a(t("../../cast/cast")),c=a(t("../volume/volume"));function a(t){return t&&t.__esModule?t:{default:t}}var r={},n=function(t){t&&(t.id===this.id?s.default.addClass(t,"rmp-container-focus"):s.default.addClass(t,"rmp-focus"))},o=function(t){t&&(t.id===this.id?s.default.removeClass(t,"rmp-container-focus"):s.default.removeClass(t,"rmp-focus"))};r.makeAccessible=function(i,t,e){var a=this;i&&(i.tabIndex=0,i===this.dom.seekBar?i.setAttribute("role","progressbar"):i.setAttribute("role","button"),t&&i.setAttribute("aria-label",t),e&&i.addEventListener("keyup",function(t){var e=t.which;13!==e&&32!==e||(t.stopPropagation(),t.preventDefault(),s.default.createStdEvent("click",i))}),i.addEventListener("blur",function(){o.call(a,i)}))};r.init=function(){this.dom.container.setAttribute("tabindex","0"),this.dom.container.setAttribute("role","application");var t="Media content";""!==this.contentTitle&&(t=this.contentTitle),this.dom.container.setAttribute("aria-label",t),""!==this.contentDescription&&this.dom.container.setAttribute("aria-describedby","media-description-for-"+this.id),this.disableKeyboardControl||(this.addTabKeyDetection=function(t){if(t&&9===t.which){var e=document.activeElement;o.call(this,this.dom.container),o.call(this,this.dom.playPause),o.call(this,this.dom.volume),o.call(this,this.dom.seekBar),o.call(this,this.dom.fullscreen),this.dom.container&&e===this.dom.container?n.call(this,this.dom.container):this.dom.playPause&&e===this.dom.playPause?n.call(this,this.dom.playPause):this.dom.volume&&e===this.dom.volume?n.call(this,this.dom.volume):this.dom.seekBar&&e===this.dom.seekBar?n.call(this,this.dom.seekBar):this.dom.fullscreen&&e===this.dom.fullscreen?n.call(this,this.dom.fullscreen):this.dom.adSkipButton&&e===this.dom.adSkipButton&&n.call(this,this.dom.adSkipButton)}}.bind(this),document.addEventListener("keyup",this.addTabKeyDetection),this.removeFocusToContainer=o.bind(this,this.dom.container),this.dom.container.addEventListener("blur",this.removeFocusToContainer),this.bindKeyboard=function(t){var e=this.getCurrentTime(),i=this.getVolume();l.default.showChrome.call(this);var a=void 0,s=void 0;switch(t.which){case 32:t.preventDefault(),(this.getAdOnStage()&&this.getAdLinear()?this.getAdPaused():this.getPaused())?this.play():this.pause();break;case 70:t.preventDefault(),this.hideFullscreen||this.castConnected||this.audioOnly||d.default.fullscreenInteraction.call(this);break;case 37:if(t.preventDefault(),this.hasAdUI)break;if(this.isVod&&!this.hideSeekBar&&-1<e){var r=e-1e4;h.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=r/1e3,this.remotePlayerController.seek()):this.seekTo(r)}break;case 39:if(t.preventDefault(),this.hasAdUI)break;if(this.isVod&&!this.hideSeekBar&&-1<e){var n=e+1e4;h.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=n/1e3,this.remotePlayerController.seek()):this.seekTo(n)}break;case 38:t.preventDefault(),a=i<=.9?i+.1:1,h.default.castingAPIAvailable.call(this)?(this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),this.remotePlayer.volumeLevel=a,this.remotePlayerController.setVolumeLevel()):(this.getMute()&&this.setMute(!1),this.setVolume(a),this.currentVolume=this.getVolume()),c.default.writeToLocalStorage.call(this,this.currentVolume);break;case 40:t.preventDefault(),s=.1<i?i-.1:0,h.default.castingAPIAvailable.call(this)?(this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),this.remotePlayer.volumeLevel=s,this.remotePlayerController.setVolumeLevel()):(this.getMute()&&this.setMute(!1),this.setVolume(s),this.currentVolume=this.getVolume()),c.default.writeToLocalStorage.call(this,this.currentVolume);break;case 77:if(t.preventDefault(),h.default.castingAPIAvailable.call(this))this.remotePlayerController.muteOrUnmute();else{var o=0;this.getMute()?(this.setMute(!1),o=this.getVolume()):this.setMute(!0),c.default.writeToLocalStorage.call(this,o)}}}.bind(this),this.dom.container.addEventListener("keyup",this.bindKeyboard),this.dom.container.addEventListener("keydown",s.default.preventKeyDown)),this.dom.video.setAttribute("tabindex","-1")},i.default=r},{"../../cast/cast":21,"../../fw/fw":51,"../resize/resize":35,"../ui/core-ui":40,"../volume/volume":46}],23:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=n(t("../../fw/fw")),s=n(t("../../fw/env")),r=n(t("../ui/core-ui"));function n(t){return t&&t.__esModule?t:{default:t}}var o={};o.init=function(){var t=document.createElement("div");a.default.setClass(t,"rmp-i rmp-i-minus"),this.dom.outline.appendChild(t),a.default.addEvent(["click","touchend"],t,function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),r.default.showChrome.call(this),this.currentVolume=this.getVolume(),this.currentVolume<=0||(this.currentVolume<=1&&0<this.currentVolume&&(this.currentVolume=this.currentVolume-.1,this.currentVolume<0&&(this.currentVolume=0)),this.setVolume(this.currentVolume))}.bind(this));var e=document.createElement("div");a.default.setClass(e,"rmp-i rmp-i-plus"),this.dom.outline.appendChild(e),a.default.addEvent(["click","touchend"],e,function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),r.default.showChrome.call(this),this.currentVolume=this.getVolume(),1<=this.currentVolume||(this.currentVolume<1&&0<=this.currentVolume&&(this.currentVolume+=.1,1<this.currentVolume&&(this.currentVolume=1)),this.setVolume(this.currentVolume))}.bind(this)),s.default.isIos[0]&&a.default.hide([t,e])},i.default=o},{"../../fw/env":50,"../../fw/fw":51,"../ui/core-ui":40}],24:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=w(t("../fw/fw")),s=w(t("../fw/env")),n=w(t("../vtt/thumbnails")),o=w(t("./modules/chapters")),l=w(t("./playback")),d=w(t("./ready")),h=w(t("./audio-only/audio-only")),c=w(t("./events")),u=w(t("./seek/seek")),f=w(t("./modules/quality")),p=w(t("./modules/speed")),m=w(t("./modules/sharing")),v=w(t("./volume/volume")),g=w(t("../ads/scheduler")),y=w(t("./resize/resize")),b=w(t("./accessible/accessible")),S=w(t("./ui/indicator")),E=w(t("./ui/core-ui")),A=w(t("./utils/error")),C=w(t("./dvr/dvr")),a=w(t("../abr/hls")),k=w(t("../abr/shaka"));function w(t){return t&&t.__esModule?t:{default:t}}var P={destroyVideo:function(){this.dom.video&&(this.dom.video.removeEventListener("loadstart",this.loadstartFn),this.dom.video.removeEventListener("durationchange",this.durationchangeFn),this.dom.video.removeEventListener("loadedmetadata",this.loadedmetadataFn),this.dom.video.removeEventListener("loadeddata",this.loadeddataFn),this.dom.video.removeEventListener("progress",this.progressFn),this.dom.video.removeEventListener("playing",this.playingFn),this.dom.video.removeEventListener("waiting",this.waitingFn),this.dom.video.removeEventListener("seeking",this.seekingFn),this.dom.video.removeEventListener("seeked",this.seekedFn),this.dom.video.removeEventListener("pause",this.pauseFn),this.dom.video.removeEventListener("play",this.playFn),this.dom.video.removeEventListener("timeupdate",this.timeupdateFn),this.dom.video.removeEventListener("webkitbeginfullscreen",this.webkitbeginfullscreenFn),this.dom.video.removeEventListener("webkitendfullscreen",this.webkitendfullscreenFn),this.dom.video.removeEventListener("volumechange",this.volumechangeFn))}},_=function(){this.dom.centralMobileUI=document.createElement("div"),this.dom.centralMobileUI.className="rmp-mobile-central-ui rmp-mobile-show-play rmp-color-bg",this.dom.centralMobileUIIcon=document.createElement("span"),this.dom.centralMobileUIIcon.className="rmp-i rmp-i-play",this.dom.centralMobileUI.appendChild(this.dom.centralMobileUIIcon),this.dom.container.appendChild(this.dom.centralMobileUI),this.onMobileStartAutoHideCentralUI=function(){this.dom.container.removeEventListener("playing",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("adloaded",this.onMobileStartAutoHideCentralUI),this.dom.container.removeEventListener("aderror",this.onMobileStartAutoHideCentralUI),r.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play")}.bind(this),this.dom.container.addEventListener("playing",this.onMobileStartAutoHideCentralUI),this.dom.container.addEventListener("adloaded",this.onMobileStartAutoHideCentralUI),this.dom.container.addEventListener("aderror",this.onMobileStartAutoHideCentralUI)};P.prepare=function(){(this.readingDash||this.readingHlsJS||this.readingHlsShaka)&&(this.readingMse=!0),(this.readingMse||this.readingOutstream)&&(this.readingPDorNative=!1),this.readingMse&&s.default.isMacosSafari[0]&&this.ads&&"rmp-vast"===this.adParser&&(this.ads=!1),s.default.isMobile&&(r.default.addClass(this.dom.container,"rmp-hide-central-play"),_.call(this)),function(){if(this.dom.loadingSpin=document.createElement("div"),this.dom.loadingSpin.className="rmp-loading-spin rmp-color-bg","s1"===this.skin||"s3"===this.skin){var t=document.createElement("div");t.className="rmp-loading-spin-bounce rmpBounce1 rmp-color-bg-button";var e=document.createElement("div");e.className="rmp-loading-spin-bounce rmpBounce2 rmp-color-bg-button",this.dom.loadingSpin.appendChild(t),this.dom.loadingSpin.appendChild(e)}else{var i=document.createElement("div");i.className="rmp-loading-spin-circle";for(var a=1;a<13;a++){var s=document.createElement("div");s.className="rmp-circle rmp-circle-"+a,i.appendChild(s)}this.dom.loadingSpin.appendChild(i)}this.dom.container.appendChild(this.dom.loadingSpin),r.default.hideAria(this.dom.loadingSpin)}.call(this),function(){this.dom.overlayButton=document.createElement("div"),this.dom.overlayButton.className="rmp-overlay-button rmp-color-bg",this.dom.overlayButtonIcon=document.createElement("span"),this.dom.overlayButtonIcon.className="rmp-i rmp-i-play",this.dom.overlayButton.appendChild(this.dom.overlayButtonIcon),this.dom.container.appendChild(this.dom.overlayButton),r.default.hideAria(this.dom.overlayButton)}.call(this),this.hideControls&&E.default.protoHideControls.call(this),this.hideCentralPlayButton&&r.default.addClass(this.dom.container,"rmp-hide-central-play"),this.hideCentralBuffering&&r.default.addClass(this.dom.container,"rmp-hide-central-buffering"),this.hideExternalPlayerLabels&&r.default.addClass(this.dom.container,"rmp-no-hint"),this.dom.video.controls=!1,this.loop&&(this.dom.video.loop="loop"),""!==this.crossorigin&&this.dom.video.setAttribute("crossorigin",this.crossorigin),this.dom.video.setAttribute("x-webkit-airplay","allow"),this.audioOnly||("boolean"==typeof this.dom.video.playsInline?s.default.isIpad&&this.ads&&"ima"===this.adParser||this.dom.video.setAttribute("playsinline",!0):s.default.isMobile&&this.dom.video.setAttribute("webkit-playsinline",!0)),s.default.isAndroidWebView&&(this.dom.video.poster=r.default.blackFrame),this.readingPDorNative?this.dom.video.preload=this.preload:"none"!==this.preload&&(this.readingHlsJS?(a.default.init.call(this),this.msePreloadRequested=!0):(this.readingDash||this.readingHlsShaka)&&(k.default.init.call(this),this.msePreloadRequested=!0)),this.dom.video.defaultPlaybackRate=1,this.useVideoTitle&&this.dom.video.setAttribute("title",this.videoTitle),this.loadstartFn=c.default.loadstart.bind(this),this.dom.video.addEventListener("loadstart",this.loadstartFn),this.durationchangeFn=c.default.durationchange.bind(this),this.dom.video.addEventListener("durationchange",this.durationchangeFn),this.loadedmetadataFn=c.default.loadedmetadata.bind(this),this.dom.video.addEventListener("loadedmetadata",this.loadedmetadataFn),this.loadeddataFn=c.default.loadeddata.bind(this),this.dom.video.addEventListener("loadeddata",this.loadeddataFn),this.progressFn=c.default.progress.bind(this),this.dom.video.addEventListener("progress",this.progressFn),this.playingFn=c.default.playing.bind(this),this.dom.video.addEventListener("playing",this.playingFn),this.waitingFn=c.default.waiting.bind(this),this.unstalledBuffer=function(){this.dom.container.removeEventListener("playing",this.unstalledBuffer),E.default.hideLoadingSpin.call(this),r.default.createStdEvent("buffernotstalledanymore",this.dom.container)}.bind(this),this.dom.video.addEventListener("waiting",this.waitingFn),this.seekingFn=c.default.seeking.bind(this),this.dom.video.addEventListener("seeking",this.seekingFn),this.seekedFn=c.default.seeked.bind(this),this.dom.video.addEventListener("seeked",this.seekedFn),this.isVod&&(this.ended=c.default.ended.bind(this),this.dom.video.addEventListener("ended",this.ended)),c.default.auxiliaryEvents.call(this),this.dom.content=document.createElement("div"),r.default.addClass(this.dom.content,"rmp-content"),r.default.hideAria(this.dom.content),this.dom.content.appendChild(this.dom.video),this.dom.container.insertBefore(this.dom.content,this.dom.container.firstChild),""!==this.contentDescription&&(this.dom.contentDescription=document.createElement("label"),r.default.hide(this.dom.contentDescription),r.default.setText(this.dom.contentDescription,this.contentDescription),this.dom.contentDescription.id="media-description-for-"+this.id,this.dom.content.appendChild(this.dom.contentDescription)),r.default.createStdEvent("htmlmediaelementappendedtodom",this.dom.container)};var L=function(){this.dom.container.removeEventListener("adloaded",this.onIosStartShowFS),this.dom.container.removeEventListener("aderror",this.onIosStartShowFS),this.dom.container.removeEventListener("playing",this.onIosStartShowFS),r.default.removeClass(this.dom.fullscreen,"rmp-no-display"),"ima"===this.adParser&&s.default.isIphone&&this.adDisableCustomPlaybackForIOS10Plus&&(this.onIphone10PlusHideFS=function(t){t&&("adcontentpauserequested"===t.type?r.default.addClass(this.dom.fullscreen,"rmp-no-display"):"adcontentresumerequested"===t.type&&r.default.removeClass(this.dom.fullscreen,"rmp-no-display"))}.bind(this),this.dom.container.addEventListener("adcontentpauserequested",this.onIphone10PlusHideFS),this.dom.container.addEventListener("adcontentresumerequested",this.onIphone10PlusHideFS))};P.append=function(){var e=this;r.default.addClass(this.dom.container,"rmp-preparing"),this.dom.container.addEventListener("contextmenu",r.default.contextMenuInteraction),this.readingPDorNative&&(this.generateError=A.default.mediaTag.bind(this),this.dom.video.addEventListener("error",this.generateError,!0));var t="";if(t+='<div class="rmp-outline rmp-color-bg rmp-force-invisibility"><div class="rmp-play-pause rmp-i rmp-i-play"></div><div class="rmp-time-elapsed rmp-color-bg"><span class="rmp-time-elapsed-text"></span></div>',t+='<div class="rmp-seek-bar"><div class="rmp-time-total"><div class="rmp-loaded"></div><div class="rmp-current rmp-color-bg-button"></div>',s.default.isMobile||this.isLive||(t+='<div class="rmp-indicator rmp-color-bg"><span class="rmp-time-indicator"></span></div>'),t+='<div class="rmp-handle rmp-color-bg-button"></div></div></div> <div class="rmp-duration rmp-color-bg"></div>',t+='<div class="rmp-volume rmp-i rmp-i-volume-up"><div class="rmp-background-volume rmp-color-bg"><div class="rmp-volume-bar"></div><div class="rmp-current-volume rmp-color-bg-button"><div class="rmp-handle-volume rmp-color-bg-button"></div></div></div></div><div class="rmp-fullscreen rmp-i rmp-i-resize-full"></div></div>',this.dom.container.insertAdjacentHTML("beforeend",t),this.ads&&"ima"===this.adParser&&!this.adImaDai){this.dom.video.parentNode.insertAdjacentHTML("afterend",'<div class="rmp-ad-container"></div>'),this.dom.adContainer=this.dom.container.getElementsByClassName("rmp-ad-container")[0]}this.dom.outline=this.dom.container.getElementsByClassName("rmp-outline")[0],(this.readingMse&&this.msePreloadRequested||this.readingPDorNative&&"none"!==this.preload)&&r.default.removeClass(this.dom.outline,"rmp-force-invisibility"),this.dom.playPause=this.dom.container.getElementsByClassName("rmp-play-pause")[0],b.default.makeAccessible.call(this,this.dom.playPause,"Play",!1),this.dom.volume=this.dom.container.getElementsByClassName("rmp-volume")[0],b.default.makeAccessible.call(this,this.dom.volume,"Volume",!0),this.dom.fullscreen=this.dom.container.getElementsByClassName("rmp-fullscreen")[0],this.hideFullscreen&&r.default.addClass(this.dom.fullscreen,"rmp-no-display"),s.default.isIos[0]&&this.ads&&!this.hideFullscreen&&(r.default.addClass(this.dom.fullscreen,"rmp-no-display"),this.onIosStartShowFS=L.bind(this),this.dom.container.addEventListener("adloaded",this.onIosStartShowFS),this.dom.container.addEventListener("aderror",this.onIosStartShowFS),this.dom.container.addEventListener("playing",this.onIosStartShowFS)),this.dom.timeElapsed=this.dom.container.getElementsByClassName("rmp-time-elapsed")[0],this.dom.timeElapsedText=this.dom.container.getElementsByClassName("rmp-time-elapsed-text")[0],this.isLiveDvr&&r.default.addEvent(["touchend","click"],this.dom.timeElapsed,C.default.setLiveMode.bind(this)),r.default.hideAria(this.dom.timeElapsed),this.dom.seekBar=this.dom.container.getElementsByClassName("rmp-seek-bar")[0],this.hideSeekBar&&r.default.addClass(this.dom.seekBar,"rmp-no-display"),b.default.makeAccessible.call(this,this.dom.seekBar,"Seek",!1),this.dom.duration=this.dom.container.getElementsByClassName("rmp-duration")[0],r.default.hideAria(this.dom.duration),this.pauseFn=c.default.pause.bind(this),this.dom.video.addEventListener("pause",this.pauseFn),this.playFn=c.default.play.bind(this),this.dom.video.addEventListener("play",this.playFn),this.isLive||(this.dom.current=this.dom.container.getElementsByClassName("rmp-current")[0],this.dom.handle=this.dom.container.getElementsByClassName("rmp-handle")[0],this.dom.timetotal=this.dom.container.getElementsByClassName("rmp-time-total")[0],this.dom.seekBar.addEventListener("touchend",u.default.touchend.bind(this)),this.dom.seekBar.addEventListener("touchmove",u.default.touchmove.bind(this),!!s.default.hasPassiveEventListeners&&{passive:!0}),this.mouseupDoc=u.default.mouseupDoc.bind(this),this.mousemoveDoc=u.default.mousemoveDoc.bind(this),this.dom.timetotal.addEventListener("mousedown",function(t){t&&t.stopPropagation(),e.draggingTimeCursor=!0,document.addEventListener("mouseup",e.mouseupDoc),document.addEventListener("mousemove",e.mousemoveDoc)})),this.timeupdateFn=c.default.timeupdate.bind(this),this.dom.video.addEventListener("timeupdate",this.timeupdateFn),this.dom.currentVolume=this.dom.container.getElementsByClassName("rmp-current-volume")[0];var i=this.dom.container.querySelector(".rmp-background-volume");this.dom.volumeBar=this.dom.container.getElementsByClassName("rmp-volume-bar")[0],r.default.addEvent(["touchend","click"],this.dom.volume,v.default.volumeInteraction.bind(this)),this.volumechangeFn=v.default.change.bind(this),this.dom.video.addEventListener("volumechange",this.volumechangeFn);var a=!0;(this.permanentMuted||s.default.isMobile||this.adOutStreamSkin)&&(a=!1),a&&(this.dom.volume.addEventListener("mouseenter",function(t){t&&t.stopPropagation(),r.default.fadeIn(i)}),this.dom.volume.addEventListener("mouseleave",function(t){t&&t.stopPropagation(),r.default.fadeOut(i)})),i.addEventListener("click",v.default.setHtml5Volume.bind(this)),this.readingMp4&&1<this.src.mp4.length&&f.default.setUpMP4UI.call(this),this.nav&&p.default.init.call(this),this.sharing&&this.sharingUrl&&m.default.init.call(this),this.hasNativeFullscreenSupport?(s.default.isIos[0]?(this.webkitbeginfullscreenFn=y.default.webkitbeginfullscreen.bind(this),this.dom.video.addEventListener("webkitbeginfullscreen",this.webkitbeginfullscreenFn),this.webkitendfullscreenFn=y.default.webkitendfullscreen.bind(this),this.dom.video.addEventListener("webkitendfullscreen",this.webkitendfullscreenFn)):(this.fullscreenchange=y.default.fullscreenchange.bind(this),document.addEventListener("fullscreenchange",this.fullscreenchange),this.fullscreenerror=y.default.fullscreenerror.bind(this),document.addEventListener("fullscreenerror",this.fullscreenerror)),r.default.addEvent(["touchend","click"],this.dom.fullscreen,y.default.fullscreenButtonInteraction.bind(this))):this.fullWindowMode&&r.default.addEvent(["touchend","click"],this.dom.fullscreen,y.default.fullscreenButtonInteraction.bind(this)),b.default.makeAccessible.call(this,this.dom.fullscreen,"Enter fullscreen",!0),s.default.isMobile||this.isLive||(this.dom.indicator=this.dom.container.getElementsByClassName("rmp-indicator")[0],S.default.init.call(this)),this.showChrome=E.default.showChrome.bind(this),this.dom.container.addEventListener("mousemove",this.showChrome),this.initiatePlayback=l.default.init.bind(this),r.default.addEvent(["touchend","click"],this.dom.playPause,this.initiatePlayback),r.default.addEvent(["touchend","click"],this.dom.overlayButton,this.initiatePlayback),s.default.isMobile&&r.default.addEvent(["touchend","click"],this.dom.centralMobileUI,this.initiatePlayback),this.containerTouch=function(t){t&&t.stopPropagation(),this.touchRmp=!0,E.default.showChrome.call(this)}.bind(this),r.default.addEvent("touchend",this.dom.container,this.containerTouch),this.containerClick=function(t){if(this.get5Ready()&&!this.touchRmp){if(t&&t.stopPropagation(),this.getAdOnStage()&&this.getAdLinear())return;if(this.video360&&!this.firstPlay)return;this.initiatePlayback()}}.bind(this),r.default.addEvent("click",this.dom.container,this.containerClick),r.default.addEvent(["touchend","click"],this.dom.outline,function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),E.default.showChrome.call(this)}.bind(this)),s.default.isMobile||(this.dom.outline.addEventListener("mouseenter",function(t){t&&t.stopPropagation(),e.forceResetTimer=!0}),this.dom.outline.addEventListener("mouseleave",function(t){t&&t.stopPropagation(),e.forceResetTimer=!1})),this.audioOnly&&h.default.init.call(this),this.ads&&this.adScheduleInput&&g.default.init.call(this),this.isVod&&(""!==this.chaptersLoc&&o.default.init.call(this),""!==this.seekBarThumbnailsLoc&&r.default.cssPropertySupport("backgroundImage")&&r.default.cssPropertySupport("backgroundPosition")?n.default.init.call(this):this.seekBarThumbnailsLoc="",0<this.quickRewind&&function(){r.default.addClass(this.dom.container,"rmp-quick-rewind-ui"),this.dom.quickRewind=document.createElement("div");var t="5";7.5<this.quickRewind&&this.quickRewind<20?t="10":20<this.quickRewind&&(t="30"),this.dom.quickRewind.className="rmp-quick-rewind rmp-i rmp-i-quick-rewind-"+t,r.default.addEvent(["touchend","click"],this.dom.quickRewind,function(t,e){if(e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),"number"==typeof t&&0<t){var i=this.getCurrentTime(),a=1e3*t;a<i&&this.seekTo(i-a)}}.bind(this,parseInt(t))),this.dom.outline.appendChild(this.dom.quickRewind)}.call(this)),d.default.init.call(this)},i.default=P},{"../abr/hls":3,"../abr/shaka":4,"../ads/scheduler":10,"../fw/env":50,"../fw/fw":51,"../vtt/thumbnails":56,"./accessible/accessible":22,"./audio-only/audio-only":23,"./dvr/dvr":25,"./events":26,"./modules/chapters":27,"./modules/quality":30,"./modules/sharing":31,"./modules/speed":32,"./playback":33,"./ready":34,"./resize/resize":35,"./seek/seek":38,"./ui/core-ui":40,"./ui/indicator":41,"./utils/error":42,"./volume/volume":46}],25:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("../../fw/fw"),r=(a=s)&&a.__esModule?a:{default:a};var n={setLiveModeUI:function(){this.dvrLiveMode=!0,this.dom.current.style.width="100%",this.dom.handle.style.left="100%",r.default.removeClass(this.dom.container,"rmp-dvr-rec"),r.default.setText(this.dom.duration,this.labels.hint.live)},setLiveMode:function(t){if(t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),!this.dvrLiveMode){n.setLiveModeUI.call(this);var e=this.hlsJS.liveSyncPosition;("number"!=typeof e||e<=0)&&(e=this.hlsJSLevelDuration),0<e&&r.default.setMediaCurrentTime(this.dom.video,e)}}};i.default=n},{"../../fw/fw":51}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var d=c(t("../fw/fw")),a=c(t("../fw/env")),s=c(t("./ui/core-ui")),r=c(t("./dvr/dvr")),n=c(t("../ads/ima-ads")),o=c(t("../playlist/related")),l=c(t("../playlist/playlist")),h=c(t("../cast/cast"));function c(t){return t&&t.__esModule?t:{default:t}}var u={},f=function(){var t=this.dom.video,e=d.default.getMediaDuration(t),i=0,a=t.buffered,s=t.buffered.length,r=d.default.getMediaCurrentTime(t),n=0;try{for(var o=s-1;0<=o;o--)if(r>=a.start(o)){n=o;break}0<s&&d.default.isNumber(e)&&(i=a.end(n)/e*100)}catch(t){return void d.default.trace(t)}if(d.default.isNumber(i)){var l={width:i+"%"};d.default.setStyle(this.dom.loaded,l)}};u.loadstart=function(){d.default.createStdEvent("loadstart",this.dom.container)},u.durationchange=function(){var t=this.getDuration();-1<t&&(t/=1e3,this.isLiveDvr||d.default.setText(this.dom.duration,d.default.readableTime(t))),this.isLiveDvr&&this.dvrLiveMode&&d.default.setText(this.dom.duration,this.labels.hint.live),this.firstDurationChange&&!h.default.connectedAPIAvailable.call(this)&&(this.firstDurationChange=!1,this.isVod?d.default.setText(this.dom.timeElapsedText,"00:00"):(d.default.setText(this.dom.timeElapsedText,this.labels.hint.live),this.isLiveDvr&&r.default.setLiveModeUI.call(this))),d.default.createStdEvent("durationchange",this.dom.container)},u.loadedmetadata=function(){this.hasLoadedMetadata=!0,d.default.createStdEvent("loadedmetadata",this.dom.container)},u.loadeddata=function(){void 0===this.dom.loaded&&(this.dom.loaded=this.dom.container.getElementsByClassName("rmp-loaded")[0]),f.call(this),d.default.createStdEvent("loadeddata",this.dom.container)},u.progress=function(){void 0===this.dom.loaded&&(this.dom.loaded=this.dom.container.getElementsByClassName("rmp-loaded")[0]),f.call(this),d.default.createStdEvent("progress",this.dom.container)},u.playing=function(){s.default.hideLoadingSpin.call(this),d.default.createStdEvent("playing",this.dom.container)},u.waiting=function(){s.default.showLoadingSpin.call(this),d.default.createStdEvent("waiting",this.dom.container),this.readingMse||(this.firstBufferStalledEvent||(this.dom.container.addEventListener("playing",this.unstalledBuffer),d.default.createStdEvent("bufferstalled",this.dom.container)),this.firstBufferStalledEvent=!1)},u.seeking=function(){d.default.createStdEvent("seeking",this.dom.container)},u.seeked=function(){s.default.hideLoadingSpin.call(this),s.default.showChrome.call(this),d.default.createStdEvent("seeked",this.dom.container)};u.ended=function(){this.loop||(this.getPaused()||this.pause(),this.ads&&("ima"===this.adParser&&(this.contentCompleteCalled=!0,n.default.contentCompleteAds.call(this)),this.onAdStartedPostRollUpdateCentralUI=function(){this.dom.container.removeEventListener("adstarted",this.onAdStartedPostRollUpdateCentralUI),this.isVod&&(d.default.hasClass(this.dom.overlayButtonIcon,"rmp-i-replay")&&(d.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay"),d.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play")),a.default.isMobile&&d.default.hasClass(this.dom.centralMobileUIIcon,"rmp-i-replay")&&(d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),d.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")))}.bind(this),this.dom.container.addEventListener("adstarted",this.onAdStartedPostRollUpdateCentralUI)),this.dom.poster&&(""!==this.endOfVideoPoster&&this.endOfVideoPoster!==this.poster&&this.setPoster(this.endOfVideoPoster),d.default.show(this.dom.poster)),d.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-play"),d.default.addClass(this.dom.overlayButtonIcon,"rmp-i-replay"),a.default.isMobile&&(d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),d.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-replay"))),this.hasRelated&&this.relatedUpNextAutoplay&&(this.relatedEndedLoop||!this.relatedEndedLoop&&void 0!==this.relatedList[this.currentRelatedIndex+1])&&(d.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show"),o.default.load.call(this,this.currentRelatedIndex+1,null)),this.hasPlaylist&&this.playlistUpNextAutoplay&&(this.playlistEndedLoop||!this.playlistEndedLoop&&void 0!==this.playlistList[this.currentPlaylistIndex+1])&&l.default.load.call(this,this.currentPlaylistIndex+1,null),d.default.createStdEvent("ended",this.dom.container)},u.auxiliaryEvents=function(){var e=this;["canplay","canplaythrough","ratechange"].forEach(function(t){e.dom.video.addEventListener(t,function(){d.default.createStdEvent(t,e.dom.container)})})},u.pause=function(){d.default.addClass(this.dom.playPause,"rmp-i-play"),d.default.removeClass(this.dom.playPause,"rmp-i-pause"),a.default.isMobile&&(d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),d.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),d.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play")),s.default.showCentralPlay.call(this),s.default.showChrome.call(this),d.default.updateAriaLabel(this.dom.playPause,"Play"),d.default.createStdEvent("pause",this.dom.container)},u.play=function(){d.default.addClass(this.dom.playPause,"rmp-i-pause"),d.default.removeClass(this.dom.playPause,"rmp-i-play"),a.default.isMobile&&(d.default.removeClass(this.dom.centralMobileUI,"rmp-mobile-show-play"),d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-play"),d.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause")),this.isVod&&(d.default.hasClass(this.dom.overlayButtonIcon,"rmp-i-replay")&&(d.default.removeClass(this.dom.overlayButtonIcon,"rmp-i-replay"),d.default.addClass(this.dom.overlayButtonIcon,"rmp-i-play")),a.default.isMobile&&d.default.hasClass(this.dom.centralMobileUIIcon,"rmp-i-replay")&&(d.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-replay"),d.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-pause"))),d.default.hide(this.dom.poster),s.default.hideCentralPlay.call(this),d.default.updateAriaLabel(this.dom.playPause,"Pause"),d.default.createStdEvent("play",this.dom.container)},u.timeupdate=function(){if(this.isLive||this.isLiveDvr&&this.dvrLiveMode)d.default.createStdEvent("timeupdate",this.dom.container);else{if(this.dom.video&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&!this.draggingTimeCursor&&!this.touchDown){var t=void 0,e=void 0;if(h.default.castingAPIAvailable.call(this)){var i=h.default.getCurrentTime.call(this);e=-1<i?Math.round(i/1e3):i,t=Math.round(h.default.getDuration.call(this)/1e3)}else if(t=d.default.getMediaDuration(this.dom.video),e=d.default.getMediaCurrentTime(this.dom.video),this.isLiveDvr){var a=t-this.hlsJSLevelDuration;t=this.hlsJSLevelDuration,e-=a}if(d.default.isNumber(t)&&0<t&&d.default.isNumber(e)&&0<=e){var s=100/t*e;this.dom.current.style.width=s+"%",this.dom.handle.style.left=s+"%";var r=void 0,n=void 0;this.isLiveDvr?(n=this.dom.duration,r="-"+d.default.readableTime(t-e)):(n=this.dom.timeElapsedText,r=d.default.readableTime(e)),d.default.setText(n,r)}}if(!h.default.connectedAPIAvailable.call(this)&&this.hasRelated&&0<this.relatedUpNextOffset){var o=this.getCurrentTime(),l=this.getDuration();if(-1<o&&-1<l)l-o<=1e3*this.relatedUpNextOffset?this.getAdOnStage()&&this.getAdLinear()?d.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show"):(d.default.createStdEvent("mousemove",this.dom.container),d.default.addClass(this.dom.relatedSkipPreview,"rmp-force-show")):d.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show")}d.default.createStdEvent("timeupdate",this.dom.container)}},i.default=u},{"../ads/ima-ads":7,"../cast/cast":21,"../fw/env":50,"../fw/fw":51,"../playlist/playlist":53,"../playlist/related":54,"./dvr/dvr":25,"./ui/core-ui":40}],27:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var p=a(t("../../fw/fw")),m=a(t("./modules"));function a(t){return t&&t.__esModule?t:{default:t}}var s={},v=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this.seekTo(t)},r=function(t){for(var e=t.split(/\r\n|\r|\n/g),i=/^\s*$/,a=[],s=0,r=e.length;s<r;s++)i.test(e[s])||a.push(e[s]);if(/WEBVTT/i.test(a[0])){a.shift();for(var n=/^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/,o=0,l=a.length;o<l;o++)if(a[o]&&a[o+1]&&n.test(a[o])){var d=a[o].split("--\x3e"),h=a[o+1];if(2===d.length){var c=d[0].trim(),u=d[1].trim(),f=c.replace(/\.\d+/i,"");/^00:/i.test(f)&&5<f.length&&(f=f.replace(/^00:/i,"")),this.chaptersArray.push({start:1e3*p.default.dateToSeconds(c),end:1e3*p.default.dateToSeconds(u),title:h+" "+this.uiSeparator+" "+f})}}0,this.onLoadedmetadaAddChapters=function(){this.dom.container.removeEventListener("loadedmetadata",this.onLoadedmetadaAddChapters);var t=this.getDuration();if(0<t&&0<this.chaptersArray.length){m.default.append.call(this,"chapters"),m.default.appendOverlay.call(this,"chapters"),m.default.deferredShow.call(this,"chapters");for(var e=0,i=this.chaptersArray.length;e<i;e++){var a=this.chaptersArray[e].start;if(!(t<=a)){var s=document.createElement("div");p.default.setClass(s,"rmp-overlay-level rmp-color-bg rmp-chapters-text"),p.default.setText(s,this.chaptersArray[e].title),p.default.addEvent(["touchend","click"],s,v.bind(this,a)),this.dom.chaptersOverlayLevelsArea.appendChild(s)}}this.hasChapters=!0}}.bind(this),this.hasLoadedMetadata?this.onLoadedmetadaAddChapters():this.dom.container.addEventListener("loadedmetadata",this.onLoadedmetadaAddChapters)}};s.init=function(){var e=this;p.default.ajax(this.chaptersLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){"string"==typeof t&&r.call(e,t)}).catch(function(t){p.default.trace(t)})},i.default=s},{"../../fw/fw":51,"./modules":29}],28:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var d=a(t("../../fw/fw")),h=a(t("../ui/core-ui")),c=a(t("../accessible/accessible"));function a(t){return t&&t.__esModule?t:{default:t}}var s={},n=function(t,e,i,a){this.dom[t]=document.createElement("div");var s=t.toLowerCase();s=s.replace(/\s+/g,"-"),this.dom[t].className="rmp-"+s+" rmp-module rmp-color-bg";var r=document.createElement("div");r.className="rmp-module-button";var n=document.createElement("span");n.className="rmp-custom-module-icon";var o=".rmp-"+s+" .rmp-custom-module-icon {background-image: url("+e+")}";o+=".rmp-"+s+" .rmp-custom-module-icon:hover {background-image: url("+i+")}",d.default.appendStyle(o),r.appendChild(n),this.dom[t].appendChild(r),this.dom.container.appendChild(this.dom[t]);var l=h.default.appendHint(t);this.dom[t].appendChild(l),c.default.makeAccessible.call(this,this.dom[t],t,!0),d.default.addEvent(["touchend","click"],this.dom[t],function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),h.default.showChrome.call(this),t()}.bind(this,a))};s.filter=function(){var e=[];this.customModule.forEach(function(t){"string"==typeof t.hint&&"string"==typeof t.svg&&"function"==typeof t.callback&&("string"!=typeof t.svgHover&&(t.svgHover=t.svg),e.push(t))}),this.customModule=e},s.init=function(){var r=this;this.customModule.forEach(function(t){var e=t.hint,i=t.svg,a=t.svgHover,s=t.callback;n.call(r,e,i,a,s)})},i.default=s},{"../../fw/fw":51,"../accessible/accessible":22,"../ui/core-ui":40}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=s(t("../../fw/fw")),n=s(t("../../fw/env")),o=s(t("../ui/core-ui")),a=s(t("../resize/resize"));function s(t){return t&&t.__esModule?t:{default:t}}var l={types:["quality","sharing","audio","captions","speed","related","chapters"],destroy:function(t){r.default.removeElement(this.dom[t]),r.default.removeElement(this.dom[t+"Overlay"])}};l.open=function(t,e){var i=this;e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this.getPaused()?(r.default.removeClass(this.dom[t+"OverlayPlayPause"],"rmp-i-pause"),r.default.addClass(this.dom[t+"OverlayPlayPause"],"rmp-i-play")):(r.default.removeClass(this.dom[t+"OverlayPlayPause"],"rmp-i-play"),r.default.addClass(this.dom[t+"OverlayPlayPause"],"rmp-i-pause")),function(){r.default.addClass(this.dom.logoImg,"rmp-no-display"),r.default.addClass(this.dom.contentTitle,"rmp-no-display");for(var t=this.dom.container.querySelectorAll(".rmp-hint"),e=0,i=t.length;e<i;e++)r.default.hide(t[e]);l.hide.call(this),r.default.addClass(this.dom.outline,"rmp-no-display"),o.default.disableCentralUI.call(this),this.googleCast&&this.castConnected&&r.default.addClass(this.dom.container,"rmp-casting-module-overlay-open"),this.video360&&r.default.addClass(this.dom.ui360,"rmp-no-display")}.call(this),"related"===t?(a.default.related.call(this),setTimeout(function(){a.default.related.call(i)},401)):setTimeout(function(){a.default.closeModule.call(i,t)},401),r.default.fadeIn(this.dom[t+"Overlay"])};var d=function(){for(var t=this.dom.container.querySelectorAll(".rmp-hint"),e=0,i=t.length;e<i;e++)r.default.show(t[e]);r.default.removeClass(this.dom.logoImg,"rmp-no-display"),r.default.removeClass(this.dom.contentTitle,"rmp-no-display"),l.show.call(this),r.default.removeClass(this.dom.outline,"rmp-no-display"),o.default.enableCentralUI.call(this),this.googleCast&&r.default.removeClass(this.dom.container,"rmp-casting-module-overlay-open"),this.video360&&r.default.removeClass(this.dom.ui360,"rmp-no-display"),o.default.showChrome.call(this)};l.close=function(t,e,i){var a=this;i&&(i.stopPropagation(),"touchend"===i.type&&i.preventDefault()),1===e?(r.default.hide(this.dom[t+"Overlay"]),r.default.fadeOut(this.dom[t+"Overlay"]),setTimeout(function(){r.default.show(a.dom[t+"Overlay"])},401),d.call(this)):(r.default.fadeOut(this.dom[t+"Overlay"]),setTimeout(function(){d.call(a)},e))},l.playPause=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),this.getPaused()?(r.default.removeClass(this.dom[t+"OverlayPlayPause"],"rmp-i-play"),r.default.addClass(this.dom[t+"OverlayPlayPause"],"rmp-i-pause"),this.play()):(r.default.removeClass(this.dom[t+"OverlayPlayPause"],"rmp-i-pause"),r.default.addClass(this.dom[t+"OverlayPlayPause"],"rmp-i-play"),this.pause())},l.closeAll=function(){for(var t=0,e=l.types.length;t<e;t++)l.close.call(this,l.types[t],1,null)},l.hide=function(){for(var t=this.dom.container.querySelectorAll(".rmp-module"),e=0,i=t.length;e<i;e++)r.default.addClass(t[e],"rmp-no-display")},l.show=function(){for(var t=this.dom.container.querySelectorAll(".rmp-module"),e=0,i=t.length;e<i;e++)r.default.removeClass(t[e],"rmp-no-display")};l.deferredShow=function(t){(function(){for(var t=0,e=l.types.length;t<e;t++)if(r.default.isVisible(this.dom[l.types[t]+"Overlay"]))return!0;return!1}.call(this)||this.getAdOnStage()&&this.getAdLinear())&&r.default.addClass(this.dom[t],"rmp-no-display"),r.default.show(this.dom[t])},l.append=function(t){var e=this;this.dom[t]=document.createElement("div"),n.default.isMobile||(this.dom[t].addEventListener("mouseenter",function(t){t&&t.stopPropagation(),e.forceResetTimer=!0}),this.dom[t].addEventListener("mouseleave",function(t){t&&t.stopPropagation(),e.forceResetTimer=!1})),this.dom[t].className="rmp-"+t+" rmp-module rmp-color-bg";var i=document.createElement("div");i.className="rmp-module-button";var a=void 0;"cast"===t?a=document.createElement("google-cast-launcher"):(a=document.createElement("span")).className="rmp-i rmp-i-"+t,i.appendChild(a),this.dom[t].appendChild(i),this.dom.container.appendChild(this.dom[t]),r.default.hideAria(this.dom[t]),r.default.hide(this.dom[t]);var s=o.default.appendHint(this.labels.hint[t]);this.dom[t].appendChild(s)},l.appendOverlay=function(t){this.dom[t+"Overlay"]=document.createElement("div"),this.dom[t+"Overlay"].className="rmp-module-overlay",r.default.hideAria(this.dom[t+"Overlay"]),this.dom[t+"Overlay"].addEventListener("touchend",r.default.stopPropagation),this.dom[t+"Overlay"].addEventListener("click",r.default.stopPropagation),this.dom.container.appendChild(this.dom[t+"Overlay"]),this.dom[t+"OverlayWrapper"]=document.createElement("div"),this.dom[t+"OverlayWrapper"].className="rmp-overlay-wrapper",this.dom[t+"Overlay"].appendChild(this.dom[t+"OverlayWrapper"]);var e=document.createElement("div");e.className="rmp-overlay-title";var i=this.labels.hint[t];"sharing"===t&&""!==this.contentTitle&&(i+=" "+this.uiSeparator+" "+this.contentTitle);var a=document.createElement("span");a.className="rmp-overlay-title-text",r.default.setText(a,i),e.appendChild(a),this.dom[t+"OverlayWrapper"].appendChild(e),this.dom[t+"OverlayPlayPause"]=document.createElement("span"),this.dom[t+"OverlayPlayPause"].className="rmp-i rmp-module-overlay-icons rmp-module-overlay-play-pause",r.default.addEvent(["touchend","click"],this.dom[t+"OverlayPlayPause"],l.playPause.bind(this,t)),this.dom[t+"Overlay"].appendChild(this.dom[t+"OverlayPlayPause"]);var s=document.createElement("span");s.className="rmp-i rmp-i-close rmp-module-overlay-icons rmp-module-overlay-close",r.default.addEvent(["touchend","click"],s,l.close.bind(this,t,400)),this.dom[t+"Overlay"].appendChild(s),this.dom[t+"OverlayLevelsArea"]=document.createElement("div"),"related"!==t&&(this.dom[t+"OverlayLevelsArea"].className="rmp-overlay-levels-area"),this.dom[t+"OverlayWrapper"].appendChild(this.dom[t+"OverlayLevelsArea"]),r.default.addEvent(["touchend","click"],this.dom[t],l.open.bind(this,t))},l.setActiveLevel=function(t,e){if(this.dom[t+"OverlayLevelsArea"]){var i=this.dom[t+"OverlayLevelsArea"].querySelectorAll(".rmp-overlay-level");if(0<i.length){for(var a=0,s=i.length;a<s;a++)r.default.removeClass(i[a],"rmp-overlay-level-active");r.default.addClass(i[e],"rmp-overlay-level-active"),o.default.showChrome.call(this)}}},i.default=l},{"../../fw/env":50,"../../fw/fw":51,"../resize/resize":35,"../ui/core-ui":40}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a(t("../../fw/fw")),r=a(t("./modules"));function a(t){return t&&t.__esModule?t:{default:t}}var n={destroy:function(){this.readingMp4?this.dom.container&&this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch):this.readingHlsJS?this.dom.container&&this.dom.container.removeEventListener("playing",this.hlsJSUnstalledBuffer):(this.readingDash||this.readingHlsShaka)&&this.shakaPlayer&&this.shakaPlayer.removeEventListener("buffering",this.shakaUnstalledBuffer),r.default.destroy.call(this,"quality")}};n.setMp4Bitrate=function(t){this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch);var e=this.getCurrentTime();-1===e&&(e=0),this.afterMp4BitrateSwitch=function(t,e){this.dom.container.removeEventListener("srcchanged",this.afterMp4BitrateSwitch),r.default.setActiveLevel.call(this,"quality",e),this.getPlayerInitialized()&&(this.play(),0<t&&this.seekTo(t))}.bind(this,e,t),this.dom.container.addEventListener("srcchanged",this.afterMp4BitrateSwitch),this.setSrcPDModule=!0,this.setSrc(this.src.mp4[t]),this.setSrcPDModule=!1};n.setUpMP4UI=function(){var t=function(t,e){var i=t;if(1<e&&1===i.length&&"auto"===i[0])switch(e){case 2:i=["Low","High"];break;case 3:i=["Low","Medium","High"];break;case 4:i=["Low","Medium","High","Highest"];break;case 5:i=["Lowest","Medium","High","Higher","Highest"];break;case 6:default:i=["Lowest","Lower","Medium","High","Higher","Highest"]}return i}(this.labels.bitrates.renditions,this.src.mp4.length);r.default.append.call(this,"quality"),r.default.appendOverlay.call(this,"quality");for(var e=0;e<this.src.mp4.length;e++){var i=document.createElement("div");e===this.initialBitrate?(s.default.setClass(i,"rmp-overlay-level rmp-overlay-level-active rmp-color-bg rmp-q"+e),i.setAttribute("data-src",this.src.mp4[this.initialBitrate])):(s.default.setClass(i,"rmp-overlay-level rmp-color-bg rmp-q"+e),i.setAttribute("data-src",this.src.mp4[e]));var a=void 0;a=t[e]?t[e].toString():"Bitrate "+e,s.default.setText(i,a),s.default.addEvent(["touchend","click"],i,n.setMp4Bitrate.bind(this,e)),this.dom.qualityOverlayLevelsArea.appendChild(i)}},n.setUpAbrUI=function(){r.default.append.call(this,"quality"),r.default.appendOverlay.call(this,"quality"),r.default.deferredShow.call(this,"quality"),this.dom.qualityAuto=document.createElement("div"),this.dom.qualityAuto.className="rmp-overlay-level rmp-color-bg rmp-overlay-level-active rmp-q0",this.dom.qualityAuto.textContent=this.labels.bitrates.auto,this.dom.qualityOverlayLevelsArea.appendChild(this.dom.qualityAuto)},i.default=n},{"../../fw/fw":51,"./modules":29}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var S=s(t("../../fw/fw")),E=s(t("../../fw/env")),a=s(t("./modules")),A=s(t("../utils/utils"));function s(t){return t&&t.__esModule?t:{default:t}}var r={};r.init=function(){var t=function(t){for(var e=["facebook","twitter","googleplus","linkedin","reddit","email"],i=[],a=0,s=t.length;a<s;a++)-1===e.indexOf(t[a])&&i.push(a);if(0<i.length)for(var r=i.length-1;0<=r;r--)t.splice(i[r],1);return t}(this.sharingNetworks);a.default.append.call(this,"sharing"),a.default.appendOverlay.call(this,"sharing"),function(t){var e=document.createElement("div");if(e.className="rmp-sharing-social",-1<t.indexOf("facebook")){var i=document.createElement("span");i.className="rmp-i rmp-i-facebook rmp-sharing-social-icons";var a="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this.sharingUrl);S.default.addEvent(["touchend","click"],i,A.default.openUrl.bind(this,a)),e.appendChild(i)}if(-1<t.indexOf("twitter")){var s=document.createElement("span");s.className="rmp-i rmp-i-twitter rmp-sharing-social-icons";var r="https://twitter.com/share?url="+encodeURIComponent(this.sharingUrl);S.default.addEvent(["touchend","click"],s,A.default.openUrl.bind(this,r)),e.appendChild(s)}if(-1<t.indexOf("linkedin")){var n=document.createElement("span");n.className="rmp-i rmp-i-linkedin rmp-sharing-social-icons";var o="https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(this.sharingUrl);S.default.addEvent(["touchend","click"],n,A.default.openUrl.bind(this,o)),e.appendChild(n)}if(-1<t.indexOf("googleplus")){var l=document.createElement("span");l.className="rmp-i rmp-i-gplus rmp-sharing-social-icons";var d="https://plus.google.com/share?url="+encodeURIComponent(this.sharingUrl);S.default.addEvent(["touchend","click"],l,A.default.openUrl.bind(this,d)),e.appendChild(l)}if(-1<t.indexOf("reddit")){var h=document.createElement("span");h.className="rmp-i rmp-i-reddit rmp-sharing-social-icons";var c="https://www.reddit.com/submit?url="+encodeURIComponent(this.sharingUrl);S.default.addEvent(["touchend","click"],h,A.default.openUrl.bind(this,c)),e.appendChild(h)}if(-1<t.indexOf("email")){var u=document.createElement("span");u.className="rmp-i rmp-i-email rmp-sharing-social-icons",S.default.addEvent(["touchend","click"],u,function(){window.location.href="mailto:?body="+encodeURIComponent(this.sharingUrl)}.bind(this)),e.appendChild(u)}this.dom.sharingOverlayLevelsArea.appendChild(e);var f=document.createElement("div");f.className="rmp-sharing-link";var p='<span class="rmp-i rmp-i-link"></span>';if(p+='<label for="rmp-sharing-link-'+this.id+'">Link to media</label>',p+='<input class="rmp-sharing-input" aria-label="Link to media" id="rmp-sharing-link-'+this.id+'" type="text" value="'+this.sharingUrl+'">',f.innerHTML=p,this.dom.sharingOverlayLevelsArea.appendChild(f),""!==this.sharingCode){this.sharingCode=this.sharingCode.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");var m=document.createElement("div");m.className="rmp-sharing-code";var v='<span class="rmp-i rmp-i-code"></span>';v+='<label for="rmp-sharing-code-'+this.id+'">Embed code for media</label>',v+='<input class="rmp-sharing-input" aria-label="Embed code for media" id="rmp-sharing-code-'+this.id+'" type="text" value="'+this.sharingCode+'">',m.innerHTML=v,this.dom.sharingOverlayLevelsArea.appendChild(m)}if(!E.default.isMobile&&this.dom.sharingOverlay)for(var g=this.dom.sharingOverlay.querySelectorAll(".rmp-sharing-input"),y=0,b=g.length;y<b;y++)S.default.addEvent("click",g[y],S.default.selectText.bind(null,g[y]))}.call(this,t)},i.default=r},{"../../fw/env":50,"../../fw/fw":51,"../utils/utils":44,"./modules":29}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=s(t("../../fw/fw")),l=s(t("../ui/core-ui")),a=s(t("./modules"));function s(t){return t&&t.__esModule?t:{default:t}}var r={},n=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault());var i=this.dom.speedOverlayLevelsArea.querySelectorAll(".rmp-overlay-level");if(0<i.length&&i[t]){var a=i[t],s=a.textContent;if("string"==typeof s&&""!==s){s=parseFloat(s.replace("x","")),this.setPlaybackRate(s);for(var r=0,n=i.length;r<n;r++)o.default.removeClass(i[r],"rmp-overlay-level-active");o.default.addClass(a,"rmp-overlay-level-active")}l.default.showChrome.call(this)}};r.init=function(){a.default.append.call(this,"speed"),a.default.appendOverlay.call(this,"speed");for(var t=0,e=this.navRates.length;t<e;t++){var i=document.createElement("div");1===this.navRates[t]?o.default.setClass(i,"rmp-overlay-level rmp-color-bg rmp-overlay-level-active"):o.default.setClass(i,"rmp-overlay-level rmp-color-bg"),o.default.setText(i,"x"+this.navRates[t]),o.default.addEvent(["touchend","click"],i,n.bind(this,t)),this.dom.speedOverlayLevelsArea.appendChild(i)}},i.default=r},{"../../fw/fw":51,"../ui/core-ui":40,"./modules":29}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=f(t("../fw/fw")),s=f(t("../fw/env")),r=f(t("../abr/hls")),n=f(t("../abr/shaka")),o=f(t("../ads/ima-ads")),l=f(t("../ads/rmp-vast")),d=f(t("../ads/ads-helpers")),h=f(t("./ui/core-ui")),c=f(t("./utils/utils")),u=f(t("../cast/cast"));function f(t){return t&&t.__esModule?t:{default:t}}var p={},m=function(){this.onAdAutoplaySuccess=function(){var t=this.getAdLinear();null!==t&&(t||!t&&"rmp-vast"===this.adParser)&&c.default.fireAutoplaySuccess.call(this)}.bind(this),this.dom.container.addEventListener("adstarted",this.onAdAutoplaySuccess),this.onAdAutoplayFailed=function(){c.default.autoplayFailureRestorePlayUI.call(this)}.bind(this),this.dom.container.addEventListener("adinitialplayrequestfailed",this.onAdAutoplayFailed),this.dom.container.addEventListener("adinitialplayrequestsucceeded",this.onAdAutoplaySuccess)},v=function(){this.startUpLogPlaying=function(){var t=this;a.default.removeEvent("playing",this.dom.container,this.startUpLogPlaying),a.default.removeEvent("adloaded",this.dom.container,this.startUpLogPlaying),setTimeout(function(){t.startUpPlaying=a.default.getNow(),0<t.startUpPlay&&t.startUpPlaying>t.startUpPlay&&(t.startUpTime=t.startUpPlaying-t.startUpPlay),t.firstFrameReached=!0,a.default.createStdEvent("firstframe",t.dom.container),a.default.createStdEvent("startuptimeavailable",t.dom.container)},1)}.bind(this),this.dom.container.addEventListener("playing",this.startUpLogPlaying),this.dom.container.addEventListener("adloaded",this.startUpLogPlaying),this.ads&&!this.adImaDai?(this.autoplay&&m.call(this),function(){this.emptyInitAdTagUrl?c.default.playPromise.call(this):(this.adScheduleInput&&(this.adTagUrl=d.default.replaceAdTagVar.call(this,this.adSchedule.preroll)),"ima"===this.adParser?o.default.requestAds.call(this,this.adTagUrl):l.default.loadAds.call(this,this.adTagUrl))}.call(this)):c.default.playPromise.call(this)},g=function(){if(this.googleCast){if(u.default.castingAPIAvailable.call(this))return void this.remotePlayerController.playOrPause();if(this.castConnected&&"ENDED"===this.remotePlayerState)return void this.loadCastMedia()}if(this.firstPlay)return this.firstPlay=!1,void v.call(this);this.dom.video.paused?c.default.playPromise.call(this):this.dom.video.pause()},y=function(){var t=this;null!==this.processInitiatePlayback&&this.dom.container.removeEventListener("loadedmetadata",this.processInitiatePlayback),this.video360&&this.firstPlay&&"undefined"==typeof THREE?setTimeout(function(){y.call(t)},10):this.ads&&this.firstPlay&&this.adParserLoaded?g.call(this):this.getAdOnStage()&&this.getAdLinear()&&!this.adImaDai?d.default.playPause.call(this):this.adOutStream||g.call(this)};p.init=function(t){if(t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),this.get5Ready()){if(this.firstPlay){if(this.ads&&!this.adParserLoaded)return void 0;this.startUpPlay=a.default.getNow(),a.default.removeClass(this.dom.outline,"rmp-force-invisibility")}this.playerInitialized||(this.playerInitialized=!0,a.default.hide(this.dom.poster),h.default.showLoadingSpin.call(this),this.ads?"ima"===this.adParser&&this.adDisplayContainer?(this.adDisplayContainer.initialize(),this.adDCInitialized=!0,s.default.isMobile?this.dom.video.load():this.readingMse||this.hasLoadedMetadata||this.dom.video.load()):"rmp-vast"===this.adParser&&this.rmpVast&&(this.rmpVast.initialize(),s.default.isMacosSafari[0]||s.default.isMobile||this.readingMse||this.hasLoadedMetadata||this.dom.video.load()):this.ads||(s.default.isMobile||s.default.isMacosSafari[0]&&!this.readingMse||s.default.isMacosSafari[0]&&this.readingHlsJS&&!this.hasLoadedMetadata?this.dom.video.load():this.readingMse||this.hasLoadedMetadata||this.dom.video.load()),this.readingHlsJS?r.default.init.call(this):(this.readingDash||this.readingHlsShaka)&&n.default.init.call(this)),this.hasLoadedMetadata?y.call(this):null===this.processInitiatePlayback&&(this.processInitiatePlayback=y.bind(this),this.dom.container.addEventListener("loadedmetadata",this.processInitiatePlayback))}},i.default=p},{"../abr/hls":3,"../abr/shaka":4,"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/cast":21,"../fw/env":50,"../fw/fw":51,"./ui/core-ui":40,"./utils/utils":44}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=m(t("../fw/fw")),s=m(t("../fw/env")),r=m(t("../vtt/captions")),n=m(t("../ads/ima-ads")),o=m(t("../ads/rmp-vast")),l=m(t("../ads/ads-helpers")),d=m(t("./resize/resize")),h=m(t("./ui/core-ui")),c=m(t("./modules/custom")),u=m(t("../cast/airplay")),f=m(t("./modules/modules")),p=m(t("./utils/utils"));function m(t){return t&&t.__esModule?t:{default:t}}var v={dispatchEvent:function(){this.fadeInPlayer&&a.default.fadeIn(this.dom.container),a.default.removeClass(this.dom.container,"rmp-preparing"),v.updateTime.call(this),a.default.createStdEvent("ready",this.dom.container)},updateTime:function(){this.timeReady=a.default.getNow()-this.refTime}};v.minimalFire=function(){this.playerReady||(this.playerReady=!0,d.default.resize.call(this),v.dispatchEvent.call(this))},v.fire=function(){if(!this.playerReady){this.playerReady=!0,d.default.resize.call(this);var t="00:00";if(this.dom.timeElapsed&&this.dom.timeElapsedText&&(this.isVod||(a.default.addClass(this.dom.timeElapsed,"rmp-i rmp-i-live"),t=this.labels.hint.live),this.dom.timeElapsedText.textContent=t),this.dom.duration){var e=this.dom.duration.textContent;"string"==typeof e&&""!==e||(this.dom.duration.textContent=t)}if(s.default.isMobile&&(this.initialVolume=1,this.rememberVolume=!1),this.allowLocalStorage||(this.rememberVolume=!1),this.muted)this.setMute(!0);else if(this.rememberVolume&&1===this.initialVolume&&s.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpVolume")){var i=JSON.parse(window.localStorage.getItem("rmpVolume"));i.value&&(0===(i=parseFloat(i.value))?this.setMute(!0):i<=1&&0<i&&this.setVolume(i))}else this.initialVolume<1&&0<=this.initialVolume&&this.setVolume(this.initialVolume);this.autoplay?(this.initialAutoplayRequest=!0,this.initiatePlayback()):h.default.showCentralPlay.call(this),0<this.offsetStartPosition&&this.isVod&&(this.onStartSeekToOffset=function(){this.dom.container.removeEventListener("playing",this.onStartSeekToOffset),this.seekTo(this.offsetStartPosition)}.bind(this),this.dom.container.addEventListener("playing",this.onStartSeekToOffset)),this.adOutStream&&(f.default.hide.call(this),a.default.hide([this.dom.seekBar,this.dom.duration,this.dom.timeElapsed])),v.dispatchEvent.call(this),this.adBlockerDetection&&!0===window.rmpGlobals.adBlockerDetected&&a.default.createStdEvent("adblockerdetected",this.dom.container),this.hasCC&&r.default.initVttJS.call(this)}};var g=function(){if(this.adBlockerDetection&&!0===window.rmpGlobals.adBlockerDetected&&this.adBlockerDetectedPreventPlayback)return a.default.removeElement(this.dom.prerollMask),l.default.onAdBlockDetection.call(this),this.autoplay&&p.default.fireAutoplayFailure.call(this),this.offsetStartPosition=0,void v.fire.call(this);this.dom.prerollMask&&(this.onAdOnStageUpdatePrerollMask=function(){var t=this;a.default.removeEvent(["playing","adloaded","adstarted","aderror","adloadererror","autoplayfailure"],this.dom.container,this.onAdOnStageUpdatePrerollMask),a.default.clearTimeout(this.prerollMaskRemovalTimeout),this.prerollMaskRemovalTimeout=setTimeout(function(){a.default.hide(t.dom.prerollMask),a.default.removeElement(t.dom.prerollMask)},401),a.default.fadeOut(this.dom.prerollMask)}.bind(this),a.default.addEvent(["playing","adloaded","adstarted","aderror","adloadererror","autoplayfailure"],this.dom.container,this.onAdOnStageUpdatePrerollMask)),"ima"===this.adParser?n.default.init.call(this):o.default.init.call(this)};v.init=function(){if(this.audioOnly||(this.ads&&!this.emptyInitAdTagUrl&&h.default.appendPrerollMask.call(this),h.default.appendPoster.call(this)),this.nav&&a.default.show(this.dom.speed),this.sharing&&a.default.show(this.dom.sharing),this.hasRelated&&a.default.show(this.dom.related),this.hasPlaylist&&a.default.show([this.dom.playlistLeftArrow,this.dom.playlistRightArrow]),this.readingMp4&&a.default.show(this.dom.quality),void 0!==this.dom.audio&&a.default.show(this.dom.audio),this.airplay&&!this.readingDash&&u.default.init.call(this),""!==this.logo&&h.default.appendLogo.call(this),""!==this.contentTitle&&h.default.appendContentTitle.call(this),Array.isArray(this.customModule)&&0<this.customModule.length&&a.default.isObject(this.customModule[0])?(c.default.filter.call(this),0<this.customModule.length&&c.default.init.call(this)):this.customModule=[],a.default.createStdEvent("mousemove",this.dom.container),this.ads)if(this.adBlockerDetection){if("boolean"==typeof window.rmpGlobals.adBlockerDetected)return void g.call(this);if("undefined"==typeof fuckAdBlock||"function"!=typeof fuckAdBlock.setOption)return window.rmpGlobals.adBlockerDetected=!0,void g.call(this);var t={debug:!1,checkOnLoad:!1,resetOnEnd:!0,loopCheckTime:50,loopMaxNumber:5};0,fuckAdBlock.setOption(t),this.onAdBlockDetected=function(){window.rmpGlobals.adBlockerDetected=!0,g.call(this)}.bind(this),this.onNoAdBlockDetected=function(){window.rmpGlobals.adBlockerDetected=!1,g.call(this)}.bind(this),fuckAdBlock.onDetected(this.onAdBlockDetected),fuckAdBlock.onNotDetected(this.onNoAdBlockDetected),fuckAdBlock.check(!0)}else g.call(this);else v.fire.call(this)},i.default=v},{"../ads/ads-helpers":6,"../ads/ima-ads":7,"../ads/rmp-vast":9,"../cast/airplay":20,"../fw/env":50,"../fw/fw":51,"../vtt/captions":55,"./modules/custom":28,"./modules/modules":29,"./resize/resize":35,"./ui/core-ui":40,"./utils/utils":44}],35:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var C=n(t("../../fw/fw")),o=n(t("../../fw/env")),a=n(t("../ui/core-ui")),s=n(t("../utils/error")),r=n(t("../../360/360"));function n(t){return t&&t.__esModule?t:{default:t}}var l={},d=function(){C.default.removeClass(this.dom.container,"rmp-medium"),C.default.removeClass(this.dom.container,"rmp-small"),C.default.removeClass(this.dom.container,"rmp-extrasmall")};l.auxResize=function(t){if(this.isHTML5){if(t<=0)return;0<t&&t<375?(d.call(this),C.default.addClass(this.dom.container,"rmp-extrasmall")):0<t&&t<480?(d.call(this),C.default.addClass(this.dom.container,"rmp-small")):(d.call(this),C.default.addClass(this.dom.container,"rmp-medium")),this.getAdOnStage()&&l.resizeAds.call(this),this.video360&&r.default.resize.call(this),this.hasRelated&&l.related.call(this),C.default.createStdEvent("resize",this.dom.container)}},l.resizeAds=function(){var t=-1,e=-1;if(this.isInFullscreen)if(this.hasNativeFullscreenSupport)t=C.default.getScreenWidth(),e=C.default.getScreenHeight();else if(this.fullWindowMode){var i=o.default.getViewportSize();t=i.width,e=i.height}if("rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.resizeAd)this.isInFullscreen?0<t&&0<e&&(this.hasNativeFullscreenSupport?this.rmpVast.resizeAd(t,e,"fullscreen"):this.fullWindowMode&&this.rmpVast.resizeAd(t,e,"normal")):this.rmpVast.resizeAd(this.width,this.height,"normal");else if("ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.resize)try{this.isInFullscreen?0<t&&0<e&&(this.hasNativeFullscreenSupport?this.adsManager.resize(t,e,google.ima.ViewMode.FULLSCREEN):this.fullWindowMode&&this.adsManager.resize(t,e,google.ima.ViewMode.NORMAL)):this.adsManager.resize(this.width,this.height,google.ima.ViewMode.NORMAL)}catch(t){C.default.trace(t)}},l.closeModule=function(t){var e=this.getPlayerWidth(),i=this.dom[t+"OverlayLevelsArea"].clientWidth,a=Math.round(e);if(this.dom[t+"Overlay"]){var s=this.dom[t+"Overlay"].querySelector(".rmp-module-overlay-close");null!==s&&(s.style.right=i<a?(12+a-i).toString()+"px":"12px")}};l.related=function(){if(this.get5Ready()&&this.dom.relatedOverlayLevelsArea&&this.dom.relatedOverlay){for(var t=this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"),e=[],i=0,a=0,s=t.length;a<s;a++)a!==this.currentRelatedIndex?(e.push(t[a]),C.default.show(t[a])):C.default.hide(t[a]);(function(t){if(this.dom.relatedOverlay){for(var e=this.dom.relatedOverlay.querySelectorAll(".rmp-related-up-next"),i=0,a=e.length;i<a;i++)C.default.hide(e[i]);var s=this.currentRelatedIndex+1;if(void 0===t[this.currentRelatedIndex+1]&&(s=0),t[s]){var r=t[s].querySelector(".rmp-related-up-next");null!==r&&C.default.show(r)}}}).call(this,t);var r=this.dom.relatedOverlay.querySelector(".rmp-overlay-title"),n=12;null!==r&&(n+=C.default.getHeight(r));var o=this.getPlayerWidth(),l=this.dom.relatedOverlayLevelsArea.clientWidth,d=o,h=Math.round(o),c=this.dom.relatedOverlay.querySelector(".rmp-module-overlay-close");null!==c&&(l<h?("number"==typeof l&&0<l&&(d=l),c.style.right=(12+h-l).toString()+"px"):c.style.right="12px");var u=2;C.default.hasClass(this.dom.container,"rmp-medium")&&(u=3);var f=(d-24-12*(u-1))/u,p=9*f/16;if(0<f&&0<p){for(var m=1,v=0,g=e.length;v<g;v++){u*m<=v&&m++;var y=e[v],b=v-(m-1)*u,S=n+12+p*(m-1)+12*(m-1),E={left:b*f+12*(b+1)+"px",top:S+"px",width:f+"px",height:p+"px"};C.default.setStyle(y,E),i=S+p}var A=this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin");null!==A&&(A.style.top=i.toString()+"px")}}},l.fullscreenchange=function(){this.isInFullscreen?(this.isInFullscreen=!1,C.default.removeClass(this.dom.fullscreen,"rmp-i-resize-small"),C.default.removeClass(this.dom.container,"rmp-fullscreen-on"),C.default.addClass(this.dom.fullscreen,"rmp-i-resize-full"),C.default.updateAriaLabel(this.dom.fullscreen,"Enter fullscreen"),l.resize.call(this),C.default.createStdEvent("exitfullscreen",this.dom.container)):(this.isInFullscreen=!0,C.default.removeClass(this.dom.fullscreen,"rmp-i-resize-full"),C.default.addClass(this.dom.fullscreen,"rmp-i-resize-small"),C.default.addClass(this.dom.container,"rmp-fullscreen-on"),C.default.updateAriaLabel(this.dom.fullscreen,"Exit fullscreen"),l.auxResize.call(this,C.default.getScreenWidth()),C.default.createStdEvent("enterfullscreen",this.dom.container))},l.fullscreenerror=function(t){C.default.createStdEvent("fullscreenerror",this.dom.container);var e=null;t&&(e=t),s.default.warning.call(this,"fullscreenerror",1003,e)},l.webkitbeginfullscreen=function(){this.isInFullscreen=!0,C.default.createStdEvent("enterfullscreen",this.dom.container)},l.webkitendfullscreen=function(){this.isInFullscreen=!1,l.resize.call(this),C.default.createStdEvent("exitfullscreen",this.dom.container)},l.resize=function(t){if(this.isInFullscreen){if(this.fullWindowMode){var e=o.default.getViewportSize();return void(-1<e.width&&-1<e.height&&this.setPlayerSize(e.width,e.height))}o.default.isIos[0]||l.auxResize.call(this,C.default.getScreenWidth())}else{var i=this.dom.container.parentNode;if(i)if(this.iframeMode){if(this.width=C.default.getTrueWidth(i),this.height=C.default.getTrueHeight(i),t){C.default.setStyle(this.dom.container,{width:"100%",height:"100%"})}l.auxResize.call(this,this.width)}else{var a=0,s=0,r=C.default.getTrueWidth(i);0,r>=this.initialWidth?(a=this.initialWidth,s=this.initialHeight):s=(a=r)/this.initialAspectRatio,0===a||0===s?(this.autoHeightMode&&(this.autoHeightMode=!1,this.initialWidth="100%",this.initialHeight=480,this.initialAspectRatio=1.7777777778),this.width=this.initialWidth,this.height=this.initialHeight):(this.width=a,this.height=s,this.autoHeightMode?a="100%":(this.audioOnly&&(s=40),a+="%"),s+="px");var n={width:a,height:s};C.default.setStyle(this.dom.container,n),l.auxResize.call(this,this.width)}}},l.fullscreenInteraction=function(){var t=this;if(this.hasNativeFullscreenSupport)this.isInFullscreen?this.ads&&"rmp-vast"===this.adParser&&this.getAdOnStage()&&this.getAdLinear()&&this.rmpVast&&"function"==typeof this.rmpVast.getVastPlayer?o.default.exitFullscreen(this.rmpVast.getVastPlayer()):o.default.exitFullscreen(this.dom.video):this.ads&&"rmp-vast"===this.adParser&&this.getAdOnStage()&&this.getAdLinear()&&this.rmpVast&&"function"==typeof this.rmpVast.getVastPlayer?o.default.requestFullscreen(this.dom.container,this.rmpVast.getVastPlayer()):o.default.requestFullscreen(this.dom.container,this.dom.video);else if(this.fullWindowMode){var e=-1,i=-1;if(this.isInFullscreen)this.isInFullscreen=!1,e=this.initialWidth,i=this.initialHeight,C.default.removeClass(this.dom.fullscreen,"rmp-i-resize-small"),C.default.addClass(this.dom.fullscreen,"rmp-i-resize-full"),C.default.removeClass(this.dom.container,"rmp-full-window-on"),C.default.updateAriaLabel(this.dom.fullscreen,"Enter fullscreen"),C.default.createStdEvent("exitfullscreen",this.dom.container),this.setPlayerSize(e,i),setTimeout(function(){l.resize.call(t)},1);else{var a=o.default.getViewportSize();if(!(-1<a.width&&-1<a.height))return;e=a.width,i=a.height,this.isInFullscreen=!0,C.default.removeClass(this.dom.fullscreen,"rmp-i-resize-full"),C.default.addClass(this.dom.fullscreen,"rmp-i-resize-small"),C.default.addClass(this.dom.container,"rmp-full-window-on"),C.default.updateAriaLabel(this.dom.fullscreen,"Exit fullscreen"),C.default.createStdEvent("enterfullscreen",this.dom.container),this.setPlayerSize(e,i)}}},l.fullscreenButtonInteraction=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),a.default.showChrome.call(this),l.fullscreenInteraction.call(this)};l.initialSizing=function(){this.throttledResize=function(t){var e=this;t&&("orientationchange"===t.type?(C.default.clearTimeout(this.orientationChangeResizeTimeout),this.orientationChangeResizeTimeout=setTimeout(function(){l.resize.call(e)},200)):"resize"===t.type&&null===this.throttledResizeTimeout&&(C.default.clearTimeout(this.throttledResizeTimeout),this.throttledResizeTimeout=setTimeout(function(){l.resize.call(e),e.throttledResizeTimeout=null},66)))}.bind(this),window.addEventListener("resize",this.throttledResize),window.addEventListener("orientationchange",this.throttledResize),this.iframeMode&&this.autoHeightMode&&(this.autoHeightMode=!1);var t=this.dom.container.parentNode;this.iframeMode?(this.width=C.default.getTrueWidth(t),this.height=C.default.getTrueHeight(t)):this.autoHeightMode?(this.width=C.default.getTrueWidth(t),this.height=this.width/this.autoHeightModeRatio):(this.width=parseInt(this.width,10),this.height=parseInt(this.height,10)),this.initialWidth=this.width,this.initialHeight=this.height,this.initialAspectRatio=this.initialWidth/this.initialHeight,this.autoHeightMode&&(this.initialWidth=999999,this.initialAspectRatio=this.autoHeightModeRatio),l.resize.call(this,!0)},i.default=l},{"../../360/360":1,"../../fw/env":50,"../../fw/fw":51,"../ui/core-ui":40,"../utils/error":42}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=a(t("../../fw/fw")),d=a(t("../ready")),h=a(t("../utils/utils"));function a(t){return t&&t.__esModule?t:{default:t}}var s={init:function(){this.dom.video=null,this.isHTML5=!1,this.googleCast=!1;var t=document.createElement("div");l.default.setClass(t,"rmp-no-play");var e=document.createElement("div");l.default.setClass(e,"rmp-no-play-text");var i=document.createElement("div");l.default.setText(i,this.labels.error.noSupportMessage),e.appendChild(i);var a=void 0;if(this.hasMp4&&(a=this.src.mp4[0]),!this.audioOnly&&a&&this.isVod&&""!==this.labels.error.noSupportDownload){var s=document.createElement("div"),r=document.createElement("a");r.href=a,r.download="true",l.default.setClass(r,"rmp-dl-link"),l.default.setText(r,this.labels.error.noSupportDownload),s.appendChild(r),e.appendChild(s)}if(!this.audioOnly&&""!==this.labels.error.noSupportInstallChrome){var n=document.createElement("div"),o=void 0;""!==this.labels.error.noSupportInstallChromeLink?((o=document.createElement("a")).href=this.labels.error.noSupportInstallChromeLink,o.target="_blank",l.default.setClass(o,"rmp-dl-link")):o=document.createElement("span"),l.default.setText(o,this.labels.error.noSupportInstallChrome),n.appendChild(o),e.appendChild(n)}t.appendChild(e),this.dom.container.appendChild(t),this.autoplay&&h.default.fireAutoplayFailure.call(this),d.default.minimalFire.call(this)}};i.default=s},{"../../fw/fw":51,"../ready":34,"../utils/utils":44}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=l(t("../../fw/fw")),s=l(t("../../fw/env")),r=l(t("./runNoSupport")),n=l(t("../../core/utils/utils")),o=l(t("../../core/dom"));function l(t){return t&&t.__esModule?t:{default:t}}var d={},h=function(){a.default.createStdEvent("hlslevelswitching",this.dom.container)},c=function(){s.default.isIos[0]&&10<s.default.isIos[1]||s.default.isMacosSafari[0]&&10<s.default.isMacosSafari[1]?function(){this.readingHls=!0,this.readingHlsHevc=!0,this.startingBitratePath=this.src.hlsHevc,n.default.createNativeSrc.call(this,"hlsHevc"),this.hlsResizeLevelSwitch=h.bind(this),this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}.call(this):this.okHlsJS&&"hlsjs"===this.hlsEngine?(this.readingHlsJS=!0,this.readingHlsHevc=!0,this.startingBitratePath=this.src.hlsHevc,o.default.prepare.call(this),o.default.append.call(this)):this.okDash&&"shakaplayer"===this.hlsEngine&&(this.readingHlsShaka=!0,this.readingHlsHevc=!0,this.startingBitratePath=this.src.hlsHevc,o.default.prepare.call(this),o.default.append.call(this))},u=function(){this.readingMp4=!0,this.readingWebM=!0,this.src.mp4=this.src.webm,this.initialBitrate=a.default.filterInitialBitrate(this.initialBitrate,this.src.mp4),this.startingBitratePath=this.src.mp4[this.initialBitrate],n.default.createNativeSrc.call(this,"webm")};d.init=function(){if(s.default.isAndroid[0]&&void 0!==this.dom.video.disableRemotePlayback&&(this.dom.video.disableRemotePlayback=!0),this.adOutStream)(function(){this.hasLoadedMetadata=!0,this.readingOutstream=!0,o.default.prepare.call(this),o.default.append.call(this)}).call(this);else if(this.hasDash&&this.okDash&&this.dashFirst)this.readingDash=!0,this.startingBitratePath=this.src.dash,o.default.prepare.call(this),o.default.append.call(this);else if(this.hasFps&&this.okFps)(function(){this.preload="auto",this.readingHls=!0,this.readingFps=!0,this.startingBitratePath=this.src.fps,n.default.createNativeSrc.call(this,"hls"),this.hlsResizeLevelSwitch=h.bind(this),this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}).call(this);else if(!this.audioOnly&&this.hasHlsHevc&&this.okHlsHevc)c.call(this);else if(this.hasHls&&this.okHlsJS&&"hlsjs"===this.hlsEngine)this.readingHlsJS=!0,this.startingBitratePath=this.src.hls,o.default.prepare.call(this),o.default.append.call(this);else if(this.hasHls&&this.okDash&&"shakaplayer"===this.hlsEngine)this.readingHlsShaka=!0,this.startingBitratePath=this.src.hls,o.default.prepare.call(this),o.default.append.call(this);else if(this.hasHls&&this.okHls)(function(){this.readingHls=!0,this.startingBitratePath=this.src.hls,n.default.createNativeSrc.call(this,"hls"),this.hlsResizeLevelSwitch=h.bind(this),this.dom.video.addEventListener("resize",this.hlsResizeLevelSwitch)}).call(this);else if(this.hasDash&&this.okDash&&!this.dashFirst)this.readingDash=!0,this.startingBitratePath=this.src.dash,o.default.prepare.call(this),o.default.append.call(this);else if(this.audioOnly)if(this.okOgg&&this.hasOgg)(function(){this.readingOgg=!0,this.startingBitratePath=this.src.ogg,n.default.createNativeSrc.call(this,"ogg")}).call(this);else if(this.okM4a&&this.hasM4a)(function(){this.readingM4a=!0,this.startingBitratePath=this.src.m4a,n.default.createNativeSrc.call(this,"m4a")}).call(this);else{if(!this.okMp3||!this.hasMp3)return void r.default.init.call(this);(function(){this.readingMp3=!0,this.startingBitratePath=this.src.mp3,n.default.createNativeSrc.call(this,"mp3")}).call(this)}else this.okWebM&&this.hasWebM&&this.webmFirst?u.call(this):this.okMp4&&this.hasMp4||this.okMp4Hevc&&this.hasMp4Hevc?function(){this.readingMp4=!0,this.readingWebM=!1,this.okMp4Hevc&&this.hasMp4Hevc&&(this.src.mp4=this.src.mp4Hevc,this.readingMp4Hevc=!0),this.initialBitrate=a.default.filterInitialBitrate(this.initialBitrate,this.src.mp4),this.startingBitratePath=this.src.mp4[this.initialBitrate],this.okMp4Hevc&&this.hasMp4Hevc?n.default.createNativeSrc.call(this,"mp4Hevc"):n.default.createNativeSrc.call(this,"mp4")}.call(this):this.okWebM&&this.hasWebM&&!this.webmFirst?u.call(this):r.default.init.call(this)},i.default=d},{"../../core/dom":24,"../../core/utils/utils":44,"../../fw/env":50,"../../fw/fw":51,"./runNoSupport":36}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=s(t("../../fw/fw")),a=s(t("../ui/core-ui")),l=s(t("../../cast/cast"));function s(t){return t&&t.__esModule?t:{default:t}}var r={do:function(t){var e=void 0,i=void 0,a=void 0;if(l.default.castingAPIAvailable.call(this)){var s=l.default.getDuration.call(this);i=(e=-1===s?-1:Math.round(s/1e3))*t}else if(this.isLiveDvr){if(e=o.default.getMediaDuration(this.dom.video),!o.default.isNumber(e))return;(a=e-this.hlsJSLevelDuration)<=0&&(a=0),i=this.hlsJSLevelDuration*t+a}else i=(e=o.default.getMediaDuration(this.dom.video))*t;if(o.default.isNumber(e)&&!(e<=0)&&o.default.isNumber(t)&&!(i<0||e<i)){this.isLiveDvr&&(this.dvrLiveMode=!1,o.default.addClass(this.dom.container,"rmp-dvr-rec"),o.default.setText(this.dom.duration,"-"),o.default.setText(this.dom.timeElapsedText,this.labels.hint.live));var r={width:100*t+"%"};o.default.setStyle(this.dom.current,r);var n={left:100*t+"%"};o.default.setStyle(this.dom.handle,n),l.default.castingAPIAvailable.call(this)?(this.remotePlayer.currentTime=i,this.remotePlayerController.seek()):o.default.setMediaCurrentTime(this.dom.video,i)}}},n=function(t){var e=void 0;e=100<=t?100:t<0?0:t;var i=this.getDuration();if(-1<i&&this.dom.current&&this.dom.handle&&this.dom.timeElapsedText&&this.dom.duration){this.dom.current.style.width=e+"%",this.dom.handle.style.left=e+"%";var a=void 0,s=void 0;this.isLiveDvr?(s=this.dom.duration,a="-"+o.default.readableTime((i-e/100*i)/1e3)):(s=this.dom.timeElapsedText,a=o.default.readableTime(e*(i/1e3)/100)),o.default.setText(s,a)}};r.touchend=function(t){if(t){t.stopPropagation(),t.preventDefault();var e=(o.default.getPosXTouch(t)-o.default.getAbsLeft(this.dom.seekBar))/o.default.getWidth(this.dom.seekBar);if(!o.default.isNumber(e))return;1<=e?e=1:e<0&&(e=0),r.do.call(this,e),this.touchDown=!1}},r.touchmove=function(t){t.preventDefault(),this.touchDown=!0,a.default.showChrome.call(this);var e=(o.default.getPosXTouch(t)-o.default.getAbsLeft(this.dom.seekBar))/o.default.getWidth(this.dom.seekBar)*100;o.default.isNumber(e)&&n.call(this,e)},r.mouseupDoc=function(t){if(t){t.stopPropagation(),this.draggingTimeCursor=!1,document.removeEventListener("mouseup",this.mouseupDoc),document.removeEventListener("mousemove",this.mousemoveDoc);var e=o.default.getPosX(t),i=o.default.getAbsLeft(this.dom.timetotal),a=o.default.getWidth(this.dom.timetotal),s=void 0;s=e<i?0:i+a<e?.99:(e-i)/a,r.do.call(this,s)}},r.mousemoveDoc=function(t){var e=(o.default.getPosX(t)-o.default.getAbsLeft(this.dom.timetotal))/o.default.getWidth(this.dom.timetotal)*100;o.default.isNumber(e)&&n.call(this,e)},i.default=r},{"../../cast/cast":21,"../../fw/fw":51,"../ui/core-ui":40}],39:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("../../fw/fw"),r=(a=s)&&a.__esModule?a:{default:a};var n={};n.apply=function(){""!==this.skinBackgroundColor&&"s3"!==this.skin&&(-1===this.skinBackgroundColor.indexOf("rgba")&&(this.skinBackgroundColor="#"+this.skinBackgroundColor),function(){var t=".rmp-color-bg:not(.rmp-overlay-level-active), .rmp-module-overlay-icons, .rmp-related-duration, .rmp-related-up-next, .rmp-related-title {background: "+this.skinBackgroundColor+";} ";t+=".rmp-overlay-level { border-color: "+this.skinBackgroundColor+";} ",t+=".rmp-overlay-level-active { color: "+this.skinBackgroundColor+";} ","s4"===this.skin&&(t+=".rmp-play-pause, .rmp-ad-info, .rmp-quick-rewind, .rmp-volume, .rmp-fullscreen, .rmp-seek-bar, .rmp-time-elapsed, .rmp-duration, .rmp-related-skip-next, .rmp-overlay-title-text, .rmp-sharing-social-icons { background: "+this.skinBackgroundColor+";} ",t+=".rmp-overlay-level-active.rmp-abr-active { border-color: "+this.skinBackgroundColor+";} "),r.default.appendStyle(t)}.call(this)),""!==this.skinButtonColor&&(-1===this.skinButtonColor.indexOf("rgba")&&(this.skinButtonColor="#"+this.skinButtonColor),function(){var t=".rmp-color-button, .rmp-time-elapsed-text, .rmp-dvr-rec .rmp-i-live, .rmp-dvr-rec .rmp-i-live .rmp-time-elapsed-text, .rmp-live-dvr.rmp-dvr-rec .rmp-i-live:hover .rmp-time-elapsed-text {color: "+this.skinButtonColor+";} ";t+=".rmp-color-bg-button, .rmp-circle::before, .rmp-overlay-level-active {background: "+this.skinButtonColor+";} ",t+=".rmp-overlay-title-text {border-bottom-color: "+this.skinButtonColor+";} ","s3"===this.skin&&(t+=".rmp-time-total, .rmp-volume-bar, .rmp-overlay-level, .rmp-overlay-level-active.rmp-abr-active { border-color: "+this.skinButtonColor+";} ",this.hasPlaylist&&(t+=".rmp-playlist-side-menu {background: "+this.skinButtonColor+";}")),this.hasRelated&&(t+=".rmp-related-item  {border-color: "+this.skinButtonColor+";} ",t+=".rmp-related-skip-preview-title, .rmp-related-skip-preview-up-next {color: "+this.skinButtonColor+" !important;}"),r.default.appendStyle(t)}.call(this)),""!==this.skinAccentColor&&(-1===this.skinAccentColor.indexOf("rgba")&&(this.skinAccentColor="#"+this.skinAccentColor),function(){var t=".rmp-i:hover, .rmp-module:hover .rmp-i, .rmp-i-live, .rmp-dvr-rec .rmp-i-live:hover, .rmp-i-live, .rmp-overlay-level:hover:not(.rmp-overlay-level-active) {color: "+this.skinAccentColor+";} ";"s3"===this.skin&&(t+=".rmp-overlay-level-active { color: "+this.skinAccentColor+";} ",t+=".rmp-loaded { background-color: "+this.skinAccentColor+";} "),t+=".rmp-abr-active {border-color: "+this.skinAccentColor+";} ",this.hasPlaylist&&(t+=".rmp-playlist-item-active .rmp-playlist-item-number {color: "+this.skinAccentColor+";} ",t+=".rmp-playlist-item-active .rmp-playlist-item-thumbnail {border-color: "+this.skinAccentColor+";} ",t+=".rmp-playlist-side-menu::-webkit-scrollbar-thumb {background: "+this.skinAccentColor+";} "),this.hasRelated&&(t+=".rmp-related-item:hover {border-color: "+this.skinAccentColor+";} "),this.ads&&(t+=".rmp-ad-current-time {background: "+this.skinAccentColor+";} "),r.default.appendStyle(t)}.call(this)),this.googleCast&&function(){if(""===this.skinButtonColor)switch(this.skin){case"s1":case"s2":case"s3":this.skinButtonColor="rgba(255, 255, 255, 1)";break;case"s4":this.skinButtonColor="rgba(0, 0, 0, 1)";break;default:this.skinButtonColor="rgba(255, 255, 255, 1)"}if(""===this.skinAccentColor)switch(this.skin){case"s1":case"s4":this.skinAccentColor="rgba(33, 150, 243, 1)";break;case"s2":this.skinAccentColor="rgba(255, 193, 7, 1)";break;case"s3":this.skinAccentColor="rgba(244, 67, 54, 1)";break;default:this.skinAccentColor="rgba(33, 150, 243, 1)"}var t="google-cast-launcher {--disconnected-color: "+this.skinButtonColor+";--connected-color: "+this.skinAccentColor+";} ";t+="google-cast-launcher:hover {--disconnected-color: "+this.skinAccentColor+";}",r.default.appendStyle(t)}.call(this)},i.default=n},{"../../fw/fw":51}],40:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=o(t("../../fw/fw")),s=o(t("../../fw/env")),r=o(t("../utils/utils")),n=o(t("../utils/error"));function o(t){return t&&t.__esModule?t:{default:t}}var l={},d=function(){var t=this;a.default.clearInterval(this.chromeTimer),this.chromeTimer=setInterval(function(){!function(){var t=!1;return this.forceResetTimer&&(t=!0),this.getAdOnStage()?this.getAdLinear()&&this.getAdPaused()?t=!0:!this.getAdLinear()&&this.getPaused()&&(t=!0):this.getPaused()&&(t=!0),t}.call(t)?l.hideChrome.call(t):d.call(t)},this.delayToFade)};l.hideChrome=function(){a.default.removeClass(this.dom.container,"rmp-chrome"),a.default.addClass(this.dom.container,"rmp-no-chrome")},l.showChrome=function(){a.default.removeClass(this.dom.container,"rmp-no-chrome"),a.default.addClass(this.dom.container,"rmp-chrome"),d.call(this)},l.showCentralPlay=function(){a.default.fadeIn(this.dom.overlayButton),l.hideLoadingSpin.call(this)},l.hideCentralPlay=function(){a.default.fadeOut(this.dom.overlayButton)},l.disableCentralUI=function(){s.default.isMobile?a.default.addClass(this.dom.centralMobileUI,"rmp-no-display"):a.default.addClass(this.dom.overlayButton,"rmp-no-display"),a.default.addClass(this.dom.loadingSpin,"rmp-no-display")},l.enableCentralUI=function(){s.default.isMobile?a.default.removeClass(this.dom.centralMobileUI,"rmp-no-display"):a.default.removeClass(this.dom.overlayButton,"rmp-no-display"),a.default.removeClass(this.dom.loadingSpin,"rmp-no-display")},l.showLoadingSpin=function(){a.default.addClass(this.dom.container,"rmp-waiting"),a.default.fadeIn(this.dom.loadingSpin),l.hideCentralPlay.call(this)},l.hideLoadingSpin=function(){a.default.removeClass(this.dom.container,"rmp-waiting"),a.default.fadeOut(this.dom.loadingSpin)},l.protoHideControls=function(){a.default.addClass(this.dom.container,"rmp-hide-controls"),this.controls=!1},l.protoShowControls=function(){a.default.removeClass(this.dom.container,"rmp-hide-controls"),l.showChrome.call(this),this.controls=!0},l.restorePlayUI=function(){a.default.addClass(this.dom.playPause,"rmp-i-play"),a.default.removeClass(this.dom.playPause,"rmp-i-pause"),s.default.isMobile&&(a.default.removeClass(this.dom.centralMobileUIIcon,"rmp-i-pause"),a.default.addClass(this.dom.centralMobileUIIcon,"rmp-i-play"),a.default.addClass(this.dom.centralMobileUI,"rmp-mobile-show-play")),l.showCentralPlay.call(this),a.default.createStdEvent("mousemove",this.dom.container)},l.appendHint=function(t){var e=document.createElement("div");return a.default.setClass(e,"rmp-hint rmp-color-bg"),a.default.setText(e,t),e},l.appendContentTitle=function(){this.dom.contentTitle=document.createElement("div"),this.dom.contentTitle.className="rmp-title rmp-color-bg",a.default.hideAria(this.dom.contentTitle),a.default.setText(this.dom.contentTitle,this.contentTitle),this.dom.container&&this.dom.outline&&this.dom.container.insertBefore(this.dom.contentTitle,this.dom.outline)};l.appendLogo=function(){/(\.png|\.jpg|\.gif)/i.test(this.logo)&&(this.dom.logoImg=document.createElement("img"),this.dom.logoImg.alt="Media player logo",this.logoWatermark?this.dom.logoImg.className="rmp-logo rmp-force-show":this.dom.logoImg.className="rmp-logo","8px"!==this.logoMargin&&(this.dom.logoImg.style.margin=this.logoMargin),"topleft"===this.logoPosition?a.default.addClass(this.dom.logoImg,"rmp-logo-top-left"):"bottomleft"===this.logoPosition?a.default.addClass(this.dom.logoImg,"rmp-logo-bottom-left"):"topright"===this.logoPosition?a.default.addClass(this.dom.logoImg,"rmp-logo-top-right"):"bottomright"===this.logoPosition&&a.default.addClass(this.dom.logoImg,"rmp-logo-bottom-right"),this.onLogoLoad=function(){this.dom.logoImg.removeEventListener("load",this.onLogoLoad),this.dom.logoImg.removeEventListener("error",this.onLogoError),this.dom.container.contains(this.dom.logoImg)||this.dom.container.insertBefore(this.dom.logoImg,this.dom.outline.nextSibling)}.bind(this),this.onLogoError=function(t){this.dom.logoImg.removeEventListener("load",this.onLogoLoad),this.dom.logoImg.removeEventListener("error",this.onLogoError);var e=null;t&&(e=t),n.default.warning.call(this,"failed to load logo at "+this.logo,1e3,e)}.bind(this),this.dom.logoImg.addEventListener("load",this.onLogoLoad),this.dom.logoImg.addEventListener("error",this.onLogoError),this.openLogoUrl=r.default.openUrl.bind(this,this.logoLoc),a.default.addEvent(["touchend","click"],this.dom.logoImg,this.openLogoUrl),this.dom.logoImg.src=this.logo)},l.appendPrerollMask=function(){this.dom.prerollMask=document.createElement("div"),a.default.setClass(this.dom.prerollMask,"rmp-ad-preroll-mask"),this.dom.prerollMask.style.backgroundColor="#"+this.backgroundColor,this.dom.content.appendChild(this.dom.prerollMask)};l.appendPoster=function(){if(this.dom.poster=document.createElement("div"),a.default.setClass(this.dom.poster,"rmp-poster"),this.dom.poster.style.backgroundColor="#"+this.backgroundColor,this.dom.content.appendChild(this.dom.poster),this.autoplay&&a.default.hide(this.dom.poster),this.dom.posterImg=document.createElement("img"),this.dom.posterImg.alt="Media player poster frame",a.default.setClass(this.dom.posterImg,"rmp-poster-img"),a.default.cssPropertySupport("objectFit"))switch(this.posterScaleMode){case"letterbox":a.default.addClass(this.dom.posterImg,"rmp-object-fit-contain");break;case"zoom":a.default.addClass(this.dom.posterImg,"rmp-object-fit-cover");break;case"stretch":a.default.addClass(this.dom.posterImg,"rmp-object-fit-fill");break;case"none":a.default.addClass(this.dom.posterImg,"rmp-object-fit-none");break;default:a.default.addClass(this.dom.posterImg,"rmp-object-fit-contain")}else a.default.addClass(this.dom.posterImg,"rmp-poster-img-no-object-fit");this.onPosterLoad=function(){this.dom.posterImg.removeEventListener("load",this.onPosterLoad),this.dom.posterImg.removeEventListener("error",this.onPosterError),this.dom.poster.contains(this.dom.posterImg)||this.dom.poster.appendChild(this.dom.posterImg)}.bind(this),this.onPosterError=function(t){this.dom.posterImg.removeEventListener("load",this.onPosterLoad),this.dom.posterImg.removeEventListener("error",this.onPosterError);var e=null;t&&(e=t),n.default.warning.call(this,"failed to load poster at "+this.poster,1001,e)}.bind(this),this.dom.posterImg.addEventListener("load",this.onPosterLoad),this.dom.posterImg.addEventListener("error",this.onPosterError);var t=a.default.blackFrame;""!==this.poster&&(t=this.poster),this.dom.posterImg.src=t},i.default=l},{"../../fw/env":50,"../../fw/fw":51,"../utils/error":42,"../utils/utils":44}],41:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("../../fw/fw"),g=(a=s)&&a.__esModule?a:{default:a};var r={};r.init=function(){g.default.addEvent("mousemove",this.dom.timetotal,function(t){if(this.dom.indicator){var e=this.getDuration();if(e<=0)return;e/=1e3;var i=g.default.getPosX(t)-g.default.getAbsLeft(this.dom.timetotal),a=g.default.getWidth(this.dom.timetotal);i<0?i=0:a<=i&&(i=a);var s=i/a,r=void 0;e<=(r=this.isLiveDvr?e-s*e:s*e)?r=e:r<=0&&(r=0);var n=void 0;if(n=this.isLiveDvr?"-"+g.default.readableTime(r):g.default.readableTime(r),this.dom.timeIndicator||(this.dom.timeIndicator=this.dom.indicator.firstChild),g.default.setText(this.dom.timeIndicator,n),this.dom.indicator.style.left=i+"px",this.dom.thumbnailsImg)for(var o=0,l=this.thumbnailsArray.length;o<l;o++){var d=this.thumbnailsArray[o];if(null!==d[0]&&null!==d[1]&&"string"==typeof d[2]&&r>=d[0]&&r<d[1]){if(1<this.thumbnailURIs.length){for(var h=void 0,c=0,u=this.thumbnailURIsTimestamps.length;c<u;c++)r>=this.thumbnailURIsTimestamps[c]&&(h=this.thumbnailURIs[c]);h&&h!==this.currentThumbnailURI&&(this.currentThumbnailURI=h,this.dom.thumbnailsImg.style.backgroundImage='url("'+this.currentThumbnailURI+'")')}var f=d[2].split(","),p=f[0].trim(),m=f[1].trim(),v=f[3].trim();this.dom.thumbnailsImg.style.backgroundPosition="-"+p+"px -"+m+"px",this.dom.thumbnailsImg.style.height=v+"px",this.dom.thumbnailsImg.style.top="-"+v+"px"}}}}.bind(this)),g.default.addEvent("mouseenter",this.dom.timetotal,function(){this.hasLoadedMetadata&&g.default.fadeIn(this.dom.indicator)}.bind(this)),g.default.addEvent("mouseleave",this.dom.timetotal,function(){this.hasLoadedMetadata&&g.default.fadeOut(this.dom.indicator)}.bind(this))},i.default=r},{"../../fw/fw":51}],42:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a(t("../../fw/fw")),r=a(t("../ui/core-ui")),n=a(t("../modules/modules")),o=a(t("../ready")),l=a(t("../../abr/shaka")),d=a(t("../../abr/hls"));function a(t){return t&&t.__esModule?t:{default:t}}var h={errorLayout:function(){var e=this;this.playerReady||o.default.minimalFire.call(this);var t=this.dom.container.querySelector(".rmp-error");if(null!==t&&s.default.removeElement(t),(t=document.createElement("div")).className="rmp-error",""!==this.labels.error.customErrorMessage){var i=document.createElement("div");i.className="rmp-error-text",s.default.setText(i,this.labels.error.customErrorMessage),t.appendChild(i)}this.dom.content.appendChild(t);var a=!1;(this.readingMp4&&1<this.src.mp4.length||this.hasPlaylist||this.hasRelated)&&(a=!0),this.changingSrc&&(this.changingSrc=!1),n.default.closeAll.call(this),a||(n.default.hide.call(this),this.readingPDorNative&&this.dom.video&&this.dom.video.removeEventListener("error",this.generateError,!0)),r.default.disableCentralUI.call(this),s.default.hide(this.dom.poster),this.readingHlsJS?(d.default.destroy.call(this),s.default.createStdEvent("error",this.dom.container)):this.readingDash||this.readingHlsShaka?this.shakaPlayer?(l.default.destroy.call(this),this.shakaPlayer.destroy().then(function(){s.default.createStdEvent("error",e.dom.container)}).catch(function(t){s.default.trace(t),s.default.createStdEvent("error",e.dom.container)})):s.default.createStdEvent("error",this.dom.container):(s.default.clearNativeHtml5Buffer(this.dom.video),s.default.createStdEvent("error",this.dom.container))}};h.isFatal=function(t){var e=t;if(e&&s.default.isObject(e.error)&&"number"==typeof e.error.code){var i=e.error.code;if("string"==typeof e.error.message&&e.error.message,4===i)return!0}return!1},h.fatal=function(t,e,i){this.errorData={code:e,message:t,event:i,fatal:!0},h.errorLayout.call(this)},h.warning=function(t,e,i){this.errorData={code:e,message:t,event:i,fatal:!1},s.default.createStdEvent("warning",this.dom.container)},h.mediaTag=function(t){t&&t.target&&h.isFatal(t.target)&&h.fatal.call(this,"error on HTML5 media element",100,t)},i.default=h},{"../../abr/hls":3,"../../abr/shaka":4,"../../fw/fw":51,"../modules/modules":29,"../ready":34,"../ui/core-ui":40}],43:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var g=s(t("../../fw/fw")),l=s(t("../../fw/env")),a=s(t("../ready"));function s(t){return t&&t.__esModule?t:{default:t}}var y={},d="https://cdn.radiantmediatechs.com/rmp/rr/vgs.json",h="https://cdn.radiantmediatechs.com/rmp/rr/vgt.json",c="https://cdn.radiantmediatechs.com/rmp/rr/vgrp.json",b=!1,S=!1,u={"=":"a","+":"b",y:"c",z:"d",v:"e",u:"f",d:"g",b:"h",s:"i",q:"j",a:"k",c:"l",i:"m",k:"n",e:"o",g:"p",n:"q",o:"r",0:"s",7:"t",8:"u",9:"v",4:"w",5:"x",6:"y",1:"z",2:".",3:"-"},E=function(t,e){if(l.default.localStorage(e)){var i={value:t,timestamp:(new Date).getTime().toString()};window.localStorage.setItem("rmpLU",JSON.stringify(i))}};y.endPlayer=function(t){this.licenseFailedDestroyRequested=!0,a.default.minimalFire.call(this),this.licenseDestroyCompleted=function(){var t=document.getElementById(this.id);t&&(t.removeEventListener("destroycompleted",this.licenseDestroyCompleted),g.default.removeElement(t))}.bind(this),this.dom.container.addEventListener("destroycompleted",this.licenseDestroyCompleted),g.default.log("player","invalid license for Radiant Media Player"),this.destroy()};var f=function(t){var e=this;if(l.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpLU")){var i=JSON.parse(window.localStorage.getItem("rmpLU")),a=parseInt(i.timestamp);if(g.default.isNumber(a)){var s=i.value,r=parseInt(i.timestamp),n=(new Date).getTime();if("true"===s&&n<r+36e5)return}}this.licUrl=t+"?rdm="+Math.floor((new Date).getTime()/36e5);var o=function(t){var e=void 0;this.isLicValid="true";try{e=JSON.parse(t)}catch(t){return g.default.trace(t),void E("false",this.allowLocalStorage)}if(e&&Array.isArray(e.sites)&&this.ragnarok)for(var i=e.sites,a=0,s=i.length;a<s;a++)if(-1<this.ragnarok.indexOf(i[a])){y.endPlayer.call(this,"RMP Edition auth failed"),this.isLicValid="false";break}E(this.isLicValid,this.allowLocalStorage)}.bind(this);g.default.ajax(this.licUrl,this.ajaxInternalTimeout,!1,"GET").then(o).catch(function(t){g.default.clearTimeout(e.siteCheckerRetryTimeout),e.siteCheckerRetryTimeout=setTimeout(function(){g.default.ajax(e.licUrl,e.ajaxInternalTimeout,!1,"GET").then(o).catch(function(t){E("false",e.allowLocalStorage)})},1e4)})},p=function(t){var e=void 0,i=[],a=[],s="";try{e=JSON.parse(t)}catch(t){return g.default.trace(t),void E(this.isLicValid,this.allowLocalStorage)}
if(e&&Array.isArray(e.sites))
 for(var r=e.sites,n=0,o=r.length;n<o;n++)
  if(r[n].license){
   var l="a2VpdWR5dHNobEAxNDg4ODkxNTQy";
   if("a2VpdWR5dHNobEAxNDg4ODkxNTQy"===this.licenseKey){
    this.isLicValid="true";}
  }if("false"===this.isLicValid)return E(this.isLicValid,this.allowLocalStorage),void y.endPlayer.call(this,"PLATFORM Edition auth failed");if(S)return this.isLicValid="true",void E(this.isLicValid,this.allowLocalStorage);if(!b&&0<i.length){if("blacklist"===s){this.isLicValid="true";for(var d=0,h=i.length;d<h;d++)if(-1<this.ragnarok.indexOf(i[d])){this.isLicValid="false";break}}else if("whitelist"===s){this.isLicValid="false";for(var c=0,u=i.length;c<u;c++)if(-1<this.ragnarok.indexOf(i[c])){this.isLicValid="true";break}}}else if(b&&0<a.length&&"string"==typeof a[0]&&""!==a[0]){var f=this.dom.container.getAttribute("data-rwlan");if(f){this.isLicValid="false";var p=void 0;try{p=window.atob(f)}catch(t){p=null,g.default.log(null,t)}if(p)for(var m=0,v=a.length;m<v;m++)if(-1<p.indexOf(a[m])){this.isLicValid="true";break}}else this.isLicValid="false"}"false"===this.isLicValid&&y.endPlayer.call(this,"PLATFORM Edition auth failed"),E(this.isLicValid,this.allowLocalStorage)};y.isValidSiteKey=function(t,e){var i=void 0;if("function"!=typeof window.atob)return 2;try{if(d!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3MuanNvbg==")||h!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3QuanNvbg==")||c!==window.atob("aHR0cHM6Ly9jZG4ucmFkaWFudG1lZGlhdGVjaHMuY29tL3JtcC9yci92Z3JwLmpzb24="))return 0;i=window.atob(t)}catch(t){return 0}"file:"===l.default.getProtocol?b=!0:S=function(t){if(!t)return!1;if(t===this.originLocal&&/host$/.test(t)||t===this.rmpDev&&/\.rmp$/.test(t))return!0;if(/^\d+\.\d+\.\d+\.\d+$/i.test(t)&&(t===this.altLocal||/^192\.168\./i.test(t)||/^172\.[1-3]/i.test(t)||/^10\./i.test(t)))return!0;return!1}.call(this,e);if(/^\D{10}@\d+$/i.test(i))return this.licType="plus",function(t){var e=this;if(l.default.localStorage(this.allowLocalStorage)&&null!==window.localStorage.getItem("rmpLU")){var i=JSON.parse(window.localStorage.getItem("rmpLU")),a=parseInt(i.timestamp);if(g.default.isNumber(a)){var s=i.value,r=parseInt(i.timestamp),n=(new Date).getTime();if("true"===s&&n<r+36e5)return}}this.licUrl=t+"?rdm="+Math.floor((new Date).getTime()/36e5),g.default.ajax(this.licUrl,this.ajaxInternalTimeout,!1,"GET").then(p.bind(this)).catch(function(t){g.default.clearTimeout(e.rmpPlusCheckerRetryTimeout),e.rmpPlusCheckerRetryTimeout=setTimeout(function(){g.default.ajax(e.licUrl,e.ajaxInternalTimeout,!1,"GET").then(p.bind(e)).catch(function(t){E("false",e.allowLocalStorage)})},1e4)})}.call(this,c),3;if(!/\*_%.+/i.test(i))return 0;var a=!1;-1<(i=(i=i.replace("*_%","")).replace("%_*","")).indexOf("?")&&("rom5dasis30db0A"===i.split("?")[1]&&(a=!0,i=i.replace("?rom5dasis30db0A","")));var s=function(t){var e=void 0;if(-1<t.indexOf("!")){e=t.split("!");var i={s:0,c:1,o:2,g:3,i:4,k:5,m:6,e:7,q:8,a:9},a=e[0].replace(/[scogikmeqa]/g,function(t){return i[t]});if(/^\d+$/.test(a)){var s=parseInt(a,10),r=new Date,n=r.getTime();return(r=Math.round(n/1e3))+1382400<s?[!0,e[1],"expired"]:s<r?[!0,e[1],"expired"]:[!0,e[1],"notexpired"]}return[!0,e[1],"expired"]}return[!1,null,"notexpired"]}.call(this,i),r=s[0];if(r&&(this.licType="trial",i=s[1],"expired"===s[2]))return g.default.log("license","trial has expired"),0;if(b&&!r)return 0;if(S){if(a||r)return 2;if(!a)return 1}var n=i.replace(/[=+yzvudbsqacikegno0789456123]/g,function(t){return u[t]});r?b||f.call(this,h,n):f.call(this,d,n);var o=!1;b?o=!0:-1<e.replace(/\d/g,"").indexOf(n)&&(o=!0);return(r||a)&&o?2:a||r||!o?0:1};y.ck=function(){var t=y.isValidSiteKey.call(this,this.licenseKey,this.ragnarok);return 0!==t&&(1===t?!(this.video360||this.ads||!g.default.isEmptyObject(this.shakaDrm)||this.hasRelated):2===t||(3===t||void 0))},i.default=y},{"../../fw/env":50,"../../fw/fw":51,"../ready":34}],44:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=h(t("../../fw/fw")),a=h(t("../../fw/env")),r=h(t("../../fw/defaults/input-defaults")),s=h(t("../ui/core-ui")),n=h(t("../../core/dom")),o=h(t("../../abr/fps")),d=h(t("./error"));function h(t){return t&&t.__esModule?t:{default:t}}var c={openUrl:function(t,e){e&&e.stopPropagation(),s.default.showChrome.call(this),"touchend"!==e.type&&"string"==typeof t&&""!==t&&(this.getPaused()||this.pause(),window.open(t,"_blank"))}};c.checkStreams=function(a,t,s){if(l.default.isEmptyObject(t)||Array.isArray(t)&&t.length<1)a();else{var e=t;Array.isArray(t)?e.unshift(this.src):e=[this.src,t];var r=[];e.forEach(function(t){l.default.srcExists(t[s],s)&&r.push(t)});var n=0,o=function(){var t=this,e=r[n],i=e[s];(function(t,e){var i=t;Array.isArray(t)&&("string"==typeof t[this.initialBitrate]?i=t[this.initialBitrate]:"string"==typeof t[0]&&(this.initialBitrate=0,i=t[this.initialBitrate])),this.src=e,this.startingBitratePath=i,this.castUrl=i}).call(this,i,e),l.default.ajax(this.startingBitratePath,this.ajaxTimeout,this.ajaxWithCredentials,"HEAD").then(function(){a()}).catch(function(){n===r.length-1?a():(n++,d.default.warning.call(t,"URI "+t.startingBitratePath+" is unavailable - trying next",1007,null),o.call(t))})};o.call(this)}};var u=function(t){var e={};for(var i in r.default.labels)if(Object.prototype.hasOwnProperty.call(r.default.labels,i))if(void 0===e[i]&&(e[i]={}),typeof t[i]==typeof r.default.labels[i]){var a=r.default.labels[i];for(var s in a)typeof t[i][s]==typeof a[s]?e[i][s]=t[i][s]:e[i][s]=r.default.labels[i][s]}else e[i]=r.default.labels[i];return e};c.filterInput=function(t){var e={};for(var i in r.default)Object.prototype.hasOwnProperty.call(r.default,i)&&(void 0!==t[i]?"shakaCustomRequestFilter"===i||"hlsJSXhrSetup"===i?"function"==typeof t[i]?e[i]=t[i]:e[i]=null:typeof t[i]!=typeof r.default[i]?e[i]=r.default[i]:e[i]="labels"===i?u(t[i]):t[i]:e[i]=r.default[i],"string"==typeof e[i]&&(e[i]=e[i].trim()));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(this[a]=e[a])},c.resetSrc=function(){this.hasMp4=!1,this.hasMp4Hevc=!1,this.hasWebM=!1,this.hasHls=!1,this.hasHlsHevc=!1,this.hasDash=!1,this.hasFps=!1,this.hasM4a=!1,this.hasMp3=!1,this.okOgg=!1},c.detectSrc=function(){l.default.srcExists(this.src.mp4,"mp4")&&(this.hasMp4=!0,this.isVod||(this.hasMp4=!1)),l.default.srcExists(this.src.mp4Hevc,"mp4Hevc")&&(this.hasMp4Hevc=!0,this.isVod||(this.hasMp4Hevc=!1)),l.default.srcExists(this.src.webm,"webm")&&(this.hasWebM=!0,this.isVod||(this.hasWebM=!1)),l.default.srcExists(this.src.hls,"hls")&&(this.hasHls=!0),l.default.srcExists(this.src.hlsHevc,"hlsHevc")&&(this.hasHlsHevc=!0),l.default.srcExists(this.src.dash,"dash")&&(this.hasDash=!0,this.isLiveDvr&&(this.hasDash=!1)),l.default.isEmptyObject(this.shakaDrm)||(this.hasDash&&(this.dashFirst=!0,(this.hasHls||this.hasHlsHevc)&&(this.hlsEngine="hlsjs")),a.default.isMacosSafari[0]&&(this.okDash=!1,this.hlsEngine="hlsjs")),l.default.srcExists(this.src.fps,"fps")&&(this.hasFps=!0,this.airplay=!1)},c.detectAudioSrc=function(){l.default.srcExists(this.src.m4a,"m4a")&&(this.hasM4a=!0,this.isVod||(this.hasM4a=!1)),l.default.srcExists(this.src.mp3,"mp3")&&(this.hasMp3=!0,this.isVod||(this.hasMp3=!1)),l.default.srcExists(this.src.ogg,"ogg")&&(this.hasOgg=!0,this.isVod||(this.hasOgg=!1)),l.default.srcExists(this.src.hls,"hls")&&(this.hasHls=!0),l.default.srcExists(this.src.dash,"dash")&&(this.hasDash=!0,this.isLiveDvr&&(this.hasDash=!1))};c.createNativeSrc=function(t){n.default.prepare.call(this),c.checkStreams.call(this,function(){this.readingFps?o.default.init.call(this):this.dom.video.src=this.startingBitratePath,n.default.append.call(this)}.bind(this),this.backupSrc,t)};c.getCSS=function(){var t="https://cdn.radiantmediatechs.com/rmp/5.0.5/css/rmp-"+this.skin+".min.css";this.cssLink=document.createElement("link"),this.cssLink.id="rmp-dress-code",this.cssLink.type="text/css",this.cssLink.rel="stylesheet",this.cssLink.href=t,l.default.addEventListenerCSS?(this.onLoadedCSS=function(t){l.default.clearTimeout(this.cssLinkTimeout),this.cssLoaded||(this.cssLoaded=!0,l.default.addEventListenerCSS&&(this.cssLink.removeEventListener("load",this.onLoadedCSS),this.cssLink.removeEventListener("error",this.onLoadedCSS)),this.initConfig())}.bind(this),this.cssLink.addEventListener("load",this.onLoadedCSS),this.cssLink.addEventListener("error",this.onLoadedCSS),l.default.clearTimeout(this.cssLinkTimeout),this.cssLinkTimeout=setTimeout(this.onLoadedCSS,2500),l.default.appendToHead(this.cssLink)):(l.default.appendToHead(this.cssLink),this.initConfig())},c.clearAdAutoplayEvents=function(){this.dom.container.removeEventListener("adstarted",this.onAdAutoplaySuccess),this.dom.container.removeEventListener("adinitialplayrequestsucceeded",this.onAdAutoplaySuccess),this.dom.container.removeEventListener("adinitialplayrequestfailed",this.onAdAutoplayFailed)},c.fireAutoplayFailure=function(){this.autoplay=!1,l.default.createStdEvent("autoplayfailure",this.dom.container)},c.autoplayFailureRestorePlayUI=function(){this.initialAutoplayRequest=!1,this.ads&&c.clearAdAutoplayEvents.call(this),l.default.show(this.dom.poster),s.default.restorePlayUI.call(this),c.fireAutoplayFailure.call(this)},c.fireAutoplaySuccess=function(){this.initialAutoplayRequest=!1,this.ads&&c.clearAdAutoplayEvents.call(this),l.default.createStdEvent("autoplaysuccess",this.dom.container)},c.playPromise=function(){var e=this,i=!1;this.autoplay&&this.initialAutoplayRequest&&(i=!0,this.initialAutoplayRequest=!1);var t=this.dom.video.play();void 0!==t?t.then(function(){i&&c.fireAutoplaySuccess.call(e)}).catch(function(t){i?c.autoplayFailureRestorePlayUI.call(e):s.default.restorePlayUI.call(e)}):i&&c.fireAutoplaySuccess.call(this)},c.assignPlaybackCapabilities=function(){this.okDash=a.default.okDash,this.okHls=a.default.okHls,this.okHlsHevc=a.default.okHlsHevc,this.okHlsJS=a.default.okHlsJS,"hlsjs"===this.hlsEngine&&(a.default.isAndroid[0]&&a.default.isAndroid[1]<5&&(this.okHls||(this.okHls=!0),this.forceNativeHlsOverHlsJS=!0),this.forceNativeHlsOverHlsJS&&this.okHlsJS&&this.okHls&&(this.okHlsJS=!1),a.default.isMacosSafari[0]&&!this.forceHlsJSOnMacOSSafari&&this.okHls&&(this.okHlsJS=!1)),this.isLiveDvr&&(!this.okHlsJS&&l.default.srcExists(this.src.hls,"hls")&&this.okHls||l.default.srcExists(this.src.hlsHevc,"hlsHevc")&&this.okHlsHevc)&&(this.isLiveDvr=!1,this.isLive=!0),this.okFps=a.default.okFps,this.okWebM=a.default.testWebM(this.webmCodecs,a.default.html5Video),this.okMp4=a.default.okMp4,this.okMp4Hevc=a.default.hasHevcSupport,this.audioOnly&&(this.okM4a=a.default.okM4a,this.okMp3=a.default.okMp3,this.okOgg=a.default.testOgg(this.oggCodec,a.default.html5Audio))},i.default=c},{"../../abr/fps":2,"../../core/dom":24,"../../fw/defaults/input-defaults":49,"../../fw/env":50,"../../fw/fw":51,"../ui/core-ui":40,"./error":42}],45:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("../../fw/fw"),r=(a=s)&&a.__esModule?a:{default:a};var n={destroy:function(){if((this.viewableAutoplay||this.viewablePlayPause)&&this.viewableObserver){0;try{this.viewableObserver.disconnect()}catch(t){r.default.trace(t)}}}},o=function(){this.dom.container.removeEventListener("ready",this.attachViewableObserver);var t={root:null,rootMargin:"0px",threshold:[this.viewableThreshold]};this.viewablePreviousRatio=this.viewableThreshold,this.viewableObserver=new window.IntersectionObserver(function(t){var i=this;t.forEach(function(t){var e=i.getPlayerInitialized();t.intersectionRatio>i.viewablePreviousRatio?i.viewablePlayPause?i.play():i.viewableAutoplay&&!e&&(i.play(),n.destroy.call(i)):i.viewablePlayPause&&e&&i.pause(),i.viewablePreviousRatio=t.intersectionRatio})}.bind(this),t),this.viewableObserver.observe(this.dom.container)};n.set=function(){this.attachViewableObserver=o.bind(this),this.dom.container.addEventListener("ready",this.attachViewableObserver)},i.default=n},{"../../fw/fw":51}],46:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=o(t("../../fw/fw")),s=o(t("../../fw/env")),r=o(t("../ui/core-ui")),n=o(t("../../cast/cast"));function o(t){return t&&t.__esModule?t:{default:t}}var l={getVolumeAds:function(){return"ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.getVolume?this.adsManager.getVolume():"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.getVolume?this.rmpVast.getVolume():-2},setVolumeAds:function(t){"ima"===this.adParser&&this.adsManager&&"function"==typeof this.adsManager.setVolume?this.adsManager.setVolume(t):"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setVolume&&this.rmpVast.setVolume(t)},protoMute:function(){this.currentVolume=this.getVolume(),n.default.castingAPIAvailable.call(this)?(this.remotePlayerController.muteOrUnmute(),l.change.call(this)):(this.muted=!0,this.dom.video.muted=!0,this.getAdOnStage()&&this.getAdLinear()&&("ima"===this.adParser?l.setVolumeAds.call(this,0):"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setMute&&this.rmpVast.setMute(!0))),this.dom.currentVolume.style.height="0px",a.default.addClass(this.dom.volume,"rmp-i-volume-off"),a.default.removeClass(this.dom.volume,"rmp-i-volume-up")},protoUnmute:function(){if(n.default.castingAPIAvailable.call(this))this.remotePlayerController.muteOrUnmute(),l.change.call(this);else{if(this.permanentMuted)return;this.muted=!1,this.dom.video.muted=!1,this.getAdOnStage()&&this.getAdLinear()&&"rmp-vast"===this.adParser&&this.rmpVast&&"function"==typeof this.rmpVast.setMute&&this.rmpVast.setMute(!1),0<this.currentVolume&&this.currentVolume<1?this.setVolume(this.currentVolume):this.setVolume(1)}a.default.addClass(this.dom.volume,"rmp-i-volume-up"),a.default.removeClass(this.dom.volume,"rmp-i-volume-off")},writeToLocalStorage:function(t){if(this.rememberVolume&&s.default.localStorage(this.allowLocalStorage)){var e={value:t.toString()};try{window.localStorage.setItem("rmpVolume",JSON.stringify(e))}catch(t){a.default.trace(t)}}},volumeInteraction:function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),r.default.showChrome.call(this);var e=0;this.getMute()?(this.setMute(!1),e=this.getVolume()):this.setMute(!0),l.writeToLocalStorage.call(this,e)},change:function(){var t=this.getMute();this.volumeBarHeight=t?0:a.default.getHeight(this.dom.volumeBar);var e=0;n.default.castingAPIAvailable.call(this)?a.default.isNumber(this.remotePlayer.volumeLevel)&&(e=this.remotePlayer.volumeLevel*this.volumeBarHeight):(a.default.isNumber(this.dom.video.volume)&&(e=this.dom.video.volume*this.volumeBarHeight),a.default.createStdEvent("volumechange",this.dom.container)),this.dom.currentVolume&&0<=e&&(this.dom.currentVolume.style.height=e+"px")},setHtml5Volume:function(t){if(t){t.stopPropagation(),this.volumeBarHeight=a.default.getHeight(this.dom.volumeBar);var e=a.default.getAbsTop(this.dom.volumeBar),i=1-(a.default.getPosY(t)-e)/this.volumeBarHeight;if(i<.1?i=0:.9<i&&(i=1),this.currentVolume=i,l.writeToLocalStorage.call(this,this.currentVolume),n.default.castingAPIAvailable.call(this))return this.remotePlayer.volumeLevel=i,this.remotePlayerController.setVolumeLevel(),this.remotePlayer.isMuted&&this.remotePlayerController.muteOrUnmute(),void l.change.call(this);this.getMute()&&this.setMute(!1),this.dom.video.volume=this.currentVolume,this.getAdOnStage()&&this.getAdLinear()&&l.setVolumeAds.call(this,i)}}};i.default=l},{"../../cast/cast":21,"../../fw/env":50,"../../fw/fw":51,"../ui/core-ui":40}],47:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={},s=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),r=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function n(t){return Object.assign({muted:!1,timeout:250,inline:!1},t)}function o(t,e){var i=t.muted,a=t.timeout,s=t.inline,r=e(),n=r.element,o=r.source,l=void 0,d=void 0,h=void 0;return!0===(n.muted=i)&&n.setAttribute("muted","muted"),!0===s&&n.setAttribute("playsinline","playsinline"),n.src=o,new Promise(function(i){l=n.play(),d=setTimeout(function(){h(!1,new Error("Timeout "+a+" ms has been reached"))},a),h=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(d),i({result:t,error:e})},void 0!==l?l.then(function(){return h(!0)}).catch(function(t){return h(!1,t)}):h(!0)})}a.video=function(t){return o(t=n(t),function(){return{element:document.createElement("video"),source:URL.createObjectURL(r)}})},a.audio=function(t){return o(t=n(t),function(){return{element:document.createElement("audio"),source:URL.createObjectURL(s)}})},i.default=a},{}],48:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){return null},s="string"==typeof window.rmpGetRagnarok?window.rmpGetRagnarok:window.location&&window.location.hostname?window.location.hostname.toLowerCase():null,r={set:function(){this.playerVersion="5.0.5",this.playerReady=!1,this.hasLoadedMetadata=!1,this.timeReady=0,this.isInFullscreen=!1,this.isVod=!0,this.isHTML5=!0,this.setSrcPDModule=!1,this.startingBitratePath="",this.firstPlay=!0,this.draggingTimeCursor=!1,this.touchDown=!1,this.mouseupDoc=a,this.mousemoveDoc=a,this.throttledResize=a,this.firstFrameReached=!1,this.useVideoTitle=!1,this.msePreloadRequested=!1,this.msePreloadCompleted=!1,this.abrAutoMode=!0,this.changingSrc=!1,this.afterMp4BitrateSwitch=a,this.afterSrcSwitch=null,this.currentVolume=1,this.volumeBarHeight=0,this.initialAspectRatio=1.7777777778,this.initialWidth=-1,this.initialHeight=-1,this.hasNativeFullscreenSupport=!1,this.fullWindowMode=!1,this.throttledResizeTimeout=null,this.onPosterLoad=a,this.onPosterError=a,this.onLogoLoad=a,this.onLogoError=a,this.openLogoUrl=a,this.windowOnline=a,this.windowOffline=a,this.readingMp4=!1,this.readingMp4Hevc=!1,this.readingWebM=!1,this.readingM4a=!1,this.readingMp3=!1,this.readingOgg=!1,this.readingDash=!1,this.readingHlsJS=!1,this.readingHlsShaka=!1,this.readingHls=!1,this.readingHlsHevc=!1,this.readingPDorNative=!0,this.readingOutstream=!1,this.readingMse=!1,this.hasMp4=!1,this.hasMp4Hevc=!1,this.hasWebM=!1,this.hasM4a=!1,this.hasMp3=!1,this.hasOgg=!1,this.hasHls=!1,this.hasHlsHevc=!1,this.hasFps=!1,this.hasDash=!1,this.okDash=!1,this.okHlsJS=!1,this.okFps=!1,this.okHls=!1,this.okWebM=!1,this.okMp4=!1,this.okMp4Hevc=!1,this.okM4a=!1,this.okMp3=!1,this.okOgg=!1,this.viewablePreviousRatio=.5,this.viewableObserver=null,this.attachViewableObserver=a,this.processInitiatePlayback=null,this.initiatePlayback=a,this.bindKeyboard=a,this.showChrome=a,this.containerTouch=a,this.containerClick=a,this.removeFocusToContainer=a,this.addTabKeyDetection=a,this.controls=!0,this.fullscreenchange=a,this.fullscreenerror=a,this.unstalledBuffer=a,this.firstBufferStalledEvent=!0,this.licenseFailedDestroyRequested=!1,this.destroyRunning=!1,this.onStartSeekToOffset=a,this.forceResetTimer=!1,this.chromeTimer=null,this.touchRmp=!1,this.cssLink=null,this.cssLinkTimeout=null,this.initConfig=a,this.cssLoaded=!1,this.onLoadedCSS=a,this.loadstartFn=a,this.durationchangeFn=a,this.loadedmetadataFn=a,this.loadeddataFn=a,this.progressFn=a,this.playingFn=a,this.waitingFn=a,this.seekingFn=a,this.seekedFn=a,this.pauseFn=a,this.playFn=a,this.timeupdateFn=a,this.webkitbeginfullscreenFn=a,this.webkitendfullscreenFn=a,this.volumechangeFn=a,this.onMobileStartAutoHideCentralUI=a,this.setSrcResetAdInterval=null,this.logRetryTimeout=null,this.logGaSeekingTimeout=null,this.prerollMaskRemovalTimeout=null,this.orientationChangeResizeTimeout=null,this.siteCheckerRetryTimeout=null,this.postStop=null,this.firstDurationChange=!0,this.startUpPlay=0,this.startUpPlaying=0,this.ended=a,this.generateError=a,this.errorData=null,this.adDisplayContainer=null,this.adOnStage=!1,this.adsManager=null,this.adsLoader=null,this.contentCompleteCalled=!1,this.isLinear=!1,this.adPaused=!1,this.adDCInitialized=!1,this.adID="",this.adCreativeAdId="",this.adCreativeId="",this.adDealId="",this.adSystem="",this.adAdvertiserName="",this.adMediaUrl="",this.adSurveyUrl="",this.adUniversalAdIdRegistry="unknown",this.adUniversalAdIdValue="unknown",this.adApiFramework="",this.adContentType="",this.adDescription="",this.adDuration=-1,this.adTraffickingParameters=null,this.adTraffickingParametersString="",this.adNonLinearHeight=-1,this.adNonLinearWidth=-1,this.adTitle="",this.adWrapperAdIds=null,this.adWrapperAdSystems=null,this.adWrapperCreativeIds=null,this.hasAdUI=!1,this.playerInitialized=!1,this.emptyInitAdTagUrl=!1,this.adScheduleInput=!1,this.currentAdForCompanion=null,this.adPodInfo=null,this.adErrorCode=-1,this.adErrorMessage="",this.adErrorType="",this.adVastErrorCode=-1,this.originalAdTagUrl=null,this.originalAdTagWaterfall=[],this.isVPAID=!1,this.adCountdownInterval=null,this.onEndedWaitForPlay=a,this.onRePlayLoadAdTag=a,this.onAdLoadedAfterReload=a,this.adRemainingTimeBarInterval=null,this.firstPreroll=!0,this.currentiOSSrc="",this.onIosStartShowFS=a,this.onIphone10PlusHideFS=a,this.onAdBlockDetected=null,this.onNoAdBlockDetected=null,this.imaLoadTimeout=null,this.imaLoadCancel=!1,this.adSkipInterval=null,this.onContentResumeRequestedLoadAds=a,this.onAdStartedPostRollUpdateCentralUI=a,this.onAdOnStageUpdatePrerollMask=a,this.setSrcAdReset=!1,this.setSrcResetIMA=a,this.runAdsManagerInterval=null,this.adOutStreamSkin=!1,this.postImaAdDestroy=null,this.imaDaiStreamManager=null,this.imaDaiLive=!1,this.imaDaiVod=!1,this.imaDaiAdCurrentTime=-1,this.rmpVast=null,this.onRmpVastAdStarted=a,this.onRmpVastAdDestroyed=a,this.onRmpVastAdError=a,this.onRmpVastAdInteraction=a,this.onRmpVastAdLinearChanged=a,this.onRmpVastAdPlayPause=a,this.adErrorDetected=!1,this.onAdTagStartLoading=a,this.setSrcResetRmpVast=a,this.initialAutoplayRequest=!1,this.onAdAutoplayFailed=a,this.onAdAutoplaySuccess=a,this.liveAdSchedulerChecker=null,this.liveAdSchedulerCheckerIndex=0,this.adSchedulerChecker=a,this.adSchedulerEnded=a,this.playScheduler=a,this.pauseScheduler=a,this.adParserLoaded=!1,this.adParserLoadError=!1,this.analyticsSecondsPlayed=0,this.startUpTime=-1,this.heatMapArray=[],this.startUpLogPlaying=a,this.appendFormDataAndSendLog=a,this.logGaReady=a,this.logGaPlayerStart=a,this.logGaSrcChanged=a,this.logGaError=a,this.logGaAdImpression=a,this.logGaAdLoaderError=a,this.logGaAdError=a,this.logGaAdLoadError=a,this.logGaAdPlayError=a,this.logGaFullscreen=a,this.logGaEnded=a,this.logGaSeeking=a,this.logGaAdClick=a,this.logGaAdClientSideWaterfallRequested=a,this.gaContext=!1,this.analyticsInterval=null,this.analyticsPlay=a,this.analyticsPause=a,this.updateHeatMap=null,this.gaCommand="send",this.gaSeekingSending=!1,this.runLogs=a,this.runLogsOnSrcChanged=a,this.licUrl="",this.isLicValid="false",this.shakaPlayer=null,this.shakaVideoRenditions=[],this.shakaTextTracks=[],this.shakaError=a,this.shakaAdaptationChanged=a,this.shakaBuffering=a,this.shakaUnstalledBuffer=a,this.shakaTracksChanged=a,this.shakaCurrentLevel=null,this.configureShakaCapLevelToPlayerSize=a,this.shakaOnPlayingResetRetriesCount=a,this.shakaOfflineList=null,this.shakaOfflineDownloadProgress=-1,this.hlsJS=null,this.hlsID3TagData=null,this.hlsEpochProgramDateTime=-1,this.hlsRawProgramDateTime=null,this.hlsFragmentData=null,this.hlsFragmentBeingPlayed=null,this.hlsLevelData=null,this.hlsManifestData=null,this.hlsJSLevelDuration=-1,this.hlsOnPauseStopLoad=a,this.hlsOnPlayStartLoad=a,this.hlsOnFirstPlaying=a,this.hlsJSUnstalledBuffer=null,this.hlsManifestParsed=a,this.hlsJSAttachMultiAudio=a,this.hlsJSOnLiveRetriesSuccess=a,this.initHLSJS=a,this.bwEstimate=-1,this.hlsJSCEA=!1,this.hlsJSAbrInterval=null,this.hlsJSErrorRetryTimeout=null,this.hlsResizeLevelSwitch=null,this.videoWidth=0,this.videoHeight=0,this.exitFSDestroy=null,this.proceedDestroy=!0,this.adsDestroyed=!1,this.dvrLiveMode=!0,this.castReady=a,this.castInit=a,this.castMedia=null,this.remotePlayer=null,this.remotePlayerController=null,this.castMediaLoaded=!1,this.castConnected=!1,this.castUrl="",this.loadCastMedia=a,this.remotePlayerState="",this.googleCastCCForegroundColor="FFFFFF99",this.googleCastCCBackgroundColor="00000070",this.googleCastCCFontScale=.9,this.onAirPlayClick=a,this.onAirPlayAvailabilityChanged=a,this.onLoadedmetadataShowAirPlay=a,this.defaultTrack=0,this.textTracks=[],this.hasCC=!1,this.addNativeVTT=a,this.updateCues=a,this.updateCuesResize=a,this.ccData=null,this.ccCues=[],this.ccEnabled=!1,this.loadedCCFiles=[],this.ccFilesReady=!1,this.hlsJSCCInterval=null,this.startIndexCC=0,this.loadVTTFiles=a,this.lat=0,this.lon=0,this.mouseDown=!1,this.dragStart={},this.progressiveInterval=null,this.progressiveMoveInprogress=!1,this.animate360=a,this.onReadyMain360=a,this.onPlayingUpdate360UI=a,this.requestAnimation360=null,this.texture360=null,this.renderer360=null,this.camera360=null,this.scene360=null,this.mesh360=null,this.canvas360=null,this.streamrootWrapper=null,this.hasStreamroot=!1,this.thumbnailsArray=[],this.thumbnailURIs=[],this.thumbnailURIsTimestamps=[],this.currentThumbnailURI="",this.hasThumbnails=!1,this.dummyThumbnailsImg=null,this.onThumbnailsLoad=a,this.onThumbnailsError=a,this.chaptersArray=[],this.hasChapters=!1,this.onLoadedmetadaAddChapters=a,this.licType="rmp",this.hasRelated=!1,this.relatedList=[],this.currentRelatedIndex=0,this.relatedOnSrcChangedLoadAd=a,this.hasPlaylist=!1,this.playlistList=[],this.currentPlaylistIndex=0,this.playlistOnSrcChangedLoadAd=a,this.ajaxInternalTimeout=1e4,this.refTime=0,this.ragnarok=s,this.rmpDev="site.rmp",this.originLocal="localhost",this.altLocal="127.0.0.1"}};i.default=r},{}],49:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={licenseKey:"",width:"100%",height:360,iframeMode:!1,iframeAllowed:!0,autoHeightMode:!1,autoHeightModeRatio:1.7777777778,backgroundColor:"000000",skin:"s1",skinBackgroundColor:"",skinButtonColor:"",skinAccentColor:"",hideControls:!1,hideCentralPlayButton:!1,hideCentralBuffering:!1,hideSeekBar:!1,hideFullscreen:!1,autoplay:!1,detectAutoplayCapabilities:!0,viewableAutoplay:!1,viewablePlayPause:!1,viewableThreshold:.5,srcChangeAutoplay:!0,poster:"",endOfVideoPoster:"",posterScaleMode:"letterbox",scaleMode:"letterbox",loop:!1,muted:!1,permanentMuted:!1,initialVolume:1,rememberVolume:!0,disableKeyboardControl:!1,preload:"none",delayToFade:2500,contentTitle:"",contentDescription:"",contentID:"",videoTitle:"",appName:"",logo:"",logoLoc:"",logoWatermark:!1,logoPosition:"topleft",logoMargin:"8px",sharing:!1,sharingUrl:"",sharingCode:"",sharingNetworks:["facebook","twitter","email"],audioOnly:!1,debugLevel:1,debugOverlayEnv:!1,pathToRmpFiles:".",offsetStartPosition:0,quickRewind:0,fadeInPlayer:!0,uiSeparator:"-",ajaxWithCredentials:!1,ajaxTimeout:1e4,allowLocalStorage:!0,dashFirst:!1,shakaStartLevel:-1,shakaStreamingBufferBehind:30,shakaStreamingBufferingGoal:20,shakaStreamingRebufferingGoal:4,shakaStreamingIgnoreTextStreamFailures:!1,shakaRetryParameters:{},shakaRestrictions:{},shakaDrm:{},shakaRequestConfiguration:{},shakaPreferredAudioLanguage:"",shakaCapLevelToPlayerSize:!0,shakaOffline:!1,shakaOfflinePreferredTrackQuality:-1,shakaUsePersistentLicense:!0,shakaJumpLargeGaps:!1,shakaSmallGapLimit:.5,shakaBandwidthDowngradeTarget:.95,shakaBandwidthUpgradeTarget:.75,shakaCustomConfig:{},shakaCustomRequestFilter:null,shakaManifestDashDefaultPresentationDelay:10,hlsJSCapLevelToPlayerSize:!0,hlsJSMaxBufferLength:30,hlsJSMaxBufferSize:0,hlsJSStartLevel:-1,hlsJSXhrWithCredentials:!1,hlsJSXhrSetup:null,hlsJSEnableCaptions:!0,hlsJSDefaultAudioCodec:"auto",hlsJSLiveSyncDuration:30,hlsJSMinAutoBitrate:0,hlsJSAppleAppStoreCompliance:!1,hlsJSStopDownloadWhilePaused:!1,hlsJSAbrBandWidthFactor:.95,hlsJSAbrBandWidthUpFactor:.75,hlsJSMaxAudioFramesDrift:1,hlsJSCustomConfig:{},forceHlsJSOnMacOSSafari:!1,forceNativeHlsOverHlsJS:!1,hlsEngine:"hlsjs",hlsJSUseManifestRenditionName:!1,fpsDrm:{},bitrates:{},backupBitrates:{},src:{},backupSrc:{},initialBitrate:0,labels:{bitrates:{auto:"Auto",renditions:["auto"]},hint:{sharing:"Share",quality:"Quality",speed:"Speed",captions:"Captions",audio:"Audio",chapters:"Chapters",live:"Live",cast:"Cast",airplay:"AirPlay",playlist:"Playlist",related:"Related",upNext:"Up Next"},captions:{off:"Off"},error:{customErrorMessage:"This content is currently unavailable",noSupportMessage:"No playback support",noSupportDownload:"You may download video here",noSupportInstallChrome:"Using the latest version of Google Chrome may help to view this content",noSupportInstallChromeLink:"https://www.google.com/chrome/"},ads:{controlBarCustomMessage:"Ad",skipMessage:"Skip ad",skipWaitingMessage:"Skip ad in",textForClickUIOnMobile:"Learn more"}},hideExternalPlayerLabels:!1,webmCodecs:{video:"vp8",audio:"vorbis"},oggCodec:"vorbis",webmFirst:!1,isLive:!1,liveRetries:1/0,isLiveDvr:!1,ccFiles:[],crossorigin:"",ccFontSize:-1,ccFSFontSize:-1,ccTextColor:"FFFFFF",ccBackgroundColor:"000000",ccBackgroundAlpha:.85,ccParser:"vtt.js",gaTrackingId:"",gaCategory:"RMP",gaLabel:"RMP label",gaNamedTracker:"",gaEvents:[],gaAnonymizeIp:!1,gaNonInteractionEvents:!1,heatMap:!1,heatMapAccuracy:20,seekBarThumbnailsLoc:"",chaptersLoc:"",nav:!1,navRates:[.25,.5,1,1.5,2,4],googleCast:!0,googleCastReceiverAppId:"C899A03E",googleCastPoster:"",googleCastMetadataType:"GENERIC",googleCastContentTitle:"",googleCastReleaseDate:"",airplay:!0,ads:!1,adTagUrl:"",adSkipButton:!1,adSkipOffset:5,adsResponse:"",adAutoplayOnlyPreroll:!1,adImaTest:!1,adTagWaterfall:[],adLocale:"en",adUseStyledNonLinearAds:!0,adSchedule:{},adVpaidMode:"insecure",adVpaidControls:!1,adContentDuration:0,adContentKeywords:"",adContentTitle:"",adForceNonLinearFullSlot:!1,adTagReloadOnEnded:!1,adShowRemainingTime:!1,adAutoAlign:!0,adDisableCustomPlaybackForIOS10Plus:!1,adEnablePreloading:!1,adImaDai:!1,adImaDaiVodContentSourceId:"",adImaDaiVodVideoId:"",adImaDaiLiveAssetKey:"",adImaDaiApiKey:"",adImaDaiBackupStream:"",adImaDaiAdTagParameters:{},adImaDaiStreamActivityMonitorId:"",adOutStream:!1,adOutStreamMutedAutoplay:!0,adAjaxWithCredentials:!0,adRmpVastEnableVpaid:!0,adLoadMediaTimeout:8e3,adLoadVastTimeout:5e3,adMaxNumRedirects:4,adCountDown:!1,adPauseOnClick:!0,adParser:"ima",adBlockerDetection:!1,adBlockerDetectedPreventPlayback:!1,adBlockerDetectedMessage:"Ad-blocker software detected. To view this content please disable your ad-blocker.",relatedLoc:"",relatedData:[],relatedUpNextOffset:10,relatedUpNextAutoplay:!0,relatedEndedLoop:!1,playlistLoc:"",playlistData:[],playlistUpNextAutoplay:!0,playlistEndedLoop:!1,video360:!1,video360FocalLength:65,video360MaxFocalLength:115,video360MinFocalLength:25,video360InitialLat:0,video360InitialLon:0,video360FallbackBitrates:{},video360FallbackSrc:{},customModule:[],streamrootConfig:{}};i.default=a},{}],50:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("./fw"),r=(a=s)&&a.__esModule?a:{default:a};var n={};window.MediaSource=window.MediaSource||window.WebKitMediaSource;var o,l,d,m=document.createElement("video"),v=void 0!==m.canPlayType,g=document.createElement("audio"),y=void 0!==g.canPlayType,h=!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch),c=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:null,u=window.location&&window.location.protocol?window.location.protocol.toLowerCase():null,f=function(t){if(null!==c){var e=c.match(t);if(Array.isArray(e)&&void 0!==e[1])return parseInt(e[1],10)}return-1},p=/os\s+(\d+)_(\d+)/i,b=function(){if(null!==c){var t=c.match(p);if(Array.isArray(t)&&void 0!==t[1]&&void 0!==t[2])return parseInt(t[2],10)}return-1}(),S=/os\s+(\d+)/i,E=(o=[!1,-1],h&&/(ipad|iphone|ipod)/i.test(c)&&(o=[!0,f(S)]),o),A=/(iphone|ipod)/i,C=/ipad/i,k=/(macintosh|mac\s+os)/i,w=!(E[0]||!k.test(c)),P=/version\/(\d+)/i,_=/(chrome|chromium|android|crios|fxios)/i,L=(l=!1,d=-1,/safari\/[.0-9]*/i.test(c)&&!_.test(c)&&(l=!0,d=f(P)),[l,d]),T=[!1,-1];w&&L[0]&&(T=[!0,L[1]]);var I,M=/android/i,x=/android\s*(\d+)/i,R=(I=[!1,-1],E[0]||!h||M.test(c)&&(I=[!0,f(x)]),I),D=!1;(E[0]||R[0])&&(D=!0);var O=!!(E[0]&&window.navigator&&void 0!==window.navigator.standalone&&window.navigator.standalone)||!(!R[0]||"function"!=typeof window.matchMedia||!window.matchMedia("(display-mode: standalone)").matches),j=/(samsungbrowser\/|firefox\/|opr\/)/i,V=/chrome\/[.0-9]*/i,F=/wv/,N=/version\/[.0-9]*/i,U=/(version\/|safari\/|crios|fxios)/i;n.isAndroidWebView=!(j.test(c)||!R[0]||O||!(R[1]<5&&N.test(c))&&!(5<=R[1]&&V.test(c)&&F.test(c))),n.isIosWebView=!(!E[0]||U.test(c)||O);var B=!1;(n.isAndroidWebView||n.isIosWebView)&&(B=!0),n.isWebView=B;var H,W,q,J=/samsungbrowser\//i,z=/samsungbrowser\/(\d+)/i,G='video/mp4; codecs="avc1.42E01E,mp4a.40.2"',K=function(){if(v&&""!==m.canPlayType(G))return!0;return!1},Y=K(),Q=/vp9|vp09\./i,X=!(!v||void 0===window.MediaSource||"function"!=typeof window.MediaSource.isTypeSupported),$=void 0!==window.MediaKeys||void 0!==window.WebKitMediaKeys||void 0!==window.MSMediaKeys,Z='video/mp4; codecs="hvc1.1.6.L63.90,mp4a.40.29"',tt='video/mp4; codecs="hev1.1.6.L63.90,mp4a.40.29"',et=(H=1,"number"==typeof window.devicePixelRatio&&1<window.devicePixelRatio&&(H=window.devicePixelRatio),H);n.getViewportSize=function(){var t=-1,e=-1;return r.default.isNumber(window.innerWidth)&&0<window.innerWidth&&r.default.isNumber(window.innerHeight)&&0<window.innerHeight&&(t=window.innerWidth,e=window.innerHeight),{width:t,height:e}},c&&(n.userAgent=c),n.isInIframe=function(){try{if(window.parent!==window)return!0}catch(t){return r.default.trace(t),!1}return!1}(),n.isSamsungInternet=(W=[!1,-1],R[0]&&J.test(c)&&(W=[!0,f(z)]),W),n.okMp4=K(),n.testWebM=function(t){var e="vp8",i="vorbis";t&&t.video&&t.audio&&(Q.test(t.video)&&(e=t.video),"opus"===t.audio&&(i=t.audio));var a='video/webm; codecs="'+e+", "+i+'"';if(v&&""!==m.canPlayType(a))return!0;return!1},n.okWebM=function(){if(v&&""!==m.canPlayType('video/webm; codecs="vp8,vorbis"'))return!0;return!1}(),n.hasHevcSupport=!E[0]&&!T[0]&&!(!v||""===m.canPlayType(Z)&&""===m.canPlayType(tt)),n.hasMseHevcSupport=!(!X||!window.MediaSource.isTypeSupported(Z)&&!window.MediaSource.isTypeSupported(tt)),n.okM4a=function(){var t=!1;y&&""!==g.canPlayType('audio/mp4; codecs="mp4a.40.2"')&&(t=!0);return t}(),n.okMp3=function(){var t=!1;y&&""!==g.canPlayType("audio/mpeg")&&(t=!0);return t}(),n.testOgg=function(t){var e="vorbis";if("opus"===t&&(e=t),y){var i='audio/ogg; codecs="'+e+'"';if(""!==g.canPlayType(i))return!0}return!1},n.okHls=function(){if(v&&Y){var t=m.canPlayType("application/vnd.apple.mpegurl"),e=m.canPlayType("application/x-mpegurl");if(""!==t||""!==e)return!0}return!1}(),n.okHlsJS=!(!X||!window.MediaSource.isTypeSupported(G)),n.okHlsHevc=function(t,e,i,a){if(v){if(E[0]&&10<E[1])return!0;if(T[0]&&10<T[1]&&i)return!0;if(i&&e||t&&(a||i))return!0}return!1}(n.okHls,n.okHlsJS,n.hasMseHevcSupport,n.hasHevcSupport),n.okDash=!(!X||void 0===window.Promise||void 0===window.Uint8Array||void 0===Array.prototype.forEach||T[0]&&T[1]<9),n.okFps=!!(v&&$&&(T[0]&&9<=T[1]||E[0]&&10<E[1])),n.ok360=function(){var e=!1;try{var t=document.createElement("canvas"),i=t.getContext("webgl")||t.getContext("experimental-webgl")||t.getContext("webgl2");"function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame&&i&&i instanceof window.WebGLRenderingContext&&(e=!0)}catch(t){r.default.trace(t)}if(e){var a=void 0;try{a=!!window.MSInputMethodContext&&!!document.documentMode}catch(t){return r.default.trace(t),e}(E[0]&&(E[1]<11||11===E[1]&&b<3)||T[0]&&T[1]<11||a)&&(e=!1)}return e}(),n.hasIntersectionObserver=void 0!==window.IntersectionObserver,n.html5Video=v,n.html5Audio=y,n.getProtocol=u,n.isIos=E,n.isIphone=!(!h||!A.test(c)),n.isIpad=!(!h||!C.test(c)),n.isMacosSafari=T,n.isAndroid=R,n.isMobile=D,n.isStandalone=O,n.okMse=X,n.okEme=$,n.devicePixelRatio=et,n.fallbackArbitraryBWEstimate=function(){var t=7e5;D?(t=35e4,3<=et&&(t=525e3)):3840<=Math.max(r.default.getScreenWidth(),r.default.getScreenHeight())&&(t=14e5);return t}(),n.hasPassiveEventListeners=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){r.default.trace(t)}return t}(),n.localStorage=function(t){if(!t)return!1;try{if(window.localStorage){var e=window.localStorage,i="__storage_test__";return e.setItem(i,i),e.removeItem(i),!0}return!1}catch(t){return r.default.trace(t),!1}},n.formData=function(){if(void 0!==window.FormData)try{return(new FormData).append("test","test"),!0}catch(t){return!1}return!1},n.isOnline=function(){return!window.navigator||"boolean"!=typeof window.navigator.onLine||!1!==window.navigator.onLine},n.hasNativeFullscreenSupport=!(!(q=document.documentElement)||void 0===q.requestFullscreen&&void 0===q.webkitRequestFullscreen&&void 0===q.mozRequestFullScreen&&void 0===q.msRequestFullscreen&&void 0===m.webkitEnterFullscreen),n.requestFullscreen=function(t,e){if(t&&e)try{void 0!==t.requestFullscreen?t.requestFullscreen():void 0!==t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):void 0!==t.mozRequestFullScreen?t.mozRequestFullScreen():void 0!==t.msRequestFullscreen?t.msRequestFullscreen():e&&void 0!==e.webkitEnterFullscreen&&e.webkitEnterFullscreen()}catch(t){r.default.trace(t)}},n.exitFullscreen=function(t){try{void 0!==document.exitFullscreen?document.exitFullscreen():void 0!==document.webkitExitFullscreen?document.webkitExitFullscreen():void 0!==document.mozCancelFullScreen?document.mozCancelFullScreen():void 0!==document.msExitFullscreen?document.msExitFullscreen():t&&void 0!==t.webkitExitFullscreen&&t.webkitExitFullscreen()}catch(t){r.default.trace(t)}},n.canPlayType=function(t,e,i,a,s,r){var n="video";-1<["video","audio"].indexOf(e)&&(n=e);var o="mp4";-1<["mp4","webm","mp3","m4a","mp2t","ogg","oga"].indexOf(i)&&(o=i);var l=void 0;"string"==typeof s&&""!==s&&(l=s);var d=void 0;"string"==typeof a&&""!==a&&(d=a);var h=void 0;"string"==typeof r&&""!==r&&(h=r);var c="native";-1<["native","mse"].indexOf(t)&&(c=t);var u=void 0;switch(n){case"video":if(!v)return!1;u=m;break;case"audio":if(!y)return!1;u=g}var f=n+"/"+o;if("video"===n&&d&&l)f+='; codecs="'+d+", "+l+'"';else if("video"===n&&d&&!l)f+='; codecs="'+d+'"';else{if("audio"!==n||!l)return null;f+='; codecs="'+l+'"'}h&&(f+='; eotf="'+h+'"');var p=!1;"native"===c?""!==u.canPlayType(f)&&(p=!0):X&&window.MediaSource.isTypeSupported(f)&&(p=!0);return p},i.default=n},{"./fw":51}],51:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u={blackFrame:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",nullFn:function(){return null}},a=function(t){return document[t]?document[t]:null!==document.querySelector(t)?document.querySelector(t):null},s=function(){if("number"==typeof window.pageXOffset)return window.pageXOffset;if(document.documentElement&&"number"==typeof document.documentElement.scrollLeft&&0<document.documentElement.scrollLeft)return document.documentElement.scrollLeft;var t=a("body");return t&&"number"==typeof t.scrollLeft&&0<t.scrollLeft?t.scrollLeft:0},r=function(){if("number"==typeof window.pageYOffset)return window.pageYOffset;if(document.documentElement&&"number"==typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop)return document.documentElement.scrollTop;var t=a("body");return t&&"number"==typeof t.scrollTop&&0<t.scrollTop?t.scrollTop:0};u.getPosX=function(t){if(t){if("number"==typeof t.pageX)return t.pageX;if("number"==typeof t.clientX)return t.clientX+s()}return 0},u.getPosXTouch=function(t){return t&&t.changedTouches&&t.changedTouches[0]&&u.isNumber(t.changedTouches[0].pageX)?t.changedTouches[0].pageX:0},u.getPosY=function(t){if(t){if("number"==typeof t.pageY)return t.pageY;if("number"==typeof t.clientY)return t.clientY+r()}return 0},u.getPosYTouch=function(t){return t&&t.changedTouches&&t.changedTouches[0]&&u.isNumber(t.changedTouches[0].pageY)?t.changedTouches[0].pageY:0},u.isNumber=function(t){return!(void 0===t||"number"!=typeof t||!Number.isFinite(t))},u.setStyle=function(t,e){if(t&&u.isObject(e))for(var i=Object.keys(e),a=0,s=i.length;a<s;a++){var r=i[a];t.style[r]=e[r]}},u.getComputedStyle=function(t,e){var i="";if(t&&"function"==typeof window.getComputedStyle){var a=window.getComputedStyle(t,null);a&&(i=(i=a.getPropertyValue(e)).toString().toLowerCase())}return i};var o=function(t,e){var i=u.getComputedStyle(t,e)||0;return-1<(i=i.toString()).indexOf("px")&&(i=i.replace("px","")),parseFloat(i)};u.getWidth=function(t){return t?"number"==typeof t.offsetWidth&&0!==t.offsetWidth?t.offsetWidth:o(t,"width"):0},u.getTrueWidth=function(t){var e=0;if(t&&0<(e=u.getWidth(t))){var i=0,a=o(t,"padding-left");0<a&&(i+=a);var s=o(t,"padding-right");0<s&&(i+=s);var r=o(t,"border-left-width");0<r&&(i+=r);var n=o(t,"border-right-width");0<n&&(i+=n),e-=i}return e},u.getHeight=function(t){return t?"number"==typeof t.offsetHeight&&0!==t.offsetHeight?t.offsetHeight:o(t,"height"):0},u.getTrueHeight=function(t){var e=0;if(t&&0<(e=u.getHeight(t))){var i=0,a=o(t,"padding-top");0<a&&(i+=a);var s=o(t,"padding-bottom");0<s&&(i+=s);var r=o(t,"border-top-width");0<r&&(i+=r);var n=o(t,"border-bottom-width");0<n&&(i+=n),e-=i}return e},u.getAbsLeft=function(t){return t&&t.getBoundingClientRect().left+s()||0},u.getAbsTop=function(t){return t&&t.getBoundingClientRect().top+r()||0},u.setText=function(t,e){t&&"string"==typeof e&&(t.textContent=e)},u.setClass=function(t,e){t&&void 0!==t.className&&"string"==typeof e&&""!==e&&(t.className=e)},u.addClass=function(t,e){t&&void 0!==t.className&&"string"==typeof e&&""!==e&&(""!==t.className?-1===t.className.indexOf(e)&&(t.className=(t.className+" "+e).replace(/\s\s+/g," ")):t.className=e)},u.removeClass=function(t,e){t&&void 0!==t.className&&"string"==typeof e&&""!==e&&-1<t.className.indexOf(e)&&(t.className=t.className.replace(e,"").replace(/\s\s+/g," "))},u.hasClass=function(t,e){return!!(t&&"string"==typeof t.className&&"string"==typeof e&&""!==e&&-1<t.className.indexOf(e))},u.removeElement=function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){u.trace(t)}},u.createStdEvent=function(t,e){var i=void 0;if(e)if("function"==typeof window.Event)try{i=new Event(t),e.dispatchEvent(i)}catch(t){u.trace(t)}else try{(i=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(i)}catch(t){u.trace(t)}},u.createCustomEvent=function(t,e,i){if(e&&"function"==typeof window.CustomEvent)try{var a=new CustomEvent(t,{detail:i});e.dispatchEvent(a)}catch(t){u.trace(t)}},u.removeEvent=function(t,e,i){"function"==typeof i&&e&&(Array.isArray(t)?t.forEach(function(t){e.removeEventListener(t,i)}):e.removeEventListener(t,i))},u.addEvent=function(t,e,i){"function"==typeof i&&e&&(Array.isArray(t)?t.forEach(function(t){e.addEventListener(t,i)}):e.addEventListener(t,i))},u.appendToHead=function(t){try{var e=a("head");e||(e=a("body")),e&&t&&e.appendChild(t)}catch(t){u.trace(t)}},u.isVisible=function(t){return!(!t||"visible"!==t.style.visibility)},u.show=function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;e++)t[e]&&(t[e].style.display="block");else t&&(t.style.display="block")},u.fadeIn=function(t){t&&(1===t.style.opacity&&"visible"===t.style.visibility||setTimeout(function(){u.setStyle(t,{opacity:1,visibility:"visible"})},1))},u.hide=function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;e++)t[e]&&(t[e].style.display="none");else t&&(t.style.display="none")},u.fadeOut=function(t){t&&(0===t.style.opacity&&"hidden"===t.style.visibility||setTimeout(function(){u.setStyle(t,{opacity:0,visibility:"hidden"})},1))},u.readableTime=function(t){if("number"==typeof t&&0<=t){var e=Math.floor(t%60),i=Math.floor(1*t/60),a=0;return 59<i&&(a=Math.floor(1*t/3600),i=Math.floor(1*t/3600%1*60),e=Math.floor(t%60)),e<10&&(e="0"+e),i<10&&(i="0"+i),0<a?a+=":":0===a&&(a=""),a+i+":"+e}return""},u.dateToSeconds=function(t){var e=t.match(/(\d+:)?(\d+):(\d+)\.(\d+)/);if(!(1<e.length))return null;e.shift();var i=0;if(e[0]){var a=e[0];-1<a.indexOf(":")&&(a=a.replace(":","")),i+=60*parseInt(a)*60}return e[1]&&(i+=60*parseInt(e[1])),e[2]&&(i+=parseInt(e[2])),e[3]&&(i+=parseInt(e[3])/1e3),i},u.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},u.srcExists=function(t,e){if("mp4"===e||"webm"===e||"mp4Hevc"===e){if(Array.isArray(t)&&"string"==typeof t[0]&&""!==t[0])return!0}else if("string"==typeof t&&""!==t)return!0;return!1},u.filterInitialBitrate=function(t,e){return t<0||"string"!=typeof e[t]?0:t},u.isObject=function(t){return null!=t&&"object"==typeof t},u.isEmptyObject=function(t){return!(!u.isObject(t)||0!==Object.keys(t).length)},u.ajax=function(a,s,r,n){return new Promise(function(t,e){if("undefined"!=typeof XMLHttpRequest){var i=new XMLHttpRequest;i.open(n,a,!0),i.timeout=s,r&&(i.withCredentials=!0),i.onloadend=function(){"number"==typeof i.status&&200<=i.status&&i.status<300?"HEAD"===n?t():"string"==typeof i.responseText&&""!==i.responseText?t(i.responseText):e():e()},i.ontimeout=function(){e()},i.send(null)}else e()})},u.getFQURL=function(t,e){var i=t.split("/"),a=e.split("/");i.pop();for(var s=0;s<a.length;s++)"."!==a[s]&&(".."===a[s]?i.pop():i.push(a[s]));return i.join("/")},u.getNow=function(){return window.performance&&window.performance.now?Math.round(window.performance.now()):window.Date?Date.now():void 0},u.getRandomInt=function(t,e){var i=Math.ceil(t),a=Math.floor(e);return Math.floor(Math.random()*(a-i))+i},u.cssPropertySupport=function(t){var e=!1,i=document.createElement("div");try{i&&"string"==typeof t&&void 0!==i.style[t]&&(e=!0)}catch(t){u.trace(t)}return i=null,e};var n=function(t){if(t&&t.type){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();u.createStdEvent(e,document)}};u.polyfillFullscreenEvents=function(){document.addEventListener("webkitfullscreenchange",n),document.addEventListener("webkitfullscreenerror",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("mozfullscreenerror",n),document.addEventListener("MSFullscreenChange",n),document.addEventListener("MSFullscreenError",n)},u.stopPropagation=function(t){t&&t.stopPropagation()},u.contextMenuInteraction=function(t){t&&(t.stopPropagation(),t.preventDefault())},u.selectText=function(t,e){e&&e.stopPropagation(),t&&t.select()},u.updateAriaLabel=function(t,e){e&&t&&t.setAttribute("aria-label",e)},u.hideAria=function(t){t&&t.setAttribute("aria-hidden","true")};var l=!(u.preventKeyDown=function(t){if(t){var e=t.which;e&&(32!==e&&70!==e&&37!==e&&39!==e&&38!==e&&40!==e&&77!==e||t.preventDefault())}});window.console&&"function"==typeof window.console.log&&(l=!0);u.log=function(t,e){l&&void 0!==e&&("string"==typeof e&&t?window.console.log("rmp ("+t+"): "+e):window.console.log(e))};window.console&&window.console.trace,u.trace=function(t){0},u.appendStyle=function(t){if(t){var e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t)),u.appendToHead(e)}},u.RFC3986EncodeURIComponent=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},u.getScreenWidth=function(){return window.screen&&"number"==typeof window.screen.width&&0<window.screen.width?window.screen.width:-1},u.getScreenHeight=function(){return window.screen&&"number"==typeof window.screen.height&&0<window.screen.height?window.screen.height:-1},u.filterTextTracks=function(t){var e=[];if(!t||t.length<1)return e;for(var i=/(captions|subtitles|subtitle)/i,a=0,s=t.length;a<s;a++){var r=t[a];("string"==typeof r.kind&&i.test(r.kind)||"string"==typeof r.type&&i.test(r.type))&&e.push(r)}return e},u.isValidTextTracksSet=function(t){return!!(Array.isArray(t)&&Array.isArray(t[0])&&t[0][0]&&t[0][1]&&t[0][2])},u.clearTimeout=function(t){t&&clearTimeout(t)},u.clearInterval=function(t){t&&clearInterval(t)},u.addEventListenerCSS=function(){var t=document.createElement("link"),e=!1;return t.addEventListener&&(e=!0),t=null,e},u.getScript=function(t,e,i){if("string"==typeof t&&"function"==typeof e&&"function"==typeof i){var a=document.createElement("script");void 0!==a.onload&&void 0!==a.onerror&&(void 0!==a.async&&(a.async=!0),a.onload=e,a.onerror=i),a.src=t,u.appendToHead(a)}},u.filterPlaylist=function(t){for(var e=t,i=[],a=void 0,s=0,r=e.length;s<r;s++)if(u.isObject(e[s].src)||u.isObject(e[s].bitrates)){if(u.isObject(e[s].bitrates)&&!u.isObject(e[s].src)){var n=e[s].bitrates;e[s].src=n}if(u.srcExists(e[s].src.hlsHevc,"hlsHevc"))a="hlsHevc";else if(u.srcExists(e[s].src.hls,"hls"))a="hls";else if(u.srcExists(e[s].src.dash,"dash"))a="dash";else if(u.srcExists(e[s].src.mp4Hevc,"mp4Hevc"))a="mp4Hevc";else if(u.srcExists(e[s].src.mp4,"mp4"))a="mp4";else{if(!u.srcExists(e[s].src.webm,"webm")){i.push(s);continue}a="webm"}for(var o=["contentTitle","contentDescription","poster","thumbnail","adTagUrl","contentDuration","src","seekBarThumbnailsLoc"],l=0,d=o.length;l<d;l++){var h=o[l];if("contentTitle"===h||"contentDescription"===h)"string"==typeof e[s][h]&&""!==e[s][h]||(e[s][h]="contentTitle"===h?"Video "+(s+1):"Playlist item "+(s+1));else if("thumbnail"===h||"poster"===h||"adTagUrl"===h||"contentDuration"===h||"related"===h||"seekBarThumbnailsLoc"===h){if("string"!=typeof e[s][h]||""===e[s][h]){"thumbnail"===h&&"string"==typeof e[s].poster&&""!==e[s].poster?e[s].thumbnail=e[s].poster:e[s][h]="";continue}}else if("src"===h){if("string"!=typeof e[s][h][a]&&!Array.isArray(e[s][h][a])){i.push(s);continue}}else if("adTagWaterfall"===h&&(!Array.isArray(e[s][h])||"string"!=typeof e[s][h][0]||""===e[s][h][0])){delete e[s][h];continue}}}else i.push(s);if(0<i.length)for(var c=i.length-1;0<=c;c--)e.splice(i[c],1);return e},u.setMediaCurrentTime=function(t,e){if(t&&u.isNumber(e)&&0<=e)try{t.currentTime=e}catch(t){u.trace(t)}},u.getMediaCurrentTime=function(t){return void 0!==t.currentTime&&u.isNumber(t.currentTime)&&0<=t.currentTime?t.currentTime:-1},u.getMediaDuration=function(t){return void 0!==t.duration&&u.isNumber(t.duration)&&0<=t.duration?t.duration:-1},u.clearNativeHtml5Buffer=function(t){try{t&&(t.removeAttribute("src"),t.load())}catch(t){u.trace(t)}},i.default=u},{}],52:[function(t,e,i){"use strict";t("core-js/modules/es6.typed.array-buffer"),t("core-js/modules/es6.typed.data-view"),t("core-js/modules/es6.typed.int8-array"),t("core-js/modules/es6.typed.uint8-array"),t("core-js/modules/es6.typed.uint8-clamped-array"),t("core-js/modules/es6.typed.int16-array"),t("core-js/modules/es6.typed.uint16-array"),t("core-js/modules/es6.typed.int32-array"),t("core-js/modules/es6.typed.uint32-array"),t("core-js/modules/es6.typed.float32-array"),t("core-js/modules/es6.typed.float64-array"),t("core-js/modules/es6.map"),t("core-js/modules/es6.set"),t("core-js/modules/es6.weak-map"),t("core-js/modules/es6.weak-set"),t("core-js/modules/es6.reflect.apply"),t("core-js/modules/es6.reflect.construct"),t("core-js/modules/es6.reflect.define-property"),t("core-js/modules/es6.reflect.delete-property"),t("core-js/modules/es6.reflect.get"),t("core-js/modules/es6.reflect.get-own-property-descriptor"),t("core-js/modules/es6.reflect.get-prototype-of"),t("core-js/modules/es6.reflect.has"),t("core-js/modules/es6.reflect.is-extensible"),t("core-js/modules/es6.reflect.own-keys"),t("core-js/modules/es6.reflect.prevent-extensions"),t("core-js/modules/es6.reflect.set"),t("core-js/modules/es6.reflect.set-prototype-of"),t("core-js/modules/es6.promise"),t("core-js/modules/es6.symbol"),t("core-js/modules/es6.object.freeze"),t("core-js/modules/es6.object.seal"),t("core-js/modules/es6.object.prevent-extensions"),t("core-js/modules/es6.object.is-frozen"),t("core-js/modules/es6.object.is-sealed"),t("core-js/modules/es6.object.is-extensible"),t("core-js/modules/es6.object.get-own-property-descriptor"),t("core-js/modules/es6.object.get-prototype-of"),t("core-js/modules/es6.object.keys"),t("core-js/modules/es6.object.get-own-property-names"),t("core-js/modules/es6.object.assign"),t("core-js/modules/es6.object.is"),t("core-js/modules/es6.object.set-prototype-of"),t("core-js/modules/es6.function.name"),t("core-js/modules/es6.string.raw"),t("core-js/modules/es6.string.from-code-point"),t("core-js/modules/es6.string.code-point-at"),t("core-js/modules/es6.string.repeat"),t("core-js/modules/es6.string.starts-with"),t("core-js/modules/es6.string.ends-with"),t("core-js/modules/es6.string.includes"),t("core-js/modules/es6.regexp.flags"),t("core-js/modules/es6.regexp.match"),t("core-js/modules/es6.regexp.replace"),t("core-js/modules/es6.regexp.split"),t("core-js/modules/es6.regexp.search"),t("core-js/modules/es6.array.from"),t("core-js/modules/es6.array.of"),t("core-js/modules/es6.array.copy-within"),t("core-js/modules/es6.array.find"),t("core-js/modules/es6.array.find-index"),t("core-js/modules/es6.array.fill"),t("core-js/modules/es6.array.iterator"),t("core-js/modules/es6.number.is-finite"),t("core-js/modules/es6.number.is-integer"),t("core-js/modules/es6.number.is-safe-integer"),t("core-js/modules/es6.number.is-nan"),t("core-js/modules/es6.number.epsilon"),t("core-js/modules/es6.number.min-safe-integer"),t("core-js/modules/es6.number.max-safe-integer"),t("core-js/modules/es6.math.acosh"),t("core-js/modules/es6.math.asinh"),t("core-js/modules/es6.math.atanh"),t("core-js/modules/es6.math.cbrt"),t("core-js/modules/es6.math.clz32"),t("core-js/modules/es6.math.cosh"),t("core-js/modules/es6.math.expm1"),t("core-js/modules/es6.math.fround"),t("core-js/modules/es6.math.hypot"),t("core-js/modules/es6.math.imul"),t("core-js/modules/es6.math.log1p"),t("core-js/modules/es6.math.log10"),t("core-js/modules/es6.math.log2"),t("core-js/modules/es6.math.sign"),t("core-js/modules/es6.math.sinh"),t("core-js/modules/es6.math.tanh"),t("core-js/modules/es6.math.trunc"),t("core-js/modules/web.timers"),t("core-js/modules/web.immediate"),t("core-js/modules/web.dom.iterable");var r=s(t("./fw/env")),n=s(t("./fw/fw")),a=s(t("./analytics/analytics")),o=s(t("./core/utils/license")),l=s(t("./360/360")),d=s(t("./playlist/related")),h=s(t("./playlist/playlist")),c=s(t("./core/accessible/accessible")),u=s(t("./core/run-player/runPlayer")),f=s(t("./core/resize/resize")),p=s(t("./fw/defaults/inner-defaults")),m=s(t("./core/utils/utils")),v=s(t("./core/utils/viewable")),g=s(t("./analytics/logs")),y=s(t("./core/ui/colors")),b=s(t("./abr/fps")),S=s(t("./ads/ads-helpers")),E=s(t("./cast/cast")),A=s(t("./vtt/captions")),C=s(t("./api/api")),k=s(t("./api/ads")),w=s(t("./api/bitrates")),P=s(t("./api/src")),_=s(t("./api/audio")),L=s(t("./api/destroy")),T=s(t("./api/offline")),I=s(t("./fw/autoplay"));function s(t){return t&&t.__esModule?t:{default:t}}!function(){if("undefined"!=typeof window&&void 0!==window.document&&void 0===window.RadiantMP){n.default.isObject(window.rmpGlobals)||(window.rmpGlobals={},window.rmpGlobals.castApiInitialized=!1,window.rmpGlobals.adBlockerDetected=null),window.RadiantMP=function(t){"string"==typeof t&&""!==t&&(this.id=t,this.dom={},this.dom.container=document.getElementById(this.id),p.default.set.call(this))},C.default.attach(window.RadiantMP),k.default.attach(window.RadiantMP),w.default.attach(window.RadiantMP),P.default.attach(window.RadiantMP),_.default.attach(window.RadiantMP),L.default.attach(window.RadiantMP),T.default.attach(window.RadiantMP),n.default.polyfillFullscreenEvents();var t=function(){if(f.default.initialSizing.call(this),this.audioOnly?this.dom.video=document.createElement("audio"):this.dom.video=document.createElement("video"),r.default.isIos[0]&&(""!==this.videoTitle&&(this.useVideoTitle=!0),this.useVideoTitle||""===this.contentTitle||(this.videoTitle=this.contentTitle,this.useVideoTitle=!0)),n.default.cssPropertySupport("objectFit")&&!this.audioOnly)switch(this.scaleMode){case"letterbox":n.default.addClass(this.dom.video,"rmp-object-fit-contain");break;case"zoom":n.default.addClass(this.dom.video,"rmp-object-fit-cover");break;case"stretch":n.default.addClass(this.dom.video,"rmp-object-fit-fill");break;case"none":n.default.addClass(this.dom.video,"rmp-object-fit-none");break;default:n.default.addClass(this.dom.video,"rmp-object-fit-contain")}if(y.default.apply.call(this),n.default.addClass(this.dom.video,"rmp-video"),"auto"!==this.preload&&"metadata"!==this.preload&&(this.preload="none"),this.autoplay&&(this.preload="auto"),r.default.isMobile&&(this.preload="none",n.default.addClass(this.dom.container,"rmp-mobile"),this.seekBarThumbnailsLoc="",this.delayToFade=Math.round(1.333*this.delayToFade)),this.ads&&this.adImaDai&&(this.adParser="ima",this.isLive&&this.adImaDaiLiveAssetKey?this.imaDaiLive=!0:this.adImaDaiVodContentSourceId&&this.adImaDaiVodVideoId?this.imaDaiVod=!0:this.ads=!1,(r.default.isIos[0]||r.default.isMacosSafari[0]&&!this.forceHlsJSOnMacOSSafari)&&(this.ads=!1,this.adImaDaiBackupStream?this.src={hls:this.adImaDaiBackupStream}:this.src={})),this.ads){if(this.adImaDai&&(this.hlsEngine="hlsjs"),"rmp-vast"!==this.adParser&&(this.adParser="ima"),this.adSkipButton&&"ima"===this.adParser&&(this.adSkipButton=!1),this.adOutStream&&(this.googleCast=!1,this.src={},this.adAutoplayOnlyPreroll=!1,this.adSchedule={},this.airplay=!1),!n.default.isEmptyObject(this.adSchedule)){if(Array.isArray(this.adSchedule.midrollRepeat)&&"number"==typeof this.adSchedule.midrollRepeat[0]&&"string"==typeof this.adSchedule.midrollRepeat[1]){this.adSchedule.midroll=[];for(var t=0;t<50;t++)this.adSchedule.midroll[t]=[this.adSchedule.midrollRepeat[0]*(t+1),this.adSchedule.midrollRepeat[1]];delete this.adSchedule.midrollRepeat}Array.isArray(this.adSchedule.preroll)&&(this.adSchedule.preroll=this.adSchedule.preroll[0]),Array.isArray(this.adSchedule.postroll)&&(this.adSchedule.postroll=this.adSchedule.postroll[0]),(this.adSchedule.preroll||this.adSchedule.postroll||Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&2===this.adSchedule.midroll[0].length)&&(this.adScheduleInput=!0,this.adTagUrl="",this.adTagWaterfall=[],this.adTagReloadOnEnded=!1,this.adSchedule.postroll&&this.loop&&delete this.adSchedule.postroll,this.adSchedule.preroll||(this.emptyInitAdTagUrl=!0,this.adSchedule.preroll=""),this.adSchedule.postroll||(this.adSchedule.postroll=""),Array.isArray(this.adSchedule.midroll)&&Array.isArray(this.adSchedule.midroll[0])&&2===this.adSchedule.midroll[0].length&&this.adSchedule.midroll.sort(function(t,e){return t[0]-e[0]}))}this.adAutoplayOnlyPreroll&&"rmp-vast"===this.adParser&&(this.adAutoplayOnlyPreroll=!1),r.default.isIos[0]&&this.loop&&(this.loop=!1),""!==this.adTagUrl&&(this.adTagUrl=S.default.replaceAdTagVar.call(this,this.adTagUrl)),""!==this.adTagUrl||""===this.adsResponse||this.adScheduleInput||this.hasRelated||this.hasPlaylist||(this.adTagUrl=this.adsResponse),this.adTagReloadOnEnded&&(this.originalAdTagUrl=this.adTagUrl,this.originalAdTagWaterfall=[].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this.adTagWaterfall)),this.adOutStream||S.default.onEndedReloadAdTag.call(this)),this.hasRelated||this.hasPlaylist||this.adScheduleInput||""!==this.adTagUrl||(this.emptyInitAdTagUrl=!0)}r.default.hasIntersectionObserver&&(this.viewableAutoplay||this.viewablePlayPause)&&((r.default.isMobile||r.default.isMacosSafari[0])&&(this.muted=!0),v.default.set.call(this)),(this.isLive||this.isLiveDvr)&&(this.isVod=!1,this.loop=!1,this.ccFiles=[],this.isLive&&n.default.addClass(this.dom.container,"rmp-live"),this.isLiveDvr&&(n.default.addClass(this.dom.container,"rmp-live-dvr"),this.hlsEngine="hlsjs")),this.dom.ccItems=[],n.default.isValidTextTracksSet(this.ccFiles)&&A.default.prepare.call(this),this.audioOnly?(n.default.addClass(this.dom.container,"rmp-audio-only"),this.labels.error.noSupportDownload="",this.labels.error.noSupportInstallChrome="",this.sharing=!1,this.logo="",this.contentTitle="",this.seekBarThumbnailsLoc="",this.ccFiles=[],this.hasCC=!1,this.nav=!1,this.ads&&(this.adParser="ima"),m.default.detectAudioSrc.call(this)):this.hasRelated||this.hasPlaylist||this.adOutStream||m.default.detectSrc.call(this),this.sharing&&""===this.sharingUrl&&(this.sharingUrl=document.URL),r.default.isIos[0]&&r.default.isIos[1]<10&&this.loop&&(this.loop=!1),""!==this.logo&&"bottomleft"!==this.logoPosition&&"topleft"!==this.logoPosition&&"topright"!==this.logoPosition&&"bottomright"!==this.logoPosition&&(this.logoPosition="topleft"),n.default.isEmptyObject(this.fpsDrm)||b.default.filterDrm.call(this)||(this.hasFps=!1),this.video360&&(r.default.ok360?(r.default.isIos[0]?(this.ads&&"ima"===this.adParser?this.adDisableCustomPlaybackForIOS10Plus=!0:this.ads=!1,this.fullWindowMode=!0):r.default.isMacosSafari[0]&&this.ads&&"rmp-vast"===this.adParser&&(this.ads=!1),this.googleCast=!1,this.airplay=!1,this.hlsJSCapLevelToPlayerSize=!1,this.shakaCapLevelToPlayerSize=!1,this.adAutoplayOnlyPreroll=!1,this.crossorigin="anonymous",l.default.load.call(this)):n.default.isEmptyObject(this.video360FallbackSrc)?(m.default.resetSrc.call(this),this.video360=!1):(this.src=this.video360FallbackSrc,this.video360=!1,m.default.resetSrc.call(this),m.default.detectSrc.call(this))),this.hasNativeFullscreenSupport=r.default.hasNativeFullscreenSupport,this.fullWindowMode&&(this.hasNativeFullscreenSupport=!1),r.default.isInIframe&&(this.fullWindowMode=!1),c.default.init.call(this),function(){this.licenseFailedDestroyRequested||(this.hasRelated?d.default.init.call(this):this.hasPlaylist?h.default.init.call(this):(a.default.init.call(this),g.default.init.call(this),u.default.init.call(this)))}.call(this)},s=function(){(""!==this.relatedLoc||Array.isArray(this.relatedData)&&n.default.isObject(this.relatedData[0]))&&(this.hasRelated=!0,""!==this.relatedLoc&&Array.isArray(this.relatedData)&&n.default.isObject(this.relatedData[0])&&(this.relatedLoc=""),this.quickRewind=0,this.srcChangeAutoplay||(this.relatedUpNextAutoplay=!1),this.relatedUpNextAutoplay&&(this.loop=!1)),(""!==this.playlistLoc||Array.isArray(this.playlistData)&&n.default.isObject(this.playlistData[0]))&&(this.hasPlaylist=!0,""!==this.playlistLoc&&Array.isArray(this.playlistData)&&n.default.isObject(this.playlistData[0])&&(this.playlistLoc=""),this.autoHeightMode=!0,this.srcChangeAutoplay||(this.playlistUpNextAutoplay=!1),this.playlistUpNextAutoplay&&(this.loop=!1)),(this.hasPlaylist||this.hasRelated)&&(this.video360&&(this.video360=!1),this.audioOnly&&(this.audioOnly=!1),this.isLiveDvr&&(this.isLive=!0,this.isLiveDvr=!1),this.adSchedule={},this.backupSrc={},this.chaptersLoc=""),this.audioOnly&&(this.video360&&(this.video360=!1),this.hlsJSCapLevelToPlayerSize=!1,this.shakaCapLevelToPlayerSize=!1,this.quickRewind=0,this.iframeMode=!1,this.autoHeightMode=!1,this.height=40),function(){this.audioOnly&&("s1"!==this.skin&&"s2"!==this.skin&&(this.skin="s1"),""===this.skinBackgroundColor&&(this.skinBackgroundColor="212121")),"s1"!==this.skin&&"s2"!==this.skin&&"s3"!==this.skin&&"s4"!==this.skin&&(this.skin="s1"),this.initConfig=t.bind(this),null===document.getElementById("rmp-dress-code")?m.default.getCSS.call(this):this.initConfig()}.call(this)};window.RadiantMP.prototype.init=function(t){var i=this;if(null!==this.dom.container)if(this.refTime=n.default.getNow(),m.default.filterInput.call(this,t),n.default.isEmptyObject(this.src)&&!n.default.isEmptyObject(this.bitrates)&&(this.src=this.bitrates),n.default.isEmptyObject(this.backupSrc)&&!n.default.isEmptyObject(this.backupBitrates)&&(this.backupSrc=this.backupBitrates),n.default.isEmptyObject(this.video360FallbackSrc)&&!n.default.isEmptyObject(this.video360FallbackBitrates)&&(this.video360FallbackSrc=this.video360FallbackBitrates),"string"==typeof this.src.mp4&&""!==this.src.mp4&&(this.src.mp4=[this.src.mp4]),"string"==typeof this.src.webm&&""!==this.src.webm&&(this.src.webm=[this.src.webm]),""!==this.licenseKey){if(n.default.addClass(this.dom.container,"rmp-container rmp-color-button"),this.fadeInPlayer){n.default.setStyle(this.dom.container,{opacity:0,visibility:"hidden"}),n.default.addClass(this.dom.container,"rmp-container-fade-in")}if("/"!==this.pathToRmpFiles.substr(this.pathToRmpFiles.length-1)&&(this.pathToRmpFiles=this.pathToRmpFiles+"/"),!r.default.isInIframe||this.iframeAllowed)if(o.default.ck.call(this)){this.windowOnline=function(){n.default.createStdEvent("online",this.dom.container)}.bind(this),window.addEventListener("online",this.windowOnline);if(this.windowOffline=function(){n.default.createStdEvent("offline",this.dom.container)}.bind(this),window.addEventListener("offline",this.windowOffline),this.isLive&&this.isLiveDvr&&(this.isLiveDvr=!1),m.default.assignPlaybackCapabilities.call(this),r.default.isStandalone?n.default.addClass(this.dom.container,"rmp-standalone"):r.default.isWebView&&n.default.addClass(this.dom.container,"rmp-webview"),this.audioOnly?this.dom.container.style.backgroundColor="transparent":"000000"!==this.backgroundColor&&(this.dom.container.style.backgroundColor="#"+this.backgroundColor),this.adOutStream&&(this.ads||(this.ads=!0),"outstream"===this.skin&&(this.adOutStreamSkin=!0,n.default.addClass(this.dom.container,"rmp-ad-outstream"),this.skin="s1",this.skinBackgroundColor="",this.adShowRemainingTime=!0)),this.permanentMuted&&(this.googleCast=!1,this.muted=!0),void 0===window.chrome&&(this.googleCast=!1),this.googleCast&&(window.rmpGlobals.castApiInitialized||(window.rmpGlobals.castApiInitialized=!0,this.castReady=E.default.ready.bind(this),this.dom.container.addEventListener("ready",this.castReady)),""!==this.contentTitle&&""===this.googleCastContentTitle&&(this.googleCastContentTitle=this.contentTitle)),this.adAutoplayOnlyPreroll&&!this.autoplay&&(this.autoplay=!0),this.autoplay&&this.adOutStream&&this.adOutStreamMutedAutoplay&&(this.muted=!0),this.autoplay&&this.detectAutoplayCapabilities){if(r.default.isMobile){if(r.default.isIos[0]&&r.default.isIos[1]<=9)return m.default.fireAutoplayFailure.call(this),void s.call(this);if(r.default.isAndroid[0]&&r.default.isSamsungInternet[0]&&7<=r.default.isSamsungInternet[1])return this.muted=!0,void s.call(this);r.default.isWebView||(this.muted=!0)}var a="video";this.audioOnly&&(a="audio"),this.muted?I.default[a]({inline:!0,muted:!0}).then(function(t){var e=t.result;t.error;!1===e&&m.default.fireAutoplayFailure.call(i),s.call(i)}):I.default[a]({inline:!0}).then(function(t){var e=t.result;t.error;!1===e?I.default[a]({inline:!0,muted:!0}).then(function(t){var e=t.result;t.error;!1===e?m.default.fireAutoplayFailure.call(i):i.muted=!0,s.call(i)}):s.call(i)})}else s.call(this)}else o.default.endPlayer.call(this,"license key check failed");else o.default.endPlayer.call(this,"iframe embedding not allowed")}else n.default.log("license","no license key provided - exit")},Array.isArray(window.rmpAsyncPlayers)&&n.default.isObject(window.rmpAsyncPlayers[0])&&"string"==typeof window.rmpAsyncPlayers[0].asyncElementID&&""!==window.rmpAsyncPlayers[0].asyncElementID&&(window.rmpAsyncPlayerInstances=[],window.rmpAsyncPlayers.forEach(function(t){var e=t.asyncElementID,i=document.getElementById(e);if(null!==i){var a=new window.RadiantMP(e);0,window.rmpAsyncPlayerInstances.push(a),n.default.createStdEvent("rmpasyncplayerinstanceavailable",i),delete t.asyncElementID,a.init(t)}}))}}()},{"./360/360":1,"./abr/fps":2,"./ads/ads-helpers":6,"./analytics/analytics":11,"./analytics/logs":12,"./api/ads":13,"./api/api":14,"./api/audio":15,"./api/bitrates":16,"./api/destroy":17,"./api/offline":18,"./api/src":19,"./cast/cast":21,"./core/accessible/accessible":22,"./core/resize/resize":35,"./core/run-player/runPlayer":37,"./core/ui/colors":39,"./core/utils/license":43,"./core/utils/utils":44,"./core/utils/viewable":45,"./fw/autoplay":47,"./fw/defaults/inner-defaults":48,"./fw/env":50,"./fw/fw":51,"./playlist/playlist":53,"./playlist/related":54,"./vtt/captions":55,"core-js/modules/es6.array.copy-within":161,"core-js/modules/es6.array.fill":162,"core-js/modules/es6.array.find":164,"core-js/modules/es6.array.find-index":163,"core-js/modules/es6.array.from":165,"core-js/modules/es6.array.iterator":166,"core-js/modules/es6.array.of":167,"core-js/modules/es6.function.name":168,"core-js/modules/es6.map":169,"core-js/modules/es6.math.acosh":170,"core-js/modules/es6.math.asinh":171,"core-js/modules/es6.math.atanh":172,"core-js/modules/es6.math.cbrt":173,"core-js/modules/es6.math.clz32":174,"core-js/modules/es6.math.cosh":175,"core-js/modules/es6.math.expm1":176,"core-js/modules/es6.math.fround":177,"core-js/modules/es6.math.hypot":178,"core-js/modules/es6.math.imul":179,"core-js/modules/es6.math.log10":180,"core-js/modules/es6.math.log1p":181,"core-js/modules/es6.math.log2":182,"core-js/modules/es6.math.sign":183,"core-js/modules/es6.math.sinh":184,"core-js/modules/es6.math.tanh":185,"core-js/modules/es6.math.trunc":186,"core-js/modules/es6.number.epsilon":187,"core-js/modules/es6.number.is-finite":188,"core-js/modules/es6.number.is-integer":189,"core-js/modules/es6.number.is-nan":190,"core-js/modules/es6.number.is-safe-integer":191,"core-js/modules/es6.number.max-safe-integer":192,"core-js/modules/es6.number.min-safe-integer":193,"core-js/modules/es6.object.assign":194,"core-js/modules/es6.object.freeze":195,"core-js/modules/es6.object.get-own-property-descriptor":196,"core-js/modules/es6.object.get-own-property-names":197,"core-js/modules/es6.object.get-prototype-of":198,"core-js/modules/es6.object.is":202,"core-js/modules/es6.object.is-extensible":199,"core-js/modules/es6.object.is-frozen":200,"core-js/modules/es6.object.is-sealed":201,"core-js/modules/es6.object.keys":203,"core-js/modules/es6.object.prevent-extensions":204,"core-js/modules/es6.object.seal":205,"core-js/modules/es6.object.set-prototype-of":206,"core-js/modules/es6.promise":207,"core-js/modules/es6.reflect.apply":208,"core-js/modules/es6.reflect.construct":209,"core-js/modules/es6.reflect.define-property":210,"core-js/modules/es6.reflect.delete-property":211,"core-js/modules/es6.reflect.get":214,"core-js/modules/es6.reflect.get-own-property-descriptor":212,"core-js/modules/es6.reflect.get-prototype-of":213,"core-js/modules/es6.reflect.has":215,"core-js/modules/es6.reflect.is-extensible":216,"core-js/modules/es6.reflect.own-keys":217,"core-js/modules/es6.reflect.prevent-extensions":218,"core-js/modules/es6.reflect.set":220,"core-js/modules/es6.reflect.set-prototype-of":219,"core-js/modules/es6.regexp.flags":221,"core-js/modules/es6.regexp.match":222,"core-js/modules/es6.regexp.replace":223,"core-js/modules/es6.regexp.search":224,"core-js/modules/es6.regexp.split":225,"core-js/modules/es6.set":226,"core-js/modules/es6.string.code-point-at":227,"core-js/modules/es6.string.ends-with":228,"core-js/modules/es6.string.from-code-point":229,"core-js/modules/es6.string.includes":230,"core-js/modules/es6.string.raw":231,"core-js/modules/es6.string.repeat":232,"core-js/modules/es6.string.starts-with":233,"core-js/modules/es6.symbol":234,"core-js/modules/es6.typed.array-buffer":235,"core-js/modules/es6.typed.data-view":236,"core-js/modules/es6.typed.float32-array":237,"core-js/modules/es6.typed.float64-array":238,"core-js/modules/es6.typed.int16-array":239,"core-js/modules/es6.typed.int32-array":240,"core-js/modules/es6.typed.int8-array":241,"core-js/modules/es6.typed.uint16-array":242,"core-js/modules/es6.typed.uint32-array":243,"core-js/modules/es6.typed.uint8-array":244,"core-js/modules/es6.typed.uint8-clamped-array":245,"core-js/modules/es6.weak-map":246,"core-js/modules/es6.weak-set":247,"core-js/modules/web.dom.iterable":248,"core-js/modules/web.immediate":249,"core-js/modules/web.timers":250}],53:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var d=h(t("../fw/fw")),a=h(t("../core/utils/utils")),s=h(t("../core/run-player/runPlayer")),r=h(t("../analytics/analytics")),n=h(t("../analytics/logs")),o=h(t("../core/utils/error")),l=h(t("../ads/ads-helpers"));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var u={},f=function(t){if(this.dom.playlistContainer){for(var e=this.dom.playlistContainer.querySelectorAll(".rmp-playlist-item"),i=0,a=e.length;i<a;i++)d.default.removeClass(e[i],"rmp-playlist-item-active");d.default.addClass(e[t],"rmp-playlist-item-active")}};u.load=function(t,e){if(e&&e.stopPropagation(),!this.changingSrc&&(this.currentPlaylistIndex=t,void 0===this.playlistList[this.currentPlaylistIndex]&&(this.currentPlaylistIndex=0,this.dom.playlistSideMenu.scrollTop=0),d.default.isObject(this.playlistList[this.currentPlaylistIndex]))){var i=this.playlistList[this.currentPlaylistIndex];this.ads&&("string"==typeof i.adTagUrl&&""!==i.adTagUrl?(this.adTagUrl=l.default.replaceAdTagVar.call(this,i.adTagUrl),i.adTagWaterfall?this.adTagWaterfall=[].concat(c(i.adTagWaterfall)):this.adTagWaterfall=[]):this.adTagUrl=null),this.setPoster(i.poster),this.setContentTitle(i.contentTitle),this.setContentDescription(i.contentDescription),""!==this.gaTrackingId&&this.setGALabel(i.contentTitle),this.useVideoTitle&&this.setVideoTitle(i.contentTitle),f.call(this,this.currentPlaylistIndex);var a=this.getStreamType(),s=i.src[a];Array.isArray(s)&&"string"==typeof s[0]&&(s=s[0]),this.getPlayerInitialized()&&this.ads&&(this.dom.container.addEventListener("srcchanged",this.playlistOnSrcChangedLoadAd),this.dom.container.addEventListener("error",this.playlistOnSrcChangeError)),this.setSrc(s),i.seekBarThumbnailsLoc&&this.setThumbnails(i.seekBarThumbnailsLoc)}};var p=function(t){if(d.default.isObject(this.playlistList[t])){var e=this.playlistList[t],i=document.createElement("div");i.className="rmp-playlist-item";var a=document.createElement("div");a.className="rmp-playlist-item-number",d.default.setText(a,(t+1).toString()),i.appendChild(a);var s=document.createElement("div");s.className="rmp-playlist-item-thumbnail-wrapper";var r=document.createElement("img");r.className="rmp-playlist-item-thumbnail",r.alt=e.contentTitle,r.src=e.thumbnail,s.appendChild(r),i.appendChild(s);var n=document.createElement("div");n.className="rmp-playlist-item-text-area";var o=document.createElement("div");o.className="rmp-playlist-item-title",d.default.setText(o,e.contentTitle),n.appendChild(o);var l=document.createElement("div");l.className="rmp-playlist-item-description",d.default.setText(l,e.contentDescription),n.appendChild(l),i.appendChild(n),d.default.addEvent("click",i,u.load.bind(this,t)),this.dom.playlistSideMenu.appendChild(i)}},m=function(t,e){e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault());var i=this.currentPlaylistIndex-1;t&&(i=this.currentPlaylistIndex+1),u.load.call(this,i,null)},v=function(t){if(this.playlistList=d.default.filterPlaylist(t),this.dom.playlistSideMenu){for(var e=this.dom.playlistSideMenu.querySelectorAll(".rmp-playlist-item"),i=0,a=e.length;i<a;i++)d.default.removeElement(e[i]);for(var s=0,r=this.playlistList.length;s<r;s++)p.call(this,s);u.load.call(this,0,null)}};u.setData=function(t){var i=this;if("string"==typeof t)this.playlistLoc=t;else if(Array.isArray(t))return void v.call(this,t);d.default.ajax(this.playlistLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var e=void 0;try{e=JSON.parse(t),Array.isArray(e.playlist)&&v.call(i,e.playlist)}catch(t){d.default.trace(t)}}).catch(function(t){d.default.trace(t)})};var g=function(){if(this.dom.playlistContainer=this.dom.container.parentNode.parentNode,d.default.hasClass(this.dom.playlistContainer,"rmp-playlist-container")){d.default.addClass(this.dom.container,"rmp-playlist-ui"),function(){this.dom.playlistLeftArrow=document.createElement("div"),this.dom.playlistLeftArrow.className="rmp-playlist-left-arrow rmp-color-bg";var t=document.createElement("span");t.className="rmp-i rmp-i-previous",this.dom.playlistLeftArrow.appendChild(t),d.default.hide(this.dom.playlistLeftArrow),this.dom.container.appendChild(this.dom.playlistLeftArrow),d.default.addEvent(["touchend","click"],this.dom.playlistLeftArrow,m.bind(this,!1)),this.dom.playlistRightArrow=document.createElement("div"),this.dom.playlistRightArrow.className="rmp-playlist-right-arrow rmp-color-bg";var e=document.createElement("span");e.className=" rmp-i rmp-i-next",this.dom.playlistRightArrow.appendChild(e),d.default.hide(this.dom.playlistRightArrow),this.dom.container.appendChild(this.dom.playlistRightArrow),d.default.addEvent(["touchend","click"],this.dom.playlistRightArrow,m.bind(this,!0))}.call(this),this.dom.playlistSideMenu=document.createElement("div"),this.dom.playlistSideMenu.className="rmp-playlist-side-menu rmp-color-bg rmp-color-button";var t=document.createElement("div");t.className="rmp-playlist-header",d.default.setText(t,this.labels.hint.playlist),this.dom.playlistSideMenu.appendChild(t);for(var e=0,i=this.playlistList.length;e<i;e++)p.call(this,e);this.dom.playlistContainer.appendChild(this.dom.playlistSideMenu),f.call(this,0)}else o.default.warning.call(this,"cannot append playlist layout - missing rmp-playlist-container container",1006,null)},y=function(){o.default.fatal.call(this,"error loading or parsing input playlist",101,null)},b=function(t){if(this.playlistList=d.default.filterPlaylist(t),0<this.playlistList.length&&d.default.isObject(this.playlistList[0])){g.call(this);var e=this.playlistList[0];this.src=e.src,this.poster=e.poster,this.seekBarThumbnailsLoc=e.seekBarThumbnailsLoc,this.ads&&(this.adTagUrl=l.default.replaceAdTagVar.call(this,e.adTagUrl),""===e.adTagUrl&&(this.emptyInitAdTagUrl=!0),e.adTagWaterfall&&(this.adTagWaterfall=[].concat(c(e.adTagWaterfall)))),this.contentTitle=e.contentTitle,this.contentDescription=e.contentDescription,""!==this.gaTrackingId&&this.setGALabel(this.contentTitle),this.useVideoTitle&&this.setVideoTitle(this.contentTitle),this.playlistOnSrcChangedLoadAd=function(){this.dom.container.removeEventListener("srcchanged",this.playlistOnSrcChangedLoadAd),this.dom.container.removeEventListener("error",this.playlistOnSrcChangeError),this.adTagUrl&&this.loadAds(this.adTagUrl)}.bind(this),this.playlistOnSrcChangeError=function(){this.dom.container.removeEventListener("srcchanged",this.playlistOnSrcChangedLoadAd),this.dom.container.removeEventListener("error",this.playlistOnSrcChangeError)}.bind(this),a.default.detectSrc.call(this),r.default.init.call(this),n.default.init.call(this),s.default.init.call(this)}else y.call(this)};u.init=function(){var i=this;""===this.playlistLoc?b.call(this,this.playlistData):d.default.ajax(this.playlistLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var e=void 0;try{e=JSON.parse(t)}catch(t){d.default.trace(t),y.call(i)}Array.isArray(e.playlist)?b.call(i,e.playlist):y.call(i)}).catch(function(t){d.default.trace(t),y.call(i)})},i.default=u},{"../ads/ads-helpers":6,"../analytics/analytics":11,"../analytics/logs":12,"../core/run-player/runPlayer":37,"../core/utils/error":42,"../core/utils/utils":44,"../fw/fw":51}],54:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=f(t("../fw/fw")),a=f(t("../fw/env")),s=f(t("../core/utils/utils")),r=f(t("../core/ui/core-ui")),n=f(t("../core/run-player/runPlayer")),l=f(t("../analytics/analytics")),d=f(t("../analytics/logs")),h=f(t("../core/utils/error")),c=f(t("../ads/ads-helpers")),u=f(t("../core/modules/modules"));function f(t){return t&&t.__esModule?t:{default:t}}function p(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var m={},v=function(){if(o.default.isObject(this.relatedList[this.currentRelatedIndex])){var t=this.relatedList[this.currentRelatedIndex];this.ads&&("string"==typeof t.adTagUrl&&""!==t.adTagUrl?(this.adTagUrl=c.default.replaceAdTagVar.call(this,t.adTagUrl),t.adTagWaterfall?this.adTagWaterfall=[].concat(p(t.adTagWaterfall)):this.adTagWaterfall=[]):this.adTagUrl=null);var e=t.poster;this.setPoster(e),this.setContentTitle(t.contentTitle),this.setContentDescription(t.contentDescription),""!==this.gaTrackingId&&this.setGALabel(t.contentTitle),this.useVideoTitle&&this.setVideoTitle(t.contentTitle),r.default.hideCentralPlay.call(this);var i=t.src[this.getStreamType()];Array.isArray(i)&&"string"==typeof i[0]&&(i=i[0]),this.getPlayerInitialized()?this.ads&&(this.dom.container.addEventListener("srcchanged",this.relatedOnSrcChangedLoadAd),this.dom.container.addEventListener("error",this.relatedOnSrcChangeError)):u.default.closeAll.call(this),this.setSrc(i),function(){o.default.removeClass(this.dom.relatedSkipPreview,"rmp-force-show");var t=this.currentRelatedIndex+1;this.relatedList[t]||(t=0),this.dom.relatedSkipImg.src=this.relatedList[t].thumbnail,o.default.setText(this.dom.relatedSkipText,this.relatedList[t].contentTitle)}.call(this),t.seekBarThumbnailsLoc&&this.setThumbnails(t.seekBarThumbnailsLoc)}},g=function(){var t=document.createElement("div");t.className="rmp-related-item-bottom-margin",this.dom.relatedOverlayLevelsArea.appendChild(t)},y=function(t){if(o.default.isObject(this.relatedList[t])){var e=this.relatedList[t],i=document.createElement("div");i.className="rmp-related-item";var a=document.createElement("img");a.className="rmp-related-thumbnail",a.alt=e.contentTitle,a.src=e.thumbnail,i.appendChild(a);var s=document.createElement("div");if(s.className="rmp-related-title",o.default.setText(s,e.contentTitle),i.appendChild(s),e.contentDuration){var r=document.createElement("div");r.className="rmp-related-duration",o.default.setText(r,e.contentDuration),i.appendChild(r)}var n=document.createElement("div");n.className="rmp-related-up-next",o.default.setText(n,this.labels.hint.upNext),o.default.hide(n),i.appendChild(n),i.addEventListener("click",m.load.bind(this,t)),this.dom.relatedOverlayLevelsArea.appendChild(i)}},b=function(t){if(this.dom.relatedOverlayLevelsArea){this.relatedList=o.default.filterPlaylist(t),this.currentRelatedIndex=0;for(var e=this.dom.relatedOverlayLevelsArea.querySelectorAll(".rmp-related-item"),i=0,a=e.length;i<a;i++)o.default.removeElement(e[i]);var s=this.dom.relatedOverlayLevelsArea.querySelector(".rmp-related-item-bottom-margin");null!==s&&o.default.removeElement(s);for(var r=0,n=this.relatedList.length;r<n;r++)y.call(this,r);g.call(this),v.call(this)}};m.setData=function(t,e){var i=this;if(e)this.relatedLoc=this.relatedList[this.currentRelatedIndex].related;else if("string"==typeof t)this.relatedLoc=t;else if(Array.isArray(t))return void b.call(this,t);o.default.ajax(this.relatedLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var e=void 0;try{e=JSON.parse(t),Array.isArray(e.playlist)&&b.call(i,e.playlist)}catch(t){o.default.trace(t)}}).catch(function(t){o.default.trace(t)})},m.load=function(t,e){e&&e.stopPropagation(),this.changingSrc||(this.currentRelatedIndex=t,void 0===this.relatedList[this.currentRelatedIndex]&&(this.currentRelatedIndex=0),this.relatedList[this.currentRelatedIndex].related?m.setData.call(this,null,!0):v.call(this))};var S=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),m.load.call(this,this.currentRelatedIndex+1,null)},E=function(){h.default.fatal.call(this,"error loading or parsing input related",102,null)},A=function(t){if(this.relatedList=o.default.filterPlaylist(t),0<this.relatedList.length&&o.default.isObject(this.relatedList[0])){(function(){o.default.addClass(this.dom.container,"rmp-related-ui"),u.default.append.call(this,"related"),u.default.appendOverlay.call(this,"related");for(var t=0,e=this.relatedList.length;t<e;t++)y.call(this,t);g.call(this)}).call(this);var e=this.relatedList[0];this.src=e.src,this.poster=e.poster,this.seekBarThumbnailsLoc=e.seekBarThumbnailsLoc,this.ads&&(this.adTagUrl=c.default.replaceAdTagVar.call(this,e.adTagUrl),""===e.adTagUrl&&(this.emptyInitAdTagUrl=!0),e.adTagWaterfall&&(this.adTagWaterfall=[].concat(p(e.adTagWaterfall)))),this.contentTitle=e.contentTitle,this.contentDescription=e.contentDescription,""!==this.gaTrackingId&&this.setGALabel(this.contentTitle),this.useVideoTitle&&this.setVideoTitle(this.contentTitle),this.relatedOnSrcChangedLoadAd=function(){this.dom.container.removeEventListener("srcchanged",this.relatedOnSrcChangedLoadAd),this.dom.container.removeEventListener("error",this.relatedOnSrcChangeError),this.adTagUrl&&this.loadAds(this.adTagUrl)}.bind(this),this.relatedOnSrcChangeError=function(){this.dom.container.removeEventListener("srcchanged",this.relatedOnSrcChangedLoadAd),this.dom.container.removeEventListener("error",this.relatedOnSrcChangeError)}.bind(this),s.default.detectSrc.call(this),l.default.init.call(this),d.default.init.call(this),n.default.init.call(this),function(){var e=this,t=this.currentRelatedIndex+1;if(void 0===this.relatedList[t]&&(t=0),this.dom.outline){this.dom.relatedSkip=document.createElement("div"),this.dom.relatedSkip.className="rmp-related-skip-next rmp-i rmp-i-skip-next",o.default.addEvent(["touchend","click"],this.dom.relatedSkip,S.bind(this)),this.dom.outline.appendChild(this.dom.relatedSkip),this.dom.relatedSkipPreview=document.createElement("div"),this.dom.relatedSkipPreview.className="rmp-related-skip-preview",o.default.addEvent(["touchend","click"],this.dom.relatedSkipPreview,S.bind(this)),this.dom.relatedSkip.appendChild(this.dom.relatedSkipPreview),this.dom.relatedSkipImg=document.createElement("img"),this.dom.relatedSkipImg.alt="Next playlist item image preview",this.dom.relatedSkipImg.className="rmp-related-skip-preview-img",this.dom.relatedSkipImg.src=this.relatedList[t].thumbnail,this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipImg),this.dom.relatedSkipText=document.createElement("div"),this.dom.relatedSkipText.className="rmp-related-skip-preview-title rmp-color-bg",o.default.setText(this.dom.relatedSkipText,this.relatedList[t].contentTitle),this.dom.relatedSkipPreview.appendChild(this.dom.relatedSkipText);var i=document.createElement("div");i.className="rmp-related-skip-preview-up-next rmp-color-bg",o.default.setText(i,this.labels.hint.upNext),this.dom.relatedSkipPreview.appendChild(i),a.default.isMobile||(this.dom.relatedSkip.addEventListener("mouseenter",function(t){t&&t.stopPropagation(),e.forceResetTimer=!0,o.default.fadeIn(e.dom.relatedSkipPreview)}),this.dom.relatedSkip.addEventListener("mouseleave",function(t){t&&t.stopPropagation(),e.forceResetTimer=!1,o.default.fadeOut(e.dom.relatedSkipPreview)}))}}.call(this)}else E.call(this)};m.init=function(){var i=this;""===this.relatedLoc?A.call(this,this.relatedData):o.default.ajax(this.relatedLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){var e=void 0;try{e=JSON.parse(t)}catch(t){o.default.trace(t),E.call(i)}Array.isArray(e.playlist)?A.call(i,e.playlist):E.call(i)}).catch(function(t){o.default.trace(t),E.call(i)})},i.default=m},{"../ads/ads-helpers":6,"../analytics/analytics":11,"../analytics/logs":12,"../core/modules/modules":29,"../core/run-player/runPlayer":37,"../core/ui/core-ui":40,"../core/utils/error":42,"../core/utils/utils":44,"../fw/env":50,"../fw/fw":51}],55:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var p=n(t("../fw/fw")),a=n(t("../fw/env")),r=n(t("../core/accessible/accessible")),l=n(t("../core/ui/core-ui")),m=n(t("../core/modules/modules")),s=n(t("../core/utils/error")),d=n(t("../cast/cast"));function n(t){return t&&t.__esModule?t:{default:t}}var o={prepare:function(){a.default.isIos[0]&&(this.ccParser="native"),this.hasCC=!0,this.googleCastCCForegroundColor=this.ccTextColor+"99";var t=this.ccBackgroundAlpha;1<=t&&(t=.99),this.googleCastCCBackgroundColor=this.ccBackgroundColor+(100*t).toString(),this.googleCastCCFontScale=.9*this.ccFontSize/18}},h=function(){if(this.textTracks&&0<this.textTracks.length)for(var t=0;t<this.textTracks.length;t++)this.textTracks[t]&&"hidden"!==this.textTracks[t].mode&&(this.textTracks[t].mode="hidden")},c=function(t){this.textTracks[t]&&"showing"!==this.textTracks[t].mode&&(h.call(this),this.textTracks[t].mode="showing")},v=function(){this.shakaPlayer&&this.shakaPlayer.setTextTrackVisibility(!1)},u=function(t){this.shakaPlayer&&(this.shakaPlayer.selectTextTrack(t),this.shakaPlayer.setTextTrackVisibility(!0))},f=function(t){this.hlsJSCEA?c.call(this,t):this.hlsJS&&(this.hlsJS.subtitleTrack=t)},g=function(){this.hasCC?"vtt.js"===this.ccParser?(this.ccEnabled=!1,p.default.hide(this.dom.ccArea),this.ccData=null):h.call(this):this.readingDash||this.readingHlsShaka?v.call(this):this.readingHlsJS&&function(){this.hlsJSCEA?h.call(this):this.hlsJS&&(this.hlsJS.subtitleTrack=-1)}.call(this),function(){if(this.googleCast&&this.castMediaLoaded)try{var t=new chrome.cast.media.EditTracksInfoRequest([]);this.castMedia.editTracksInfo(t,p.default.trace,p.default.trace)}catch(t){p.default.trace(t)}}.call(this)};o.destroy=function(){g.call(this),this.dom.container&&(this.dom.container.removeEventListener("playing",this.addNativeVTT),this.dom.container.removeEventListener("timeupdate",this.updateCues),this.dom.container.removeEventListener("resize",this.updateCuesResize)),this.hasCC&&"native"===this.ccParser&&0<this.textTracks.length&&(this.startIndexCC+=this.textTracks.length),p.default.clearInterval(this.hlsJSCCInterval),this.textTracks=[],m.default.destroy.call(this,"captions"),this.ccCues=[],this.defaultTrack=0,this.loadedCCFiles=[],this.addNativeVTT=p.default.nullFn,this.updateCues=p.default.nullFn,this.updateCuesResize=p.default.nullFn},o.getData=function(){return this.hasCC&&"vtt.js"===this.ccParser?this.ccData:null};var y=function(t){if("string"==typeof t)try{this.ccCues=[];var e=new WebVTT.Parser(window,WebVTT.StringDecoder());e.oncue=function(t){this.ccCues.push(t)}.bind(this),e.onparsingerror=function(t){var e=null;t&&(e=t),s.default.warning.call(this,"vtt.js parsing error",4001,e)},e.parse(t),e.flush()}catch(t){p.default.trace(t)}};o.menuItemInteraction=function(t){if(this.dom.captionsOverlayLevelsArea){var e=null,i=null;if(t&&t.type&&t.target?(t.stopPropagation(),"touchend"===t.type&&t.preventDefault(),i=(e=t.target).getAttribute("lang")):"string"==typeof t&&""!==t&&(i=t,e=this.dom.captionsOverlayLevelsArea.querySelector('[lang="'+i+'"]')),null!==e&&null!==i){l.default.showChrome.call(this);for(var a=this.dom.captionsOverlayLevelsArea.querySelectorAll(".rmp-overlay-level"),s=0,r=a.length;s<r;s++)p.default.removeClass(a[s],"rmp-overlay-level-active");for(var n=0,o=this.loadedCCFiles.length;n<o;n++){if(p.default.hasClass(e,"captions-off")){this.defaultTrack=0,p.default.addClass(e,"rmp-overlay-level-active"),g.call(this),p.default.createStdEvent("texttrackchanged",this.dom.container);break}if(this.loadedCCFiles[n][0]===i){this.defaultTrack=n+1,p.default.addClass(e,"rmp-overlay-level-active"),this.hasCC?"native"===this.ccParser?c.call(this,n):(this.ccEnabled=!0,p.default.show(this.dom.ccArea),y.call(this,this.loadedCCFiles[n][2]),this.ccData=this.ccCues):this.readingDash||this.readingHlsShaka?u.call(this,this.shakaTextTracks[n]):this.readingHlsJS&&f.call(this,n),this.googleCast&&d.default.setTextTrack.call(this,n),p.default.createStdEvent("texttrackchanged",this.dom.container);break}}}}};var b=function(t,e,i,a){var s=document.createElement("div");return s.className=t+" rmp-overlay-level rmp-color-bg",0<e.length&&s.setAttribute("lang",e),a===this.defaultTrack&&(p.default.addClass(s,"rmp-overlay-level-active"),"captions-off"!==t&&-1<a-1&&(this.hasCC?"native"===this.ccParser?c.call(this,a-1):(this.ccEnabled=!0,p.default.show(this.dom.ccArea),y.call(this,this.loadedCCFiles[a-1][2]),this.ccData=this.ccCues):this.readingDash||this.readingHlsShaka?u.call(this,this.shakaTextTracks[a-1]):this.readingHlsJS&&f.call(this,a-1),p.default.createStdEvent("texttrackchanged",this.dom.container))),s.appendChild(document.createTextNode(i)),this.dom.ccItems.push(s),r.default.makeAccessible.call(this,s,t,!0),p.default.addEvent(["touchend","click"],s,o.menuItemInteraction.bind(this)),s};o.appendUI=function(){if(this.hasCC){for(var t=0,e=this.loadedCCFiles.length;t<e;t++)null===this.loadedCCFiles[t]&&this.loadedCCFiles.splice(t,1);if(this.loadedCCFiles.length<1)return;"vtt.js"===this.ccParser&&(this.dom.ccArea=document.createElement("div"),this.dom.ccArea.className="rmp-cc-area",p.default.hide(this.dom.ccArea),this.dom.content.insertBefore(this.dom.ccArea,this.dom.video.nextSibling)),this.ccFilesReady=!0,p.default.createStdEvent("alltexttracksloaded",this.dom.container),function(){var t="";if(0<this.ccFontSize){var e=this.ccFontSize,i=this.ccFSFontSize;this.ccFSFontSize<this.ccFontSize&&(i=e),t+=".rmp-cc-cue, .rmp-content > video::cue {font-size: "+e+"px;} ",t+=".rmp-fullscreen-on .rmp-cc-cue, .rmp-fullscreen-on > .rmp-content > video::cue {font-size: "+i+"px;} "}if("FFFFFF"!==this.ccTextColor||"000000"!==this.ccBackgroundColor||.8!==this.ccBackgroundAlpha){var a=p.default.hexToRgb("#"+this.ccBackgroundColor);a="rgba("+a.r+", "+a.g+", "+a.b+", "+this.ccBackgroundAlpha+")",t+=".rmp-cc-cue {color: #"+this.ccTextColor+" !important; background: "+a+" !important;;} ",t+=".rmp-content > video::cue {color: #"+this.ccTextColor+";} ",t+=".rmp-content > video::-webkit-media-text-track-display-backdrop {background: "+a+" !important;} "}p.default.appendStyle(t)}.call(this)}if(m.default.append.call(this,"captions"),m.default.appendOverlay.call(this,"captions"),m.default.deferredShow.call(this,"captions"),!this.hasCC&&this.readingMse&&0<this.textTracks.length)for(var i=0,a=this.textTracks.length;i<a;i++){var s=this.textTracks[i];this.loadedCCFiles[i]=[];var r=s.language||s.lang;r||(r="lng-"+(i+1)),this.loadedCCFiles[i].push(r);var n=s.label||s.name;if(n||(n=r),this.loadedCCFiles[i].push(n),this.readingHlsJS){var o=this.hlsJS.subtitleTracks.findIndex(function(t){return!0===t.default});-1<o&&o===i&&(this.loadedCCFiles[i].push(""),this.loadedCCFiles[i].push("default"))}}for(var l=0,d=this.loadedCCFiles.length;l<d;l++)if("string"==typeof this.loadedCCFiles[l][3]&&"default"===this.loadedCCFiles[l][3]){this.defaultTrack=l+1;break}this.dom.captionsOverlayLevelsArea.appendChild(b.call(this,"captions-off","off",this.labels.captions.off,0));for(var h=0,c=this.loadedCCFiles.length;h<c;h++){var u=this.loadedCCFiles[h][0],f=this.loadedCCFiles[h][1];this.dom.captionsOverlayLevelsArea.appendChild(b.call(this,"captions-"+u,u,f,h+1))}this.hasCC||(this.readingDash||this.readingHlsShaka)&&0===this.defaultTrack&&v.call(this)};var S=function(i){var a=this;return p.default.ajax(this.ccFiles[i][2],this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){if("string"==typeof t){var e="";"string"==typeof a.ccFiles[i][3]&&"default"===a.ccFiles[i][3]&&(e=a.ccFiles[i][3]),a.loadedCCFiles[i]=[a.ccFiles[i][0],a.ccFiles[i][1],t,e],p.default.createStdEvent("texttrackloaded",a.dom.container)}}).catch(function(t){a.loadedCCFiles[i]=null,p.default.createStdEvent("texttrackloaderror",a.dom.container);var e=null;t&&(e=t),s.default.warning.call(a,"failed to load text track at "+a.ccFiles[i][2],4002,e)})},E=function(t){var e=this.getCurrentTime();if(-1<e){e/=1e3;for(var i=[],a=0,s=this.ccCues.length;a<s;a++){var r=this.ccCues[a].startTime,n=this.ccCues[a].endTime;r<=e&&e<=n&&i.push(this.ccCues[a])}i[0]&&this.ccEnabled?(p.default.show(this.dom.ccArea),this.dom.ccArea.style.width=this.getPlayerWidth()+"px",this.dom.ccArea.style.height=this.getPlayerHeight()+"px",WebVTT.processCues(window,i,this.dom.ccArea,t)):p.default.hide(this.dom.ccArea)}},A=function(){if(this.loadVTTFiles=function(){var t=this;this.updateCues=E.bind(this,!1),this.updateCuesResize=E.bind(this,!0),this.dom.container.addEventListener("timeupdate",this.updateCues),this.dom.container.addEventListener("resize",this.updateCuesResize);for(var e=[],i=0,a=this.ccFiles.length;i<a;i++)e[i]=S.call(this,i);Promise.all(e).then(function(){o.appendUI.call(t)})}.bind(this),"undefined"!=typeof WebVTT)this.loadVTTFiles();else{0;var t="https://cdn.radiantmediatechs.com/rmp/5.0.5/vtt/vtt.min.js";0,p.default.getScript(t,this.loadVTTFiles,s.default.warning.bind(this,"failed to load vtt.js",4e3,null))}};o.initVttJS=function(){"native"===this.ccParser?(this.addNativeVTT=function(){this.dom.container.removeEventListener("playing",this.addNativeVTT),this.dom.container.removeEventListener("adloaded",this.addNativeVTT);for(var t=0;t<this.ccFiles.length;t++){var e=document.createElement("track");"string"==typeof this.ccFiles[t][0]&&"string"==typeof this.ccFiles[t][1]&&"string"==typeof this.ccFiles[t][2]&&(e.srclang=this.ccFiles[t][0],e.label=this.ccFiles[t][1],e.src=this.ccFiles[t][2],e.kind="captions",this.dom.video.appendChild(e)),"string"==typeof this.ccFiles[t][3]&&"default"===this.ccFiles[t][3]&&(this.defaultTrack=t+1)}if(this.textTracks=p.default.filterTextTracks(this.dom.video.textTracks),0<this.textTracks.length){if(0<this.startIndexCC)for(var i=0;i<this.startIndexCC;i++)this.textTracks.shift();this.loadedCCFiles=this.ccFiles,h.call(this),o.appendUI.call(this)}}.bind(this),this.firstFrameReached?this.addNativeVTT():(this.dom.container.addEventListener("playing",this.addNativeVTT),this.dom.container.addEventListener("adloaded",this.addNativeVTT))):"vtt.js"===this.ccParser&&A.call(this)},i.default=o},{"../cast/cast":21,"../core/accessible/accessible":22,"../core/modules/modules":29,"../core/ui/core-ui":40,"../core/utils/error":42,"../fw/env":50,"../fw/fw":51}],56:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var v=a(t("../fw/fw")),g=a(t("../core/utils/error"));function a(t){return t&&t.__esModule?t:{default:t}}var s={},r=function(t){for(var e=t.split(/\r\n|\r|\n/g),i=/^\s*$/,a=[],s=0,r=e.length;s<r;s++)i.test(e[s])||a.push(e[s]);if(/WEBVTT/i.test(a[0])){a.shift(),this.thumbnailURIs=[],this.thumbnailURIsTimestamps=[];for(var n=/^(https?:)?\/\//i,o=/^\s*\d*?:?\d*?:?\d+(\.\d+)?\s*-->\s*\d*?:?\d*?:?\d+(\.\d+)?\s*$/,l=0,d=a.length;l<d;l++)if(a[l]&&a[l+1]&&o.test(a[l])){var h=a[l].split("--\x3e"),c=a[l+1].split("#xywh=");if(2===h.length&&2===c.length){var u=h[0].trim(),f=h[1].trim(),p=[v.default.dateToSeconds(u),v.default.dateToSeconds(f)],m=c[0];n.test(m)||(m=v.default.getFQURL(this.seekBarThumbnailsLoc,m)),-1===this.thumbnailURIs.indexOf(m)&&(this.thumbnailURIs.push(m),this.thumbnailURIsTimestamps.push(v.default.dateToSeconds(u))),p.push(c[1]),this.thumbnailsArray.push(p)}}0,this.dummyThumbnailsImg=document.createElement("img"),this.currentThumbnailURI=this.thumbnailURIs[0],this.onThumbnailsLoad=function(t){this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad),this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError),this.dummyThumbnailsImg=null,this.hasThumbnails=!0,this.dom.thumbnailsImg=document.createElement("div"),v.default.setClass(this.dom.thumbnailsImg,"rmp-thumbnails"),v.default.addClass(this.dom.seekBar,"rmp-seek-bar-thumbnails"),this.dom.thumbnailsImg.style.backgroundImage='url("'+t+'")',this.dom.indicator.appendChild(this.dom.thumbnailsImg)}.bind(this,this.currentThumbnailURI),this.onThumbnailsError=function(t){this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad),this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError);var e=this.dummyThumbnailsImg=null;t&&(e=t),g.default.warning.call(this,"failed to load seek-bar thumbnails at "+this.thumbnailURIs[0],1002,e)}.bind(this),this.dummyThumbnailsImg.addEventListener("load",this.onThumbnailsLoad),this.dummyThumbnailsImg.addEventListener("error",this.onThumbnailsError),this.dummyThumbnailsImg.src=this.currentThumbnailURI}};s.destroy=function(){this.dummyThumbnailsImg&&(this.dummyThumbnailsImg.removeEventListener("load",this.onThumbnailsLoad),this.dummyThumbnailsImg.removeEventListener("error",this.onThumbnailsError),this.dummyThumbnailsImg=null),v.default.removeClass(this.dom.seekBar,"rmp-seek-bar-thumbnails"),v.default.removeElement(this.dom.thumbnailsImg),this.hasThumbnails=!1},s.init=function(){var i=this;v.default.ajax(this.seekBarThumbnailsLoc,this.ajaxTimeout,this.ajaxWithCredentials,"GET").then(function(t){"string"==typeof t&&r.call(i,t)}).catch(function(t){var e=null;t&&(e=t),g.default.warning.call(i,"failed to load VTT thumbnail file at "+i.seekBarThumbnailsLoc,1008,e)})},i.default=s},{"../core/utils/error":42,"../fw/fw":51}],57:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],58:[function(t,e,i){var a=t("./_wks")("unscopables"),s=Array.prototype;null==s[a]&&t("./_hide")(s,a,{}),e.exports=function(t){s[a][t]=!0}},{"./_hide":89,"./_wks":159}],59:[function(t,e,i){e.exports=function(t,e,i,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(i+": incorrect invocation!");return t}},{}],60:[function(t,e,i){var a=t("./_is-object");e.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":98}],61:[function(t,e,i){"use strict";var d=t("./_to-object"),h=t("./_to-absolute-index"),c=t("./_to-length");e.exports=[].copyWithin||function(t,e){var i=d(this),a=c(i.length),s=h(t,a),r=h(e,a),n=2<arguments.length?arguments[2]:void 0,o=Math.min((void 0===n?a:h(n,a))-r,a-s),l=1;for(r<s&&s<r+o&&(l=-1,r+=o-1,s+=o-1);0<o--;)r in i?i[s]=i[r]:delete i[s],s+=l,r+=l;return i}},{"./_to-absolute-index":144,"./_to-length":148,"./_to-object":149}],62:[function(t,e,i){"use strict";var o=t("./_to-object"),l=t("./_to-absolute-index"),d=t("./_to-length");e.exports=function(t){for(var e=o(this),i=d(e.length),a=arguments.length,s=l(1<a?arguments[1]:void 0,i),r=2<a?arguments[2]:void 0,n=void 0===r?i:l(r,i);s<n;)e[s++]=t;return e}},{"./_to-absolute-index":144,"./_to-length":148,"./_to-object":149}],63:[function(t,e,i){var l=t("./_to-iobject"),d=t("./_to-length"),h=t("./_to-absolute-index");e.exports=function(o){return function(t,e,i){var a,s=l(t),r=d(s.length),n=h(i,r);if(o&&e!=e){for(;n<r;)if((a=s[n++])!=a)return!0}else for(;n<r;n++)if((o||n in s)&&s[n]===e)return o||n||0;return!o&&-1}}},{"./_to-absolute-index":144,"./_to-iobject":147,"./_to-length":148}],64:[function(t,e,i){var b=t("./_ctx"),S=t("./_iobject"),E=t("./_to-object"),A=t("./_to-length"),a=t("./_array-species-create");e.exports=function(c,t){var u=1==c,f=2==c,p=3==c,m=4==c,v=6==c,g=5==c||v,y=t||a;return function(t,e,i){for(var a,s,r=E(t),n=S(r),o=b(e,i,3),l=A(n.length),d=0,h=u?y(t,l):f?y(t,0):void 0;d<l;d++)if((g||d in n)&&(s=o(a=n[d],d,r),c))if(u)h[d]=s;else if(s)switch(c){case 3:return!0;case 5:return a;case 6:return d;case 2:h.push(a)}else if(m)return!1;return v?-1:p||m?m:h}}},{"./_array-species-create":66,"./_ctx":75,"./_iobject":94,"./_to-length":148,"./_to-object":149}],65:[function(t,e,i){var a=t("./_is-object"),s=t("./_is-array"),r=t("./_wks")("species");e.exports=function(t){var e;return s(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!s(e.prototype)||(e=void 0),a(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":96,"./_is-object":98,"./_wks":159}],66:[function(t,e,i){var a=t("./_array-species-constructor");e.exports=function(t,e){return new(a(t))(e)}},{"./_array-species-constructor":65}],67:[function(t,e,i){"use strict";var r=t("./_a-function"),n=t("./_is-object"),o=t("./_invoke"),l=[].slice,d={};e.exports=Function.bind||function(e){var i=r(this),a=l.call(arguments,1),s=function(){var t=a.concat(l.call(arguments));return this instanceof s?function(t,e,i){if(!(e in d)){for(var a=[],s=0;s<e;s++)a[s]="a["+s+"]";d[e]=Function("F,a","return new F("+a.join(",")+")")}return d[e](t,i)}(i,t.length,t):o(i,t,e)};return n(i.prototype)&&(s.prototype=i.prototype),s}},{"./_a-function":57,"./_invoke":93,"./_is-object":98}],68:[function(t,e,i){var s=t("./_cof"),r=t("./_wks")("toStringTag"),n="Arguments"==s(function(){return arguments}());e.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:n?s(e):"Object"==(a=s(e))&&"function"==typeof e.callee?"Arguments":a}},{"./_cof":69,"./_wks":159}],69:[function(t,e,i){var a={}.toString;e.exports=function(t){return a.call(t).slice(8,-1)}},{}],70:[function(t,e,i){"use strict";var n=t("./_object-dp").f,o=t("./_object-create"),l=t("./_redefine-all"),d=t("./_ctx"),h=t("./_an-instance"),c=t("./_for-of"),a=t("./_iter-define"),s=t("./_iter-step"),r=t("./_set-species"),u=t("./_descriptors"),f=t("./_meta").fastKey,p=t("./_validate-collection"),m=u?"_s":"size",v=function(t,e){var i,a=f(e);if("F"!==a)return t._i[a];for(i=t._f;i;i=i.n)if(i.k==e)return i};e.exports={getConstructor:function(t,r,i,a){var s=t(function(t,e){h(t,s,r,"_i"),t._t=r,t._i=o(null),t._f=void 0,t._l=void 0,t[m]=0,null!=e&&c(e,i,t[a],t)});return l(s.prototype,{clear:function(){for(var t=p(this,r),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var e=p(this,r),i=v(e,t);if(i){var a=i.n,s=i.p;delete e._i[i.i],i.r=!0,s&&(s.n=a),a&&(a.p=s),e._f==i&&(e._f=a),e._l==i&&(e._l=s),e[m]--}return!!i},forEach:function(t){p(this,r);for(var e,i=d(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(p(this,r),t)}}),u&&n(s.prototype,"size",{get:function(){return p(this,r)[m]}}),s},def:function(t,e,i){var a,s,r=v(t,e);return r?r.v=i:(t._l=r={i:s=f(e,!0),k:e,v:i,p:a=t._l,n:void 0,r:!1},t._f||(t._f=r),a&&(a.n=r),t[m]++,"F"!==s&&(t._i[s]=r)),t},getEntry:v,setStrong:function(t,i,e){a(t,i,function(t,e){this._t=p(t,i),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?s(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,s(1))},e?"entries":"values",!e,!0),r(i)}}},{"./_an-instance":59,"./_ctx":75,"./_descriptors":77,"./_for-of":86,"./_iter-define":102,"./_iter-step":104,"./_meta":111,"./_object-create":115,"./_object-dp":116,"./_redefine-all":131,"./_set-species":135,"./_validate-collection":156}],71:[function(t,e,i){"use strict";var n=t("./_redefine-all"),o=t("./_meta").getWeak,s=t("./_an-object"),l=t("./_is-object"),d=t("./_an-instance"),h=t("./_for-of"),a=t("./_array-methods"),c=t("./_has"),u=t("./_validate-collection"),r=a(5),f=a(6),p=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return r(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var i=g(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(t,i,a,s){var r=t(function(t,e){d(t,r,i,"_i"),t._t=i,t._i=p++,t._l=void 0,null!=e&&h(e,a,t[s],t)});return n(r.prototype,{delete:function(t){if(!l(t))return!1;var e=o(t);return!0===e?m(u(this,i)).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!l(t))return!1;var e=o(t);return!0===e?m(u(this,i)).has(t):e&&c(e,this._i)}}),r},def:function(t,e,i){var a=o(s(e),!0);return!0===a?m(t).set(e,i):a[t._i]=i,t},ufstore:m}},{"./_an-instance":59,"./_an-object":60,"./_array-methods":64,"./_for-of":86,"./_has":88,"./_is-object":98,"./_meta":111,"./_redefine-all":131,"./_validate-collection":156}],72:[function(t,e,i){"use strict";var g=t("./_global"),y=t("./_export"),b=t("./_redefine"),S=t("./_redefine-all"),E=t("./_meta"),A=t("./_for-of"),C=t("./_an-instance"),k=t("./_is-object"),w=t("./_fails"),P=t("./_iter-detect"),_=t("./_set-to-string-tag"),L=t("./_inherit-if-required");e.exports=function(a,t,e,i,s,r){var n=g[a],o=n,l=s?"set":"add",d=o&&o.prototype,h={},c=function(t){var i=d[t];b(d,t,"delete"==t?function(t){return!(r&&!k(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!k(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!k(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof o&&(r||d.forEach&&!w(function(){(new o).entries().next()}))){var u=new o,f=u[l](r?{}:-0,1)!=u,p=w(function(){u.has(1)}),m=P(function(t){new o(t)}),v=!r&&w(function(){for(var t=new o,e=5;e--;)t[l](e,e);return!t.has(-0)});m||(((o=t(function(t,e){C(t,o,a);var i=L(new n,t,o);return null!=e&&A(e,s,i[l],i),i})).prototype=d).constructor=o),(p||v)&&(c("delete"),c("has"),s&&c("get")),(v||f)&&c(l),r&&d.clear&&delete d.clear}else o=i.getConstructor(t,a,s,l),S(o.prototype,e),E.NEED=!0;return _(o,a),h[a]=o,y(y.G+y.W+y.F*(o!=n),h),r||i.setStrong(o,a,s),o}},{"./_an-instance":59,"./_export":81,"./_fails":83,"./_for-of":86,"./_global":87,"./_inherit-if-required":92,"./_is-object":98,"./_iter-detect":103,"./_meta":111,"./_redefine":132,"./_redefine-all":131,"./_set-to-string-tag":136}],73:[function(t,e,i){var a=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=a)},{}],74:[function(t,e,i){"use strict";var a=t("./_object-dp"),s=t("./_property-desc");e.exports=function(t,e,i){e in t?a.f(t,e,s(0,i)):t[e]=i}},{"./_object-dp":116,"./_property-desc":130}],75:[function(t,e,i){var r=t("./_a-function");e.exports=function(a,s,t){if(r(a),void 0===s)return a;switch(t){case 1:return function(t){return a.call(s,t)};case 2:return function(t,e){return a.call(s,t,e)};case 3:return function(t,e,i){return a.call(s,t,e,i)}}return function(){return a.apply(s,arguments)}}},{"./_a-function":57}],76:[function(t,e,i){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],77:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":83}],78:[function(t,e,i){var a=t("./_is-object"),s=t("./_global").document,r=a(s)&&a(s.createElement);e.exports=function(t){return r?s.createElement(t):{}}},{"./_global":87,"./_is-object":98}],79:[function(t,e,i){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],80:[function(t,e,i){var o=t("./_object-keys"),l=t("./_object-gops"),d=t("./_object-pie");e.exports=function(t){var e=o(t),i=l.f;if(i)for(var a,s=i(t),r=d.f,n=0;s.length>n;)r.call(t,a=s[n++])&&e.push(a);return e}},{"./_object-gops":121,"./_object-keys":124,"./_object-pie":125}],81:[function(t,e,i){var m=t("./_global"),v=t("./_core"),g=t("./_hide"),y=t("./_redefine"),b=t("./_ctx"),S="prototype",E=function(t,e,i){var a,s,r,n,o=t&E.F,l=t&E.G,d=t&E.S,h=t&E.P,c=t&E.B,u=l?m:d?m[e]||(m[e]={}):(m[e]||{})[S],f=l?v:v[e]||(v[e]={}),p=f[S]||(f[S]={});for(a in l&&(i=e),i)r=((s=!o&&u&&void 0!==u[a])?u:i)[a],n=c&&s?b(r,m):h&&"function"==typeof r?b(Function.call,r):r,u&&y(u,a,r,t&E.U),f[a]!=r&&g(f,a,n),h&&p[a]!=r&&(p[a]=r)};m.core=v,E.F=1,E.G=2,E.S=4,E.P=8,E.B=16,E.W=32,E.U=64,E.R=128,e.exports=E},{"./_core":73,"./_ctx":75,"./_global":87,"./_hide":89,"./_redefine":132}],82:[function(t,e,i){var a=t("./_wks")("match");e.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[a]=!1,!"/./"[e](i)}catch(t){}}return!0}},{"./_wks":159}],83:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],84:[function(t,e,i){"use strict";var o=t("./_hide"),l=t("./_redefine"),d=t("./_fails"),h=t("./_defined"),c=t("./_wks");e.exports=function(e,t,i){var a=c(e),s=i(h,a,""[e]),r=s[0],n=s[1];d(function(){var t={};return t[a]=function(){return 7},7!=""[e](t)})&&(l(String.prototype,e,r),o(RegExp.prototype,a,2==t?function(t,e){return n.call(t,this,e)}:function(t){return n.call(t,this)}))}},{"./_defined":76,"./_fails":83,"./_hide":89,"./_redefine":132,"./_wks":159}],85:[function(t,e,i){"use strict";var a=t("./_an-object");e.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":60}],86:[function(t,e,i){var u=t("./_ctx"),f=t("./_iter-call"),p=t("./_is-array-iter"),m=t("./_an-object"),v=t("./_to-length"),g=t("./core.get-iterator-method"),y={},b={};(i=e.exports=function(t,e,i,a,s){var r,n,o,l,d=s?function(){return t}:g(t),h=u(i,a,e?2:1),c=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(p(d)){for(r=v(t.length);c<r;c++)if((l=e?h(m(n=t[c])[0],n[1]):h(t[c]))===y||l===b)return l}else for(o=d.call(t);!(n=o.next()).done;)if((l=f(o,h,n.value,e))===y||l===b)return l}).BREAK=y,i.RETURN=b},{"./_an-object":60,"./_ctx":75,"./_is-array-iter":95,"./_iter-call":100,"./_to-length":148,"./core.get-iterator-method":160}],87:[function(t,e,i){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},{}],88:[function(t,e,i){var a={}.hasOwnProperty;e.exports=function(t,e){return a.call(t,e)}},{}],89:[function(t,e,i){var a=t("./_object-dp"),s=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return a.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":77,"./_object-dp":116,"./_property-desc":130}],90:[function(t,e,i){var a=t("./_global").document;e.exports=a&&a.documentElement},{"./_global":87}],91:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":77,"./_dom-create":78,"./_fails":83}],92:[function(t,e,i){var r=t("./_is-object"),n=t("./_set-proto").set;e.exports=function(t,e,i){var a,s=e.constructor;return s!==i&&"function"==typeof s&&(a=s.prototype)!==i.prototype&&r(a)&&n&&n(t,a),t}},{"./_is-object":98,"./_set-proto":134}],93:[function(t,e,i){e.exports=function(t,e,i){var a=void 0===i;switch(e.length){case 0:return a?t():t.call(i);case 1:return a?t(e[0]):t.call(i,e[0]);case 2:return a?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],94:[function(t,e,i){var a=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},{"./_cof":69}],95:[function(t,e,i){var a=t("./_iterators"),s=t("./_wks")("iterator"),r=Array.prototype;e.exports=function(t){return void 0!==t&&(a.Array===t||r[s]===t)}},{"./_iterators":105,"./_wks":159}],96:[function(t,e,i){var a=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==a(t)}},{"./_cof":69}],97:[function(t,e,i){var a=t("./_is-object"),s=Math.floor;e.exports=function(t){return!a(t)&&isFinite(t)&&s(t)===t}},{"./_is-object":98}],98:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],99:[function(t,e,i){var a=t("./_is-object"),s=t("./_cof"),r=t("./_wks")("match");e.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==s(t))}},{"./_cof":69,"./_is-object":98,"./_wks":159}],100:[function(t,e,i){var r=t("./_an-object");e.exports=function(e,t,i,a){try{return a?t(r(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},{"./_an-object":60}],101:[function(t,e,i){"use strict";var a=t("./_object-create"),s=t("./_property-desc"),r=t("./_set-to-string-tag"),n={};t("./_hide")(n,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,i){t.prototype=a(n,{next:s(1,i)}),r(t,e+" Iterator")}},{"./_hide":89,"./_object-create":115,"./_property-desc":130,"./_set-to-string-tag":136,"./_wks":159}],102:[function(t,e,i){"use strict";var b=t("./_library"),S=t("./_export"),E=t("./_redefine"),A=t("./_hide"),C=t("./_iterators"),k=t("./_iter-create"),w=t("./_set-to-string-tag"),P=t("./_object-gpo"),_=t("./_wks")("iterator"),L=!([].keys&&"next"in[].keys()),T="values",I=function(){return this};e.exports=function(t,e,i,a,s,r,n){k(i,e,a);var o,l,d,h=function(t){if(!L&&t in p)return p[t];switch(t){case"keys":case T:return function(){return new i(this,t)}}return function(){return new i(this,t)}},c=e+" Iterator",u=s==T,f=!1,p=t.prototype,m=p[_]||p["@@iterator"]||s&&p[s],v=m||h(s),g=s?u?h("entries"):v:void 0,y="Array"==e&&p.entries||m;if(y&&(d=P(y.call(new t)))!==Object.prototype&&d.next&&(w(d,c,!0),b||"function"==typeof d[_]||A(d,_,I)),u&&m&&m.name!==T&&(f=!0,v=function(){return m.call(this)}),b&&!n||!L&&!f&&p[_]||A(p,_,v),C[e]=v,C[c]=I,s)if(o={values:u?v:h(T),keys:r?v:h("keys"),entries:g},n)for(l in o)l in p||E(p,l,o[l]);else S(S.P+S.F*(L||f),e,o);return o}},{"./_export":81,"./_hide":89,"./_iter-create":101,"./_iterators":105,"./_library":106,"./_object-gpo":122,"./_redefine":132,"./_set-to-string-tag":136,"./_wks":159}],103:[function(t,e,i){var r=t("./_wks")("iterator"),n=!1;try{var a=[7][r]();a.return=function(){n=!0},Array.from(a,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:i=!0}},a[r]=function(){return s},t(a)}catch(t){}return i}},{"./_wks":159}],104:[function(t,e,i){e.exports=function(t,e){return{value:e,done:!!t}}},{}],105:[function(t,e,i){e.exports={}},{}],106:[function(t,e,i){e.exports=!1},{}],107:[function(t,e,i){var a=Math.expm1;e.exports=!a||22025.465794806718<a(10)||a(10)<22025.465794806718||-2e-17!=a(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:a},{}],108:[function(t,e,i){var r=t("./_math-sign"),a=Math.pow,n=a(2,-52),o=a(2,-23),l=a(2,127)*(2-o),d=a(2,-126);e.exports=Math.fround||function(t){var e,i,a=Math.abs(t),s=r(t);return a<d?s*(a/d/o+1/n-1/n)*d*o:l<(i=(e=(1+o/n)*a)-(e-a))||i!=i?s*(1/0):s*i}},{"./_math-sign":110}],109:[function(t,e,i){e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],110:[function(t,e,i){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],111:[function(t,e,i){var a=t("./_uid")("meta"),s=t("./_is-object"),r=t("./_has"),n=t("./_object-dp").f,o=0,l=Object.isExtensible||function(){return!0},d=!t("./_fails")(function(){return l(Object.preventExtensions({}))}),h=function(t){n(t,a,{value:{i:"O"+ ++o,w:{}}})},c=e.exports={KEY:a,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,a)){if(!l(t))return"F";if(!e)return"E";h(t)}return t[a].i},getWeak:function(t,e){if(!r(t,a)){if(!l(t))return!0;if(!e)return!1;h(t)}return t[a].w},onFreeze:function(t){return d&&c.NEED&&l(t)&&!r(t,a)&&h(t),t}}},{"./_fails":83,"./_has":88,"./_is-object":98,"./_object-dp":116,"./_uid":154}],112:[function(t,e,i){var o=t("./_global"),l=t("./_task").set,d=o.MutationObserver||o.WebKitMutationObserver,h=o.process,c=o.Promise,u="process"==t("./_cof")(h);e.exports=function(){var i,a,s,t=function(){var t,e;for(u&&(t=h.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():a=void 0,t}}a=void 0,t&&t.enter()};if(u)s=function(){h.nextTick(t)};else if(!d||o.navigator&&o.navigator.standalone)if(c&&c.resolve){var e=c.resolve(void 0);s=function(){e.then(t)}}else s=function(){l.call(o,t)};else{var r=!0,n=document.createTextNode("");new d(t).observe(n,{characterData:!0}),s=function(){n.data=r=!r}}return function(t){var e={fn:t,next:void 0};a&&(a.next=e),i||(i=e,s()),a=e}}},{"./_cof":69,"./_global":87,"./_task":143}],113:[function(t,e,i){"use strict";var s=t("./_a-function");function a(t){var i,a;this.promise=new t(function(t,e){if(void 0!==i||void 0!==a)throw TypeError("Bad Promise constructor");i=t,a=e}),this.resolve=s(i),this.reject=s(a)}e.exports.f=function(t){return new a(t)}},{"./_a-function":57}],114:[function(t,e,i){"use strict";var u=t("./_object-keys"),f=t("./_object-gops"),p=t("./_object-pie"),m=t("./_to-object"),v=t("./_iobject"),s=Object.assign;e.exports=!s||t("./_fails")(function(){var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach(function(t){e[t]=t}),7!=s({},t)[i]||Object.keys(s({},e)).join("")!=a})?function(t,e){for(var i=m(t),a=arguments.length,s=1,r=f.f,n=p.f;s<a;)for(var o,l=v(arguments[s++]),d=r?u(l).concat(r(l)):u(l),h=d.length,c=0;c<h;)n.call(l,o=d[c++])&&(i[o]=l[o]);return i}:s},{"./_fails":83,"./_iobject":94,"./_object-gops":121,"./_object-keys":124,"./_object-pie":125,"./_to-object":149}],115:[function(a,t,e){var s=a("./_an-object"),r=a("./_object-dps"),n=a("./_enum-bug-keys"),o=a("./_shared-key")("IE_PROTO"),l=function(){},d="prototype",h=function(){var t,e=a("./_dom-create")("iframe"),i=n.length;for(e.style.display="none",a("./_html").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;i--;)delete h[d][n[i]];return h()};t.exports=Object.create||function(t,e){var i;return null!==t?(l[d]=s(t),i=new l,l[d]=null,i[o]=t):i=h(),void 0===e?i:r(i,e)}},{"./_an-object":60,"./_dom-create":78,"./_enum-bug-keys":79,"./_html":90,"./_object-dps":117,"./_shared-key":137}],116:[function(t,e,i){var a=t("./_an-object"),s=t("./_ie8-dom-define"),r=t("./_to-primitive"),n=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(a(t),e=r(e,!0),a(i),s)try{return n(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":60,"./_descriptors":77,"./_ie8-dom-define":91,"./_to-primitive":150}],117:[function(t,e,i){var n=t("./_object-dp"),o=t("./_an-object"),l=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){o(t);for(var i,a=l(e),s=a.length,r=0;r<s;)n.f(t,i=a[r++],e[i]);return t}},{"./_an-object":60,"./_descriptors":77,"./_object-dp":116,"./_object-keys":124}],118:[function(t,e,i){var a=t("./_object-pie"),s=t("./_property-desc"),r=t("./_to-iobject"),n=t("./_to-primitive"),o=t("./_has"),l=t("./_ie8-dom-define"),d=Object.getOwnPropertyDescriptor;i.f=t("./_descriptors")?d:function(t,e){if(t=r(t),e=n(e,!0),l)try{return d(t,e)}catch(t){}if(o(t,e))return s(!a.f.call(t,e),t[e])}},{"./_descriptors":77,"./_has":88,"./_ie8-dom-define":91,"./_object-pie":125,"./_property-desc":130,"./_to-iobject":147,"./_to-primitive":150}],119:[function(t,e,i){var a=t("./_to-iobject"),s=t("./_object-gopn").f,r={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return n&&"[object Window]"==r.call(t)?function(t){try{return s(t)}catch(t){return n.slice()}}(t):s(a(t))}},{"./_object-gopn":120,"./_to-iobject":147}],120:[function(t,e,i){var a=t("./_object-keys-internal"),s=t("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return a(t,s)}},{"./_enum-bug-keys":79,"./_object-keys-internal":123}],121:[function(t,e,i){i.f=Object.getOwnPropertySymbols},{}],122:[function(t,e,i){var a=t("./_has"),s=t("./_to-object"),r=t("./_shared-key")("IE_PROTO"),n=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=s(t),a(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?n:null}},{"./_has":88,"./_shared-key":137,"./_to-object":149}],123:[function(t,e,i){var n=t("./_has"),o=t("./_to-iobject"),l=t("./_array-includes")(!1),d=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var i,a=o(t),s=0,r=[];for(i in a)i!=d&&n(a,i)&&r.push(i);for(;e.length>s;)n(a,i=e[s++])&&(~l(r,i)||r.push(i));return r}},{"./_array-includes":63,"./_has":88,"./_shared-key":137,"./_to-iobject":147}],124:[function(t,e,i){var a=t("./_object-keys-internal"),s=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return a(t,s)}},{"./_enum-bug-keys":79,"./_object-keys-internal":123}],125:[function(t,e,i){i.f={}.propertyIsEnumerable},{}],126:[function(t,e,i){var s=t("./_export"),r=t("./_core"),n=t("./_fails");e.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),s(s.S+s.F*n(function(){i(1)}),"Object",a)}},{"./_core":73,"./_export":81,"./_fails":83}],127:[function(t,e,i){var a=t("./_object-gopn"),s=t("./_object-gops"),r=t("./_an-object"),n=t("./_global").Reflect;e.exports=n&&n.ownKeys||function(t){var e=a.f(r(t)),i=s.f;return i?e.concat(i(t)):e}},{"./_an-object":60,"./_global":87,"./_object-gopn":120,"./_object-gops":121}],128:[function(t,e,i){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],129:[function(t,e,i){var a=t("./_an-object"),s=t("./_is-object"),r=t("./_new-promise-capability");e.exports=function(t,e){if(a(t),s(e)&&e.constructor===t)return e;var i=r.f(t);return(0,i.resolve)(e),i.promise}},{"./_an-object":60,"./_is-object":98,"./_new-promise-capability":113}],130:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],131:[function(t,e,i){var s=t("./_redefine");e.exports=function(t,e,i){for(var a in e)s(t,a,e[a],i);return t}},{"./_redefine":132}],132:[function(t,e,i){var r=t("./_global"),n=t("./_hide"),o=t("./_has"),l=t("./_uid")("src"),a="toString",s=Function[a],d=(""+s).split(a);t("./_core").inspectSource=function(t){return s.call(t)},(e.exports=function(t,e,i,a){var s="function"==typeof i;s&&(o(i,"name")||n(i,"name",e)),t[e]!==i&&(s&&(o(i,l)||n(i,l,t[e]?""+t[e]:d.join(String(e)))),t===r?t[e]=i:a?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[l]||s.call(this)})},{"./_core":73,"./_global":87,"./_has":88,"./_hide":89,"./_uid":154}],133:[function(t,e,i){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],134:[function(e,t,i){var a=e("./_is-object"),s=e("./_an-object"),r=function(t,e){if(s(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,a){try{(a=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return r(t,e),i?t.__proto__=e:a(t,e),t}}({},!1):void 0),check:r}},{"./_an-object":60,"./_ctx":75,"./_is-object":98,"./_object-gopd":118}],135:[function(t,e,i){"use strict";var a=t("./_global"),s=t("./_object-dp"),r=t("./_descriptors"),n=t("./_wks")("species");e.exports=function(t){var e=a[t];r&&e&&!e[n]&&s.f(e,n,{configurable:!0,get:function(){return this}})}},{"./_descriptors":77,"./_global":87,"./_object-dp":116,"./_wks":159}],136:[function(t,e,i){var a=t("./_object-dp").f,s=t("./_has"),r=t("./_wks")("toStringTag");e.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,r)&&a(t,r,{configurable:!0,value:e})}},{"./_has":88,"./_object-dp":116,"./_wks":159}],137:[function(t,e,i){var a=t("./_shared")("keys"),s=t("./_uid");e.exports=function(t){return a[t]||(a[t]=s(t))}},{"./_shared":138,"./_uid":154}],138:[function(t,e,i){var a=t("./_core"),s=t("./_global"),r="__core-js_shared__",n=s[r]||(s[r]={});(e.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:t("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":73,"./_global":87,"./_library":106}],139:[function(t,e,i){var s=t("./_an-object"),r=t("./_a-function"),n=t("./_wks")("species");e.exports=function(t,e){var i,a=s(t).constructor;return void 0===a||null==(i=s(a)[n])?e:r(i)}},{"./_a-function":57,"./_an-object":60,"./_wks":159}],140:[function(t,e,i){var l=t("./_to-integer"),d=t("./_defined");e.exports=function(o){return function(t,e){var i,a,s=String(d(t)),r=l(e),n=s.length;return r<0||n<=r?o?"":void 0:(i=s.charCodeAt(r))<55296||56319<i||r+1===n||(a=s.charCodeAt(r+1))<56320||57343<a?o?s.charAt(r):i:o?s.slice(r,r+2):a-56320+(i-55296<<10)+65536}}},{"./_defined":76,"./_to-integer":146}],141:[function(t,e,i){var a=t("./_is-regexp"),s=t("./_defined");e.exports=function(t,e,i){if(a(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(s(t))}},{"./_defined":76,"./_is-regexp":99}],142:[function(t,e,i){"use strict";var s=t("./_to-integer"),r=t("./_defined");e.exports=function(t){var e=String(r(this)),i="",a=s(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},{"./_defined":76,"./_to-integer":146}],143:[function(t,e,i){var a,s,r,n=t("./_ctx"),o=t("./_invoke"),l=t("./_html"),d=t("./_dom-create"),h=t("./_global"),c=h.process,u=h.setImmediate,f=h.clearImmediate,p=h.MessageChannel,m=h.Dispatch,v=0,g={},y="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},S=function(t){b.call(t.data)};u&&f||(u=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return g[++v]=function(){o("function"==typeof t?t:Function(t),e)},a(v),v},f=function(t){delete g[t]},"process"==t("./_cof")(c)?a=function(t){c.nextTick(n(b,t,1))}:m&&m.now?a=function(t){m.now(n(b,t,1))}:p?(r=(s=new p).port2,s.port1.onmessage=S,a=n(r.postMessage,r,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(a=function(t){h.postMessage(t+"","*")},h.addEventListener("message",S,!1)):a=y in d("script")?function(t){l.appendChild(d("script"))[y]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(n(b,t,1),0)}),e.exports={set:u,clear:f}},{"./_cof":69,"./_ctx":75,"./_dom-create":78,"./_global":87,"./_html":90,"./_invoke":93}],144:[function(t,e,i){var a=t("./_to-integer"),s=Math.max,r=Math.min;e.exports=function(t,e){return(t=a(t))<0?s(t+e,0):r(t,e)}},{"./_to-integer":146}],145:[function(t,e,i){var a=t("./_to-integer"),s=t("./_to-length");e.exports=function(t){if(void 0===t)return 0;var e=a(t),i=s(e);if(e!==i)throw RangeError("Wrong length!");return i}},{"./_to-integer":146,"./_to-length":148}],146:[function(t,e,i){var a=Math.ceil,s=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?s:a)(t)}},{}],147:[function(t,e,i){var a=t("./_iobject"),s=t("./_defined");e.exports=function(t){return a(s(t))}},{"./_defined":76,"./_iobject":94}],148:[function(t,e,i){var a=t("./_to-integer"),s=Math.min;e.exports=function(t){return 0<t?s(a(t),9007199254740991):0}},{"./_to-integer":146}],149:[function(t,e,i){var a=t("./_defined");e.exports=function(t){return Object(a(t))}},{"./_defined":76}],150:[function(t,e,i){var s=t("./_is-object");e.exports=function(t,e){if(!s(t))return t;var i,a;if(e&&"function"==typeof(i=t.toString)&&!s(a=i.call(t)))return a;if("function"==typeof(i=t.valueOf)&&!s(a=i.call(t)))return a;if(!e&&"function"==typeof(i=t.toString)&&!s(a=i.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":98}],151:[function(t,e,i){"use strict";if(t("./_descriptors")){var g=t("./_library"),y=t("./_global"),b=t("./_fails"),S=t("./_export"),E=t("./_typed"),a=t("./_typed-buffer"),u=t("./_ctx"),A=t("./_an-instance"),s=t("./_property-desc"),C=t("./_hide"),r=t("./_redefine-all"),n=t("./_to-integer"),k=t("./_to-length"),w=t("./_to-index"),o=t("./_to-absolute-index"),l=t("./_to-primitive"),d=t("./_has"),P=t("./_classof"),_=t("./_is-object"),f=t("./_to-object"),p=t("./_is-array-iter"),L=t("./_object-create"),T=t("./_object-gpo"),I=t("./_object-gopn").f,m=t("./core.get-iterator-method"),h=t("./_uid"),c=t("./_wks"),v=t("./_array-methods"),M=t("./_array-includes"),x=t("./_species-constructor"),R=t("./es6.array.iterator"),D=t("./_iterators"),O=t("./_iter-detect"),j=t("./_set-species"),V=t("./_array-fill"),F=t("./_array-copy-within"),N=t("./_object-dp"),U=t("./_object-gopd"),B=N.f,H=U.f,W=y.RangeError,q=y.TypeError,J=y.Uint8Array,z="ArrayBuffer",G="Shared"+z,K="BYTES_PER_ELEMENT",Y="prototype",Q=Array[Y],X=a.ArrayBuffer,$=a.DataView,Z=v(0),tt=v(2),et=v(3),it=v(4),at=v(5),st=v(6),rt=M(!0),nt=M(!1),ot=R.values,lt=R.keys,dt=R.entries,ht=Q.lastIndexOf,ct=Q.reduce,ut=Q.reduceRight,ft=Q.join,pt=Q.sort,mt=Q.slice,vt=Q.toString,gt=Q.toLocaleString,yt=c("iterator"),bt=c("toStringTag"),St=h("typed_constructor"),Et=h("def_constructor"),At=E.CONSTR,Ct=E.TYPED,kt=E.VIEW,wt="Wrong length!",Pt=v(1,function(t,e){return Mt(x(t,t[Et]),e)}),_t=b(function(){return 1===new J(new Uint16Array([1]).buffer)[0]}),Lt=!!J&&!!J[Y].set&&b(function(){new J(1).set({})}),Tt=function(t,e){var i=n(t);if(i<0||i%e)throw W("Wrong offset!");return i},It=function(t){if(_(t)&&Ct in t)return t;throw q(t+" is not a typed array!")},Mt=function(t,e){if(!(_(t)&&St in t))throw q("It is not a typed array constructor!");return new t(e)},xt=function(t,e){return Rt(x(t,t[Et]),e)},Rt=function(t,e){for(var i=0,a=e.length,s=Mt(t,a);i<a;)s[i]=e[i++];return s},Dt=function(t,e,i){B(t,e,{get:function(){return this._d[i]}})},Ot=function(t){var e,i,a,s,r,n,o=f(t),l=arguments.length,d=1<l?arguments[1]:void 0,h=void 0!==d,c=m(o);if(null!=c&&!p(c)){for(n=c.call(o),a=[],e=0;!(r=n.next()).done;e++)a.push(r.value);o=a}for(h&&2<l&&(d=u(d,arguments[2],2)),e=0,i=k(o.length),s=Mt(this,i);e<i;e++)s[e]=h?d(o[e],e):o[e];return s},jt=function(){for(var t=0,e=arguments.length,i=Mt(this,e);t<e;)i[t]=arguments[t++];return i},Vt=!!J&&b(function(){gt.call(new J(1))}),Ft=function(){return gt.apply(Vt?mt.call(It(this)):It(this),arguments)},Nt={copyWithin:function(t,e){return F.call(It(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return it(It(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return V.apply(It(this),arguments)},filter:function(t){return xt(this,tt(It(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return at(It(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return st(It(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){Z(It(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return nt(It(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return rt(It(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return ft.apply(It(this),arguments)},lastIndexOf:function(t){return ht.apply(It(this),arguments)},map:function(t){return Pt(It(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return ct.apply(It(this),arguments)},reduceRight:function(t){return ut.apply(It(this),arguments)},reverse:function(){for(var t,e=It(this).length,i=Math.floor(e/2),a=0;a<i;)t=this[a],this[a++]=this[--e],this[e]=t;return this},some:function(t){return et(It(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return pt.call(It(this),t)},subarray:function(t,e){var i=It(this),a=i.length,s=o(t,a);return new(x(i,i[Et]))(i.buffer,i.byteOffset+s*i.BYTES_PER_ELEMENT,k((void 0===e?a:o(e,a))-s))}},Ut=function(t,e){return xt(this,mt.call(It(this),t,e))},Bt=function(t){It(this);var e=Tt(arguments[1],1),i=this.length,a=f(t),s=k(a.length),r=0;if(i<s+e)throw W(wt);for(;r<s;)this[e+r]=a[r++]},Ht={entries:function(){return dt.call(It(this))},keys:function(){return lt.call(It(this))},values:function(){return ot.call(It(this))}},Wt=function(t,e){return _(t)&&t[Ct]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},qt=function(t,e){return Wt(t,e=l(e,!0))?s(2,t[e]):H(t,e)},Jt=function(t,e,i){return!(Wt(t,e=l(e,!0))&&_(i)&&d(i,"value"))||d(i,"get")||d(i,"set")||i.configurable||d(i,"writable")&&!i.writable||d(i,"enumerable")&&!i.enumerable?B(t,e,i):(t[e]=i.value,t)};At||(U.f=qt,N.f=Jt),S(S.S+S.F*!At,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Jt}),b(function(){vt.call({})})&&(vt=gt=function(){return ft.call(this)});var zt=r({},Nt);r(zt,Ht),C(zt,yt,Ht.values),r(zt,{slice:Ut,set:Bt,constructor:function(){},toString:vt,toLocaleString:Ft}),Dt(zt,"buffer","b"),Dt(zt,"byteOffset","o"),Dt(zt,"byteLength","l"),Dt(zt,"length","e"),B(zt,bt,{get:function(){return this[Ct]}}),e.exports=function(t,c,e,r){var u=t+((r=!!r)?"Clamped":"")+"Array",i="get"+t,n="set"+t,f=y[u],o=f||{},a=f&&T(f),s=!f||!E.ABV,l={},d=f&&f[Y],p=function(t,s){B(t,s,{get:function(){return t=s,(e=this._d).v[i](t*c+e.o,_t);var t,e},set:function(t){return e=s,i=t,a=this._d,r&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void a.v[n](e*c+a.o,i,_t);var e,i,a},enumerable:!0})};s?(f=e(function(t,e,i,a){A(t,f,u,"_d");var s,r,n,o,l=0,d=0;if(_(e)){if(!(e instanceof X||(o=P(e))==z||o==G))return Ct in e?Rt(f,e):Ot.call(f,e);s=e,d=Tt(i,c);var h=e.byteLength;if(void 0===a){if(h%c)throw W(wt);if((r=h-d)<0)throw W(wt)}else if(h<(r=k(a)*c)+d)throw W(wt);n=r/c}else n=w(e),s=new X(r=n*c);for(C(t,"_d",{b:s,o:d,l:r,e:n,v:new $(s)});l<n;)p(t,l++)}),d=f[Y]=L(zt),C(d,"constructor",f)):b(function(){f(1)})&&b(function(){new f(-1)})&&O(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=e(function(t,e,i,a){var s;return A(t,f,u),_(e)?e instanceof X||(s=P(e))==z||s==G?void 0!==a?new o(e,Tt(i,c),a):void 0!==i?new o(e,Tt(i,c)):new o(e):Ct in e?Rt(f,e):Ot.call(f,e):new o(w(e))}),Z(a!==Function.prototype?I(o).concat(I(a)):I(o),function(t){t in f||C(f,t,o[t])}),f[Y]=d,g||(d.constructor=f));var h=d[yt],m=!!h&&("values"==h.name||null==h.name),v=Ht.values;C(f,St,!0),C(d,Ct,u),C(d,kt,!0),C(d,Et,f),(r?new f(1)[bt]==u:bt in d)||B(d,bt,{get:function(){return u}}),l[u]=f,S(S.G+S.W+S.F*(f!=o),l),S(S.S,u,{BYTES_PER_ELEMENT:c}),S(S.S+S.F*b(function(){o.of.call(f,1)}),u,{from:Ot,of:jt}),K in d||C(d,K,c),S(S.P,u,Nt),j(u),S(S.P+S.F*Lt,u,{set:Bt}),S(S.P+S.F*!m,u,Ht),g||d.toString==vt||(d.toString=vt),S(S.P+S.F*b(function(){new f(1).slice()}),u,{slice:Ut}),S(S.P+S.F*(b(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!b(function(){d.toLocaleString.call([1,2])})),u,{toLocaleString:Ft}),D[u]=m?h:v,g||m||C(d,yt,v)}}else e.exports=function(){}},{"./_an-instance":59,"./_array-copy-within":61,"./_array-fill":62,"./_array-includes":63,"./_array-methods":64,"./_classof":68,"./_ctx":75,"./_descriptors":77,"./_export":81,"./_fails":83,"./_global":87,"./_has":88,"./_hide":89,"./_is-array-iter":95,"./_is-object":98,"./_iter-detect":103,"./_iterators":105,"./_library":106,"./_object-create":115,"./_object-dp":116,"./_object-gopd":118,"./_object-gopn":120,"./_object-gpo":122,"./_property-desc":130,"./_redefine-all":131,"./_set-species":135,"./_species-constructor":139,"./_to-absolute-index":144,"./_to-index":145,"./_to-integer":146,"./_to-length":148,"./_to-object":149,"./_to-primitive":150,"./_typed":153,"./_typed-buffer":152,"./_uid":154,"./_wks":159,"./core.get-iterator-method":160,"./es6.array.iterator":166}],152:[function(t,e,i){"use strict";var a=t("./_global"),s=t("./_descriptors"),r=t("./_library"),n=t("./_typed"),o=t("./_hide"),l=t("./_redefine-all"),d=t("./_fails"),h=t("./_an-instance"),c=t("./_to-integer"),u=t("./_to-length"),f=t("./_to-index"),p=t("./_object-gopn").f,m=t("./_object-dp").f,v=t("./_array-fill"),g=t("./_set-to-string-tag"),y="ArrayBuffer",b="DataView",S="prototype",E="Wrong index!",A=a[y],C=a[b],k=a.Math,w=a.RangeError,P=a.Infinity,_=A,L=k.abs,T=k.pow,I=k.floor,M=k.log,x=k.LN2,R="byteLength",D="byteOffset",O=s?"_b":"buffer",j=s?"_l":R,V=s?"_o":D;function F(t,e,i){var a,s,r,n=new Array(i),o=8*i-e-1,l=(1<<o)-1,d=l>>1,h=23===e?T(2,-24)-T(2,-77):0,c=0,u=t<0||0===t&&1/t<0?1:0;for((t=L(t))!=t||t===P?(s=t!=t?1:0,a=l):(a=I(M(t)/x),t*(r=T(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+d?h/r:h*T(2,1-d))*r&&(a++,r/=2),l<=a+d?(s=0,a=l):1<=a+d?(s=(t*r-1)*T(2,e),a+=d):(s=t*T(2,d-1)*T(2,e),a=0));8<=e;n[c++]=255&s,s/=256,e-=8);for(a=a<<e|s,o+=e;0<o;n[c++]=255&a,a/=256,o-=8);return n[--c]|=128*u,n}function N(t,e,i){var a,s=8*i-e-1,r=(1<<s)-1,n=r>>1,o=s-7,l=i-1,d=t[l--],h=127&d;for(d>>=7;0<o;h=256*h+t[l],l--,o-=8);for(a=h&(1<<-o)-1,h>>=-o,o+=e;0<o;a=256*a+t[l],l--,o-=8);if(0===h)h=1-n;else{if(h===r)return a?NaN:d?-P:P;a+=T(2,e),h-=n}return(d?-1:1)*a*T(2,h-e)}function U(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function B(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function q(t){return F(t,52,8)}function J(t){return F(t,23,4)}function z(t,e,i){m(t[S],e,{get:function(){return this[i]}})}function G(t,e,i,a){var s=f(+i);if(s+e>t[j])throw w(E);var r=t[O]._b,n=s+t[V],o=r.slice(n,n+e);return a?o:o.reverse()}function K(t,e,i,a,s,r){var n=f(+i);if(n+e>t[j])throw w(E);for(var o=t[O]._b,l=n+t[V],d=a(+s),h=0;h<e;h++)o[l+h]=d[r?h:e-h-1]}if(n.ABV){if(!d(function(){A(1)})||!d(function(){new A(-1)})||d(function(){return new A,new A(1.5),new A(NaN),A.name!=y})){for(var Y,Q=(A=function(t){return h(this,A),new _(f(t))})[S]=_[S],X=p(_),$=0;X.length>$;)(Y=X[$++])in A||o(A,Y,_[Y]);r||(Q.constructor=A)}var Z=new C(new A(2)),tt=C[S].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||l(C[S],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else A=function(t){h(this,A,y);var e=f(t);this._b=v.call(new Array(e),0),this[j]=e},C=function(t,e,i){h(this,C,b),h(t,A,b);var a=t[j],s=c(e);if(s<0||a<s)throw w("Wrong offset!");if(a<s+(i=void 0===i?a-s:u(i)))throw w("Wrong length!");this[O]=t,this[V]=s,this[j]=i},s&&(z(A,R,"_l"),z(C,"buffer","_b"),z(C,R,"_l"),z(C,D,"_o")),l(C[S],{getInt8:function(t){return G(this,1,t)[0]<<24>>24},getUint8:function(t){return G(this,1,t)[0]},getInt16:function(t){var e=G(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=G(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return U(G(this,4,t,arguments[1]))},getUint32:function(t){return U(G(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(G(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(G(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,B,e)},setUint8:function(t,e){K(this,1,t,B,e)},setInt16:function(t,e){K(this,2,t,H,e,arguments[2])},setUint16:function(t,e){K(this,2,t,H,e,arguments[2])},setInt32:function(t,e){K(this,4,t,W,e,arguments[2])},setUint32:function(t,e){K(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,J,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,q,e,arguments[2])}});g(A,y),g(C,b),o(C[S],n.VIEW,!0),i[y]=A,i[b]=C},{"./_an-instance":59,"./_array-fill":62,"./_descriptors":77,"./_fails":83,"./_global":87,"./_hide":89,"./_library":106,"./_object-dp":116,"./_object-gopn":120,"./_redefine-all":131,"./_set-to-string-tag":136,"./_to-index":145,"./_to-integer":146,"./_to-length":148,"./_typed":153}],153:[function(t,e,i){for(var a,s=t("./_global"),r=t("./_hide"),n=t("./_uid"),o=n("typed_array"),l=n("view"),d=!(!s.ArrayBuffer||!s.DataView),h=d,c=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(a=s[u[c++]])?(r(a.prototype,o,!0),r(a.prototype,l,!0)):h=!1;e.exports={ABV:d,CONSTR:h,TYPED:o,VIEW:l}},{"./_global":87,"./_hide":89,"./_uid":154}],154:[function(t,e,i){var a=0,s=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++a+s).toString(36))}},{}],155:[function(t,e,i){var a=t("./_global").navigator;e.exports=a&&a.userAgent||""},{"./_global":87}],156:[function(t,e,i){var a=t("./_is-object");e.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{"./_is-object":98}],157:[function(t,e,i){var a=t("./_global"),s=t("./_core"),r=t("./_library"),n=t("./_wks-ext"),o=t("./_object-dp").f;e.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:n.f(t)})}},{"./_core":73,"./_global":87,"./_library":106,"./_object-dp":116,"./_wks-ext":158}],158:[function(t,e,i){i.f=t("./_wks")},{"./_wks":159}],159:[function(t,e,i){var a=t("./_shared")("wks"),s=t("./_uid"),r=t("./_global").Symbol,n="function"==typeof r;(e.exports=function(t){return a[t]||(a[t]=n&&r[t]||(n?r:s)("Symbol."+t))}).store=a},{"./_global":87,"./_shared":138,"./_uid":154}],160:[function(t,e,i){var a=t("./_classof"),s=t("./_wks")("iterator"),r=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(null!=t)return t[s]||t["@@iterator"]||r[a(t)]}},{"./_classof":68,"./_core":73,"./_iterators":105,"./_wks":159}],161:[function(t,e,i){var a=t("./_export");a(a.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":58,"./_array-copy-within":61,"./_export":81}],162:[function(t,e,i){var a=t("./_export");a(a.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":58,"./_array-fill":62,"./_export":81}],163:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_array-methods")(6),r="findIndex",n=!0;r in[]&&Array(1)[r](function(){n=!1}),a(a.P+a.F*n,"Array",{findIndex:function(t){return s(this,t,1<arguments.length?arguments[1]:void 0)}}),t("./_add-to-unscopables")(r)},{"./_add-to-unscopables":58,"./_array-methods":64,"./_export":81}],164:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_array-methods")(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),a(a.P+a.F*r,"Array",{find:function(t){return s(this,t,1<arguments.length?arguments[1]:void 0)}}),t("./_add-to-unscopables")("find")},{"./_add-to-unscopables":58,"./_array-methods":64,"./_export":81}],165:[function(t,e,i){"use strict";var u=t("./_ctx"),a=t("./_export"),f=t("./_to-object"),p=t("./_iter-call"),m=t("./_is-array-iter"),v=t("./_to-length"),g=t("./_create-property"),y=t("./core.get-iterator-method");a(a.S+a.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,a,s,r=f(t),n="function"==typeof this?this:Array,o=arguments.length,l=1<o?arguments[1]:void 0,d=void 0!==l,h=0,c=y(r);if(d&&(l=u(l,2<o?arguments[2]:void 0,2)),null==c||n==Array&&m(c))for(i=new n(e=v(r.length));h<e;h++)g(i,h,d?l(r[h],h):r[h]);else for(s=c.call(r),i=new n;!(a=s.next()).done;h++)g(i,h,d?p(s,l,[a.value,h],!0):a.value);return i.length=h,i}})},{"./_create-property":74,"./_ctx":75,"./_export":81,"./_is-array-iter":95,"./_iter-call":100,"./_iter-detect":103,"./_to-length":148,"./_to-object":149,"./core.get-iterator-method":160}],166:[function(t,e,i){"use strict";var a=t("./_add-to-unscopables"),s=t("./_iter-step"),r=t("./_iterators"),n=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=n(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,s(1)):s(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),r.Arguments=r.Array,a("keys"),a("values"),a("entries")},{"./_add-to-unscopables":58,"./_iter-define":102,"./_iter-step":104,"./_iterators":105,"./_to-iobject":147}],167:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_create-property");a(a.S+a.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);t<e;)s(i,t,arguments[t++]);return i.length=e,i}})},{"./_create-property":74,"./_export":81,"./_fails":83}],168:[function(t,e,i){var a=t("./_object-dp").f,s=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in s||t("./_descriptors")&&a(s,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},{"./_descriptors":77,"./_object-dp":116}],169:[function(t,e,i){"use strict";var a=t("./_collection-strong"),s=t("./_validate-collection");e.exports=t("./_collection")("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=a.getEntry(s(this,"Map"),t);return e&&e.v},set:function(t,e){return a.def(s(this,"Map"),0===t?0:t,e)}},a,!0)},{"./_collection":72,"./_collection-strong":70,"./_validate-collection":156}],170:[function(t,e,i){var a=t("./_export"),s=t("./_math-log1p"),r=Math.sqrt,n=Math.acosh;a(a.S+a.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:s(t-1+r(t-1)*r(t+1))}})},{"./_export":81,"./_math-log1p":109}],171:[function(t,e,i){var a=t("./_export"),s=Math.asinh;a(a.S+a.F*!(s&&0<1/s(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{"./_export":81}],172:[function(t,e,i){var a=t("./_export"),s=Math.atanh;a(a.S+a.F*!(s&&1/s(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./_export":81}],173:[function(t,e,i){var a=t("./_export"),s=t("./_math-sign");a(a.S,"Math",{cbrt:function(t){return s(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./_export":81,"./_math-sign":110}],174:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./_export":81}],175:[function(t,e,i){var a=t("./_export"),s=Math.exp;a(a.S,"Math",{cosh:function(t){return(s(t=+t)+s(-t))/2}})},{"./_export":81}],176:[function(t,e,i){var a=t("./_export"),s=t("./_math-expm1");a(a.S+a.F*(s!=Math.expm1),"Math",{expm1:s})},{"./_export":81,"./_math-expm1":107}],177:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{fround:t("./_math-fround")})},{"./_export":81,"./_math-fround":108}],178:[function(t,e,i){var a=t("./_export"),l=Math.abs;a(a.S,"Math",{hypot:function(t,e){for(var i,a,s=0,r=0,n=arguments.length,o=0;r<n;)o<(i=l(arguments[r++]))?(s=s*(a=o/i)*a+1,o=i):s+=0<i?(a=i/o)*a:i;return o===1/0?1/0:o*Math.sqrt(s)}})},{"./_export":81}],179:[function(t,e,i){var a=t("./_export"),s=Math.imul;a(a.S+a.F*t("./_fails")(function(){return-5!=s(4294967295,5)||2!=s.length}),"Math",{imul:function(t,e){var i=+t,a=+e,s=65535&i,r=65535&a;return 0|s*r+((65535&i>>>16)*r+s*(65535&a>>>16)<<16>>>0)}})},{"./_export":81,"./_fails":83}],180:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{"./_export":81}],181:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{log1p:t("./_math-log1p")})},{"./_export":81,"./_math-log1p":109}],182:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./_export":81}],183:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{sign:t("./_math-sign")})},{"./_export":81,"./_math-sign":110}],184:[function(t,e,i){var a=t("./_export"),s=t("./_math-expm1"),r=Math.exp;a(a.S+a.F*t("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(s(t)-s(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},{"./_export":81,"./_fails":83,"./_math-expm1":107}],185:[function(t,e,i){var a=t("./_export"),s=t("./_math-expm1"),r=Math.exp;a(a.S,"Math",{tanh:function(t){var e=s(t=+t),i=s(-t);return e==1/0?1:i==1/0?-1:(e-i)/(r(t)+r(-t))}})},{"./_export":81,"./_math-expm1":107}],186:[function(t,e,i){var a=t("./_export");a(a.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},{"./_export":81}],187:[function(t,e,i){var a=t("./_export");a(a.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":81}],188:[function(t,e,i){var a=t("./_export"),s=t("./_global").isFinite;a(a.S,"Number",{isFinite:function(t){return"number"==typeof t&&s(t)}})},{"./_export":81,"./_global":87}],189:[function(t,e,i){var a=t("./_export");a(a.S,"Number",{isInteger:t("./_is-integer")})},{"./_export":81,"./_is-integer":97}],190:[function(t,e,i){var a=t("./_export");a(a.S,"Number",{isNaN:function(t){return t!=t}})},{"./_export":81}],191:[function(t,e,i){var a=t("./_export"),s=t("./_is-integer"),r=Math.abs;a(a.S,"Number",{isSafeInteger:function(t){return s(t)&&r(t)<=9007199254740991}})},{"./_export":81,"./_is-integer":97}],192:[function(t,e,i){var a=t("./_export");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":81}],193:[function(t,e,i){var a=t("./_export");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":81}],194:[function(t,e,i){var a=t("./_export");a(a.S+a.F,"Object",{assign:t("./_object-assign")})},{"./_export":81,"./_object-assign":114}],195:[function(t,e,i){var a=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(e){return function(t){return e&&a(t)?e(s(t)):t}})},{"./_is-object":98,"./_meta":111,"./_object-sap":126}],196:[function(t,e,i){var a=t("./_to-iobject"),s=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,e){return s(a(t),e)}})},{"./_object-gopd":118,"./_object-sap":126,"./_to-iobject":147}],197:[function(t,e,i){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})},{"./_object-gopn-ext":119,"./_object-sap":126}],198:[function(t,e,i){var a=t("./_to-object"),s=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return s(a(t))}})},{"./_object-gpo":122,"./_object-sap":126,"./_to-object":149}],199:[function(t,e,i){var a=t("./_is-object");t("./_object-sap")("isExtensible",function(e){return function(t){return!!a(t)&&(!e||e(t))}})},{"./_is-object":98,"./_object-sap":126}],200:[function(t,e,i){var a=t("./_is-object");t("./_object-sap")("isFrozen",function(e){return function(t){return!a(t)||!!e&&e(t)}})},{"./_is-object":98,"./_object-sap":126}],201:[function(t,e,i){var a=t("./_is-object");t("./_object-sap")("isSealed",function(e){return function(t){return!a(t)||!!e&&e(t)}})},{"./_is-object":98,"./_object-sap":126}],202:[function(t,e,i){var a=t("./_export");a(a.S,"Object",{is:t("./_same-value")})},{"./_export":81,"./_same-value":133}],203:[function(t,e,i){var a=t("./_to-object"),s=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return s(a(t))}})},{"./_object-keys":124,"./_object-sap":126,"./_to-object":149}],204:[function(t,e,i){var a=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(e){return function(t){return e&&a(t)?e(s(t)):t}})},{"./_is-object":98,"./_meta":111,"./_object-sap":126}],205:[function(t,e,i){var a=t("./_is-object"),s=t("./_meta").onFreeze;t("./_object-sap")("seal",function(e){return function(t){return e&&a(t)?e(s(t)):t}})},{"./_is-object":98,"./_meta":111,"./_object-sap":126}],206:[function(t,e,i){var a=t("./_export");a(a.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":81,"./_set-proto":134}],207:[function(i,t,e){"use strict";var a,s,r,n,o=i("./_library"),l=i("./_global"),d=i("./_ctx"),h=i("./_classof"),c=i("./_export"),u=i("./_is-object"),f=i("./_a-function"),p=i("./_an-instance"),m=i("./_for-of"),v=i("./_species-constructor"),g=i("./_task").set,y=i("./_microtask")(),b=i("./_new-promise-capability"),S=i("./_perform"),E=i("./_user-agent"),A=i("./_promise-resolve"),C="Promise",k=l.TypeError,w=l.process,P=w&&w.versions,_=P&&P.v8||"",L=l[C],T="process"==h(w),I=function(){},M=s=b.f,x=!!function(){try{var t=L.resolve(1),e=(t.constructor={})[i("./_wks")("species")]=function(t){t(I,I)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==_.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},D=function(h,i){if(!h._n){h._n=!0;var a=h._c;y(function(){for(var l=h._v,d=1==h._s,t=0,e=function(t){var e,i,a,s=d?t.ok:t.fail,r=t.resolve,n=t.reject,o=t.domain;try{s?(d||(2==h._h&&V(h),h._h=1),!0===s?e=l:(o&&o.enter(),e=s(l),o&&(o.exit(),a=!0)),e===t.promise?n(k("Promise-chain cycle")):(i=R(e))?i.call(e,r,n):r(e)):n(l)}catch(t){o&&!a&&o.exit(),n(t)}};a.length>t;)e(a[t++]);h._c=[],h._n=!1,i&&!h._h&&O(h)})}},O=function(r){g.call(l,function(){var t,e,i,a=r._v,s=j(r);if(s&&(t=S(function(){T?w.emit("unhandledRejection",a,r):(e=l.onunhandledrejection)?e({promise:r,reason:a}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",a)}),r._h=T||j(r)?2:1),r._a=void 0,s&&t.e)throw t.v})},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},V=function(e){g.call(l,function(){var t;T?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},N=function(t){var i,a=this;if(!a._d){a._d=!0,a=a._w||a;try{if(a===t)throw k("Promise can't be resolved itself");(i=R(t))?y(function(){var e={_w:a,_d:!1};try{i.call(t,d(N,e,1),d(F,e,1))}catch(t){F.call(e,t)}}):(a._v=t,a._s=1,D(a,!1))}catch(t){F.call({_w:a,_d:!1},t)}}};x||(L=function(t){p(this,L,C,"_h"),f(t),a.call(this);try{t(d(N,this,1),d(F,this,1))}catch(t){F.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i("./_redefine-all")(L.prototype,{then:function(t,e){var i=M(v(this,L));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=T?w.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new a;this.promise=t,this.resolve=d(N,t,1),this.reject=d(F,t,1)},b.f=M=function(t){return t===L||t===n?new r(t):s(t)}),c(c.G+c.W+c.F*!x,{Promise:L}),i("./_set-to-string-tag")(L,C),i("./_set-species")(C),n=i("./_core")[C],c(c.S+c.F*!x,C,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(o||!x),C,{resolve:function(t){return A(o&&this===n?L:this,t)}}),c(c.S+c.F*!(x&&i("./_iter-detect")(function(t){L.all(t).catch(I)})),C,{all:function(t){var n=this,e=M(n),o=e.resolve,l=e.reject,i=S(function(){var a=[],s=0,r=1;m(t,!1,function(t){var e=s++,i=!1;a.push(void 0),r++,n.resolve(t).then(function(t){i||(i=!0,a[e]=t,--r||o(a))},l)}),--r||o(a)});return i.e&&l(i.v),e.promise},race:function(t){var e=this,i=M(e),a=i.reject,s=S(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,a)})});return s.e&&a(s.v),i.promise}})},{"./_a-function":57,"./_an-instance":59,"./_classof":68,"./_core":73,"./_ctx":75,"./_export":81,"./_for-of":86,"./_global":87,"./_is-object":98,"./_iter-detect":103,"./_library":106,"./_microtask":112,"./_new-promise-capability":113,"./_perform":128,"./_promise-resolve":129,"./_redefine-all":131,"./_set-species":135,"./_set-to-string-tag":136,"./_species-constructor":139,"./_task":143,"./_user-agent":155,"./_wks":159}],208:[function(t,e,i){var a=t("./_export"),r=t("./_a-function"),n=t("./_an-object"),o=(t("./_global").Reflect||{}).apply,l=Function.apply;a(a.S+a.F*!t("./_fails")(function(){o(function(){})}),"Reflect",{apply:function(t,e,i){var a=r(t),s=n(i);return o?o(a,e,s):l.call(a,e,s)}})},{"./_a-function":57,"./_an-object":60,"./_export":81,"./_fails":83,"./_global":87}],209:[function(t,e,i){var a=t("./_export"),o=t("./_object-create"),l=t("./_a-function"),d=t("./_an-object"),h=t("./_is-object"),s=t("./_fails"),c=t("./_bind"),u=(t("./_global").Reflect||{}).construct,f=s(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),p=!s(function(){u(function(){})});a(a.S+a.F*(f||p),"Reflect",{construct:function(t,e){l(t),d(e);var i=arguments.length<3?t:l(arguments[2]);if(p&&!f)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return a.push.apply(a,e),new(c.apply(t,a))}var s=i.prototype,r=o(h(s)?s:Object.prototype),n=Function.apply.call(t,r,e);return h(n)?n:r}})},{"./_a-function":57,"./_an-object":60,"./_bind":67,"./_export":81,"./_fails":83,"./_global":87,"./_is-object":98,"./_object-create":115}],210:[function(t,e,i){var a=t("./_object-dp"),s=t("./_export"),r=t("./_an-object"),n=t("./_to-primitive");s(s.S+s.F*t("./_fails")(function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){r(t),e=n(e,!0),r(i);try{return a.f(t,e,i),!0}catch(t){return!1}}})},{"./_an-object":60,"./_export":81,"./_fails":83,"./_object-dp":116,"./_to-primitive":150}],211:[function(t,e,i){var a=t("./_export"),s=t("./_object-gopd").f,r=t("./_an-object");a(a.S,"Reflect",{deleteProperty:function(t,e){var i=s(r(t),e);return!(i&&!i.configurable)&&delete t[e]}})},{"./_an-object":60,"./_export":81,"./_object-gopd":118}],212:[function(t,e,i){var a=t("./_object-gopd"),s=t("./_export"),r=t("./_an-object");s(s.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return a.f(r(t),e)}})},{"./_an-object":60,"./_export":81,"./_object-gopd":118}],213:[function(t,e,i){var a=t("./_export"),s=t("./_object-gpo"),r=t("./_an-object");a(a.S,"Reflect",{getPrototypeOf:function(t){return s(r(t))}})},{"./_an-object":60,"./_export":81,"./_object-gpo":122}],214:[function(t,e,i){var n=t("./_object-gopd"),o=t("./_object-gpo"),l=t("./_has"),a=t("./_export"),d=t("./_is-object"),h=t("./_an-object");a(a.S,"Reflect",{get:function t(e,i){var a,s,r=arguments.length<3?e:arguments[2];return h(e)===r?e[i]:(a=n.f(e,i))?l(a,"value")?a.value:void 0!==a.get?a.get.call(r):void 0:d(s=o(e))?t(s,i,r):void 0}})},{"./_an-object":60,"./_export":81,"./_has":88,"./_is-object":98,"./_object-gopd":118,"./_object-gpo":122}],215:[function(t,e,i){var a=t("./_export");a(a.S,"Reflect",{has:function(t,e){return e in t}})},{"./_export":81}],216:[function(t,e,i){var a=t("./_export"),s=t("./_an-object"),r=Object.isExtensible;a(a.S,"Reflect",{isExtensible:function(t){return s(t),!r||r(t)}})},{"./_an-object":60,"./_export":81}],217:[function(t,e,i){var a=t("./_export");a(a.S,"Reflect",{ownKeys:t("./_own-keys")})},{"./_export":81,"./_own-keys":127}],218:[function(t,e,i){var a=t("./_export"),s=t("./_an-object"),r=Object.preventExtensions;a(a.S,"Reflect",{preventExtensions:function(t){s(t);try{return r&&r(t),!0}catch(t){return!1}}})},{"./_an-object":60,"./_export":81}],219:[function(t,e,i){var a=t("./_export"),s=t("./_set-proto");s&&a(a.S,"Reflect",{setPrototypeOf:function(t,e){s.check(t,e);try{return s.set(t,e),!0}catch(t){return!1}}})},{"./_export":81,"./_set-proto":134}],220:[function(t,e,i){var l=t("./_object-dp"),d=t("./_object-gopd"),h=t("./_object-gpo"),c=t("./_has"),a=t("./_export"),u=t("./_property-desc"),f=t("./_an-object"),p=t("./_is-object");a(a.S,"Reflect",{set:function t(e,i,a){var s,r,n=arguments.length<4?e:arguments[3],o=d.f(f(e),i);if(!o){if(p(r=h(e)))return t(r,i,a,n);o=u(0)}if(c(o,"value")){if(!1===o.writable||!p(n))return!1;if(s=d.f(n,i)){if(s.get||s.set||!1===s.writable)return!1;s.value=a,l.f(n,i,s)}else l.f(n,i,u(0,a));return!0}return void 0!==o.set&&(o.set.call(n,a),!0)}})},{"./_an-object":60,"./_export":81,"./_has":88,"./_is-object":98,"./_object-dp":116,"./_object-gopd":118,"./_object-gpo":122,"./_property-desc":130}],221:[function(t,e,i){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":77,"./_flags":85,"./_object-dp":116}],222:[function(t,e,i){t("./_fix-re-wks")("match",1,function(a,s,t){return[function(t){"use strict";var e=a(this),i=null==t?void 0:t[s];return void 0!==i?i.call(t,e):new RegExp(t)[s](String(e))},t]})},{"./_fix-re-wks":84}],223:[function(t,e,i){t("./_fix-re-wks")("replace",2,function(s,r,n){return[function(t,e){"use strict";var i=s(this),a=null==t?void 0:t[r];return void 0!==a?a.call(t,i,e):n.call(String(i),t,e)},n]})},{"./_fix-re-wks":84}],224:[function(t,e,i){t("./_fix-re-wks")("search",1,function(a,s,t){return[function(t){"use strict";var e=a(this),i=null==t?void 0:t[s];return void 0!==i?i.call(t,e):new RegExp(t)[s](String(e))},t]})},{"./_fix-re-wks":84}],225:[function(e,t,i){e("./_fix-re-wks")("split",2,function(s,r,n){"use strict";var f=e("./_is-regexp"),p=n,m=[].push,t="split",v="length";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[v]||2!="ab"[t](/(?:ab)*/)[v]||4!="."[t](/(.?)(.?)/)[v]||1<"."[t](/()()/)[v]||""[t](/.?/)[v]){var g=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!f(t))return p.call(i,t,e);var a,s,r,n,o,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,c=void 0===e?4294967295:e>>>0,u=new RegExp(t.source,d+"g");for(g||(a=new RegExp("^"+u.source+"$(?!\\s)",d));(s=u.exec(i))&&!(h<(r=s.index+s[0][v])&&(l.push(i.slice(h,s.index)),!g&&1<s[v]&&s[0].replace(a,function(){for(o=1;o<arguments[v]-2;o++)void 0===arguments[o]&&(s[o]=void 0)}),1<s[v]&&s.index<i[v]&&m.apply(l,s.slice(1)),n=s[0][v],h=r,l[v]>=c));)u.lastIndex===s.index&&u.lastIndex++;return h===i[v]?!n&&u.test("")||l.push(""):l.push(i.slice(h)),l[v]>c?l.slice(0,c):l}}else"0"[t](void 0,0)[v]&&(n=function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)});return[function(t,e){var i=s(this),a=null==t?void 0:t[r];return void 0!==a?a.call(t,i,e):n.call(String(i),t,e)},n]})},{"./_fix-re-wks":84,"./_is-regexp":99}],226:[function(t,e,i){"use strict";var a=t("./_collection-strong"),s=t("./_validate-collection");e.exports=t("./_collection")("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return a.def(s(this,"Set"),t=0===t?0:t,t)}},a)},{"./_collection":72,"./_collection-strong":70,"./_validate-collection":156}],227:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_string-at")(!1);a(a.P,"String",{codePointAt:function(t){return s(this,t)}})},{"./_export":81,"./_string-at":140}],228:[function(t,e,i){"use strict";var a=t("./_export"),n=t("./_to-length"),o=t("./_string-context"),l="endsWith",d=""[l];a(a.P+a.F*t("./_fails-is-regexp")(l),"String",{endsWith:function(t){var e=o(this,t,l),i=1<arguments.length?arguments[1]:void 0,a=n(e.length),s=void 0===i?a:Math.min(n(i),a),r=String(t);return d?d.call(e,r,s):e.slice(s-r.length,s)===r}})},{"./_export":81,"./_fails-is-regexp":82,"./_string-context":141,"./_to-length":148}],229:[function(t,e,i){var a=t("./_export"),r=t("./_to-absolute-index"),n=String.fromCharCode,s=String.fromCodePoint;a(a.S+a.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,i=[],a=arguments.length,s=0;s<a;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?n(e):n(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},{"./_export":81,"./_to-absolute-index":144}],230:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_string-context");a(a.P+a.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~s(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},{"./_export":81,"./_fails-is-regexp":82,"./_string-context":141}],231:[function(t,e,i){var a=t("./_export"),n=t("./_to-iobject"),o=t("./_to-length");a(a.S,"String",{raw:function(t){for(var e=n(t.raw),i=o(e.length),a=arguments.length,s=[],r=0;r<i;)s.push(String(e[r++])),r<a&&s.push(String(arguments[r]));return s.join("")}})},{"./_export":81,"./_to-iobject":147,"./_to-length":148}],232:[function(t,e,i){var a=t("./_export");a(a.P,"String",{repeat:t("./_string-repeat")})},{"./_export":81,"./_string-repeat":142}],233:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_to-length"),r=t("./_string-context"),n="startsWith",o=""[n];a(a.P+a.F*t("./_fails-is-regexp")(n),"String",{startsWith:function(t){var e=r(this,t,n),i=s(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),a=String(t);return o?o.call(e,a,i):e.slice(i,i+a.length)===a}})},{"./_export":81,"./_fails-is-regexp":82,"./_string-context":141,"./_to-length":148}],234:[function(t,e,i){"use strict";var a=t("./_global"),n=t("./_has"),s=t("./_descriptors"),r=t("./_export"),o=t("./_redefine"),l=t("./_meta").KEY,d=t("./_fails"),h=t("./_shared"),c=t("./_set-to-string-tag"),u=t("./_uid"),f=t("./_wks"),p=t("./_wks-ext"),m=t("./_wks-define"),v=t("./_enum-keys"),g=t("./_is-array"),y=t("./_an-object"),b=t("./_is-object"),S=t("./_to-iobject"),E=t("./_to-primitive"),A=t("./_property-desc"),C=t("./_object-create"),k=t("./_object-gopn-ext"),w=t("./_object-gopd"),P=t("./_object-dp"),_=t("./_object-keys"),L=w.f,T=P.f,I=k.f,M=a.Symbol,x=a.JSON,R=x&&x.stringify,D="prototype",O=f("_hidden"),j=f("toPrimitive"),V={}.propertyIsEnumerable,F=h("symbol-registry"),N=h("symbols"),U=h("op-symbols"),B=Object[D],H="function"==typeof M,W=a.QObject,q=!W||!W[D]||!W[D].findChild,J=s&&d(function(){return 7!=C(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,i){var a=L(B,e);a&&delete B[e],T(t,e,i),a&&t!==B&&T(B,e,a)}:T,z=function(t){var e=N[t]=C(M[D]);return e._k=t,e},G=H&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},K=function(t,e,i){return t===B&&K(U,e,i),y(t),e=E(e,!0),y(i),n(N,e)?(i.enumerable?(n(t,O)&&t[O][e]&&(t[O][e]=!1),i=C(i,{enumerable:A(0,!1)})):(n(t,O)||T(t,O,A(1,{})),t[O][e]=!0),J(t,e,i)):T(t,e,i)},Y=function(t,e){y(t);for(var i,a=v(e=S(e)),s=0,r=a.length;s<r;)K(t,i=a[s++],e[i]);return t},Q=function(t){var e=V.call(this,t=E(t,!0));return!(this===B&&n(N,t)&&!n(U,t))&&(!(e||!n(this,t)||!n(N,t)||n(this,O)&&this[O][t])||e)},X=function(t,e){if(t=S(t),e=E(e,!0),t!==B||!n(N,e)||n(U,e)){var i=L(t,e);return!i||!n(N,e)||n(t,O)&&t[O][e]||(i.enumerable=!0),i}},$=function(t){for(var e,i=I(S(t)),a=[],s=0;i.length>s;)n(N,e=i[s++])||e==O||e==l||a.push(e);return a},Z=function(t){for(var e,i=t===B,a=I(i?U:S(t)),s=[],r=0;a.length>r;)!n(N,e=a[r++])||i&&!n(B,e)||s.push(N[e]);return s};H||(o((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=u(0<arguments.length?arguments[0]:void 0),i=function(t){this===B&&i.call(U,t),n(this,O)&&n(this[O],e)&&(this[O][e]=!1),J(this,e,A(1,t))};return s&&q&&J(B,e,{configurable:!0,set:i}),z(e)})[D],"toString",function(){return this._k}),w.f=X,P.f=K,t("./_object-gopn").f=k.f=$,t("./_object-pie").f=Q,t("./_object-gops").f=Z,s&&!t("./_library")&&o(B,"propertyIsEnumerable",Q,!0),p.f=function(t){return z(f(t))}),r(r.G+r.W+r.F*!H,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var it=_(f.store),at=0;it.length>at;)m(it[at++]);r(r.S+r.F*!H,"Symbol",{for:function(t){return n(F,t+="")?F[t]:F[t]=M(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),r(r.S+r.F*!H,"Object",{create:function(t,e){return void 0===e?C(t):Y(C(t),e)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),x&&r(r.S+r.F*(!H||d(function(){var t=M();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,i,a=[t],s=1;arguments.length>s;)a.push(arguments[s++]);if(i=e=a[1],(b(e)||void 0!==t)&&!G(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!G(e))return e}),a[1]=e,R.apply(x,a)}}),M[D][j]||t("./_hide")(M[D],j,M[D].valueOf),c(M,"Symbol"),c(Math,"Math",!0),c(a.JSON,"JSON",!0)},{"./_an-object":60,"./_descriptors":77,"./_enum-keys":80,"./_export":81,"./_fails":83,"./_global":87,"./_has":88,"./_hide":89,"./_is-array":96,"./_is-object":98,"./_library":106,"./_meta":111,"./_object-create":115,"./_object-dp":116,"./_object-gopd":118,"./_object-gopn":120,"./_object-gopn-ext":119,"./_object-gops":121,"./_object-keys":124,"./_object-pie":125,"./_property-desc":130,"./_redefine":132,"./_set-to-string-tag":136,"./_shared":138,"./_to-iobject":147,"./_to-primitive":150,"./_uid":154,"./_wks":159,"./_wks-define":157,"./_wks-ext":158}],235:[function(t,e,i){"use strict";var a=t("./_export"),s=t("./_typed"),r=t("./_typed-buffer"),d=t("./_an-object"),h=t("./_to-absolute-index"),c=t("./_to-length"),n=t("./_is-object"),o=t("./_global").ArrayBuffer,u=t("./_species-constructor"),f=r.ArrayBuffer,p=r.DataView,l=s.ABV&&o.isView,m=f.prototype.slice,v=s.VIEW,g="ArrayBuffer";a(a.G+a.W+a.F*(o!==f),{ArrayBuffer:f}),a(a.S+a.F*!s.CONSTR,g,{isView:function(t){return l&&l(t)||n(t)&&v in t}}),a(a.P+a.U+a.F*t("./_fails")(function(){return!new f(2).slice(1,void 0).byteLength}),g,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(d(this),t);for(var i=d(this).byteLength,a=h(t,i),s=h(void 0===e?i:e,i),r=new(u(this,f))(c(s-a)),n=new p(this),o=new p(r),l=0;a<s;)o.setUint8(l++,n.getUint8(a++));return r}}),t("./_set-species")(g)},{"./_an-object":60,"./_export":81,"./_fails":83,"./_global":87,"./_is-object":98,"./_set-species":135,"./_species-constructor":139,"./_to-absolute-index":144,"./_to-length":148,"./_typed":153,"./_typed-buffer":152}],236:[function(t,e,i){var a=t("./_export");a(a.G+a.W+a.F*!t("./_typed").ABV,{DataView:t("./_typed-buffer").DataView})},{"./_export":81,"./_typed":153,"./_typed-buffer":152}],237:[function(t,e,i){t("./_typed-array")("Float32",4,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],238:[function(t,e,i){t("./_typed-array")("Float64",8,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],239:[function(t,e,i){t("./_typed-array")("Int16",2,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],240:[function(t,e,i){t("./_typed-array")("Int32",4,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],241:[function(t,e,i){t("./_typed-array")("Int8",1,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],242:[function(t,e,i){t("./_typed-array")("Uint16",2,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],243:[function(t,e,i){t("./_typed-array")("Uint32",4,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],244:[function(t,e,i){t("./_typed-array")("Uint8",1,function(a){return function(t,e,i){return a(this,t,e,i)}})},{"./_typed-array":151}],245:[function(t,e,i){t("./_typed-array")("Uint8",1,function(a){return function(t,e,i){return a(this,t,e,i)}},!0)},{"./_typed-array":151}],246:[function(t,e,i){"use strict";var r,a=t("./_array-methods")(0),n=t("./_redefine"),s=t("./_meta"),o=t("./_object-assign"),l=t("./_collection-weak"),d=t("./_is-object"),h=t("./_fails"),c=t("./_validate-collection"),u="WeakMap",f=s.getWeak,p=Object.isExtensible,m=l.ufstore,v={},g=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},y={get:function(t){if(d(t)){var e=f(t);return!0===e?m(c(this,u)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(c(this,u),t,e)}},b=e.exports=t("./_collection")(u,g,y,l,!0,!0);h(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(o((r=l.getConstructor(g,u)).prototype,y),s.NEED=!0,a(["delete","has","get","set"],function(a){var t=b.prototype,s=t[a];n(t,a,function(t,e){if(d(t)&&!p(t)){this._f||(this._f=new r);var i=this._f[a](t,e);return"set"==a?this:i}return s.call(this,t,e)})}))},{"./_array-methods":64,"./_collection":72,"./_collection-weak":71,"./_fails":83,"./_is-object":98,"./_meta":111,"./_object-assign":114,"./_redefine":132,"./_validate-collection":156}],247:[function(t,e,i){"use strict";var a=t("./_collection-weak"),s=t("./_validate-collection");t("./_collection")("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return a.def(s(this,"WeakSet"),t,!0)}},a,!1,!0)},{"./_collection":72,"./_collection-weak":71,"./_validate-collection":156}],248:[function(t,e,i){for(var a=t("./es6.array.iterator"),s=t("./_object-keys"),r=t("./_redefine"),n=t("./_global"),o=t("./_hide"),l=t("./_iterators"),d=t("./_wks"),h=d("iterator"),c=d("toStringTag"),u=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(f),m=0;m<p.length;m++){var v,g=p[m],y=f[g],b=n[g],S=b&&b.prototype;if(S&&(S[h]||o(S,h,u),S[c]||o(S,c,g),l[g]=u,y))for(v in a)S[v]||r(S,v,a[v],!0)}},{"./_global":87,"./_hide":89,"./_iterators":105,"./_object-keys":124,"./_redefine":132,"./_wks":159,"./es6.array.iterator":166}],249:[function(t,e,i){var a=t("./_export"),s=t("./_task");a(a.G+a.B,{setImmediate:s.set,clearImmediate:s.clear})},{"./_export":81,"./_task":143}],250:[function(t,e,i){var a=t("./_global"),s=t("./_export"),r=t("./_user-agent"),n=[].slice,o=/MSIE .\./.test(r),l=function(s){return function(t,e){var i=2<arguments.length,a=!!i&&n.call(arguments,2);return s(i?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,e)}};s(s.G+s.B+s.F*o,{setTimeout:l(a.setTimeout),setInterval:l(a.setInterval)})},{"./_export":81,"./_global":87,"./_user-agent":155}],251:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});
/**
 * @license Copyright (c) 2015-2018 Radiant Media Player 
 * rmp-connection 0.1.7 | https://github.com/radiantmediaplayer/rmp-connection
 */
var a={},s=null;a.getBandwidthEstimate=function(){if("undefined"==typeof window)return-1;if(void 0!==navigator.onLine&&!navigator.onLine)return-1;if(void 0===navigator.connection)return-1;if((s="string"==typeof navigator.connection.type&&""!==navigator.connection.type?navigator.connection.type:null)&&"none"===s)return-1;if("number"==typeof navigator.connection.downlink&&0<navigator.connection.downlink)return navigator.connection.downlink;var t=function(){var t=[.025,.035,.35,1.4];if(s)switch(s){case"bluetooth":case"cellular":t[3]=.7;break;case"ethernet":case"wifi":case"wimax":t[3]=2.1}return t}();if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return t[0];case"2g":return t[1];case"3g":return t[2];case"4g":return t[3]}if(s)switch(s){case"ethernet":case"wifi":case"wimax":return 1.4;case"bluetooth":return.35}return-1},i.default=a},{}],252:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});
/**
 * @license Copyright (c) 2015-2018 Radiant Media Player 
 * rmp-connection 0.1.7 | https://github.com/radiantmediaplayer/rmp-connection
 */
var a={},s=null;a.getBandwidthEstimate=function(){if("undefined"==typeof window)return-1;if(void 0!==navigator.onLine&&!navigator.onLine)return-1;if(void 0===navigator.connection)return-1;if((s="string"==typeof navigator.connection.type&&""!==navigator.connection.type?navigator.connection.type:null)&&"none"===s)return-1;if("number"==typeof navigator.connection.downlink&&0<navigator.connection.downlink)return navigator.connection.downlink;var t=function(){var t=[.025,.035,.35,1.4];if(s)switch(s){case"bluetooth":case"cellular":t[3]=.7;break;case"ethernet":case"wifi":case"wimax":t[3]=2.1}return t}();if("string"==typeof navigator.connection.effectiveType&&""!==navigator.connection.effectiveType)switch(navigator.connection.effectiveType){case"slow-2g":return t[0];case"2g":return t[1];case"3g":return t[2];case"4g":return t[3]}if(s)switch(s){case"ethernet":case"wifi":case"wimax":return 1.4;case"bluetooth":return.35}return-1},i.default=a},{}],253:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=l(t("../fw/fw")),s=l(t("../fw/env")),r=l(t("../players/vast-player")),n=l(t("../players/content-player")),o=l(t("../players/vpaid"));function l(t){return t&&t.__esModule?t:{default:t}}var d={attach:function(t){t.prototype.play=function(){this.adOnStage&&this.adIsLinear?this.isVPAID?o.default.resumeAd.call(this):r.default.play.call(this):n.default.play.call(this)},t.prototype.pause=function(){this.adOnStage&&this.adIsLinear?this.isVPAID?o.default.pauseAd.call(this):r.default.pause.call(this):n.default.pause.call(this)},t.prototype.getAdPaused=function(){return!(!this.adOnStage||!this.adIsLinear)&&(this.isVPAID?o.default.getAdPaused.call(this):this.vastPlayerPaused)},t.prototype.setVolume=function(t){if(a.default.isNumber(t)){var e=0;e=t<0?0:1<t?1:t,this.adOnStage&&this.adIsLinear&&(this.isVPAID&&o.default.setAdVolume.call(this,e),r.default.setVolume.call(this,e)),n.default.setVolume.call(this,e)}},t.prototype.getVolume=function(){return this.adOnStage&&this.adIsLinear?this.isVPAID?o.default.getAdVolume.call(this):r.default.getVolume.call(this):n.default.getVolume.call(this)},t.prototype.setMute=function(t){"boolean"==typeof t&&(this.adOnStage&&this.adIsLinear&&(this.isVPAID?t?o.default.setAdVolume.call(this,0):o.default.setAdVolume.call(this,1):r.default.setMute.call(this,t)),n.default.setMute.call(this,t))},t.prototype.getMute=function(){return this.adOnStage&&this.adIsLinear?this.isVPAID?0===o.default.getAdVolume.call(this):r.default.getMute.call(this):n.default.getMute.call(this)},t.prototype.stopAds=function(){this.adOnStage&&(this.isVPAID?o.default.stopAd.call(this):r.default.resumeContent.call(this))},t.prototype.getAdTagUrl=function(){return this.adTagUrl},t.prototype.getAdMediaUrl=function(){return this.adOnStage?this.isVPAID?o.default.getCreativeUrl.call(this):this.adMediaUrl:null},t.prototype.getAdLinear=function(){return this.adIsLinear},t.prototype.getAdSystem=function(){return this.adSystem},t.prototype.getAdContentType=function(){return this.adOnStage?this.adIsLinear||this.isVPAID?this.adContentType:this.nonLinearContentType:""},t.prototype.getAdTitle=function(){return this.adTitle},t.prototype.getAdDescription=function(){return this.adDescription},t.prototype.getAdDuration=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID){var t=o.default.getAdDuration.call(this);return 0<t&&(t*=1e3),t}return r.default.getDuration.call(this)}return-1},t.prototype.getAdCurrentTime=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID){var t=o.default.getAdRemainingTime.call(this),e=o.default.getAdDuration.call(this);return-1===t||-1===e||e<t?-1:1e3*(e-t)}return r.default.getCurrentTime.call(this)}return-1},t.prototype.getAdRemainingTime=function(){if(this.adOnStage&&this.adIsLinear){if(this.isVPAID)return o.default.getAdRemainingTime.call(this);var t=r.default.getCurrentTime.call(this),e=r.default.getDuration.call(this);return-1===t||-1===e||e<t?-1:1e3*(e-t)}return-1},t.prototype.getAdOnStage=function(){return this.adOnStage},t.prototype.getAdMediaWidth=function(){return this.adOnStage?this.isVPAID?o.default.getAdWidth.call(this):this.adIsLinear?this.adMediaWidth:this.nonLinearCreativeWidth:-1},t.prototype.getAdMediaHeight=function(){return this.adOnStage?this.isVPAID?o.default.getAdHeight.call(this):this.adIsLinear?this.adMediaHeight:this.nonLinearCreativeHeight:-1},t.prototype.getClickThroughUrl=function(){return this.clickThroughUrl},t.prototype.getIsSkippableAd=function(){return this.isSkippableAd},t.prototype.getContentPlayerCompleted=function(){return this.contentPlayerCompleted},t.prototype.setContentPlayerCompleted=function(t){"boolean"==typeof t&&(this.contentPlayerCompleted=t)},t.prototype.getAdErrorMessage=function(){return this.vastErrorMessage},t.prototype.getAdVastErrorCode=function(){return this.vastErrorCode},t.prototype.getAdErrorType=function(){return this.adErrorType},t.prototype.getEnvironment=function(){return s.default},t.prototype.getFramework=function(){return a.default},t.prototype.getVastPlayer=function(){return this.vastPlayer},t.prototype.getContentPlayer=function(){return this.contentPlayer},t.prototype.getVpaidCreative=function(){return this.adOnStage&&this.isVPAID?o.default.getVpaidCreative.call(this):null},t.prototype.getIsUsingContentPlayerForAds=function(){return this.useContentPlayerForAds},t.prototype.initialize=function(){this.rmpVastInitialized||r.default.init.call(this)},t.prototype.getInitialized=function(){return this.rmpVastInitialized},t.prototype.getAdPodInfo=function(){if(0<this.adPodApiInfo.length){var t={};return t.adPodCurrentIndex=this.adPodCurrentIndex,t.adPodLength=this.adPodApiInfo.length,t}return null},t.prototype.resizeAd=function(t,e,i){this.adOnStage&&this.isVPAID&&o.default.resizeAd.call(this,t,e,i)},t.prototype.expandAd=function(){this.adOnStage&&this.isVPAID&&o.default.expandAd.call(this)},t.prototype.collapseAd=function(){this.adOnStage&&this.isVPAID&&o.default.collapseAd.call(this)},t.prototype.skipAd=function(){this.adOnStage&&this.isVPAID&&o.default.skipAd.call(this)},t.prototype.getAdExpanded=function(){return this.adOnStage&&this.isVPAID&&o.default.getAdExpanded.call(this),!1},t.prototype.getAdSkippableState=function(){return this.adOnStage&&this.isVPAID&&o.default.getAdSkippableState.call(this),!1},t.prototype.getAdCompanions=function(){return this.adOnStage&&this.isVPAID&&o.default.getAdCompanions.call(this),""}}};i.default=d},{"../fw/env":258,"../fw/fw":259,"../players/content-player":261,"../players/vast-player":262,"../players/vpaid":263}],254:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var C=a(t("../fw/fw")),s=a(t("../tracking/ping"));function a(t){return t&&t.__esModule?t:{default:t}}var r={destroy:function(){var t=this.adContainer.querySelectorAll(".rmp-ad-container-icons");if(0<t.length)for(var e=0,i=t.length;e<i;e++)C.default.removeElement(t[e])}},k=function(t){for(var e=[],i=0,a=this.icons.length;i<a;i++)this.icons[i].program!==t&&e.push(this.icons[i]);this.icons=e};r.parse=function(t){for(var e=t[0].getElementsByTagName("Icon"),i=0,a=e.length;i<a;i++){var s=e[i],r=s.getAttribute("program");if(null!==r&&""!==r){var n=s.getAttribute("width");if(!(null===n||""===n||parseInt(n)<=0)){var o=s.getAttribute("height");if(!(null===o||""===o||parseInt(o)<=0)){var l=s.getAttribute("xPosition");if(null!==l&&""!==l){var d=s.getAttribute("yPosition");if(null!==d&&""!==d){var h=s.getElementsByTagName("StaticResource");if(0!==h.length){var c=h[0].getAttribute("creativeType");if(null!==c&&""!==c&&/^image\/(gif|jpeg|jpg|png)$/i.test(c)){var u=C.default.getNodeValue(h[0],!0);if(null!==u){k.call(this,r);var f={program:r,width:n,height:o,xPosition:l,yPosition:d,staticResourceUrl:u},p=s.getElementsByTagName("IconViewTracking"),m=C.default.getNodeValue(p[0],!0);null!==m&&(f.iconViewTrackingUrl=m);var v=s.getElementsByTagName("IconClicks");if(0<v.length){var g=v[0].getElementsByTagName("IconClickThrough"),y=C.default.getNodeValue(g[0],!0);if(null!==y){f.iconClickThroughUrl=y;var b=v[0].getElementsByTagName("IconClickTracking");if(0<b.length){f.iconClickTrackingUrl=[];for(var S=0,E=b.length;S<E;S++){var A=C.default.getNodeValue(b[S],!0);null!==A&&f.iconClickTrackingUrl.push(A)}}}}this.icons.push(f)}}}}}}}}}};var n=function(t,e){var i=this;if(e&&(e.stopPropagation(),"touchend"===e.type&&e.preventDefault()),C.default.openWindow(this.icons[t].iconClickThroughUrl),void 0!==this.icons[t].iconClickTrackingUrl){var a=this.icons[t].iconClickTrackingUrl;0<a.length&&a.forEach(function(t){s.default.tracking.call(i,t,null)})}},o=function(t){s.default.tracking.call(this,this.icons[t].iconViewTrackingUrl,null)};r.append=function(){this.onPlayingAppendIcons=function(){this.vastPlayer.removeEventListener("playing",this.onPlayingAppendIcons);for(var t=0,e=this.icons.length;t<e;t++){var i=document.createElement("img");i.className="rmp-ad-container-icons",i.style.width=parseInt(this.icons[t].width)+"px",i.style.height=parseInt(this.icons[t].height)+"px";var a=this.icons[t].xPosition;"left"===a?i.style.left="0px":"right"===a?i.style.right="0px":0<=parseInt(a)?i.style.left=a+"px":i.style.left="0px";var s=this.icons[t].yPosition;"top"===s?i.style.top="0px":"bottom"===a?i.style.bottom="0px":0<=parseInt(s)?i.style.top=s+"px":i.style.top="0px",void 0!==this.icons[t].iconViewTrackingUrl&&i.addEventListener("load",o.bind(this,t)),void 0!==this.icons[t].iconClickThroughUrl&&(i.addEventListener("touchend",n.bind(this,t)),i.addEventListener("click",n.bind(this,t))),i.src=this.icons[t].staticResourceUrl,this.adContainer.appendChild(i)}}.bind(this),this.vastPlayer.addEventListener("playing",this.onPlayingAppendIcons)},i.default=r},{"../fw/fw":259,"../tracking/ping":264}],255:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var H=n(t("../fw/fw")),W=n(t("../fw/env")),a=n(t("../utils/helpers")),q=n(t("../tracking/ping")),s=n(t("../players/content-player")),J=n(t("../players/vast-player")),z=n(t("../players/vpaid")),r=n(t("./skip")),G=n(t("./icons")),K=n(t("../utils/vast-errors")),Y=n(t("../../../externals/rmp-connection"));function n(t){return t&&t.__esModule?t:{default:t}}var o={},Q=/vpaid/i,X=/\/javascript/i,$=/(application\/vnd\.apple\.mpegurl|x-mpegurl)/i,Z=/application\/dash\+xml/i,tt=["video/webm","video/mp4","video/ogg","video/3gpp"];o.update=function(t,e){var i=this;this.onDurationChange=function(){this.vastPlayer.removeEventListener("durationchange",this.onDurationChange),this.vastPlayerDuration=J.default.getDuration.call(this),a.default.createApiEvent.call(this,"addurationchange")}.bind(this),this.vastPlayer.addEventListener("durationchange",this.onDurationChange),this.onLoadedmetadataPlay=function(){this.vastPlayer.removeEventListener("loadedmetadata",this.onLoadedmetadataPlay),clearTimeout(this.creativeLoadTimeoutCallback),a.default.createApiEvent.call(this,"adloaded"),s.default.pause.call(this),H.default.show(this.adContainer),H.default.show(this.vastPlayer),this.adOnStage=!0,J.default.play.call(this,this.firstVastPlayerPlayRequest),this.firstVastPlayerPlayRequest&&(this.firstVastPlayerPlayRequest=!1)}.bind(this),this.vastPlayer.addEventListener("loadedmetadata",this.onLoadedmetadataPlay),this.onContextMenu=function(t){t&&(t.stopPropagation(),t.preventDefault())}.bind(this),this.vastPlayer.addEventListener("contextmenu",this.onContextMenu),this.onPlaybackError=function(t){if(t&&t.target){var e=t.target;if(H.default.isObject(e.error)&&H.default.isNumber(e.error.code)){var i=e.error.code;"string"==typeof e.error.message&&e.error.message,4===i&&(q.default.error.call(this,401),K.default.process.call(this,401))}}}.bind(this),this.creativeLoadTimeoutCallback=setTimeout(function(){q.default.error.call(i,402),K.default.process.call(i,402)},this.params.creativeLoadTimeout),this.useContentPlayerForAds?(this.contentPlayer.addEventListener("error",this.onPlaybackError),this.contentPlayer.src=t):(this.vastPlayer.addEventListener("error",this.onPlaybackError),this.vastPlayer.src=t,this.vastPlayer.load()),this.onClickThrough=function(t){t&&t.stopPropagation(),W.default.isMobile||H.default.openWindow(this.clickThroughUrl),this.params.pauseOnClick&&this.pause(),a.default.createApiEvent.call(this,"adclick"),a.default.dispatchPingEvent.call(this,"clickthrough")}.bind(this),this.clickThroughUrl&&(W.default.isMobile?function(){this.clickUIOnMobile=document.createElement("a"),this.clickUIOnMobile.className="rmp-ad-click-ui-mobile",this.clickUIOnMobile.textContent=this.params.textForClickUIOnMobile,this.clickUIOnMobile.addEventListener("touchend",this.onClickThrough),this.clickUIOnMobile.href=this.clickThroughUrl,this.clickUIOnMobile.target="_blank",this.adContainer.appendChild(this.clickUIOnMobile)}.call(this):this.vastPlayer.addEventListener("click",this.onClickThrough)),this.isSkippableAd&&r.default.append.call(this)},o.parse=function(t){this.adIsLinear=!0;var e=t[0].getElementsByTagName("MediaFiles");if(0===e.length)return q.default.error.call(this,101),void K.default.process.call(this,101);var i=t[0].getElementsByTagName("Icons");0<i.length&&G.default.parse.call(this,i);var a=t[0].getElementsByTagName("AdParameters");this.adParametersData="",0<a.length&&(this.adParametersData=H.default.getNodeValue(a[0],!1));var s=e[0].getElementsByTagName("MediaFile");if(0===s.length)return q.default.error.call(this,101),void K.default.process.call(this,101);for(var r=[],n=[],o=0,l=s.length;o<l;o++){r[o]={};var d=s[o],h=H.default.getNodeValue(d,!0);if(null!==h){var c=d.getAttribute("type");if(null!==c&&""!==c){r[o].url=h,r[o].type=c;var u=d.getAttribute("codec");null!==u&&""!==u&&(r[o].codec=u);var f=r[o].apiFramework=d.getAttribute("apiFramework");if(this.params.enableVpaid&&f&&Q.test(f)&&X.test(c)){0,r=[r[o]],n=[],this.isVPAID=!0;break}var p=d.getAttribute("width");null!==p&&""!==p||(p=0);var m=d.getAttribute("height");null!==m&&""!==m||(m=0);var v=d.getAttribute("bitrate");(null===v||""===v||v<10)&&(v=0),r[o].width=parseInt(p),r[o].height=parseInt(m),r[o].bitrate=parseInt(v)}else n.push(o)}else n.push(o)}if(0<n.length)for(var g=n.length-1;0<=g;g--)r.splice(n[g],1);for(var y=[],b=0,S=r.length;b<S;b++){var E=r[b],A=E.type,C=E.url;if(this.isVPAID&&C)return z.default.loadCreative.call(this,C,this.params.vpaidSettings),void(this.adContentType=A);if($.test(A)&&W.default.okHls)return J.default.append.call(this,C,A),void(this.adContentType=A);if(Z.test(A)&&W.default.okDash)return J.default.append.call(this,C,A),void(this.adContentType=A);y.push(E)}for(var k=[],w=function(t,e){return e.codec&&e.type===tt[t]?W.default.canPlayType(e.type,e.codec):e.type===tt[t]&&W.default.canPlayType(e.type)},P=0,_=tt.length;P<_&&!(0<(k=y.filter(w.bind(null,P))).length);P++);if(0===k.length)for(var L=function(t,e,i){return i.codec===t&&i.type===e},T=0,I=y.length;T<I;T++){var M=y[T];M.codec&&M.type&&W.default.canPlayType(M.type,M.codec)&&(k=y.filter(L.bind(null,M.codec,M.type)))}if(0===k.length)for(var x=function(t,e){return e.type===t},R=0,D=y.length;R<D;R++){var O=y[R];O.type&&W.default.canPlayType(O.type)&&(k=y.filter(x.bind(null,O.type)))}if(0===k.length)return q.default.error.call(this,403),void K.default.process.call(this,403);k.sort(function(t,e){return t.width-e.width});var j=void 0,V=[],F=[];if(1<k.length){var N=H.default.getWidth(this.container)*W.default.devicePixelRatio,U=H.default.getHeight(this.container)*W.default.devicePixelRatio;0<N&&0<U&&(V=k.filter(function(t){return N>=t.width&&U>=t.height})),0===V.length&&(V=[k[0]]);var B=Y.default.getBandwidthEstimate();-1<B&&1<V.length&&(V.sort(function(t,e){return t.bitrate-e.bitrate}),B=Math.round(1e3*B),j=(F=V.filter(function(t){return B>=t.bitrate}))[F.length-1])}j||(0<V.length?j=V[V.length-1]:(k.sort(function(t,e){return t.bitrate-e.bitrate}),j=k[k.length-1])),this.adMediaUrl=j.url,this.adMediaHeight=j.height,this.adMediaWidth=j.width,this.adContentType=j.type,J.default.append.call(this,j.url,j.type)},i.default=o},{"../../../externals/rmp-connection":252,"../fw/env":258,"../fw/fw":259,"../players/content-player":261,"../players/vast-player":262,"../players/vpaid":263,"../tracking/ping":264,"../utils/helpers":267,"../utils/vast-errors":268,"./icons":254,"./skip":257}],256:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var E=n(t("../fw/fw")),a=n(t("../fw/env")),s=n(t("../utils/helpers")),A=n(t("../tracking/ping")),C=n(t("../players/vast-player")),r=n(t("../players/content-player")),k=n(t("../utils/vast-errors"));function n(t){return t&&t.__esModule?t:{default:t}}var o={},l=function(){var t=this;this.nonLinearClose=document.createElement("div"),this.nonLinearClose.className="rmp-ad-non-linear-close",s.default.accessibleButton(this.nonLinearClose,"close ad button"),0<this.nonLinearMinSuggestedDuration?(this.nonLinearClose.style.display="none",setTimeout(function(){t.nonLinearClose&&(t.nonLinearClose.style.display="block")},1e3*this.nonLinearMinSuggestedDuration)):this.nonLinearClose.style.display="block",this.onClickCloseNonLinear=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),this.nonLinearContainer.style.display="none",s.default.createApiEvent.call(this,"adclosed"),s.default.dispatchPingEvent.call(this,"close")}.bind(this),this.nonLinearClose.addEventListener("touchend",this.onClickCloseNonLinear),this.nonLinearClose.addEventListener("click",this.onClickCloseNonLinear),this.nonLinearContainer.appendChild(this.nonLinearClose)};o.update=function(){this.nonLinearContainer=document.createElement("div"),this.nonLinearContainer.className="rmp-ad-non-linear-container",this.nonLinearContainer.style.width=this.nonLinearCreativeWidth.toString()+"px",this.nonLinearContainer.style.height=this.nonLinearCreativeHeight.toString()+"px",this.nonLinearATag=document.createElement("a"),this.nonLinearATag.className="rmp-ad-non-linear-anchor",this.clickThroughUrl&&(this.nonLinearATag.href=this.clickThroughUrl,this.nonLinearATag.target="_blank",this.onNonLinearClickThrough=function(t){try{t&&t.stopPropagation(),this.params.pauseOnClick&&this.pause(),s.default.createApiEvent.call(this,"adclick"),s.default.dispatchPingEvent.call(this,"clickthrough")}catch(t){E.default.trace(t)}}.bind(this),a.default.isMobile?this.nonLinearATag.addEventListener("touchend",this.onNonLinearClickThrough):this.nonLinearATag.addEventListener("click",this.onNonLinearClickThrough)),this.nonLinearImg=document.createElement("img"),this.nonLinearImg.className="rmp-ad-non-linear-img",this.onNonLinearLoadError=function(){A.default.error.call(this,502),k.default.process.call(this,502)}.bind(this),this.nonLinearImg.addEventListener("error",this.onNonLinearLoadError),this.onNonLinearLoadSuccess=function(){this.adOnStage=!0,s.default.createApiEvent.call(this,"adloaded"),s.default.createApiEvent.call(this,"adimpression"),s.default.createApiEvent.call(this,"adstarted"),s.default.dispatchPingEvent.call(this,["impression","creativeView","start"])}.bind(this),this.nonLinearImg.addEventListener("load",this.onNonLinearLoadSuccess),this.nonLinearImg.src=this.adMediaUrl,this.nonLinearATag.appendChild(this.nonLinearImg),this.nonLinearContainer.appendChild(this.nonLinearATag),this.adContainer.appendChild(this.nonLinearContainer),l.call(this),E.default.show(this.adContainer),r.default.play.call(this,this.firstContentPlayerPlayRequest),this.firstContentPlayerPlayRequest&&(this.firstContentPlayerPlayRequest=!1)},o.parse=function(t){this.adIsLinear=!1;var e=t[0].getElementsByTagName("NonLinear");if(0!==e.length){for(var i=void 0,a="",s=!1,r=0,n=e.length;r<n;r++){s=!1;var o=(i=e[r]).getAttribute("width");if(null!==o&&""!==o){var l=i.getAttribute("height");if(null!==l&&""!==l){if(o=parseInt(o),l=parseInt(l),!(o<=0||l<=0)){var d=i.getAttribute("minSuggestedDuration");null!==d&&""!==d&&E.default.isValidDuration(d)&&(this.nonLinearMinSuggestedDuration=E.default.convertDurationToSeconds(d));var h=i.getElementsByTagName("StaticResource");if(0!==h.length){for(var c=void 0,u=0,f=h.length;u<f;u++){var p=h[u];if(null!==(c=p.getAttribute("creativeType"))&&""!==c){if(/^image\/(png|jpeg|jpg|gif)$/i.test(c)){if(!(o>E.default.getWidth(this.container))){a=E.default.getNodeValue(p,!0);break}s=!0}}}if(""!==a){this.adMediaUrl=a,this.nonLinearCreativeWidth=o,this.nonLinearCreativeHeight=l,this.nonLinearContentType=c;break}}}}else A.default.error.call(this,101),k.default.process.call(this,101)}else A.default.error.call(this,101),k.default.process.call(this,101)}if(!this.adMediaUrl||!i){var m=503;return s&&(m=501),A.default.error.call(this,m),void k.default.process.call(this,m)}var v=i.getElementsByTagName("NonLinearClickThrough");if(0<v.length){this.clickThroughUrl=E.default.getNodeValue(v[0],!0);var g=e[0].getElementsByTagName("NonLinearClickTracking");if(0<g.length)for(var y=0,b=g.length;y<b;y++){var S=E.default.getNodeValue(g[y],!0);null!==S&&this.trackingTags.push({event:"clickthrough",url:S})}}C.default.append.call(this)}},i.default=o},{"../fw/env":258,"../fw/fw":259,"../players/content-player":261,"../players/vast-player":262,"../tracking/ping":264,"../utils/helpers":267,"../utils/vast-errors":268}],257:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=n(t("../fw/fw")),s=n(t("../utils/helpers")),r=n(t("../players/vast-player"));function n(t){return t&&t.__esModule?t:{default:t}}var o={},l=function(t){0<Math.round(t)&&(this.skipWaiting.textContent=this.params.skipWaitingMessage+" "+Math.round(t)+"s")};o.append=function(){this.skipButton=document.createElement("div"),this.skipButton.className="rmp-ad-container-skip",this.skipButton.style.display="none",s.default.accessibleButton(this.skipButton,"skip ad button"),this.skipWaiting=document.createElement("div"),this.skipWaiting.className="rmp-ad-container-skip-waiting",l.call(this,this.skipoffset),this.skipWaiting.style.display="block",this.skipMessage=document.createElement("div"),this.skipMessage.className="rmp-ad-container-skip-message",this.skipMessage.textContent=this.params.skipMessage,this.skipMessage.style.display="none",this.skipIcon=document.createElement("div"),this.skipIcon.className="rmp-ad-container-skip-icon",this.skipIcon.style.display="none",this.onClickSkip=function(t){t&&(t.stopPropagation(),"touchend"===t.type&&t.preventDefault()),this.skippableAdCanBeSkipped&&(s.default.createApiEvent.call(this,"adskipped"),this.hasSkipEvent&&s.default.dispatchPingEvent.call(this,"skip"),r.default.resumeContent.call(this))}.bind(this),this.skipButton.addEventListener("click",this.onClickSkip),this.skipButton.addEventListener("touchend",this.onClickSkip),this.skipButton.appendChild(this.skipWaiting),this.skipButton.appendChild(this.skipMessage),this.skipButton.appendChild(this.skipIcon),this.adContainer.appendChild(this.skipButton),this.onTimeupdateCheckSkip=function(){if("none"===this.skipButton.style.display&&(this.skipButton.style.display="block"),this.vastPlayerCurrentTime=this.vastPlayer.currentTime,a.default.isNumber(this.vastPlayerCurrentTime)&&0<this.vastPlayerCurrentTime){var t=a.default.convertOffsetToSeconds(this.skipoffset,this.vastPlayerDuration);this.vastPlayerCurrentTime>=t?(this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdateCheckSkip),function(){this.skipWaiting.style.display="none",this.skipMessage.style.display="block",this.skipIcon.style.display="block"}.call(this),this.skippableAdCanBeSkipped=!0,s.default.createApiEvent.call(this,"adskippablestatechanged")):0<t-this.vastPlayerCurrentTime&&l.call(this,t-this.vastPlayerCurrentTime)}}.bind(this),this.vastPlayer.addEventListener("timeupdate",this.onTimeupdateCheckSkip)},i.default=o},{"../fw/fw":259,"../players/vast-player":262,"../utils/helpers":267}],258:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,s=t("./fw"),r=(a=s)&&a.__esModule?a:{default:a};var n,o,l,d,h,c,u={},f=document.createElement("video"),p=!!(void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof window.DocumentTouch),m=window.navigator&&window.navigator.userAgent?window.navigator.userAgent:null,v=function(t){if(null!==m){var e=m.match(t);if(Array.isArray(e)&&void 0!==e[1])return parseInt(e[1],10)}return-1},g=/os\s+(\d+)_/i,y=(n=[!1,-1],p&&/(ipad|iphone|ipod)/i.test(m)&&(n=[!0,v(g)]),n),b=/(macintosh|mac\s+os)/i,S=/safari\/[.0-9]*/i,E=/version\/(\d+)\./i,A=/(chrome|chromium|android|crios|fxios)/i,C=/android/i,k=/android\s*(\d+)\./i,w=/firefox\//i,P=/seamonkey\//i,_=void 0!==f.canPlayType,L=function(){if(_&&""!==f.canPlayType('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'))return!0;return!1}();u.isIos=y,u.isAndroid=(o=[!1,-1],y[0]||!p||C.test(m)&&(o=[!0,v(k)]),o),u.isMacOSX=!(y[0]||!b.test(m)),u.isSafari=(l=!1,d=-1,S.test(m)&&!A.test(m)&&(l=!0,d=v(E)),[l,d]),u.isFirefox=!(!w.test(m)||P.test(m)),u.isMobile=!1,(u.isIos[0]||u.isAndroid[0])&&(u.isMobile=!0),u.okMp4=L,u.okHls=function(){if(_&&L){var t=f.canPlayType("application/vnd.apple.mpegurl"),e=f.canPlayType("application/x-mpegurl");if(""!==t||""!==e)return!0}return!1}(),u.okDash=function(){if(_&&""!==f.canPlayType("application/dash+xml"))return!0;return!1}(),u.canPlayType=function(t,e){if(_)if(t&&e){if(""!==f.canPlayType(t+'; codecs="'+e+'"'))return!0}else if(t&&!e){if(""!==f.canPlayType(t))return!0}return!1},u.hasNativeFullscreenSupport=!(!(h=document.documentElement)||void 0===h.requestFullscreen&&void 0===h.webkitRequestFullscreen&&void 0===h.mozRequestFullScreen&&void 0===h.msRequestFullscreen&&void 0===f.webkitEnterFullscreen),u.devicePixelRatio=(c=1,r.default.isNumber(window.devicePixelRatio)&&1<window.devicePixelRatio&&(c=window.devicePixelRatio),c),i.default=u},{"./fw":259}],259:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o={nullFn:function(){return null},addClass:function(t,e){t&&"string"==typeof e&&(t.className?-1===t.className.indexOf(e)&&(t.className=(t.className+" "+e).replace(/\s\s+/g," ")):t.className=e)},removeClass:function(t,e){t&&"string"==typeof e&&-1<t.className.indexOf(e)&&(t.className=t.className.replace(e,"").replace(/\s\s+/g," "))},createStdEvent:function(t,e){var i=void 0;if(e)if("function"==typeof window.Event)try{i=new Event(t),e.dispatchEvent(i)}catch(t){o.trace(t)}else try{(i=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(i)}catch(t){o.trace(t)}}},a=function(t,e){var i=function(t,e){var i="";if(t&&"function"==typeof window.getComputedStyle){var a=window.getComputedStyle(t,null);a&&(i=(i=a.getPropertyValue(e)).toString().toLowerCase())}return i}(t,e)||0;return-1<(i=i.toString()).indexOf("px")&&(i=i.replace("px","")),parseFloat(i)};o.getWidth=function(t){return t?o.isNumber(t.offsetWidth)&&0!==t.offsetWidth?t.offsetWidth:a(t,"width"):0},o.getHeight=function(t){return t?o.isNumber(t.offsetHeight)&&0!==t.offsetHeight?t.offsetHeight:a(t,"height"):0},o.show=function(t){t&&(t.style.display="block")},o.hide=function(t){t&&(t.style.display="none")},o.removeElement=function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){o.trace(t)}},o.ajax=function(a,s,r,n){return new Promise(function(t,e){if(window.XMLHttpRequest){var i=new XMLHttpRequest;i.open("GET",a,!0),i.timeout=s,n&&(i.withCredentials=!0),i.onloadend=function(){o.isNumber(i.status)&&200<=i.status&&i.status<300&&"string"==typeof i.responseText&&""!==i.responseText?r?t(i.responseText):t():e()},i.ontimeout=function(){o.log("XMLHttpRequest timeout"),e()},i.send(null)}else e()})},o.log=function(t){window.console&&window.console.log&&("string"==typeof t?window.console.log("rmp-vast: "+t):window.console.log(t))},o.trace=function(t){0},o.hasDOMParser=function(){return void 0!==window.DOMParser},o.vastReadableTime=function(t){if(o.isNumber(t)&&0<=t){var e=0,i=0,a=0,s=Math.floor(t%1e3);return s=0===s?"000":s<10?"00"+s:s<100?"0"+s:s.toString(),59<(e=Math.floor(1*t/1e3))&&(e-=60*(i=Math.floor(1*e/60))),e=0===e?"00":e<10?"0"+e:e.toString(),59<i&&(i-=60*(a=Math.floor(1*i/60))),i=0===i?"00":i<10?"0"+i:i.toString(),(a=0===a?"00":a<10?"0"+a:23<a?"00":a.toString())+":"+i+":"+e+"."+s}return"00:00:00.000"},o.generateCacheBusting=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},o.getNodeValue=function(t,e){for(var i=t.childNodes,a="",s=0,r=i.length;s<r;s++)i[s]&&i[s].textContent&&(a+=i[s].textContent.trim());if(a){if(/^<!\[CDATA\[.*\]\]>$/i.test(a)&&(a=a.replace("<![CDATA[","").replace("]]>","")),!e)return a;if(/^(https?:)?\/\//i.test(a))return a}return null},o.RFC3986EncodeURIComponent=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},o.isValidDuration=function(t){return!!/^\d+:\d+:\d+(\.\d+)?$/i.test(t)},o.convertDurationToSeconds=function(t){var e=t.split("."),i=(e=e[0]).split(":");return 60*parseInt(i[0])*60+60*parseInt(i[1])+parseInt(i[2])};var n=/^\d+:\d+:\d+(\.\d+)?$/i,l=/^\d+%$/i;o.isValidOffset=function(t){return!(!n.test(t)&&!l.test(t))},o.convertOffsetToSeconds=function(t,e){var i=0;if(n.test(t)){var a=t.split("."),s=(a=a[0]).split(":");i=60*parseInt(s[0])*60+60*parseInt(s[1])+parseInt(s[2])}else if(l.test(t)&&0<e){var r=t.split("%");r=parseInt(r[0]),i=Math.round(e*r/100)}return i},o.logVideoEvents=function(e,i){["loadstart","durationchange","loadedmetadata","loadeddata","canplay","canplaythrough"].forEach(function(t){e.addEventListener(t,function(t){t&&t.type&&o.log(i+" player event - "+t.type)})})},o.isNumber=function(t){return!(void 0===t||"number"!=typeof t||!Number.isFinite(t))},o.isObject=function(t){return null!=t&&"object"==typeof t},o.openWindow=function(t){try{window.open(t,"_blank")}catch(t){o.trace(t)}},i.default=o},{}],260:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var C=n(t("./fw/fw")),k=n(t("./fw/env")),w=n(t("./utils/helpers")),P=n(t("./tracking/ping")),_=n(t("./creatives/linear")),L=n(t("./creatives/non-linear")),T=n(t("./tracking/tracking-events")),a=n(t("./api/api")),s=n(t("./players/content-player")),r=n(t("./utils/default")),I=n(t("./utils/vast-errors")),M=n(t("./creatives/icons"));function n(t){return t&&t.__esModule?t:{default:t}}function x(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var o=function(t,e){"string"==typeof t&&""!==t&&(this.id=t,this.container=document.getElementById(this.id),this.contentWrapper=this.container.querySelector(".rmp-content"),this.contentPlayer=this.container.querySelector(".rmp-video"),null!==this.container&&null!==this.contentWrapper&&null!==this.contentPlayer&&(r.default.instanceVariables.call(this),r.default.loadAdsVariables.call(this),r.default.fullscreen.call(this),w.default.filterParams.call(this,e)))};a.default.attach(o);var R=function(){w.default.createApiEvent.call(this,"adfollowingredirect");var t=C.default.getNodeValue(this.vastAdTagURI[0],!0);null!==t?this.params.maxNumRedirects>this.redirectsFollowed?(this.redirectsFollowed++,this.runningAdPod&&(this.adPodItemWrapper=!0),this.loadAds(t)):(P.default.error.call(this,302),I.default.process.call(this,302)):(P.default.error.call(this,300),I.default.process.call(this,300))},D=function(t){var e=void 0;if(0<this.adPod.length&&!this.adPodItemWrapper)e=t[0],this.adPodCurrentIndex++,this.adPod.shift();else if(0<this.adPod.length&&this.adPodItemWrapper){0,this.adPodItemWrapper=!1;for(var i=0,a=t.length;i<a;i++){var s=t[i].getAttribute("sequence");if(""===s||null===s){e=t[i];break}}}else{for(var r=[],n=0,o=t.length;n<o;n++){var l=t[n].getAttribute("sequence");""===l||null===l?r.push(t[n]):this.adPod.push(t[n])}if(0===this.adPod.length&&0<r.length)e=r[0];else if(0<this.adPod.length){0,this.runningAdPod=!0,this.adPodApiInfo=[].concat(x(this.adPod)),this.adPodWrapperTrackings=[].concat(x(this.trackingTags)),this.adPod.length>this.params.maxNumItemsInAdPod&&(this.adPod.length=this.params.maxNumItemsInAdPod),this.standaloneAdsInPod=r,this.adPod.sort(function(t,e){return parseInt(t.getAttribute("sequence"))-parseInt(e.getAttribute("sequence"))}),e=this.adPod[0],this.adPod.shift();this.onAdDestroyLoadNextAdInPod=function(){this.adPodItemWrapper=!1,0<this.adPod.length?D.call(this,this.adPod):(this.container.removeEventListener("addestroyed",this.onAdDestroyLoadNextAdInPod),this.adPod=[],this.standaloneAdsInPod=[],this.runningAdPod=!1,this.adPodCurrentIndex=0,this.adPodApiInfo=[],this.adPodWrapperTrackings=[],w.default.createApiEvent.call(this,"adpodcompleted"))}.bind(this),this.container.addEventListener("addestroyed",this.onAdDestroyLoadNextAdInPod)}}if(!e)return P.default.error.call(this,200),void I.default.process.call(this,200);var d=e.getElementsByTagName("InLine"),h=e.getElementsByTagName("Wrapper");if(0===d.length&&0===h.length)return P.default.error.call(this,101),void I.default.process.call(this,101);var c=void 0;0<h.length?(this.isWrapper=!0,c=h,this.vastAdTagURI=c[0].getElementsByTagName("VASTAdTagURI")):c=d;var u=c[0].getElementsByTagName("AdSystem"),f=c[0].getElementsByTagName("Impression"),p=c[0].getElementsByTagName("Error");if(0<p.length){var m=C.default.getNodeValue(p[0],!0);null!==m&&this.inlineOrWrapperErrorTags.push({event:"error",url:m})}var v=c[0].getElementsByTagName("AdTitle"),g=c[0].getElementsByTagName("Description"),y=c[0].getElementsByTagName("Creatives");if(this.isWrapper){if(0===this.vastAdTagURI.length)return P.default.error.call(this,101),void I.default.process.call(this,101)}else if(0===y.length)return P.default.error.call(this,101),void I.default.process.call(this,101);var b=void 0;if(0<y.length&&(b=y[0].getElementsByTagName("Creative"),!this.isWrapper&&0===b.length))return P.default.error.call(this,101),void I.default.process.call(this,101);if(0<v.length&&(this.adSystem=C.default.getNodeValue(u[0],!1)),0<f.length)for(var S=0,E=f.length;S<E;S++){var A=C.default.getNodeValue(f[S],!0);null!==A&&this.trackingTags.push({event:"impression",url:A})}this.isWrapper||(0<v.length&&(this.adTitle=C.default.getNodeValue(v[0],!1)),0<g.length&&(this.adDescription=C.default.getNodeValue(g[0],!1))),!this.isWrapper||b?function(t){for(var e=0,i=t.length;e<i;e++){var a=t[e],s=a.getElementsByTagName("NonLinearAds"),r=a.getElementsByTagName("Linear");if(!(0<a.getElementsByTagName("CompanionAds").length)){if(0===s.length&&0===r.length)return P.default.error.call(this,101),void I.default.process.call(this,101);if(0<s.length){var n=s[0].getElementsByTagName("TrackingEvents");return 0<n.length&&T.default.filterPush.call(this,n),this.isWrapper?void R.call(this):void L.default.parse.call(this,s)}if(0<r.length){var o=r[0].getAttribute("skipoffset");if(!this.isWrapper&&""!==this.params.skipMessage&&null!==o&&""!==o&&C.default.isValidOffset(o)&&(this.isSkippableAd=!0,this.skipoffset=o,k.default.isIos[0]&&k.default.isIos[1]<10))return P.default.error.call(this,200),void I.default.process.call(this,200);var l=r[0].getElementsByTagName("TrackingEvents");0<l.length&&T.default.filterPush.call(this,l);var d=r[0].getElementsByTagName("VideoClicks");if(0<d.length){var h=d[0].getElementsByTagName("ClickThrough"),c=d[0].getElementsByTagName("ClickTracking");if(0<h.length&&(this.clickThroughUrl=C.default.getNodeValue(h[0],!0)),0<c.length)for(var u=0,f=c.length;u<f;u++){var p=C.default.getNodeValue(c[u],!0);null!==p&&this.trackingTags.push({event:"clickthrough",url:p})}}if(this.isWrapper){var m=r[0].getElementsByTagName("Icons");return 0<m.length&&M.default.parse.call(this,m),void R.call(this)}return void _.default.parse.call(this,r)}}}this.isWrapper&&R.call(this)}.call(this,b):R.call(this)},l=function(t){var i=this;"string"==typeof t&&""!==t?C.default.hasDOMParser()?(w.default.createApiEvent.call(this,"adtagstartloading"),this.isWrapper=!1,this.vastAdTagURI=null,this.adTagUrl=t,C.default.ajax(this.adTagUrl,this.params.ajaxTimeout,!0,this.params.ajaxWithCredentials).then(function(t){w.default.createApiEvent.call(i,"adtagloaded");var e=void 0;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(t){return C.default.trace(t),P.default.error.call(i,100),void I.default.process.call(i,100)}(function(t){if(0<t.getElementsByTagName("vmap:VMAP").length)I.default.process.call(this,200);else{var e=t.getElementsByTagName("VAST");if(0===e.length)return P.default.error.call(this,100),void I.default.process.call(this,100);var i=e[0],a=i.getElementsByTagName("Error");if(0<a.length)for(var s=0,r=a.length;s<r;s++)if(a[s].parentNode===i){var n=C.default.getNodeValue(a[s],!0);null!==n&&this.vastErrorTags.push({event:"error",url:n})}var o=i.getAttribute("version");if(!/^(2|3|4)\./i.test(o))return P.default.error.call(this,102),void I.default.process.call(this,102);var l=i.getElementsByTagName("Ad");if(0===l.length)return P.default.error.call(this,303),void I.default.process.call(this,303);D.call(this,l)}}).call(i,e)}).catch(function(t){C.default.trace(t),P.default.error.call(i,1e3),I.default.process.call(i,1e3)})):I.default.process.call(this,1002):I.default.process.call(this,1001)};o.prototype.loadAds=function(t){if(this.rmpVastInitialized||this.initialize(),this.getAdOnStage())return this.onDestroyLoadAds=function(t){this.container.removeEventListener("addestroyed",this.onDestroyLoadAds),this.loadAds(t)}.bind(this,t),this.container.addEventListener("addestroyed",this.onDestroyLoadAds),void this.stopAds();var e=s.default.getCurrentTime.call(this);this.useContentPlayerForAds&&(this.currentContentSrc=this.contentPlayer.src,this.currentContentCurrentTime=e,s.default.preventSeekingForCustomPlayback.call(this)),l.call(this,t)},i.default=o},{"./api/api":253,"./creatives/icons":254,"./creatives/linear":255,"./creatives/non-linear":256,"./fw/env":258,"./fw/fw":259,"./players/content-player":261,"./tracking/ping":264,"./tracking/tracking-events":265,"./utils/default":266,"./utils/helpers":267,"./utils/vast-errors":268}],261:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=r(t("../fw/fw")),s=r(t("../utils/helpers"));function r(t){return t&&t.__esModule?t:{default:t}}var n={play:function(t){this.contentPlayer&&this.contentPlayer.paused&&s.default.playPromise.call(this,"content",t)},pause:function(){this.contentPlayer&&!this.contentPlayer.paused&&this.contentPlayer.pause()},setVolume:function(t){this.contentPlayer&&(this.contentPlayer.volume=t)},getVolume:function(){return this.contentPlayer?this.contentPlayer.volume:-1},getMute:function(){return!!this.contentPlayer&&this.contentPlayer.muted},setMute:function(t){this.contentPlayer&&(t&&!this.contentPlayer.muted?this.contentPlayer.muted=!0:!t&&this.contentPlayer.muted&&(this.contentPlayer.muted=!1))},getDuration:function(){if(this.contentPlayer){var t=this.contentPlayer.duration;if(a.default.isNumber(t))return Math.round(1e3*t)}return-1},getCurrentTime:function(){if(this.contentPlayer){var t=this.contentPlayer.currentTime;if(a.default.isNumber(t))return Math.round(1e3*t)}return-1},seekTo:function(t){if(a.default.isNumber(t)&&0<=t&&this.contentPlayer){var e=Math.round(t/1e3*100)/100;this.contentPlayer.currentTime=e}},preventSeekingForCustomPlayback:function(){var t=this;this.contentPlayer&&(this.antiSeekLogicInterval=setInterval(function(){t.adIsLinear&&t.adOnStage&&(1<Math.abs(t.customPlaybackCurrentTime-t.contentPlayer.currentTime)&&(t.contentPlayer.currentTime=t.customPlaybackCurrentTime),t.customPlaybackCurrentTime=t.contentPlayer.currentTime)},200))}};i.default=n},{"../fw/fw":259,"../utils/helpers":267}],262:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=p(t("../fw/fw")),s=p(t("../fw/env")),r=p(t("../utils/helpers")),n=p(t("../players/content-player")),o=p(t("../players/vpaid")),l=p(t("../creatives/icons")),d=p(t("../utils/default")),h=p(t("../tracking/tracking-events")),c=p(t("../creatives/non-linear")),u=p(t("../creatives/linear")),f=p(t("../utils/vast-errors"));function p(t){return t&&t.__esModule?t:{default:t}}var m={};m.init=function(){var t=this;this.adContainer=document.createElement("div"),this.adContainer.className="rmp-ad-container",this.contentWrapper.appendChild(this.adContainer),a.default.hide(this.adContainer),this.useContentPlayerForAds?this.vastPlayer=this.contentPlayer:(this.vastPlayer=document.createElement("video"),s.default.isAndroid[0]&&void 0!==this.vastPlayer.disableRemotePlayback&&(this.vastPlayer.disableRemotePlayback=!0),this.vastPlayer.className="rmp-ad-vast-video-player",this.vastPlayer.controls=!1,this.contentPlayer.hasAttribute("muted")&&(this.contentPlayer.muted=!0),this.contentPlayer.muted&&(this.vastPlayer.muted=!0),this.vastPlayer.poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",this.vastPlayer.setAttribute("x-webkit-airplay","allow"),"boolean"==typeof this.contentPlayer.playsInline&&this.contentPlayer.playsInline?this.vastPlayer.playsInline=!0:s.default.isMobile&&this.vastPlayer.setAttribute("webkit-playsinline",!0),this.vastPlayer.defaultPlaybackRate=1,a.default.hide(this.vastPlayer),this.adContainer.appendChild(this.vastPlayer)),this.contentPlayer.addEventListener("ended",function(){t.adOnStage||(t.contentPlayerCompleted=!0)}),this.vastPlayer.preload="auto",s.default.isMobile?(this.useContentPlayerForAds||this.contentPlayer.load(),this.vastPlayer.load()):this.useContentPlayerForAds&&this.vastPlayer.load(),this.rmpVastInitialized=!0},m.append=function(t,e){if(!this.vastPlayer)if(this.useContentPlayerForAds)this.vastPlayer=this.contentPlayer;else{var i=this.adContainer.querySelector(".rmp-ad-vast-video-player");if(null===i)return void f.default.process.call(this,1004);this.vastPlayer=i}if(this.adIsLinear)t&&e&&u.default.update.call(this,t,e);else{if(this.params.outstream)return void f.default.process.call(this,201);c.default.update.call(this)}h.default.wire.call(this),!this.useContentPlayerForAds&&0<this.icons.length&&l.default.append.call(this)},m.setVolume=function(t){this.vastPlayer&&(this.vastPlayer.volume=t)},m.getVolume=function(){return this.vastPlayer?this.vastPlayer.volume:-1},m.setMute=function(t){this.vastPlayer&&(t&&!this.vastPlayer.muted?(this.vastPlayer.muted=!0,r.default.dispatchPingEvent.call(this,"mute")):!t&&this.vastPlayer.muted&&(this.vastPlayer.muted=!1,r.default.dispatchPingEvent.call(this,"unmute")))},m.getMute=function(){return!!this.vastPlayer&&this.vastPlayer.muted},m.play=function(t){this.vastPlayer&&this.vastPlayer.paused&&r.default.playPromise.call(this,"vast",t)},m.pause=function(){this.vastPlayer&&!this.vastPlayer.paused&&this.vastPlayer.pause()},m.getDuration=function(){if(this.vastPlayer){var t=this.vastPlayer.duration;if(a.default.isNumber(t))return Math.round(1e3*t)}return-1},m.getCurrentTime=function(){if(this.vastPlayer){var t=this.vastPlayer.currentTime;if(a.default.isNumber(t))return Math.round(1e3*t)}return-1},m.resumeContent=function(){(function(){var t=this;if(0<this.icons.length&&l.default.destroy.call(this),this.isVPAID&&o.default.destroy.call(this),function(){if(this.nonLinearContainer){this.nonLinearImg.removeEventListener("load",this.onNonLinearLoadSuccess),this.nonLinearImg.removeEventListener("error",this.onNonLinearLoadError),this.nonLinearATag.removeEventListener("click",this.onNonLinearClickThrough),this.nonLinearATag.removeEventListener("touchend",this.onNonLinearClickThrough),this.nonLinearClose.removeEventListener("click",this.onClickCloseNonLinear),this.nonLinearClose.removeEventListener("touchend",this.onClickCloseNonLinear);for(var t=0,e=this.trackingTags.length;t<e;t++)this.nonLinearContainer.removeEventListener(this.trackingTags[t].event,this.onEventPingTracking)}if(this.vastPlayer){this.vastPlayer.removeEventListener("error",this.onPlaybackError),this.vastPlayer.removeEventListener("durationchange",this.onDurationChange),this.vastPlayer.removeEventListener("loadedmetadata",this.onLoadedmetadataPlay),this.vastPlayer.removeEventListener("contextmenu",this.onContextMenu),this.vastPlayer.removeEventListener("pause",this.onPause),this.vastPlayer.removeEventListener("play",this.onPlay),this.vastPlayer.removeEventListener("playing",this.onPlaying),this.vastPlayer.removeEventListener("ended",this.onEnded),this.vastPlayer.removeEventListener("volumechange",this.onVolumeChange),this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdate);for(var i=0,a=this.trackingTags.length;i<a;i++)this.vastPlayer.removeEventListener(this.trackingTags[i].event,this.onEventPingTracking);null!==this.onClickThrough&&this.vastPlayer.removeEventListener("click",this.onClickThrough),null!==this.onPlayingAppendIcons&&this.vastPlayer.removeEventListener("playing",this.onPlayingAppendIcons),null!==this.onTimeupdateCheckSkip&&this.vastPlayer.removeEventListener("timeupdate",this.onTimeupdateCheckSkip),this.skipButton&&null!==this.onClickSkip&&(this.skipButton.removeEventListener("click",this.onClickSkip),this.skipButton.removeEventListener("touchend",this.onClickSkip)),this.clickUIOnMobile&&null!==this.onClickThrough&&this.clickUIOnMobile.removeEventListener("touchend",this.onClickThrough)}this.contentPlayer&&this.contentPlayer.removeEventListener("error",this.onPlaybackError)}.call(this),this.clickUIOnMobile&&a.default.removeElement(this.clickUIOnMobile),this.isSkippableAd&&a.default.removeElement(this.skipButton),a.default.hide(this.adContainer),clearInterval(this.antiSeekLogicInterval),clearTimeout(this.creativeLoadTimeoutCallback),this.useContentPlayerForAds)if(this.params.outstream)try{this.contentPlayer&&(this.contentPlayer.pause(),this.contentPlayer.removeAttribute("src"),this.contentPlayer.load())}catch(t){a.default.trace(t)}else this.nonLinearContainer?a.default.removeElement(this.nonLinearContainer):(4e3<this.currentContentCurrentTime&&(this.needsSeekAdjust=!0,this.contentPlayerCompleted&&(this.needsSeekAdjust=!1),this.seekAdjustAttached||(this.seekAdjustAttached=!0,this.contentPlayer.addEventListener("playing",function(){t.needsSeekAdjust&&(t.needsSeekAdjust=!1,n.default.seekTo.call(t,t.currentContentCurrentTime))}))),this.contentPlayer.src=this.currentContentSrc);else try{this.vastPlayer&&(this.vastPlayer.pause(),this.vastPlayer.removeAttribute("src"),this.vastPlayer.load(),a.default.hide(this.vastPlayer)),this.nonLinearContainer&&a.default.removeElement(this.nonLinearContainer)}catch(t){a.default.trace(t)}d.default.loadAdsVariables.call(this),r.default.createApiEvent.call(this,"addestroyed")}).call(this),this.contentPlayerCompleted||this.params.outstream||n.default.play.call(this),this.contentPlayerCompleted=!1},i.default=m},{"../creatives/icons":254,"../creatives/linear":255,"../creatives/non-linear":256,"../fw/env":258,"../fw/fw":259,"../players/content-player":261,"../players/vpaid":263,"../tracking/tracking-events":265,"../utils/default":266,"../utils/helpers":267,"../utils/vast-errors":268}],263:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=a(t("../fw/fw")),s=a(t("../fw/env")),n=a(t("../utils/helpers")),o=a(t("../utils/vast-errors")),l=a(t("../tracking/ping")),d=a(t("../players/vast-player")),h=a(t("../creatives/icons")),c=a(t("../tracking/tracking-events")),u=a(t("../players/content-player"));function a(t){return t&&t.__esModule?t:{default:t}}var f={getAdWidth:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdWidth?this.vpaidCreative.getAdWidth():-1},getAdHeight:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdHeight?this.vpaidCreative.getAdHeight():-1},getAdDuration:function(){if(this.vpaidCreative){if("function"==typeof this.vpaidCreative.getAdDuration)return this.vpaidCreative.getAdDuration();if(-1<this.vpaid1AdDuration)return this.vpaid1AdDuration}return-1},getAdRemainingTime:function(){return 0<=this.vpaidRemainingTime?this.vpaidRemainingTime:-1},getCreativeUrl:function(){return this.vpaidCreativeUrl?this.vpaidCreativeUrl:""},getVpaidCreative:function(){return this.vpaidCreative},getAdVolume:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdVolume?this.vpaidCreative.getAdVolume():null},getAdPaused:function(){return this.vpaidPaused},getAdExpanded:function(){return!(!this.vpaidCreative||"function"!=typeof this.vpaidCreative.getAdExpanded)&&this.vpaidCreative.getAdExpanded()},getAdSkippableState:function(){return!(!this.vpaidCreative||"function"!=typeof this.vpaidCreative.getAdSkippableState)&&this.vpaidCreative.getAdSkippableState()},getAdIcons:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdIcons?this.vpaidCreative.getAdIcons():null},getAdCompanions:function(){return this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdCompanions?this.vpaidCreative.getAdCompanions():""}},p=function(){this.adStoppedTimeout&&clearTimeout(this.adStoppedTimeout),d.default.resumeContent.call(this)};f.resizeAd=function(t,e,i){if(this.vpaidCreative&&r.default.isNumber(t)&&r.default.isNumber(e)&&"string"==typeof i&&!(t<=0||e<=0)){var a="normal";"fullscreen"===i&&(a=i),this.vpaidCreative.resizeAd(t,e,a)}},f.stopAd=function(){var t=this;this.vpaidCreative&&(this.adStoppedTimeout=setTimeout(function(){p.call(t)},this.params.creativeLoadTimeout),this.vpaidCreative.stopAd())},f.pauseAd=function(){this.vpaidCreative&&!this.vpaidPaused&&this.vpaidCreative.pauseAd()},f.resumeAd=function(){this.vpaidCreative&&this.vpaidPaused&&this.vpaidCreative.resumeAd()},f.expandAd=function(){this.vpaidCreative&&this.vpaidCreative.expandAd()},f.collapseAd=function(){this.vpaidCreative&&this.vpaidCreative.collapseAd()},f.skipAd=function(){var t=this;this.vpaidCreative&&(this.adSkippedTimeout=setTimeout(function(){p.call(t)},this.params.creativeLoadTimeout),this.vpaidCreative.skipAd())},f.setAdVolume=function(t){this.vpaidCreative&&r.default.isNumber(t)&&0<=t&&t<=1&&"function"==typeof this.vpaidCreative.setAdVolume&&this.vpaidCreative.setAdVolume(t)};var m=function(){if(this.vpaidCreative){this.vpaidCallbacks={AdLoaded:function(){var t=this;this.vpaidAdLoaded=!0,this.vpaidCreative&&(this.initAdTimeout&&clearTimeout(this.initAdTimeout),this.vpaidCallbacks.AdLoaded&&this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdLoaded,"AdLoaded"),this.startAdTimeout=setTimeout(function(){t.vpaidAdStarted||d.default.resumeContent.call(t),t.vpaidAdStarted=!1},this.params.creativeLoadTimeout),u.default.pause.call(this),this.adOnStage=!0,this.vpaidCreative.startAd(),n.default.createApiEvent.call(this,"adloaded"))}.bind(this),AdStarted:function(){this.vpaidAdStarted=!0,this.vpaidCreative&&(this.startAdTimeout&&clearTimeout(this.startAdTimeout),this.vpaidCallbacks.AdStarted&&this.vpaidCreative.unsubscribe(this.vpaidCallbacks.AdStarted,"AdStarted"),1===this.vpaidVersion&&(this.vpaid1AdDuration=f.getAdRemainingTime.call(this)),!f.getAdIcons.call(this)&&!this.useContentPlayerForAds&&0<this.icons.length&&h.default.append.call(this),"function"==typeof this.vpaidCreative.getAdLinear&&(this.adIsLinear=this.vpaidCreative.getAdLinear()),n.default.dispatchPingEvent.call(this,"creativeView"))}.bind(this),AdStopped:p.bind(this),AdSkipped:function(){this.adSkippedTimeout&&clearTimeout(this.adSkippedTimeout),n.default.createApiEvent.call(this,"adskipped"),n.default.dispatchPingEvent.call(this,"skip")}.bind(this),AdSkippableStateChange:function(){n.default.createApiEvent.call(this,"adskippablestatechanged")}.bind(this),AdDurationChange:function(){if(this.vpaidCreative){if("function"==typeof this.vpaidCreative.getAdRemainingTime){var t=this.vpaidCreative.getAdRemainingTime();0<=t&&(this.vpaidRemainingTime=t)}n.default.createApiEvent.call(this,"addurationchange")}}.bind(this),AdVolumeChange:function(){var t=f.getAdVolume.call(this);null!==t&&(0<this.vpaidCurrentVolume&&0===t?n.default.dispatchPingEvent.call(this,"mute"):0===this.vpaidCurrentVolume&&0<t&&n.default.dispatchPingEvent.call(this,"unmute"),this.vpaidCurrentVolume=t,n.default.createApiEvent.call(this,"advolumechanged"))}.bind(this),AdImpression:function(){n.default.createApiEvent.call(this,"adimpression"),n.default.dispatchPingEvent.call(this,"impression")}.bind(this),AdVideoStart:function(){this.vpaidPaused=!1;var t=f.getAdVolume.call(this);null===t&&(t=1),this.vpaidCurrentVolume=t,n.default.createApiEvent.call(this,"adstarted"),n.default.dispatchPingEvent.call(this,"start")}.bind(this),AdVideoFirstQuartile:function(){n.default.createApiEvent.call(this,"adfirstquartile"),n.default.dispatchPingEvent.call(this,"firstQuartile")}.bind(this),AdVideoMidpoint:function(){n.default.createApiEvent.call(this,"admidpoint"),n.default.dispatchPingEvent.call(this,"midpoint")}.bind(this),AdVideoThirdQuartile:function(){n.default.createApiEvent.call(this,"adthirdquartile"),n.default.dispatchPingEvent.call(this,"thirdQuartile")}.bind(this),AdVideoComplete:function(){n.default.createApiEvent.call(this,"adcomplete"),n.default.dispatchPingEvent.call(this,"complete")}.bind(this),AdClickThru:function(t,e,i){if(n.default.createApiEvent.call(this,"adclick"),n.default.dispatchPingEvent.call(this,"clickthrough"),"boolean"==typeof i&&i){var a=void 0;t?a=t:this.clickThroughUrl&&(a=this.clickThroughUrl),a&&(this.clickThroughUrl=a,r.default.openWindow(this.clickThroughUrl))}}.bind(this),AdPaused:function(){this.vpaidPaused=!0,n.default.createApiEvent.call(this,"adpaused"),n.default.dispatchPingEvent.call(this,"pause")}.bind(this),AdPlaying:function(){this.vpaidPaused=!1,n.default.createApiEvent.call(this,"adresumed"),n.default.dispatchPingEvent.call(this,"resume")}.bind(this),AdLog:function(t){}.bind(this),AdError:function(t){l.default.error.call(this,901),o.default.process.call(this,901)}.bind(this),AdInteraction:function(){n.default.createApiEvent.call(this,"adinteraction")}.bind(this),AdUserAcceptInvitation:function(){n.default.createApiEvent.call(this,"aduseracceptinvitation"),n.default.dispatchPingEvent.call(this,"acceptInvitation")}.bind(this),AdUserMinimize:function(){n.default.createApiEvent.call(this,"adcollapse"),n.default.dispatchPingEvent.call(this,"collapse")}.bind(this),AdUserClose:function(){n.default.createApiEvent.call(this,"adclose"),n.default.dispatchPingEvent.call(this,"close")}.bind(this),AdSizeChange:function(){n.default.createApiEvent.call(this,"adsizechange")}.bind(this),AdLinearChange:function(){this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdLinear&&(this.adIsLinear=this.vpaidCreative.getAdLinear(),n.default.createApiEvent.call(this,"adlinearchange"))}.bind(this),AdExpandedChange:function(){n.default.createApiEvent.call(this,"adexpandedchange")}.bind(this),AdRemainingTimeChange:function(){if(!this.vpaidCreative&&"function"==typeof this.vpaidCreative.getAdRemainingTime){var t=this.vpaidCreative.getAdRemainingTime();0<=t&&(this.vpaidRemainingTime=t)}n.default.createApiEvent.call(this,"adremainingtimechange")}.bind(this)};for(var t=Object.keys(this.vpaidCallbacks),e=0,i=t.length;e<i;e++){var a=t[e];this.vpaidCreative.subscribe(this.vpaidCallbacks[a],a)}}},v=function(){var t,e=this;if(this.vpaidAvailableInterval&&clearInterval(this.vpaidAvailableInterval),this.vpaidLoadTimeout&&clearTimeout(this.vpaidLoadTimeout),this.vpaidCreative=this.vpaidIframe.contentWindow.getVPAIDAd(),this.vpaidCreative&&"function"==typeof this.vpaidCreative.handshakeVersion){var i=void 0;try{i=this.vpaidCreative.handshakeVersion("2.0")}catch(t){return r.default.trace(t),l.default.error.call(this,901),void o.default.process.call(this,901)}if(this.vpaidVersion=parseInt(i),this.vpaidVersion<1)return l.default.error.call(this,901),void o.default.process.call(this,901);if("function"!=typeof(t=this.vpaidCreative).initAd||"function"!=typeof t.startAd||"function"!=typeof t.stopAd||"function"!=typeof t.skipAd||"function"!=typeof t.resizeAd||"function"!=typeof t.pauseAd||"function"!=typeof t.resumeAd||"function"!=typeof t.expandAd||"function"!=typeof t.collapseAd||"function"!=typeof t.subscribe||"function"!=typeof t.unsubscribe)return l.default.error.call(this,901),void o.default.process.call(this,901);m.call(this),c.default.wire.call(this);var a={};a.AdParameters=this.adParametersData,r.default.show(this.adContainer),r.default.show(this.vastPlayer);var s={};this.vpaidSlot=document.createElement("div"),this.vpaidSlot.className="rmp-vpaid-container",this.adContainer.appendChild(this.vpaidSlot),s.slot=this.vpaidSlot,s.videoSlot=this.vastPlayer,s.videoSlotCanAutoPlay=!0,this.initAdTimeout=setTimeout(function(){e.vpaidAdLoaded||d.default.resumeContent.call(e),e.vpaidAdLoaded=!1},10*this.params.creativeLoadTimeout),this.vpaidCreative.initAd(this.initialWidth,this.initialHeight,this.initialViewMode,this.desiredBitrate,a,s)}};f.loadCreative=function(t,e){if(this.initialWidth=e.width,this.initialHeight=e.height,this.initialViewMode=e.viewMode,this.desiredBitrate=e.desiredBitrate,this.vpaidCreativeUrl=t,!this.vastPlayer)if(this.useContentPlayerForAds)this.vastPlayer=this.contentPlayer;else{var i=this.adContainer.querySelector(".rmp-ad-vast-video-player");if(null===i)return void o.default.process.call(this,1004);this.vastPlayer=i}this.vpaidIframe=document.createElement("iframe"),this.vpaidIframe.id="vpaid-frame",this.vpaidIframe.style.visibility="hidden",this.vpaidIframe.style.width="0px",this.vpaidIframe.style.height="0px",this.vpaidIframe.style.border="none";var a="about:self";(s.default.isFirefox||this.useContentPlayerForAds)&&(a=""),this.vpaidIframe.onload=function(){var t=this;if(this.vpaidIframe.onload=this.vpaidIframe.onerror=r.default.nullFn,!this.vpaidIframe.contentWindow||!this.vpaidIframe.contentWindow.document||!this.vpaidIframe.contentWindow.document.body)return l.default.error.call(this,901),void o.default.process.call(this,901);var e=this.vpaidIframe.contentWindow.document,i=e.body;this.vpaidScript=e.createElement("script"),this.vpaidLoadTimeout=setTimeout(function(){t.vpaidScript.removeEventListener("load",t.onJSVPAIDLoaded),t.vpaidScript.removeEventListener("error",t.onJSVPAIDError),d.default.resumeContent.call(t)},this.params.creativeLoadTimeout),this.onJSVPAIDLoaded=function(){var t=this;this.vpaidScript.removeEventListener("load",this.onJSVPAIDLoaded);var e=this.vpaidIframe.contentWindow;"function"==typeof e.getVPAIDAd?v.call(this):this.vpaidAvailableInterval=setInterval(function(){"function"==typeof e.getVPAIDAd&&v.call(t)},100)}.bind(this),this.onJSVPAIDError=function(){this.vpaidScript.removeEventListener("error",this.onJSVPAIDError),l.default.error.call(this,901),o.default.process.call(this,901)}.bind(this),this.vpaidScript.addEventListener("load",this.onJSVPAIDLoaded),this.vpaidScript.addEventListener("error",this.onJSVPAIDError),i.appendChild(this.vpaidScript),this.vpaidScript.src=this.vpaidCreativeUrl}.bind(this),this.vpaidIframe.onerror=function(){this.vpaidIframe.onload=this.vpaidIframe.onerror=r.default.nullFn,l.default.error.call(this,901),o.default.process.call(this,901)}.bind(this),this.vpaidIframe.src=a,this.adContainer.appendChild(this.vpaidIframe)},f.destroy=function(){this.vpaidAvailableInterval&&clearInterval(this.vpaidAvailableInterval),this.vpaidLoadTimeout&&clearTimeout(this.vpaidLoadTimeout),this.initAdTimeout&&clearTimeout(this.initAdTimeout),this.startAdTimeout&&clearTimeout(this.startAdTimeout),function(){if(this.vpaidCreative)for(var t=Object.keys(this.vpaidCallbacks),e=0,i=t.length;e<i;e++){var a=t[e];this.vpaidCreative.unsubscribe(this.vpaidCallbacks[a],a)}}.call(this),this.vpaidScript&&(this.vpaidScript.removeEventListener("load",this.onJSVPAIDLoaded),this.vpaidScript.removeEventListener("error",this.onJSVPAIDError)),this.vpaidSlot&&r.default.removeElement(this.vpaidSlot),this.vpaidIframe&&r.default.removeElement(this.vpaidIframe)},i.default=f},{"../creatives/icons":254,"../fw/env":258,"../fw/fw":259,"../players/content-player":261,"../players/vast-player":262,"../tracking/ping":264,"../tracking/tracking-events":265,"../utils/helpers":267,"../utils/vast-errors":268}],264:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var d=a(t("../fw/fw")),h=a(t("../players/content-player"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var s={events:["impression","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","fullscreen","exitFullscreen","skip","progress","clickthrough","close","collapse","acceptInvitation"]},n=function(t,e,i){var a=/\[CACHEBUSTING\]/gi,s=t;a.test(s)&&(s=s.replace(a,d.default.generateCacheBusting()));var r=/\[ERRORCODE\]/gi;r.test(s)&&d.default.isNumber(e)&&0<e&&e<1e3&&(s=s.replace(r,e));var n=/\[CONTENTPLAYHEAD\]/gi,o=h.default.getCurrentTime.call(this);n.test(s)&&-1<o&&(o=d.default.vastReadableTime(o),s=s.replace(n,d.default.RFC3986EncodeURIComponent(o)));var l=/\[ASSETURI\]/gi;return l.test(s)&&"string"==typeof i&&""!==i&&(s=s.replace(l,d.default.RFC3986EncodeURIComponent(i))),s},o=function(t){var e=new Image;e.addEventListener("load",function(){e=null}),e.addEventListener("error",function(){e=null}),e.src=t};s.tracking=function(t,e){var i=n.call(this,t,null,e);o(i)},s.error=function(t){var e=this.inlineOrWrapperErrorTags;if(303===t&&0<this.vastErrorTags.length&&(e=[].concat(r(e),r(this.vastErrorTags))),0<e.length)for(var i=0,a=e.length;i<a;i++){var s=n.call(this,e[i].url,t,null);o(s)}},i.default=s},{"../fw/fw":259,"../players/content-player":261}],265:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=r(t("../fw/fw")),l=r(t("./ping")),a=r(t("../utils/helpers")),s=r(t("../players/vast-player"));function r(t){return t&&t.__esModule?t:{default:t}}var n={},d=function(e){if(e&&e.type){0;var t=this.trackingTags.filter(function(t){return e.type===t.event});0<t.length&&function(t){var e=this;t.forEach(function(t){l.default.tracking.call(e,t.url,e.getAdMediaUrl())})}.call(this,t)}};n.wire=function(){this.vastPlayer&&this.adIsLinear&&!this.isVPAID&&(this.onPause=function(){if(!this.vastPlayerPaused){this.vastPlayerPaused=!0,a.default.createApiEvent.call(this,"adpaused");for(var t=0,e=this.trackingTags.length;t<e;t++)if("pause"===this.trackingTags[t].event)return;a.default.dispatchPingEvent.call(this,"pause")}}.bind(this),this.vastPlayer.addEventListener("pause",this.onPause),this.onPlay=function(){this.vastPlayerPaused&&(this.vastPlayerPaused=!1,a.default.createApiEvent.call(this,"adresumed"),a.default.dispatchPingEvent.call(this,"resume"))}.bind(this),this.vastPlayer.addEventListener("play",this.onPlay),this.onPlaying=function(){this.vastPlayer.removeEventListener("playing",this.onPlaying),a.default.createApiEvent.call(this,"adimpression"),a.default.createApiEvent.call(this,"adstarted"),a.default.dispatchPingEvent.call(this,["impression","creativeView","start"])}.bind(this),this.vastPlayer.addEventListener("playing",this.onPlaying),this.onEnded=function(){this.vastPlayer.removeEventListener("ended",this.onEnded),a.default.createApiEvent.call(this,"adcomplete"),a.default.dispatchPingEvent.call(this,"complete"),s.default.resumeContent.call(this)}.bind(this),this.vastPlayer.addEventListener("ended",this.onEnded),this.onVolumeChange=function(){this.vastPlayer.muted||0===this.vastPlayer.volume?(a.default.createApiEvent.call(this,"advolumemuted"),a.default.dispatchPingEvent.call(this,"mute"),this.vastPlayerMuted=!0):this.vastPlayerMuted&&(a.default.dispatchPingEvent.call(this,"unmute"),this.vastPlayerMuted=!1),a.default.createApiEvent.call(this,"advolumechanged")}.bind(this),this.vastPlayer.addEventListener("volumechange",this.onVolumeChange),this.onTimeupdate=function(){var e=this;this.vastPlayerCurrentTime=s.default.getCurrentTime.call(this),0<this.vastPlayerCurrentTime&&(0<this.vastPlayerDuration&&this.vastPlayerDuration>this.vastPlayerCurrentTime&&(this.vastPlayerCurrentTime>=.25*this.vastPlayerDuration&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,a.default.createApiEvent.call(this,"adfirstquartile"),a.default.dispatchPingEvent.call(this,"firstQuartile")):this.vastPlayerCurrentTime>=.5*this.vastPlayerDuration&&!this.midpointEventFired?(this.midpointEventFired=!0,a.default.createApiEvent.call(this,"admidpoint"),a.default.dispatchPingEvent.call(this,"midpoint")):this.vastPlayerCurrentTime>=.75*this.vastPlayerDuration&&!this.thirdQuartileEventFired&&(this.thirdQuartileEventFired=!0,a.default.createApiEvent.call(this,"adthirdquartile"),a.default.dispatchPingEvent.call(this,"thirdQuartile"))),this.isSkippableAd&&(null===this.progressEventOffsetsSeconds&&(this.progressEventOffsetsSeconds=[],this.progressEventOffsets.forEach(function(t){e.progressEventOffsetsSeconds.push({offsetSeconds:o.default.convertOffsetToSeconds(t,e.vastPlayerDuration),offsetRaw:t})}),this.progressEventOffsetsSeconds.sort(function(t,e){return t.offsetSeconds-e.offsetSeconds})),Array.isArray(this.progressEventOffsetsSeconds)&&0<this.progressEventOffsetsSeconds.length&&this.vastPlayerCurrentTime>=1e3*this.progressEventOffsetsSeconds[0].offsetSeconds&&(a.default.dispatchPingEvent.call(this,"progress-"+this.progressEventOffsetsSeconds[0].offsetRaw),this.progressEventOffsetsSeconds.shift())))}.bind(this),this.vastPlayer.addEventListener("timeupdate",this.onTimeupdate)),this.onEventPingTracking=d.bind(this);for(var t=0,e=this.trackingTags.length;t<e;t++)this.adIsLinear||this.isVPAID?this.vastPlayer.addEventListener(this.trackingTags[t].event,this.onEventPingTracking):this.nonLinearContainer.addEventListener(this.trackingTags[t].event,this.onEventPingTracking)},n.filterPush=function(t){var e=t[0].getElementsByTagName("Tracking");0<this.adPodWrapperTrackings.length&&(this.trackingTags=this.adPodWrapperTrackings);for(var i=0,a=e.length;i<a;i++){var s=e[i].getAttribute("event"),r=o.default.getNodeValue(e[i],!0);if(null!==s&&""!==s&&-1<l.default.events.indexOf(s)&&null!==r){if(this.isSkippableAd)if("progress"===s){var n=e[i].getAttribute("offset");if(null===n||""===n||!o.default.isValidOffset(n))continue;this.progressEventOffsets.push(n),s=s+"-"+n}else"skip"===s&&(this.hasSkipEvent=!0);this.trackingTags.push({event:s,url:r})}}},i.default=n},{"../fw/fw":259,"../players/vast-player":262,"../utils/helpers":267,"./ping":264}],266:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=n(t("../fw/fw")),s=n(t("../fw/env")),r=n(t("./helpers"));function n(t){return t&&t.__esModule?t:{default:t}}var o={instanceVariables:function(){this.adContainer=null,this.rmpVastInitialized=!1,this.useContentPlayerForAds=!1,this.contentPlayerCompleted=!1,this.currentContentSrc="",this.currentContentCurrentTime=-1,this.needsSeekAdjust=!1,this.seekAdjustAttached=!1,this.onDestroyLoadAds=null,this.firstVastPlayerPlayRequest=!0,this.firstContentPlayerPlayRequest=!0,this.params={},this.adPod=[],this.standaloneAdsInPod=[],this.onAdDestroyLoadNextAdInPod=a.default.nullFn,this.runningAdPod=!1,this.adPodItemWrapper=!1,this.adPodCurrentIndex=0,this.adPodApiInfo=[],this.adPodWrapperTrackings=[],(s.default.isIos[0]||s.default.isMacOSX&&s.default.isSafari[0])&&(this.useContentPlayerForAds=!0)},loadAdsVariables:function(){this.onLoadedmetadataPlay=null,this.onPlaybackError=null,this.onPause=null,this.onPlay=null,this.onPlaying=null,this.onEnded=null,this.onVolumeChange=null,this.onTimeupdate=null,this.onEventPingTracking=null,this.onClickThrough=null,this.onPlayingAppendIcons=null,this.onTimeupdateCheckSkip=null,this.onClickSkip=null,this.onNonLinearLoadSuccess=null,this.onNonLinearLoadError=null,this.onNonLinearClickThrough=null,this.onContextMenu=null,this.adTagUrl="",this.vastPlayer=null,this.vpaidSlot=null,this.trackingTags=[],this.vastErrorTags=[],this.inlineOrWrapperErrorTags=[],this.adMediaUrl="",this.adMediaHeight=null,this.adMediaWidth=null,this.vastPlayerMuted=!1,this.vastPlayerDuration=-1,this.vastPlayerCurrentTime=-1,this.firstQuartileEventFired=!1,this.midpointEventFired=!1,this.thirdQuartileEventFired=!1,this.vastPlayerPaused=!1,this.vastErrorCode=-1,this.adErrorType="",this.vastErrorMessage="",this.adSystem="",this.adIsLinear=!1,this.adContentType="",this.adTitle="",this.adDescription="",this.adOnStage=!1,this.clickThroughUrl="",this.isWrapper=!1,this.vastAdTagURI=null,this.redirectsFollowed=0,this.icons=[],this.clickUIOnMobile=null,this.customPlaybackCurrentTime=0,this.antiSeekLogicInterval=null,this.creativeLoadTimeoutCallback=null,this.isSkippableAd=!1,this.hasSkipEvent=!1,this.skipoffset="",this.progressEventOffsets=[],this.progressEventOffsetsSeconds=null,this.skipButton=null,this.skipWaiting=null,this.skipMessage=null,this.skipIcon=null,this.skippableAdCanBeSkipped=!1,this.nonLinearContainer=null,this.nonLinearATag=null,this.nonLinearImg=null,this.onClickCloseNonLinear=null,this.nonLinearCreativeHeight=0,this.nonLinearCreativeWidth=0,this.nonLinearContentType="",this.nonLinearMinSuggestedDuration=0,this.isVPAID=!1,this.vpaidCreative=null,this.vpaidScript=null,this.vpaidIframe=null,this.vpaidLoadTimeout=null,this.initAdTimeout=null,this.startAdTimeout=null,this.vpaidAvailableInterval=null,this.adStoppedTimeout=null,this.adSkippedTimeout=null,this.adParametersData="",this.vpaidCurrentVolume=1,this.vpaidPaused=!0,this.vpaidCreativeUrl="",this.vpaidRemainingTime=-1,this.vpaidVersion=-1,this.vpaid1AdDuration=-1,this.initialWidth="100%",this.initialHeight=360,this.initialViewMode="normal",this.desiredBitrate=500,this.vpaidAdLoaded=!1,this.vpaidAdStarted=!1,this.vpaidCallbacks={},this.onJSVPAIDLoaded=a.default.nullFn,this.onJSVPAIDError=a.default.nullFn},fullscreen:function(){var e=!1;if(s.default.hasNativeFullscreenSupport){var t=function(t){t&&t.type&&("fullscreenchange"===t.type?e?(e=!1,this.adOnStage&&this.adIsLinear&&r.default.dispatchPingEvent.call(this,"exitFullscreen")):(e=!0,this.adOnStage&&this.adIsLinear&&r.default.dispatchPingEvent.call(this,"fullscreen")):"webkitbeginfullscreen"===t.type?this.adOnStage&&this.adIsLinear&&r.default.dispatchPingEvent.call(this,"fullscreen"):"webkitendfullscreen"===t.type&&this.adOnStage&&this.adIsLinear&&r.default.dispatchPingEvent.call(this,"exitFullscreen"))}.bind(this);s.default.isIos[0]?(this.contentPlayer.addEventListener("webkitbeginfullscreen",t),this.contentPlayer.addEventListener("webkitendfullscreen",t)):document.addEventListener("fullscreenchange",t)}}};i.default=o},{"../fw/env":258,"../fw/fw":259,"./helpers":267}],267:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=a(t("../fw/fw")),n=a(t("./vast-errors")),o=a(t("../tracking/ping"));function a(t){return t&&t.__esModule?t:{default:t}}var l={filterParams:function(t){if(this.params={ajaxTimeout:5e3,creativeLoadTimeout:8e3,ajaxWithCredentials:!1,maxNumRedirects:4,maxNumItemsInAdPod:10,pauseOnClick:!0,skipMessage:"Skip ad",skipWaitingMessage:"Skip ad in",textForClickUIOnMobile:"Learn more",enableVpaid:!0,outstream:!1,vpaidSettings:{width:"100%",height:360,viewMode:"normal",desiredBitrate:500}},r.default.isObject(t)){for(var e=Object.keys(t),i=0,a=e.length;i<a;i++){var s=e[i];typeof t[s]==typeof this.params[s]&&(r.default.isNumber(t[s])&&0<t[s]||"number"!=typeof t[s])&&("vpaidSettings"===s?(r.default.isNumber(t.vpaidSettings.width)&&0<t.vpaidSettings.width&&(this.params.vpaidSettings.width=t.vpaidSettings.width),r.default.isNumber(t.vpaidSettings.height)&&0<t.vpaidSettings.height&&(this.params.vpaidSettings.height=t.vpaidSettings.height),"string"==typeof t.vpaidSettings.viewMode&&"fullscreen"===t.vpaidSettings.viewMode&&(this.params.vpaidSettings.viewMode=t.vpaidSettings.viewMode),r.default.isNumber(t.vpaidSettings.desiredBitrate)&&0<t.vpaidSettings.desiredBitrate&&(this.params.vpaidSettings.desiredBitrate=t.vpaidSettings.desiredBitrate)):this.params[s]=t[s])}30<this.params.maxNumRedirects&&(this.params.maxNumRedirects=30)}},createApiEvent:function(t){"string"==typeof t&&""!==t&&r.default.createStdEvent(t,this.container)},dispatchPingEvent:function(t){if(t){var e=void 0;this.adIsLinear&&this.vastPlayer?e=this.vastPlayer:!this.adIsLinear&&this.nonLinearContainer&&(e=this.nonLinearContainer),e&&(Array.isArray(t)?t.forEach(function(t){r.default.createStdEvent(t,e)}):r.default.createStdEvent(t,e))}},playPromise:function(e,i){var a=this,t=void 0;switch(e){case"content":t=this.contentPlayer;break;case"vast":t=this.vastPlayer}if(t){var s=t.play();void 0!==s&&s.then(function(){i&&l.createApiEvent.call(a,"adinitialplayrequestsucceeded")}).catch(function(t){i&&"vast"===e&&a.adIsLinear?(o.default.error.call(a,400),n.default.process.call(a,400),l.createApiEvent.call(a,"adinitialplayrequestfailed")):i&&"content"===e&&!a.adIsLinear&&l.createApiEvent.call(a,"adinitialplayrequestfailed")})}},accessibleButton:function(i,t){i.tabIndex=0,i.setAttribute("role","button"),i.addEventListener("keyup",function(t){var e=t.which;13!==e&&32!==e||(t.stopPropagation(),t.preventDefault(),r.default.createStdEvent("click",i))}),t&&i.setAttribute("aria-label",t)}};i.default=l},{"../fw/fw":259,"../tracking/ping":264,"./vast-errors":268}],268:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});r(t("../fw/fw"));var a=r(t("../utils/helpers")),s=r(t("../players/vast-player"));function r(t){return t&&t.__esModule?t:{default:t}}var n={},o=[100,101,102,300,301,302,303,900,1e3,1001],l=[200,201,202,203,400,401,402,403,405,500,501,502,503,600,601,602,603,604,901,1002,1003,1004],d=[{code:100,description:"XML parsing error."},{code:101,description:"VAST schema validation error."},{code:102,description:"VAST version of response not supported."},{code:200,description:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display."},{code:201,description:"Video player expecting different linearity."},{code:202,description:"Video player expecting different duration."},{code:203,description:"Video player expecting different size."},{code:300,description:"General Wrapper error."},{code:301,description:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)"},{code:302,description:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response."},{code:303,description:"No Ads VAST response after one or more Wrappers."},{code:400,description:"General Linear error. Video player is unable to display the Linear Ad."},{code:401,description:"File not found. Unable to find Linear/MediaFile from URI."},{code:402,description:"Timeout of MediaFile URI."},{code:403,description:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},{code:405,description:"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn't display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."},{code:500,description:"General NonLinearAds error."},{code:501,description:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},{code:502,description:"Unable to fetch NonLinearAds/NonLinear resource."},{code:503,description:"Couldn't find NonLinear resource with supported type."},{code:600,description:"General CompanionAds error."},{code:601,description:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."},{code:602,description:"Unable to display Required Companion."},{code:603,description:"Unable to fetch CompanionAds/Companion resource."},{code:604,description:"Couldn't find Companion resource with supported type."},{code:900,description:"Undefined Error."},{code:901,description:"General VPAID error."},{code:1e3,description:"Error processing AJAX call to retrieve adTag"},{code:1001,description:"Invalid input for loadAds method"},{code:1002,description:"Required DOMParser API is not available"},{code:1003,description:"Could not get source for content player"},{code:1004,description:"Could not find vast player in DOM"}];n.process=function(t){(function(e){var t=d.filter(function(t){return t.code===e});0<t.length?(this.vastErrorCode=t[0].code,this.vastErrorMessage=t[0].description):(this.vastErrorCode=-1,this.vastErrorMessage="Error getting VAST error"),-1<this.vastErrorCode&&(-1<o.indexOf(this.vastErrorCode)?this.adErrorType="adLoadError":-1<l.indexOf(this.vastErrorCode)&&(this.adErrorType="adPlayError"))}).call(this,t),a.default.createApiEvent.call(this,"aderror"),s.default.resumeContent.call(this)},i.default=n},{"../fw/fw":259,"../players/vast-player":262,"../utils/helpers":267}]},{},[52]),function(a){if(void 0!==a.fuckAdBlock||void 0!==a.FuckAdBlock)return"object"!=typeof a.rmpGlobals&&(a.rmpGlobals={}),a.rmpGlobals.adBlockerDetected=!0;var t=function(t){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1},this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==t&&this.setOption(t);var e=this,i=function(){setTimeout(function(){!0===e._options.checkOnLoad&&(!0===e._options.debug&&e._log("onload->eventCallback","A check loading is launched"),null===e._var.bait&&e._creatBait(),setTimeout(function(){e.check()},1))},1)};void 0!==a.addEventListener?a.addEventListener("load",i,!1):a.attachEvent("onload",i)};t.prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(t,e){console.log("[adblockDetector]["+t+"] "+e)},t.prototype.setOption=function(t,e){if(void 0!==e){var i=t;(t={})[i]=e}for(var a in t)this._options[a]=t[a],!0===this._options.debug&&this._log("setOption",'The option "'+a+'" was assigned to "'+t[a]+'"');return this},t.prototype._creatBait=function(){var t=document.createElement("div");t.setAttribute("class",this._options.baitClass),t.setAttribute("style",this._options.baitStyle),this._var.bait=a.document.body.appendChild(t),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log("_creatBait","Bait has been created")},t.prototype._destroyBait=function(){a.document.body.removeChild(this._var.bait),!(this._var.bait=null)===this._options.debug&&this._log("_destroyBait","Bait has been removed")},t.prototype.check=function(t){if(void 0===t&&(t=!0),!0===this._options.debug&&this._log("check","An audit was requested "+(!0===t?"with a":"without")+" loop"),!0===this._var.checking)return!0===this._options.debug&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var e=this;return!(this._var.loopNumber=0)===t&&(this._var.loop=setInterval(function(){e._checkBait(t)},this._options.loopCheckTime)),setTimeout(function(){e._checkBait(t)},1),!0===this._options.debug&&this._log("check","A check is in progress ..."),!0},t.prototype._checkBait=function(t){var e=!1;if(null===this._var.bait&&this._creatBait(),null===a.document.body.getAttribute("abp")&&null!==this._var.bait.offsetParent&&0!==this._var.bait.offsetHeight&&0!==this._var.bait.offsetLeft&&0!==this._var.bait.offsetTop&&0!==this._var.bait.offsetWidth&&0!==this._var.bait.clientHeight&&0!==this._var.bait.clientWidth||(e=!0),void 0!==a.getComputedStyle){var i=a.getComputedStyle(this._var.bait,null);!i||"none"!==i.getPropertyValue("display")&&"hidden"!==i.getPropertyValue("visibility")||(e=!0)}!0===this._options.debug&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(!0===e?"positive":"negative")),!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===e?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))},t.prototype._stopLoop=function(){clearInterval(this._var.loop),this._var.loop=null,!(this._var.loopNumber=0)===this._options.debug&&this._log("_stopLoop","A loop has been stopped")},t.prototype.emitEvent=function(t){!0===this._options.debug&&this._log("emitEvent","An event with a "+(!0===t?"positive":"negative")+" detection was called");var e=this._var.event[!0===t?"detected":"notDetected"];for(var i in e)!0===this._options.debug&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+e.length),e.hasOwnProperty(i)&&e[i]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log("clearEvent","The event list has been cleared")},t.prototype.on=function(t,e){return this._var.event[!0===t?"detected":"notDetected"].push(e),!0===this._options.debug&&this._log("on",'A type of event "'+(!0===t?"detected":"notDetected")+'" was added'),this},t.prototype.onDetected=function(t){return this.on(!0,t)},t.prototype.onNotDetected=function(t){return this.on(!1,t)},a.FuckAdBlock=t,void 0===a.fuckAdBlock&&(a.fuckAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))}(window);
