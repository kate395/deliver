!function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={1:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({0:"bitmovin",2:"shaka"}[e]||e)+"."+{0:"b8447648868ba3a33137",2:"9feefa1c13970e2e0f81"}[e]+".chunk.js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,n[1](c)}i[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push(["e6Wu",3]),n()}({"++yH":function(e,t,n){e.exports=n.p+"favicon.ico"},"+Lm1":function(e,t){!function(){"use strict";function e(e,t,n,r){return{link:function(i,o,a){var s=n(a.ovpFullscreenToggle)||angular.noop,c=function(){t(function(){return s(i,{isEnabled:r.isEnabled()})})};e.on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange fullscreenChange",c),i.$on("$destroy",function(){e.off("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange fullscreenChange",c)})},restrict:"A"}}function t(e){return{isEnabled:t,toggle:function(r){e.$emit("Analytics:selectAction-toggleFullScreen",{isFullscreen:!t()}),t()?n():r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullscreen:n};function t(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}function n(){t()&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}}t.$inject=["$rootScope"],e.$inject=["$document","$timeout","$parse","ovpFullscreen"],t.$inject=["$rootScope"],e.$inject=["$document","$timeout","$parse","ovpFullscreen"],angular.module("ovpApp.directives.ovp-fullscreen",[]).directive("ovpFullscreenToggle",e).factory("ovpFullscreen",t)}()},"+Toi":function(e,t){!function(){"use strict";function e(e){return{link:function(t,n){n.addClass("fade-in"),e(function(){return n[0].style.opacity="1"})},restrict:"A"}}e.$inject=["$timeout"],e.$inject=["$timeout"],angular.module("ovpApp.directives.fadeinImmediate",[]).directive("fadeinImmediate",e)}()},"+dWp":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div aria-hidden="true" class="si-container kite-h3" ng-if="$ctrl.modalInstance.options.resolve.iconClass">\n<span class="si" ng-class="$ctrl.modalInstance.options.resolve.iconClass"></span>\n</div>\n<h1 id="kite-alert-header" class="kite-modal-title kite-h2">{{::$ctrl.modalInstance.options.resolve.title}}</h1>\n<p id="kite-alert-description" ng-bind-html="::$ctrl.modalInstance.options.resolve.description"></p>\n<button class="kite-btn kite-btn-primary kite-modal-accept-btn kite-btn-xl" focus-once ovp-click="$ctrl.modalInstance.close()">{{::$ctrl.modalInstance.options.resolve.buttonText || "OK"}}</button>\n',o="js/components/kite-modal/kite-alert/kite-alert.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"/+IL":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a});var r="UPDATE_AUTH_SUCCESS",i="UPDATE_AUTH_ERROR",o=function(e){return{type:r,payload:e}},a=function(e){return{type:i,payload:e}}},"/40O":function(e,t,n){var r;
/*!
 * COPYRIGHT 2015.  ALL RIGHTS RESERVED.  THIS MODULE CONTAINS
 * TIME WARNER CABLE CONFIDENTIAL AND PROPRIETARY INFORMATION.
 * THE INFORMATION CONTAINED HEREIN IS GOVERNED BY LICENSE AND
 * SHALL NOT BE DISTRIBUTED OR COPIED WITHOUT WRITTEN PERMISSION
 * FROM TIME WARNER CABLE.
 */void 0===(r=function(e,t,n){var r=function(e){if(this._distributionMsec=e.distributionMsec||0,!e||!e.callback||!e.intervalMsec||e.intervalMsec<=this._distributionMsec)throw new TypeError("Must provide a callback, nonzero interval, and valid distribution");this._intervalMsec=e.intervalMsec,this._callback=e.callback,e.deferStart||this.start()};return r.prototype.start=function(){if(!this._timerId){var e=this._distributionMsec*Math.random()-this._distributionMsec/2;this._timerId=this._setTimeout(this._intervalMsec+e)}},r.prototype.isStarted=function(){return void 0!==this._timerId},r.prototype.stop=function(){this._clearTimeout(this._timerId),this._timerId=void 0},r.prototype._onTimeout=function(){this._timerId=void 0,this.start(),this._callback()},r.prototype._setTimeout=function(e){return setTimeout(this._onTimeout.bind(this),e)},r.prototype._clearTimeout=function(e){return clearTimeout(e)},{LazyTimer:r,_setTimer:setTimeout}}.call(t,n,t,e))||(e.exports=r)},"/MNb":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o});var r=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.environment)||void 0===t?void 0:t.currentEnvName},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.environment)||void 0===t?void 0:t.data},o=function(e){return i(e)[r(e)]}},"/P7z":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<product-details asset="$ctrl.asset"></product-details>\n<product-cast asset="$ctrl.asset"></product-cast>\n<product-related asset="$ctrl.asset"></product-related>',o="js/product/info/product-info.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"/YMf":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="environment-controls" role="document">\n<div class="sr-only">\n<span id="environment-controls-title">User is on Dev Tools</span>\n<span id="environment-controls-description">Application version {{$ctrl.version.appVersion}}, NNS version {{$ctrl.nnsVersion}}</span>\n</div>\n<div class="control-block rowlayout">\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.buildInfo}}" focus-once aria-label="Application version {{$ctrl.version.appVersion}}">v{{$ctrl.version.appVersion}}</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.tdcsLink}}">Device TDCS</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.sequenceLink}}">Sequence</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.kibanaLink}}">Kibana</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.voltLink}}">Volt</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.figaro1Link}}">Figaro 1</a>\n<a target="_BLANK" class="kite-btn kite-btn-secondary kite-btn-sm" href="{{$ctrl.figaro2Link}}">Figaro 2</a>\n<span class="kite-btn kite-btn-secondary kite-btn-sm" tabindex="-1">nns: v{{$ctrl.nnsVersion}}</span>\n</div>\n<div class="control-block rowlayout">\n<div id="environmentLabel" class="label">\nEnvironment:\n</div>\n<select aria-labelledby="environmentLabel" ng-model="$ctrl.currentEnvironmentKey" ng-change="$ctrl.updateEnvironment()" ng-options="value.common.env as value.common.label for (key , value) in $ctrl.environments">\n</select>\n</div>\n<div class="control-block rowlayout">\n<div id="enableFeatureLabel" class="label" aria-label="Enable Feature">Enable Feature:</div>\n<select ng-model="$ctrl.selectedFeature" ng-change="$ctrl.applyFeature();$ctrl.localOverrideEnabled=true" ng-options="feature as feature.label for feature in $ctrl.features" aria-labelledby="enableFeatureLabel">\n<option value="">-Select Feature-</option>\n</select>\n</div>\n<div class="control-block">\n<div id="overrideConfigLabel" style="cursor: pointer" aria-label="Local Override Config" role="link" aria-expanded="{{!!$ctrl.localOverrideEnabled}}" ng-click="$ctrl.localOverrideEnabled = !$ctrl.localOverrideEnabled">Local Override Config<span class="accordion" ng-class="{expanded: $ctrl.localOverrideEnabled}"></span></div>\n<div ng-if="$ctrl.localOverrideEnabled">\n<br/>\n<input type="text" placeholder="Search config" style="color: black;" size="30" ng-model="$ctrl.configSearchText" ng-change="$ctrl.searchConfig()">\n<textarea aria-labelledby="overrideConfigLabel" class="json-edit" ng-change="$ctrl.updateConfig()" ng-model="$ctrl.configValueString"></textarea>\n<div role="alert" class="error" ng-show="$ctrl.configError">{{$ctrl.configError}}</div>\n</div>\n<div ng-if="$ctrl.localOverrideEnabled" class="control-block">\n<input aria-label="Bulk MDU override" type="checkbox" autocomplete="off" ng-model="$ctrl.bulkMDUOverrideEnabled" ng-change="$ctrl.updateBulkMDUOverride()">\nChange SpecU to Bulk MDU\n</div>\n<div ng-if="$ctrl.localOverrideEnabled" class="control-block">\n<input aria-label="show disabled PC settings" type="checkbox" autocomplete="off" ng-model="$ctrl.bulkMDUPCSettingsOverrideEnabled" ng-change="$ctrl.updateBulkMDUPCSettingsOverride()">\nShow disabled PC settings (Bulk MDU)\n</div>\n</div>\n<div class="control-block" ng-if="$ctrl.localOverrideEnabled">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.updateConfigValue()" aria-live="off" aria-describedby="overrideConfigLabel">Apply and Restart</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.clearConfigValues()" aria-live="off" aria-describedby="overrideConfigLabel">Reset and Restart</button>\n</div>\n<div class="control-block">\n<div id="buyflowConfigLabel" class="label" style="cursor: pointer" aria-label="Select Buyflow Type" role="link" aria-expanded="{{!!$ctrl.buyflowTypesEnabled}}" ng-click="$ctrl.buyflowTypesEnabled = !$ctrl.buyflowTypesEnabled">Buyflow Builder<span class="accordion" ng-class="{expanded: $ctrl.buyflowTypesEnabled}"></span></div>\n<div ng-if="$ctrl.buyflowTypesEnabled" class="buyflow-picker">\n<br/>\n<select ng-model="$ctrl.selectedBuyflowOffer" ng-change="$ctrl.updateBuyflowOffer()" ng-options="offer as offer.label for offer in $ctrl.buyflowOffers" aria-label="Select Buyflow Offer">\n<option value="">-Select Buyflow Offer-</option>\n</select>\n<select ng-model="$ctrl.selectedBuyflowTactic" ng-change="$ctrl.updateBuyflowOptions()" ng-options="tactic as tactic.label for tactic in $ctrl.buyflowTactics" aria-label="Select Offer Tactic">\n<option value="">-Select Offer Tactic-</option>\n</select>\n<select ng-model="$ctrl.selectedBuyflowOption" ng-options="options as options.label for options in $ctrl.buyflowOptionsAvailable" aria-label="Select Options">\n<option value="">-Select Options-</option>\n</select>\n<div class="label">\nCMS Version (optional) : <input type="text" placeholder="5.1" style="color: black;" size="30" ng-model="$ctrl.selectedBuyflowVersion">\n</div>\n<div class="control-block">\n<input aria-label="toggle add-ons" type="checkbox" autocomplete="off" ng-model="$ctrl.buyflowAddOnsEnabled">\nEnable Add-ons?\n</div>\n<button ng-disabled="!$ctrl.selectedBuyflowOption" ng-click="$ctrl.applyBuyflow();$ctrl.localOverrideEnabled=true" class="kite-btn kite-btn-primary">Ok</button>\n</div>\n</div>\n<div class="control-block">\n<div id="figaroConfigLabel" class="label" style="cursor: pointer" aria-label="Figaro Config" role="link" aria-expanded="{{!!$ctrl.figaroOverrideEnabled}}" ng-click="$ctrl.figaroOverrideEnabled = !$ctrl.figaroOverrideEnabled">Figaro Config<span class="accordion" ng-class="{expanded: $ctrl.figaroOverrideEnabled}"></span></div>\n<div ng-if="$ctrl.figaroOverrideEnabled">\n<br/>\n<select ng-model="$ctrl.selectedFigaroConfig" ng-change="$ctrl.applyFigaroConfig()" ng-options="config as config.label for config in $ctrl.figaroConfigs" aria-labelledby="figaroConfigLabel">\n<option value="">-Select Config-</option>\n</select>\n</div>\n</div>\n<div class="control-block" ng-if="$ctrl.figaroOverrideEnabled">\n<div id="overrideFigaroConfigLabel">Figaro Override Config</div>\n<textarea aria-labelledby="overrideFigaroConfigLabel" class="json-edit" ng-change="$ctrl.updateFigaroConfig()" ng-model="$ctrl.figaroConfigValueString"></textarea>\n<div role="alert" class="error" ng-show="$ctrl.figaroConfigError">{{$ctrl.figaroConfigError}}</div>\n</div>\n<div class="control-block" ng-if="$ctrl.figaroOverrideEnabled">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.registerDeviceWithFigaroAndRestart()" aria-live="off" aria-describedby="overrideFigaroConfigLabel">Register device with figaro and Restart</button>\n</div>\n<div class="control-block">\n<div id="overrideHTTP" style="cursor: pointer" role="link" aria-expanded="{{!!$ctrl.httpOverrideEnabled}}" ng-click="$ctrl.httpOverrideEnabled = !$ctrl.httpOverrideEnabled">HTTP Response Override<span class="accordion" ng-class="{expanded: $ctrl.httpOverrideEnabled}"></span></div>\n<div ng-if="$ctrl.httpOverrideEnabled">\n<br/>\n<textarea aria-labelledby="overrideHTTP" class="json-edit" ng-change="$ctrl.updateHttpOverride()" ng-model="$ctrl.httpOverrideValueString"></textarea>\n<div role="alert" class="error" ng-show="$ctrl.httpOverrideError">{{$ctrl.httpOverrideError}}</div>\n</div>\n</div>\n<div class="control-block" ng-if="$ctrl.httpOverrideEnabled">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.applyHttpOverride()" aria-live="off" aria-describedby="overrideHTTP">Apply</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.resetHttpOverride()" aria-live="off" aria-describedby="overrideHTTP">Reset</button>\n</div>\n<div class="control-block">\n<input aria-label="cdvr override" type="checkbox" autocomplete="off" ng-model="$ctrl.cdvrOverrideEnabled" ng-change="$ctrl.updateCDVROverride()">\nCDVR Override\n</div>\n<div class="control-block">\n<div id="easMessageLabel" class="label" style="cursor: pointer" aria-label="EAS message" role="link" aria-expanded="{{!!$ctrl.easMessageEnabled}}" ng-click="$ctrl.easMessageEnabled = !$ctrl.easMessageEnabled">EAS<span class="accordion" ng-class="{expanded: $ctrl.easMessageEnabled}"></span></div>\n<div ng-if="$ctrl.easMessageEnabled">\n<br/>\n<div class="label">\nJSON url - <input type="text" placeholder="EAS message" style="color: black;" size="30" ng-model="$ctrl.easMessageUrl">\n</div>\n<br/>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.sendEASMessage()" aria-live="off" aria-describedby="easMessageLabel">Send</button>\n</div>\n</div>\n<div class="control-block">\n<div id="activateSpecULabel" class="label" style="cursor: pointer" aria-label="Activate SpecU" role="link" aria-expanded="{{!!$ctrl.activateSpecUEnabled}}" ng-click="$ctrl.activateSpecUEnabled = !$ctrl.activateSpecUEnabled">Activate SpecU<span class="accordion" ng-class="{expanded: $ctrl.activateSpecUEnabled}"></span></div>\n<div ng-if="$ctrl.activateSpecUEnabled">\n<br/>\n<div>\n<input ng-change="$ctrl.onActivateSpecUChange()" type="radio" id="activateSpecUSuccess" name="activateSpecU" value="success" ng-model="$ctrl.activateSpecU"/>\n<label for="activateSpecUSuccess">Success</label>\n</div>\n<div>\n<input ng-change="$ctrl.onActivateSpecUChange()" type="radio" id="activateSpecUFailure" name="activateSpecU" value="failure" ng-model="$ctrl.activateSpecU"/>\n<label for="activateSpecUFailure">Failure</label>\n</div>\n<div>\n<input ng-change="$ctrl.onActivateSpecUChange()" type="radio" id="activateSpecUIgnore" name="activateSpecU" value="ignore" ng-model="$ctrl.activateSpecU"/>\n<label for="activateSpecUIgnore">Ignore</label>\n</div>\n</div>\n</div>\n<div class="control-block">\n<div id="overrideDebugConfig" style="cursor: pointer" role="link" aria-expanded="{{!!$ctrl.debugConfigEnabled}}" ng-click="$ctrl.debugConfigEnabled = !$ctrl.debugConfigEnabled">Debug Config Override<span class="accordion" ng-class="{expanded: $ctrl.debugConfigEnabled}"></span></div>\n<div ng-if="$ctrl.debugConfigEnabled">\n<br/>\n<textarea aria-labelledby="overrideDebugConfig" class="json-edit" ng-change="$ctrl.updateDebugConfigOverride()" ng-model="$ctrl.debugConfigString"></textarea>\n<div role="alert" class="error" ng-show="$ctrl.debugConfigOverrideError">{{$ctrl.debugConfigOverrideError}}</div>\n</div>\n</div>\n<div class="control-block" ng-if="$ctrl.debugConfigEnabled">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.resetDebugConfigOverride()" aria-live="off" aria-describedby="overrideHTTP">Reset</button>\n</div>\n<div class="control-block">\n<div id="figaroHashLabel" class="label" style="cursor: pointer" aria-label="Figaro hash" role="link" aria-expanded="{{!!$ctrl.figaroHashEnabled}}" ng-click="$ctrl.figaroHashEnabled = !$ctrl.figaroHashEnabled">Figaro hash<span class="accordion" ng-class="{expanded: $ctrl.figaroHashEnabled}"></span></div>\n<div ng-if="$ctrl.figaroHashEnabled">\n<br/>\n<div class="label">\nURL header x-figaro-config : <input type="text" placeholder="x-figaro-config" style="color: black;" size="30" ng-model="$ctrl.xFigaroConfig">\n</div>\n</div>\n</div>\n<div class="control-block" ng-if="$ctrl.figaroHashEnabled">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.updateXFigaroConfigValue()" aria-live="off" aria-describedby="overrideConfigLabel">Apply and Restart</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.clearXFigaroConfigValue()" aria-live="off" aria-describedby="overrideConfigLabel">Reset and Restart</button>\n</div>\n<div class="control-block">\n<div id="chromecastLabel" class="label" style="cursor: pointer" aria-label="Chromecast" role="link" aria-expanded="{{!!$ctrl.chromecastEnabled}}" ng-click="$ctrl.chromecastEnabled = !$ctrl.chromecastEnabled">Chromecast<span class="accordion" ng-class="{expanded: $ctrl.chromecastEnabled}"></span></div>\n<div ng-if="$ctrl.chromecastEnabled">\n<br/>\n<div class="label">\nUsername - <input type="text" placeholder="Username" style="color: black;" size="30" ng-model="$ctrl.chromecastUsername">\n</div>\n<br/>\n<div class="label">\nPassword - <input type="password" placeholder="Password" style="color: black;" size="30" ng-model="$ctrl.chromecastPassword">\n</div>\n<br/>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.setChromecastCredentials()" aria-live="off" aria-describedby="chromecastLabel">Set Credentials</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.clearChromecastCredentials()" aria-live="off" aria-describedby="chromecastLabel">Clear Credentials</button>\n</div>\n</div>\n<div class="control-block">\n<div id="rokuActivation" class="label" style="cursor: pointer" aria-label="Roku Activation" role="link" ng-click="$ctrl.rokuActivationExpanded = !$ctrl.rokuActivationExpanded">\nGenerate Roku Activation Code<span class="accordion" ng-class="{expanded: $ctrl.rokuActivationExpanded}"></span></div>\n<div ng-if="$ctrl.rokuActivationExpanded" style="text-align:left;">\n<br/>\n<input type="text" id="rokuActivationCode" placeholder="activation code" style="color: black;" size="30" ng-model="$ctrl.rokuActivationCode">\n<br/>\n<button style="margin:4px; margin-left:0;" class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.requestRokuActivation()">Request Activation Code</button>\n<button class="kite-btn kite-btn-link" aria-live="Copy to Clipboard" ng-click="$ctrl.copyToClipboard(\'rokuActivationCode\')">Copy to Clipboard</button>\n<br/>\n</div>\n</div>\n<div class="control-block rowlayout" style="margin-bottom:0;">\n<div id="visitIdLabel" class="label">\nVisit ID:\n</div>\n<input id="visitIdField" readonly="readonly" ng-model="$ctrl.visitId" ng-click="$ctrl.selectField(\'visitIdField\')" type="text" size="40" style="color:black; border:0; padding:0;" aria-labelledby="visitIdLabel">\n\n<button class="kite-btn kite-btn-link" aria-live="Copy to Clipboard" ng-click="$ctrl.copyToClipboard(\'visitIdField\')">Copy to Clipboard</button>\n</div>\n<div class="control-block rowlayout" style="margin-bottom:0;">\n<div id="deviceIdLabel" class="label">\nDevice ID:\n</div>\n<input id="deviceIdField" readonly="readonly" ng-model="$ctrl.deviceId" ng-click="$ctrl.selectField(\'deviceIdField\')" type="text" size="40" style="color:black; border:0; padding:0;" aria-labelledby="deviceIdLabel">\n\n<button class="kite-btn kite-btn-link" aria-live="Copy to Clipboard" ng-click="$ctrl.copyToClipboard(\'deviceIdField\')">Copy to Clipboard</button>\n</div>\n<div class="control-block rowlayout" style="margin-bottom:0;">\n<div id="castReceiverVisitIdLabel" class="label">\nChromecast Receiver Visit Id:\n</div>\n<input id="castReceiverVisitIdField" readonly="readonly" ng-model="$ctrl.castReceiverVisitId" ng-click="$ctrl.selectField(\'castReceiverVisitIdField\')" type="text" size="40" style="color:black; border:0; padding:0;" aria-labelledby="castReceiverVisitIdLabel">\n\n<button class="kite-btn kite-btn-link" aria-live="Copy to Clipboard" ng-click="$ctrl.copyToClipboard(\'castReceiverVisitIdField\')">Copy to Clipboard</button>\n</div>\n<div class="control-block">\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.clearStorageAndReload()" aria-live="off">Clear storage and Restart</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.clearAuthAndReload()" aria-live="off">Clear auth and Restart</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.debugInfo()" aria-live="off">Download Logs</button>\n<br/>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.expireAuth()" aria-live="off">Expire auth Immediately</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-click="$ctrl.expireAuth(1000*60*2)" aria-live="off">Expire auth in 2 minutes</button>\n</div>\n</div>\n',o="js/components/environment-dropdown/environment-dropdown.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"/ea2":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="channel-identifier">\n<span class="call">{{$ctrl.item.callSign}}</span>\n<span class="separator" ng-if="!($ctrl.ignoreChannelNumbers) && $ctrl.item.chNumber" id="pipeLine" aria-hidden="true"> | </span>\n<span class="sr-only">,</span>\n<span class="chan" ng-if="!($ctrl.ignoreChannelNumbers)">{{$ctrl.item.chNumber}}</span>\n<span class="sr-only">,</span>\n</div>\n',o="js/components/channel-identifier/channel-identifier.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"/qPr":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="SET_DEVICE_INFO";function i(e){return{type:r,payload:e}}},"/vZ1":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return d});n("yXV3");var r=n("dfAx").a.normalizeRating,i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.blockedRatings},o=function(e){return function(e){var t=i(e),n=u(e),o=d(e);return function(){var e,i,a,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=r(c);return function(e,t){return!!t[e]}(l,n)?-1!==(null===t||void 0===t?void 0:null===(e=t.normalized)||void 0===e?void 0:null===(i=e.tv)||void 0===i?void 0:i.indexOf(l)):!!function(e,t){return!!t[e]}(l,o)&&-1!==(null===t||void 0===t?void 0:null===(a=t.normalized)||void 0===a?void 0:null===(s=a.movie)||void 0===s?void 0:s.indexOf(l))}}(e)},a=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.TV_RATINGS},s=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.MOVIE_RATINGS},c=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.NORMALIZED_TV_RATINGS},l=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.NORMALIZED_MOVIE_RATINGS},u=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.TV_RATINGS_MAP},d=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.ratings)||void 0===t?void 0:t.MOVIE_RATINGS_MAP}},"04BD":function(e,t,n){"use strict";n("ma9I"),n("QWBl"),n("yXV3"),n("07d7"),n("5s+n"),n("p532"),n("rB9j"),n("UxlC"),n("FZtP"),n("R5XZ");var r=n("WHpZ"),i=n.n(r),o=n("SK8o"),a=n.n(o),s=n("KYMe"),c=n("PNUD"),l=n("fwyg"),u=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.errorCodes)||void 0===t?void 0:t.data},d=n("KvKZ"),p=n("eOGt"),h="WGE-1001";function v(){var e=c.a.getSelectorValue(l.P);setTimeout(f,e)}function f(){var e=c.a.getSelectorValue(l.Mb),t={clientType:c.a.getSelectorValue(p.a),apiKey:c.a.getSelectorValue(l.eb)};return c.a.dispatch(Object(d.e)()),s.default.get({url:e,params:t,withCredentials:!1,includeDeviceId:!1}).then(function(e){var t=e.data,n={};t&&t.errorCodes&&t.errorCodes.length>0?(t.errorCodes.forEach(function(e){n[e.full_error_code]={title:e.header,message:e.full_customer_message,alt:e.altText}}),c.a.dispatch(Object(d.f)(n))):c.a.dispatch(Object(d.d)({message:"Missing OR Empty error codes in the response"}))},function(e){c.a.dispatch(Object(d.d)(e))}).finally(v)}var m=function(e,t){return!e||!t||e.indexOf(t)>=0?e:e+" "+t};t.a={initialize:function(){return f()},appendIfMissing:m,getErrorInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.a.getSelectorValue(u),r="".concat(c.a.getSelectorValue(l.Lb)).concat(e),o=n[r]||n[h];return o?{title:o.title,message:m(function(e,t){return a()(function(e,t){return e.replace("{{"+t[0]+"}}",t[1])},e,i()(t))}(o.message,t),r),alt:o.alt,errorCodeWithPrefix:r}:{title:"",message:"",alt:""}}}},"06qP":function(e,t,n){"use strict";n.d(t,"a",function(){return v});n("4mDm"),n("brp2"),n("DQNa"),n("07d7"),n("PKPk"),n("3bBZ"),n("Kz25");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("dprx"),c=n.n(s),l=n("KYMe"),u=n("PNUD"),d=n("I+BT"),p=n("bzo1"),h=n("cEu+");function v(){return f.apply(this,arguments)}function f(){return(f=a()(i.a.mark(function e(){var t,n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URL(window.location.href),n=t.protocol+"//"+t.host+"/assets/js/ads.js?ads=true&ts="+Date.now(),r=!1,e.prev=3,!u.a.getSelectorValue(h.a)){e.next=8;break}return e.next=7,l.default.get({url:n});case 7:e.sent;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r=!0;case 13:return o={adBlockerEnabled:r},u.a.dispatch(Object(p.b)(o)),c.a.set(d.d.AD_BLOCKER_INFO,o),e.abrupt("return",r);case 17:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}},"0Fy8":function(e,t,n){var r;
/*!
 * COPYRIGHT 2014.  ALL RIGHTS RESERVED.  THIS MODULE CONTAINS
 * TIME WARNER CABLE CONFIDENTIAL AND PROPRIETARY INFORMATION.
 * THE INFORMATION CONTAINED HEREIN IS GOVERNED BY LICENSE AND
 * SHALL NOT BE DISTRIBUTED OR COPIED WITHOUT WRITTEN PERMISSION
 * FROM TIME WARNER CABLE.
 */void 0===(r=function(e,t,n){"use strict";var r=t;t.object=function(e){return"[object Object]"=={}.toString.call(e)},t.isFunction=function(e){return"function"==typeof e},t.function=t.isFunction,t.isArray=function(e){return"[object Array]"=={}.toString.call(e)},t.array=t.isArray,t.isUndefined=function(e){return void 0===e},t.undefined=t.isUndefined,t.isString=function(e){return"[object String]"=={}.toString.call(e)},t.string=t.isString,t.isBoolean=function(e){return"[object Boolean]"=={}.toString.call(e)},t.boolean=t.isBoolean,t.isDate=function(e){return"[object Date]"=={}.toString.call(e)},t.date=t.isDate,t.isNumber=function(e){return"[object Number]"=={}.toString.call(e)},t.number=t.isNumber,t.isFiniteNumber=function(e){return r.number(e)&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992},t.finiteNumber=t.isFiniteNumber,t.isInteger=function(e){return r.finiteNumber(e)&&Math.floor(e)===+e},t.integer=t.isInteger,t.isFloat=function(e){return r.finiteNumber(e)&&Math.floor(e)!==+e},t.float=t.isFloat,t.isRegexp=function(e){return"[object RegExp]"=={}.toString.call(e)},t.regexp=t.isRegexp,t.isEmpty=function(e){return null==e||(!1===e||(r.array(e)||r.string(e)?0===e.length:!!r.object(e)&&!Object.keys(e).length))},t.empty=t.isEmpty,t.isNullOrUndefined=function(e){return null===e||void 0===e},t.nullOrUndefined=t.isNullOrUndefined}.call(t,n,t,e))||(e.exports=r)},"0HQk":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.hasRdvrVersion2()" class="my-recordings">\n<h1 tabindex="-1" class="sr-only" id="screen_title" focus-once>DVR, My Recordings</h1>\n<rdvr-toolbar options="$ctrl.subheaderOptions"></rdvr-toolbar>\n<div class="recorded-list">\n<div role="heading" aria-level="2" class="empty-list-message" ng-if="!$ctrl.loading && $ctrl.recordingGroups && $ctrl.recordingGroups.length === 0">There are no recordings on this DVR</div>\n<h2 class="sr-only" ng-if="!$ctrl.loading && $ctrl.recordingGroups && $ctrl.recordingGroups.length !== 0">Recorded Programs</h2>\n<ovp-grid-list items="$ctrl.recordingGroups" options="{showHeader: false, showPagination: false, id: \'myRecordings\', useLocalStorage: true}" on-view-changed="$ctrl.viewChanged(view)">\n<grid-items role="list">\n<ovp-product role="listitem" ng-repeat="group in $ctrl.recordingGroups" asset="group.episodes[0]" options="{enableRemove: true}" on-remove="$ctrl.singleDelete(asset, group)"></ovp-product>\n</grid-items>\n<list-items role="list">\n<rdvr-recording-list-item role="listitem" ng-repeat="group in $ctrl.recordingGroups" recording="group" state="group.deleteGroupSelection" on-state-changed="$ctrl.onCheckboxStateChanged(recording, state)"></rdvr-recording-list-item>\n</list-items>\n</ovp-grid-list>\n</div>\n</div>\n',o="js/rdvr/my-recordings/my-recordings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"0Lyw":function(e,t){!function(){"use strict";angular.module("ovpApp.search.header",["ovpApp.search.input"]).component("searchHeader",{templateUrl:"js/search/search-header.html"})}()},"0Mdl":function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.b)(["INIT","READY","SOURCE_SET","AUTOPLAY_FAILED","PLAYBACK_STARTED","LIVE_TV_ACTIVATED","PLAYBACK_BUFFERING","PLAYBACK_STOPPED"])("PLAYER");t.a=i},"0NdW":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="navbar sub-navigation" ng-class="{\'collapsed\': $ctrl.menuCollapsed, \'open\': !$ctrl.menuCollapsed}" role="navigation" aria-label="primary">\n<div class="responsive-nav-label">\n<button ng-focus="$ctrl.playerOverlayTimer.isMiniGuideOpen() ? $ctrl.playerOverlayTimer.startOverlayTimer() : null" aria-expanded="{{($ctrl.menuCollapsed) ? \'false\' : \'true\'}}" aria-label="Navigation: {{$ctrl.selectedItem.title || \'Browse\'}}" ng-click="::$ctrl.toggleMenu()"><span class="page-title">{{$ctrl.selectedItem.title || \'Browse\'}}</span><span aria-hidden="true" class="si si-chevron-down" ng-class="{\'open\': !$ctrl.menuCollapsed}"></span></button>\n</div>\n<ul class="nav navbar-nav" tabindex="-1">\n<menu-item ng-repeat="menuItem in $ctrl.menuItems" is-collapsed="$ctrl.menuCollapsed" ng-keydown="$ctrl.menuItemOnKeyDown($first, $last, $event)" item="menuItem"></menu-item>\n</ul>\n<global-search class="screen-large"></global-search>\n</div>\n',o="js/components/header/main-menu.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"0WY7":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<form class="pin-form text-center" ng-submit="$ctrl.resetPIN()" name="$ctrl.form">\n<div class="form-group" id="formInstructions">\n<p ng-if="$ctrl.headerMessage" id="headerMessage" ng-bind-html="$ctrl.headerMessage"></p>\n<p ng-if="$ctrl.secondaryMessage" id="secondaryMessage" ng-bind-html="$ctrl.secondaryMessage"></p>\n</div>\n<div class="form-group" ng-class="{\'has-error\': $ctrl.form.newPIN.$invalid && $ctrl.form.newPIN.$dirty}">\n<label for="newPin">{{$ctrl.pinInstructions}}</label>\n<input id="newPin" aria-describedby="pin_warning" class="form-control input-lg pin-input" name="newPIN" autocomplete="off" minlength="4" maxlength="4" required aria-invalid="false" ng-maxlength="4" ng-model="$ctrl.newPIN" ng-pattern="/^(\\d)+$/" ng-trim="false" ng-change="$ctrl.onInputChange()" ng-model-options="{allowInvalid: true}" focus-once/>\n<p class="help-block" id="pin_warning" ng-class="{\'invisible\': !$ctrl.showNumbersOnlyErrorMessage}">PIN must contain only numbers</p>\n</div>\n<div class="form-group" ng-class="{\'has-error\': $ctrl.form.confirmPIN.$invalid && $ctrl.form.confirmPIN.$dirty}">\n<label for="confirmPin">Confirm new PIN</label>\n<input id="confirmPin" class="form-control input-lg pin-input" name="confirmPIN" autocomplete="off" minlength="4" maxlength="4" required aria-invalid="false" ng-maxlength="4" ng-model="$ctrl.confirmPIN" ng-pattern="/^(\\d)+$/" ng-trim="false" compare-pin="$ctrl.newPIN" ng-attr-focus-next="{{$ctrl.form.$invalid && \'.popupCloseClick\' || undefined}}"/>\n<p class="help-block" role="alert" ng-show="$ctrl.form.confirmPIN.$error.comparePin" aria-label="pins must match"><span aria-hidden="true">PINs must match</span></p>\n</div>\n<div class="form-group">\n<div class="spinner" ng-if="$ctrl.loadingTracker.active() || $ctrl.success" role="img" aria-label="loading"></div>\n<input class="kite-btn kite-btn-block kite-btn-primary reset-pin-button" type="submit" value="Create PIN" ng-if="!$ctrl.loadingTracker.active() && !$ctrl.success" focus-next=".popupCloseClick"/>\n</div>\n</form>\n',o="js/components/pin-entry/pin-reset.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"0olo":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="parental-controls" ng-if="$ctrl.preferences !== null" role="application">\n<h2 class="settings-h1 kite-h3">{{$ctrl.currentStb.name || \'Spectrum Receiver\'}} Parental Controls</h2>\n<stb-parental-controls-toggle stb="$ctrl.currentStb" blocking-enabled="$ctrl.preferences.parentalControls.blockingEnabled"></stb-parental-controls-toggle>\n<stb-change-blocking-pin ng-if="$ctrl.isPrimaryAccount" stb="$ctrl.currentStb"></stb-change-blocking-pin>\n<stb-allowed-ratings stb="$ctrl.currentStb" blocked-ratings="$ctrl.preferences.parentalControls.blockedRatings" ratings="$ctrl.properties.parentalControls.blockedRatings.allowedValues"></stb-allowed-ratings>\n<stb-content-block stb="$ctrl.currentStb" blocked-content="$ctrl.preferences.parentalControls.blockedContent" content-block="$ctrl.properties.parentalControls.blockedContent.allowedValues"></stb-content-block>\n<stb-title-block stb="$ctrl.currentStb"></stb-title-block>\n<stb-time-block ng-if="$ctrl.stbSettingsParentalControlsTimeBlockEnabled()" stb="$ctrl.currentStb"></stb-time-block>\n<div class="row" ng-if="!$ctrl.stbSettingsParentalControlsTimeBlockEnabled()">\n<h3 class="odn-setting-label setting-label col-xs-16 unavailable">Time Block - Unavailable</h3>\n<p class="help-block col-xs-16 unavailable" error-codes="WCM-1023"></p>\n</div>\n<stb-share-in-progress-list stb="$ctrl.currentStb"></stb-share-in-progress-list>\n<channel-block channel-cards="$ctrl.channelCards" filtered-cards="$ctrl.filteredCards" on-filter-changed="$ctrl.onFilterChanged" get-card-number="$ctrl.getCardNumber" get-card-name="$ctrl.getCardName" get-card-image="$ctrl.getCardImage" is-channel-blocked="$ctrl.isChannelBlocked" clear-all-channel-blocks="$ctrl.clearAllChannelBlocks" toggle-card-block="$ctrl.toggleCardBlock"></channel-block>\n</div>\n<stb-receiver-unavailable stb="$ctrl.currentStb" ng-if="$ctrl.preferences === null || $ctrl.properties === null"/>\n',o="js/settings/stb-parentalControls/stb-parentalControls.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"0v+u":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="UPDATE_QUERY_PARAMS",i=function(e){return{type:r,payload:e}}},"10uO":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<site-header ng-if="$ctrl.headerVersion === 0" class="site-header-container" ng-show="!$ctrl.ovpFullscreen.isEnabled() && ($ctrl.$state.transition.success || $ctrl.$state.previous) &&\n             !($ctrl.$state.current.name === \'ovp.specuLoading\' || $ctrl.$state.current.name === \'ovp.specuSuccess\' || $ctrl.$state.current.name === \'ovp.specuFailure\' || $ctrl.$state.current.name.startsWith(\'ovp.offers\'))">\n</site-header>\n<offers-header ng-if="$ctrl.$state.current.name.startsWith(\'ovp.offers\')"></offers-header>\n<div ng-if="$ctrl.headerVersion === 2">\n<new-site-header></new-site-header>\n<ui-view name="subMenu" ng-hide="$ctrl.$state.current.data.hideSubMenu"></ui-view>\n</div>\n',o="js/components/header/header.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"15oi":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="create-time-block-container" role="form">\n<div class="create-time-block-title">\n<h4>Create a New Timeblock</h4>\n</div>\n<div class="create-time-block-form">\n<div class="form-item">\n<h5>Day</h5>\n<ovp-dropdown-list items="$ctrl.days" config="$ctrl.dayDropdownConfig" autofocus></ovp-dropdown-list>\n</div>\n<div class="form-item">\n<h5>Start Time</h5>\n<ovp-dropdown-list items="$ctrl.startTimeList" config="$ctrl.startTimeDropdownConfig"></ovp-dropdown-list>\n</div>\n<div class="form-item">\n<h5>End Time</h5>\n<ovp-dropdown-list items="$ctrl.endTimeList" config="$ctrl.endTimeDropdownConfig"></ovp-dropdown-list>\n</div>\n</div>\n<div class="create-time-block-footer">\n<button class="kite-btn kite-btn-primary pull-right" ng-click="$ctrl.onSave()">Save</button>\n<button class="kite-btn kite-btn-secondary pull-right" ng-click="$ctrl.onClose()">Close</button>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-timeblock/stb-createTimeBlock.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"1Mgq":function(e,t){!function(){"use strict";function e(e){var t=this;t.doAction=function(){t.$rootScope.$emit("Analytics:navigation-click",{elementName:"liveTv"}),t.onClick&&t.onClick()},t.$rootScope=e}e.$inject=["$rootScope"],e.$inject=["$rootScope"],angular.module("ovpApp.components.settingsMenu",[]).directive("settingsMenu",function(){return{bindToController:!0,controller:e,controllerAs:"vm",templateUrl:"js/components/header/tools/settings-menu.html",restrict:"E",replace:!0,scope:{onClick:"=",focusNextVal:"@"}}}).controller("SettingsMenuController",e)}()},"1O9/":function(e,t){!function(){"use strict";angular.module("ovpApp.ondemand.subheaderService",["rx"]).factory("ondemandSubheaderService",["rx",function(e){var t=new e.BehaviorSubject({showFrontDoor:!0});return{getSource:function(){return t.asObservable()},setState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.onNext(e)}}}])}()},"1XJp":function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"m",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"l",function(){return f}),n.d(t,"i",function(){return m}),n.d(t,"k",function(){return g});var r="BUYFLOW_CART_UPDATE_STEP",i="BUYFLOW_CART_PREVIOUS_STEP",o="BUYFLOW_UPDATE_SELECTED_LEVEL_OF_SERVICE",a="BUYFLOW_UPDATE_SELECTED_BASE_OFFER",s="BUYFLOW_CART_ADD_EXTRA_OR_PREMIUM",c="BUYFLOW_CART_REMOVE_EXTRA_OR_PREMIUM",l="BUYFLOW_CART_ADD_CHOICE_NETWORK",u="BUYFLOW_CART_REMOVE_CHOICE_NETWORK";function d(e){return{type:r,payload:e}}function p(e){return{type:o,payload:e}}function h(e){return{type:a,payload:e}}function v(e){return{type:s,payload:e}}function f(e){return{type:c,payload:e}}function m(e){return{type:l,payload:e}}function g(e){return{type:u,payload:e}}},"1jgP":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="UPDATE_TOAST_MESSAGE";function i(e){return{type:r,payload:e}}},"1saX":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div>\n<div id="popup" class="popUp popupHolder" ng-style="{\'visibility\': isVisible}" aria-labelledby="{{dialogLabelId}}" aria-describedby="{{dialogDescriptionId}}">\n<div class="background-frame">\n<div id="alertBox" class="alertBox popup background" ng-class="popupCss" ng-style="{\'margin\': PopupMargin}">\n<div class="rounded-corner-with-close-button-frame" ng-show="showCloseIcon"></div>\n<button aria-label="close" class="popUp popupCloseClick kite-button" ng-show="showCloseIcon" ng-click="vm.hide()"></button>\n<div class="content">\n</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/components/popup/popup.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"1xHL":function(e,t,n){
/**
 * State-based routing for AngularJS 1.x
 * @version v1.0.0-rc.1
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t){"use strict";function n(e){var t=[].slice.apply(arguments,[1]),n=e.length;return function t(r){return r.length>=n?e.apply(null,r):function(){return t(r.concat([].slice.apply(arguments)))}}(t)}function r(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(null,[].slice.call(arguments).reverse())}var o=function(e){return function(t){return t&&t[e]}},a=n(function(e,t,n){return n&&n[e]===t}),s=function(e){return i.apply(null,e.split(".").map(o))},c=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}};function l(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)&&t.apply(null,n)}}function u(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.apply(null,n)||t.apply(null,n)}}var d=function(e){return function(t){return t.reduce(function(t,n){return t&&!!e(n)},!0)}},p=function(e){return function(t){return t.reduce(function(t,n){return t||!!e(n)},!1)}},h=function(e){return function(t){return null!=t&&t.constructor===e||t instanceof e}},v=function(e){return function(t){return e===t}},f=function(e){return function(){return e}};function m(e,t){return function(n){return n[e].apply(n,t)}}function g(e){return function(t){for(var n=0;n<e.length;n++)if(e[n][0](t))return e[n][1](t)}}var b=Object.prototype.toString,y=function(e){return function(t){return typeof t===e}},S=y("undefined"),w=c(S),k=function(e){return null===e},C=u(k,S),$=y("function"),T=y("number"),O=y("string"),E=function(e){return null!==e&&"object"==typeof e},A=Array.isArray,P=function(e){return"[object Date]"===b.call(e)},I=function(e){return"[object RegExp]"===b.call(e)};function x(e){if(A(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(c(O)).length||n.filter(c($)).length)}return $(e)}var _=l(E,i(o("then"),$)),D=function(e){return function(){throw new Error(e+"(): No coreservices implementation for UI-Router is loaded.")}},R={$q:void 0,$injector:void 0},j=("undefined"==typeof window?{}:window).angular||{},N=j.fromJson||JSON.parse.bind(JSON),M=j.toJson||JSON.stringify.bind(JSON),V=j.copy||function(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),t||(t={}),F(t,e)},L=j.forEach||function(e,t,n){if(A(e))return e.forEach(t,n);Object.keys(e).forEach(function(n){return t(e[n],n)})},F=j.extend||function(e){return q(arguments,1).filter(B).reduce(Ae,e)},U=j.equals||Pe,B=function(e){return e},W=function(){};function H(e,t,n,r,i){void 0===i&&(i=!1);var o=function(t){return e()[t].bind(n())};return(r=r||Object.keys(e())).reduce(function(e,n){return e[n]=i?function(e){return function(){return t[e]=o(e),t[e].apply(null,arguments)}}(n):o(n),e},t)}var G=function(e,t){return F(new(F(function(){},{prototype:e})),t)},q=function(e,t){return void 0===t&&(t=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(e,t))},z=n(Y);function Y(e,t){return-1!==e.indexOf(t)}var K=n(J);function J(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),e}var Q=n(X);function X(e,t){return e.push(t),t}var Z=function(e){return e.slice().forEach(function(t){"function"==typeof t&&t(),K(e,t)})};function ee(e){void 0===e&&(e={});for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=te.apply(null,[{}].concat(t));return F({},r,oe(e||{},Object.keys(r)))}function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return L(t,function(t){L(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}var ne=function(e,t){return F(e,t)};function re(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function ie(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={};for(var o in t)e(n,o)&&(i[o]=t[o]);return i}function oe(e){return ie.apply(null,[z].concat(q(arguments)))}function ae(e){return ie.apply(null,[function(e,t){return!z(e,t)}].concat(q(arguments)))}function se(e,t){return de(e,o(t))}function ce(e,t){var n=A(e),r=n?[]:{},i=n?function(e){return r.push(e)}:function(e,t){return r[t]=e};return L(e,function(e,n){t(e,n)&&i(e,n)}),r}function le(e,t){var n;return L(e,function(e,r){n||t(e,r)&&(n=e)}),n}var ue=de;function de(e,t){var n=A(e)?[]:{};return L(e,function(e,r){return n[r]=t(e,r)}),n}var pe=function(e){return Object.keys(e).map(function(t){return e[t]})},he=function(e,t){return e&&t},ve=function(e,t){return e||t},fe=function(e,t){return e.concat(t)},me=function(e,t){return A(t)?e.concat(t.reduce(me,[])):ge(e,t)};function ge(e,t){return e.push(t),e}var be=function(e,t){return z(e,t)?e:ge(e,t)},ye=function(e){return e.reduce(fe,[])},Se=function(e){return e.reduce(me,[])},we=Ce,ke=Ce;function Ce(e,t){return void 0===t&&(t="assert failure"),function(n){var r=e(n);if(!r)throw new Error($(t)?t(n):t);return r}}var $e=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})};function Te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991);return Array.apply(null,Array(n)).map(function(t,n){return e.map(function(e){return e[n]})})}function Oe(e,t){var n,r;if(A(t)&&(n=t[0],r=t[1]),!O(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function Ee(e){return e.length&&e[e.length-1]||void 0}function Ae(e,t){return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e}function Pe(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e,r=typeof t;if(n!==r||"object"!==n)return!1;var i=[e,t];if(d(A)(i))return function(e,t){return e.length===t.length&&Te(e,t).reduce(function(e,t){return e&&Pe(t[0],t[1])},!0)}(e,t);if(d(P)(i))return e.getTime()===t.getTime();if(d(I)(i))return e.toString()===t.toString();if(d($)(i))return!0;var o=[$,A,P,I];if(o.map(p).reduce(function(e,t){return e||!!t(i)},!1))return!1;var a,s={};for(a in e){if(!Pe(e[a],t[a]))return!1;s[a]=!0}for(a in t)if(!s[a])return!1;return!0}var Ie=function(e,t){return void 0===t&&(t=f(!0)),function(n,r){return t(n)&&t(r)?e(n)-e(r):0}},xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){return e.reduce(function(e,r){return e||r(t,n)},0)}},_e=function(e){return e.catch(function(e){return 0})&&e},De=function(e){return _e(R.$q.reject(e))},Re=function(){function e(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return e.prototype.matches=function(e){return this.regexp.test("."+e)},e.is=function(e){return e.indexOf("*")>-1},e.fromString=function(t){return this.is(t)?new e(t):null},e}(),je=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&t.shift(),e},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();!function(e){e[e.SUPERSEDED=2]="SUPERSEDED",e[e.ABORTED=3]="ABORTED",e[e.INVALID=4]="INVALID",e[e.IGNORED=5]="IGNORED",e[e.ERROR=6]="ERROR"}(e.RejectType||(e.RejectType={}));var Ne=function(){function t(e,t,n){this.type=e,this.message=t,this.detail=n}return t.prototype.toString=function(){var e=this.type,t=this.message,n=function(e){return e&&e.toString!==Object.prototype.toString?e.toString():mn(e)}(this.detail);return"TransitionRejection(type: "+e+", message: "+t+", detail: "+n+")"},t.prototype.toPromise=function(){return F(De(this),{_transitionRejection:this})},t.isTransitionRejectionPromise=function(e){return e&&"function"==typeof e.then&&e._transitionRejection instanceof t},t.superseded=function(n,r){var i=new t(e.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",n);return r&&r.redirected&&(i.redirected=!0),i},t.redirected=function(e){return t.superseded(e,{redirected:!0})},t.invalid=function(n){return new t(e.RejectType.INVALID,"This transition is invalid",n)},t.ignored=function(n){return new t(e.RejectType.IGNORED,"The transition was ignored",n)},t.aborted=function(n){return new t(e.RejectType.ABORTED,"The transition has been aborted",n)},t.errored=function(n){return new t(e.RejectType.ERROR,"The transition errored",n)},t}();function Me(e){return e?"[ui-view#"+e.id+" tag in template from '"+(e.creationContext&&e.creationContext.name||"(root)")+"' state]: fqn: '"+e.fqn+"', name: '"+e.name+"@"+e.creationContext+"')":"ui-view (defunct)"}function Ve(t){return T(t)?e.Category[t]:e.Category[e.Category[t]]}!function(e){e[e.RESOLVE=0]="RESOLVE",e[e.TRANSITION=1]="TRANSITION",e[e.HOOK=2]="HOOK",e[e.UIVIEW=3]="UIVIEW",e[e.VIEWCONFIG=4]="VIEWCONFIG"}(e.Category||(e.Category={}));var Le=function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,n){var r=this;n.length||(n=Object.keys(e.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(t){return e.Category[t]})),n.map(Ve).forEach(function(e){return r._enabled[e]=t})},t.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},t.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},t.prototype.enabled=function(e){return!!this._enabled[Ve(e)]},t.prototype.traceTransitionStart=function(t){if(this.enabled(e.Category.TRANSITION)){var n=t.$id,r=(this.approximateDigests,mn(t));console.log("Transition #"+n+" r"+t.router.$id+": Started  -> "+r)}},t.prototype.traceTransitionIgnored=function(t){if(this.enabled(e.Category.TRANSITION)){var n=t&&t.$id,r=(this.approximateDigests,mn(t));console.log("Transition #"+n+" r"+t.router.$id+": Ignored  <> "+r)}},t.prototype.traceHookInvocation=function(t,n,r){if(this.enabled(e.Category.HOOK)){var i=s("transition.$id")(r),o=(this.approximateDigests,s("traceData.hookType")(r)||"internal"),a=s("traceData.context.state.name")(r)||s("traceData.context")(r)||"unknown",c=pn(t.registeredHook.callback);console.log("Transition #"+i+" r"+n.router.$id+":   Hook -> "+o+" context: "+a+", "+ln(200,c))}},t.prototype.traceHookResult=function(t,n,r){if(this.enabled(e.Category.HOOK)){var i=s("transition.$id")(r),o=(this.approximateDigests,mn(t));console.log("Transition #"+i+" r"+n.router.$id+":   <- Hook returned: "+ln(200,o))}},t.prototype.traceResolvePath=function(t,n,r){if(this.enabled(e.Category.RESOLVE)){var i=r&&r.$id,o=(this.approximateDigests,t&&t.toString());console.log("Transition #"+i+" r"+r.router.$id+":         Resolving "+o+" ("+n+")")}},t.prototype.traceResolvableResolved=function(t,n){if(this.enabled(e.Category.RESOLVE)){var r=n&&n.$id,i=(this.approximateDigests,t&&t.toString()),o=mn(t.data);console.log("Transition #"+r+" r"+n.router.$id+":               <- Resolved  "+i+" to: "+ln(200,o))}},t.prototype.traceError=function(t,n){if(this.enabled(e.Category.TRANSITION)){var r=n&&n.$id,i=(this.approximateDigests,mn(n));console.log("Transition #"+r+" r"+n.router.$id+": <- Rejected "+i+", reason: "+t)}},t.prototype.traceSuccess=function(t,n){if(this.enabled(e.Category.TRANSITION)){var r=n&&n.$id,i=(this.approximateDigests,t.name),o=mn(n);console.log("Transition #"+r+" r"+n.router.$id+": <- Success  "+o+", final state: "+i)}},t.prototype.traceUIViewEvent=function(t,n,r){void 0===r&&(r=""),this.enabled(e.Category.UIVIEW)&&console.log("ui-view: "+un(30,t)+" "+Me(n)+r)},t.prototype.traceUIViewConfigUpdated=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+n+"'")},t.prototype.traceUIViewFill=function(t,n){this.enabled(e.Category.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+ln(200,n))},t.prototype.traceViewServiceEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+function(e){return"[ViewConfig#"+e.$id+" from '"+(e.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+e.viewDecl.$uiViewName+"@"+e.viewDecl.$uiViewContextAnchor+"'"}(n))},t.prototype.traceViewServiceUIViewEvent=function(t,n){this.enabled(e.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+Me(n))},t}(),Fe=new Le;(function(e){e[e.CREATE=0]="CREATE",e[e.BEFORE=1]="BEFORE",e[e.ASYNC=2]="ASYNC",e[e.SUCCESS=3]="SUCCESS",e[e.ERROR=4]="ERROR"})(e.TransitionHookPhase||(e.TransitionHookPhase={})),function(e){e[e.TRANSITION=0]="TRANSITION",e[e.STATE=1]="STATE"}(e.TransitionHookScope||(e.TransitionHookScope={}));var Ue=function(){function e(e,t,n,r){void 0===r&&(r={}),this._identifier=e,this._definition=t,this._options=r,this._params=n||{}}return e.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},e.prototype.identifier=function(){return this._identifier},e.prototype.params=function(){return this._params},e.prototype.$state=function(){return this._definition},e.prototype.state=function(){return this._definition&&this._definition.self},e.prototype.options=function(){return this._options},e.prototype.exists=function(){return!(!this._definition||!this._definition.self)},e.prototype.valid=function(){return!this.error()},e.prototype.error=function(){var e=this.options().relative;if(!this._definition&&e){var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},e.prototype.toString=function(){return"'"+this.name()+"'"+M(this.params())},e}();Ue.isDef=function(e){return e&&e.state&&(O(e.state)||O(e.state.name))};var Be={current:W,transition:null,traceData:{},bind:null},We=function(){function e(e,t,n,r){var i=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.stateService=function(){return i.transition.router.stateService},this.rejectIfSuperseded=function(){return i.registeredHook.eventType.rejectIfSuperseded&&i.options.current()!==i.options.transition},this.options=ee(r,Be)}return e.prototype.invokeHook=function(){var e=this.registeredHook;if(!e._deregistered){var t=this.options;if(Fe.traceHookInvocation(this,this.transition,t),this.rejectIfSuperseded())return Ne.superseded(t.current()).toPromise();var n=e.callback,r=this.options.bind,i=this.transition,o=this.stateContext,a=e.eventType.getErrorHandler(this),s=e.eventType.getResultHandler(this);if(s=s||B,!a)return s(n.call(r,i,o));try{return s(n.call(r,i,o))}catch(e){return a(e)}}},e.prototype.handleHookResult=function(e){if(this.rejectIfSuperseded())return Ne.superseded(this.options.current()).toPromise();if(_(e))return e.then(this.handleHookResult.bind(this));if(Fe.traceHookResult(e,this.transition,this.options),!1===e)return Ne.aborted("Hook aborted transition").toPromise();var t=h(Ue);return t(e)?Ne.redirected(e).toPromise():void 0},e.prototype.toString=function(){var e=this.options,t=this.registeredHook,n=s("traceData.hookType")(e)||"internal",r=s("traceData.context.state.name")(e)||s("traceData.context")(e)||"unknown",i=hn(t.callback);return n+" context: "+r+", "+ln(200,i)},e.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},e.runOnBeforeHooks=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n],o=i.invokeHook();if(Ne.isTransitionRejectionPromise(o))return o;t.push(o)}return t.filter(_).reduce(function(e,t){return e.then(f(t))},R.$q.when())},e}();function He(e,t){var n=O(t)?[t]:t,r=$(n)?n:function(e){for(var t=n,r=0;r<t.length;r++){var i=new Re(t[r]);if(i&&i.matches(e.name)||!i&&t[r]===e.name)return!0}return!1};return!!r(e)}We.HANDLE_RESULT=function(e){return function(t){return e.handleHookResult(t)}},We.IGNORE_RESULT=function(e){return function(e){}},We.LOG_ERROR=function(e){return function(t){e.stateService().defaultErrorHandler()(t)}},We.REJECT_ERROR=function(e){return function(e){return Ne.errored(e).toPromise()}},We.THROW_ERROR=function(e){};var Ge=function(){function t(e,t,n,r,i){void 0===i&&(i={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return t.prototype._matchingNodes=function(e,t){if(!0===t)return e;var n=e.filter(function(e){return He(e.state,t)});return n.length?n:null},t.prototype._getDefaultMatchCriteria=function(){return de(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},t.prototype._getMatchingNodes=function(t){var n=this,r=F(this._getDefaultMatchCriteria(),this.matchCriteria),i=pe(this.tranSvc._pluginapi._getPathTypes());return i.reduce(function(i,o){var a=o.scope===e.TransitionHookScope.STATE,s=t[o.name]||[],c=a?s:[Ee(s)];return i[o.name]=n._matchingNodes(c,r[o.name]),i},{})},t.prototype.matches=function(e){var t=this._getMatchingNodes(e),n=pe(t).every(B);return n?t:null},t}();function qe(e,t,n){var r=e._registeredHooks=e._registeredHooks||{},i=r[n.name]=[];function o(e,r,o){void 0===o&&(o={});var a=new Ge(t,n,r,e,o);return i.push(a),function(){a._deregistered=!0,K(i)(a)}}return e[n.name]=o,o}var ze=function(){function t(e){this.transition=e,this.treeChanges=e.treeChanges(),this.transitionOptions=e.options(),this.toState=Ee(this.treeChanges.to).state,this.fromState=Ee(this.treeChanges.from).state,this.$transitions=e.router.transitionService,this.baseHookOptions={transition:e,current:e.options().current}}return t.prototype.buildHooksForPhase=function(e){var t=this;return this.$transitions._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(fe,[]).filter(B)},t.prototype.buildHooks=function(t){var n=this,r=this.getMatchingHooks(t,this.treeChanges);return r?r.map(function(r){return r.matches(n.treeChanges)[t.criteriaMatchPath.name].map(function(i){var o=F({bind:r.bind,traceData:{hookType:t.name,context:i}},n.baseHookOptions),a=t.criteriaMatchPath.scope===e.TransitionHookScope.STATE?i.state:null,s=new We(n.transition,a,r,o);return{hook:r,node:i,transitionHook:s}})}).reduce(fe,[]).sort(function(e){return void 0===e&&(e=!1),function(t,n){var r=e?-1:1,i=(t.node.state.path.length-n.node.state.path.length)*r;return 0!==i?i:n.hook.priority-t.hook.priority}}(t.reverseSort)).map(function(e){return e.transitionHook}):[]},t.prototype.getMatchingHooks=function(t,n){var r=t.hookPhase===e.TransitionHookPhase.CREATE,i=r?[this.$transitions]:[this.transition,this.$transitions];return i.map(function(e){return e.getHooks(t.name)}).filter(we(A,"broken event named: "+t.name)).reduce(fe,[]).filter(function(e){return e.matches(n)})},t}(),Ye=function(){function e(e){this.pattern=/.*/,this.inherit=!0,F(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new function(e,t){var n=this;function r(e){return A(e)?e:w(e)?[e]:[]}function i(e,n){return function(i){if(A(i)&&0===i.length)return i;var o=r(i),a=de(o,e);return!0===n?0===ce(a,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===t?e[0]:e;default:return e}}(a)}}function o(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(t){var r=e[t].bind(e),a="equals"===t?o:i;n[t]=a(r)}),F(this,{dynamic:e.dynamic,name:e.name,pattern:e.pattern,inherit:e.inherit,is:i(e.is.bind(e),!0),$arrayMode:t})}(this,e)},e}(),Ke=Object.prototype.hasOwnProperty,Je=function(e){return 0===["value","type","squash","array","dynamic"].filter(Ke.bind(e||{})).length};!function(e){e[e.PATH=0]="PATH",e[e.SEARCH=1]="SEARCH",e[e.CONFIG=2]="CONFIG"}(e.DefType||(e.DefType={}));var Qe=function(){function t(t,n,r,i,a){r=function(e){return e=Je(e)&&{value:e}||e,F(e,{$$fn:x(e.value)?e.value:function(){return e.value}})}(r),n=function(t,n,r,i,o){if(t.type&&n&&"string"!==n.name)throw new Error("Param '"+i+"' has two type configurations.");if(t.type&&n&&"string"===n.name&&o.type(t.type))return o.type(t.type);if(n)return n;if(!t.type){var a=r===e.DefType.CONFIG?"any":r===e.DefType.PATH?"path":r===e.DefType.SEARCH?"query":"string";return o.type(a)}return t.type instanceof Ye?t.type:o.type(t.type)}(r,n,i,t,a.paramTypes);var s=function(){var n={array:i===e.DefType.SEARCH&&"auto"},o=t.match(/\[\]$/)?{array:!0}:{};return F(n,o,r).array}();n=s?n.$asArray(s,i===e.DefType.SEARCH):n;var c=void 0!==r.value||i===e.DefType.SEARCH,l=w(r.dynamic)?!!r.dynamic:!!n.dynamic,u=w(r.raw)?!!r.raw:!!n.raw,d=function(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!w(r)||null==r)return n;if(!0===r||O(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(r,c,a.defaultSquashPolicy()),p=function(e,t,n,r){var i,a,s=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}];return i=A(e.replace)?e.replace:[],O(r)&&i.push({from:r,to:void 0}),a=de(i,o("from")),ce(s,function(e){return-1===a.indexOf(e.from)}).concat(i)}(r,s,c,d),h=w(r.inherit)?!!r.inherit:!!n.inherit;F(this,{id:t,type:n,location:i,isOptional:c,dynamic:l,raw:u,squash:d,replace:p,inherit:h,array:s,config:r})}return t.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},t.prototype.value=function(e){var t=this;return e=function(e){var n=de(ce(t.replace,a("from",e)),o("to"));return n.length?n[0]:e}(e),w(e)?this.type.$normalize(e):function(){if(!R.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=R.$injector.invoke(t.config.$$fn);if(null!==e&&void 0!==e&&!t.type.is(e))throw new Error("Default value ("+e+") for parameter '"+t.id+"' is not an instance of ParamType ("+t.type.name+")");return e}()},t.prototype.isSearch=function(){return this.location===e.DefType.SEARCH},t.prototype.validates=function(e){if((!w(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(O(n)&&!this.type.pattern.exec(n))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t.values=function(e,t){return void 0===t&&(t={}),e.map(function(e){return[e.id,e.value(t[e.id])]}).reduce(Oe,{})},t.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},t.equals=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===t.changed(e,n,r).length},t.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(he,!0)},t}(),Xe=function(){function e(t){if(t instanceof e){var n=t;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=F({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=t;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map(function(e){return e.clone()})}}return e.prototype.applyRawParams=function(e){return this.paramValues=this.paramSchema.reduce(function(t,n){return Oe(t,function(t){return[t.id,t.value(e[t.id])]}(n))},{}),this},e.prototype.parameter=function(e){return le(this.paramSchema,a("id",e))},e.prototype.equals=function(e,t){var n=this;return void 0===t&&(t=this.paramSchema.map(function(e){return e.id})),this.state===e.state&&t.map(function(t){return n.parameter(t).type.equals(n.paramValues[t],e.paramValues[t])}).reduce(he,!0)},e.clone=function(t){return new e(t)},e.matching=function(e,t,n){void 0===n&&(n=!0);for(var r=[],i=0;i<e.length&&i<t.length;i++){var o=e[i],a=t[i];if(o.state!==a.state)break;var s=Qe.changed(o.paramSchema,o.paramValues,a.paramValues).filter(function(e){return!(n&&e.dynamic)});if(s.length)break;r.push(o)}return r},e}(),Ze=function(){function e(){}return e.makeTargetState=function(e){var t=Ee(e).state;return new Ue(t,t,e.map(o("paramValues")).reduce(ne,{}))},e.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new Xe(e).applyRawParams(t)})},e.buildToPath=function(t,n){var r=e.buildPath(n);return n.options().inherit?e.inheritParams(t,r,Object.keys(n.params())):r},e.applyViewConfigs=function(t,n,r){n.filter(function(e){return z(r,e.state)}).forEach(function(r){var i=pe(r.state.views||{}),o=e.subPath(n,function(e){return e===r}),a=i.map(function(e){return t.createViewConfig(o,e)});r.views=a.reduce(fe,[])})},e.inheritParams=function(e,t,n){void 0===n&&(n=[]);var r=e.map(function(e){return e.paramSchema}).reduce(fe,[]).filter(function(e){return!e.inherit}).map(o("id"));return t.map(function(t){var i=F({},t&&t.paramValues),o=oe(i,n);i=ae(i,n);var s=ae(function(e,t){var n=le(e,a("state",t));return F({},n&&n.paramValues)}(e,t.state)||{},r),c=F(i,s,o);return new Xe(t.state).applyRawParams(c)})},e.treeChanges=function(e,t,n){for(var r,i,a,s,l,u=0,d=Math.min(e.length,t.length),p=function(e,t){return e.equals(t,function(e){return e.parameters({inherit:!1}).filter(c(o("dynamic"))).map(o("id"))}(e.state))};u<d&&e[u].state!==n&&p(e[u],t[u]);)u++;i=(r=e).slice(0,u),a=r.slice(u);var h=i.map(function(e,n){var r=Xe.clone(e);return r.paramValues=t[n].paramValues,r});return s=t.slice(u),l=h.concat(s),{from:r,to:l,retained:i,exiting:a,entering:s}},e.subPath=function(e,t){var n=le(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},e}();Ze.paramValues=function(e){return e.reduce(function(e,t){return F(e,t.paramValues)},{})};var et={when:"LAZY",async:"WAIT"},tt=function(){function e(t,n,r,i,o){if(this.resolved=!1,this.promise=void 0,t instanceof e)F(this,t);else if($(n)){if(null==t||void 0==t)throw new Error("new Resolvable(): token argument is required");if(!$(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=t,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?R.$q.when(this.data):void 0}else if(E(t)&&t.token&&$(t.resolveFn)){var a=t;return new e(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return e.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||et.when,async:t.async||n.async||et.async}},e.prototype.resolve=function(e,t){var n=this,r=R.$q,i=e.findNode(this),o=i&&i.state,a="RXWAIT"===this.getPolicy(o).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:B;return this.promise=r.when().then(function(){return r.all(e.getDependencies(n).map(function(n){return n.get(e,t)}))}).then(function(e){return n.resolveFn.apply(null,e)}).then(a).then(function(e){return n.data=e,n.resolved=!0,Fe.traceResolvableResolved(n,t),n.data})},e.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},e.prototype.toString=function(){return"Resolvable(token: "+mn(this.token)+", requires: ["+this.deps.map(mn)+"])"},e.prototype.clone=function(){return new e(this)},e}();tt.fromData=function(e,t){return new tt(e,function(){return t},null,null,t)};var nt={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},rt=nt.when,it=[rt.EAGER,rt.LAZY],ot=[rt.EAGER],at="Native Injector",st=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(be,[])},e.prototype.getResolvable=function(e){var t=this._path.map(function(e){return e.resolvables}).reduce(fe,[]).filter(function(t){return t.token===e});return Ee(t)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(Ze.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=le(this._path,a("state",t)),r=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===r.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,t){var n=this;void 0===e&&(e="LAZY");var r=z(it,e)?e:"LAZY",i=r===nt.when.EAGER?ot:it;Fe.traceResolvePath(this._path,e,t);var o=function(e,t){return function(r){return z(e,n.getPolicy(r)[t])}},a=this._path.reduce(function(e,r){var a=r.resolvables.filter(o(i,"when")),s=a.filter(o(["NOWAIT"],"async")),l=a.filter(c(o(["NOWAIT"],"async"))),u=n.subContext(r.state),d=function(e){return e.get(u,t).then(function(t){return{token:e.token,value:t}})};return s.forEach(d),e.concat(l.map(d))},[]);return R.$q.all(a)},e.prototype.injector=function(){return this._injector||(this._injector=new ct(this))},e.prototype.findNode=function(e){return le(this._path,function(t){return z(t.resolvables,e)})},e.prototype.getDependencies=function(e){var t=this,n=this.findNode(e),r=Ze.subPath(this._path,function(e){return e===n})||this._path,i=r.reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(t){return t!==e});return e.deps.map(function(e){var n=i.filter(function(t){return t.token===e});if(n.length)return Ee(n);var r=t.injector().getNative(e);if(!r)throw new Error("Could not find Dependency Injection token: "+mn(e));return new tt(e,function(){return r},[],r)})},e}(),ct=function(){function e(e){this.context=e,this.native=this.get(at)||R.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+mn(t.token));return t.data}return this.native&&this.native.get(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):R.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}();function lt(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var ut=function(){function t(e,n,r,i){var o=this;this.config=i,this._cache={path:[this],parent:null,pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=e,this.config=ee(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:B});for(var s,c,l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],v=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(le(o._params,a("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},f=function(t,r){var i=t[2]||t[3],a=r?t[4]:t[4]||("*"===t[1]?".*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:e.substring(p,t.index),type:a?n.type(a)||function(e){return G(n.type(r?"query":"path"),{pattern:new RegExp(e,o.config.caseInsensitive?"i":void 0)})}(a):null}};(s=u.exec(e))&&!((c=f(s,!1)).segment.indexOf("?")>=0);)v(c.id),this._params.push(r.fromPath(c.id,c.type,this.config.paramMap(c.cfg,!1))),this._segments.push(c.segment),h.push([c.segment,Ee(this._params)]),p=u.lastIndex;var m=(l=e.substring(p)).indexOf("?");if(m>=0){var g=l.substring(m);if(l=l.substring(0,m),g.length>0)for(p=0;s=d.exec(g);)c=f(s,!0),v(c.id),this._params.push(r.fromSearch(c.id,c.type,this.config.paramMap(c.cfg,!0))),p=u.lastIndex}this._segments.push(l),this._compiled=h.map(function(e){return lt.apply(null,e)}).concat(lt(l))}return t.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},t.prototype.isRoot=function(){return this._cache.path[0]===this},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(e,t,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r={});var a=function(e,t,n){return e[t]=e[t]||n()}(this._cache,"pattern",function(){return new RegExp(["^",ye(i._cache.path.map(o("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(e);if(!a)return null;var s=this.parameters(),c=s.filter(function(e){return!e.isSearch()}),l=s.filter(function(e){return e.isSearch()}),u=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),d={};if(u!==a.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function p(e){var t=function(e){return e.split("").reverse().join("")},n=t(e).split(/-(?!\\)/),r=de(n,t);return de(r,function(e){return e.replace(/\\-/g,"-")}).reverse()}for(var h=0;h<u;h++){for(var v=c[h],f=a[h+1],m=0;m<v.replace.length;m++)v.replace[m].from===f&&(f=v.replace[m].to);f&&!0===v.array&&(f=p(f)),w(f)&&(f=v.type.decode(f)),d[v.id]=v.value(f)}return l.forEach(function(e){for(var n=t[e.id],r=0;r<e.replace.length;r++)e.replace[r].from===n&&(n=e.replace[r].to);w(n)&&(n=e.type.decode(n)),d[e.id]=e.value(n)}),n&&(d["#"]=n),d},t.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:ye(this._cache.path.map(o("_params")))},t.prototype.parameter=function(e,t){void 0===t&&(t={});var n=this._cache.parent;return le(this._params,a("id",e))||!1!==t.inherit&&n&&n.parameter(e,t)||null},t.prototype.validates=function(e){var t=this;return $e(e||{}).map(function(e){var n=e[0],r=e[1];return function(e,t){return!e||e.validates(t)}(t.parameter(n),r)}).reduce(he,!0)},t.prototype.format=function(e){if(void 0===e&&(e={}),!this.validates(e))return null;var n=this._cache.path,r=n.map(t.pathSegmentsAndParams).reduce(fe,[]),i=n.map(t.queryParams).reduce(fe,[]);function o(t){var n=t.value(e[t.id]),r=t.isDefaultValue(n),i=!!r&&t.squash,o=t.type.encode(n);return{param:t,value:n,isDefaultValue:r,squash:i,encoded:o}}var a=r.reduce(function(e,n){if(O(n))return e+n;var r=o(n),i=r.squash,a=r.encoded,s=r.param;return!0===i?e.match(/\/$/)?e.slice(0,-1):e:O(i)?e+i:!1!==i?e:null==a?e:A(a)?e+de(a,t.encodeDashes).join("-"):s.raw?e+a:e+encodeURIComponent(a)},""),s=i.map(function(e){var t=o(e),n=t.squash,r=t.encoded,i=t.isDefaultValue;if(!(null==r||i&&!1!==n)&&(A(r)||(r=[r]),0!==r.length))return e.raw||(r=de(r,encodeURIComponent)),r.map(function(t){return e.id+"="+t})}).filter(B).reduce(fe,[]).join("&");return a+(s?"?"+s:"")+(e["#"]?"#"+e["#"]:"")},t.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},t.pathSegmentsAndParams=function(t){var n=t._segments,r=t._params.filter(function(t){return t.location===e.DefType.PATH});return Te(n,r.concat(void 0)).reduce(fe,[]).filter(function(e){return""!==e&&w(e)})},t.queryParams=function(t){return t._params.filter(function(t){return t.location===e.DefType.SEARCH})},t.compare=function(e,n){var r=bn("/"),i=function(e){return e._cache.path.map(t.pathSegmentsAndParams).reduce(fe,[]).reduce(yn,[]).map(function(e){return O(e)?r(e):e}).reduce(fe,[])},o=i(e),a=i(n),s=g([[v("/"),f(1)],[O,f(2)],[h(Qe),f(3)]]),c=Te(o.map(s),a.map(s));return c.reduce(function(e,t){return 0!==e?e:t[0]-t[1]},0)},t}();ut.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/;var dt=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=oe(e.prototype,"hash","string","query","path","int","bool","date","json","any"),this.types=G(de(this.defaultTypes,function(e,t){return new Ye(F({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!w(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new Ye(F({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");F(this.types[e.name],R.$injector.invoke(e.def))}},e}();!function(){var e=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:h(String),pattern:/.*/,equals:function(e,t){return e==t}};return F({},n,e)};F(dt.prototype,{string:e({}),path:e({pattern:/[^/]*/}),query:e({}),hash:e({inherit:!1}),int:e({decode:function(e){return parseInt(e,10)},is:function(e){return!C(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:e({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:h(Boolean),pattern:/0|1/}),date:e({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return["getFullYear","getMonth","getDate"].reduce(function(n,r){return n&&e[r]()===t[r]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:e({encode:M,decode:N,is:h(Object),equals:U,pattern:/[^/]*/}),any:e({encode:B,decode:B,is:function(){return!0},equals:U})})}();var pt=function(){function t(){var t=this;this.paramTypes=new dt,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(e){return F({strict:t._isStrictMode,caseInsensitive:t._isCaseInsensitive},e)},this.paramFactory={fromConfig:function(n,r,i){return new Qe(n,r,i,e.DefType.CONFIG,t)},fromPath:function(n,r,i){return new Qe(n,r,i,e.DefType.PATH,t)},fromSearch:function(n,r,i){return new Qe(n,r,i,e.DefType.SEARCH,t)}},F(this,{UrlMatcher:ut,Param:Qe})}return t.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=w(e)?e:this._isCaseInsensitive},t.prototype.strictMode=function(e){return this._isStrictMode=w(e)?e:this._isStrictMode},t.prototype.defaultSquashPolicy=function(e){if(w(e)&&!0!==e&&!1!==e&&!O(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=w(e)?e:this._defaultSquashPolicy},t.prototype.compile=function(e,t){return new ut(e,this.paramTypes,this.paramFactory,this._getConfig(t))},t.prototype.isMatcher=function(e){if(!E(e))return!1;var t=!0;return L(ut.prototype,function(n,r){$(n)&&(t=t&&w(e[r])&&$(e[r]))}),t},t.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return w(t)?this:r},t.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},t.prototype.dispose=function(){this.paramTypes.dispose()},t}(),ht=function(){function e(e){F(this,e)}return e.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},e.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},e.prototype.root=function(){return this.parent&&this.parent.root()||this},e.prototype.parameters=function(e){var t=(e=ee(e,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[];return t.concat(pe(this.params)).filter(function(t){return!e.matchingKeys||e.matchingKeys.hasOwnProperty(t.id)})},e.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||le(pe(this.params),a("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},e.prototype.toString=function(){return this.fqn()},e}(),vt=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,r=g([[O,function(e){return r(n.compile(e))}],[h(ut),function(e){return n.fromUrlMatcher(e,t)}],[h(ht),function(e){return n.fromState(e,n.router)}],[h(RegExp),function(e){return n.fromRegExp(e,t)}],[$,function(e){return new mt(e,t)}]]),i=r(e);if(!i)throw new Error("invalid 'what' in when()");return i},e.prototype.fromUrlMatcher=function(e,t){var n=t;O(t)&&(t=this.router.urlMatcherFactory.compile(t)),h(ut)(t)&&(n=function(e){return t.format(e)});var r={urlMatcher:e,matchPriority:function(t){var n=e.parameters().filter(function(e){return e.isOptional});return n.length?n.filter(function(e){return t[e.id]}).length/n.length:1e-6},type:"URLMATCHER"};return F(new mt(function(t){var n=e.exec(t.path,t.search,t.hash);return e.validates(n)&&n},n),r)},e.prototype.fromState=function(e,t){var n={state:e,type:"STATE"};return F(this.fromUrlMatcher(e.url,function(n){var r=t.stateService,i=t.globals;r.href(e,n)!==r.href(i.current,i.params)&&r.transitionTo(e,n,{inherit:!0,source:"url"})}),n)},e.prototype.fromRegExp=function(e,t){if(e.global||e.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=O(t)?function(e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}:t,r={regexp:e,type:"REGEXP"};return F(new mt(function(t){return e.exec(t.path)},n),r)},e}();vt.isUrlRule=function(e){return e&&["type","match","handler"].every(function(t){return w(e[t])})};var ft,mt=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||B},gt=o("urlMatcher");ft=xe(Ie(i(o("priority"),function(e){return-e})),Ie(i(o("type"),function(e){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[e]})),function(e,t){return gt(e)&&gt(t)?ut.compare(gt(e),gt(t)):0},Ie(o("$id"),z(["REGEXP","RAW","OTHER"])));var bt=function(){function e(t){this._sortFn=ft,this._rules=[],this.interceptDeferred=!1,this._id=0,this._router=t,this.urlRuleFactory=new vt(t),H(f(e.prototype),this,f(this))}return e.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},e.prototype.sort=function(e){this._rules.sort(this._sortFn=e||this._sortFn)},e.prototype.match=function(e){var t=this;e=F({path:"",search:{},hash:""},e);var n=this.rules();this._otherwiseFn&&n.push(this._otherwiseFn);for(var r,i=function(n){var r=n.match(e,t._router);return r&&{match:r,rule:n,weight:n.matchPriority(r)}},o=0;o<n.length&&(!r||0===this._sortFn(n[o],r.rule));o++){var a=i(n[o]);r=!r||a&&a.weight>r.weight?a:r}return r},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this._router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i),a=g([[O,function(e){return n.url(e)}],[Ue.isDef,function(e){return r.go(e.state,e.params,e.options)}],[h(Ue),function(e){return r.go(e.state(),e.params(),e.options())}]]);a(o&&o.rule.handler(o.match,i,t))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(e){return t.sync(e)});this._stopFn&&this._stopFn(),delete this._stopFn},e.prototype.update=function(e){var t=this._router.locationService;e?this.location=t.path():t.path()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var r=n&&!!n.replace;this._router.urlService.url(e.format(t||{}),r)},e.prototype.href=function(e,t,n){if(!e.validates(t))return null;var r=e.format(t);n=n||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=function(e,t,n,r){return"/"===r?e:t?r.slice(0,-1)+e:n?r.slice(1)+e:e}(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port();return s=80===s||443===s?"":":"+s,[i.protocol(),"://",i.host(),s,a,r].join("")},e.prototype.rule=function(e){var t=this;if(!vt.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this.sort(),function(){return t.removeRule(e)}},e.prototype.removeRule=function(e){K(this._rules,e),this.sort()},e.prototype.rules=function(){return this._rules.slice()},e.prototype.otherwise=function(e){if(!($(e)||O(e)||h(Ue)(e)||Ue.isDef(e)))throw new Error("'redirectTo' must be a string, function, TargetState, or have a state: 'newtarget' property");var t=$(e)?e:f(e);this._otherwiseFn=this.urlRuleFactory.create(f(!0),t),this.sort()},e.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return w(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e}(),yt=function(e){return new st(e.treeChanges().to).resolvePath("EAGER",e).then(W)},St=function(e,t){return new st(e.treeChanges().to).subContext(t).resolvePath("LAZY",e).then(W)},wt=function(e){var t=R.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(W)},kt=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}},Ct=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)},$t=function(e){var t=e.to().redirectTo;if(t){var n=e.router.stateService;return $(t)?R.$q.when(t(e)).then(r):r(t)}function r(t){if(t)return t instanceof Ue?t:O(t)?n.target(t,e.params(),e.options()):t.state||t.params?n.target(t.state||e.to(),t.params||e.params(),e.options()):void 0}};function Tt(e){return function(t,n){var r=n[e];return r(t,n)}}var Ot=Tt("onExit"),Et=Tt("onRetain"),At=Tt("onEnter"),Pt=function(e){var t=e.router,n=e.entering().filter(function(e){return!!e.lazyLoad}).map(function(t){return It(e,t)});return R.$q.all(n).then(function(){if("url"!==e.originalTransition().options().source){var n=e.targetState();return t.stateService.target(n.identifier(),n.params(),n.options())}var r=t.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,s=i.match;return t.stateService.target(a,s,e.options())}t.urlRouter.sync()})};function It(e,t){var n=t.lazyLoad,r=n._promise;return r||(r=n._promise=R.$q.when(n(e,t)).then(function(t){return t&&Array.isArray(t.states)&&t.states.forEach(function(t){return e.router.stateRegistry.register(t)}),t}).then(function(e){return delete t.lazyLoad,delete t.$$state().lazyLoad,delete n._promise,e},function(e){return delete n._promise,R.$q.reject(e)})),r}var xt=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=We.HANDLE_RESULT),void 0===a&&(a=We.REJECT_ERROR),void 0===s&&(s=!0),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.rejectIfSuperseded=s},_t={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Dt=function(){function t(e){this._router=e,this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=H(f(this),{},f(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineDefaultPaths(),this._defineDefaultEvents(),this._registerDefaultTransitionHooks()}return t.prototype.onCreate=function(e,t,n){},t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.dispose=function(e){delete e.globals.transition,pe(this._registeredHooks).forEach(function(e){return e.forEach(function(t){t._deregistered=!0,K(e,t)})})},t.prototype.create=function(e,t){return new cn(e,t,this._router)},t.prototype._defineDefaultEvents=function(){var t=e.TransitionHookPhase,n=We,r=this._criteriaPaths;this._defineEvent("onCreate",t.CREATE,0,r.to,!1,n.IGNORE_RESULT,n.THROW_ERROR,!1),this._defineEvent("onBefore",t.BEFORE,0,r.to,!1,n.HANDLE_RESULT),this._defineEvent("onStart",t.ASYNC,0,r.to),this._defineEvent("onExit",t.ASYNC,100,r.exiting,!0),this._defineEvent("onRetain",t.ASYNC,200,r.retained),this._defineEvent("onEnter",t.ASYNC,300,r.entering),this._defineEvent("onFinish",t.ASYNC,400,r.to),this._defineEvent("onSuccess",t.SUCCESS,0,r.to,!1,n.IGNORE_RESULT,n.LOG_ERROR,!1),this._defineEvent("onError",t.ERROR,0,r.to,!1,n.IGNORE_RESULT,n.LOG_ERROR,!1)},t.prototype._defineDefaultPaths=function(){var t=e.TransitionHookScope.STATE,n=e.TransitionHookScope.TRANSITION;this._definePathType("to",n),this._definePathType("from",n),this._definePathType("exiting",t),this._definePathType("retained",t),this._definePathType("entering",t)},t.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=We.HANDLE_RESULT),void 0===a&&(a=We.REJECT_ERROR),void 0===s&&(s=!0);var c=new xt(e,t,n,r,i,o,a,s);this._eventTypes.push(c),qe(this,this,c)},t.prototype._getEvents=function(e){var t=w(e)?this._eventTypes.filter(function(t){return t.hookPhase===e}):this._eventTypes.slice();return t.sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},t.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},t.prototype._getPathTypes=function(){return this._criteriaPaths},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype._registerDefaultTransitionHooks=function(){var e=this._deregisterHookFns;e.redirectTo=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},$t)}(this),e.onExit=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},Ot)}(this),e.onRetain=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},Et)}(this),e.onEnter=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},At)}(this),e.eagerResolve=function(e){return e.onStart({},yt,{priority:1e3})}(this),e.lazyResolve=function(e){return e.onEnter({entering:f(!0)},St,{priority:1e3})}(this),e.loadViews=function(e){return e.onFinish({},wt)}(this),e.activateViews=function(e){return e.onSuccess({},kt)}(this),e.updateUrl=function(e){return e.onSuccess({},Ct,{priority:9999})}(this),e.lazyLoad=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},Pt)}(this)},t}(),Rt=function(){function e(){var e=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs}}}return e.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},e.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},e.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return A(r)?r:[r]},e.prototype.deactivateViewConfig=function(e){Fe.traceViewServiceEvent("<- Removing",e),K(this._viewConfigs,e)},e.prototype.activateViewConfig=function(e){Fe.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},e.prototype.sync=function(){var e=this,t=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(Oe,{});function r(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var i=n(function(e,t,n,r){return t*(e(n)-e(r))});this._uiViews.sort(i(function(e){return e.fqn.split(".").length},1)).map(function(n){var o=e._viewConfigs.filter(function(e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=e.fqn.split(".");if(!U(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,s=o.slice(0,a).join("."),c=t[s].creationContext;return r.$uiViewContextAnchor===(c&&c.name)}}(n));return o.length>1&&o.sort(i(r,-1)),[n,o[0]]}).forEach(function(t){var n=t[0],r=t[1];-1!==e._uiViews.indexOf(n)&&n.configUpdated(r)})},e.prototype.registerUIView=function(e){Fe.traceViewServiceUIViewEvent("-> Registering",e);var t=this._uiViews;return t.filter(function(t){return t.fqn===e.fqn}).length&&Fe.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",e),t.push(e),this.sync(),function(){var n=t.indexOf(e);-1!==n?(Fe.traceViewServiceUIViewEvent("<- Deregistering",e),K(t)(e)):Fe.traceViewServiceUIViewEvent("Tried removing non-registered uiView",e)}},e.prototype.available=function(){return this._uiViews.map(o("fqn"))},e.prototype.active=function(){return this._uiViews.filter(o("$config")).map(o("name"))},e.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=O(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);if(o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)){var a=i.split(".").reduce(function(e,t){return e.parent},e);i=a.name}return{uiViewName:r,uiViewContextAnchor:i}},e}(),jt=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t){if(e||""===e){var n=O(e),r=n?e:e.name;this.isRelative(r)&&(r=this.resolvePath(r,t));var i=this._states[r];if(i&&(n||!(n||i!==e&&i.self!==e)))return i;if(n){var o=pe(this._states).filter(function(e){return new Re(e.name).matches(r)});return o.length>1&&console.log("stateMatcher.find: Found multiple matches for "+r+" using glob: ",o.map(function(e){return e.name})),o[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=0,o=r.length,a=n;i<o;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},e}();function Nt(e){return e.name}function Mt(e){return e.self.$$state=function(){return e},e.self}function Vt(e){return e.parent&&e.parent.data&&(e.data=e.self.data=G(e.parent.data,e.data)),e.data}var Lt=function(e,t){return function(n){var r=n;r&&r.url&&r.name&&r.name.match(/\.\*\*$/)&&(r.url+="{remainder:any}");var i=function(e){if(!O(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(r.url),o=n.parent,a=i?e.compile(i.val,{params:n.params||{},paramMap:function(e,t){return!1===r.reloadOnSearch&&t&&(e=F(e||{},{dynamic:!0})),e}}):r.url;if(!a)return null;if(!e.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+n+"'");return i&&i.root?a:(o&&o.navigable||t()).url.append(a)}},Ft=function(e){return function(t){return!e(t)&&t.url?t:t.parent?t.parent.navigable:null}},Ut=function(e){return function(t){var n=t.url&&t.url.parameters({inherit:!1})||[],r=pe(ue(ae(t.params||{},n.map(o("id"))),function(t,n){return e.fromConfig(n,null,t)}));return n.concat(r).map(function(e){return[e.id,e]}).reduce(Oe,{})}};function Bt(e){return e.parent?e.parent.path.concat(e):[e]}function Wt(e){var t=e.parent?F({},e.parent.includes):{};return t[e.name]=!0,t}function Ht(e){var t=function(e){return e.provide||e.token},n=g([[o("resolveFn"),function(e){return new tt(t(e),e.resolveFn,e.deps,e.policy)}],[o("useFactory"),function(e){return new tt(t(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[o("useClass"),function(e){return new tt(t(e),function(){return new e.useClass},[],e.policy)}],[o("useValue"),function(e){return new tt(t(e),function(){return e.useValue},[],e.policy,e.useValue)}],[o("useExisting"),function(e){return new tt(t(e),B,[e.useExisting],e.policy)}]]),r=g([[i(o("val"),O),function(e){return new tt(e.token,B,[e.val],e.policy)}],[i(o("val"),A),function(e){return new tt(e.token,Ee(e.val),e.val.slice(0,-1),e.policy)}],[i(o("val"),$),function(e){return new tt(e.token,e.val,function(e){var t=R.$injector;return e.$inject||t&&t.annotate(e,t.strictDi)||"deferred"}(e.val),e.policy)}]]),a=g([[h(tt),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},n],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},n],[function(e){return!!(e&&e.val&&(O(e.val)||A(e.val)||$(e.val)))},r],[f(!0),function(e){throw new Error("Invalid resolve value: "+mn(e))}]]),s=e.resolve,c=A(s)?s:function(e,t){return Object.keys(e||{}).map(function(n){return{token:n,val:e[n],deps:void 0,policy:t[n]}})}(s,e.resolvePolicy||{});return c.map(a)}var Gt=function(){function e(e,t){this.matcher=e;var n=this,r=function(){return e.find("")},i=function(e){return""===e.name};this.builders={name:[Nt],self:[Mt],parent:[function(t){return i(t)?null:e.find(n.parentName(t))||r()}],data:[Vt],url:[Lt(t,r)],navigable:[Ft(i)],params:[Ut(t.paramFactory)],views:[],path:[Bt],includes:[Wt],resolvables:[Ht]}}return e.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return O(e)&&!w(t)?r.length>1?r:r[0]:O(e)&&$(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,r=this.parentName(e);if(r&&!t.find(r))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce(function(e,t){return function(n){return t(n,e)}},W);e[i]=o(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if(n.length>1){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");var r=n.pop();return"**"===r&&n.pop(),n.join(".")}return e.parent?O(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=O(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}(),qt=function(){function e(e,t,n,r,i){this.$registry=e,this.$urlRouter=t,this.states=n,this.builder=r,this.listeners=i,this.queue=[]}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.states,n=this.queue,r=G(new ht,F({},e,{self:e,resolve:e.resolve||[],toString:function(){return e.name}}));if(!O(r.name))throw new Error("State must have a valid name");if(t.hasOwnProperty(r.name)||-1!==se(n,"name").indexOf(r.name))throw new Error("State '"+r.name+"' is already defined");return n.push(r),this.flush(),r},e.prototype.flush=function(){for(var e=this.queue,t=this.states,n=this.builder,r=[],i=[],o={};e.length>0;){var a=e.shift(),s=n.build(a),c=i.indexOf(a);if(s){var l=this.$registry.get(a.name);if(l&&l.name===a.name)throw new Error("State '"+a.name+"' is already defined");l&&l.name===a.name+".**"&&this.$registry.deregister(l),t[a.name]=a,this.attachRoute(a),c>=0&&i.splice(c,1),r.push(a)}else{var u=o[a.name];if(o[a.name]=e.length,c>=0&&u===e.length)return e.push(a),t;c<0&&i.push(a),e.push(a)}}return r.length&&this.listeners.forEach(function(e){return e("registered",r.map(function(e){return e.self}))}),t},e.prototype.attachRoute=function(e){!e.abstract&&e.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(e))},e}(),zt=function(){function e(e){this._router=e,this.states={},this.listeners=[],this.matcher=new jt(this.states),this.builder=new Gt(this.matcher,e.urlMatcherFactory),this.stateQueue=new qt(this,e.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){var e=this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0});e.navigable=null},e.prototype.dispose=function(){var e=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(t){return e.get(t)&&e.deregister(t)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){K(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var t=this,n=this.get().map(function(e){return e.$$state()}),r=function(e){var t=n.filter(function(t){return-1!==e.indexOf(t.parent)});return 0===t.length?t:t.concat(r(t))},i=r([e]),o=[e].concat(i).reverse();return o.forEach(function(e){var n=t._router.urlRouter;n.rules().filter(a("state",e)).forEach(n.removeRule.bind(n)),delete t.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}(),Yt=function(){function t(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof Ne?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var n=Object.keys(t.prototype).filter(c(z(["current","$current","params","transition"])));H(f(t.prototype),this,f(this),n)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.defaultErrorHandler(W),this.invalidCallbacks=[]},t.prototype._handleInvalidTargetState=function(e,t){var n=this,r=Ze.makeTargetState(e),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),s=new je(this.invalidCallbacks.slice()),c=new st(e).injector(),l=function(e){if(e instanceof Ue){var t=e;return(t=n.target(t.identifier(),t.params(),t.options())).valid()?o()!==a?Ne.superseded().toPromise():n.transitionTo(t.identifier(),t.params(),t.options()):Ne.invalid(t.error()).toPromise()}};return function e(){var n=s.dequeue();if(void 0===n)return Ne.invalid(t.error()).toPromise();var i=R.$q.when(n(t,r,c));return i.then(l).then(function(t){return t||e()})}()},t.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){K(this.invalidCallbacks)(e)}.bind(this)},t.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!w(e)||e,inherit:!1,notify:!1})},t.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},i=ee(n,r,_t);return this.transitionTo(e,t,i)},t.prototype.target=function(e,t,n){if(void 0===n&&(n={}),E(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(O(n.reload)?n.reload:n.reload.name)+"'");var i=r.matcher.find(e,n.relative);return new Ue(e,i,t,n)},t.prototype.getCurrentPath=function(){var e=this,t=this.router.globals,n=t.successfulTransitions.peekTail();return n?n.treeChanges().to:[new Xe(e.router.stateRegistry.root())]},t.prototype.transitionTo=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r={});var o=this.router,a=o.globals,s=a.transitionHistory;r=ee(r,_t),r=F(r,{current:s.peekTail.bind(s)});var c=this.target(t,n,r),l=this.getCurrentPath();if(!c.exists())return this._handleInvalidTargetState(l,c);if(!c.valid())return De(c.error());var u=function(t){return function(n){if(n instanceof Ne){if(n.type===e.RejectType.IGNORED)return o.urlRouter.update(),R.$q.when(a.current);var r=n.detail;if(n.type===e.RejectType.SUPERSEDED&&n.redirected&&r instanceof Ue){var s=t.redirect(r);return s.run().catch(u(s))}n.type===e.RejectType.ABORTED&&o.urlRouter.update()}var c=i.defaultErrorHandler();return c(n),R.$q.reject(n)}},d=this.router.transitionService.create(l,c),p=d.run().catch(u(d));return _e(p),F(p,{transition:d})},t.prototype.is=function(e,t,n){n=ee(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(w(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return Qe.equals(i,Qe.values(i,t),this.params)}},t.prototype.includes=function(e,t,n){n=ee(n,{relative:this.$current});var r=O(e)&&Re.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if(w(i)){if(!w(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return Qe.equals(a,Qe.values(a,t),this.params)}},t.prototype.href=function(e,t,n){var r={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=ee(n,r),t=t||{};var i=this.router.stateRegistry.matcher.find(e,n.relative);if(!w(i))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,i));var o=i&&n.lossy?i.navigable:i;return o&&void 0!==o.url&&null!==o.url?this.router.urlRouter.href(o.url,Qe.values(i.parameters(),t),{absolute:n.absolute}):null},t.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},t.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},t.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=Ze.makeTargetState(r);return It(t=t||this.router.transitionService.create(r,i),n)},t}(),Kt=function(){function e(e){void 0===e&&(e={}),F(this,e)}return e.prototype.$inherit=function(e,t,n){var r,i=re(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var c in r)a.indexOf(r[c])>=0||(a.push(r[c]),o[r[c]]=this[r[c]]);return F({},o,e)},e}(),Jt=function(e){var t=this;this.params=new Kt,this.transitionHistory=new je([],1),this.successfulTransitions=new je([],1),e.onBefore({},function(e){t.transition=e,t.transitionHistory.enqueue(e),e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,V(e.params(),t.params)},{priority:1e4});var n=function(){t.transition===e&&(t.transition=null)};e.promise.then(n,n)})},Qt=function(e){return e.reduce(function(e,t){return e[t]=D(t),e},{dispose:W})},Xt=["url","path","search","hash","onChange"],Zt=["port","protocol","host","baseHref","html5Mode","hashPrefix"],en=["type","caseInsensitive","strictMode","defaultSquashPolicy"],tn=["sort","when","otherwise","rules","rule","removeRule"],nn=["deferIntercept","listen","sync","match"],rn=function(){function e(e,t){void 0===t&&(t=!0),this.router=e,this.rules={},this.config={};var n=function(){return e.locationService};H(n,this,n,Xt,t);var r=function(){return e.locationConfig};H(r,this.config,r,Zt,t);var i=function(){return e.urlMatcherFactory};H(i,this.config,i,en);var o=function(){return e.urlRouter};H(o,this.rules,o,tn),H(o,this,o,nn)}return e.prototype.url=function(e,t,n){},e.prototype.path=function(){},e.prototype.search=function(){},e.prototype.hash=function(){},e.prototype.onChange=function(e){},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.dispose=function(){},e.prototype.sync=function(e){},e.prototype.listen=function(e){},e.prototype.deferIntercept=function(e){},e.prototype.match=function(e){},e}();rn.locationServiceStub=Qt(Xt),rn.locationConfigStub=Qt(Zt);var on=0,an=function(){function e(e,t){void 0===e&&(e=rn.locationServiceStub),void 0===t&&(t=rn.locationConfigStub),this.locationService=e,this.locationConfig=t,this.$id=on++,this.viewService=new Rt,this.transitionService=new Dt(this),this.globals=new Jt(this.transitionService),this.urlMatcherFactory=new pt,this.urlRouter=new bt(this),this.stateRegistry=new zt(this),this.stateService=new Yt(this),this.urlService=new rn(this),this._disposables=[],this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(this.stateRegistry),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&$(e.dispose)?e.dispose(this):this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),K(t._disposables,e)}catch(e){}})},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:pe(this._plugins)},e}(),sn=o("self"),cn=function(){function t(t,n,r){var i=this;if(this._deferred=R.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this.isActive=function(){return i===i._options.current()},this.router=r,this._targetState=n,!n.valid())throw new Error(n.error());this._options=F({current:f(this)},n.options()),this.$id=r.transitionService._transitionCount++;var o=Ze.buildToPath(t,n);this._treeChanges=Ze.treeChanges(t,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this.hookBuilder().buildHooksForPhase(e.TransitionHookPhase.CREATE);We.runAllHooks(a),this.applyViewConfigs(r),this.applyRootResolvables(r)}return t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(t){return t.hookPhase!==e.TransitionHookPhase.CREATE}).forEach(function(e){return qe(t,t.router.transitionService,e)})},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});Ze.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},t.prototype.applyRootResolvables=function(e){var n=this,r=[new tt(an,function(){return e},[],void 0,e),new tt(t,function(){return n},[],void 0,this),new tt("$transition$",function(){return n},[],void 0,this),new tt("$stateParams",function(){return n.params()},[],void 0,this.params())],i=this._treeChanges.to[0],o=new st(this._treeChanges.to);o.addResolvables(r,i.state)},t.prototype.$from=function(){return Ee(this._treeChanges.from).state},t.prototype.$to=function(){return Ee(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!He(this.$to(),e.to)||e.from&&!He(this.$from(),e.from))},t.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(o("paramValues")).reduce(ne,{}))},t.prototype.injector=function(e,t){void 0===t&&(t="to");var n=this._treeChanges[t];return e&&(n=Ze.subPath(n,function(t){return t.state===e||t.state.name===e})),new st(n).injector()},t.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new st(this._treeChanges[e]).getTokens()},t.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=h(tt)(e)?e:new tt(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=le(r,function(e){return e.state.name===n}),o=new st(r);o.addResolvables([e],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return de(this._treeChanges.entering,o("state")).map(sn)},t.prototype.exiting=function(){return de(this._treeChanges.exiting,o("state")).map(sn).reverse()},t.prototype.retained=function(){return de(this._treeChanges.retained,o("state")).map(sn)},t.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(a("state",t)):n).map(o("views")).filter(B).reduce(fe,[])},t.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},t.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(++t>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&(r.location="replace");var i=F({},this.options(),e.options(),r);e=new Ue(e.identifier(),e.$state(),e.params(),i);var o=this.router.transitionService.create(this._treeChanges.from,e),a=this._treeChanges.entering,s=o._treeChanges.entering,l=Xe.matching(s,a).filter(c(function(e){return function(t){return e&&t.state.includes[e.name]}}(e.options().reloadState)));return l.forEach(function(e,t){e.resolvables=a[t].resolvables}),o},t.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length){var t=Te(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(ve,!1);if(!t){var n=e.to.map(function(e){return e.paramSchema}),r=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),i=r[0],o=r[1],a=Te(n,i,o);return a.map(function(e){var t=e[0],n=e[1],r=e[2];return Qe.changed(t,n,r)}).reduce(fe,[])}}},t.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(ve,!1)},t.prototype.ignored=function(){var e=this._changedParams();return!!e&&0===e.length},t.prototype.hookBuilder=function(){return new ze(this)},t.prototype.run=function(){var t=this,n=We.runAllHooks,r=this.hookBuilder(),i=this.router.globals;i.transitionHistory.enqueue(this);var o=r.buildHooksForPhase(e.TransitionHookPhase.BEFORE),a=We.runOnBeforeHooks(o);if(Ne.isTransitionRejectionPromise(a)){a.catch(function(){return 0});var s=a._transitionRejection;return this._deferred.reject(s),this.promise}if(!this.valid()){var c=new Error(this.error());return this._deferred.reject(c),this.promise}if(this.ignored())return Fe.traceTransitionIgnored(this),this._deferred.reject(Ne.ignored()),this.promise;Fe.traceTransitionStart(this);var l=r.buildHooksForPhase(e.TransitionHookPhase.ASYNC);return l.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},a).then(function(){Fe.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to());var i=r.buildHooksForPhase(e.TransitionHookPhase.SUCCESS);n(i)},function(i){Fe.traceError(i,t),t.success=!1,t._deferred.reject(i),t._error=i;var o=r.buildHooksForPhase(e.TransitionHookPhase.ERROR);n(o)}),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.error=function(){var e=this.$to();return e.self.abstract?"Cannot transition to abstract state '"+e.name+"'":Qe.validates(e.parameters(),this.params())?!1===this.success?this._error:void 0:"Param values not valid for state '"+e.name+"'"},t.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:ae(e,"#")},r=this.$id,i=E(e)?e.name:e,a=M(n(this._treeChanges.from.map(o("paramValues")).reduce(ne,{}))),s=this.valid()?"":"(X) ",c=E(t)?t.name:t,l=M(n(this.params()));return"Transition#"+r+"( '"+i+"'"+a+" -> "+s+"'"+c+"'"+l+" )"},t}();function ln(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function un(e,t){for(;t.length<e;)t+=" ";return t}function dn(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function pn(e){var t=hn(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function hn(e){var t=A(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}cn.diToken=cn;var vn=null,fn=function(e){var t=Ne.isTransitionRejectionPromise;return(vn=vn||g([[c(w),f("undefined")],[k,f("null")],[_,f("[Promise]")],[t,function(e){return e._transitionRejection.toString()}],[h(Ne),m("toString")],[h(cn),m("toString")],[h(tt),m("toString")],[x,pn],[f(!0),B]]))(e)};function mn(e){var t=[];return JSON.stringify(e,function(e,n){return function(e){if(E(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return fn(e)}(n)}).replace(/\\"/g,'"')}var gn=function(e){return function(t){if(!t)return["",""];var n=t.indexOf(e);return-1===n?[t,""]:[t.substr(0,n),t.substr(n+1)]}};function bn(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(B)}}function yn(e,t){return O(Ee(e))&&O(t)?e.slice(0,-1).concat(Ee(e)+t):ge(e,t)}var Sn=function(){function e(){}return e.prototype.dispose=function(e){},e}(),wn=Object.freeze({fromJson:N,toJson:M,copy:V,forEach:L,extend:F,equals:U,identity:B,noop:W,createProxyFunctions:H,inherit:G,inArray:z,_inArray:Y,removeFrom:K,_removeFrom:J,pushTo:Q,_pushTo:X,deregAll:Z,defaults:ee,merge:te,mergeR:ne,ancestors:re,pick:oe,omit:ae,pluck:se,filter:ce,find:le,mapObj:ue,map:de,values:pe,allTrueR:he,anyTrueR:ve,unnestR:fe,flattenR:me,pushR:ge,uniqR:be,unnest:ye,flatten:Se,assertPredicate:we,assertMap:ke,assertFn:Ce,pairs:$e,arrayTuples:Te,applyPairs:Oe,tail:Ee,sortBy:Ie,composeSort:xe,silenceUncaughtInPromise:_e,silentRejection:De,notImplemented:D,services:R,Glob:Re,curry:n,compose:r,pipe:i,prop:o,propEq:a,parse:s,not:c,and:l,or:u,all:d,any:p,is:h,eq:v,val:f,invoke:m,pattern:g,isUndefined:S,isDefined:w,isNull:k,isNullOrUndefined:C,isFunction:$,isNumber:T,isString:O,isObject:E,isArray:A,isDate:P,isRegExp:I,isInjectable:x,isPromise:_,Queue:je,maxLength:ln,padString:un,kebobString:dn,functionToString:pn,fnToString:hn,stringify:mn,beforeAfterSubstr:gn,splitOnDelim:bn,joinNeighborsR:yn,get Category(){return e.Category},Trace:Le,trace:Fe,get DefType(){return e.DefType},Param:Qe,ParamTypes:dt,StateParams:Kt,ParamType:Ye,PathNode:Xe,PathFactory:Ze,resolvePolicies:nt,defaultResolvePolicy:et,Resolvable:tt,NATIVE_INJECTOR_TOKEN:at,ResolveContext:st,resolvablesBuilder:Ht,StateBuilder:Gt,State:ht,StateMatcher:jt,StateQueueManager:qt,StateRegistry:zt,StateService:Yt,TargetState:Ue,get TransitionHookPhase(){return e.TransitionHookPhase},get TransitionHookScope(){return e.TransitionHookScope},HookBuilder:ze,matchState:He,RegisteredHook:Ge,makeEvent:qe,get RejectType(){return e.RejectType},Rejection:Ne,Transition:cn,TransitionHook:We,TransitionEventType:xt,defaultTransOpts:_t,TransitionService:Dt,UrlMatcher:ut,UrlMatcherFactory:pt,UrlRouter:bt,UrlRuleFactory:vt,BaseUrlRule:mt,UrlService:rn,ViewService:Rt,Globals:Jt,UIRouter:an,UIRouterPluginBase:Sn}),kn=angular,Cn=t&&t.module?t:kn;function $n(){var e=null;return function(t,n){return e=e||R.$injector.get("$templateFactory"),[new An(t,n,e)]}}var Tn=function(e,t){return e.reduce(function(e,n){return e||w(t[n])},!1)};function On(e){if(!e.parent)return{};var t=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),r=t.concat(n),i={},o=e.views||{$default:oe(e,r)};return L(o,function(r,o){if(o=o||"$default",O(r)&&(r={component:r}),Tn(t,r)&&Tn(n,r))throw new Error("Cannot combine: "+t.join("|")+" with: "+n.join("|")+" in stateview: '"+o+"@"+e.name+"'");r.resolveAs=r.resolveAs||"$resolve",r.$type="ng1",r.$context=e,r.$name=o;var a=Rt.normalizeUIViewTarget(r.$context,r.$name);r.$uiViewName=a.uiViewName,r.$uiViewContextAnchor=a.uiViewContextAnchor,i[o]=r}),i}var En=0,An=function(){function e(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=En++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return e.prototype.load=function(){var e=this,t=R.$q,n=new st(this.path),r=this.path.reduce(function(e,t){return F(e,t.paramValues)},{}),i={template:t.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:t.when(this.getController(n))};return t.all(i).then(function(t){return Fe.traceViewServiceEvent("Loaded",e),e.controller=t.controller,F(e,t.template),e})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!x(t))return this.viewDecl.controller;var n=R.$injector.annotate(t),r=A(t)?Ee(t):t,i=new tt("",r,n);return i.get(e)},e}(),Pn=function(){function e(){var e=this;this._useHttp=Cn.version.minor<3,this.$get=["$http","$templateCache","$injector",function(t,n,r){return e.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),e.$http=t,e.$templateCache=n,e}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var r=function(e){return R.$q.when(e).then(function(e){return{template:e}})},i=function(e){return R.$q.when(e).then(function(e){return{component:e}})};return w(e.template)?r(this.fromString(e.template,t)):w(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):w(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):w(e.component)?i(e.component):w(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return $(e)?e(t):e},e.prototype.fromUrl=function(e,t){return $(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var r=R.$injector.annotate(e),i=A(e)?Ee(e):e,o=new tt("",i,r);return o.get(n)},e.prototype.fromComponentProvider=function(e,t,n){var r=R.$injector.annotate(e),i=A(e)?Ee(e):e,o=new tt("",i,r);return o.get(n)},e.prototype.makeComponentTemplate=function(e,t,n,r){r=r||{};var i=Cn.version.minor>=3?"::":"",o=function(e){var t=R.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(In).reduce(fe,[])}(n).map(function(n){var o=n.name,a=n.type,s=dn(o);if(e.attr(s)&&!r[o])return s+"='"+e.attr(s)+"'";var c=r[o]||o;if("@"===a)return s+"='{{"+i+"$resolve."+c+"}}'";if("&"===a){var l=t.getResolvable(c),u=l&&l.data,d=u&&R.$injector.annotate(u)||[],p=A(u)?"["+(u.length-1)+"]":"";return s+"='$resolve."+c+p+"("+d.join(",")+")'"}return s+"='"+i+"$resolve."+c+"'"}).join(" "),a=dn(n);return"<"+a+" "+o+"></"+a+">"},e}(),In=function(e){return E(e.bindToController)?xn(e.bindToController):xn(e.scope)},xn=function(e){return Object.keys(e||{}).map(function(t){return[t,/^([=<@&])[?]?(.*)/.exec(e[t])]}).filter(function(e){return w(e)&&A(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},_n=function(){function e(t,n){this.stateRegistry=t,this.stateService=n,H(f(e.prototype),this,f(this))}return e.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},e.prototype.state=function(e,t){return E(e)?t=e:t.name=e,this.stateRegistry.register(t),this},e.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},e}(),Dn=function(e){return function(t,n){var r=t[e],i="onExit"===e?"from":"to";return r?function(e,t){var n=new st(e.treeChanges(i)),o=F(Jn(n),{$state$:t,$transition$:e});return R.$injector.invoke(r,this,o)}:void 0}},Rn=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=f(e);H(t,this,t,["hashPrefix"])}return e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return K(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=E(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),e&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,r){var i=this;this.$location=t,this.$sniffer=n,e.$on("$locationChangeSuccess",function(e){return i._urlListeners.forEach(function(t){return t(e)})});var o=f(t),a=f(r);H(o,this,o,["replace","path","search","hash"]),H(o,this,o,["port","protocol","host"]),H(a,this,a,["baseHref"])},e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e}(),jn=function(){function e(e){this._router=e,this._urlRouter=e.urlRouter}return e.prototype.$get=function(){var e=this._urlRouter;return e.update(!0),e.interceptDeferred||e.listen(),e},e.prototype.rule=function(e){var t=this;if(!$(e))throw new Error("'rule' must be a function");var n=new mt(function(){return e(R.$injector,t._router.locationService)},B);return this._urlRouter.rule(n),this},e.prototype.otherwise=function(e){var t=this,n=this._urlRouter;if(O(e))n.otherwise(e);else{if(!$(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(R.$injector,t._router.locationService)})}return this},e.prototype.when=function(t,n){return(A(n)||$(n))&&(n=e.injectableHandler(this._router,n)),this._urlRouter.when(t,n),this},e.injectableHandler=function(e,t){return function(n){return R.$injector.invoke(t,null,{$match:n,$stateParams:e.globals.params})}},e.prototype.deferIntercept=function(e){this._urlRouter.deferIntercept(e)},e}();Cn.module("ui.router.angular1",[]);var Nn=Cn.module("ui.router.init",[]),Mn=Cn.module("ui.router.util",["ng","ui.router.init"]),Vn=Cn.module("ui.router.router",["ui.router.util"]),Ln=Cn.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Fn=Cn.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Un=(Cn.module("ui.router.compat",["ui.router"]),null);function Bn(e){(Un=this.router=new an).stateProvider=new _n(Un.stateRegistry,Un.stateService),Un.stateRegistry.decorator("views",On),Un.stateRegistry.decorator("onExit",Dn("onExit")),Un.stateRegistry.decorator("onRetain",Dn("onRetain")),Un.stateRegistry.decorator("onEnter",Dn("onEnter")),Un.viewService._pluginapi._viewConfigFactory("ng1",$n());var t=Un.locationService=Un.locationConfig=new Rn(e);function n(e,n,r,i,o,a){return t._runtimeServices(i,e,r,n),delete Un.router,delete Un.$get,Un}return Rn.monkeyPatchPathParameterType(Un),Un.router=Un,Un.$get=n,n.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],Un}Bn.$inject=["$locationProvider"];var Wn=function(e){return["$uiRouterProvider",function(t){var n=t.router[e];return n.$get=function(){return n},n}]};function Hn(e,t,n){R.$injector=e,R.$q=t,n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(fe,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(t){return t.deps=e.annotate(t.resolveFn)})}function Gn(e){e.$watch(function(){Fe.approximateDigests++})}Hn.$inject=["$injector","$q","$uiRouter"],Gn.$inject=["$rootScope"],Nn.provider("$uiRouter",Bn),Vn.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new jn(e)}]),Mn.provider("$urlService",Wn("urlService")),Mn.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Un.urlMatcherFactory}]),Mn.provider("$templateFactory",function(){return new Pn}),Ln.provider("$stateRegistry",Wn("stateRegistry")),Ln.provider("$uiRouterGlobals",Wn("globals")),Ln.provider("$transitions",Wn("transitionService")),Ln.provider("$state",["$uiRouterProvider",function(){return F(Un.stateProvider,{$get:function(){return Un.stateService}})}]),Ln.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),Fn.factory("$view",function(){return Un.viewService}),Fn.service("$trace",function(){return Fe}),Fn.run(Gn),Mn.run(["$urlMatcherFactory",function(e){}]),Ln.run(["$state",function(e){}]),Vn.run(["$urlRouter",function(e){}]),Nn.run(Hn);var qn,zn,Yn,Kn,Jn=function(e){var t=e.getTokens().filter(O),n=t.map(function(t){var n=e.getResolvable(t),r=e.getPolicy(n).async;return[t,"NOWAIT"===r?n.promise:n.data]});return n.reduce(Oe,{})};function Qn(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function Xn(e){var t=e.parent().inheritedData("$uiView"),n=s("$cfg.path")(t);return n?Ee(n).state.name:void 0}function Zn(e,t,n){var r=n.uiState||e.current.name,i=F(function(e,t){return{relative:Xn(e)||t.$current,inherit:!0,source:"sref"}}(t,e),n.uiStateOpts||{}),o=e.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function er(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function tr(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var c=n(function(){t.go(s.uiState,s.uiStateParams,s.uiStateOpts)});o.preventDefault();var l=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(c)}}}}function nr(e){var t=function(t,n,r){return e.is(t,n,r)};return t.$stateful=!0,t}function rr(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}function ir(e,n,r,i,o){var a=s("viewDecl.controllerAs"),c=s("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return i.empty(),function(i,s){var l=s.data("$uiView");if(!l)return s.html(o),void e(s.contents())(i);var u=l.$cfg||{viewDecl:{},getTemplate:t.noop},d=u.path&&new st(u.path);s.html(u.getTemplate(s,d)||o),Fe.traceUIViewFill(l.$uiView,s.html());var p=e(s.contents()),h=u.controller,v=a(u),f=c(u),m=d&&Jn(d);if(i[f]=m,h){var g=n(h,F({},m,{$scope:i,$element:s}));v&&(i[v]=g,i[v][f]=m),s.data("$ngControllerController",g),s.children().data("$ngControllerController",g),ar(r,g,i,u)}if(O(u.viewDecl.component))var b=u.viewDecl.component,y=dn(b),S=i.$watch(function(){var e=[].slice.call(s[0].children).filter(function(e){return e&&e.tagName&&e.tagName.toLowerCase()===y});return e&&Cn.element(e).data("$"+b+"Controller")},function(e){e&&(ar(r,e,i,u),S())});p(i)}}}}qn=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,c=er(i),l=a[1]||a[0],u=null,d={},p=function(){return Zn(n,i,d)},h=Qn(o.uiSref);function v(){var e=p();u&&u(),l&&(u=l.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(c.attr,e.href)}d.uiState=h.state,d.uiStateOpts=o.uiSrefOpts?r.$eval(o.uiSrefOpts):{},h.paramExpr&&(r.$watch(h.paramExpr,function(e){d.uiStateParams=Cn.copy(e),v()},!0),d.uiStateParams=Cn.copy(r.$eval(h.paramExpr))),v(),r.$on("$destroy",e.stateRegistry.onStatesChanged(v)),r.$on("$destroy",e.transitionService.onSuccess({},v)),c.clickable&&(s=tr(i,n,t,c,p),i[i.on?"on":"bind"]("click",s),r.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}],zn=["$uiRouter","$timeout",function(e,t){var n=e.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,c=er(i),l=a[1]||a[0],u=null,d={},p=function(){return Zn(n,i,d)},h=["uiState","uiStateParams","uiStateOpts"],v=h.reduce(function(e,t){return e[t]=W,e},{});function f(){var e=p();u&&u(),l&&(u=l.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&o.$set(c.attr,e.href)}h.forEach(function(e){d[e]=o[e]?r.$eval(o[e]):null,o.$observe(e,function(t){v[e](),v[e]=r.$watch(t,function(t){d[e]=t,f()},!0)})}),f(),r.$on("$destroy",e.stateRegistry.onStatesChanged(f)),r.$on("$destroy",e.transitionService.onSuccess({},f)),c.clickable&&(s=tr(i,n,t,c,p),i[i.on?"on":"bind"]("click",s),r.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}],Yn=["$state","$stateParams","$interpolate","$uiRouter",function(e,t,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,o){var a,s,c=[];a=n(o.uiSrefActiveEq||"",!1)(t);try{s=t.$eval(o.uiSrefActive)}catch(e){}function l(e){e.promise.then(d)}function u(t,n,r){var o=e.get(t,Xn(i)),a={state:o||{name:t},params:n,activeClass:r};return c.push(a),function(){K(c)(a)}}function d(){var n=function(e){return e.split(/\s/).filter(B)},r=function(e){return e.map(function(e){return e.activeClass}).map(n).reduce(fe,[])},o=r(c).concat(n(a)).reduce(be,[]),s=r(c.filter(function(t){return e.includes(t.state.name,t.params)})),l=!!c.filter(function(t){return e.is(t.state.name,t.params)}).length,u=l?n(a):[],d=s.concat(u).reduce(be,[]),p=o.filter(function(e){return!z(d,e)});t.$evalAsync(function(){d.forEach(function(e){return i.addClass(e)}),p.forEach(function(e){return i.removeClass(e)})})}s=s||n(o.uiSrefActive||"",!1)(t),E(s)&&L(s,function(e,n){if(O(e)){var r=Qn(e);u(r.state,t.$eval(r.paramExpr),n)}}),this.$$addStateInfo=function(e,t){if(!(E(s)&&c.length>0)){var n=u(e,t,s);return d(),n}},t.$on("$stateChangeSuccess",d),t.$on("$destroy",r.transitionService.onStart({},l)),r.globals.transition&&l(r.globals.transition),d()}]}}],Cn.module("ui.router.state").directive("uiSref",qn).directive("uiSrefActive",Yn).directive("uiSrefActiveEq",Yn).directive("uiState",zn),nr.$inject=["$state"],rr.$inject=["$state"],Cn.module("ui.router.state").filter("isState",nr).filter("includedByState",rr),Kn=["$view","$animate","$uiViewScroll","$interpolate","$q",function(e,t,n,r,i){var o={$cfg:{viewDecl:{$context:e._pluginapi._rootViewContext()}},$uiView:{}},a={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,l,u){return function(c,l,d){var p,h,v,f,m=d.onload||"",g=d.autoscroll,b={enter:function(e,n,r){Cn.version.minor>2?t.enter(e,null,n).then(r):t.enter(e,null,n,r)},leave:function(e,n){Cn.version.minor>2?t.leave(e).then(n):t.leave(e,n)}},y=void 0,S=l.inheritedData("$uiView")||o,k=r(d.uiView||d.name||"")(c)||"$default",C={$type:"ng1",id:a.count++,name:k,fqn:S.$uiView.fqn?S.$uiView.fqn+"."+k:k,config:null,configUpdated:function(e){(!e||e instanceof An)&&(function(e,t){return e===t}(y,e)||(Fe.traceUIViewConfigUpdated(C,e&&e.viewDecl&&e.viewDecl.$context),y=e,$(e)))},get creationContext(){return s("$cfg.viewDecl.$context")(S)}};function $(e){var t=c.$new(),r=i.defer(),o=i.defer(),a={$cfg:e,$uiView:C},s={$animEnter:r.promise,$animLeave:o.promise,$$animLeave:o};t.$emit("$viewContentLoading",k);var d=u(t,function(e){e.data("$uiViewAnim",s),e.data("$uiView",a),b.enter(e,l,function(){r.resolve(),v&&v.$emit("$viewContentAnimationEnded"),(w(g)&&!g||c.$eval(g))&&n(e)}),function(){if(p&&(Fe.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),v&&(Fe.traceUIViewEvent("Destroying scope",C),v.$destroy(),v=null),h){var e=h.data("$uiViewAnim");Fe.traceUIViewEvent("Animate out",e),b.leave(h,function(){e.$$animLeave.resolve(),p=null}),p=h,h=null}}()});h=d,(v=t).$emit("$viewContentLoaded",e||y),v.$eval(m)}Fe.traceUIViewEvent("Linking",C),l.data("$uiView",{$uiView:C}),$(),f=e.registerUIView(C),c.$on("$destroy",function(){Fe.traceUIViewEvent("Destroying/Unregistering",C),f()})}}};return a}],ir.$inject=["$compile","$controller","$transitions","$view","$timeout"];var or="function"==typeof Cn.module("ui.router").component;function ar(e,t,n,r){!$(t.$onInit)||r.viewDecl.component&&or||t.$onInit();var i=Ee(r.path).state.self,o={bind:t};if($(t.uiOnParamsChanged)){var a=new st(r.path),s=a.getResolvable("$transition$").data;n.$on("$destroy",e.onSuccess({},function(e){if(e!==s&&-1===e.exiting().indexOf(i)){var n=e.params("to"),r=e.params("from"),o=e.treeChanges().to.map(function(e){return e.paramSchema}).reduce(fe,[]),a=e.treeChanges().from.map(function(e){return e.paramSchema}).reduce(fe,[]),c=o.filter(function(e){var t=a.indexOf(e);return-1===t||!a[t].type.equals(n[e.id],r[e.id])});if(c.length){var l=c.map(function(e){return e.id}),u=ce(n,function(e,t){return-1!==l.indexOf(t)});t.uiOnParamsChanged(u,e)}}},o))}if($(t.uiCanExit)){var c={exiting:i.name};n.$on("$destroy",e.onBefore(c,t.uiCanExit,o))}}Cn.module("ui.router.state").directive("uiView",Kn),Cn.module("ui.router.state").directive("uiView",ir),Cn.module("ui.router.state").provider("$uiViewScroll",function(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}),e.core=wn,e.default="ui.router",e.fromJson=N,e.toJson=M,e.copy=V,e.forEach=L,e.extend=F,e.equals=U,e.identity=B,e.noop=W,e.createProxyFunctions=H,e.inherit=G,e.inArray=z,e._inArray=Y,e.removeFrom=K,e._removeFrom=J,e.pushTo=Q,e._pushTo=X,e.deregAll=Z,e.defaults=ee,e.merge=te,e.mergeR=ne,e.ancestors=re,e.pick=oe,e.omit=ae,e.pluck=se,e.filter=ce,e.find=le,e.mapObj=ue,e.map=de,e.values=pe,e.allTrueR=he,e.anyTrueR=ve,e.unnestR=fe,e.flattenR=me,e.pushR=ge,e.uniqR=be,e.unnest=ye,e.flatten=Se,e.assertPredicate=we,e.assertMap=ke,e.assertFn=Ce,e.pairs=$e,e.arrayTuples=Te,e.applyPairs=Oe,e.tail=Ee,e.sortBy=Ie,e.composeSort=xe,e.silenceUncaughtInPromise=_e,e.silentRejection=De,e.notImplemented=D,e.services=R,e.Glob=Re,e.curry=n,e.compose=r,e.pipe=i,e.prop=o,e.propEq=a,e.parse=s,e.not=c,e.and=l,e.or=u,e.all=d,e.any=p,e.is=h,e.eq=v,e.val=f,e.invoke=m,e.pattern=g,e.isUndefined=S,e.isDefined=w,e.isNull=k,e.isNullOrUndefined=C,e.isFunction=$,e.isNumber=T,e.isString=O,e.isObject=E,e.isArray=A,e.isDate=P,e.isRegExp=I,e.isInjectable=x,e.isPromise=_,e.Queue=je,e.maxLength=ln,e.padString=un,e.kebobString=dn,e.functionToString=pn,e.fnToString=hn,e.stringify=mn,e.beforeAfterSubstr=gn,e.splitOnDelim=bn,e.joinNeighborsR=yn,e.Trace=Le,e.trace=Fe,e.Param=Qe,e.ParamTypes=dt,e.StateParams=Kt,e.ParamType=Ye,e.PathNode=Xe,e.PathFactory=Ze,e.resolvePolicies=nt,e.defaultResolvePolicy=et,e.Resolvable=tt,e.NATIVE_INJECTOR_TOKEN=at,e.ResolveContext=st,e.resolvablesBuilder=Ht,e.StateBuilder=Gt,e.State=ht,e.StateMatcher=jt,e.StateQueueManager=qt,e.StateRegistry=zt,e.StateService=Yt,e.TargetState=Ue,e.HookBuilder=ze,e.matchState=He,e.RegisteredHook=Ge,e.makeEvent=qe,e.Rejection=Ne,e.Transition=cn,e.TransitionHook=We,e.TransitionEventType=xt,e.defaultTransOpts=_t,e.TransitionService=Dt,e.UrlMatcher=ut,e.UrlMatcherFactory=pt,e.UrlRouter=bt,e.UrlRuleFactory=vt,e.BaseUrlRule=mt,e.UrlService=rn,e.ViewService=Rt,e.Globals=Jt,e.UIRouter=an,e.UIRouterPluginBase=Sn,e.watchDigests=Gn,e.getLocals=Jn,e.getNg1ViewConfigFactory=$n,e.ng1ViewsBuilder=On,e.Ng1ViewConfig=An,e.StateProvider=_n,Object.defineProperty(e,"__esModule",{value:!0})}(t,n("KHwQ"))},"25Ey":function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return A}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return x});n("J30X");var r=n("o0o1"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("IS96"),c=n.n(s),l=(n("ls82"),n("KYMe")),u=n("5rFJ"),d=n("bB7c"),p=n("J4qu"),h=n("fwyg"),v=n("Aa8z"),f=n("Z2FP"),m=n("NLRV"),g=n("QuGv"),b=i.a.mark(T),y=i.a.mark(O),S=i.a.mark(E),w=i.a.mark(A),k=i.a.mark(P),C=i.a.mark(I),$=i.a.mark(x);function T(){var e,t,n,r,o,s,l,v,g,y,S,w,k,C;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(u.g)(f.b);case 2:if(e=i.sent,c()(e)){i.next=5;break}return i.abrupt("return");case 5:return i.next=7,Object(u.d)(p.a.request());case 7:return i.prev=7,i.next=10,Object(u.a)([Object(u.b)(O),Object(u.b)(E)]);case 10:return t=i.sent,n=a()(t,2),r=n[0],o=n[1],i.next=16,Object(u.g)(h.wg);case 16:return s=i.sent,i.next=19,Object(u.g)(h.r);case 19:return l=i.sent,i.next=22,Object(u.b)(m.a.buildChannels,s,l,r,o);case 22:return v=i.sent,i.next=25,Object(u.g)(d.R);case 25:if(!i.sent){i.next=30;break}return i.next=29,Object(u.b)(m.a.filterChannelListByOffers,v.channels);case 29:v.channels=i.sent;case 30:return i.next=32,Object(u.g)(h.wg);case 32:if(!i.sent){i.next=42;break}return i.next=36,Object(u.a)([Object(u.b)(m.a.getDefaultChannel,v),Object(u.b)(m.a.getDefaultChannelEnabled)]);case 36:g=i.sent,y=a()(g,2),S=y[0],w=y[1],k=S.tmsId,C=S.strategy,v.defaultChannel={tmsId:k,enabled:w,strategy:C};case 42:return i.next=44,Object(u.d)(p.a.success(v));case 44:i.next=50;break;case 46:return i.prev=46,i.t0=i.catch(7),i.next=50,Object(u.d)(p.a.failure(i.t0));case 50:case"end":return i.stop()}},b,null,[[7,46]])}function O(){var e,t,n,r;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(u.g)(v.i);case 2:return e=i.sent,i.next=5,Object(u.b)(l.default.get,{url:e});case 5:return t=i.sent,n=t.data,i.next=9,Object(u.b)(m.a.buildPCBlockedChannelsMap,n);case 9:return r=i.sent,i.abrupt("return",r);case 11:case"end":return i.stop()}},y)}function E(){var e,t,n;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.g)(h.Fe);case 2:return e=r.sent,r.next=5,Object(u.b)(l.default.get,{url:e});case 5:return t=r.sent,n=t.data,r.abrupt("return",n);case 8:case"end":return r.stop()}},S)}function A(e){var t,n,r,o,a,s,c,l,d;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.channel,r=t.flag,i.next=3,Object(u.g)(r?h.Qb:h.Rb);case 3:return o=i.sent,i.next=6,Object(u.g)(h.Cd);case 6:return a=i.sent,i.next=9,Object(u.g)(h.he);case 9:return s=i.sent,i.next=12,Object(u.b)(g.b);case 12:return c=i.sent,i.prev=13,i.next=16,Object(u.d)(p.b.request());case 16:return i.next=18,Object(u.b)(g.a);case 18:return l=i.sent,d={method:"POST",url:a+s+o,headers:{"Content-Type":"application/json"},data:JSON.stringify({tmsGuideId:n.tmsGuideId,channel:Array.isArray(n.channelNumbers)?n.channelNumbers[0]:null}),withCredentials:!0},i.next=22,Object(u.b)(l,d);case 22:return i.next=24,Object(u.d)(p.b.success());case 24:i.next=30;break;case 26:return i.prev=26,i.t0=i.catch(13),i.next=30,Object(u.d)(p.b.failure(i.t0));case 30:return i.prev=30,c.$emit("Analytics:select",{operationType:"favoriteToggle",toggleState:r}),i.next=34,Object(u.d)(p.b.fulfill());case 34:return i.finish(30);case 35:case"end":return i.stop()}},w,null,[[13,26,30,35]])}function P(e){var t,n,r,o,a;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(u.g)(v.v);case 3:return n=i.sent,i.next=6,Object(u.b)(g.b);case 6:return r=i.sent,i.prev=7,i.next=10,Object(u.d)(p.c.request());case 10:return i.next=12,Object(u.b)(g.a);case 12:return o=i.sent,a={url:n,method:"POST",contentType:"application/json",data:JSON.stringify({parentalControls:{blockedChannels:t}}),withCredentials:!0},i.next=16,Object(u.b)(o,a);case 16:return i.next=18,Object(u.d)(p.c.success());case 18:i.next=24;break;case 20:return i.prev=20,i.t0=i.catch(7),i.next=24,Object(u.d)(p.c.failure(i.t0));case 24:return i.prev=24,r.$emit("ParentalControls:updated"),i.next=28,Object(u.d)(p.c.fulfill());case 28:return i.finish(24);case 29:case"end":return i.stop()}},k,null,[[7,20,24,29]])}function I(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.g)(f.l);case 2:if(t.sent){t.next=6;break}return t.next=6,Object(u.d)(p.a.success(e.payload));case 6:case"end":return t.stop()}},C)}function x(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)([Object(u.k)(p.a.TRIGGER,T),Object(u.i)(p.a.UPDATE_CHANNELS,I)]);case 2:case"end":return e.stop()}},$)}},"2UTf":function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return b});var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("LS8I"),p=n("I+BT"),h=n("fwyg"),v=n("UntU"),f={MDU_BULK_MASTER:"mduBulkMaster",MDU_BULK_TENANT:"mduBulkTenant",MDU_NONBULK:"mduNonBulk",SFU:"sfu"};function m(){return g.apply(this,arguments)}function g(){return(g=s()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S("");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=s()(o.a.mark(function e(){var t,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=null===(t=d.a.get())||void 0===t?void 0:t.classification,r=n?f[n]:void 0,u.a.getSelectorValue(h.z)&&r?S(r):m();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=s()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,Object(v.h)();case 3:l.a.set(p.d.BULK_MDU_CLASS,{bulkMduClass:r});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"33XX":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<nav class="navbar navbar-default transparent-bg">\n<div class="container-fluid">\n<div class="row">\n<search-input/>\n</div>\n</div>\n<h1 class="sr-only" tabindex="-1">Search</h1>\n</nav>\n',o="js/search/search-header.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"3AkW":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<span class="switch" ng-class="{\'{{$ctrl.toggleId}}\': $ctrl.isSafari, enabled: ($ctrl.buttonEnabled === \'true\')}" aria-hidden="true">\n<small class="switch-label" data-off="Off" data-on="On"></small>\n<span class="switch-handle"></span>\n</span>\n',o="js/components/ovp/ovp-switch/ovp-switch.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"3BTi":function(e,t,n){"use strict";n.d(t,"a",function(){return A}),n.d(t,"b",function(){return P});var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("dprx")),a=n.n(o),s=n("5rFJ"),c=n("OvZ6"),l=n("Aa8z"),u=n("zmVM"),d=n("QuGv"),p=(n("rB9j"),n("UxlC"),n("PNUD")),h=n("f8b+"),v=n("3bml"),f=n("oRAM"),m=n("fwEs");var g,b={updateUserName:function(){var e="",t=h.a.getItem("x-trustedAuthId");e="SpecUTA"===h.a.getItem("oauth:authentication_type")&&t?t:"TVSA"===h.a.getItem("oauth:token_account_type")?f.b.tvsaUserName:"SPECU"===h.a.getItem("oauth:token_account_type")?f.b.specUUserName:"MDU_BULK_MASTER"===h.a.getItem("xoauth_classification")?f.b.bulkMDUUserName:(h.a.getItem("oauth:username")||"").replace(/\s/g,"_"),h.a.setItem(f.b.currentUser,e),p.a.dispatch(Object(v.b)({name:e}))},updateUserIdHash:function(){var e=h.a.getItem(f.b.userIdHash);e||(e=Object(m.c)(),h.a.setItem(f.b.userIdHash,e)),p.a.dispatch(Object(v.b)({idHash:e}))}},y=n("jx2R"),S=n("XHxQ"),w=n("LHwt"),k=n("Bai8"),C=n("R+Vf"),$=n("I+BT"),T=i.a.mark(A),O=i.a.mark(P),E=function(e){return 60*+e*1e3};function A(e){var t,n,r,o,p,v,m,O;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(s.g)(u.h);case 2:if(!i.sent){i.next=5;break}return i.abrupt("return");case 5:return i.prev=5,i.next=8,Object(s.d)(c.a.request());case 8:return i.next=10,Object(s.g)(l.f);case 10:return t=i.sent,i.next=13,Object(s.g)(l.d);case 13:return n=+(n=i.sent),i.next=17,Object(s.g)(l.e);case 17:return r=i.sent,r=E(r),i.next=21,Object(s.b)(d.a);case 21:return o=i.sent,i.next=24,Object(s.f)(n,r,o,{method:"GET",bypassRefresh:e||!1,withCredentials:!0,url:t});case 24:return p=i.sent,v=p.data,i.next=28,Object(s.d)(c.a.success(v));case 28:return i.next=30,Object(s.b)(k.b);case 30:return i.next=32,Object(s.b)(w.b);case 32:return i.next=34,Object(s.b)(b.updateUserName);case 34:return i.next=36,Object(s.b)(b.updateUserIdHash);case 36:return i.next=38,h.a.getItem(f.b.ccEnabled);case 38:return m=i.sent,i.next=41,Object(s.b)(function(e,t){return a.a.set(e,t)},$.d.ACCESSIBILITY_SETTINGS,{closedCaptionSetting:String(null!==m&&void 0!==m&&m)});case 41:return i.next=43,Object(s.g)(C.e);case 43:if(!(g=i.sent)){i.next=48;break}if(null===v||void 0===v?void 0:null===(O=v.watchlive)||void 0===O?void 0:O.authorized){i.next=48;break}return i.next=48,Object(s.b)(y.a);case 48:i.next=56;break;case 50:return i.prev=50,i.t0=i.catch(5),i.next=54,Object(s.b)(S.a,{customLevel:"error",customName:"STVWEB-7855",customMessage:{description:"fetchCapabilities saga failed",error:JSON.stringify(i.t0),userConfigSetV2:g}});case 54:return i.next=56,Object(s.d)(c.a.failure(i.t0));case 56:case"end":return i.stop()}},T,null,[[5,50]])}function P(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.g)(l.c);case 2:e=t.sent,e=E(e);case 4:return t.next=7,Object(s.c)(e);case 7:return t.next=9,Object(s.b)(A,!1);case 9:t.next=4;break;case 11:case"end":return t.stop()}},O)}},"3ERx":function(e,t,n){},"3Fbj":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="quickResults" class="quickResults" fadein-immediate>\n<div ng-if="$ctrl.layout.categories.length==0">No results matching "{{$ctrl.query}}". Please try another search.</div>\n<div class="search-results-container">\n<div class="container">\n<div ng-class="category.class" ng-repeat="category in $ctrl.layout.categories">\n<h2 class="category-header kite-h4" tabindex="-1">{{category.title | titleCase}}</h2>\n<ul class="search-results">\n<li ng-repeat="result in category.results | limitTo : $ctrl.limit * category.columns">\n<a ng-attr-aria-label="{{$index === 0 ?  category.title + \' \' + \'category\' + \' \'  + result.title: undefined}}" href="#" ng-click="$ctrl.click(result)" class="search-result" ng-bind-html="result.titleWithHighlightTags | toTrusted">\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n',o="js/search/result-pages/quick-search-results.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"3V2u":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a});var r=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.data},i=function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.username)&&void 0!==t?t:""},o=function(e){return"autoAccess"===function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.authenticationType)&&void 0!==t?t:""}(e)},a=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.auth)||void 0===t?void 0:t.isAuthenticated}},"3bml":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="UPDATE_USER",i=function(e){return{type:r,payload:e}}},"3pjS":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return l});var r="MAIN_MENU_FETCH_INPROGRESS",i="MAIN_MENU_FETCH_SUCCESS",o="MAIN_MENU_FETCH_ERROR",a=function(){return{type:r}},s=function(e){return{type:i,payload:e}},c=function(e){return{type:o,payload:e}};function l(){return function(e){e(a()),angular.element(document.body).injector().get("mainMenuService").getMainMenuItems().then(function(t){e(s(t))}).catch(function(t){return e(c(t))})}}},"3woO":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});n("pNMO"),n("TeQF"),n("QWBl"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("UntU");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=!1;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!c){c=!0;var n=s({msgFeatureStepName:"purchaseStart"},t);Object(o.j)(e,n)}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c){var n=s({msgFeatureStepName:"purchaseStop"},t);Object(o.j)(e,n),c=!1}}},"3zVP":function(e,t,n){var r;void 0===(r=function(e,t,r){"use strict";var i=n("9c4D"),o=$.param,a=n("i8Df"),s=n("i8Df").difference,c=n("i8Df").intersection,l=(n("i8Df").compose,n("ozyn")),u=n("6/sf").Lazy,d=n("6/sf").Retry,p=window.localStorage,h=n("WAn2"),v=n("pOtq"),f=n("KYMe").default,m={connect:"vpnspush",disconnect:"vpnspush",join:"vpnspush",check:"vpnspush",registration:"vpnsservice",subscribe:"vpnsservice"},g={1.5:"v1_5"};function b(e){if(!(this instanceof b))return new b(e);this.registrationURI=e.registrationURI,this.disconnectURI=e.disconnectURI,this.connectURI=e.connectURI,this.joinURI=e.joinURI,this.checkURI=e.checkURI,e||(e={}),this.deviceId(e.deviceId||"HNAVClientTest"),this.msgTypes(e.msgTypes||[]),this.apiVersion(e.apiVersion||"1.5"),this.filters(e.filters||{}),this.baseUri(e.baseUri||"https://pi.engnew-spectrum.net/vpns"),this.subscribeToEmptyServices=e.subscribeToEmptyServices||!1,this.onError(e.onError||noop),this.onMessage(e.onMessage||noop),e.log&&(this.log=function(){return e.log}),this.authorization(e.authorization),this._store=e.store||p,b.VPNS_CLIENT_ID=e.clientIdKey||"twc.hnav.vpns.client.id",b.VPNS_SESSION_ID=e.sessionIdKey||"twc.hnav.vpns.session.id",b.VPNS_AVAILABLE_TYPES=e.availableTypesKey||"twc.hnav.vpns.available_types",b.VPNS_REGISTRATION_DATA=e.registrationDataKey||"twc.hnav.vpns.registration.data",this.clientId(e.clientId||this._store.getItem(b.VPNS_CLIENT_ID)),this.sessionId(e.sessionId||this._store.getItem(b.VPNS_SESSION_ID));var t=this._store.getItem(b.VPNS_AVAILABLE_TYPES);t&&this.available(JSON.parse(t));var n=this._store.getItem(b.VPNS_REGISTRATION_DATA);n&&this.joinMetadata(h.join(JSON.parse(n),this.msgTypes())),this._retryTimer=new d({callback:this.onRetryTimeout.bind(this),maxTimeout:828e5,log:this.log()}),this._registrationTimer=new u({callback:this.createInvalidateRegistrationHandler("registration timer"),intervalMsec:828e5,log:this.log()}),this.log().info("Client started"),this.initStateMachine()}var y=b.states={INIT:"init",REGISTER:"register",CONNECT:"connect",DISCONNECT:"disconnect",SUBSCRIBE:"subscribe",JOIN:"join",CHECK:"check",RECHECK:"recheck",INVALIDATE:"invalidate",EXIT:"exit"},S=b.transitions={START:"start",RECONNECT:"reconnect",CHECK:"check",SUCCESS:"success",FAIL:"fail",EXIT:"exit"};return b.prototype.initStateMachine=function(){this.stateMachine=v.create({initial:y.INIT,events:[{name:S.START,to:y.REGISTER},{name:S.CHECK,from:[y.INIT,y.RECHECK],to:y.CHECK},{name:S.SUCCESS,from:y.REGISTER,to:y.SUBSCRIBE},{name:S.SUCCESS,from:y.SUBSCRIBE,to:y.DISCONNECT},{name:S.SUCCESS,from:y.DISCONNECT,to:y.CONNECT},{name:S.FAIL,from:y.DISCONNECT,to:y.CONNECT},{name:S.SUCCESS,from:y.CONNECT,to:y.JOIN},{name:S.SUCCESS,from:y.JOIN,to:y.CHECK},{name:S.SUCCESS,from:y.CHECK,to:y.RECHECK},{name:S.FAIL,from:[y.REGISTER,y.CONNECT,y.SUBSCRIBE,y.JOIN,y.CHECK],to:y.INVALIDATE},{name:S.RECONNECT,from:y.CHECK,to:y.CONNECT},{name:S.EXIT,to:y.EXIT}]}),this.stateMachine["onleave"+y.INVALIDATE]=this._waitForRetryTimeout.bind(this),this.stateMachine["on"+S.FAIL]=this._retryTimer.onFailure.bind(this._retryTimer),this.stateMachine["onenter"+y.REGISTER]=this._register.bind(this),this.stateMachine["onenter"+y.DISCONNECT]=this._disconnect.bind(this),this.stateMachine["onenter"+y.CONNECT]=this._connect.bind(this),this.stateMachine["onenter"+y.SUBSCRIBE]=this._subscribe.bind(this),this.stateMachine["onenter"+y.JOIN]=this._join.bind(this),this.stateMachine["onenter"+y.CHECK]=this._check.bind(this),this.stateMachine["onenter"+y.RECHECK]=this._recheck.bind(this),this.stateMachine["onenter"+y.INVALIDATE]=this._invalidateRegistration.bind(this),this.stateMachine["onafter"+y.JOIN]=this._registrationTimer.start.bind(this._registrationTimer)},b.prototype.start=function(){return this.isActiveRegistration()?this.stateMachine.check():this.stateMachine.start(),this},b.prototype._recheck=function(){this.stateMachine.check()},b.prototype._waitForRetryTimeout=function(){return v.ASYNC},b.prototype.log=function(){var e;return function(){var t=this;return e||(e=["trace","debug","info","warn","error","fatal"].reduce(function(e,n){return e[n]=function(e){return t.reportError(e,n)},e},{})),e}}(),b.prototype.reportError=function(e,t){this.onError()(e,t)},b.prototype.reportDebug=function(e){this.onError()(e,"debug")},b.prototype.onRetryTimeout=function(){var e=this.onError(),t=this._retryTimer.getNextTimeout();e({message:"Increasing Retry Timeout to: "+t.ms+" ms ("+t.sec+" sec)."}),this.stateMachine.is(y.EXIT)||this.stateMachine.transition()},b.prototype.url=function(e){var t=m[e],n=g[this.apiVersion()];if(!t)throw new TypeError("Unknown Url Type: "+e);return[this.baseUri(),t,n,e].join("/")},b.prototype.baseUri=function(e){return[].slice.call(arguments).length?(this._baseUri=e,this):this._baseUri},b.prototype.apiVersion=function(e){return[].slice.call(arguments).length?(this._apiVersion=e,this):this._apiVersion},b.prototype.filters=function(e){return[].slice.call(arguments).length?(this._filters=e,this):this._filters},b.prototype.authorization=function(e){return[].slice.call(arguments).length?(this._authorization=e,this):this._authorization},b.prototype.clientId=function(e){return[].slice.call(arguments).length?(this._store.setItem(b.VPNS_CLIENT_ID,e),this._clientId!==e&&(this._clientId=e,this.log().info("Setting VPNS client ID to "+this._clientId)),this):this._clientId},b.prototype.msgTypes=function(e){if(![].slice.call(arguments).length)return this._msgTypes;if(!e.length)throw new TypeError("`msgTypes` must be a non-empty array.");return this._msgTypes=e,this},b.prototype.available=function(e){return[].slice.call(arguments).length?(this._available=c(e,this.msgTypes()),this):this._available},b.prototype.servicePayloadFactory=function(e){return[].slice.call(arguments).length?(this._servicePayloadFactory=e,this):this._servicePayloadFactory},b.prototype.joinMetadata=function(e){return[].slice.call(arguments).length?(this._joinMetadata=e,this):this._joinMetadata},b.prototype.deviceId=function(e){return[].slice.call(arguments).length?(this._deviceId=e,this):this._deviceId},b.prototype.sessionId=function(e){return[].slice.call(arguments).length?(this.reportDebug("Setting sessionId to "+e),this._store.setItem(b.VPNS_SESSION_ID,e),this._sessionId=e,this):this._sessionId},b.prototype.onMessage=function(e){return[].slice.call(arguments).length?(this._onMessage=e,this):this._onMessage},b.prototype.onError=function(e){return[].slice.call(arguments).length?(this._onError=e,this):this._onError},b.prototype.halted=function(e){return[].slice.call(arguments).length?(this._halted=!!e,this):!!this._halted},b.prototype.halt=function(){this._invalidateRegistration(),this.halted(!0)},b.prototype.resume=function(){this.halted(!1)},b.prototype._processRegistrationData=function({data:e}){var t,n=l("Registration.Client.id",e),r=l("Registration.Service",e),o=h.types(r),a=function(e){return h.subscribe(r,e,this.msgTypes(),this.subscribeToEmptyServices)}.bind(this),s=this.invalidTypes(o),c=i.Promise.defer();return n?(this.clientId(n),s.length&&(t={message:'Configured type(s): "'+s.join(", ")+'" not available. Available types are: "'+o.join(", ")+'".'},this.reportDebug(t)),this.available(o),this._store.setItem(b.VPNS_AVAILABLE_TYPES,JSON.stringify(o)),this._store.setItem(b.VPNS_REGISTRATION_DATA,JSON.stringify(r)),this.servicePayloadFactory(a),this.joinMetadata(h.join(r,this.msgTypes())),c.resolve(n)):(t={message:"No `clientId` found in: "+JSON.stringify(e)},c.reject(t)),c.promise},b.prototype.invalidTypes=function(e){return s(this.msgTypes(),e)},b.prototype.send=function(e,t,n){if(!this.stateMachine.is(y.END)){var r=(t=t||{}).method||"GET",i=t.query,s=t.data,c=(t.dataType&&t.dataType,t.timeout||15e3),l=e,u={accept:"application/json"};i&&(l+=["?",o(i,!0)].join("")),this.authorization()&&(u.Authorization=this.authorization()),this.sessionId()&&(u["X-VPNS-NOTIFY-SESSIONID"]=this.sessionId()),this.reportDebug("Sending request: "+e+" with sessionId: "+this.sessionId());var d={url:l,method:r.toLowerCase(),data:s,headers:u,timeout:c},p=$.Deferred();return this._createRetryAjaxWrapper({ajaxOptions:d,defer:p,retryCount:a.isUndefined(t.retryCount)?3:t.retryCount,retryOptions:a({logDescription:"VPNS pre-invalidation retry for endpoint "+e}).extend(n)})(),p}},b.prototype._createRetryAjaxWrapper=function(e){var t=e.ajaxOptions,n=e.retryCount,r=e.defer,i=this.log(),o=0,s=new(e.retryClass||d)(a(e.retryOptions||{}).defaults({startingTimeout:25e3,maxTimeout:4e4,distributionMs:8e3,multiplier:1.5,log:i})),c=function(){if((o?i.debug:i.trace).bind(i)("Begin start of try number "+(o+1)+" of a promised wrapped ajax request with retry"),s.start(),this.stateMachine.is(y.EXIT)){var e="Aborting AJAX request";return i.error(e),void r.reject(e)}f.request(t).then(e=>{s.clearTimer(),r.resolve(e)},e=>{++o>=n||e&&e.response&&400===e.response.status?(s.clearTimer(),r.reject(e)):s.onFailure()})}.bind(this);return s.setCallback(c,this),c},b.prototype.onNextResponse=function(){if(!this._nextResponseDefered){this._nextResponseDefered=i.Promise.defer();var e=this.log();this._nextResponseDefered.promise.then(function(t,n,r){e.debug("AJAX endpoint response success")},function(t,n,r){e.debug("AJAX endpoint response failure")})}return this._nextResponseDefered.promise},b.prototype._onSuccessFactory=function(e){return function(){this.reportDebug("VPNS client success for "+e),this.stateMachine.success(),this._nextResponseDefered&&(this._nextResponseDefered.resolve(),this._nextResponseDefered=null)}.bind(this)},b.prototype._onFailureFactory=function(e){return function(){this.reportDebug("VPNS client failure for "+e),this.stateMachine.is(y.EXIT)||(this.stateMachine.fail(),this._nextResponseDefered&&(this._nextResponseDefered.reject(new Error("Failed response")),this._nextResponseDefered=null))}.bind(this)},b.prototype._register=function(){if(this.isActiveRegistration()){var e=i.Promise.defer();return e.resolve(this.clientId()),e}this._registrationPending=!0;var t={Registration:{id:this.deviceId(),Device:{id:this.deviceId()},operation:"create"}};return this.send(this.registrationURI,{method:"POST",data:t}).then(this._processRegistrationData.bind(this)).then(this._onSuccessFactory("register"),this._onFailureFactory("register"))},b.prototype.createInvalidateRegistrationHandler=function(e){return function(){this.reportDebug("Invalidating VPNS registration due to "+e),this._invalidateRegistration()}.bind(this)},b.prototype._invalidateRegistration=function(){return this.sessionId(""),this.clientId(""),this._registrationTimer.stop(),this.stateMachine.start(),this},b.prototype.isActiveRegistration=function(){return Boolean(this.clientId()&&this.sessionId())},b.prototype.register=function(){var e=this._register.bind(this),t=this._connect.bind(this),n=this._subscribe.bind(this),r=this._join.bind(this),i=this._registrationTimer.start.bind(this._registrationTimer);return this._registrationPromise=e().then(t).then(n).then(r).then(i),this._registrationPromise},b.prototype._connect=function(){return this.send(this.connectURI).then(function({headers:e}){var t=e["x-vpns-notify-sessionid"],n=i.Promise.defer();return t&&t.length>1?(this.sessionId(t),n.resolve(t)):t&&0===t.length?n.reject({message:"Rejecting empty sessionId: "+JSON.stringify(e||{})}):this.sessionId()?n.resolve(this.sessionid()):n.reject({message:"Unable to locate: x-vpns-notify-sessionid in headers: "+JSON.stringify(e||{})}),n}.bind(this)).then(this._onSuccessFactory("connect"),this._onFailureFactory("connect"))},b.prototype._disconnect=function(){if(this.sessionId())return this.send(this.disconnectURI,{retryCount:0}).then(this._onSuccessFactory("disconnect"),this._onFailureFactory("disconnect"));var e=i.Promise.defer();return this._onSuccessFactory("disconnect")(),e.resolve(),e},b.prototype._subscribe=function(){if(this._registrationPending){var e={Registration:{operation:"update",Client:{id:this.clientId()},Service:this.servicePayloadFactory()("create")||{Notification:[]}}};return this.send(this.registrationURI,{method:"POST",data:e}).then(this._onSuccessFactory("subscribe"),this._onFailureFactory("subscribe"))}},b.prototype.unsubscribe=function(){if(this.sessionId()){var e={Registration:{operation:"update",Client:{id:this.clientId()},Service:this.servicePayloadFactory()("delete")||{Notification:[]}}};return this.send(this.registrationURI,{method:"POST",data:e})}},b.prototype._join=function(){if(this._registrationPending){this.msgTypes();var e=[this.send(this.joinURI,{query:{clientId:this.clientId()}}),this.send(this.joinURI,{query:{clientId:this.clientId(),id:this.deviceId()}})],t=function(e){return e.map(function(e){var t=e.notificationType,n=this.filters()[t],r=Object.keys(n||{}),i={clientId:this.clientId(),notificationType:t,id:e.id};return r.forEach(function(e){i[e]=n[e]},this),this.send(this.joinURI,{query:i})}.bind(this))}.call(this,this.joinMetadata()).concat(e);return i.Promise.all(t).then(this._retryTimer.onSuccess.bind(this._retryTimer)).then(this._onSuccessFactory("join"),this._onFailureFactory("join"))}},b.prototype._check=function(){return this.send(this.checkURI,{dataType:"json",timeout:3e4},{startingTimeout:45e3,maxTimeout:6e4}).then(this.notify.bind(this)).then(this._onSuccessFactory("check"),function(e){e&&e.response&&400===e.response.status?(this._registrationPending=!0,this.stateMachine.reconnect()):this._onFailureFactory("check")()}.bind(this))},b.prototype.notify=function(e){var t=this.onMessage();if(!a.isEmpty(e.data))try{t(e.data)}catch(e){this.onError()(e,"error")}},b.prototype.end=function(){this._retryTimer.clearTimer(),a.isFunction(this.stateMachine.transition)&&this.stateMachine.transition(),this.stateMachine.exit()},b}.call(t,n,t,e))||(e.exports=r)},"493X":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("aC7e"),i=Object(r.a)("BLOCKED_RATINGS"),o=Object(r.a)("UPDATE_RATINGS")},"4ABp":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<nav class="sub-header" style="min-height: 50px" aria-label="{{$ctrl.options.networkName() ? $ctrl.options.networkName() + \' network\' : \'on demand\'}}">\n<div class="ondemand-back">\n<a ng-show="$ctrl.options.showBack" ng-click="$ctrl.goBack()" class="back-to" focus-on="{event: \'ondemand:setSubheaderOptions\', predicate: \'$data.showBack\'}" href="#">\n<span class="icon" aria-hidden="true"></span>\nBack to {{$ctrl.options.backString}}\n</a>\n</div>\n<div class="sub-header-container" role="presentation">\n<div class="sub-menu-center" ng-if="$ctrl.options.showFrontDoor" role="presentation">\n<ul class="sub-menu">\n<li ng-repeat="item in $ctrl.menuItems">\n<a ui-sref="{{$ctrl.getState(item)}}" ui-sref-active="selected" ng-attr-aria-current="{{$ctrl.isSelected(item) ? \'page\' : undefined}}" ng-click="$ctrl.selectSubheading(item);" ng-class="{\'last-submenu-item\': $last}">\n{{item.name}}\n</a>\n</li>\n</ul>\n</div>\n<div class="sub-menu-center" ng-if="$ctrl.options.showNetworkLogo">\n<h1 class="sr-only">{{$ctrl.options.networkName()}}</h1>\n<img class="network-logo" ng-src="{{$ctrl.options.networkLogoUrl()}}" aria-hidden="true" alt="">\n</div>\n<div ng-if="$ctrl.options.showNetwork3Tier" class="networkLogoSeparator"></div>\n<div ng-if="$ctrl.options.showNetwork3Tier" class="sub-menu-center network3Tier">\n<ovp-carousel items="$ctrl.options.childNetworks()" options="{showReturnArrow: false, useArrows: false, supportVariableWidth: true}">\n<div role="listitem" class="carousel-item" ng-repeat="network in $ctrl.options.childNetworks()">\n<div class="carousel-menu-item">\n<a ng-click="$ctrl.networkSelected(network)" ng-class="{selected: $ctrl.index == $index, \'last-submenu-item\': $last, \'first-submenu-item\': $first}" aria-current="{{$ctrl.index == $index}}" href="#">\n{{network.name}}\n</a>\n</div>\n</div>\n</ovp-carousel>\n</div>\n</div>\n<div class="ondemand-toggle">\n<grid-list-toggler ng-if="$ctrl.options.showToggle" id="\'vodMinorCategoryViewMode\'"></grid-list-toggler>\n</div>\n</nav>\n',o="js/ondemand/subheader/ondemand-subheader.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"4oev":function(e,t,n){var r;
/*!
 * COPYRIGHT 2015.  ALL RIGHTS RESERVED.  THIS MODULE CONTAINS
 * TIME WARNER CABLE CONFIDENTIAL AND PROPRIETARY INFORMATION.
 * THE INFORMATION CONTAINED HEREIN IS GOVERNED BY LICENSE AND
 * SHALL NOT BE DISTRIBUTED OR COPIED WITHOUT WRITTEN PERMISSION
 * FROM TIME WARNER CABLE.
 */void 0===(r=function(e,t,r){var i=n("oxxI").sprintf;var o=t.DEFAULTS={timeout:6e3,distributionMsec:4e3,maxTimeout:3e5,multiplier:2};function a(e){e=e||{},this.setCallback(e.callback,e.context),this.setArguments(e.args),this.setMaxTimeout(e.maxTimeout),this.setMultiplier(e.multiplier),this.setDistribution(e.distributionMsec),this.setStartingTimeout(e.startingTimeout),this.setLog(e.log),this.setLogDescription(e.logDescription),this.setLogToDebug(e.logToDebug),this._boundRunCallback=this._runCallback.bind(this),this.failureCount=0}return t.RetryTimer=a,a.prototype.getNextTimeout=function(){var e=this.getTimeout()*this.multiplier+this.offset();return{ms:e,sec:e/1e3}},a.prototype.incrementTimeout=function(){return this.setTimeout(this.getNextTimeout().ms),this.getTimeout()>this.maxTimeout&&this.setTimeout(this.maxTimeout),this},a.prototype.getTimeout=function(){return this._timeout||this.startingTimeout},a.prototype.getTimeoutSec=function(){return parseInt(this.getTimeout()/1e3,10)},a.prototype.setTimeout=function(e){return this._timeout=e,this},a.prototype.setCallback=function(e,t){return this.context=t||this,this.callback=e||function(){},this},a.prototype.setArguments=function(e){return this.args=Array.isArray(e)?e:[],this},a.prototype.setStartingTimeout=function(e){return this.startingTimeout=e||o.timeout,this},a.prototype.setMaxTimeout=function(e){return this.maxTimeout=e||o.maxTimeout,this},a.prototype.setMultiplier=function(e){return this.multiplier=e||o.multiplier,this},a.prototype.setDistribution=function(e){if(this.startingTimeout<=e)throw new TypeError(i("Invalid distribution: %s <= %s",this.startingTimeout,e));return this._distributionMsec=function(e){return!0===e?0:parseInt(e,10)||~~e}(e)||o.distributionMsec,this._offset=0,this},a.prototype.setLog=function(e){return this._log=function(){if(e)return this._logToDebug?e.debug.apply(e,arguments):e.error.apply(e,arguments)},this},a.prototype.setLogDescription=function(e){return this._logDescription=e||"",this},a.prototype.setLogToDebug=function(e){return this._logToDebug=e,this},a.prototype.offset=function(){return this._offset||(this._offset=Math.floor(Math.random()*this._distributionMsec)),this._offset},a.prototype.clearTimer=function(){return clearTimeout(this._timerId),delete this._timerId,this},a.prototype.onFailure=function(){this.failureCount++;var e=this._logDescription+" failure. Failure count = "+this.failureCount+". Retry in "+this.getTimeoutSec()+" sec";return this._log(e),this.clearTimer(),this._timerId=setTimeout(this._boundRunCallback,this.getTimeout()),this.incrementTimeout(),this},a.prototype.onSuccess=function(e){return e=e||{},this.setTimeout(this.startingTimeout),this.clearTimer(),e.runCallback&&(this._timerId=setTimeout(this._boundRunCallback,this.getTimeout())),this.failureCount>0&&this._log("NOT AN ERROR, "+this._logDescription+" retries were successful after "+this.failureCount+" failures"),this.failureCount=0,this},a.prototype.start=function(){return this._timerId=setTimeout(this._boundRunCallback,this.getTimeout()),this},a.prototype.isStarted=function(){return void 0!==this._timerId},a.prototype._runCallback=function(){this.clearTimer(),this.callback.apply(this.context,this.args)},t}.call(t,n,t,e))||(e.exports=r)},"4r6T":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="wrapper text-center">\n<div class="info-icon">\n<img alt="attention" ovp-src="/images/icon-40-x-40-information.svg"/>\n</div>\n<div ng-click="$ctrl.modalInstance.dismiss()" role="button" aria-label="close" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false">\n<img class="close-icon" ng-src="{{$ctrl.closeIcon()}}">\n</div>\n<div class="header text-center">\n<h1 id="error-title">{{$ctrl.message.title}}</h1>\n</div>\n<p id="error-description">{{$ctrl.message.message}}</p>\n<button class="kite-btn kite-btn-primary kite-btn-xl" aria-label="Ok" ng-click="$ctrl.modalInstance.dismiss()" focus-when="true">OK</button>\n</div>\n',o="js/components/record-cdvr/cdvr-storage-full-error.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"4y+m":function(e,t,n){"use strict";n.d(t,"a",function(){return L}),n.d(t,"b",function(){return F});var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("C6kf")),a=n.n(o),s=n("5rFJ"),c=n("KYMe"),l=n("L2Gd"),u=function(e){return null===e||void 0===e?void 0:e.bootstrap},d=function(e){var t;return!!(null===(t=u(e))||void 0===t?void 0:t.complete)},p=n("fwyg"),h=n("KS72"),v=n("5+k9"),f=n("hd3w"),m=n("3BTi"),g=n("tTMH"),b=n("25Ey"),y=n("CnnF"),S=n("aANo"),w=n("7FVJ"),k=n("p0Ps"),C=n("2UTf"),$=n("QuGv"),T=n("R+Vf"),O=n("jx2R"),E=n("UntU"),A=n("Aa8z"),P=(n("pNMO"),n("TeQF"),n("QWBl"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP"),n("lSNA")),I=n.n(P),x=n("IFgN");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var D=function(e,t,n){return Object($.a)()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){I()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({method:e.toUpperCase(),url:t,withCredentials:!0},n))},R=function(){Object(x.initialize)({http:{$http:D,httpParams:{}},rootConfigSelector:p.M,imageServerEndpointSelector:p.Nb})},j=i.a.mark(L),N=i.a.mark(F),M=i.a.mark(U),V=function(e){return function(t){return a()([],[e],t)}};function L(){var e,t,n=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},r.next=3,Object(s.g)(d);case 3:if(!r.sent){r.next=6;break}return r.abrupt("return");case 6:return t=V(e),r.prev=7,r.next=10,Object(s.b)(R);case 10:return r.next=12,Object(s.a)([Object(s.b)(U,t("fetchPrivateConfig")),Object(s.b)(m.a,t("fetchCapabilities")),Object(s.b)(g.a,t("fetchLocation")),Object(s.b)(b.b,t("getAllChannelsSaga")),Object(s.b)(w.a,t("fetchTimezone")),Object(s.b)(k.a,t("fetchLineup"))]);case 12:return r.next=14,Object(s.d)(l.a.success());case 14:return r.next=16,Object(s.b)(E.c);case 16:return r.next=18,Object(s.g)(T.e);case 18:if(!r.sent){r.next=24;break}return r.next=22,Object(s.b)(O.d);case 22:r.next=28;break;case 24:return r.next=26,Object(s.b)($.b);case 26:r.sent.$emit("Analytics:checkUserConfigSet");case 28:r.next=34;break;case 30:return r.prev=30,r.t0=r.catch(7),r.next=34,Object(s.d)(l.a.failure(r.t0));case 34:case"end":return r.stop()}},j,null,[[7,30]])}function F(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.k)(l.a.TRIGGER,L);case 2:case"end":return e.stop()}},N)}function U(){var e,t,n,r,o,l,u,d,m,g,b;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(s.d)(Object(h.p)());case 2:return i.prev=2,i.next=5,Object(s.g)(A.s);case 5:return e=i.sent,i.next=8,Object(s.g)(p.M);case 8:return t=i.sent,i.next=11,Object(s.g)(p.od);case 11:return n=i.sent,i.next=14,Object(s.g)(p.yb);case 14:return r=i.sent,o={clientType:"ONEAPP-OVP",apiKey:n,deviceId:r.id.toUpperCase(),appVersion:t.majorMinorVersion,deviceType:r.deviceType,osVersion:r.osVersion},l={Accept:"application/json","Content-Type":"application/json"},u={data:JSON.stringify(o),headers:l,url:e},i.next=20,Object(s.b)(c.default.post,u);case 20:return d=i.sent,i.next=23,Object(s.b)(a.a,{},["data","config"],d);case 23:if(!(m=i.sent)){i.next=48;break}return i.next=27,Object(s.d)(Object(h.q)());case 27:return i.next=29,Object(s.d)(Object(h.y)(m));case 29:return i.next=31,Object(s.b)(f.a);case 31:return i.next=33,Object(s.b)(f.b);case 33:return i.next=35,Object(s.b)(y.a);case 35:return i.next=37,Object(s.b)(S.a);case 37:return i.next=39,Object(s.b)(C.a);case 39:return i.next=41,Object(s.b)(f.f,m);case 41:return g=i.sent,i.next=44,Object(s.d)(Object(h.w)(g));case 44:return i.next=46,Object(s.d)(Object(v.b)());case 46:i.next=50;break;case 48:return i.next=50,Object(s.d)(Object(h.o)(d));case 50:i.next=57;break;case 52:return i.prev=52,i.t0=i.catch(2),b=i.t0.response?i.t0.response:{message:"TDCS activityConfig timeout or an internet connection error. error response property is undefined"},i.next=57,Object(s.d)(Object(h.o)(b));case 57:case"end":return i.stop()}},M,null,[[2,52]])}},"5+k9":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="TDCS_CONFIG_INIT_COMPLETE",i=function(){return{type:r}}},"53lA":function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("PNUD"),c=n("Hq+Z"),l=n("c+yO"),u=n("JJK5"),d=null;function p(){return(p=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.a.dispatch(c.a.reset()),e.next=3,Object(u.c)();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h={UNKNOWN:"unknown",IN_HOME:"In_Home",IN_MARKET:"In_Market",OUT_MARKET:"Out_Of_Market"};t.a={getLocation:function(){var e=s.a.getSelectorValue(l.a);return e?Promise.resolve(e):(d||(d=new Promise(function(e){var t=s.a.watch(["location","data"]),n=s.a.subscribe(t(function(t){t&&(n(),d=null,e(t))}))})),d)},resetCache:function(){return p.apply(this,arguments)},trigger:function(){s.a.dispatch(c.a.trigger())},LOCATION:h,getDeviceLocation:function(){return s.a.getSelectorValue(l.g)?s.a.getSelectorValue(l.d)?h.IN_HOME:s.a.getSelectorValue(l.e)?h.IN_MARKET:h.OUT_MARKET:h.UNKNOWN}}},"54sw":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<p id="time_range" class="sr-only">\nAiring {{$ctrl.startTime | date: \'shortTime\'}} to END TIME {{$ctrl.endTime | date: \'shortTime\'}}. Currently {{$ctrl.calcCurrentTime() | date: \'shortTime\'}}\n</p>\n<div class="ovp-player-status-bar">\n<div class="player-status-start" aria-hidden="true">{{$ctrl.startTime | date: \'shortTime\'}}</div>\n<div class="player-status-bar-container">\n<div class="status-bar" aria-hidden="true">\n<div class="status-marker" ng-style="$ctrl.sliderHandlePosition">\n<p class="current-time">\n<span>{{$ctrl.calcCurrentTime() | date: \'shortTime\'}}</span>\n</p>\n</div>\n</div>\n</div>\n<div class="player-status-end" aria-hidden="true">{{$ctrl.endTime | date: \'shortTime\'}}</div>\n</div>\n',o="js/components/player/player-status-bar.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"56rJ":function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return f}),n.d(t,"k",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return S});var r=n("aC7e"),i=Object(r.a)("CHROMECAST"),o="CHROMECAST_INITIALIZED",a="UPDATE_CHROMECAST_CONNECTION_STATUS",s="UPDATE_CHROMECAST_DEVICE_INFO",c="UPDATE_CHROMECAST_CAST_STATE",l="UPDATE_CHROMECAST_MEDIA_INFO",u="UPDATE_CHROMECAST_MUTED",d="UPDATE_CHROMECAST_PLAYER_STATE",p="UPDATE_CHROMECAST_VOLUME";function h(){return{type:o}}function v(e){return{type:a,payload:e}}function f(e){return{type:s,payload:e}}function m(e){return{type:c,payload:e}}function g(e){return{type:l,payload:e}}function b(e){return{type:u,payload:e}}function y(e){return{type:d,payload:e}}function S(e){return{type:p,payload:e}}},"5AoB":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="searchResults" fadein-immediate>\n<div>\nSearch for person: "{{vm.query}}" ({{vm.results.length}} results)\n</div>\n<ovp-grid-list items="vm.results" options="{title: vm.query + \' (\' + vm.results.length + \' results)\', id: \'personsearch\'}">\n<grid-items>\n<ovp-product ng-repeat="asset in vm.results" asset="asset" options="{focusOnLoad: $first && vm.focusOnLoad}" category="$first ? (vm.query + \' (\' + vm.results.length + \' results)\') : \'\'" index="$index"></ovp-product>\n</grid-items>\n<list-items>\n<result-list-item ng-repeat="asset in vm.results" item="asset" options="{focusOnLoad: $first && vm.focusOnLoad}" category="$first ? (vm.query + \' (\' + vm.results.length + \' results)\') : \'\'" index="$index"></result-list-item>\n</list-items>\n</ovp-grid-list>\n</div>\n',o="js/search/result-pages/person-search-results.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"5AqN":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="col-md-8" ng-if="!$ctrl.imageOnLeft">\n<img class="slide-image" alt="" ng-src="{{$ctrl.artOrigin + $ctrl.slide.imageUrl}}">\n</div>\n<div class="col-md-8">\n<div class="slide-copy">\n<h2 ng-bind-html="$ctrl.slide.subHeaderText"></h2>\n<p ng-bind-html="$ctrl.slide.description"></p>\n</div>\n</div>\n<div class="col-md-8" ng-if="$ctrl.imageOnLeft">\n<img class="slide-image" alt="" ng-src="{{$ctrl.artOrigin + $ctrl.slide.imageUrl}}">\n</div>\n',o="js/feature-tour/feature-tour-slide.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"5F3W":function(e,t){!function(){"use strict";angular.module("ovpApp.ondemand.networkSubPage",["ovpApp.ondemand.networkThreeTier","ovpApp.ondemand.data"]).component("networkSubPage",{templateUrl:"js/ondemand/networks/network-sub-page.html",bindings:{data:"<",page:"<",index:"<"}})}()},"5Jdf":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="player-debug-window-wrapper">\n<button ng-click="$ctrl.status.hidden=!$ctrl.status.hidden">Toggle</button>\n<div class="player-debug-window-container" ng-hide="$ctrl.status.hidden">\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Playback position : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.playbackPosition}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Status : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.playbackStatus}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Ad playing : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.adPlaying}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Ad info : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.adInfo}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">EPTBookmark : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.eptBookmark}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Buffer Status : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.bufferStatus}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Bitrate : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.bitRateStatus}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Dropped frames count : </div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.droppedFramesCount}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Buffer length:</div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.bufferLength}}</span>\n</div>\n<div class="row cast-wrapper">\n<div class="label col-md-7 col-sm-7">Buffer time:</div>\n<span class="val col-md-9 col-sm-9">{{$ctrl.status.bufferTime}}</span>\n</div>\n</div>\n</div>\n',o="js/components/player/toggle-debug.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"5L47":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.isVisible" class="kite-modal kite-modal-open kite-modal-z-index {{$ctrl.modalInstance.options.windowClass}}" ng-click="$ctrl.clickOutSideModal($event)" ng-class="{\'kite-close-header-space\': $ctrl.showCloseIcon}" ng-keydown="$ctrl.onKeyDown($event)" ng-blur="$ctrl.modalTabIndex=-1" ng-focus="$ctrl.modalTabIndex=0" ng-attr-aria-label="{{$ctrl.modalInstance.options.ariaLabelledBy ? undefined : \'\'}}" tabindex="{{$ctrl.modalTabIndex}}" role="{{$ctrl.modalInstance.options.role || \'dialog\'}}" aria-labelledby="{{$ctrl.modalInstance.options.ariaLabelledBy}}" ng-attr-aria-describedby="{{$ctrl.modalInstance.options.ariaDescribedBy ? $ctrl.modalInstance.options.ariaDescribedBy : undefined}}" focus-once>\n<div class="kite-modal-dialog kite-card">\n<div class="sr-only">&nbsp;</div>\n<div class="kite-modal-body">\n<kite-modal-content></kite-modal-content>\n</div>\n<div class="kite-modal-header" ng-if="$ctrl.showCloseIcon">\n<button id="modal-close" aria-label="Close dialog" class="kite-close" type="button" ovp-click="$ctrl.closeIcon()"></button>\n</div>\n</div>\n<div class="kite-modal-backdrop"></div>\n</div>\n',o="js/components/kite-modal/kite-modal.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"5md7":function(e,t){!function(){"use strict";function e(e,t){e.confirm=function(){t.$emit("Analytics:click-confirm-confirmed"),e.popup.close(),e.ngClick.call()},e.cancel=function(){t.$emit("Analytics:click-confirm-cancelled"),e.popup.close()}}function t(e,t,n,r,i){return function(e,o,a,s){var c=e.$new(!1),l=t.defer(),u=i(a.ovpClickConfirm)(c),d=n("js/components/ovp/ovp-click-confirm/ovp-click-confirm.html");c.clickConfirm=u,c.$rootScope=e.$root,d.then(function(t){c.ngClick=function(){i(a.ngClick)(c,{$event:s})},c.parentContainer=function(){return angular.element("body")},e.$root.$emit("Analytics:click-confirm-showing",c.clickConfirm),c.popup=r.show({template:t,showCloseIcon:!1,overlayClickClosesPopup:!1,deferred:l},c)},function(){throw"Error pulling template"}),l.promise.then(function(){c.$destroy()})}}function n(e,t){return{restrict:"A",scope:!1,priority:-1,link:function(n,r,i){if(!i.ngClick)throw"ngClick directive must be provided as an attribute for use with ovp-click-confirm.";r.on("click",function(o){t.$emit("Analytics:click-confirm-triggered"),e(n,r,i,o),o.stopImmediatePropagation()}),n.$on("$destroy",function(){t.$emit("Analytics:click-confirm-destroyed"),r.off()})}}}n.$inject=["clickOverride","$rootScope"],t.$inject=["$timeout","$q","$templateRequest","popUpService","$parse"],e.$inject=["$scope","$rootScope"],n.$inject=["clickOverride","$rootScope"],t.$inject=["$timeout","$q","$templateRequest","popUpService","$parse"],e.$inject=["$scope","$rootScope"],angular.module("ovpApp.components.ovp.clickConfirm",["ovpApp.components.popup"]).controller("OvpClickConfirmController",e).factory("clickOverride",t).directive("ovpClickConfirm",n)}()},"6/sf":function(e,t,n){var r;void 0===(r=function(e,t,r){return t.Lazy=n("/40O").LazyTimer,t.Inactivity=n("iboZ"),t.Retry=n("4oev").RetryTimer,t}.call(t,n,t,e))||(e.exports=r)},"66Du":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<masthead ng-if="$ctrl.version === 2" asset="$ctrl.movie"></masthead>\n<div id="productPageMovie" ng-class="{container: $ctrl.version===1}" class="product-page product-page-movie details-section">\n<div ng-if="$ctrl.version === 1" class="row masthead">\n<div class="col-md-5">\n<div class="thumbnail thumbnail-static thumbnail-responsive text-center">\n<img ng-src="{{::$ctrl.movie.imageUri({width:280})}}" fadein-onload>\n<span class="twcicon-svg twcicon-svg-key" ng-if="!$ctrl.entitled" aria-hidden="true" aria-label="key icon"></span>\n<span class="twcicon-svg twcicon-svg-lock" ng-if="$ctrl.entitled && $ctrl.blocked" aria-hidden="true" aria-label="lock icon"></span>\n<progress-bar percent-played="::$ctrl.movie.playedPct" ng-if="::$ctrl.movie.playedPct > 0"/>\n</div>\n</div>\n<div class="col-md-11">\n<div class="row program-header">\n<div class="col-md-12">\n<div class="title">\n<h1 class="kite-h2" focus-once tabindex="-2">{{::$ctrl.movie.title}}</h1>\n<div class="twcicon-svg twcicon-svg-recording" role="img" aria-label="Scheduled to record" ng-if="$ctrl.movie.cdvrHasNotCompleted"></div>\n</div>\n<p class="subtitle-container h4">\n<ovp-rating rating="$ctrl.movie.rating"></ovp-rating>\n<span class="release-year">{{::$ctrl.movie.year}}</span>\n<span class="actors">{{::$ctrl.movie.actorsString}}</span>\n</p>\n</div>\n<div class="col-md-4 text-center">\n<img alt="{{::$ctrl.movie.network.name}}" class="channel-logo" ng-src="{{::$ctrl.movie.networkImage({height:81, default:false})}}" fallback-image="display:none"/>\n</div>\n</div>\n<div class="row" ng-if="::$ctrl.isUnavailableOoh()">\n<div class="col-md-16">\n<p class="ooh-unavailable-message">\n<svg focusable="false" aria-hidden="true" role="img" aria-label="" class="ooh-icon-arrow"><use width="15" height="15" xlink:href="#ooh-arrow-icon" svg-path/></svg>\n<small>{{::$ctrl.oohAvailabilityMessage()}}</small>\n</p>\n</div>\n</div>\n<div class="row" ng-if="$ctrl.availabilityMessage()">\n<div class="col-md-16">\n<p class="unavailable-message h4 small" ng-bind-html="$ctrl.availabilityMessage()"></p>\n</div>\n</div>\n<div class="row">\n<div class="col-md-16">\n<p class="program-summary" ng-bind-html="$ctrl.movie.longDescription" data-ellipsis></p>\n</div>\n</div>\n<action-menu class="row program-actions" actions="$ctrl.movie.actions" asset="$ctrl.movie" ng-if="$ctrl.movie.actions"></action-menu>\n</div>\n</div>\n<product-info asset="$ctrl.movie"></product-info>\n<other-ways asset="$ctrl.movie" class="other-ways" ng-if="$ctrl.movie.hasOtherWaysToWatch"></other-ways>\n</div>\n',o="js/product/product-movie.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"6SM1":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i="<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\">\n<div class=\"modal-content\" uib-modal-transclude>\n</div>\n</div>\n",o="js/components/modal/classic.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"6avm":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="specu-activation-container-wrapper">\n<div class="specu-activation-backgrond" feature-tour-background></div>\n<div class="specu-activation-container kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<h1 class="kite-h3" tabindex="-2" focus-once>Submit Your Code</h1>\n<p id="specu-activation-intro" class="kite-form-group">\nAfter we verify your code, we\'ll redirect you to a page where you\'ll sign in with your school username and password.\n</p>\n<form ng-submit="$ctrl.onSubmit()">\n<div class="kite-form-group">\n<label for="specu-activation-code">\nEnter the code displayed on your TV\n</label>\n<input type="text" class="kite-form-control" id="specu-activation-code" ng-model="$ctrl.activationCode" autofocus>\n</div>\n<button type="submit" class="kite-btn kite-btn-primary kite-btn-block">\nSubmit\n</button>\n</form>\n</div>\n</div>\n</div>\n',o="js/specu/activate.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"6eQB":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-switch="$ctrl.conflictStatus" class="edit-conflict">\n<div ng-switch-when="conflict">\n<h1 id="kite-alert-header" class="kite-modal-title kite-h3">Resolve Recording Conflict</h1>\n<p id="kite-alert-description" class="kite-modal-description">You can record only {{$ctrl.recordings.length - 1}} titles at the same time. Please choose 1 recording to cancel.</p>\n<p role="heading" aria-level="2" class="kite-modal-description date">{{$ctrl.dayDisplay}}</p>\n<ul class="conflict-list">\n<div class="conflict-item-container" ng-repeat="rec in $ctrl.recordings">\n<label class="kite-custom-control kite-custom-radio kite-custom-control--block" for="rec{{$index}}">\n<input aria-label="{{$ctrl.getRecordingAriaLabel(rec)}}" id="rec{{$index}}" class="kite-custom-control-input" name="recording" type="radio" ng-value="rec" ng-model="$ctrl.selectedConflictItem" ng-attr-tabindex="{{$ctrl.selectedConflictItem === rec ? 0 : -1}}">\n<span aria-hidden="true" class="kite-custom-control-indicator"></span>\n<div aria-hidden="true" class="conflict-item">\n<span class="kite-custom-control-description truncate">{{rec.title}}</span>\n<div class="kite-custom-control-description truncate" ng-if="rec.seasonNumber">\n<span>S{{rec.seasonNumber}} E{{rec.episodeNumber}}</span>&nbsp;{{rec.episodeTitle}}</div>\n<div class="channel-meta">\n<span>{{rec.callSign}}</span>\n<span class="divider">|</span>\n<span>{{rec.displayChannel}}</span>\n</div>\n</div>\n</label>\n<hr aria-hidden="true"/>\n</div>\n</ul>\n<div>\n<button class="kite-btn kite-btn-outline-primary kite-btn-lg" ovp-click="$ctrl.close()">Close</button>\n<button class="kite-btn kite-btn-primary kite-btn-lg" ng-disabled="!$ctrl.selectedConflictItem" ovp-click="$ctrl.cancelRecording($event)">Cancel Recording</button>\n</div>\n</div>\n<div ng-switch-when="resolving">\n<div class="spinner"></div>\n<br/>\n<div id="kite-alert-header" class="kite-h3" role="heading" aria-level="2">Updating Recordings</div>\n<div>This will take just a moment.</div>\n</div>\n<div ng-switch-when="error">\n<div class="si si-circle-caution-f icon-kite-red icon-md"></div>\n<div id="kite-alert-header" class="kite-h3" role="heading" aria-level="2">Unable to Cancel</div>\n<p id="kite-alert-description">We\'re sorry. We were unable to cancel your recording. Please try again later.</p>\n<button class="kite-btn kite-btn-secondary kite-btn-md" ovp-click="$ctrl.close()">Close</button>\n</div>\n<div ng-switch-when="success">\n<div class="si si-checkmark-f icon-kite-green icon-md" aria-hidden="true"></div>\n<div id="kite-alert-header" class="kite-h3" role="heading" aria-level="2">Conflict Resolved</div>\n<button class="kite-btn kite-btn-secondary kite-btn-md" ovp-click="$ctrl.close(\'success\')">Close</button>\n</div>\n</div>\n',o="js/components/edit-conflict/edit-conflict.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"6kj4":function(e,t,n){var r,i,o,a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(s){if("object"==typeof e.exports){var c=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=n("+iid"),r=function(e){return function(n){return!t.inArray(e,n)}},i=function(e){return function(t){return t.state.parent===e.state}},o=function(e){return e.parent?o(e.parent).concat(e):[e]},s=function(e){return function(n){return e.map(function(e){return function(e){var t=e.state;return function(e){return-1!==o(e.state).indexOf(t)}}(e)(n)}).reduce(t.anyTrueR,!1)}};var c=function(e){function n(n){var r=e.call(this)||this;return r.router=n,r.name="stickystates",r._inactives=[],r._getInactive=function(e){return e&&t.find(r._inactives,function(t){return t.state===e.state})},r.pluginAPI=n.transitionService._pluginapi,r._defineStickyPaths(),r._defineStickyEvents(),r._addCreateHook(),r._addStateCallbacks(),r._addDefaultTransitionOption(),r}return a(n,e),n.prototype.inactives=function(){return this._inactives.map(function(e){return e.state.self})},n.prototype._addCreateHook=function(){var e=this;this.router.transitionService.onCreate({},function(t){t._treeChanges=e._calculateStickyTreeChanges(t)},{priority:100})},n.prototype._defineStickyPaths=function(){this.pluginAPI._definePathType("inactivating",t.TransitionHookScope.STATE),this.pluginAPI._definePathType("reactivating",t.TransitionHookScope.STATE)},n.prototype._defineStickyEvents=function(){var e=this.pluginAPI._getPathTypes();this.pluginAPI._defineEvent("onInactivate",t.TransitionHookPhase.RUN,5,e.inactivating,!0),this.pluginAPI._defineEvent("onReactivate",t.TransitionHookPhase.RUN,35,e.reactivating)},n.prototype._addStateCallbacks=function(){this.router.transitionService.onInactivate({inactivating:function(e){return!!e.onInactivate}},function(e,t){return t.onInactivate(e,t)});this.router.transitionService.onReactivate({reactivating:function(e){return!!e.onReactivate}},function(e,t){return t.onReactivate(e,t)})},n.prototype._calculateExitSticky=function(e,n){var r=n.options().exitSticky||[];t.isArray(r)||(r=[r]);var i=n.router.stateService,o=r.map(t.assertMap(function(e){return i.get(e)},function(e){return"State not found: "+e})).map(function(e){return e.$$state()}),a=this._inactives.concat(e.inactivating).reduce(t.uniqR,[]),c=o.map(t.assertMap(function(e){return a.find(function(t){return t.state===e})},function(e){return"State not inactive: "+e})),l=a.filter(s(c));return l.map(t.assertMap(function(n){return!t.inArray(e.to,n)},function(e){return"Can not exit a sticky state that is currently active/activating: "+e.state.name})),l},n.prototype._calculateStickyTreeChanges=function(e){var n=this,o=e.treeChanges();o.inactivating=[],o.reactivating=[],o.entering.length&&o.exiting[0]&&o.exiting[0].state.sticky&&(o.inactivating=o.exiting,o.exiting=[]);var a=o.retained.concat(o.entering.map(function(e){return n._getInactive(e)||null})).filter(t.identity),c=t.PathFactory.treeChanges(a,o.to,e.options().reloadState),l=["retained","entering","exiting"].some(function(e){return!!c[e].length});l&&(o.reactivating=c.retained.slice(o.retained.length),o.entering=c.entering,o.exiting=o.exiting.concat(c.exiting),o.to=o.retained.concat(o.reactivating).concat(o.entering));var u=this._inactives,d=u.filter(i(t.tail(o.to))),p=u.filter(function(e){return function(n){return e.map(function(e){return i(e)(n)}).reduce(t.anyTrueR,!1)}}(o.to)).filter(r(o.to)).filter(function(e){return!e.state.sticky}),h=d.concat(p).filter(r(o.exiting)),v=o.exiting.concat(h),f=u.filter(s(v)).filter(r(v)).concat(h).reduce(t.uniqR,[]).sort(function(e){return function(t,n){var r=t.state.path.length-n.state.path.length;return 0!==r?r:e.indexOf(n)-e.indexOf(t)}}(u));o.exiting=f.concat(o.exiting),e.onSuccess({},function(){o.exiting.forEach(t.removeFrom(n._inactives)),o.entering.forEach(t.removeFrom(n._inactives)),o.reactivating.forEach(t.removeFrom(n._inactives)),o.inactivating.forEach(t.pushTo(n._inactives))});var m=this._calculateExitSticky(o,e);return m.filter(r(o.exiting)).forEach(t.pushTo(o.exiting)),m.filter(t.inArray(o.inactivating)).forEach(t.removeFrom(o.inactivating)),o},n.prototype._addDefaultTransitionOption=function(){t.defaultTransOpts.exitSticky=[]},n.prototype.exitSticky=function(e){var n=this.router.stateService;return void 0===e&&(e=this._inactives.map(function(e){return e.state.name})),t.isString(e)&&(e=[e]),n.go(n.current,{},{inherit:!0,exitSticky:e})},n}(t.UIRouter);e.StickyStatesPlugin=c}(t);void 0!==c&&(e.exports=c)}else i=[n,t,n("+iid")],r=factory,void 0===(o="function"==typeof r?r.apply(t,i):r)||(e.exports=o)}()},"6wCY":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c});var r="CREATE_BROKEN_STREAM_WINDOW",i="DELETE_BROKEN_STREAM_WINDOW",o="UPDATE_BROKEN_STREAM_WINDOW",a=function(e){return{type:r,data:e}},s=function(){return{type:i}},c=function(e){return{type:o,data:e}}},"6xbq":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 id="kite-confirm-title" class="kite-modal-title kite-h1">{{::$ctrl.modalInstance.options.resolve.title}}</h1>\n<p id="kite-confirm-title" class="kite-h4">{{::$ctrl.modalInstance.options.resolve.description}}</p>\n',o="js/components/kite-modal/kite-growl/kite-growl.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"7/JK":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});n("yq1k"),n("sMBO"),n("JTJg");var r=n("dprx"),i=n.n(r),o=n("fwyg"),a=n("PNUD"),s=n("UntU"),c=n("hIh8"),l=n("R+Vf");function u(e,t){var n,r;if(function(e){return a.a.getSelectorValue(l.a).includes(e)}(e))return!1;if(!i.a.eventsLoaded)return!0;var o=null===(n=i.a.getEventCase(e))||void 0===n?void 0:null===(r=n.eventType)||void 0===r?void 0:r.name;if(o){if(v(o))return!1;var c=Object(s.i)();if(p(o,c))return h(o,c,t),!1}return!0}function d(e,t){if(v(e))return!1;var n=Object(s.i)();return!p(e,n)||(h(e,n,t),!1)}function p(e,t){return t!==c.b.BLANK&&(t!==c.b.DISABLED&&c.b.DISABLED===function(e,t){var n=c.c[e]||{};return n[t]||(n["*"]?t:c.b.DISABLED)}(e,t))}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a.a.getSelectorValue(o.dg)||console.error("Error: eventType would disable Quantum: "+e+", state:"+Object(s.i)(),{payload:n}),Object(s.j)("Unexpected_event_customEvent",{customMessage:{text:"Unexpected event "+e+" in state "+t,eventType:e,currentState:t,payload:JSON.stringify(n)}})}function v(e){return a.a.getSelectorValue(l.b).includes(e)}},"7FVJ":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return g});n("brp2"),n("DQNa"),n("rB9j"),n("EnZy");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("5rFJ")),a=n("KYMe"),s=n("fwyg"),c=n("Aa8z"),l=n("X8yy"),u=n("8fEJ"),d=n("3V2u"),p=n("5+k9"),h=n("xYk6"),v=i.a.mark(m),f=i.a.mark(g);function m(){var e,t,n,r;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(o.g)(u.b);case 2:if(!i.sent){i.next=5;break}return i.abrupt("return");case 5:return i.prev=5,i.next=8,Object(o.d)(l.a.request());case 8:return i.next=10,Object(o.g)(c.u);case 10:return e=i.sent,i.prev=11,i.next=14,Object(o.b)(a.default.get,{url:e,withCredentials:!0,includeDeviceId:!0});case 14:return t=i.sent,n=t.data,i.next=18,Object(o.d)(l.a.success(n));case 18:i.next=27;break;case 20:return i.prev=20,i.t0=i.catch(11),i.next=24,Object(o.b)(b);case 24:return r=i.sent,i.next=27,Object(o.d)(l.a.success(r));case 27:return i.next=29,Object(o.b)(h.b);case 29:i.next=35;break;case 31:return i.prev=31,i.t1=i.catch(5),i.next=35,Object(o.d)(l.a.failure(i.t1));case 35:case"end":return i.stop()}},v,null,[[5,31],[11,20]])}function g(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.h)(p.a);case 2:return t.next=4,Object(o.g)(s.Qe);case 4:e=60*+(e=t.sent)*1e3;case 6:return t.next=9,Object(o.c)(e);case 9:return t.next=11,Object(o.g)(d.c);case 11:if(!t.sent){t.next=15;break}return t.next=15,Object(o.b)(m);case 15:t.next=6;break;case 17:case"end":return t.stop()}},f)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=new Date(e),n=new Date(e).getFullYear(),r=new Date(n,0,1).getTimezoneOffset(),i=t.getTimezoneOffset()/60,o=r<i;return{fullName:Intl.DateTimeFormat("en-US").resolvedOptions().timeZone,gmTimeMs:e,inDST:o,name:t.toLocaleTimeString("en-us",{timeZoneName:"short"}).split(" ")[2],offsetFromGMT:-i}}},"7RMp":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="guide-header container">\n<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>{{vm.sectionLabel}}</h1>\n<guide-date on-date-toggle="vm.onDateToggle" jump-to-day="vm.jumpToDay" times="::vm.times"></guide-date>\n<div class="filter-section row">\n<button class="col-md-2 now" ng-click="vm.goToNow()" ng-disabled="vm.timeIndex === 0"><i></i>Go To Now</button>\n<div class="col-md-14 channel-filter text-right" role="group" aria-label="Filter Guide">\n<span aria-hidden="true">Show:</span>\n<button class="filter" title="{{filter.title}}" aria-pressed="{{(vm.filters.preset==filter) ? true : false}}" ng-attr-tabindex="{{(vm.filters.preset==filter) ? \'-1\' : undefined}}" ng-attr-aria-disabled="{{(vm.filters.preset==filter) ? \'true\' : undefined}}" ng-class="{selected:vm.filters.preset==filter}" ng-click="vm.setPresetFilter(filter, $event)" ng-repeat="filter in vm.presets">{{filter.label}}</button>\n</div>\n</div>\n</div>\x3c!--! end of #gridHeaderContainer --\x3e\n',o="js/guide/guide-subheader.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"7WQw":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<form class="pin-form text-center" ng-model="$ctrl.form" name="$ctrl.form" ng-submit="$ctrl.validatePIN()">\n<div class="alert alert-danger" ng-show="$ctrl.form.$submitted && $ctrl.form.$invalid" role="alert" ng-messages="$ctrl.form.$error">\n<p ng-message="pinValidated"></p>\n<p ng-bind-html="$ctrl.errorMessage"></p>\n<p><a ng-if="$ctrl.enableForgotPin" class="alert-link" href="#" ng-click="$ctrl.forgotPIN()" target="_forgotuser">Did you forget your PIN?</a></p>\n</div>\n<div class="form-group text-center">\n<h1 id="pinInstructions" class="kite-h2" ng-if="$ctrl.pinInstructions" ng-bind-html="$ctrl.pinInstructions"></h1>\n</div>\n<div class="form-group" ng-class="{\'has-error\': $ctrl.isValidationError || $ctrl.form.currentPIN.$error.pattern}">\n<label for="pin">{{$ctrl.pleaseEnterPin}}</label>\n<input id="pin" class="form-control input-lg pin-input text-security" name="currentPIN" type="text" aria-describedby="pin_warning" autocomplete="off" minlength="{{$ctrl.minLength}}" maxlength="{{$ctrl.maxLength}}" required aria-invalid="{{$ctrl.isValidationError ? \'true\' : \'false\'}}" ng-minlength="{{$ctrl.minLength}}" ng-maxlength="{{$ctrl.maxLength}}" ng-model="$ctrl.currentPIN" ng-pattern="/^(\\d)+$/" ng-change="$ctrl.onInputChange()" ng-model-options="{allowInvalid: true}" focus-once/>\n<p class="help-block" id="pin_warning" ng-class="{\'invisible\': !$ctrl.showNumbersOnlyErrorMessage}">PIN must contain only numbers</p>\n<p ng-if="$ctrl.showOOHWarningMessage" class="unavailable-message"><small error-codes="WLC-1012"></small></p>\n</div>\n<div class="form-group">\n<div class="spinner" ng-if="$ctrl.loadingTracker.active()" role="img" aria-label="loading"></div>\n<input class="kite-btn kite-btn-primary kite-btn-block" id="pin-submit-button" type="submit" value="Submit" ng-if="!$ctrl.loadingTracker.active()"/>\n</div>\n<div class="form-group">\n<a ng-if="$ctrl.enableForgotPin" class="help-link pull-right" href="#" ng-click="$ctrl.forgotPIN()" focus-next=".popupCloseClick" aria-label="forgot your pin?">Forgot your PIN?</a>\n</div>\n</form>\n',o="js/components/pin-entry/pin-validate.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"7p1Z":function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c});var r={FRONT_PORCH:"FrontPorch",FREE_PREVIEW:"FreePreview"},i={FREE_TRIAL:"FreeTrial",PROMO_PRICE:"PromoPrice"},o={FREE_TRIAL:"Free Trial",FREE_PREVIEW:"FreePreview",PROMOTIONAL:"Promotional"},a={NAVIGATE:"navigate",ACTION:"action"},s={PURCHASE:"confirmPurchase",FREE_PREVIEW:"freePreview"},c={LEVELS_OF_SERVICE:"levelsOfService",CHOICE_CHANNELS:"choiceChannels",EXTRAS:"extras",PREMIUMS:"premiums",CART:"cart"}},"7s9v":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return m});n("yXV3"),n("4l63"),n("rB9j"),n("Rm1S");var r=n("zAb8"),i=n("PNUD"),o=n("UntU"),a=n("t1SM"),s=n("YPdk"),c=n("Ga+L"),l=n("I+BT");function u(e){d(),Object(o.j)("OneApp_displayChange",{screenResolution:i.a.getSelectorValue(c.a)}),Object(s.c)()}function d(){i.a.getInstance().dispatch(Object(a.b)({innerWidth:window.innerWidth,innerHeight:window.innerHeight,screenResolution:window.innerWidth+"x"+window.innerHeight}))}var p={passive:!0};function h(){if(function(){var e=window.chrome,t=window.navigator,n=t.vendor,r=void 0!==window.opr,i=t.userAgent.indexOf("Edge")>-1;return!!t.userAgent.match("CriOS")||null!==e&&void 0!==e&&"Google Inc."===n&&!1===r&&!1===i}()){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):void 0}}function v(){return!!window.navigator.userAgent.match("Edg")}var f=null;function m(){return f}window.addEventListener("resize",Object(r.a)(500,function(e){return u()}),p),window.document.addEventListener("mousedown",function(){return f=l.n.MOUSE},p),window.document.addEventListener("keydown",function(){return f=l.n.KEYBOARD},p)},"7w/W":function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("BUYFLOW_CMS");t.a=i},"8B3N":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<form class="pin-form text-center master-password-message" name="$ctrl.form" role="form">\n<div class="form-group" id="formInstructions">\n<p ng-if="$ctrl.headerMessage" class="headerMessage" id="headerMessage" aria-label="{{$ctrl.headerMessage.toLowerCase().replace($ctrl.tagRegex,\' \')}}" ng-bind-html="$ctrl.headerMessage"></p>\n<br/>\n<p ng-if="$ctrl.secondaryMessage" id="secondaryMessage" aria-label="{{$ctrl.secondaryMessage.toLowerCase().replace($ctrl.tagRegex,\' \')}}" ng-bind-html="$ctrl.secondaryMessage"></p>\n</div>\n<br/>\n<div class="form-group">\n<input class="kite-btn kite-btn-block kite-btn-primary" focus-once ng-click="$ctrl.modalInstance.dismiss()" type="submit" value="OK" focus-next=".popupCloseClick"/>\n</div>\n</form>\n',o="js/components/pin-entry/pin-entry-message.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"8Qo/":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="gridHeaderContainer">\n<div id="gridHeader">\n<div class="timeControls">\n<div class="dateContainer">\n</div>\n<div id="timeNavigationContainer">\n<div id="timeNavigation">\n<div class="times"></div>\n<div class="prev"><a title="Previous">Previous</a></div>\n<div class="next"><a title="Next">Next</a></div>\n</div>\n<div id="datePicker"></div>\n</div>\n</div>\n<div class="filters">\n<div id="channelSearch">\n<div class="cancelSearch"></div>\n<form class="search">\n<div>\n<input class="searchField" placeholder="Jump to Channel" autocomplete="off"/>\n</div>\n</form>\n</div>\n<div class="now">Go To Now<i></i></div>\n<h6 class="channelFilter"><span>Show me:</span> <a id="all" class="selected ct_71_ct elm-c" title="View all channels." href="#">All Channels</a> | <a id="favorites" class="ct_71_ct elm-c" title="View your favorite channels." href="#">Favorites</a> | <a id="hd" class="ct_71_ct elm-c" title="View only HD channels." href="#">HD</a> | <a id="liveTV" class="ct_71_ct elm-c" title="See what\'s playing online." href="#">On PC</a> </h6>\n</div>\n</div>\n</div>\x3c!--! end of #gridHeaderContainer --\x3e',o="js/pages/schedule.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"8YVh":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button id="full-screen-icon" class="fullscreen-button button-just-icon" ovp-click="$ctrl.toggle($event)" aria-label="full screen" ng-mouseover="$ctrl.hovered = true" ng-mouseleave="$ctrl.hovered = false" prevent-default aria-pressed="{{$ctrl.fullscreenActive}}" ovp-fullscreen-toggle="$ctrl.onFullScreenToggle(isEnabled)">\n<img alt="full screen" ng-src="{{$ctrl.fullScreenIcon()}}"/>\n</button>\n',o="js/components/player/toggle-fullscreen.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"8YbF":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="searchResults" fadein-immediate>\n<div>{{$ctrl.searchResultsTitle}}</div>\n<div ng-repeat="category in $ctrl.layout.categories">\n<ovp-grid-list ng-if="category.numResults > 0 && category.title === \'Networks\'" items="category.results" options="{showToggle: $index == 0, title: $ctrl.getCategoryTitle(category), showPagination: false, id: \'search\'}">\n<grid-items role="list">\n<channel-card role="listitem" ng-repeat="channel in category.results | limitTo: $ctrl.limit" channel="channel" options="{showChannelName: true}" category="$first ? $ctrl.getCategoryTitle(category) : \'\'"></channel-card>\n</grid-items>\n<list-items role="list">\n<result-list-item role="listitem" ng-repeat="asset in category.results | limitTo: $ctrl.limit" options="{index: $index, parentIndex: $parent.$index, focusOnLoad: ($first && $parent.$first && $ctrl.focusOnLoad) || ($index === $ctrl.focusIndex.index && $parent.$index === $ctrl.focusIndex.parentIndex)}" item="asset" category="$first ? $ctrl.getCategoryTitle(category) : \'\'" index="$index"></result-list-item>\n</list-items>\n</ovp-grid-list>\n<ovp-grid-list ng-if="category.numResults > 0 && category.title !== \'Person\' && category.title !== \'Networks\'" items="category.results" options="{showToggle: $index == 0, title: $ctrl.getCategoryTitle(category), showPagination: false, id: \'search\'}">\n<grid-items role="list">\n<ovp-product role="listitem" ng-repeat="asset in category.results | limitTo: $ctrl.limit" options="{index: $index, parentIndex: $parent.$index, focusOnLoad: ($first && $parent.$first && $ctrl.focusOnLoad) || ($index === $ctrl.focusIndex.index && $parent.$index === $ctrl.focusIndex.parentIndex)}" asset="asset" category="$first ? $ctrl.getCategoryTitle(category) : \'\'"></ovp-product>\n</grid-items>\n<list-items role="list">\n<result-list-item role="listitem" ng-repeat="asset in category.results | limitTo: $ctrl.limit" options="{index: $index, parentIndex: $parent.$index, focusOnLoad: ($first && $parent.$first && $ctrl.focusOnLoad) || ($index === $ctrl.focusIndex.index && $parent.$index === $ctrl.focusIndex.parentIndex)}" item="asset" category="$first ? $ctrl.getCategoryTitle(category) : \'\'" index="$index"></result-list-item>\n</list-items>\n</ovp-grid-list>\n<ovp-grid-list ng-if="category.numResults > 0 && category.title === \'Person\'" items="category.results" options="{showToggle: $index == 0, title: $ctrl.getCategoryTitle(category), showPagination: false, id: \'search\'}">\n<grid-items role="list">\n<ovp-person role="listitem" ng-repeat="person in category.results | limitTo: $ctrl.limit" person="person" options="{index: $index, parentIndex: $parent.$index, focusOnLoad: ($first && $parent.$first && $ctrl.focusOnLoad) || ($index === $ctrl.focusIndex.index && $parent.$index === $ctrl.focusIndex.parentIndex)}" category="$first ? $ctrl.getCategoryTitle(category) : \'\'"></ovp-person>\n</grid-items>\n<list-items role="list">\n<result-list-item role="listitem" ng-repeat="person in category.results | limitTo: $ctrl.limit" item="person" options="{index: $index, parentIndex: $parent.$index, focusOnLoad: ($first && $parent.$first && $ctrl.focusOnLoad) || ($index === $ctrl.focusIndex.index && $parent.$index === $ctrl.focusIndex.parentIndex)}" category="$first ? $ctrl.getCategoryTitle(category) : \'\'" index="$index"></result-list-item>\n</list-items>\n</ovp-grid-list>\n</div>\n</div>\n',o="js/search/result-pages/search-results.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"8dxS":function(e,t){!function(){"use strict";function e(e,t,n){var r=n.cached;return new e(angular.extend({},n.standardSearchParams,{resultDisplay:"resultDisplay",clickRoute:r(function(e){return["product.series",{tmsSeriesId:e.tmsSeriesId,uri:e.uri}]}),playable:"availableOndemand",imageUri:r(n.createProductImageFunction()),isEntitled:function(e){var t,r,i=null!==(t=null===e||void 0===e?void 0:e.allVPPs)&&void 0!==t?t:[],o=null!==(r=null===e||void 0===e?void 0:e.tmsGuideServiceIds)&&void 0!==r?r:[];if(i.length>0||o.length>0){var a=n.isVODProviderEntitled(i),s=n.isTMSGuideIdEntitled(o);return a||s}return!0}}))}function t(e,t){t.registerDelegateDefinition(e,function(e){return"series"===e.resultType})}t.$inject=["seriesViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["seriesViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("seriesViewModelDefinition",e).run(t)}()},"8fEJ":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){var t;return!!(null===e||void 0===e?void 0:null===(t=e.timezone)||void 0===t?void 0:t.inProgress)},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.timezone)||void 0===t?void 0:t.data}},"9+h7":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="document" class="bulk-mdu-signout-container-wrapper">\n<div class="bulk-mdu-signout-container">\n<div class="info-icon-container">\n<img alt="" ovp-src="/images/icon-40-x-40-information.svg" aria-hidden="true"/>\n</div>\n<div ovp-click="$ctrl.modalInstance.dismiss()" role="button" aria-label="close dialog" tabindex="0" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false" focus-once>\n<img alt="" class="close-icon" ng-src="{{$ctrl.closeIcon()}}">\n</div>\n<h1 id="labelText">Sign Out of Spectrum TV?</h1>\n<p class="confirmation-text">Are you sure you want to leave the app?</p>\n<div class="buttonHolder">\n<button class="kite-btn kite-btn-primary" ovp-click="$ctrl.signOut()">Sign Out</button>\n<button class="kite-btn kite-btn-secondary" ovp-click="$ctrl.modalInstance.dismiss()">Cancel</button>\n</div>\n</div>\n</div>\n',o="js/bulkMDU/signout.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"9V8W":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="cdvr-list">\n<a class="col-md-15 list-template" href="#" ng-click="$ctrl.click()">\n<span class="sr-only">{{$ctrl.getDescription()}}</span>\n<div aria-hidden="true">\n<div class="col-md-6 col-sm-8 col-xs-12 title truncate">\n<p class="sr-only">\n{{$ctrl.getTitlePrefix()}}&nbsp;\n</p>\n<span class="movie-title" ng-if="!$ctrl.asset.episode">\n{{::$ctrl.asset.title}}\n</span>\n<span class="series-title" ng-if="$ctrl.asset.episode">\n{{::$ctrl.asset.seriesTitle}}\n</span>\n</div>\n<div class="col-md-6 hidden-sm hidden-xs">\n<div ng-if="$ctrl.asset.episode">\n<span class="col-md-4 season">S{{$ctrl.asset.season}} Ep{{$ctrl.asset.episode}}</span>\n<span class="col-md-12 cdvr-episode-title truncate">\n{{$ctrl.asset.title}}\n</span>\n</div>\n<div ng-if="!$ctrl.asset.episode" class="col-md-16 rating-year">\n<ovp-rating rating="$ctrl.asset.rating"></ovp-rating>\n<span>{{$ctrl.asset.year}}</span>\n</div>\n</div>\n<div class="col-md-2 col-sm-2 col-xs-4 start-time">\n{{$ctrl.asset.cdvrStartTime | date:\'h:mm a\'}}\n</div>\n<div class="col-md-2 col-sm-5 hidden-xs" aria-label="{{$ctrl.asset.network.name}}, channel {{$ctrl.channelNumber}}">\n{{$ctrl.asset.network.callsign}}{{$ctrl.formattedChannelNumber()}}\n</div>\n</div>\n</a>\n<div id="cancel-button-{{$ctrl.idIndex}}" class="col-md-1 list-template cancel-btn" role="button" ng-focus="$ctrl.onCancelButtonFocus()" ng-click="$ctrl.productActionClicked()">\n<span id="cancel-button-description-{{$ctrl.idIndex}}" style="display: none">\n</span>\n<svg focusable="false" class="svg-icon" ng-show="!productLoading" aria-hidden="true">\n<use xlink:href="#remove-icon" svg-path/>\n</svg>\n<div>\n<span class="sr-only">\n{{$ctrl.getDescription(true)}}\n</span>\nCancel\n</div>\n</div>\n</div>\n',o="js/cdvr/cdvr-schedule-list-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"9Xcc":function(e,t){!function(){"use strict";angular.module("ovpApp.product.info",["ovpApp.product.related","ovpApp.product.details","ovpApp.product.cast"]).component("productInfo",{bindings:{asset:"<"},templateUrl:"js/product/info/product-info.html"})}()},"9c4D":function(e,t,n){var r;
/*!
 * PPP - A slim promise implementation
 * Copyright (c) 2015 David Braden V, <neonphog@neonphog.com>
 * Offered for use under the MIT open source license
 * @license http://opensource.org/licenses/MIT
 */
/*!
 * PPP - A slim promise implementation
 * Copyright (c) 2015 David Braden V, <neonphog@neonphog.com>
 * Offered for use under the MIT open source license
 * @license http://opensource.org/licenses/MIT
 */
!function(n,i){void 0===(r=function(e){!function(e,t){"use strict";e.version="0.8.6";var n,r=!1,i=!1;try{throw new Error}catch(e){i=!!e.stack}var o="i",a="p",s="f",c="r",l=function(){var e,n=!1,r=[];function i(){var t=r;r=[];for(var i=0,o=t.length;i<o;++i)t[i][0].apply(t[i][1],t[i][2]);r.length?e():n=!1}var o=t.MutationObserver||t.WebKitMutationObserver;if("function"==typeof setImmediate)e=function(){setImmediate(i)};else if("object"==typeof process&&process.nextTick)e=function(){process.nextTick(i)};else if("undefined"!=typeof document&&document.createTextNode&&o){var a=1,s=document.createTextNode("");new o(i).observe(s,{characterData:!0}),e=function(){s.data=a*=-1}}else if("undefined"!=typeof MessageChannel){var c=new MessageChannel,l=function(){c.port2.postMessage(0)};c.port1.onmessage=function(){e=l,c.port1.onmessage=i,i()},e=function(){setTimeout(i,0),l()}}else e=function(){setTimeout(i,0)};return function(t,i,o){r.push([t,i,o]),n||(n=!0,e())}}(),u={e:null};function d(e,t,n,r,i,o){try{return e.call(t,n,r,i,o)}catch(e){return u.e=e,u}}function p(e,t){for(var n in t)e[n]=t[n]}function h(e,t){return function(){e.apply(t,arguments)}}function v(e,t,n){var i=d(f,this,e,t,n);i===u&&(n&&(r&&x(u.e,n),y.call(n,u.e)),u.e=null)}function f(e,t,n){var r;"function"==typeof e?(r=t?e.call(t,this._d):e(this._d),n&&w.call(n,r)):n&&b.call(n,this._d)}function m(e,t,n){var i=d(g,this,e,t,n);i===u&&(n&&(r&&x(u.e,n),y.call(n,u.e)),u.e=null)}function g(e,t,n){var r;"function"==typeof e?(r=t?e.call(t,this._d):e(this._d),n&&w.call(n,r)):n&&y.call(n,this._d)}function b(e){if(void 0===this._s||this._s===o){r&&O(this,"resolve"),this._d=e,this._s=s;for(var t=0,n=this._c.length;t<n;++t){var i=this._c[t];l(v,this,[i[0],i[2],i[3]])}this._c=null}}function y(e){if(void 0===this._s||this._s===o){r&&(O(this,"reject"),e instanceof Error&&x(e,this)),this._d=e,this._s=c;for(var t=0,n=this._c.length;t<n;++t){var i=this._c[t];l(m,this,[i[1],i[2],i[3]])}this._c=null}}function S(e){return e&&e.then}function w(e){if(void 0===this._s||this._s===o){var t;if(e instanceof P&&(e=e.promise),this===e)throw new TypeError("Cannot resolve a promise with itself");if(r&&O(this,"_resolve"),e instanceof A)return t=new E(this),void(d(k,e,t.resolve,t.reject,t,null)===u&&(r&&x(u.e,this),t.reject(u.e),u.e=null));var n=d(S,null,e);return n===u?(r&&x(u.e,this),y.call(this,u.e),void(u.e=null)):("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof n?(t=new E(this),void(d(n,e,h(t.resolve,t),h(t.reject,t))===u&&(r&&x(u.e,this),t.reject(u.e),u.e=null))):void b.call(this,e)}}function k(e,t,n,r){this._s!==s?this._s!==c?this._c.push([e,t,n,r]):l(m,this,[t,n,r]):l(v,this,[e,n,r])}function C(){if(!this.isComplete()){var e,t,n,r=!0;for(t=0,n=this._subs.length;t<n;++t)if((e=this._subs[t]).isResolved()||(r=!1),e.isRejected())return this._subs=null,void y.call(this,e.valueOf());if(r){var i=[];for(t=0,n=this._subs.length;t<n;++t)e=this._subs[t],i.push(e.valueOf());this._subs=null,b.call(this,i)}}}function $(){var e,t,n;if(!this.isComplete())for(t=0,n=this._subs.length;t<n;++t){if((e=this._subs[t]).isResolved())return this._subs=null,void b.call(this,e.valueOf());if(e.isRejected())return this._subs=null,void y.call(this,e.valueOf())}}function T(e){try{throw new Error}catch(e){return e}}function O(e,t){"string"!=typeof e._r&&(e._r="");var n=T();x(n,e),e._r+="Triggered from "+t+":\n",e._r+=n.stack}function E(e){this._p=e,e._p=this,this._p._s=a}function A(e){if(this._c=[],"function"==typeof e&&e(h(b,this),h(y,this)),r){var t=T();this.stack=t.stack+""}}function P(){this.promise=new A}p(E.prototype,{resolve:function(e){if(this._p&&this._p._p===this){this._p._s!==a&&(this._p._p=null,this._p=null),this._p._s=o;var t=this._p;this._p._p=null,this._p=null,w.call(t,e)}else this._p=null},reject:function(e){if(this._p&&this._p._p===this){this._p._s!==a&&(this._p._p=null,this._p=null),this._p._s=o;var t=this._p;this._p._p=null,this._p=null,y.call(t,e)}else this._p=null}}),p(A.prototype,{valueOf:function(){return this._d},isResolved:function(){return this._s===s},isRejected:function(){return this._s===c},isComplete:function(){return this._s===s||this._s===c},then:function(e,t,n){t&&"function"!=typeof t&&(n=t,t=null);var i=new A;return r&&i&&(i.source=this),k.call(this,e,t,n,i),i},catch:function(e,t){return this.then(null,e,t)},getStackTrace:function(){return this._r}}),e.Promise=A,p(P.prototype,{resolve:function(e){return b.call(this.promise,e),this},reject:function(e){return y.call(this.promise,e),this}}),p(A,{Defer:P,defer:function(){return new P},resolve:function(e){var t=new A;return w.call(t,e),t},reject:function(e){var t=new A;return y.call(t,e),t},when:function(e){if(e instanceof A)return e;if(e instanceof P)return e.promise;var t=new A;return w.call(t,e),t},all:function(e){var t=new A,n=0;t._subs=[];var r,i,o=Object.keys(e);for(r=0,i=o.length;r<i;++r){++n;var a=A.when(e[o[r]]);k.call(a,C,C,t,null),t._subs.push(a)}return n?(C.call(t),t):(b.call(t,[]),t)},race:function(e){var t=new A,n=0;t._subs=[];var r,i,o=Object.keys(e);for(r=0,i=o.length;r<i;++r){++n;var a=A.when(e[o[r]]);k.call(a,$,$,t,null),t._subs.push(a)}return n?($.call(t),t):(b.call(t,[]),t)},setDebugStackTrace:function(e){r=!!i&&e}});var I="From previous event:";function x(e,t){if(r&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(I)){for(var n=[],i=t;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(e.stack);var o=n.join("\n"+I+"\n");e.stack=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];j(i)||_(i)||!i||n.push(i)}return n.join("\n")}(o)}}function _(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}var D=[/at .+ \((.+):(\d+):(?:\d+)\)$/,/at ([^ ]+):(\d+):(?:\d+)$/,/.*@(.+):(\d+)$/,/at .*\(([^ ]+):(\d+):(?:\d+)\)$/];function R(e){for(var t=0,n=D.length;t<n;++t){var r=D[t].exec(e);if(r)return r[1]}}function j(e){var t=R(e);return!!t&&t===n}if(i)try{throw new Error}catch(e){var N=e.stack.split("\n"),M=N[0].indexOf("@")>0?N[1]:N[2];n=R(M)}}(e,i)}.apply(t,[t]))||(e.exports=r)}(0,this)},"9jhd":function(t,n,r){(function(t,i){var o;(function(a){var s={function:!0,object:!0},c=s[typeof n]&&n&&!n.nodeType&&n,l=s[typeof self]&&self.Object&&self,u=s[typeof window]&&window&&window.Object&&window,d=s[typeof t]&&t&&!t.nodeType&&t,p=d&&d.exports===c&&c,h=c&&d&&"object"==typeof i&&i&&i.Object&&i,v=v=h||u!==(this&&this.window)&&u||l||this,f={internals:{},config:{Promise:v.Promise},helpers:{}},m=f.helpers.noop=function(){},g=f.helpers.identity=function(e){return e},b=f.helpers.defaultNow=Date.now,y=f.helpers.defaultComparer=function(e,t){return Se(e,t)},S=f.helpers.defaultSubComparer=function(e,t){return e>t?1:e<t?-1:0},w=(f.helpers.defaultKeySerializer=function(e){return e.toString()},f.helpers.defaultError=function(e){throw e}),k=f.helpers.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then},C=f.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==ae.call(e)}),e}();function $(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}var T={e:{}};var O=f.internals.tryCatch=function(e){if(!C(e))throw new TypeError("fn must be a function");return function(e){return function(){try{return e.apply(this,arguments)}catch(e){return T.e=e,T}}}(e)};function E(e){throw e}f.config.longStackSupport=!1;var A=!1,P=O(function(){throw new Error})();A=!!P.e&&!!P.e.stack;var I,x=N(),_="From previous event:";function D(e,t){if(A&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(_)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+_+"\n");e.stack=function(e){for(var t=e.split("\n"),n=[],r=0,i=t.length;r<i;r++){var o=t[r];R(o)||j(o)||!o||n.push(o)}return n.join("\n")}(i)}}function R(e){var t=M(e);if(!t)return!1;var n=t[0],r=t[1];return n===I&&r>=x&&r<=Ir}function j(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function N(){if(A)try{throw new Error}catch(n){var e=n.stack.split("\n"),t=M(e[0].indexOf("@")>0?e[1]:e[2]);if(!t)return;return I=t[0],t[1]}}function M(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}var V=f.EmptyError=function(){this.message="Sequence contains no elements.",this.name="EmptyError",Error.call(this)};V.prototype=Object.create(Error.prototype);var L=f.ObjectDisposedError=function(){this.message="Object has been disposed",this.name="ObjectDisposedError",Error.call(this)};L.prototype=Object.create(Error.prototype);var F=f.ArgumentOutOfRangeError=function(){this.message="Argument out of range",this.name="ArgumentOutOfRangeError",Error.call(this)};F.prototype=Object.create(Error.prototype);var U=f.NotSupportedError=function(e){this.message=e||"This operation is not supported",this.name="NotSupportedError",Error.call(this)};U.prototype=Object.create(Error.prototype);var B=f.NotImplementedError=function(e){this.message=e||"This operation is not implemented",this.name="NotImplementedError",Error.call(this)};B.prototype=Object.create(Error.prototype);var W=f.helpers.notImplemented=function(){throw new B},H=(f.helpers.notSupported=function(){throw new U},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");v.Set&&"function"==typeof(new v.Set)["@@iterator"]&&(H="@@iterator");var G=f.doneEnumerator={done:!0,value:a},q=f.helpers.isIterable=function(e){return e[H]!==a},z=f.helpers.isArrayLike=function(e){return e&&e.length!==a};f.helpers.iterator=H;var Y=f.internals.bindCallback=function(e,t,n){if(void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},K=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],J=K.length,Q="[object Arguments]",X="[object Array]",Z="[object Boolean]",ee="[object Date]",te="[object Error]",ne="[object Number]",re="[object Object]",ie="[object RegExp]",oe="[object String]",ae=Object.prototype.toString,se=Object.prototype.hasOwnProperty,ce=ae.call(arguments)==Q,le=Error.prototype,ue=Object.prototype,de=String.prototype,pe=ue.propertyIsEnumerable;try{!(ae.call(document)==re&&!({toString:0}+""))}catch(e){!0}var he={};he[X]=he[ee]=he[ne]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},he[Z]=he[oe]={constructor:!0,toString:!0,valueOf:!0},he[te]=he["[object Function]"]=he[ie]={constructor:!0,toString:!0},he[re]={constructor:!0};var ve={};!function(){var e=function(){this.x=1},t=[];for(var n in e.prototype={valueOf:1,y:1},new e)t.push(n);for(n in arguments);ve.enumErrorProps=pe.call(le,"message")||pe.call(le,"name"),ve.enumPrototypes=pe.call(e,"prototype"),ve.nonEnumArgs=0!=n,ve.nonEnumShadows=!/valueOf/.test(t)}(1);var fe=f.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1};function me(e){var t=[];if(!fe(e))return t;ve.nonEnumArgs&&e.length&&ye(e)&&(e=we.call(e));var n=ve.enumPrototypes&&"function"==typeof e,r=ve.enumErrorProps&&(e===le||e instanceof Error);for(var i in e)n&&"prototype"==i||r&&("message"==i||"name"==i)||t.push(i);if(ve.nonEnumShadows&&e!==ue){var o=e.constructor,a=-1,s=J;if(e===(o&&o.prototype))var c=e===de?oe:e===le?te:ae.call(e),l=he[c];for(;++a<s;)i=K[a],l&&l[i]||!se.call(e,i)||t.push(i)}return t}function ge(e,t){return function(e,t,n){for(var r=-1,i=n(e),o=i.length;++r<o;){var a=i[r];if(!1===t(e[a],a,e))break}return e}(e,t,me)}function be(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}var ye=function(e){return!(!e||"object"!=typeof e)&&ae.call(e)==Q};ce||(ye=function(e){return!(!e||"object"!=typeof e)&&se.call(e,"callee")});var Se=f.internals.isEqual=function(e,t){return function e(t,n,r,i){if(t===n)return 0!==t||1/t==1/n;var o=typeof t,a=typeof n;if(t==t&&(null==t||null==n||"function"!=o&&"object"!=o&&"function"!=a&&"object"!=a))return!1;var s=ae.call(t),c=ae.call(n);s==Q&&(s=re);c==Q&&(c=re);if(s!=c)return!1;switch(s){case Z:case ee:return+t==+n;case ne:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case ie:case oe:return t==String(n)}var l=s==X;if(!l){if(s!=re||!ve.nodeClass&&(be(t)||be(n)))return!1;var u=!ve.argsObject&&ye(t)?Object:t.constructor,d=!ve.argsObject&&ye(n)?Object:n.constructor;if(!(u==d||se.call(t,"constructor")&&se.call(n,"constructor")||C(u)&&u instanceof u&&C(d)&&d instanceof d||!("constructor"in t&&"constructor"in n)))return!1}r||(r=[]);i||(i=[]);var p=r.length;for(;p--;)if(r[p]==t)return i[p]==n;var h=0;var v=!0;r.push(t);i.push(n);if(l){if(p=t.length,h=n.length,v=h==p)for(;h--;){var f=n[h];if(!(v=e(t[h],f,r,i)))break}}else ge(n,function(n,o,a){if(se.call(a,o))return h++,v=se.call(t,o)&&e(t[o],n,r,i)}),v&&ge(t,function(e,t,n){if(se.call(n,t))return v=--h>-1});r.pop();i.pop();return v}(e,t,[],[])};var we=Array.prototype.slice,ke=f.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},Ce=f.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);for(var i=0,o=t.length;i<o;i++){var a=t[i];for(var s in a)e[s]=a[s]}},$e=f.internals.addRef=function(e,t){return new $r(function(n){return new Le(t.getDisposable(),e.subscribe(n))})};function Te(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t();return n}function Oe(e,t){this.id=e,this.value=t}Oe.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Ee=f.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Ae=Ee.prototype;Ae.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Ae.percolate=function(e){if(!(e>=this.length||e<0)){var t=e-1>>1;if(!(t<0||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},Ae.heapify=function(e){if(+e||(e=0),!(e>=this.length||e<0)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var i=this.items[e];this.items[e]=this.items[r],this.items[r]=i,this.heapify(r)}}},Ae.peek=function(){return this.items[0].value},Ae.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=a,this.heapify()},Ae.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Ae.enqueue=function(e){var t=this.length++;this.items[t]=new Oe(Ee.count++,e),this.percolate(t)},Ae.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Ee.count=0;var Pe=f.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))t=(n=arguments[0]).length;else for(t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.disposables=n,this.isDisposed=!1,this.length=n.length},Ie=Pe.prototype;Ie.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Ie.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},Ie.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;n<e;n++)t[n].dispose()}};var xe=f.Disposable=function(e){this.isDisposed=!1,this.action=e||m};xe.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var _e=xe.create=function(e){return new xe(e)},De=xe.empty={dispose:m},Re=xe.isDisposable=function(e){return e&&C(e.dispose)},je=xe.checkDisposed=function(e){if(e.isDisposed)throw new L},Ne=xe._fixup=function(e){return Re(e)?e:De},Me=f.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Me.prototype.getDisposable=function(){return this.current},Me.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},Me.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}};var Ve=f.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Ve.prototype.getDisposable=function(){return this.current},Ve.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},Ve.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Le=f.BinaryDisposable=function(e,t){this._first=e,this._second=t,this.isDisposed=!1};Le.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this._first;this._first=null,e&&e.dispose();var t=this._second;this._second=null,t&&t.dispose()}};var Fe=f.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?De:new e(this)},t}();function Ue(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function Be(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}Ue.prototype.dispose=function(){this.scheduler.schedule(this,Be)};var We=f.internals.ScheduledItem=function(e,t,n,r,i){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=i||S,this.disposable=new Me};We.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},We.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},We.prototype.isCancelled=function(){return this.disposable.isDisposed},We.prototype.invokeCore=function(){return Ne(this.action(this.scheduler,this.state))};var He=f.Scheduler=function(){function e(){}e.isScheduler=function(t){return t instanceof e};var t=e.prototype;return t.schedule=function(e,t){throw new B},t.scheduleFuture=function(t,n,r){var i=n;return i instanceof Date&&(i-=this.now()),i=e.normalize(i),this._scheduleFuture(t,i,r)},t._scheduleFuture=function(e,t,n){throw new B},e.now=b,e.prototype.now=b,e.normalize=function(e){return e<0&&(e=0),e},e}(),Ge=He.normalize,qe=He.isScheduler;!function(e){function t(e,t){var n=t[0],r=t[1],i=new Pe;return r(n,function(t){var n=!1,a=!1;var s=e.schedule(t,function(e,t){n?i.remove(s):a=!0;return r(t,o),De});a||(i.add(s),n=!0)}),i;function o(t){var n=false,a=false;var s=e.schedule(t,c);if(!a){i.add(s);n=true}function c(e,t){if(n){i.remove(s)}else{a=true}return r(t,o),De}}}function n(e,t){var n=t[0],r=t[1],i=new Pe;return r(n,function(t,n){var a=!1,s=!1;var c=e.scheduleFuture(t,n,function(e,t){a?i.remove(c):s=!0;return r(t,o),De});s||(i.add(c),a=!0)}),i;function o(t,n){var a=false,s=false;var c=e.scheduleFuture(t,n,l);if(!s){i.add(c);a=true}function l(e,t){if(a){i.remove(c)}else{s=true}return r(t,o),De}}}e.scheduleRecursive=function(e,n){return this.schedule([e,n],t)},e.scheduleRecursiveFuture=function(e,t,r){return this.scheduleFuture([e,r],t,n)}}(He.prototype),He.prototype,He.prototype.schedulePeriodic=function(e,t,n){if(void 0===v.setInterval)throw new U;t=Ge(t);var r=e,i=v.setInterval(function(){r=n(r)},t);return _e(function(){v.clearInterval(i)})},function(e){e.catchError=e.catch=function(e){return new ot(this,e)}}(He.prototype);var ze,Ye,Ke=f.internals.SchedulePeriodicRecursive=function(){function e(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return e.prototype.start=function(){var e=new Me;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,function(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(e){throw this._cancel.dispose(),e}}.bind(this))),e},e}(),Je=function(e){function t(){e.call(this)}return ke(t,e),t.prototype.schedule=function(e,t){return Ne(t(this,e))},t}(He),Qe=He.immediate=new Je,Xe=function(e){var t;function n(){for(;t.length>0;){var e=t.shift();!e.isCancelled()&&e.invoke()}}function r(){e.call(this)}return ke(r,e),r.prototype.schedule=function(e,r){var i=new We(this,e,r,this.now());if(t)t.push(i);else{t=[i];var o=O(n)();t=null,o===T&&E(o.e)}return i.disposable},r.prototype.scheduleRequired=function(){return!t},r}(He),Ze=He.currentThread=new Xe,et=function(){var e,t=m;if(v.setTimeout)e=v.setTimeout,t=v.clearTimeout;else{if(!v.WScript)throw new U;e=function(e,t){v.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),tt=et.setTimeout,nt=et.clearTimeout;!function(){var e=1,t={},n=!1;function r(e){if(n)tt(function(){r(e)},0);else{var i=t[e];if(i){n=!0;var o=O(i)();if(Ye(e),n=!1,o===T)return E(o.e)}}}Ye=function(e){delete t[e]};var i=new RegExp("^"+String(ae).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),o="function"==typeof(o=h&&p&&h.setImmediate)&&!i.test(o)&&o;if(C(o))ze=function(n){var i=e++;return t[i]=n,o(function(){r(i)}),i};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))ze=function(n){var i=e++;return t[i]=n,process.nextTick(function(){r(i)}),i};else if(function(){if(!v.postMessage||v.importScripts)return!1;var e=!1,t=v.onmessage;return v.onmessage=function(){e=!0},v.postMessage("","*"),v.onmessage=t,e}()){var a="ms.rx.schedule"+Math.random();function s(e){"string"==typeof e.data&&e.data.substring(0,a.length)===a&&r(e.data.substring(a.length))}v.addEventListener?v.addEventListener("message",s,!1):v.attachEvent?v.attachEvent("onmessage",s):v.onmessage=s,ze=function(n){var r=e++;return t[r]=n,v.postMessage(a+currentId,"*"),r}}else if(v.MessageChannel){var c=new v.MessageChannel;c.port1.onmessage=function(e){r(e.data)},ze=function(n){var r=e++;return t[r]=n,c.port2.postMessage(r),r}}else ze="document"in v&&"onreadystatechange"in v.document.createElement("script")?function(n){var i=v.document.createElement("script"),o=e++;return t[o]=n,i.onreadystatechange=function(){r(o),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},v.document.documentElement.appendChild(i),o}:function(n){var i=e++;return t[i]=n,tt(function(){r(i)},0),i}}();var rt=function(e){function t(){e.call(this)}return ke(t,e),t.prototype.schedule=function(e,t){var n=this,r=new Me,i=ze(function(){!r.isDisposed&&r.setDisposable(Ne(t(n,e)))});return new Le(r,_e(function(){Ye(i)}))},t.prototype._scheduleFuture=function(e,t,n){var r=this,i=He.normalize(t),o=new Me;if(0===i)return r.schedule(e,n);var a=tt(function(){!o.isDisposed&&o.setDisposable(Ne(n(r,e)))},i);return new Le(o,_e(function(){nt(a)}))},t}(He),it=He.default=He.async=new rt,ot=function(e){function t(t,n){this._scheduler=t,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this)}return ke(t,e),t.prototype.schedule=function(e,t){return this._scheduler.schedule(e,this._wrap(t))},t.prototype._scheduleFuture=function(e,t,n){return this._scheduler.schedule(e,t,this._wrap(n))},t.prototype.now=function(){return this._scheduler.now()},t.prototype._clone=function(e){return new t(e,this._handler)},t.prototype._wrap=function(e){var t=this;return function(n,r){var i=O(e)(t._getRecursiveWrapper(n),r);return i===T?(t._handler(i.e)||E(i.e),De):Ne(ret)}},t.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},t.prototype.schedulePeriodic=function(e,t,n){var r=this,i=!1,o=new Me;return o.setDisposable(this._scheduler.schedulePeriodic(e,t,function(e){if(i)return null;var t=O(n)(e);return t===T?(i=!0,r._handler(t.e)||E(t.e),o.dispose(),null):ret})),o},t}(He),at=f.Notification=function(){function e(e,t,n,r,i,o){this.kind=e,this.value=t,this.exception=n,this._accept=r,this._acceptObservable=i,this.toString=o}return e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return qe(e)||(e=Qe),new $r(function(n){return e.schedule(t,function(e,t){t._acceptObservable(n),"N"===t.kind&&n.onCompleted()})})},e}(),st=at.createOnNext=function(){function e(e){return e(this.value)}function t(e){return e.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new at("N",r,null,e,t,n)}}(),ct=at.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new at("E",null,r,e,t,n)}}(),lt=at.createOnCompleted=function(){function e(e,t,n){return n()}function t(e){return e.onCompleted()}function n(){return"OnCompleted()"}return function(){return new at("C",null,null,e,t,n)}}(),ut=f.Observer=function(){};ut.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},ut.prototype.asObserver=function(){var e=this;return new vt(function(t){e.onNext(t)},function(t){e.onError(t)},function(){e.onCompleted()})},ut.prototype.checked=function(){return new ft(this)};var dt=ut.create=function(e,t,n){return e||(e=m),t||(t=w),n||(n=m),new vt(e,t,n)};ut.fromNotifier=function(e,t){var n=Y(e,t,1);return new vt(function(e){return n(st(e))},function(e){return n(ct(e))},function(){return n(lt())})},ut.prototype.notifyOn=function(e){return new gt(e,this)},ut.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var pt,ht=f.internals.AbstractObserver=function(e){function t(){this.isStopped=!1}return ke(t,ut),t.prototype.next=W,t.prototype.error=W,t.prototype.completed=W,t.prototype.onNext=function(e){!this.isStopped&&this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.error(e),!0)},t}(),vt=f.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return ke(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(ht),ft=function(e){function t(t){e.call(this),this._observer=t,this._state=0}ke(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=O(this._observer.onNext).call(this._observer,e);this._state=0,t===T&&E(t.e)},n.onError=function(e){this.checkAccess();var t=O(this._observer.onError).call(this._observer,e);this._state=2,t===T&&E(t.e)},n.onCompleted=function(){this.checkAccess();var e=O(this._observer.onCompleted).call(this._observer);this._state=2,e===T&&E(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(ut),mt=f.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Ve}return ke(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,function(e,t){var n;if(e.queue.length>0){n=e.queue.shift();var r=O(n)();if(r===T)return e.queue=[],e.hasFaulted=!0,E(r.e);t(e)}else e.isAcquired=!1}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(ht),gt=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return ke(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(mt),bt=f.Observable=function(){function e(e){if(f.config.longStackSupport&&A){var t=O(E)(new Error).e;this.stack=t.stack.substring(t.stack.indexOf("\n")+1),this._subscribe=function(e,t){return function(n){var r=n.onError;return n.onError=function(t){D(t,e),r.call(n,t)},t.call(e,n)}}(this,e)}else this._subscribe=e}return pt=e.prototype,e.isObservable=function(e){return e&&C(e.subscribe)},pt.subscribe=pt.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:dt(e,t,n))},pt.subscribeOnNext=function(e,t){return this._subscribe(dt(void 0!==t?function(n){e.call(t,n)}:e))},pt.subscribeOnError=function(e,t){return this._subscribe(dt(null,void 0!==t?function(n){e.call(t,n)}:e))},pt.subscribeOnCompleted=function(e,t){return this._subscribe(dt(null,null,void 0!==t?function(){e.call(t)}:e))},e}(),yt=f.ObservableBase=function(e){function t(e,t){var n=t[0],r=t[1],i=O(r.subscribeCore).call(r,n);if(i===T&&!n.fail(T.e))return E(T.e);n.setDisposable(function(e){return e&&C(e.dispose)?e:C(e)?_e(e):De}(i))}function n(e){var n=new Tr(e),r=[n,this];return Ze.scheduleRequired()?Ze.schedule(r,t):t(0,r),n}function r(){e.call(this,n)}return ke(r,e),r.prototype.subscribeCore=W,r}(bt),St=f.FlatMapObservable=function(e){function t(t,n,r,i){this.resultSelector=C(r)?r:null,this.selector=Y(C(n)?n:function(){return n},i,3),this.source=t,e.call(this)}function n(e,t,n,r){this.i=0,this.selector=t,this.resultSelector=n,this.source=r,this.o=e,ht.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.selector,this.resultSelector,this))},ke(n,ht),n.prototype._wrapResult=function(e,t,n){return this.resultSelector?e.map(function(e,r){return this.resultSelector(t,e,n,r)},this):e},n.prototype.next=function(e){var t=this.i++,n=O(this.selector)(e,t,this.source);if(n===T)return this.o.onError(n.e);k(n)&&(n=Pt(n)),(z(n)||q(n))&&(n=bt.from(n)),this.o.onNext(this._wrapResult(n,e,t))},n.prototype.error=function(e){this.o.onError(e)},n.prototype.onCompleted=function(){this.o.onCompleted()},t}(yt),wt=f.internals.Enumerable=function(){},kt=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t,n){this.o=e,this.s=t,this.e=n,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){var t,r=new Ve,i=Qe.scheduleRecursive(this.sources[H](),function(i,o){if(!t){var a=O(i.next).call(i);if(a===T)return e.onError(a.e);if(a.done)return e.onCompleted();var s=a.value;k(s)&&(s=Pt(s));var c=new Me;r.setDisposable(c),c.setDisposable(s.subscribe(new n(e,o,i)))}});return new Pe(r,i,_e(function(){t=!0}))},n.prototype.onNext=function(e){this.isStopped||this.o.onNext(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);wt.prototype.concat=function(){return new kt(this)};var Ct=function(e){function t(t){this.sources=t,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){var t,n=this.sources[H](),r=new Ve,i=Qe.scheduleRecursive(null,function(i,o){if(!t){var a=O(n.next).call(n);if(a===T)return e.onError(a.e);if(a.done)return null!==i?e.onError(i):e.onCompleted();var s=a.value;k(s)&&(s=Pt(s));var c=new Me;r.setDisposable(c),c.setDisposable(s.subscribe(function(t){e.onNext(t)},o,function(){e.onCompleted()}))}});return new Pe(r,i,_e(function(){t=!0}))},t}(yt);wt.prototype.catchError=function(){return new Ct(this)},wt.prototype.catchErrorWhen=function(e){var t=this;return new $r(function(n){var r,i=new Er,o=new Er,a=e(i).subscribe(o),s=t[H](),c=new Ve,l=Qe.scheduleRecursive(null,function(e,t){if(!r){var a=O(s.next).call(s);if(a===T)return n.onError(a.e);if(a.done)n.onCompleted();else{var l=a.value;k(l)&&(l=Pt(l));var u=new Me,d=new Me;c.setDisposable(new Le(d,u)),u.setDisposable(l.subscribe(function(e){n.onNext(e)},function(e){d.setDisposable(o.subscribe(t,function(e){n.onError(e)},function(){n.onCompleted()})),i.onNext(e)},function(){n.onCompleted()}))}}});return new Pe(a,c,l,_e(function(){r=!0}))})};var $t=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function n(e){this.v=e.v,this.l=e.c}return ke(t,wt),t.prototype[H]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?G:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(),Tt=wt.repeat=function(e,t){return new $t(e,t)},Ot=function(e){function t(e,t,n){this.s=e,this.fn=t?Y(t,n,3):null}function n(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return ke(t,wt),t.prototype[H]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:G},t}(),Et=wt.of=function(e,t,n){return new Ot(e,t,n)};pt.observeOn=function(e){var t=this;return new $r(function(n){return t.subscribe(new gt(e,n))},t)},pt.subscribeOn=function(e){var t=this;return new $r(function(n){var r=new Me,i=new Ve;return i.setDisposable(r),r.setDisposable(e.schedule(t,function(e,t){i.setDisposable(new Ue(e,t.subscribe(n)))})),i},t)};var At=function(e){function t(t){this.p=t,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return this.p.then(function(t){e.onNext(t),e.onCompleted()},function(t){e.onError(t)}),De},t}(yt),Pt=bt.fromPromise=function(e){return new At(e)};pt.toPromise=function(e){if(e||(e=f.config.Promise),!e)throw new U("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,n){var r,i=!1;t.subscribe(function(e){r=e,i=!0},n,function(){i&&e(r)})})};var It=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.a=[],this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=function(e){this.isStopped||this.a.push(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);pt.toArray=function(){return new It(this)},bt.create=function(e,t){return new $r(e,t)};var xt=bt.defer=function(e){return new $r(function(t){var n;try{n=e()}catch(e){return rn(e).subscribe(t)}return k(n)&&(n=Pt(n)),n.subscribe(t)})},_t=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.scheduler=t}function r(e,t){return t.onCompleted(),De}return ke(t,e),t.prototype.subscribeCore=function(e){return new n(e,this.scheduler).run()},n.prototype.run=function(){return this.scheduler.schedule(this.observer,r)},t}(yt),Dt=new _t(Qe),Rt=bt.empty=function(e){return qe(e)||(e=Qe),e===Qe?Dt:new _t(e)},jt=function(e){function t(t,n,r){this.iterable=t,this.mapper=n,this.scheduler=r,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new Nt(e,this).run()},t}(yt),Nt=function(){function e(e,t){this.o=e,this.parent=t}return e.prototype.run=function(){var e=function(e){var t=e[H];if(!t&&"string"==typeof e)return new Vt(e)[H]();if(!t&&e.length!==a)return new Ft(e)[H]();if(!t)throw new TypeError("Object is not iterable");return e[H]()}(Object(this.parent.iterable)),t=this.o,n=this.parent.mapper;return this.parent.scheduler.scheduleRecursive(0,function(r,i){var o=O(e.next).call(e);if(o===T)return t.onError(o.e);if(o.done)return t.onCompleted();var a=o.value;if(C(n)&&(a=O(n)(a,r))===T)return t.onError(a.e);t.onNext(a),i(r+1)})},e}(),Mt=Math.pow(2,53)-1;function Vt(e){this._s=e}function Lt(e){this._s=e,this._l=e.length,this._i=0}function Ft(e){this._a=e}function Ut(e){this._a=e,this._l=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||!function(e){return"number"==typeof e&&v.isFinite(e)}(t))return t;if((t=function(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>Mt)return Mt;return t}(e),this._i=0}Vt.prototype[H]=function(){return new Lt(this._s)},Lt.prototype[H]=function(){return this},Lt.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:G},Ft.prototype[H]=function(){return new Ut(this._a)},Ut.prototype[H]=function(){return this},Ut.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:G};var Bt=bt.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!C(t))throw new Error("mapFn when provided must be a function");if(t)var i=Y(t,n,2);return qe(r)||(r=Ze),new jt(e,i,r)},Wt=function(e){function t(t,n){this.args=t,this.scheduler=n,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new Ht(e,this).run()},t}(yt);function Ht(e,t){this.observer=e,this.parent=t}Ht.prototype.run=function(){var e=this.observer,t=this.parent.args,n=t.length;return this.parent.scheduler.scheduleRecursive(0,function(r,i){r<n?(e.onNext(t[r]),i(r+1)):e.onCompleted()})};var Gt=bt.fromArray=function(e,t){return qe(t)||(t=Ze),new Wt(e,t)};function qt(e,t){return qe(e)||(e=Ze),new Wt(t,e)}bt.generate=function(e,t,n,r,i){return qe(i)||(i=Ze),new $r(function(o){var a=!0;return i.scheduleRecursive(e,function(e,i){var s,c;try{a?a=!1:e=n(e),(s=t(e))&&(c=r(e))}catch(e){return o.onError(e)}s?(o.onNext(c),i(e)):o.onCompleted()})})},bt.of=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wt(t,Ze)},bt.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=arguments[r];return new Wt(n,e)},bt.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new $r(function(t){function n(e){for(var n=0,r=e.length;n<r;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}})},bt.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new $r(function(t){function n(e){for(var n=0,r=e.length;n<r;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}})};var zt=new(function(e){function t(){e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return De},t}(yt)),Yt=bt.never=function(){return zt},Kt=function(e){function t(t,n){this.obj=t,this.keys=Object.keys(t),this.scheduler=n,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new Jt(e,this).run()},t}(yt);function Jt(e,t){this.observer=e,this.parent=t}Jt.prototype.run=function(){var e=this.observer,t=this.parent.obj,n=this.parent.keys,r=n.length;return this.parent.scheduler.scheduleRecursive(0,function(i,o){if(i<r){var a=n[i];e.onNext([a,t[a]]),o(i+1)}else e.onCompleted()})},bt.pairs=function(e,t){return t||(t=Ze),new Kt(e,t)};var Qt=function(e){function t(t,n,r){this.start=t,this.rangeCount=n,this.scheduler=r,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new Xt(e,this).run()},t}(yt),Xt=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){var e=this.parent.start,t=this.parent.rangeCount,n=this.observer;return this.parent.scheduler.scheduleRecursive(0,function(r,i){r<t?(n.onNext(e+r),i(r+1)):n.onCompleted()})},e}();bt.range=function(e,t,n){return qe(n)||(n=Ze),new Qt(e,t,n)};var Zt=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new en(e,this).run()},t}(yt);function en(e,t){this.observer=e,this.parent=t}en.prototype.run=function(){var e=this.observer,t=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,function(n,r){if((-1===n||n>0)&&(e.onNext(t),n>0&&n--),0===n)return e.onCompleted();r(n)})},bt.repeat=function(e,t,n){return qe(n)||(n=Ze),new Zt(e,t,n)};var tn=function(e){function t(t,n){this.value=t,this.scheduler=n,e.call(this)}function n(e,t,n){this.observer=e,this.value=t,this.scheduler=n}function r(e,t){var n=t[0],r=t[1];return r.onNext(n),r.onCompleted(),De}return ke(t,e),t.prototype.subscribeCore=function(e){return new n(e,this.value,this.scheduler).run()},n.prototype.run=function(){var e=[this.value,this.observer];return this.scheduler===Qe?r(0,e):this.scheduler.schedule(e,r)},t}(yt),nn=(bt.return=bt.just=function(e,t){return qe(t)||(t=Qe),new tn(e,t)},function(e){function t(t,n){this.error=t,this.scheduler=n,e.call(this)}function n(e,t){this.o=e,this.p=t}function r(e,t){var n=t[0];t[1].onError(n)}return ke(t,e),t.prototype.subscribeCore=function(e){return new n(e,this).run()},n.prototype.run=function(){return this.p.scheduler.schedule([this.p.error,this.o],r)},t}(yt)),rn=bt.throw=function(e,t){return qe(t)||(t=Qe),new nn(e,t)};function on(e,t){return e.amb(t)}bt.using=function(e,t){return new $r(function(n){var r=De,i=O(e)();if(i===T)return new Le(rn(i.e).subscribe(n),r);i&&(r=i);var o=O(t)(i);return new Le(o===T?rn(o.e).subscribe(n):o.subscribe(n),r)})},pt.amb=function(e){var t=this;return new $r(function(n){var r,i="L",o="R",a=new Me,s=new Me;function c(){r||(r=i,s.dispose())}function l(){r||(r=o,a.dispose())}k(e)&&(e=Pt(e));var u=dt(function(e){c(),r===i&&n.onNext(e)},function(e){c(),r===i&&n.onError(e)},function(){c(),r===i&&n.onCompleted()}),d=dt(function(e){l(),r===o&&n.onNext(e)},function(e){l(),r===o&&n.onError(e)},function(){l(),r===o&&n.onCompleted()});return a.setDisposable(t.subscribe(u)),s.setDisposable(e.subscribe(d)),new Le(a,s)})},bt.amb=function(){var e,t=Yt();if(Array.isArray(arguments[0]))e=arguments[0];else{var n=arguments.length;e=new Array(e);for(var r=0;r<n;r++)e[r]=arguments[r]}for(r=0,n=e.length;r<n;r++)t=on(t,e[r]);return t};var an=function(e){function t(t,n,r){this._o=t,this._s=n,this._fn=r,e.call(this)}return ke(t,e),t.prototype.next=function(e){this._o.onNext(e)},t.prototype.completed=function(){return this._o.onCompleted()},t.prototype.error=function(e){var t=O(this._fn)(e);if(t===T)return this._o.onError(t.e);k(t)&&(t=Pt(t));var n=new Me;this._s.setDisposable(n),n.setDisposable(t.subscribe(this._o))},t}(ht);pt.catch=function(e){return C(e)?function(e,t){return new $r(function(n){var r=new Me,i=new Ve;return i.setDisposable(r),r.setDisposable(e.subscribe(new an(n,i,t))),i},e)}(this,e):sn([this,e])};var sn=bt.catch=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return Et(e).catchError()};function cn(){return!1}function ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}pt.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),un.apply(this,t)};var un=bt.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C(t[e-1])?t.pop():ln;return Array.isArray(t[0])&&(t=t[0]),new $r(function(e){var n=t.length,i=Te(n,cn),o=!1,a=Te(n,cn),s=new Array(n);function c(t){if(i[t]=!0,o||(o=i.every(g))){try{var n=r.apply(null,s)}catch(t){return e.onError(t)}e.onNext(n)}else a.filter(function(e,n){return n!==t}).every(g)&&e.onCompleted()}function l(t){a[t]=!0,a.every(g)&&e.onCompleted()}for(var u=new Array(n),d=0;d<n;d++)!function(n){var r=t[n],i=new Me;k(r)&&(r=Pt(r)),i.setDisposable(r.subscribe(function(e){s[n]=e,c(n)},function(t){e.onError(t)},function(){l(n)})),u[n]=i}(d);return new Pe(u)},this)};pt.concat=function(){for(var e=[],t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e.unshift(this),pn.apply(null,e)};var dn=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){this.sources=e,this.o=t}return ke(t,e),t.prototype.subscribeCore=function(e){return new n(this.sources,e).run()},n.prototype.run=function(){var e,t=new Ve,n=this.sources,r=n.length,i=this.o,o=Qe.scheduleRecursive(0,function(o,a){if(!e){if(o===r)return i.onCompleted();var s=n[o];k(s)&&(s=Pt(s));var c=new Me;t.setDisposable(c),c.setDisposable(s.subscribe(function(e){i.onNext(e)},function(e){i.onError(e)},function(){a(o+1)}))}});return new Pe(t,o,_e(function(){e=!0}))},t}(yt),pn=bt.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;t<n;t++)e[t]=arguments[t]}return new dn(e)};pt.concatAll=function(){return this.merge(1)};var hn=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){var t=new Pe;return t.add(this.source.subscribe(new vn(e,this.maxConcurrent,t))),t},t}(yt),vn=function(){function e(e,t,n){this.o=e,this.max=t,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var n=new Me;this.g.add(n),k(e)&&(e=Pt(e)),n.setDisposable(e.subscribe(new t(this,n)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();pt.merge=function(e){return"number"!=typeof e?fn(this,e):new hn(this,e)};var fn=bt.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(qe(arguments[0]))for(e=arguments[0],t=1;t<r;t++)n.push(arguments[t]);else for(e=Qe,t=0;t<r;t++)n.push(arguments[t]);else for(e=Qe,t=1;t<r;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),qt(e,n).mergeAll()},mn=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function r(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){var t=new Pe,r=new Me;return t.add(r),r.setDisposable(this.source.subscribe(new n(e,t))),t},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Me;this.g.add(t),k(e)&&(e=Pt(e)),t.setDisposable(e.subscribe(new r(this,t)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},r.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(yt);pt.mergeAll=function(){return new mn(this)};var gn=f.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};gn.prototype=Error.prototype,bt.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}var r=qt(null,e);return new $r(function(e){var t=new Pe,n=new Me,i=!1,o=[];function a(){0===o.length?e.onCompleted():1===o.length?e.onError(o[0]):e.onError(new gn(o))}return t.add(n),n.setDisposable(r.subscribe(function(n){var r=new Me;t.add(r),k(n)&&(n=Pt(n)),r.setDisposable(n.subscribe(function(t){e.onNext(t)},function(e){o.push(e),t.remove(r),i&&1===t.length&&a()},function(){t.remove(r),i&&1===t.length&&a()}))},function(e){o.push(e),i=!0,1===t.length&&a()},function(){i=!0,1===t.length&&a()})),t})},pt.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return bn([this,e])};var bn=bt.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return new $r(function(t){var n=0,r=new Ve,i=Qe.scheduleRecursive(null,function(i,o){var a,s;n<e.length?(a=e[n++],k(a)&&(a=Pt(a)),s=new Me,r.setDisposable(s),s.setDisposable(a.subscribe(t.onNext.bind(t),o,o))):t.onCompleted()});return new Le(r,i)})};pt.skipUntil=function(e){var t=this;return new $r(function(n){var r=!1,i=new Me;i.setDisposable(t.subscribe(function(e){r&&n.onNext(e)},function(e){n.onError(e)},function(){r&&n.onCompleted()})),k(e)&&(e=Pt(e));var o=new Me;return o.setDisposable(e.subscribe(function(){r=!0,o.dispose()},function(e){n.onError(e)},function(){o.dispose()})),new Le(i,o)},t)};var yn=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,ht.call(this)}function r(e,t){this.parent=e,this.id=t,ht.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){var t=new Ve,r=this.source.subscribe(new n(e,t));return new Le(r,t)},ke(n,ht),n.prototype.next=function(e){var t=new Me,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),k(e)&&(e=Pt(e)),t.setDisposable(e.subscribe(new r(this,n)))},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},ke(r,ht),r.prototype.next=function(e){this.parent.latest===this.id&&this.parent.o.onNext(e)},r.prototype.error=function(e){this.parent.latest===this.id&&this.parent.o.onError(e)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted())},t}(yt);pt.switch=pt.switchLatest=function(){return new yn(this)};var Sn=function(e){function t(t,n){this.source=t,this.other=k(n)?Pt(n):n,e.call(this)}function n(e){this.o=e,ht.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return new Le(this.source.subscribe(e),this.other.subscribe(new n(e)))},ke(n,ht),n.prototype.next=function(){this.o.onCompleted()},n.prototype.error=function(e){this.o.onError(e)},n.prototype.onCompleted=m,t}(yt);function cn(){return!1}function cn(){return!1}function wn(){return[]}function ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function cn(){return!1}function wn(){return[]}function ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}function kn(e){return e.toArray()}function Cn(e){return e.length>0}pt.takeUntil=function(e){return new Sn(this,e)},pt.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),i=this;return Array.isArray(t[0])&&(t=t[0]),new $r(function(e){for(var n=t.length,o=Te(n,cn),a=!1,s=new Array(n),c=new Array(n+1),l=0;l<n;l++)!function(n){var r=t[n],i=new Me;k(r)&&(r=Pt(r)),i.setDisposable(r.subscribe(function(e){s[n]=e,o[n]=!0,a=o.every(g)},function(t){e.onError(t)},m)),c[n]=i}(l);var u=new Me;return u.setDisposable(i.subscribe(function(t){var n=[t].concat(s);if(a){var i=O(r).apply(null,n);if(i===T)return e.onError(i.e);e.onNext(i)}},function(t){e.onError(t)},function(){e.onCompleted()})),c[n]=u,new Pe(c)},this)},pt.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C(t[e-1])?t.pop():ln;Array.isArray(t[0])&&(t=t[0]);var i=this;return t.unshift(i),new $r(function(e){for(var n=t.length,o=Te(n,wn),a=Te(n,cn),s=new Array(n),c=0;c<n;c++)!function(n){var c=t[n],l=new Me;k(c)&&(c=Pt(c)),l.setDisposable(c.subscribe(function(t){if(o[n].push(t),o.every(function(e){return e.length>0})){var s=o.map(function(e){return e.shift()}),c=O(r).apply(i,s);if(c===T)return e.onError(c.e);e.onNext(c)}else a.filter(function(e,t){return t!==n}).every(g)&&e.onCompleted()},function(t){e.onError(t)},function(){a[n]=!0,a.every(g)&&e.onCompleted()})),s[n]=l}(c);return new Pe(s)},i)},bt.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.isArray(t[0])&&(t=C(t[1])?t[0].concat(t[1]):t[0]);var r=t.shift();return r.zip.apply(r,t)},pt.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C(t[e-1])?t.pop():ln,i=this;return t.unshift(i),new $r(function(e){for(var n=t.length,o=Te(n,wn),a=Te(n,cn),s=new Array(n),c=0;c<n;c++)!function(n){var c=t[n],l=new Me;(z(c)||q(c))&&(c=Bt(c)),l.setDisposable(c.subscribe(function(t){if(o[n].push(t),o.every(function(e){return e.length>0})){var s=o.map(function(e){return e.shift()}),c=O(r).apply(i,s);if(c===T)return e.onError(c.e);e.onNext(c)}else a.filter(function(e,t){return t!==n}).every(g)&&e.onCompleted()},function(t){e.onError(t)},function(){a[n]=!0,a.every(g)&&e.onCompleted()})),s[n]=l}(c);return new Pe(s)},i)},pt.asObservable=function(){return new $r(function(e){return function(t){return e.subscribe(t)}}(this),this)},pt.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).flatMap(kn).filter(Cn)},pt.dematerialize=function(){var e=this;return new $r(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)};var $n=function(e){function t(t,n,r){this.source=t,this.keyFn=n,this.comparer=r,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Tn(e,this.keyFn,this.comparer))},t}(yt),Tn=function(e){function t(t,n,r){this.o=t,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,e.call(this)}return ke(t,e),t.prototype.next=function(e){var t,n=e;return C(this.keyFn)&&(n=O(this.keyFn)(e))===T?this.o.onError(n.e):this.hasCurrentKey&&(t=O(this.comparer)(this.currentKey,n))===T?this.o.onError(t.e):void(this.hasCurrentKey&&t||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(e)))},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.o.onCompleted()},t}(ht);pt.distinctUntilChanged=function(e,t){return t||(t=y),new $n(this,e,t)};var On=function(e){function t(t,n,r,i){this.source=t,this._oN=n,this._oE=r,this._oC=i,e.call(this)}function n(e,t){this.o=e,this.t=!t._oN||C(t._oN)?dt(t._oN||m,t._oE||m,t._oC||m):t._oN,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},n.prototype.onNext=function(e){if(!this.isStopped){var t=O(this.t.onNext).call(this.t,e);t===T&&this.o.onError(t.e),this.o.onNext(e)}},n.prototype.onError=function(e){if(!this.isStopped){this.isStopped=!0;var t=O(this.t.onError).call(this.t,e);if(t===T)return this.o.onError(t.e);this.o.onError(e)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=O(this.t.onCompleted).call(this.t);if(e===T)return this.o.onError(e.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);pt.do=pt.tap=pt.doAction=function(e,t,n){return new On(this,e,t,n)},pt.doOnNext=pt.tapOnNext=function(e,t){return this.tap(void 0!==t?function(n){e.call(t,n)}:e)},pt.doOnError=pt.tapOnError=function(e,t){return this.tap(m,void 0!==t?function(n){e.call(t,n)}:e)},pt.doOnCompleted=pt.tapOnCompleted=function(e,t){return this.tap(m,null,void 0!==t?function(){e.call(t)}:e)},pt.finally=function(e){var t=this;return new $r(function(n){var r=O(t.subscribe).call(t,n);return r===T?(e(),E(r.e)):_e(function(){var t=O(r.dispose).call(r);e(),t===T&&E(t.e)})},this)};var En=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=m,n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(e),!0)},t}(yt);pt.ignoreElements=function(){return new En(this)},pt.materialize=function(){var e=this;return new $r(function(t){return e.subscribe(function(e){t.onNext(st(e))},function(e){t.onNext(ct(e)),t.onCompleted()},function(){t.onNext(lt()),t.onCompleted()})},e)},pt.repeat=function(e){return Tt(this,e).concat()},pt.retry=function(e){return Tt(this,e).catchError()},pt.retryWhen=function(e){return Tt(this).catchErrorWhen(e)};var An=function(e){function t(t,n,r,i){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=i,e.call(this)}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Pn(e,this))},t}(yt);function Pn(e,t){this.o=e,this.accumulator=t.accumulator,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function In(e,t,n){var r=Y(t,n,3);return e.map(function(t,n){var i=r(t,n,e);return k(i)&&(i=Pt(i)),(z(i)||q(i))&&(i=Bt(i)),i}).concatAll()}function xn(e){this.comparer=e,this.set=[]}Pn.prototype={onNext:function(e){if(!this.isStopped){if(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.accumulation=O(this.accumulator)(this.accumulation,e):(this.accumulation=this.hasSeed?O(this.accumulator)(this.seed,e):e,this.hasAccumulation=!0),this.accumulation===T)return this.o.onError(this.accumulation.e);this.o.onNext(this.accumulation)}},onError:function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},onCompleted:function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),this.o.onCompleted())},dispose:function(){this.isStopped=!0},fail:function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)}},pt.scan=function(){var e,t=!1,n=arguments[0];return 2===arguments.length&&(t=!0,e=arguments[1]),new An(this,n,t,e)},pt.skipLast=function(e){if(e<0)throw new F;var t=this;return new $r(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&n.onNext(r.shift())},function(e){n.onError(e)},function(){n.onCompleted()})},t)},pt.startWith=function(){var e,t=0;arguments.length&&qe(arguments[0])?(e=arguments[0],t=1):e=Qe;for(var n=[],r=t,i=arguments.length;r<i;r++)n.push(arguments[r]);return Et([Gt(n,e),this]).concat()},pt.takeLast=function(e){if(e<0)throw new F;var t=this;return new $r(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},t)},pt.takeLastBuffer=function(e){var t=this;return new $r(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){n.onNext(r),n.onCompleted()})},t)},pt.windowWithCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new F;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new F;return new $r(function(r){var i=new Me,o=new Fe(i),a=0,s=[];function c(){var e=new Er;s.push(e),r.onNext($e(e,o))}return c(),i.setDisposable(n.subscribe(function(n){for(var r=0,i=s.length;r<i;r++)s[r].onNext(n);var o=a-e+1;o>=0&&o%t==0&&s.shift().onCompleted(),++a%t==0&&c()},function(e){for(;s.length>0;)s.shift().onError(e);r.onError(e)},function(){for(;s.length>0;)s.shift().onCompleted();r.onCompleted()})),o},n)},pt.selectConcat=pt.concatMap=function(e,t,n){return C(e)&&C(t)?this.concatMap(function(n,r){var i=e(n,r);return k(i)&&(i=Pt(i)),(z(i)||q(i))&&(i=Bt(i)),i.map(function(e,i){return t(n,e,r,i)})}):C(e)?In(this,e,n):In(this,function(){return e})},pt.concatMapObserver=pt.selectConcatObserver=function(e,t,n,r){var i=this,o=Y(e,r,2),a=Y(t,r,1),s=Y(n,r,0);return new $r(function(e){var t=0;return i.subscribe(function(n){var r;try{r=o(n,t++)}catch(t){return void e.onError(t)}k(r)&&(r=Pt(r)),e.onNext(r)},function(t){var n;try{n=a(t)}catch(t){return void e.onError(t)}k(n)&&(n=Pt(n)),e.onNext(n),e.onCompleted()},function(){var t;try{t=s()}catch(t){return void e.onError(t)}k(t)&&(t=Pt(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},pt.defaultIfEmpty=function(e){var t=this;return e===a&&(e=null),new $r(function(n){var r=!1;return t.subscribe(function(e){r=!0,n.onNext(e)},function(e){n.onError(e)},function(){!r&&n.onNext(e),n.onCompleted()})},t)},xn.prototype.push=function(e){var t=-1===function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(n(e[r],t))return r;return-1}(this.set,e,this.comparer);return t&&this.set.push(e),t},pt.distinct=function(e,t){var n=this;return t||(t=y),new $r(function(r){var i=new xn(t);return n.subscribe(function(t){var n=t;if(e)try{n=e(t)}catch(e){return void r.onError(e)}i.push(n)&&r.onNext(t)},function(e){r.onError(e)},function(){r.onCompleted()})},this)},pt.groupBy=function(e,t){return this.groupByUntil(e,t,Yt)},pt.groupByUntil=function(e,t,n){var r=this;return new $r(function(i){var o=new pr,s=new Pe,c=new Fe(s),l=function(e){return function(t){t.onError(e)}};return s.add(r.subscribe(function(r){var u=O(e)(r);if(u===T)return o.forEach(l(u.e)),i.onError(u.e);var d=!1,p=o.get(u);if(p===a&&(p=new Er,o.set(u,p),d=!0),d){var h=new Or(u,p,c),v=new Or(u,p),f=O(n)(v);if(f===T)return o.forEach(l(f.e)),i.onError(f.e);i.onNext(h);var g=new Me;s.add(g),g.setDisposable(f.take(1).subscribe(m,function(e){o.forEach(l(e)),i.onError(e)},function(){o.delete(u)&&p.onCompleted(),s.remove(g)}))}var b=r;if(C(t)&&(b=O(t)(r))===T)return o.forEach(l(b.e)),i.onError(b.e);p.onNext(b)},function(e){o.forEach(l(e)),i.onError(e)},function(){o.forEach(function(e){e.onCompleted()}),i.onCompleted()})),c},r)};var _n=function(e){function t(t,n,r){this.source=t,this.selector=Y(n,r,3),e.call(this)}function n(e,t,n){this.o=e,this.selector=t,this.source=n,this.i=0,ht.call(this)}return ke(t,e),t.prototype.internalMap=function(e,n){return new t(this.source,function(e,t){return function(n,r,i){return e.call(this,t.selector(n,r,i),r,i)}}(e,this),n)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.selector,this))},ke(n,ht),n.prototype.next=function(e){var t=O(this.selector)(e,this.i++,this.source);if(t===T)return this.o.onError(t.e);this.o.onNext(t)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(yt);pt.map=pt.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof _n?this.internalMap(n,t):new _n(this,n,t)},pt.pluck=function(){var e=arguments.length,t=new Array(e);if(0===e)throw new Error("List of properties cannot be empty.");for(var n=0;n<e;n++)t[n]=arguments[n];return this.map(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return a;r=o}return r}}(t,e))},pt.flatMap=pt.selectMany=function(e,t,n){return new St(this,e,t,n).mergeAll()},pt.flatMapObserver=pt.selectManyObserver=function(e,t,n,r){var i=this;return new $r(function(o){var a=0;return i.subscribe(function(t){var n;try{n=e.call(r,t,a++)}catch(e){return void o.onError(e)}k(n)&&(n=Pt(n)),o.onNext(n)},function(e){var n;try{n=t.call(r,e)}catch(e){return void o.onError(e)}k(n)&&(n=Pt(n)),o.onNext(n),o.onCompleted()},function(){var e;try{e=n.call(r)}catch(e){return void o.onError(e)}k(e)&&(e=Pt(e)),o.onNext(e),o.onCompleted()})},i).mergeAll()},f.Observable.prototype.flatMapLatest=function(e,t,n){return new St(this,e,t,n).switchLatest()};var Dn=function(e){function t(t,n){this.source=t,this.skipCount=n,e.call(this)}function n(e,t){this.c=t,this.r=t,this.o=e,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.skipCount))},n.prototype.onNext=function(e){this.isStopped||(this.r<=0?this.o.onNext(e):this.r--)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);pt.skip=function(e){if(e<0)throw new F;return new Dn(this,e)},pt.skipWhile=function(e,t){var n=this,r=Y(e,t,3);return new $r(function(e){var t=0,i=!1;return n.subscribe(function(o){if(!i)try{i=!r(o,t++,n)}catch(t){return void e.onError(t)}i&&e.onNext(o)},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var Rn=function(e){function t(t,n){this.source=t,this.takeCount=n,e.call(this)}function n(e,t){this.o=e,this.c=t,this.r=t,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.takeCount))},n.prototype={onNext:function(e){this.isStopped||this.r-- >0&&(this.o.onNext(e),this.r<=0&&this.o.onCompleted())},onError:function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},onCompleted:function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},dispose:function(){this.isStopped=!0},fail:function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)}},t}(yt);pt.take=function(e,t){if(e<0)throw new F;return 0===e?Rt(t):new Rn(this,e)},pt.takeWhile=function(e,t){var n=this,r=Y(e,t,3);return new $r(function(e){var t=0,i=!0;return n.subscribe(function(o){if(i){try{i=r(o,t++,n)}catch(t){return void e.onError(t)}i?e.onNext(o):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var jn=function(e){function t(t,n,r){this.source=t,this.predicate=Y(n,r,3),e.call(this)}function n(e,t,n){this.o=e,this.predicate=t,this.source=n,this.i=0,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.predicate,this))},t.prototype.internalFilter=function(e,n){return new t(this.source,function(e,t){return function(n,r,i){return t.predicate(n,r,i)&&e.call(this,n,r,i)}}(e,this),n)},n.prototype.onNext=function(e){if(!this.isStopped){var t=O(this.predicate)(e,this.i++,this.source);if(t===T)return this.o.onError(t.e);t&&this.o.onNext(e)}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);function Nn(e,t,n){return new $r(function(r){var i=!1,o=null,a=[];return e.subscribe(function(e){var s,c;try{c=t(e)}catch(e){return void r.onError(e)}if(s=0,i)try{s=n(c,o)}catch(e){return void r.onError(e)}else i=!0,o=c;s>0&&(o=c,a=[]),s>=0&&a.push(e)},function(e){r.onError(e)},function(){r.onNext(a),r.onCompleted()})},e)}function Mn(e){if(0===e.length)throw new V;return e[0]}pt.filter=pt.where=function(e,t){return this instanceof jn?this.internalFilter(e,t):new jn(this,e,t)};var Vn=function(e){function t(t,n,r,i){this.source=t,this.acc=n,this.hasSeed=r,this.seed=i,e.call(this)}function n(e,t){this.o=e,this.acc=t.acc,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return ke(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},n.prototype.onNext=function(e){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=O(this.acc)(this.result,e):(this.result=this.hasSeed?O(this.acc)(this.seed,e):e,this.hasAccumulation=!0),this.result===T&&this.o.onError(this.result.e))},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new V),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.o.onError(e),!0)},t}(yt);pt.reduce=function(e){var t=!1;if(2===arguments.length){t=!0;var n=arguments[1]}return new Vn(this,e,t,n)};var Ln=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,e.call(this)}return ke(t,e),t.prototype.next=function(e){var t=O(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(!0),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},t}(ht);pt.some=function(e,t){var n=this,r=Y(e,t,3);return new $r(function(e){return n.subscribe(new Ln(e,r,n))})};var Fn=function(e){function t(t){this._o=t,e.call(this)}return ke(t,e),t.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(ht);pt.isEmpty=function(){var e=this;return new $r(function(t){return e.subscribe(new Fn(t))},e)};var Un=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._i=0,e.call(this)}return ke(t,e),t.prototype.next=function(e){var t=O(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)||(this._o.onNext(!1),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(ht);pt.every=function(e,t){var n=this,r=Y(e,t,3);return new $r(function(e){return n.subscribe(new Un(e,r,n))},this)},pt.includes=function(e,t){var n=this;return new $r(function(r){var i=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),o<0?(r.onNext(!1),r.onCompleted(),De):n.subscribe(function(t){i++>=o&&function(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}(t,e)&&(r.onNext(!0),r.onCompleted())},function(e){r.onError(e)},function(){r.onNext(!1),r.onCompleted()})},this)},pt.contains=function(e,t){pt.includes(e,t)},pt.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},pt.indexOf=function(e,t){var n=this;return new $r(function(r){var i=0,o=+t||0;return Math.abs(o)===1/0&&(o=0),o<0?(r.onNext(-1),r.onCompleted(),De):n.subscribe(function(t){i>=o&&t===e&&(r.onNext(i),r.onCompleted()),i++},function(e){r.onError(e)},function(){r.onNext(-1),r.onCompleted()})},n)},pt.sum=function(e,t){return e&&C(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},pt.minBy=function(e,t){return t||(t=S),Nn(this,e,function(e,n){return-1*t(e,n)})},pt.min=function(e){return this.minBy(g,e).map(function(e){return Mn(e)})},pt.maxBy=function(e,t){return t||(t=S),Nn(this,e,t)},pt.max=function(e){return this.maxBy(g,e).map(function(e){return Mn(e)})};var Bn=function(e){function t(t,n,r){this._o=t,this._fn=n,this._s=r,this._c=0,this._t=0,e.call(this)}return ke(t,e),t.prototype.next=function(e){if(this._fn){var t=O(this._fn)(e,this._c++,this._s);if(t===T)return this._o.onError(t.e);this._t+=t}else this._c++,this._t+=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){if(0===this._c)return this._o.onError(new V);this._o.onNext(this._t/this._c),this._o.onCompleted()},t}(ht);pt.average=function(e,t){var n,r=this;return C(e)&&(n=Y(e,t,3)),new $r(function(e){return r.subscribe(new Bn(e,n,r))},r)},pt.sequenceEqual=function(e,t){var n=this;return t||(t=y),new $r(function(r){var i=!1,o=!1,a=[],s=[],c=n.subscribe(function(e){if(s.length>0){var n=s.shift(),i=O(t)(n,e);if(i===T)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):a.push(e)},function(e){r.onError(e)},function(){i=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(z(e)||q(e))&&(e=Bt(e)),k(e)&&(e=Pt(e));var l=e.subscribe(function(e){if(a.length>0){var n=a.shift(),o=O(t)(n,e);if(o===T)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):s.push(e)},function(e){r.onError(e)},function(){o=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new Le(c,l)},n)},pt.elementAt=function(e,t){if(e<0)throw new F;var n=this;return new $r(function(r){var i=e;return n.subscribe(function(e){0==i--&&(r.onNext(e),r.onCompleted())},function(e){r.onError(e)},function(){t===a?r.onError(new F):(r.onNext(t),r.onCompleted())})},n)},pt.single=function(e,t){if(C(e))return this.filter(e,t).single();var n=this;return new $r(function(e){var t,r=!1;return n.subscribe(function(n){r?e.onError(new Error("Sequence contains more than one element")):(t=n,r=!0)},function(t){e.onError(t)},function(){e.onNext(t),e.onCompleted()})},n)};var Wn=function(e){function t(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,e.call(this)}return ke(t,e),t.prototype.next=function(e){if(this._obj.predicate){var t=O(this._obj.predicate)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(e),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(e),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._obj.defaultValue===a?this._o.onError(new V):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},t}(ht);function Hn(e,t,n,r){var i=Y(t,n,3);return new $r(function(t){var n=0;return e.subscribe(function(o){var a=O(i)(o,n,e);if(a===T)return t.onError(a.e);a?(t.onNext(r?n:o),t.onCompleted()):n++},function(e){t.onError(e)},function(){r&&t.onNext(-1),t.onCompleted()})},e)}pt.first=function(){var e={},t=this;if(e="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},C(e.predicate)){var n=e.predicate;e.predicate=Y(n,e.thisArg,3)}return new $r(function(n){return t.subscribe(new Wn(n,e,t))},t)},pt.last=function(){var e={},t=this;if(e="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},C(e.predicate)){var n=e.predicate;e.predicate=Y(n,e.thisArg,3)}return new $r(function(n){var r,i=!1,o=0;return t.subscribe(function(a){if(e.predicate){var s=O(e.predicate)(a,o++,t);if(s===T)return n.onError(s.e);s&&(i=!0,r=a)}else e.predicate||(i=!0,r=a)},function(e){n.onError(e)},function(){i?(n.onNext(r),n.onCompleted()):e.defaultValue===a?n.onError(new V):(n.onNext(e.defaultValue),n.onCompleted())})},t)},pt.find=function(e,t){return Hn(this,e,t,!1)},pt.findIndex=function(e,t){return Hn(this,e,t,!0)},pt.toSet=function(){if(void 0===v.Set)throw new TypeError;var e=this;return new $r(function(t){var n=new v.Set;return e.subscribe(function(e){n.add(e)},function(e){t.onError(e)},function(){t.onNext(n),t.onCompleted()})},e)},pt.toMap=function(e,t){if(void 0===v.Map)throw new TypeError;var n=this;return new $r(function(r){var i=new v.Map;return n.subscribe(function(n){var o;try{o=e(n)}catch(e){return void r.onError(e)}var a=n;if(t)try{a=t(n)}catch(e){return void r.onError(e)}i.set(o,a)},function(e){r.onError(e)},function(){r.onNext(i),r.onCompleted()})},n)},bt.wrap=function(e){return t.__generatorFunction__=e,t;function t(){return bt.spawn.call(this,e.apply(this,arguments))}};var Gn=bt.spawn=function(){for(var e=arguments[0],t=this,n=[],r=1,i=arguments.length;r<i;r++)n.push(arguments[r]);return new $r(function(r){var i=new Pe;if(C(e)&&(e=e.apply(t,n)),!e||!C(e.next))return r.onNext(e),r.onCompleted();function o(t){var n=O(e.next).call(e,t);if(n===T)return r.onError(n.e);s(n)}function a(t){var n=O(e.next).call(e,t);if(n===T)return r.onError(n.e);s(n)}function s(e){if(e.done)return r.onNext(e.value),void r.onCompleted();var n=qn.call(t,e.value);bt.isObservable(n)?i.add(n.subscribe(o,a)):a(new TypeError("type not supported"))}return o(),i})};function qn(e){return e?bt.isObservable(e)?e:k(e)?bt.fromPromise(e):function(e){var t=e.constructor;if(!t)return!1;if("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)return!0;return zn(t.prototype)}(e)||zn(e)?Gn.call(this,e):C(e)?function(e){var t=this;return new $r(function(n){e.call(t,function(){var e=arguments[0],t=arguments[1];if(e)return n.onError(e);if(arguments.length>2){for(var r=[],i=1,o=arguments.length;i<o;i++)r.push(arguments[i]);t=r}n.onNext(t),n.onCompleted()})})}.call(this,e):z(e)||q(e)?function(e){return bt.from(e).flatMap(qn).toArray()}.call(this,e):fe(e)?function(e){for(var t=new e.constructor,n=Object.keys(e),r=[],i=0,o=n.length;i<o;i++){var s=n[i],c=qn.call(this,e[s]);c&&bt.isObservable(c)?l(c,s):t[s]=e[s]}return bt.forkJoin.apply(bt,r).map(function(){return t});function l(e,n){t[n]=a,r.push(e.map(function(e){t[n]=e}))}}.call(this,e):e:e}function zn(e){return C(e.next)&&C(e.throw)}function fe(e){return Object==e.constructor}bt.start=function(e,t,n){return Yn(e,t,n)()};var Yn=bt.toAsync=function(e,t,n){return qe(n)||(n=it),function(){var r=arguments,i=new Ar;return n.schedule(null,function(){var n;try{n=e.apply(t,r)}catch(e){return void i.onError(e)}i.onNext(n),i.onCompleted()}),i.asObservable()}};function Kn(e,t,n,r){var i=new Ar;return r.push(function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(C(n)){if((i=O(n).apply(t,i))===T)return e.onError(i.e);e.onNext(i)}else i.length<=1?e.onNext(i[0]):e.onNext(i);e.onCompleted()}}(i,t,n)),e.apply(t,r),i.asObservable()}function Jn(e,t,n,r){var i=new Ar;return r.push(function(e,t,n){return function(){var r=arguments[0];if(r)return e.onError(r);for(var i=arguments.length,o=[],a=1;a<i;a++)o[a-1]=arguments[a];if(C(n)){var o=O(n).apply(t,o);if(o===T)return e.onError(o.e);e.onNext(o)}else o.length<=1?e.onNext(o[0]):e.onNext(o);e.onCompleted()}}(i,t,n)),e.apply(t,r),i.asObservable()}function Qn(e,t,n){this._e=e,this._n=t,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}bt.fromCallback=function(e,t,n){return function(){void 0===t&&(t=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Kn(e,t,n,i)}},bt.fromNodeCallback=function(e,t,n){return function(){void 0===t&&(t=this);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Jn(e,t,n,i)}},Qn.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},f.config.useNativeEvents=!1,bt.fromEvent=function(e,t,n){return e.addListener?Xn(function(n){e.addListener(t,n)},function(n){e.removeListener(t,n)},n):f.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new $r(function(r){return function e(t,n,r){var i=new Pe,o=Object.prototype.toString.call(t);if("[object NodeList]"===o||"[object HTMLCollection]"===o)for(var a=0,s=t.length;a<s;a++)i.add(e(t.item(a),n,r));else t&&i.add(new Qn(t,n,r));return i}(e,t,function(e,t){return function(){var n=arguments[0];if(C(t)&&(n=O(t).apply(null,arguments))===T)return e.onError(n.e);e.onNext(n)}}(r,n))}).publish().refCount():Xn(function(n){e.on(t,n)},function(n){e.off(t,n)},n)};var Xn=bt.fromEventPattern=function(e,t,n,r){return qe(r)||(r=Qe),new $r(function(r){function i(){var e=arguments[0];if(C(n)&&(e=O(n).apply(null,arguments))===T)return r.onError(e.e);r.onNext(e)}var o=e(i);return _e(function(){C(t)&&t(i,o)})}).publish().refCount()};bt.startAsync=function(e){var t=O(e)();return t===T?rn(t.e):Pt(t)};var Zn=function(e){function t(e){var t=this.source.publish(),n=t.subscribe(e),r=De,i=this.pauser.distinctUntilChanged().subscribe(function(e){e?r=t.connect():(r.dispose(),r=De)});return new Pe(n,r,i)}function n(n,r){this.source=n,this.controller=new Er,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,e.call(this,t,n)}return ke(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(bt);pt.pausable=function(e){return new Zn(this,e)};var er=function(e){function t(e){var t,n=[];function r(){for(;n.length>0;)e.onNext(n.shift())}return function(e,t,n){return new $r(function(r){var i,o=[!1,!1],a=!1,s=!1,c=new Array(2);function l(e,t){if(c[t]=e,o[t]=!0,a||(a=o.every(g))){if(i)return r.onError(i);var l=O(n).apply(null,c);if(l===T)return r.onError(l.e);r.onNext(l)}s&&c[1]&&r.onCompleted()}return new Le(e.subscribe(function(e){l(e,0)},function(e){c[1]?r.onError(e):i=e},function(){s=!0,c[1]&&r.onCompleted()}),t.subscribe(function(e){l(e,1)},function(e){r.onError(e)},function(){s=!0,l(!0,1)}))},e)}(this.source,this.pauser.startWith(!1).distinctUntilChanged(),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(i){t!==a&&i.shouldFire!=t?(t=i.shouldFire,i.shouldFire&&r()):(t=i.shouldFire,i.shouldFire?e.onNext(i.data):n.push(i.data))},function(t){r(),e.onError(t)},function(){r(),e.onCompleted()})}function n(n,r){this.source=n,this.controller=new Er,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,e.call(this,t,n)}return ke(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(bt);pt.pausableBuffered=function(e){return new er(this,e)};var tr=function(e){function t(e){return this.source.subscribe(e)}function n(n,r,i){e.call(this,t,n),this.subject=new nr(r,i),this.source=n.multicast(this.subject).refCount()}return ke(n,e),n.prototype.request=function(e){return this.subject.request(null==e?-1:e)},n}(bt),nr=function(e){function t(e){return this.subject.subscribe(e)}function n(n,r){null==n&&(n=!0),e.call(this,t),this.subject=new Er,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||Ze}return ke(n,e),Ce(n.prototype,ut,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(at.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(at.createOnError(e)):(this.subject.onError(e),this.disposeCurrentRequest())},onNext:function(e){this.requestedCount<=0?this.enableQueue&&this.queue.push(at.createOnNext(e)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(e))},_processRequest:function(e){if(this.enableQueue)for(;this.queue.length>0&&(e>0||"N"!==this.queue[0].kind);){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return e},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.schedule(e,function(e,n){var r=t._processRequest(n);if(!(t.hasCompleted||t.hasFailed)&&r>0)return t.requestedCount=r,_e(function(){t.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),n}(bt);pt.controlled=function(e,t){return e&&qe(e)&&(t=e,e=!0),null==e&&(e=!0),new tr(this,e,t)};var rr=function(e){function t(e){return this.subscription=this.source.subscribe(new r(e,this,this.subscription)),it.schedule(this,function(e,t){t.source.request(1)}),this.subscription}function n(n){e.call(this,t,n),this.source=n}ke(n,e);var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r}ke(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e),it.schedule(this,function(e,t){t.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(ht);return n}(bt);tr.prototype.stopAndWait=function(){return new rr(this)};var ir=function(e){function t(e){return this.subscription=this.source.subscribe(new r(e,this,this.subscription)),it.schedule(this,function(e){e.source.request(e.windowSize)}),this.subscription}function n(n,r){e.call(this,t,n),this.source=n,this.windowSize=r}ke(n,e);var r=function(e){function t(e,t,n){this.observer=e,this.observable=t,this.cancel=n,this.received=0}ke(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received&&it.schedule(this,function(e,t){t.observable.source.request(t.observable.windowSize)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(ht);return n}(bt);tr.prototype.windowed=function(e){return new ir(this,e)},pt.pipe=function(e){var t=this.pausableBuffered();function n(){t.resume()}return e.addListener("drain",n),t.subscribe(function(n){!e.write(String(n))&&t.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",n)}),t.resume(),e},pt.multicast=function(e,t){var n=this;return"function"==typeof e?new $r(function(r){var i=n.multicast(e());return new Le(t(i).subscribe(r),i.connect())},n):new cr(n,e)},pt.publish=function(e){return e&&C(e)?this.multicast(function(){return new Er},e):this.multicast(new Er)},pt.share=function(){return this.publish().refCount()},pt.publishLast=function(e){return e&&C(e)?this.multicast(function(){return new Ar},e):this.multicast(new Ar)},pt.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new ar(t)},e):this.multicast(new ar(e))},pt.shareValue=function(e){return this.publishValue(e).refCount()},pt.replay=function(e,t,n,r){return e&&C(e)?this.multicast(function(){return new sr(t,n,r)},e):this.multicast(new sr(t,n,r))},pt.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var or=function(e,t){this.subject=e,this.observer=t};or.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var ar=f.BehaviorSubject=function(e){function t(e){return je(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),De):(this.observers.push(e),e.onNext(this.value),new or(this,e))}function n(n){e.call(this,t),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return ke(n,e),Ce(n.prototype,ut,{getValue:function(){if(je(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(je(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=$(this.observers),n=t.length;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(je(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(je(this),!this.isStopped){this.value=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(bt),sr=f.ReplaySubject=function(e){var t=Math.pow(2,53)-1;function n(e){var t=new mt(this.scheduler,e),n=function(e,t){return _e(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}(this,t);je(this),this._trim(this.scheduler.now()),this.observers.push(t);for(var r=0,i=this.q.length;r<i;r++)t.onNext(this.q[r].value);return this.hasError?t.onError(this.error):this.isStopped&&t.onCompleted(),t.ensureActive(),n}function r(r,i,o){this.bufferSize=null==r?t:r,this.windowSize=null==i?t:i,this.scheduler=o||Ze,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,n)}return ke(r,e),Ce(r.prototype,ut.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(je(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=$(this.observers),i=r.length;n<i;n++){var o=r[n];o.onNext(e),o.ensureActive()}}},onError:function(e){if(je(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=$(this.observers),i=r.length;n<i;n++){var o=r[n];o.onError(e),o.ensureActive()}this.observers.length=0}},onCompleted:function(){if(je(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=$(this.observers),r=n.length;t<r;t++){var i=n[t];i.onCompleted(),i.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(bt),cr=f.ConnectableObservable=function(e){function t(t,n){var r,i=!1,o=t.asObservable();this.connect=function(){return i||(i=!0,r=new Le(o.subscribe(n),_e(function(){i=!1}))),r},e.call(this,function(e){return n.subscribe(e)})}return ke(t,e),t.prototype.refCount=function(){var e,t=0,n=this;return new $r(function(r){var i=1==++t,o=n.subscribe(r);return i&&(e=n.connect()),function(){o.dispose(),0==--t&&e.dispose()}})},t}(bt);function kn(e){return e.toArray()}pt.singleInstance=function(){var e,t=this,n=!1;return new $r(function(r){return(n||(n=!0,e=t.finally(function(){n=!1}).publish().refCount()),e).subscribe(r)})},pt.join=function(e,t,n,r){var i=this;return new $r(function(o){var a=new Pe,s=!1,c=!1,l=0,u=0,d=new pr,p=new pr,h=function(e){o.onError(e)};return a.add(i.subscribe(function(e){var n=l++,i=new Me;d.set(n,e),a.add(i);var c=O(t)(e);if(c===T)return o.onError(c.e);i.setDisposable(c.take(1).subscribe(m,h,function(){d.delete(n)&&0===d.size&&s&&o.onCompleted(),a.remove(i)})),p.forEach(function(t){var n=O(r)(e,t);if(n===T)return o.onError(n.e);o.onNext(n)})},h,function(){s=!0,(c||0===d.size)&&o.onCompleted()})),a.add(e.subscribe(function(e){var t=u++,i=new Me;p.set(t,e),a.add(i);var s=O(n)(e);if(s===T)return o.onError(s.e);i.setDisposable(s.take(1).subscribe(m,h,function(){p.delete(t)&&0===p.size&&c&&o.onCompleted(),a.remove(i)})),d.forEach(function(t){var n=O(r)(t,e);if(n===T)return o.onError(n.e);o.onNext(n)})},h,function(){c=!0,(s||0===p.size)&&o.onCompleted()})),a},i)},pt.groupJoin=function(e,t,n,r){var i=this;return new $r(function(o){var a=new Pe,s=new Fe(a),c=new pr,l=new pr,u=0,d=0,p=function(e){return function(t){t.onError(e)}};function p(e){}return a.add(i.subscribe(function(e){var n=new Er,i=u++;c.set(i,n);var d=O(r)(e,$e(n,s));if(d===T)return c.forEach(p(d.e)),o.onError(d.e);o.onNext(d),l.forEach(function(e){n.onNext(e)});var h=new Me;a.add(h);var v=O(t)(e);if(v===T)return c.forEach(p(v.e)),o.onError(v.e);h.setDisposable(v.take(1).subscribe(m,function(e){c.forEach(p(e)),o.onError(e)},function(){c.delete(i)&&n.onCompleted(),a.remove(h)}))},function(e){c.forEach(p(e)),o.onError(e)},function(){o.onCompleted()})),a.add(e.subscribe(function(e){var t=d++;l.set(t,e);var r=new Me;a.add(r);var i=O(n)(e);if(i===T)return c.forEach(p(i.e)),o.onError(i.e);r.setDisposable(i.take(1).subscribe(m,function(e){c.forEach(p(e)),o.onError(e)},function(){l.delete(t),a.remove(r)})),c.forEach(function(t){t.onNext(e)})},function(e){c.forEach(p(e)),o.onError(e)})),s},i)},pt.buffer=function(){return this.window.apply(this,arguments).flatMap(kn)},pt.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?function(e){var t=this;return new $r(function(n){var r=new Er,i=new Pe,o=new Fe(i);return n.onNext($e(r,o)),i.add(t.subscribe(function(e){r.onNext(e)},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),k(e)&&(e=Pt(e)),i.add(e.subscribe(function(e){r.onCompleted(),r=new Er,n.onNext($e(r,o))},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),o},t)}.call(this,e):"function"==typeof e?function(e){var t=this;return new $r(function(n){var r=new Ve,i=new Pe(r),o=new Fe(i),a=new Er;return n.onNext($e(a,o)),i.add(t.subscribe(function(e){a.onNext(e)},function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),n.onCompleted()})),function t(){var i;try{i=e()}catch(e){return void n.onError(e)}k(i)&&(i=Pt(i));var s=new Me;r.setDisposable(s);s.setDisposable(i.take(1).subscribe(m,function(e){a.onError(e),n.onError(e)},function(){a.onCompleted(),a=new Er,n.onNext($e(a,o)),t()}))}(),o},t)}.call(this,e):function(e,t){return e.groupJoin(this,t,Rt,function(e,t){return t})}.call(this,e,t)},pt.pairwise=function(){var e=this;return new $r(function(t){var n,r=!1;return e.subscribe(function(e){r?t.onNext([n,e]):r=!0,n=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},pt.partition=function(e,t){return[this.filter(e,t),this.filter(function(n,r,i){return!e.call(t,n,r,i)})]};var lr=function(e){function t(e,t){this.c=e,this.s=t}return ke(t,wt),t.prototype[H]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}();pt.letBind=pt.let=function(e){return e(this)},bt.if=function(e,t,n){return xt(function(){return n||(n=Rt()),k(t)&&(t=Pt(t)),k(n)&&(n=Pt(n)),"function"==typeof n.now&&(n=Rt(n)),e()?t:n})},bt.for=bt.forIn=function(e,t,n){return Et(e,t,n).concat()};var ur=bt.while=bt.whileDo=function(e,t){return k(t)&&(t=Pt(t)),function(e,t){return new lr(e,t)}(e,t).concat()};pt.doWhile=function(e){return pn([this,ur(e,this)])},bt.case=function(e,t,n){return xt(function(){k(n)&&(n=Pt(n)),n||(n=Rt()),qe(n)&&(n=Rt(n));var r=t[e()];return k(r)&&(r=Pt(r)),r||n})},pt.expand=function(e,t){qe(t)||(t=Qe);var n=this;return new $r(function(r){var i=[],o=new Ve,a=new Pe(o),s=0,c=!1,l=function(){var n=!1;i.length>0&&(n=!c,c=!0),n&&o.setDisposable(t.scheduleRecursive(null,function(t,n){var o;if(i.length>0){o=i.shift();var u=new Me;a.add(u),u.setDisposable(o.subscribe(function(t){r.onNext(t);var n=null;try{n=e(t)}catch(e){r.onError(e)}i.push(n),s++,l()},function(e){r.onError(e)},function(){a.remove(u),0===--s&&r.onCompleted()})),n()}else c=!1}))};return i.push(n),s++,l(),a},this)},bt.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return new $r(function(t){var n=e.length;if(0===n)return t.onCompleted(),De;for(var r=new Pe,i=!1,o=new Array(n),a=new Array(n),s=new Array(n),c=0;c<n;c++)!function(c){var l=e[c];k(l)&&(l=Pt(l)),r.add(l.subscribe(function(e){i||(o[c]=!0,s[c]=e)},function(e){i=!0,t.onError(e),r.dispose()},function(){if(!i){if(!o[c])return void t.onCompleted();a[c]=!0;for(var e=0;e<n;e++)if(!a[e])return;i=!0,t.onNext(s),t.onCompleted()}}))}(c);return r})},pt.forkJoin=function(t,n){var r=this;return new $r(function(i){var o,a,s=!1,c=!1,l=!1,u=!1,d=new Me,p=new Me;return k(t)&&(t=Pt(t)),d.setDisposable(r.subscribe(function(e){l=!0,o=e},function(e){p.dispose(),i.onError(e)},function(){if(s=!0,c)if(l)if(u){var t=O(n)(o,a);if(t===T)return i.onError(e);i.onNext(t),i.onCompleted()}else i.onCompleted();else i.onCompleted()})),p.setDisposable(t.subscribe(function(e){u=!0,a=e},function(e){d.dispose(),i.onError(e)},function(){if(c=!0,s)if(l)if(u){var e=O(n)(o,a);if(e===T)return i.onError(e.e);i.onNext(e),i.onCompleted()}else i.onCompleted();else i.onCompleted()})),new Le(d,p)},r)},pt.manySelect=pt.extend=function(e,t){qe(t)||(t=Qe);var n=this;return xt(function(){var r;return n.map(function(e){var t=new dr(e);return r&&r.onNext(e),r=t,t}).tap(m,function(e){r&&r.onError(e)},function(){r&&r.onCompleted()}).observeOn(t).map(e)},n)};var dr=function(e){function t(e){var t=new Pe;return t.add(Ze.schedule(this,function(n,r){e.onNext(r.head),t.add(r.tail.mergeAll().subscribe(e))})),t}function n(n){e.call(this,t),this.head=n,this.tail=new Ar}return ke(n,e),Ce(n.prototype,ut,{onCompleted:function(){this.onNext(bt.empty())},onError:function(e){this.onNext(bt.throw(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),n}(bt),pr=v.Map||function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?a:this._values[t]},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);return-1===n?(this._keys.push(e),this._values.push(t),this.size++):this._values[n]=t,this},e.prototype.forEach=function(e,t){for(var n=0;n<this.size;n++)e.call(t,this._values[n],this._keys[n])},e}();function hr(e){this.patterns=e}function vr(e,t){this.expression=e,this.selector=t}function fr(e,t,n){var r=e.get(t);if(!r){var i=new gr(t,n);return e.set(t,i),i}return r}function mr(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new pr;for(var r=0,i=this.joinObserverArray.length;r<i;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}hr.prototype.and=function(e){return new hr(this.patterns.concat(e))},hr.prototype.thenDo=function(e){return new vr(this,e)},vr.prototype.activate=function(e,t,n){for(var r=this,i=[],o=0,a=this.expression.patterns.length;o<a;o++)i.push(fr(e,this.expression.patterns[o],t.onError.bind(t)));var s=new mr(i,function(){var e;try{e=r.selector.apply(r,arguments)}catch(e){return void t.onError(e)}t.onNext(e)},function(){for(var e=0,t=i.length;e<t;e++)i[e].removeActivePlan(s);n(s)});for(o=0,a=i.length;o<a;o++)i[o].addActivePlan(s);return s},mr.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},mr.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;e<t;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],i=!1;for(e=0,t=this.joinObserverArray.length;e<t;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(e=0,t=r.length;e<r.length;e++)o.push(r[e].value);this.onNext.apply(this,o)}}};var gr=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Me,this.isDisposed=!1}ke(t,e);var n=t.prototype;return n.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;n<r;n++)t[n].match()}},n.error=m,n.completed=m,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(ht);function br(e,t,n){return new $r(function(r){var i=e,o=Ge(t);return n.scheduleRecursiveFuture(0,i,function(e,t){if(o>0){var a=n.now();(i+=o)<=a&&(i=a+o)}r.onNext(e),t(e+1,new Date(i))})})}function yr(e,t,n){return e===t?new $r(function(e){return n.schedulePeriodic(0,t,function(t){return e.onNext(t),t+1})}):xt(function(){return br(new Date(n.now()+e),t,n)})}pt.and=function(e){return new hr([this,e])},pt.thenDo=function(e){return new hr([this]).thenDo(e)},bt.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;n<t;n++)e[n]=arguments[n]}return new $r(function(t){var n=[],r=new pr,i=dt(function(e){t.onNext(e)},function(e){r.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var o=0,a=e.length;o<a;o++)n.push(e[o].activate(r,i,function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()}))}catch(e){rn(e).subscribe(t)}var s=new Pe;return r.forEach(function(e){e.subscribe(),s.add(e)}),s})};var Sr=bt.interval=function(e,t){return yr(e,e,qe(t)?t:it)};bt.timer=function(e,t,n){var r;return qe(n)||(n=it),null!=t&&"number"==typeof t?r=t:qe(t)&&(n=t),(e instanceof Date||"number"==typeof e)&&r===a?function(e,t){return new $r(function(n){return t.scheduleFuture(null,e,function(){n.onNext(0),n.onCompleted()})})}(e,n):e instanceof Date&&r!==a?br(e.getTime(),t,n):yr(e,r,n)};function wr(e,t,n){return new $r(function(r){var i,o=!1,a=new Ve,s=null,c=[],l=!1;return i=e.materialize().timestamp(n).subscribe(function(e){var i,u;"E"===e.value.kind?((c=[]).push(e),s=e.value.exception,u=!l):(c.push({value:e.value,timestamp:e.timestamp+t}),u=!o,o=!0),u&&(null!==s?r.onError(s):(i=new Me,a.setDisposable(i),i.setDisposable(n.scheduleRecursiveFuture(null,t,function(e,t){var i,a,u,d;if(null===s){l=!0;do{u=null,c.length>0&&c[0].timestamp-n.now()<=0&&(u=c.shift().value),null!==u&&u.accept(r)}while(null!==u);d=!1,a=0,c.length>0?(d=!0,a=Math.max(0,c[0].timestamp-n.now())):o=!1,l=!1,null!==(i=s)?r.onError(i):d&&t(null,a)}}))))}),new Le(i,a)},e)}function kn(e){return e.toArray()}function kn(e){return e.toArray()}function kr(e,t){return new $r(function(n){var r,i=!1,o=!1;function a(){o&&(o=!1,n.onNext(r)),i&&n.onCompleted()}var s=new Me;return s.setDisposable(e.subscribe(function(e){o=!0,r=e},function(e){n.onError(e)},function(){i=!0,s.dispose()})),new Le(s,t.subscribe(a,function(e){n.onError(e)},a))},e)}pt.delay=function(){if("number"==typeof arguments[0]||arguments[0]instanceof Date){var e=arguments[0],t=arguments[1];return qe(t)||(t=it),e instanceof Date?function(e,t,n){return xt(function(){return wr(e,t-n.now(),n)})}(this,e,t):wr(this,e,t)}if(C(arguments[0]))return function(e,t,n){var r,i;return C(t)?i=t:(r=t,i=n),new $r(function(t){var n=new Pe,o=!1,a=new Ve;function s(){a.setDisposable(e.subscribe(function(e){var r=O(i)(e);if(r===T)return t.onError(r.e);var o=new Me;n.add(o),o.setDisposable(r.subscribe(function(){t.onNext(e),n.remove(o),c()},function(e){t.onError(e)},function(){t.onNext(e),n.remove(o),c()}))},function(e){t.onError(e)},function(){o=!0,a.dispose(),c()}))}function c(){o&&0===n.length&&t.onCompleted()}return r?a.setDisposable(r.subscribe(s,function(e){t.onError(e)},s)):s(),new Le(a,n)},this)}(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},pt.debounce=function(){if(C(arguments[0]))return function(e,t){return new $r(function(n){var r,i=!1,o=new Ve,a=0,s=e.subscribe(function(e){var s=O(t)(e);if(s===T)return n.onError(s.e);k(s)&&(s=Pt(s)),i=!0,r=e;var c=++a,l=new Me;o.setDisposable(l),l.setDisposable(s.subscribe(function(){i&&a===c&&n.onNext(r),i=!1,l.dispose()},function(e){n.onError(e)},function(){i&&a===c&&n.onNext(r),i=!1,l.dispose()}))},function(e){o.dispose(),n.onError(e),i=!1,a++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,a++});return new Le(s,o)},e)}(this,arguments[0]);if("number"==typeof arguments[0])return function(e,t,n){return qe(n)||(n=it),new $r(function(r){var i,o=new Ve,a=!1,s=0,c=e.subscribe(function(e){a=!0,i=e;var c=++s,l=new Me;o.setDisposable(l),l.setDisposable(n.scheduleFuture(null,t,function(){a&&s===c&&r.onNext(i),a=!1}))},function(e){o.dispose(),r.onError(e),a=!1,s++},function(){o.dispose(),a&&r.onNext(i),r.onCompleted(),a=!1,s++});return new Le(c,o)},this)}(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},pt.windowWithTime=function(e,t,n){var r,i=this;return null==t&&(r=e),qe(n)||(n=it),"number"==typeof t?r=t:qe(t)&&(r=e,n=t),new $r(function(t){var o,a,s=r,c=e,l=[],u=new Ve,d=0;return o=new Pe(u),a=new Fe(o),l.push(new Er),t.onNext($e(l[0],a)),function e(){var i=new Me,o=!1,p=!1;u.setDisposable(i),c===s?(o=!0,p=!0):c<s?o=!0:p=!0;var h=o?c:s,v=h-d;d=h,o&&(c+=r),p&&(s+=r),i.setDisposable(n.scheduleFuture(null,v,function(){if(p){var n=new Er;l.push(n),t.onNext($e(n,a))}o&&l.shift().onCompleted(),e()}))}(),o.add(i.subscribe(function(e){for(var t=0,n=l.length;t<n;t++)l[t].onNext(e)},function(e){for(var n=0,r=l.length;n<r;n++)l[n].onError(e);t.onError(e)},function(){for(var e=0,n=l.length;e<n;e++)l[e].onCompleted();t.onCompleted()})),a},i)},pt.windowWithTimeOrCount=function(e,t,n){var r=this;return qe(n)||(n=it),new $r(function(i){var o=new Ve,a=new Pe(o),s=new Fe(a),c=0,l=0,u=new Er;function d(t){var r=new Me;o.setDisposable(r),r.setDisposable(n.scheduleFuture(null,e,function(){if(t===l){c=0;var e=++l;u.onCompleted(),u=new Er,i.onNext($e(u,s)),d(e)}}))}return i.onNext($e(u,s)),d(0),a.add(r.subscribe(function(e){var n=0,r=!1;u.onNext(e),++c===t&&(r=!0,c=0,n=++l,u.onCompleted(),u=new Er,i.onNext($e(u,s))),r&&d(n)},function(e){u.onError(e),i.onError(e)},function(){u.onCompleted(),i.onCompleted()})),s},r)},pt.bufferWithTime=function(e,t,n){return this.windowWithTime(e,t,n).flatMap(kn)},pt.bufferWithTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).flatMap(kn)},pt.timeInterval=function(e){var t=this;return qe(e)||(e=it),xt(function(){var n=e.now();return t.map(function(t){var r=e.now(),i=r-n;return n=r,{value:t,interval:i}})})},pt.timestamp=function(e){return qe(e)||(e=it),this.map(function(t){return{value:t,timestamp:e.now()}})},pt.sample=pt.throttleLatest=function(e,t){return qe(t)||(t=it),kr(this,"number"==typeof e?Sr(e,t):e)};var Cr=f.TimeoutError=function(e){this.message=e||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};Cr.prototype=Object.create(Error.prototype),pt.timeout=function(){var e=arguments[0];if(e instanceof Date||"number"==typeof e)return function(e,t,n,r){if(null==n)throw new Error("other or scheduler must be specified");return qe(n)&&(r=n,n=rn(new Cr)),n instanceof Error&&(n=rn(n)),qe(r)||(r=it),new $r(function(i){var o=0,a=new Me,s=new Ve,c=new Ve;function l(){var e=o;c.setDisposable(r.scheduleFuture(null,t,function(){o===e&&(k(n)&&(n=Pt(n)),s.setDisposable(n.subscribe(i)))}))}return s.setDisposable(a),l(),a.setDisposable(e.subscribe(function(e){o++,i.onNext(e),l()},function(e){o++,i.onError(e)},function(){o++,i.onCompleted()})),new Le(s,c)},e)}(this,e,arguments[1],arguments[2]);if(bt.isObservable(e)||C(e))return function(e,t,n,r){return C(t)&&(r=n,n=t,t=Yt()),r||(r=rn(new Cr)),new $r(function(i){var o=new Ve,a=new Ve,s=new Me;o.setDisposable(s);var c=0,l=!1;function u(e){var t=c,n=new Me;a.setDisposable(n),n.setDisposable(e.subscribe(function(){c===t&&o.setDisposable(r.subscribe(i)),n.dispose()},function(e){c===t&&i.onError(e)},function(){c===t&&o.setDisposable(r.subscribe(i))}))}function d(){var e=!l;return e&&c++,e}return u(t),s.setDisposable(e.subscribe(function(e){if(d()){i.onNext(e);var t=O(n)(e);if(t===T)return i.onError(t.e);u(k(t)?Pt(t):t)}},function(e){d()&&i.onError(e)},function(){d()&&i.onCompleted()})),new Le(o,a)},e)}(this,e,arguments[1],arguments[2]);throw new Error("Invalid arguments")},bt.generateWithAbsoluteTime=function(e,t,n,r,i,o){return qe(o)||(o=it),new $r(function(a){var s=!0,c=!1;return o.scheduleRecursiveFuture(e,new Date(o.now()),function(e,o){c&&a.onNext(e);try{if(s?s=!1:e=n(e),c=t(e))var l=r(e),u=i(e)}catch(e){return void a.onError(e)}c?o(l,u):a.onCompleted()})})},bt.generateWithRelativeTime=function(e,t,n,r,i,o){return qe(o)||(o=it),new $r(function(a){var s=!0,c=!1;return o.scheduleRecursiveFuture(e,0,function(e,o){c&&a.onNext(e);try{if(s?s=!1:e=n(e),c=t(e))var l=r(e),u=i(e)}catch(e){return void a.onError(e)}c?o(l,u):a.onCompleted()})})},pt.delaySubscription=function(e,t){var n=this;return qe(t)||(t=it),new $r(function(r){var i=new Ve;return i.setDisposable(t.scheduleFuture(null,e,function(){i.setDisposable(n.subscribe(r))})),i},this)},pt.skipLastWithTime=function(e,t){qe(t)||(t=it);var n=this;return new $r(function(r){var i=[];return n.subscribe(function(n){var o=t.now();for(i.push({interval:o,value:n});i.length>0&&o-i[0].interval>=e;)r.onNext(i.shift().value)},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0&&n-i[0].interval>=e;)r.onNext(i.shift().value);r.onCompleted()})},n)},pt.takeLastWithTime=function(e,t){var n=this;return qe(t)||(t=it),new $r(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now();i.length>0;){var o=i.shift();n-o.interval<=e&&r.onNext(o.value)}r.onCompleted()})},n)},pt.takeLastBufferWithTime=function(e,t){var n=this;return qe(t)||(t=it),new $r(function(r){var i=[];return n.subscribe(function(n){var r=t.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=e;)i.shift()},function(e){r.onError(e)},function(){for(var n=t.now(),o=[];i.length>0;){var a=i.shift();n-a.interval<=e&&o.push(a.value)}r.onNext(o),r.onCompleted()})},n)},pt.takeWithTime=function(e,t){var n=this;return qe(t)||(t=it),new $r(function(r){return new Le(t.scheduleFuture(r,e,function(e,t){t.onCompleted()}),n.subscribe(r))},n)},pt.skipWithTime=function(e,t){var n=this;return qe(t)||(t=it),new $r(function(r){var i=!1;return new Le(t.scheduleFuture(null,e,function(){i=!0}),n.subscribe(function(e){i&&r.onNext(e)},function(e){r.onError(e)},function(){r.onCompleted()}))},n)},pt.skipUntilWithTime=function(e,t){qe(t)||(t=it);var n=this;return new $r(function(r){var i=!1;return new Le(t.scheduleFuture(null,e,function(){i=!0}),n.subscribe(function(e){i&&r.onNext(e)},function(e){r.onError(e)},function(){r.onCompleted()}))},n)},pt.takeUntilWithTime=function(e,t){qe(t)||(t=it);var n=this;return new $r(function(r){return new Le(t.scheduleFuture(r,e,function(e,t){t.onCompleted()}),n.subscribe(r))},n)},pt.throttle=function(e,t){qe(t)||(t=it);var n=+e||0;if(n<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new $r(function(e){var i=0;return r.subscribe(function(r){var o=t.now();(0===i||o-i>=n)&&(i=o,e.onNext(r))},function(t){e.onError(t)},function(){e.onCompleted()})},r)},pt.transduce=function(e){var t=this;return new $r(function(n){var r=e(function(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}(n));return t.subscribe(function(e){var t=O(r["@@transducer/step"]).call(r,n,e);t===T&&n.onError(t.e)},function(e){n.onError(e)},function(){r["@@transducer/result"](n)})},t)},pt.switchFirst=function(){var e=this;return new $r(function(t){var n=!1,r=!1,i=new Me,o=new Pe;return o.add(i),i.setDisposable(e.subscribe(function(e){if(!n){n=!0,k(e)&&(e=Pt(e));var i=new Me;o.add(i),i.setDisposable(e.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){o.remove(i),n=!1,r&&1===o.length&&t.onCompleted()}))}},function(e){t.onError(e)},function(){r=!0,!n&&1===o.length&&t.onCompleted()})),o},this)},pt.flatMapFirst=pt.selectManyFirst=function(e,t,n){return new St(this,e,t,n).switchFirst()},f.Observable.prototype.flatMapWithMaxConcurrent=function(e,t,n,r){return new St(this,t,n,r).merge(e)};f.VirtualTimeScheduler=function(e){function t(t,n){this.clock=t,this.comparer=n,this.isEnabled=!1,this.queue=new Ee(1024),e.call(this)}ke(t,e);var n=t.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(e,t){return this.scheduleAbsolute(e,this.clock,t)},n.scheduleFuture=function(e,t,n){var r=t instanceof Date?this.toRelativeTime(t-this.now()):this.toRelativeTime(t);return this.scheduleRelative(e,r,n)},n.add=W,n.toAbsoluteTime=W,n.toRelativeTime=W,n.schedulePeriodic=function(e,t,n){return new Ke(this,e,t,n).start()},n.scheduleRelative=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsolute(e,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new F;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},n.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new F;0!==n&&this.advanceTo(t)},n.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new F;this.clock=t},n.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},n.scheduleAbsolute=function(e,t,n){var r=this;var i=new We(this,e,function(e,t){return r.queue.remove(i),n(e,t)},t,this.comparer);return this.queue.enqueue(i),i.disposable},t}(He);f.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,i=n||S;e.call(this,r,i)}ke(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toAbsoluteTime=function(e){return new Date(e).getTime()},n.toRelativeTime=function(e){return e},t}(f.VirtualTimeScheduler);var $r=f.AnonymousObservable=function(e){function t(e,t){var n=t[0],r=t[1],i=O(r.__subscribe).call(r,n);if(i===T&&!n.fail(T.e))return E(T.e);n.setDisposable(function(e){return e&&C(e.dispose)?e:C(e)?_e(e):De}(i))}function n(e){var n=new Tr(e),r=[n,this];return Ze.scheduleRequired()?Ze.schedule(r,t):t(0,r),n}function r(t,r){this.source=r,this.__subscribe=t,e.call(this,n)}return ke(r,e),r}(bt),Tr=function(e){function t(t){e.call(this),this.observer=t,this.m=new Me}ke(t,e);var n=t.prototype;return n.next=function(e){var t=O(this.observer.onNext).call(this.observer,e);t===T&&(this.dispose(),E(t.e))},n.error=function(e){var t=O(this.observer.onError).call(this.observer,e);this.dispose(),t===T&&E(t.e)},n.completed=function(){var e=O(this.observer.onCompleted).call(this.observer);this.dispose(),e===T&&E(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(ht),Or=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function n(n,r,i){e.call(this,t),this.key=n,this.underlyingObservable=i?new $r(function(e){return new Le(i.getDisposable(),r.subscribe(e))}):r}return ke(n,e),n}(bt),Er=f.Subject=function(e){function t(e){return je(this),this.isStopped?this.hasError?(e.onError(this.error),De):(e.onCompleted(),De):(this.observers.push(e),new or(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return ke(n,e),Ce(n.prototype,ut.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(je(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=$(this.observers),n=t.length;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(je(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(je(this),!this.isStopped)for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(e,t){return new Pr(e,t)},n}(bt),Ar=f.AsyncSubject=function(e){function t(e){return je(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),De):(this.observers.push(e),new or(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return ke(n,e),Ce(n.prototype,ut,{hasObservers:function(){return je(this),this.observers.length>0},onCompleted:function(){var e;if(je(this),!this.isStopped){this.isStopped=!0;var t=$(this.observers),n=t.length;if(this.hasValue)for(e=0;e<n;e++){var r=t[e];r.onNext(this.value),r.onCompleted()}else for(e=0;e<n;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(je(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=$(this.observers),r=n.length;t<r;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){je(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(bt),Pr=f.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function n(n,r){this.observer=n,this.observable=r,e.call(this,t)}return ke(n,e),Ce(n.prototype,ut.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),n}(bt);f.Pauser=function(e){function t(){e.call(this)}return ke(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Er),v.Rx=f,(o=function(){return f}.call(n,r,n,t))===a||(t.exports=o);var Ir=N()}).call(this)}).call(this,r("YuTi")(t),r("yLpj"))},"9sIt":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="ovp-sortable-handle">\n<div class="up-arrow"></div>\n<div class="down-arrow"></div>\n</div>',o="js/components/ovp/ovp-sortable/ovp-sortable-handle.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"9v8/":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div prevent-default role="button" tabindex="{{($ctrl.ovpDisabled || $ctrl.seeking) ? -1 : 0}}" aria-label="{{$ctrl.ariaLabel}}" ng-class="{\'disabled\': $ctrl.ovpDisabled || $ctrl.seeking}" ovp-click="$ctrl.skip();" ng-mouseenter="$ctrl.skipHover=true" ng-mouseleave="$ctrl.skipHover=false" accesskey="{{$ctrl.directionText === \'backward\' ? \'j\' : \'l\' }}">\n<span class="skip-seconds">{{$ctrl.seconds}}</span>\n<img alt="Jump {{$ctrl.directionText}}" ng-src="{{$ctrl.image()}}">\n</div>\n',o="js/components/player/skip-button-v2.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},A3MQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="rdvr-toolbar">\n<div class="rdvr-info">\n<div class="rdvr-active-dvr">\n<p class="dvr-name-caption kite-h2">DVR Name</p>\n<div class="rdvr-name">\n<div class="dvr-name">{{$ctrl.stb.name || $ctrl.stb.macAddress}}</div>\n<div class="si si-edit-f" ng-click="$ctrl.renameStb()">\n<span class="sr-only">Rename your DVR</span>\n</div>\n</div>\n<div class="rdvr-picker">\n<button ng-click="$ctrl.showDvrPicker()" class="dvr-picker">\n<span class="si si-tv"></span>\nChange DVR\n</button>\n</div>\n</div>\n<div class="rdvr-usage">\n<disk-usage stb="$ctrl.stb"></disk-usage>\n</div>\n</div>\n<div class="rdvr-view-options kite-grid">\n<div class="kite-cell kite-cell-12 text-right" ng-if="$ctrl.options.showToggler">\n<grid-list-toggler id="$ctrl.options.id"></grid-list-toggler>\n</div>\n</div>\n</div>\n',o="js/rdvr/rdvr-toolbar/rdvr-toolbar.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Aa8z:function(e,t,n){"use strict";n.d(t,"A",function(){return a}),n.d(t,"t",function(){return s}),n.d(t,"s",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"v",function(){return f}),n.d(t,"j",function(){return m}),n.d(t,"w",function(){return g}),n.d(t,"x",function(){return b}),n.d(t,"l",function(){return y}),n.d(t,"n",function(){return S}),n.d(t,"z",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return C}),n.d(t,"u",function(){return $}),n.d(t,"g",function(){return T}),n.d(t,"m",function(){return O}),n.d(t,"y",function(){return E}),n.d(t,"o",function(){return A}),n.d(t,"p",function(){return P}),n.d(t,"q",function(){return I}),n.d(t,"r",function(){return x}),n.d(t,"h",function(){return _});n("ma9I");var r=n("PNUD"),i=n("Qt34"),o=n("fwyg"),a=function(){Object(i.g)(r.a),Object(i.f)({getLocationV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.locationUrl)},getLocationV2:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.locationUrlv2)},postTDCSInform:o.W,getTDCSPublicErrors:o.Mb,getUserCapabilitiesV3:o.N,getSmarttvParentalControlV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.parentalControlsForUserUrl)},getParentalControlBlockedChannelsV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.parentalControlsByChannelUrl)+"?includeUnentitled=true"},getParentalControlRatingsV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.parentalControlsByRatingUrl)},postParentalControlAdminValidateV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.validateAdminPasswordUrl)},getTvodPinV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.purchasePINUrl)},postTvodPinV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.purchasePINUrl)},postTvodPinValidateV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.validatePurchasePINUrl)},getSmarttvAegisV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.aegisUri)},getAegisRefreshV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.aegisRefreshUri)},getSmarttvTimezoneV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.timezoneUrl)},getSmarttvLineupV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.lineupUrl)},postParentalControlPinV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.setPINUrl)},postParentalControlPinValidateV1:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.validatePINUrl)},getSmarttvBookmarksV2:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.vod)||void 0===r?void 0:r.globalBookmarks)},getSmarttvWatchlistV1:function(e){var t,n,r,i;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.smartTvApi)+(null===e||void 0===e?void 0:null===(r=e.config)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.watchlist)},getSmarttvChannelsV2:function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.streamingChannels)}})},s=function(e){var t,n,r;return Object(o.Cd)(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.config)},c=function(){return Object(i.a)("postTDCSInform")},l=function(){return Object(i.a)("getUserCapabilitiesV3")},u=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.capabilitiesCacheTimeoutInMinutes},d=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.capabilitiesRefreshOnFailureInMinutes},p=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.capabilitiesFailureRetryCount},h=function(){return Object(i.a)("getSmarttvParentalControlV1")},v=function(){return Object(i.a)("getParentalControlBlockedChannelsV1")},f=function(){return Object(i.a)("postParentalControlBlockedChannelsV1")},m=function(){return Object(i.a)("getParentalControlRatingsV1")},g=function(){return Object(i.a)("putParentalControlRatingsV1")},b=function(){return Object(i.a)("postParentalControlAdminValidateV1")},y=function(){return Object(i.a)("getTvodPinV1")},S=function(){return Object(i.a)("postTvodPinV1")},w=function(){return Object(i.a)("postTvodPinValidateV1")},k=function(){return Object(i.a)("getSmarttvAegisV1")},C=function(){return Object(i.a)("getAegisRefreshV1")},$=function(){return Object(i.a)("getSmarttvTimezoneV1")},T=function(){return Object(i.a)("getSmarttvLineupV1")},O=function(){return Object(i.a)("postParentalControlPinV1")},E=function(){return Object(i.a)("postParentalControlPinValidateV1")},A=function(){return Object(i.a)("getSmarttvBookmarksV2")},P=function(){return Object(i.a)("getSmarttvChannelsV2")},I=function(){return Object(i.a)("getSmarttvChannelsV3")},x=function(){return Object(i.a)("getSmarttvWatchlistV1")},_=function(e){var t="";if(Object(o.Mf)(e))t=Object(i.a)("getLocationV2");else{var n=Object(i.a)("getLocationV1"),r=Object(o.ib)(e);t=r?"".concat(n,"?dlc=").concat(r):n}return t}},AnkW:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div>\n<h3 class="errorCaption">Sorry, an error occurred with the search.</h3>\n<h4 ng-if="$ctrl.error.status" class="errorCode">{{$ctrl.error.status}}: {{$ctrl.error.statusText}}</h4>\n<div ng-if="$ctrl.error.message" class="errorDetail">{{$ctrl.error.message}}</div>\n</div>\n',o="js/search/result-pages/search-error.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},AsUO:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal bulkmdu-login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<img alt="" ovp-src="/images/mdu-welcome-screen.svg" aria-hidden="true"/>\n<h1 class="title" tabindex="-2" focus-once>Welcome to Spectrum TV</h1>\n<p class="description">\nDownload the Spectrum TV App on your smartphone or tablet to watch your favorite shows and movies whenever you\'re connected to your Spectrum Internet service.\n</p>\n<p class="description">\nSelect Watch TV to agree to our\n<a href="{{::$ctrl.termsHref}}" class="kite-btn-link" target="_blank">Terms and Conditions</a>\nand\n<a href="{{::$ctrl.privacyHref}}" class="kite-btn-link" target="_blank">Privacy Policy</a>\n</p>\n<button ng-click="$ctrl.continue()" class="kite-btn kite-btn-primary kite-btn-xl btn-margin">\nWatch TV\n</button>\n<div class="footer">\n<div class="button" tabindex="0" role="button" aria-label="Spectrum TV Community Solutions Welcome" ng-click="$ctrl.previousPage()"></div>\n<div class="button active" tabindex="0" role="button" aria-label="Spectrum TV Community Solutions Welcome continued"></div>\n</div>\n</div>\n</div>\n</section>\n</div>\n',o="js/bulkMDU/eula.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"B+El":function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return $});n("pNMO"),n("TeQF"),n("QWBl"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("o0o1"),a=n.n(o),s=(n("ls82"),n("KYMe")),c=n("5rFJ"),l=n("493X"),u=n("Aa8z"),d=n("/vZ1"),p=n("dfAx");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=a.a.mark(k),m=a.a.mark(C),g=a.a.mark($),b=p.a.normalizeRating,y=p.a.convertApiDataToStore,S=p.a.getRatingsToBlock,w={normalized:{tv:[],movie:[]},tv:[],movie:[]};function k(){var e,t,n,r;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(c.b)(u.j);case 2:return e=i.sent,i.prev=3,i.next=6,Object(c.d)(l.a.request());case 6:return i.next=8,Object(c.b)(s.default.get,{url:e});case 8:return t=i.sent,n=t.data,i.next=12,Object(c.b)(y,n);case 12:return r=i.sent,i.next=15,Object(c.d)(l.a.success(r));case 15:i.next=21;break;case 17:return i.prev=17,i.t0=i.catch(3),i.next=21,Object(c.d)(l.a.failure(i.t0));case 21:case"end":return i.stop()}},f,null,[[3,17]])}function C(e){var t,n,r,i,o,p,h,f,g,y,k,C,$,T,O,E;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.b)(u.w);case 2:return t=a.sent,a.next=5,Object(c.g)(d.g);case 5:return n=a.sent,a.next=8,Object(c.g)(d.c);case 8:return r=a.sent,a.next=11,Object(c.g)(d.f);case 11:return i=a.sent,a.next=14,Object(c.g)(d.e);case 14:return o=a.sent,a.next=17,Object(c.g)(d.h);case 17:return p=a.sent,a.next=20,Object(c.g)(d.d);case 20:return h=a.sent,f=e.payload,a.prev=22,g=v({},w),f.tv&&(y=S(b(f.tv),n,i,p),k=y.normalizedRatings,C=y.ratings,g.normalized.tv=k,g.tv=C),f.movie&&($=S(b(f.movie),r,o,h),T=$.normalizedRatings,O=$.ratings,g.normalized.movie=T,g.movie=O),a.next=28,Object(c.d)(l.a.success(g));case 28:return a.next=30,Object(c.d)(l.b.request());case 30:return E={url:t,data:{parentalControls:{blockedTVRatings:g.tv,blockedMovieRatings:g.movie,blockUnrated:!1}}},a.next=33,Object(c.b)(s.default.put,E);case 33:return a.next=35,Object(c.d)(l.b.success());case 35:a.next=41;break;case 37:return a.prev=37,a.t0=a.catch(22),a.next=41,Object(c.d)(l.b.failure(a.t0));case 41:case"end":return a.stop()}},m,null,[[22,37]])}function $(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)([Object(c.j)(l.a.TRIGGER,k),Object(c.j)(l.b.TRIGGER,C)]);case 2:case"end":return e.stop()}},g)}},BD6q:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<form class="search-form navbar-form" role="search" ng-submit="$ctrl.search($ctrl.query)">\n<div class="form-group">\n<div class="sr-only" role="status">\n{{$ctrl.searchResultsTitle}}\n</div>\n<label class="label" for="query">\n<span class="si si-search"></span>\n<span class="sr-only">Search for: </span>\n</label>\n<input id="query" class="form-control search-input" name="query" type="search" autocomplete="off" placeholder="{{$ctrl.placeholder}}" aria-describedby="searchInstructions" ng-model="$ctrl.query" ng-keyup="$ctrl.onKey($event)" ng-focus="$ctrl.resetSearchInstructions()" focus-when="$ctrl.shouldFocusInput" focus-once/>\n<div hidden id="searchInstructions">{{$ctrl.searchInstructions}}</div>\n<button type="button" class="exit-search" ng-click="$ctrl.exitSearch()" ng-keydown="$ctrl.onKey($event)" aria-label="close search"><span class="twcicon twcicon-remove"></span></button>\n<hr aria-hidden="true"/>\n</div>\n</form>\n',o="js/search/search-input.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"BDR/":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c});var r="OFFERS_API_IN_PROGRESS",i="OFFERS_API_SUCCESS",o="OFFERS_API_ERROR",a=function(){return{type:r}},s=function(e){return{type:i,payload:e}},c=function(e){return{type:o,payload:e}}},Bai8:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return y});n("oVuX"),n("T63A");var r=n("o0o1"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=(n("ls82"),n("yXPU")),c=n.n(s),l=n("dprx"),u=n.n(l),d=n("PNUD"),p=n("I+BT"),h=n("zmVM"),v=n("XHxQ"),f=n("UntU"),m=[];function g(){return b.apply(this,arguments)}function b(){return(b=c()(i.a.mark(function e(){var t,n,r,o,s,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.a.getSelectorValue(h.a),m=[],n)for(r=0,o=Object.entries(n);r<o.length;r++)s=a()(o[r],2),c=s[0],!0===(null===(l=s[1])||void 0===l?void 0:l.authorized)&&m.push(c);return n&&0!==(null===(t=m)||void 0===t?void 0:t.length)||Object(v.a)({customLevel:"userConfigSet",customName:"STVWEB-7855",customMessage:{capabilities:JSON.stringify(n),entitlements:JSON.stringify(m),capabilitiesLength:null===n||void 0===n?void 0:n.length}}),e.next=6,Object(f.h)();case 6:u.a.set(p.d.ENTITLEMENTS,{entitlements:m.join(", ")});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var y=function(){return m}},Beac:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a});var r=function(e){return null===e||void 0===e?void 0:e.queryParams},i=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.cid},o=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.boid},a=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.visitId}},CdX3:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h2 ng-if="::$ctrl.isElevated" class="elevated-title kite-h3">\n{{::$ctrl.description}}\n</h2>\n<h3 class="accordion-header" ng-class="{\'elevated\': $ctrl.isElevated}">\n<div class="list-group-item list-item-episode" ng-class="{\'active\':$ctrl.selected || $ctrl.isElevated}" aria-expanded="{{$ctrl.selected && !$ctrl.hide}}" role="{{::$ctrl.isElevated ? \'none\' : \'button\'}}" ng-attr-tabindex="{{::$ctrl.isElevated ? undefined : \'0\'}}" ovp-click="::$ctrl.showClick($event)">\n<div class="sr-only">\n{{(($ctrl.episode.seasonNumber ? \'Season \' + $ctrl.episode.seasonNumber : \'\') + ($ctrl.episode.episodeNumber ? \' episode \' + $ctrl.episode.episodeNumber + \'. \' : \'\') + $ctrl.episode.title + \'. \' + ($ctrl.isUnavailableOoh() ? \'. Streaming Unavailable. \' : \'\') + ($ctrl.episode.playedPct ? \'. \' + ($ctrl.episode.playedPct | number:0) + \'% watched.\' : \'\') + ($ctrl.episodeStatus()) )}}\n</div>\n<div class="si si-chevron-down-f" aria-hidden="true"></div>\n<div class="kite-grid title-container" role="presentation" ng-class="{\'dimmed\': $ctrl.isUnavailableOoh()}">\n<div class="kite-cell kite-cell-1 kite-cell-2-gt-md" role="presentation">\n<span class="episode-number kite-h4" aria-hidden="true">{{::($ctrl.episode.episodeNumber && \'Ep \' + $ctrl.episode.episodeNumber)}}</span>\n<div class="twcicon-svg twcicon-svg-recording" role="img" aria-label="Scheduled to record" ng-if="!$ctrl.episode.parentSeries.isSeriesRecording && $ctrl.episode.cdvrHasNotCompleted"></div>\n<div class="twcicon-svg twcicon-svg-recording-series" role="img" aria-label="Scheduled to record" ng-if="$ctrl.episode.parentSeries.isSeriesRecording && $ctrl.episode.cdvrHasNotCompleted"></div>\n</div>\n<div class="kite-cell kite-cell-2 kite-cell-8-gt-md" role="presentation">\n<div class="title-group" aria-hidden="true">\n<div class="status" ng-switch="$ctrl.episodeStatus()">\n<span class="twcicon-svg twcicon-svg-lock kite-h4" ng-switch-when="blocked"></span>\n<span class="twcicon-svg twcicon-svg-key kite-h4" ng-switch-when="unentitled"></span>\n<span class="ooh-icon" ng-class="{\'weak\':!$ctrl.selected}" ng-switch-when="availableOutOfHome"></span>\n</div>\n<span class="title kite-h4">{{::$ctrl.episode.title}}</span>\n</div>\n<div class="source" ng-if="::!$ctrl.showBookmark()" role="presentation">{{::$ctrl.episode.viewStatus}}</div>\n<progress-bar ng-if="::$ctrl.showBookmark()" percent-played="::$ctrl.episode.viewStatus"/>\n</div>\n<div class="kite-cell kite-cell-1 kite-cell-3-gt-md" aria-hidden="true"></div>\n</div>\n</div>\n</h3>\n<div ng-attr-tabindex="{{($ctrl.isIE()) ? undefined : \'-2\'}}">\n<div class="accordion-details" ng-if="($ctrl.selected || $ctrl.isElevated) && !$ctrl.hide" ng-class="{\'elevated\': $ctrl.isElevated, \'accordion-animation\': !$ctrl.isIE()}">\n<div class="kite-grid episode-description">\n<div class="kite-cell kite-cell-1 kite-cell-2-gt-md" aria-hidden="true"></div>\n<div class="kite-cell kite-cell-3 kite-cell-6-gt-md">\n<ovp-rating class="rating" ng-if="::($ctrl.episode.allRatings && $ctrl.episode.allRatings.length > 0)" rating="::$ctrl.episode.allRatings"></ovp-rating> <span class="synopsis">{{::$ctrl.episode.longDescription}}</span>\n<div class="availability-message" ng-if="$ctrl.availabilityMessage()" ng-bind-html="::$ctrl.availabilityMessage()"></div>\n<div class="ooh-unavailable-message" ng-if="::$ctrl.isUnavailableOoh()">\n<svg focusable="false" aria-hidden="true" class="ooh-icon-arrow"><use width="15" height="15" xlink:href="#ooh-arrow-icon" svg-path/></svg>\n<small>{{ ::$ctrl.oohAvailabilityMessage()}}</small>\n</div>\n</div>\n<div class="kite-cell kite-cell-1 kite-cell-4-gt-md">\n<div class="kite-grid">\n<div class="kite-cell kite-cell-1"></div>\n<div class="kite-cell kite-cell-3 kite-cell-11-gt-md">\n{{::$ctrl.originalAirDateMessage()}}\n</div>\n</div>\n</div>\n</div>\n<div class="kite-grid episode-actions">\n<div class="kite-cell kite-cell-1 kite-cell-2-gt-md"></div>\n<div class="kite-cell kite-cell-3 kite-cell-10-gt-md">\n<button class="kite-btn kite-btn-primary kite-btn-md" ng-class="{\'kite-btn-disabled\': disabled(item.actionType), \'kite-btn-outline-primary\': item !== $ctrl.episode.actions[0] }" type="button" ng-repeat="action in $ctrl.episode.actions | filter:{actionType:\'!otherWaysToWatch\'}" action="action" asset="::$ctrl.episode" aria-label="{{actionTypeToLabel(item)}}" aria-describedby="{{id(item)}}" selectable ng-click="productActionClicked(item, asset, $event)" product-button-actions>\n<svg class="svg-icon" aria-hidden="true" focusable="false">\n<use aria-hidden="true" xlink:href="{{actionTypeToButtonGraphic(item)}}" svg-path/>\n</svg>\n<span class="vertical-align-middle">{{::actionTypeToLabel(item)}}</span>\n<span id="{{id(item)}}" class="sr-only">\n{{::actionTypeToHoverText(item)}}\n</span>\n</button>\n<button ng-repeat="action in $ctrl.episode.actions | filter:{actionType: \'otherWaysToWatch\'}" class="kite-btn kite-btn-link kite-btn-standalone-link" action="action" asset="::$ctrl.episode" ng-click="productActionClicked(item, asset, $event)" selectable product-button-actions>More Ways to Watch...</button>\n</div>\n</div>\n</div>\n</div>\n<div class="hr" ng-if="::!$ctrl.isElevated"></div>\n',o="js/product/episode-list/product-episode.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},CnnF:function(e,t,n){"use strict";n.d(t,"a",function(){return f});n("B6y2");var r,i,o=n("o0o1"),a=n.n(o),s=(n("ls82"),n("yXPU")),c=n.n(s),l=n("dprx"),u=n.n(l),d=n("PNUD"),p=n("I+BT"),h=n("Dhhs"),v=n("UntU");function f(){return m.apply(this,arguments)}function m(){return(m=c()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.a.getSelectorValue(h.j),i=d.a.getSelectorValue(h.l),e.next=4,Object(v.h)();case 4:u.a.set(p.d.EXPERIMENT_CONFIGURATIONS,{experimentUuids:Object.values(r),variantUuids:Object.values(i)});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},DRjL:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-switch on="$ctrl.isList()" class="ovp-channel" ng-class="{\'list\': $ctrl.isList()}">\n<div ng-switch-when="false">\n<div id="channelIdWrapper">\n<img alt=" " ng-if="$ctrl.networkLogoUrl" ng-src="{{$ctrl.networkLogoUrl}}">\n<div class="channelIDs">\n<div class="channelId" ng-bind="$ctrl.channelId" ng-show="!($ctrl.ignoreChannelNumbers)"></div>\n<div class="channelSign" ng-bind="$ctrl.callSign"></div>\n</div>\n</div>\n</div>\n<div ng-switch-when="true">\n<span class="channelSign" ng-bind="$ctrl.callSign"></span>\n<span class="divider">|</span>\n<span class="channelId" ng-bind="$ctrl.channelId"></span>\n</div>\n</div>\n',o="js/components/ovp/ovp-channel/ovp-channel.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Dhhs:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return m}),n.d(t,"l",function(){return g});var r=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.analytics)&&void 0!==t?t:{}},i=function(e){var t,n;return null!==(t=null===(n=function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.eventProperties)&&void 0!==t?t:{}}(e))||void 0===n?void 0:n.modalView)&&void 0!==t?t:{}},o=function(e){return function(t){var n,r;return null!==(n=null===(r=i(t))||void 0===r?void 0:r[e])&&void 0!==n?n:{}}},a=function(e){var t,n,i;return null!==(t=null===(n=r(e))||void 0===n?void 0:null===(i=n.blacklist)||void 0===i?void 0:i.urls)&&void 0!==t?t:[]},s=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.applicationName},c=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.applicationType},l=function(e){var t;return!!(null===(t=r(e))||void 0===t?void 0:t.debug)},u=function(e){var t;return!!(null===(t=r(e))||void 0===t?void 0:t.enabled)},d=function(e){var t,n;return null===(t=null===(n=r(e))||void 0===n?void 0:n.reportTimezone)||void 0===t||t},p=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.requirementsVersion},h=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.pageTimeoutMillis},v=function(e){var t;return!!(null===e||void 0===e?void 0:null===(t=e.analytics)||void 0===t?void 0:t.started)},f=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.dePayload},m=function(e){var t,n;return null!==(t=null===(n=f(e))||void 0===n?void 0:n.experimentUuids)&&void 0!==t?t:[]},g=function(e){var t,n;return null!==(t=null===(n=f(e))||void 0===n?void 0:n.variantUuids)&&void 0!==t?t:[]}},Dp3E:function(e,t,n){"use strict";angular.module("ngAudio",[]).directive("ngAudio",["$compile","$q","ngAudio",function(e,t,n){return{restrict:"AEC",scope:{volume:"=",start:"=",currentTime:"=",loop:"=",clickPlay:"=",disablePreload:"="},controller:function(e,t,r,i){var o;function a(){o=n.load(t.ngAudio,e),e.$audio=o,o.unbind()}e.disablePreload||a(),r.on("click",function(){!1!==e.clickPlay&&(e.disablePreload&&a(),o.audio.play(),o.volume=e.volume||o.volume,o.loop=e.loop,o.currentTime=e.start||0,i(function(){o.play()},5))}),r.on("$destroy",function(){o.destroy()})}}}]).directive("ngAudioHover",["$compile","$q","ngAudio",function(e,t,n){return{restrict:"AEC",controller:function(e,t,r,i){var o=n.load(t.ngAudioHover,e);r.on("mouseover rollover hover",function(){o.audio.play(),o.volume=t.volumeHover||o.volume,o.loop=t.loop,o.currentTime=t.startHover||0}),r.on("$destroy",function(){o.destroy()})}}}]).service("localAudioFindingService",["$q",function(e){this.find=function(t){var n=e.defer(),r=document.getElementById(t);return r?n.resolve(r):n.reject(t),n.promise}}]).service("remoteAudioFindingService",["$q",function(e){this.find=function(t){var n=e.defer(),r=new Audio;return r.addEventListener("error",function(){n.reject()}),r.addEventListener("loadstart",function(){n.resolve(r)}),setTimeout(function(){r.src=t},1),n.promise}}]).service("cleverAudioFindingService",["$q","localAudioFindingService","remoteAudioFindingService",function(e,t,n){this.find=function(r){var i=e.defer();return r=r.replace("|","/"),t.find(r).then(i.resolve,function(){return n.find(r)}).then(i.resolve,i.reject),i.promise}}]).value("ngAudioGlobals",{muting:!1,songmuting:!1,performance:25,unlock:!0}).factory("NgAudioObject",["cleverAudioFindingService","$rootScope","$interval","$timeout","ngAudioGlobals",function(e,t,n,r,i){return function(r,o){function a(){d.play(),d.pause(),window.removeEventListener("click",a)}var s,c,l,u,d,p=!1,h=!1,v=!1,f=!1,m=!1,g=!1,b=!0,y=!1,S=o||t,w=this;this.id=r,this.safeId=r.replace("/","|"),this.loop=0,this.unbind=function(){b=!1},this.play=function(){return p=!0,this};var k=[];function C(){y||($&&n.cancel($),c&&c(),s&&s(),y=!0)}this.complete=function(e){k.push(e)},this.pause=function(){h=!0},this.restart=function(){v=!0},this.stop=function(){this.restart()},this.setVolume=function(e){l=e},this.setPlaybackRate=function(e){m=e,f=!0},this.setMuting=function(e){g=e},this.setProgress=function(e){d&&d.duration&&isFinite(e)&&(d.currentTime=d.duration*e)},this.setCurrentTime=function(e){d&&d.duration&&(d.currentTime=e)},this.destroy=C,S.$on("$destroy",function(){C()}),e.find(r).then(function(e){d=e,i.unlock&&(window.addEventListener("click",a),d.addEventListener("playing",function(){window.removeEventListener("click",a)})),d.addEventListener("canplay",function(){w.canPlay=!0})},function(e){w.error=!0,console.warn(e)});var $=n(T,i.performance);function T(){s&&s(),d&&(g||i.isMuting?d.volume=0:d.volume=void 0!==w.volume?w.volume:1,p&&(d.play(),p=!1),v&&(d.pause(),d.currentTime=0,v=!1),h&&(d.pause(),h=!1),f&&(d.playbackRate=m,f=!1),l&&(d.volume=l,l=void 0),b&&(w.currentTime=d.currentTime,w.duration=d.duration,w.remaining=d.duration-d.currentTime,w.progress=d.currentTime/d.duration,w.paused=d.paused,w.src=d.src,w.currentTime>=w.duration&&k.forEach(function(e){e(w)}),u&&w.currentTime>=w.duration&&(!0!==u&&(u--,w.loop--),w.setCurrentTime(0),w.play())),g||i.isMuting||(w.volume=d.volume),w.audio=d),y||(s=S.$watch(function(){return{volume:w.volume,currentTime:w.currentTime,progress:w.progress,muting:w.muting,loop:w.loop,playbackRate:w.playbackRate}},function(e,t){e.currentTime!==t.currentTime&&w.setCurrentTime(e.currentTime),e.progress!==t.progress&&w.setProgress(e.progress),e.volume!==t.volume&&w.setVolume(e.volume),e.playbackRate!==t.playbackRate&&w.setPlaybackRate(e.playbackRate),u=e.loop,e.muting!==t.muting&&w.setMuting(e.muting)},!0))}c=S.$watch(function(){return i.performance},function(){n.cancel($),$=n(T,i.performance)})}}]).service("ngAudio",["NgAudioObject","ngAudioGlobals",function(e,t){this.play=function(t,n){var r=new e(t,n);return r.play(),r},this.load=function(t,n){return new e(t,n)},this.mute=function(){t.muting=!0},this.unmute=function(){t.muting=!1},this.toggleMute=function(){t.muting=!t.muting},this.setUnlock=function(e){t.unlock=e}}]).filter("trackTime",function(){return function(e){var t=Math.floor(0|e),n="",r=0,i=0,o=0;return t>3599?(r=Math.floor(t/3600),o=t-(60*(i=Math.floor((t-3600*r)/60))+3600*r),1==r.toString().length&&(r="0"+Math.floor(t/3600).toString()),1==i.toString().length&&(i="0"+Math.floor((t-3600*r)/60).toString()),1==o.toString().length&&(o="0"+(t-(60*i+3600*r)).toString()),n=r+":"+i+":"+o):t>59?(o=t-60*(i=Math.floor(t/60)),1==i.toString().length&&(i="0"+Math.floor(t/60).toString()),1==o.toString().length&&(o="0"+(t-60*i).toString()),n=i+":"+o):(1==(o=t).toString().length&&(o="0"+t.toString()),n=t+"s"),"function"==typeof Number.isNaN&&Number.isNaN(n),n}})},DtJ8:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.assets.length">\n<ovp-carousel items="$ctrl.assets" options="$ctrl.carouselConfig">\n<ovp-product ng-repeat="asset in $ctrl.assets" asset="asset" options="{enableRemove: true, enableOOW: true, mylibCatName: $ctrl.category.name}" on-remove="$ctrl.onRemove(asset)">\n</ovp-product>\n</ovp-carousel>\n</div>\n<div ng-if="$ctrl.assets.length === 0" class="empty-swimlane-wrap">\n<h2 class="category-title">{{::$ctrl.category.name}}</h2>\n<div class="empty-swimlane-container">\n<img class="empty-image" alt="" ovp-src="/images/watchlist-illustration.svg"/>\n<p class="empty-swimlane-text kite-h4">Add TV shows and movies to your Watchlist from the title\'s info page.</p>\n<a class="kite-btn kite-btn-primary kite-btn-xl" href="#" ng-click="$ctrl.browseOnDemand()">Browse On Demand</a>\n</div>\n</div>\n',o="js/my-library/components/watchlist.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},E3XM:function(e,t,n){var r;void 0===(r=function(e,t,r){"use strict";var i=n("0Fy8"),o=n("ozyn"),a=n("i8Df"),s=n("vfMh"),c=function(e){return"_mutator"!==e},l=r.exports=function(e,t,n){t=t||u,this._ParentDelegate=t,this.Delegate=function(){t.apply(this,arguments)},this.Delegate.prototype=Object.create(t.prototype),this.Delegate.prototype.constructor=t,this.installGetter(e,n)};a(l.prototype).extend({installGetter:function(e,t){e&&(this.getter=e,function(e,t,n){var r=function(e){return e instanceof u&&e._context.parent!=e?r(e._context.parent):e};Object.defineProperties(t,Object.keys(a.extend({},e)).filter(c).reduce(function(t,n){var o=e[n],a=function(){var t=function(e){return i.function(e.data)?e.data():e.data};return i.string(e._mutator)&&(e._mutator=l.getter(e._mutator)),i.function(e._mutator)?function(){return e._mutator.call(r(this),t(this._context))}:function(){return t(this._context)}}();if(i.string(o)&&(o=l.getter(o)),i.function(o))t[n]={get:function(){var e=r(this),t=a.call(this);return o.call(e,t)},enumerable:!0,configurable:!0};else if(i.object(o)){var s=new l(o);t[n]={get:function(){return s.createInstance(a.call(this),this)},enumerable:!0,configurable:!0}}return t},{}))}(e,this.Delegate.prototype))},createInstance:function(e,t){return new(0,this.Delegate)(e,t)},extend:function(e,t){var n=l.install(this.getter).extend(e);return a.isObject(t)&&n.toPrototype(t),new l(n.getters(),this.Delegate,this)}});var u=function(e,t){this._context={},this._context.parent=t||this,this.installData(e)};Object.defineProperties(u.prototype,function(e){return Object.keys(e).reduce(function(t,n){return t[n]=function(e){return{enumerable:!1,writable:!1,configurable:!1,value:e}}(e[n]),t},{})}({installData:function(e){this._context.data=e},getData:function(){return i.function(this._context.data)?this._context.data():this._context.data},toJSON:function(){return a({}).chain().extend(this).omit("_context").value()}}));var d=function(e){var t=function(e,t){return""===e?t:e+"."+t},n=function(r,o,s){for(var c in s=s||"",r){var l=r[c];i.function(l)?e(l,r,t(s,c),c,o):i.object(l)&&(o&&(a.isUndefined(o[c])||a.isNull(o[c]))&&(o[c]={}),n(l,o?o[c]:null,t(s,c)))}};return n},p=function(e){return e.withName=function(t){return e.accessor=t,e},e.cached=function(){return e._cached=!0,e},e};l.getter=function(e){if(i.function(e))return p(e);if(i.object(e)){var t=(e=s.for(e)).expect("getter");return t.accessor=e.get("accessor"),p(t)}if(i.string(e)){var n=e;return p(function(e){return o(n,e)})}throw new Error("Unsupported argument "+e.toString())},l.setter=function(e){(e=s.for(e)).get("mutator");var t=e.expect("attributes"),n=e.get("setter");return t._mutator.setter=n,t},l.install=function(e){e=e||{};var t=!1,n=function(e){return this.get(e)},r={extend:function(t){return d(function(e,t,n,r,i){(a.isUndefined(i[r])||a.isNull(i[r]))&&(i[r]=e)})(e,t),e=t,r},defaultCached:function(){return t=!0,r},withProvider:function(e){n=e},toPrototype:function(o){return d(function(e,r,a,s){if(!i.undefined(e)&&i.function(e))if("_mutator"==s)if(i.function(e.setter)){if(!i.string(e.setter.name))throw new Error("Custom attribute setter functions must be named: "+e.accessor.toString()+"\nTry using function setMyProperty() { ... } instead");o[e.setter.name]=e.setter}else i.object(e.setter)&&Object.keys(e.setter).forEach(function(t){o[t]!==e.setter[t]&&(o[t]=e.setter[t])});else if(i.string(e.accessor))o[e.accessor]&&o[e.accessor]._dataDelegateDefaultGetter||(o[e.accessor]=function(e,t){var r=t?function(){return this._cachedValue=this._cachedValue||{},Object.hasOwnProperty(this._cachedValue,e)||(this._cachedValue[e]=n.call(this,e)),this._cachedValue[e]}:function(){return n.call(this,e)};return r._dataDelegateDefaultGetter=!0,r}(a,e._cached||t));else if(i.function(e.accessor)){if(!i.string(e.accessor.name))throw new Error("Custom attribute getter functions must be named: "+e.accessor.toString()+"\nTry using function getMyProperty() { ... } instead");o[e.accessor.name]!==e.accessor&&(o[e.accessor.name]=e.accessor)}})(e),r},define:function(){return new l(e)},getters:function(){return e}};return r}}.call(t,n,t,e))||(e.exports=r)},EOMQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="ooh-separator">\n{{$ctrl.separatorMessage}}\n</div>\n',o="js/components/mini-guide/ooh-separator.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Eb3s:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});n("pNMO"),n("TeQF"),n("QWBl"),n("brp2"),n("DQNa"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("UntU");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){var n=t.currPageRenderInitTs||Date.now();Object(o.j)(e,s(s({currPageRenderInitTs:n},t),{},{msgEventType:"pageViewInit"}),{timestamp:n})}function l(e,t){var n=t.currPagePartialRenderedTs||Date.now();Object(o.j)(e,s(s({currPagePartialRenderedTs:n},t),{},{msgEventType:"pageViewPartiallyRendered"}),{timestamp:n})}function u(e){c(e.eventCaseId,e),e.currPageIsLazyLoad&&(e.currPagePartialRenderedTs=e.currPagePartialRenderedTs||e.currPageFullyRenderedTs,l(e.eventCaseId,e)),function(e,t){var n=t.currPageFullyRenderedTs||Date.now();Object(o.j)(e,s(s({currPageFullyRenderedTs:n},t),{},{msgEventType:"pageViewCompleted"}),{timestamp:n})}(e.eventCaseId,e)}function d(e){c(e.eventCaseId,e),e.currPageIsLazyLoad&&(e.currPagePartialRenderedTs=e.currPagePartialRenderedTs||e.currPageFullyRenderedTs,l(e.eventCaseId,e)),function(e,t){var n=t.currPageFullyRenderedTs||Date.now();Object(o.j)(e,s(s({},t),{},{msgEventType:"pageViewTimeout"}),{timestamp:n})}(e.eventCaseId,e)}},Eqvq:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="disabled-parentalcontrols-container">\n<h1 class="kite-h3">\nPlease Sign In\n</h1>\n<p>\nTo use Parental Controls, please sign in to your account. If you don\'t have a Spectrum username and password, please call us at <a href="tel:{{bulkMDUIVRNumber}}">{{bulkMDUIVRNumber}}</a> to upgrade your account.\n</p>\n</div>',o="js/settings/parental-controls/parental-controls-disabled.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Erqy:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"f",function(){return d});var r="PLAYER_STREAM_HDCP_FAILURE_ON",i="PLAYER_STREAM_HDCP_FAILURE_OFF",o="PLAYER_STREAM_FALLBACK_PLAYER_ON",a="PLAYER_STREAM_FALLBACK_PLAYER_OFF",s="PLAYER_STREAM_INFO_OPTIONS";function c(){return{type:r}}function l(){return{type:i}}function u(e){return{type:s,payload:e}}function d(){return{type:o}}},FNR7:function(e,t){!function(){"use strict";angular.module("ovpApp.directives.fadeinOnload",[]).directive("fadeinOnload",function(){return{link:function(e,t){t.addClass("fade-in"),t.on("load",function(){return t[0].style.opacity="1"})},restrict:"A"}})}()},FOA0:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="stbContent" ng-controller="DevicesController as vm">\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2">Global Devices</h2>\n<p class="title">\n<span class="stb-connect">Connect with your set top boxes at home.</span>\n<span>Click on the name of the device below to give your set top box a new name.</span>\n</p>\n<ul class="devices-container" role="list">\n<li ng-repeat="stb in vm.stbs" class="stbClass">\n<div class="{{stb.dvr ? \'isDvr\' : \'isStb\'}} dvrWrapper">\n<button id="stbRenameButton_{{$index}}" ng-click="vm.beginEdit(stb)" class="stbName {{vm.isActive(stb) ? \'active\' : \'off\'}}" aria-label="Rename {{stb.name || stb.macAddress}}" ng-hide="stb.isEditing">\n{{stb.name || stb.macAddress}}\n</button>\n<form class="stbRenameForm" ng-hide="!stb.isEditing">\n<input aria-label="Rename your device" class="stbRenameTextInput" name="stbRenameTextInput" id="stbRenameTextInput_{{$index}}" type="text" ng-model="stb.name" ng-change="vm.inputChanged(stb)" focus-when="stb.isEditing"/>\n<button type="button" class="stbRenameSave" ng-click="vm.saveEdit(stb)">Save</button>\n<button type="button" class="stbRenameCancel" ng-click="vm.cancelEdit(stb)">Cancel</button>\n<input class="inputConnect" type="hidden" name="id" value="{{stb.macAddress}}"/>\n<input type="hidden" name="isDvr" value="{{stb.dvr}}"/>\n</form>\n<div class="connectClick">\n<div class="stbSelectWrap">\n<form>\n<input type="hidden" name="stbSelectedId" value="{{stb.macAddress}}"/>\n<button type="button" ng-click="vm.connect(stb)" ng-class="{\'stbConnected\': vm.isActive(stb), \'stbDisConnected\': !vm.isActive(stb)}" ng-attr-tabindex="{{!vm.isActive(stb) ? 0 : -1}}" ng-attr-aria-disabled="{{!vm.isActive(stb) ? \'false\' : \'true\'}}">\n<span ng-if="!vm.isActive(stb)">Connect</span>\n<span ng-if="vm.isActive(stb)">Connected</span>\n<span class="sr-only" role="presentation"> to {{stb.name || stb.macAddress}}</span>\n</button>\n</form>\n</div>\n</div>\n</div>\n</li>\n</ul>\n</div>\n',o="js/settings/devices/devices.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},FQLB:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section ng-if="$ctrl.channels.length">\n<ovp-carousel items="$ctrl.channels" options="{title: \'Recent Channels\', swimlaneIndex: $ctrl.swimlaneIndex, totalSwimlanes: $ctrl.totalSwimlanes}">\n<channel-card ng-repeat="channel in $ctrl.channels" index="$index" channel="channel" options="{showCurrentlyAiring: true, carouselSelectable: true}" on-remove="$ctrl.onRemove(channel)">\n</channel-card>\n</ovp-carousel>\n</section>\n',o="js/my-library/components/recent-channels/recent-channels.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},FQPq:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<mini-player-tooltip id="showPipTooltip" ng-if="$ctrl.showPipTooltip" dismiss-function="$ctrl.tooltipDismissFunction"></mini-player-tooltip>\n<div id="playerWrapper" ng-mouseenter="$ctrl.updateMiniPlayerControlVisibility($event)" ng-mouseleave="$ctrl.updateMiniPlayerControlVisibility($event)" ng-mousemove="$ctrl.playerOverlayTimer.onMouseMove()" ng-keydown="$ctrl.updateMiniPlayerControlVisibility($event)" ng-class="{fullscreen: $ctrl.ovpFullscreen.isEnabled(), \'playerClass\': $ctrl.isValidPlayRoute(), \'pipClass\': !$ctrl.isValidPlayRoute(), \'hidePlayer\': ($ctrl.hidePlayer || (!$ctrl.player && !$ctrl.isCasting)), \'scaled-video\': $ctrl.watchNextDisplayed && $ctrl.isValidPlayRoute(), \'watchNextMode\': $ctrl.watchNextFeatureActive && $ctrl.isValidPlayRoute(), \'cast-mode\': $ctrl.isCasting}">\n<div class="cast-background-image" ng-class="{\'cast-idle\': $ctrl.isCastIdle}" ng-if="$ctrl.isCasting && !$ctrl.isBlocked" ovp-click="$ctrl.toggleMiniGuide()" ng-style="$ctrl.castBackgroundImageSrc && {\'background-image\': \'url(\' + $ctrl.castBackgroundImageSrc + \')\'}" tabindex="-1"></div>\n<span class="cast-display-message kite-h2" ng-if="$ctrl.isCasting && $ctrl.castMessage && !$ctrl.isBlocked" ng-bind-html="$ctrl.castMessage" title="{{$ctrl.castMessage}}" ovp-click="$ctrl.toggleMiniGuide()" tabindex="-1"></span>\n<span id="chromecast_status" class="sr-only" aria-live="polite" ng-bind-html="$ctrl.castMessage"></span>\n<play-overlay play-click-handler="$ctrl.onPlayOverlayClicked"></play-overlay>\n<div ng-if="$ctrl.preloading && !$ctrl.isCasting" class="video-loading">\n<div class="logo"><img width="300" ovp-src="images/logo-horiz.svg"></div>\n<div class="spinner"></div>\n</div>\n<div id="spectrum-player" ng-class="{\'inactive\': $ctrl.preloading}"></div>\n<div class="mini-player-controls" ng-class="{\'visible\': $ctrl.mpcVisible || $ctrl.isCasting}" ng-if="$root.isShowingPip" role="region" aria-labelledby="mini-player-heading" aria-roledescription="mini player">\n<h2 tabindex="-1" id="mini-player-heading" class="sr-only" ng-if="$root.isShowingPip">{{$ctrl.isBlocked ? \'Blocked\' : \'Watching\'}}: {{$ctrl.assetTitle}}</h2>\n<span role="button" accesskey="p" aria-label="Close mini player" class="si si-x close" ovp-click="$ctrl.hidePip(\'user\')" id="mpcDismiss" ng-focus="$ctrl.mpcVisible = true;"></span>\n<div id="togglePipMovementWrapper" role="application">\n<button id="togglePipMovement" type="button" aria-pressed="false" aria-label="Move mini player" role="button" ng-blur="$ctrl.movingPipWithKeyboard = false" class="movePip" ovp-click="$ctrl.togglePipMovement()">\n</button>\n</div>\n<span ng-if="$ctrl.isBlocked" aria-label="Content blocked" class="si si-lock-f blocked"></span>\n<skip-button ng-if="$ctrl.isVod && $ctrl.isCasting" ng-hide="$ctrl.isCastIdle" is-casting="$ctrl.isCasting" class="skip-button" ovp-disabled="$ctrl.scrubbingDisabled" direction="-1" enlarge-icon="true" player="$ctrl.player" on-skip="$ctrl.skip(direction)" always-show-seconds="true" seconds="$ctrl.skipSeconds">\n</skip-button>\n<span ng-if="$ctrl.isVod && !$ctrl.isBlocked" ng-hide="$ctrl.isCastIdle" role="button" accesskey="k" aria-label="{{$ctrl.isPlaying ? \'pause\' : \'play\'}}" class="si pause" ng-class="{\'si-pause-f\': $ctrl.isPlaying, \'si-play-f\': !$ctrl.isPlaying}" ovp-click="$ctrl.togglePlay()"></span>\n<skip-button ng-if="$ctrl.isVod && $ctrl.isCasting" is-casting="$ctrl.isCasting" ng-hide="$ctrl.isCastIdle" class="skip-button" ovp-disabled="$ctrl.scrubbingDisabled" direction="1" enlarge-icon="true" player="$ctrl.player" on-skip="$ctrl.skip(direction)" always-show-seconds="true" seconds="$ctrl.skipSeconds">\n</skip-button>\n<span ng-hide="$ctrl.isBlocked || $ctrl.isCastIdle" role="button" accesskey="m" aria-pressed="{{$ctrl.isMuted}}" aria-label="Mute" class="si mute" ng-class="{\'si-speaker-mute-f\': $ctrl.isMuted, \'si-speaker-sound-f\': !$ctrl.isMuted}" ovp-click="$ctrl.toggleMute()"></span>\n<span role="link" id="mpcGoFullScreen" ng-hide="$ctrl.isCastIdle" ng-focus="$ctrl.mpcVisible = true" accesskey="r" aria-label="Return to {{$ctrl.returnPathName}}" class="restore" ovp-click="$ctrl.goBack()"></span>\n</div>\n<player-controls watch-next-mode="$ctrl.watchNextFeatureActive" player="$ctrl.player" ng-if="!$ctrl.isCasting && $ctrl.isValidPlayState() && $ctrl.player && !$ctrl.preloading" ng-hide="$ctrl.watchNextFeatureActive || $root.isShowingPip || !$ctrl.isValidPlayRoute()"></player-controls>\n<chromecast-player-controls ng-if="$ctrl.isCasting && !$ctrl.preloading && $ctrl.isValidPlayState()" ng-hide="$ctrl.watchNextFeatureActive || !$ctrl.isValidPlayRoute()"></chromecast-player-controls>\n<toggle-debug ng-if="$ctrl.player && $ctrl.debug" player="$ctrl.player"></toggle-debug>\n<div id="moveMiniPlayerLiveAriaStatus" class="sr-only" role="status" aria-live="polite"></div>\n</div>\n',o="js/components/player/player.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},FcmM:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="base-offer" ng-class="{\'active\': $ctrl.active}">\n<div class="header">\n<div class="left-section">\n<div aria-hidden="true" id="base-offer-heading-description" class="sr-only">, Current total {{$ctrl.summary.totalPrice}}</div>\n<h2>\n<div aria-disabled="{{$ctrl.active}}" aria-describedby="base-offer-heading-description" focus-when="$ctrl.focusOnLoad" role="button" tabindex="{{$ctrl.active ? -2 : 0}}" aria-expanded="{{$ctrl.active}}" ovp-click="$ctrl.activate()">1. Spectrum TV Stream</div>\n</h2>\n<span ng-if="!$ctrl.active" class="sub-title">Includes 25+ networks* and thousands of top shows and movies On Demand.</span>\n</div>\n<div ng-hide="$ctrl.active" class="right-section">\n<span role="presentation" class="price">$ {{$ctrl.summary.baseOfferPrice}}</span>\n<span role="presentation" class="month"> / Month</span>\n</div>\n</div>\n<div ng-if="$ctrl.active" class="content">\n<div class="offers-detail">\n<div class="description">\n<div class="name">{{$ctrl.offers.description}} <span>Required</span></div>\n<p>Includes over 5,000 titles On Demand</p>\n</div>\n<div class="price">\n$ {{$ctrl.offers.price}} <span>/ Month</span>\n</div>\n</div>\n<div class="network-list">\n<div ovp-click="$ctrl.toggleNetworkList()" class="toggle-link" role="button" aria-expanded="{{$ctrl.showNetworkList}}">\nView full network list\n<img alt="" ng-if="$ctrl.showNetworkList" ovp-src="images/icon-24-x-24-chevron-up.svg">\n<img alt="" ng-if="!$ctrl.showNetworkList" ovp-src="images/icon-24-x-24-chevron-down.svg">\n</div>\n<ul ng-show="$ctrl.showNetworkList" class="networks">\n<li ng-repeat="network in $ctrl.offers.networks" class="network-logo">\n<img alt="{{network.name}}" ng-src="{{$ctrl.getNetworkIcons(network)}}"/>\n</li>\n</ul>\n</div>\n<div class="actions">\n<button class="kite-btn kite-btn-outline-primary" ovp-click="$ctrl.cancel()">Cancel</button>\n<button class="kite-btn kite-btn-primary" ovp-click="$ctrl.continue()">Continue</button>\n</div>\n</div>\n</div>\n',o="js/buyFlow/base-offer.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},FwlG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="!$ctrl.emptyViewAll" ng-hide="$ctrl.loadingTracker.active()">\n<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>MyLibrary , {{$ctrl.category.name}}</h1>\n<ovp-grid-list ng-if="$ctrl.category" items="$ctrl.category.media" options="$ctrl.gridListConfig">\n<grid-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media | itemsPerPage: $ctrl.pageSize" asset="asset" template="boxart">\n</ovp-product>\n</grid-items>\n<list-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media |  itemsPerPage: $ctrl.pageSize" asset="asset" template="list" role="listitem">\n</ovp-product>\n</list-items>\n</ovp-grid-list>\n</div>\n<div ng-if="$ctrl.emptyViewAll" class="empty-viewall-list">\n<h1>We\'ve cleared your {{::$ctrl.category.name}}</h1>\n<button focus-once ng-click="$ctrl.backToMyLibrary()" class="kite-btn kite-btn-primary kite-btn-xl btn-margin">Back to My Library</button>\n</div>\n',o="js/my-library/components/mylibrary-viewall/mylibrary-viewall.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},GBMo:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<li ng-hide="vm.item.hidden" ng-class="{\'active\': vm.item.isSelected(), \'disabled\': !vm.item.enabled}">\n<a id="{{vm.item.id}}-link" class="{{vm.item.id}}" ovp-link-click="vm.itemClicked();" ng-mouseup="vm.itemMouseUp($event)" ui-sref="{{vm.item.link}}" ui-sref-active="{{vm.item.enabled}}" aria-current="{{vm.item.isSelected() ? \'page\' : \'false\' }}">\n{{vm.item.title}}\n</a>\n</li>\n',o="js/components/header/menu-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},GUOU:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});n("sMBO");var r=n("PNUD"),i=n("fwEs"),o=n("/qPr"),a=n("7s9v"),s="device_id",c="EDGE_CHROMIUM";function l(){var e=Object(a.d)()?c:platform.name.toUpperCase(),t={id:function(){var e;if(window.localStorage)try{e=(e=window.localStorage.getItem(s))?JSON.parse(e):Object(i.c)()}catch(e){console.error("Unable to retreive or parse stored deviceId: "+e)}else e=Object(i.c)();return e}(),osVersion:platform.os.family.toUpperCase()+"-"+platform.os.version,deviceType:e+"-"+platform.version,platformName:e,platformVersion:platform.version};window.localStorage.setItem(s,JSON.stringify(t.id)),r.a.dispatch(Object(o.b)(t))}function u(){return r.a.getStatePath("device.id")}function d(){return{device_id:u()}}},"Ga+L":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.browser)||void 0===t?void 0:null===(n=t.screenSize)||void 0===n?void 0:n.screenResolution}},GcnT:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="player-controls" ovp-fullscreen-toggle="vm.onFullScreenToggled(isEnabled)">\n<div id="player-mouse-down-focus" tabindex="{{vm.playerMouseDown ? 0 : -1}}" aria-hidden="true"></div>\n<mini-guide player="vm.player" live-tms-id="vm.liveTmsId" display-channel="vm.displayChannel" ean-url="vm.eanUrl" ng-class="{\'mini-guide-open\': vm.miniGuideOpen}" ng-if="vm.isLiveMode">\n</mini-guide>\n<div ng-if="vm.loading || vm.buffering || vm.seeking" class="channel-loading video-loading">\n<div class="spinner"></div>\n<div aria-hidden="true" class="loading-asset" ng-show="!!vm.loadingMessage()">{{vm.loadingMessage()}}</div>\n</div>\n<div class="sr-only" aria-live="assertive">\n{{vm.asset && vm.loading ? vm.ariaLoadingMessage() : \'\'}} {{vm.buffering ? \'Buffering\' : \'\'}} {{vm.pcBlockedMessage}}\n</div>\n<blocking-screen player="vm.player" fullscreen="vm.isVodMode" asset="vm.asset" stream="vm.stream"></blocking-screen>\n<div id="video-controls" class="controller-bar" ng-keyup="vm.onKeyUp($event)" ng-if="!vm.pcBlockedScreen" ng-class="{\'slide-open\': vm.controllerBarVisible===true}">\n<div class="updated-controls" ng-if="vm.player">\n<div class="asset-information" ng-if="vm.asset">\n<div class="asset-details">\n<h2 tabindex="-2" class="asset-title kite-h1">{{vm.assetTitle}}</h2>\n<p tabindex="-2" class="asset-meta kite-h4" ng-if="vm.assetSubtitle">{{vm.assetSubtitle}}</p>\n</div>\n<div class="channel-details">\n<div class="channel-number">\n<p class="no-bottom-margin" aria-hidden="true" ng-if="!vm.hideChannelNumber()">{{vm.asset.channel.localChannelNumber}}</p>\n</div>\n<div class="network-logo">\n<p>\n<img class="network-image" ng-src="{{vm.networkLogo}}" ng-if="vm.networkLogo" fallback-image="display:none" alt="{{vm.networkAltText}}">\n</p>\n</div>\n</div>\n</div>\n<div class="status-bar">\n<player-status-bar class="status-bar" asset="vm.asset" ng-if="vm.asset && !vm.isVodMode"></player-status-bar>\n<div class="scrubber" ng-if="vm.isVodMode && vm.scrubberBarVisible">\n<ovp-scrubber class="scrubber" max="vm.slider.options.max" value="vm.slider.options.value" ff-disabled="vm.slider.options.ffDisabled" cdvr-scrubbing-disabled="vm.slider.options.cdvrScrubbingDisabled" ad-breaks="vm.slider.options.adBreaks" is-ad-playing="vm.slider.options.isAdPlaying" has-viewed-ad="vm.slider.options.hasViewedAd" show-buffer="vm.slider.options.showBuffer" player="vm.player" enlarge-icon="vm.enlargeIcon">\n</ovp-scrubber>\n</div>\n</div>\n<div class="controls">\n<div class="left-buttons">\n<a href="#" class="kite-btn" ng-if="vm.asset.channel.hasLinkedVODAsset && vm.asset.channel.available" ovp-click="vm.startOver(vm.asset.channel, $event);">\n<svg class="restart-icon" aria-hidden="true" focusable="false">\n<use aria-hidden="true" xlink:href="#restart-icon" svg-path/>\n</svg>\n<span>Restart <span class="sr-only">program in on Demand</span></span>\n</a>\n</div>\n<div class="left-col-spacer"></div>\n<ul class="scrubber-controls" ng-if="vm.isVodMode">\n<li class="gap">\n<skip-button ng-if="!vm.cdvrScrubbingDisabled" direction="-1" player="vm.player" on-skip="vm.skip(direction)" seconds="vm.skipSeconds" enlarge-icon="true">\n</skip-button>\n</li>\n<li class="button-space">\n<toggle-play player="vm.player" options="{setBookmarkCallback: vm.prepareToSetBookmark, playbackTime: vm.playbackTime, duration: vm.duration}" enlarge-icon="true">\n</toggle-play>\n</li>\n<li class="gap">\n<skip-button ng-if="!vm.cdvrScrubbingDisabled" ovp-disabled="(vm.slider.options.isAdPlaying && !vm.slider.options.hasViewedAd) || vm.slider.options.ffDisabled" ff-disabled="vm.slider.options.ffDisabled" direction="1" player="vm.player" on-skip="vm.skip(direction)" seconds="vm.skipSeconds" enlarge-icon="true">\n</skip-button>\n</li>\n</ul>\n<ul class="other-buttons">\n<li class="common-controls control-item button-spacing" ng-if="vm.player">\n<div class="sr-only" aria-live="polite" aria-atomic="true" ng-bind="vm.ariaAutoplayMessage"></div>\n<autoplay-muted-tooltip ng-if="vm.showAutoplayMutedTooltip" ng-show="vm.controllerBarVisible" dismiss-function="vm.closeAutoplayTooltip"></autoplay-muted-tooltip>\n<volume-control player="vm.player" on-volume-change-callback="vm.closeAutoplayTooltip"></volume-control>\n</li>\n<li ng-if="vm.chromecastEnabled && !vm.toggleDevicePickerEnabled">\n<chromecast-tooltip ng-if="vm.showCastTooltip && !vm.showAutoplayMutedTooltip" ng-show="vm.controllerBarVisible" dismiss-function="vm.closeCastTooltip"></chromecast-tooltip>\n<button ovp-click="vm.onCastClicked()" is="google-cast-button" id="castbutton" class="button-spacing cast-button" aria-labelledby="cast_btn_desc" focus-when="vm.chromecastTooltipClosed"></button>\n<span id="cast_btn_desc" hidden>Chromecast. Open Chromecast dialog.</span>\n</li>\n<li ng-if="vm.toggleDevicePickerEnabled && ((vm.hasFlickableSTBs && !vm.isTrailer) || vm.castDevicesAvailable)">\n<device-picker-tooltip ng-if="vm.showDevicePickerTooltip && !vm.showAutoplayMutedTooltip" dismiss-function="vm.closeDevicePickerTooltip"></device-picker-tooltip>\n<toggle-device-picker ng-mouseenter="vm.closeAutoplayTooltip()" class="toggle-device-list button-spacing" hide-stb="vm.isTrailer" on-focus-callback="vm.closeAutoplayTooltip"/>\n</li>\n<li>\n<toggle-fullscreen player-element="vm.playerElement" class="button-spacing"></toggle-fullscreen>\n</li>\n<li ng-if="vm.pipEnabled">\n<toggle-pip class="button-space"></toggle-pip>\n</li>\n<li ng-if="vm.remoteSessionControlEnabled">\n<toggle-watch-on-tv class="button-spacing" asset="vm.asset" stream="vm.stream"></toggle-watch-on-tv>\n</li>\n<li>\n<info-toggle class="button-spacing" on-click="vm.showMoreInfo"></info-toggle>\n</li>\n<li>\n<toggle-cc class="button-spacing" player="vm.player"></toggle-cc>\n</li>\n<li>\n<toggle-sap class="button-spacing"></toggle-sap>\n</li>\n<li>\n<toggle-cc-settings class="button-spacing" player="vm.player"></toggle-cc-settings>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n',o="js/components/player/player-controls.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},GcyQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='\n<div ng-controller="OvpClickConfirmController" class="ovp-click-confirm">\n<h2 class="title" ng-if="clickConfirm.title" ng-bind="clickConfirm.title"></h2>\n<div ng-if="clickConfirm.view">\n<div ng-include="clickConfirm.view"></div>\n</div>\n<div class="message" ng-if="clickConfirm.message" ng-bind="clickConfirm.message"></div>\n<div class="subject-emphasis" ng-if="clickConfirm.subjectEmphasis" ng-bind="clickConfirm.subjectEmphasis"></div>\n<div class="button-row">\n<ovp-button on-click="cancel()" label="No"></ovp-button>\n<ovp-button on-click="confirm()" label="Yes"></ovp-button>\n</div>\n</div>\n',o="js/components/ovp/ovp-click-confirm/ovp-click-confirm.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},GmBL:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"n",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"l",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"h",function(){return S});var r=n("PNUD"),i=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.appRatingConfigSettings)||void 0===r?void 0:r.feedbackCategories},o=function(e){var t,n,r,i;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.triggers)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:i.enabled)},a=function(e){var t,n,r,i,o,a,s;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.triggers)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:null===(o=i.events)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:null===(s=a.condition)||void 0===s?void 0:s.minPlaybackDurationInMinutes},s=function(e){var t,n,r,i,o,a,s;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.triggers)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:null===(o=i.events)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:null===(s=a.condition)||void 0===s?void 0:s.durationBetweenConsecutivePromptsInDays},c=function(e){var t,n,r,i,o,a,s;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.triggers)||void 0===r?void 0:null===(i=r[0])||void 0===i?void 0:null===(o=i.events)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:null===(s=a.condition)||void 0===s?void 0:s.firstLaunchDelayForPromptInDays},l=function(e){var t;return!!(null===e||void 0===e?void 0:null===(t=e.appRatings)||void 0===t?void 0:t.promptReadyToShow)},u=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.appRatingConfigSettings)||void 0===r?void 0:r.ratingsModalUiText},d=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.modalTitle},p=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.modalDescription},h=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.inputLabel},v=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.dropdownLabel},f=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.userErrorMsg},m=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.primaryButtonLabel},g=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.appRatingConfigSettings)||void 0===r?void 0:null===(i=r.onSubmitModalUiText)||void 0===i?void 0:i.modalTitle},b=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.appRatingConfigSettings)||void 0===r?void 0:null===(i=r.onSubmitModalUiText)||void 0===i?void 0:i.modalDescription},y=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.feedback)||void 0===r?void 0:r.redirectUrls},S=function(e){var t;return null===(t=r.a.getSelectorValue(y))||void 0===t?void 0:t[e]}},"Gu/5":function(e,t){!function(){"use strict";function e(e,t,n,r,i,o){var a=n.cached;return new e(angular.extend({},n.standardSearchParams,{resultDisplay:"resultDisplay",clickRoute:a(function(e){return["product.event",{tmsId:e.tmsProgramId,uri:e.uri}]}),playable:"availableOndemand",imageUri:a(n.createProductImageFunction()),bookmark:function(e){var t=o.getBookmarkByTmsProgramId(e.tmsProgramId);return t&&(t.playMarkerSeconds=Math.min(t.playMarkerSeconds,t.runtimeSeconds)),t},playedPct:function(){if(this.bookmark)return this.bookmark.playMarkerSeconds/this.bookmark.runtimeSeconds*100},isEntitled:function(e){var t,r,i=null!==(t=null===e||void 0===e?void 0:e.allVPPs)&&void 0!==t?t:[],o=null!==(r=null===e||void 0===e?void 0:e.tmsGuideServiceIds)&&void 0!==r?r:[];if(i.length>0||o.length>0){var a=n.isVODProviderEntitled(i),s=n.isTMSGuideIdEntitled(o);return a||s}return!0}}))}function t(e,t){t.registerDelegateDefinition(e,function(e){return"product"===e.resultType})}t.$inject=["productViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","productService","$state","BookmarkService"],t.$inject=["productViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","productService","$state","BookmarkService"],angular.module("ovpApp.dataDelegate").factory("productViewModelDefinition",e).run(t)}()},"H/cB":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<span ng-repeat="rate in $ctrl.ratingData" ng-if="rate.label" class="twcicon-rating ovp-rating" ng-class="rate.class">\n<span class="sr-only">{{rate.label}}</span>\n</span>\n',o="js/components/ovp/ovp-rating/ovp-rating.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},H7eF:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="date-times">\n<div class="guide-date" ng-class="{small: !showDate}">\n<div class="day-box-container">\n<div class="day-box-wrapper">\n<div class="day-box-holder" ng-class="{expanded: showDate}">\n<p id="dateSelectionDetails" hidden>Open date picker</p>\n<p id="datePickerLabel" hidden ng-bind-html="currentDate.ariaLabel"></p>\n<a class="current-date date-picker-button" tabindex="0" aria-labelledby="datePickerLabel" aria-expanded="{{showDate}}" aria-describedby="dateSelectionDetails" href ng-click="toggleDate()" role="button" ng-focus="enableDateTimeLiveRegion()" ng-blur="disableDateTimeLiveRegion()">\n<div class="date">\n<div class="day">{{currentDate.dow}}</div>\n<div class="day dom">{{currentDate.day}}</div>\n</div>\n<div class="calendar si si-calendar"></div>\n</a>\n<ovp-carousel class="date-carousel" ng-show="showDate" items="dates" options="dateCarouselConfig">\n<li role="listitem" class="carousel-item" ng-repeat="date in dates">\n<a class="day-box carousel-selectable" href="#" role="button" start="{{date.start}}" tabindex="0" ng-click="handleDateClick(date, $event);focusDayBox()" aria-label="{{date.ariaLabel}}" ng-attr-aria-current="{{currentDate.start === date.start ? true : undefined}}">\n<div class="day">{{date.dow}}</div>\n<div class="day" ng-class="{icon: date.dow === \'Today\'}">{{date.dow === \'Today\' ? \'\' : date.day}}</div>\n</a>\n</li>\n</ovp-carousel>\n</div>\n</div>\n</div>\n<h2 class="sr-only">Select date to view in Guide</h2>\n<div id="datePicker"></div>\n</div>\n<div ng-show="!showDate" class="times">\n<button class="time-nav prev" ng-hide="timeIndex == 0" ng-click="prevTimeBlock();" ng-focus="enableDateTimeLiveRegion()" ng-blur="disableDateTimeLiveRegion()">Go back in time</button>\n<div class="time-scroll-container">\n<div class="sr-only" role="status" aria-live="{{liveRegionEnabled ? \'polite\': \'off\'}}" aria-atomic="true">Showing {{currentDate.start | date: \'shortTime\'}} to {{getVisibleEndTime(currentDate.start) | date: \'shortTime\'}}, {{currentDate.ariaLabel}}</div>\n<div class="time-container" aria-hidden="true"><div class="col"><div class="time-position" time="{{time}}" title="{{time | date: \'shortTime\'}}" aria-hidden="{{!visible}}">{{::time | date:\'shortTime\'}}</div></div></div>\n</div>\n<button class="time-nav next" ng-click="nextTimeBlock();" ng-focus="enableDateTimeLiveRegion()" ng-blur="disableDateTimeLiveRegion()">Go forward in time</button>\n</div>\n</div>\n',o="js/guide/guide-date-directive.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},HHZj:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="error-box">\n<img src="{{$ctrl.iconPath()}}" class="icon-24-x-24">\n<p role="alert" aria-live="polite">{{$ctrl.message}}</p>\n</div>\n',o="js/components/ovp/ovp-error/ovp-error.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Hfes:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="guide container" ng-keydown="vm.keypress($event)" role="application">\n<section class="guide-listings">\n<h2 class="sr-only" id="guide_title" tabindex="-2">Guide table</h2>\n<ul class="channel-heading" aria-label="Guide channels, use arrow keys to navigate, enter to select or unselect your favorite network, tab to exit" tabindex="0" role="listbox">\n<li class="channel-header-row {{nonstreamable}}" aria-label="{{channelAria}}" channel-index="{{channel.globalIndex}}" tabindex="-1" role="option">\n<div class="channel-header">\n<div role="button" class="favorite {{favOn}}"></div><div class="logo-box"><img src="{{::channel.fullLogoUrl}}" alt="" class="channel-logo"/></div><div class="details {{noChannelNumber}}"><p class="channel-number">{{::channel.channelNumber}}</p><p class="callsign">{{::channel.callSign}}</p></div>\n</div>\n</li>\n</ul>\n<div class="channel-content-list-container" tabindex="-1" guide-time-container>\n<div id="guide-channels-body" class="channel-content-list" aria-describedby="gridInstructions" aria-activedecendent="" aria-readonly="true" ng-focus="vm.gridFocused($event)" tabindex="0">\n<p id="gridInstructions" style="display: none;">\nTo move between channels, use the up and down arrow keys. To view future listings, use the right arrow; to view previous listings, use the left arrow. Use the enter key to select a listing.\n</p>\n<div id="hidden-time-row" class="colheaderwrapper">\n<div id="timecol_{{index}}" class="accessibilityhidden">, starting at {{time}}</div>\n</div>\n<div class="channel-content-list-body">\n<guide-channel-row channel="channel" zone="zone"></guide-channel-row>\n</div>\n</div>\n</div>\n</section>\n<div class="guide-loading">\n<quiet-loading-tracker track="vm.rdvrPromise" message="Loading Recordings ..."></quiet-loading-tracker>\n<quiet-loading-tracker track="vm.fetchPromise" message="Loading Guide Data..."></quiet-loading-tracker>\n</div>\n<div id="guideAlert" class="sr-only" role="status" aria-live="polite" aria-atomic="true"></div>\n</div>\n',o="js/guide/guide.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},HinU:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="set-top-connection-container" ng-class="{visible: $ctrl.canShow()}">\n<span class="sr-only" aria-live="assertive" aria-atomic="true" ng-bind="$ctrl.ariaLiveMessage"></span>\n<div class="container-fluid" role="link" href="#" ng-click="$ctrl.reconnect()">\n<div class="left-col">\n<img class="watch-on-tv-icon icon-device" ovp-src="images/watch-on-tv.svg">\n<p class="program-title"><span class="thin-font">Watching: </span> {{$ctrl.programTitle}} <span class="thin-font">on </span> {{$ctrl.stbTitle}} </p>\n</div>\n<div class="right-col">\n<a tabindex="-1" class="reconnect"> Reconnect <span><img class="reconnect-icon" ovp-src="images/chevron-right.svg"></span></a>\n</div>\n</div>\n</div>\n',o="js/components/player/set-top-connection.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"Hq+Z":function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("LOCATION");i.RESET="LOCATION/RESET",i.reset=function(){return{type:i.RESET}},t.a=i},"I+BT":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"i",function(){return l}),n.d(t,"l",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"k",function(){return f}),n.d(t,"c",function(){return m});n("3KgV");var r=Object.freeze({BULK_MDU:"BulkMDU",ONE_APP:"OneApp",SPEC_U:"SpecU",TVSA:"TVSA"}),i="OVP",o=Object.freeze({APPLICATION:"application",USER:"user"}),a=Object.freeze({OPTIONS:"options",NOTIFICATION:"notification",ERROR:"error",MESSAGE:"message"}),s=(Object.freeze({SUCCESS:"success",FAILURE:"failure",TIMEOUT:"timeout"}),Object.freeze({ACCESSIBILITY_SETTINGS:"accessibilitySettings",ACCOUNT_FEATURES:"accountFeatures",AD_BLOCKER_INFO:"adBlockerInfo",APPLICATION_NAME:"applicationName",BULK_MDU_CLASS:"bulkMduClass",BUYFLOW_PROMO_FIELDS:"buyflowPromotionFields",CURRENT_STATE:"currentState",ENDPOINT:"endpoint",ENTITLEMENTS:"entitlements",EXPERIMENT_CONFIGURATIONS:"experimentConfigurations",IGNORED_EVENTS:"ignoredEvents",ID3_TAGS:"id3Tags",IS_ONLINE:"isOnline",PICTURE_IN_PICTURE:"pictureInPicture",PERMISSION_SETTINGS:"permissionSettings",APPLE_PRIVATE_RELAY:"applePrivateRelayIp",TIME_ZONE:"timeZone",VERIFY_APP_NAME_ON_RESUME:"verifyAppNameOnResume",VIDEO_ZONE:"videoZone",VISIT_ID:"visitId",TRAFFIC_ORIGIN_ID:"trafficOriginId"})),c=(Object.freeze({PARTIAL:"partial",COMPLETE:"complete",TIMEOUT:"timeout",NO_RENDER:"noRender"}),Object.freeze({MOUSE:"mouse",KEYBOARD:"keyboard",BACK_BUTTON:"backButton"})),l=Object.freeze({DVR:"dvr",LINEAR:"linear",VOD:"vod"}),u=Object.freeze({PLAY:"play",RESUME:"resume",WATCH:"watch"}),d=Object.freeze({ACTION_TILE_SELECT:"actionTileSelect",APP_LAUNCH_TIME_MS:"appLaunchTimeMs",ASSET_SELECTION:"assetSelection",AUTO_ACCESS:"autoAccess",BUTTON_CLICK:"buttonClick",EPISODE_SELECTION:"episodeSelection",FAVORITE_TOGGLE:"favoriteToggle",MANUAL_AUTH:"manualAuth",MINI_PLAY_TOGGLE:"miniplayToggle",NAVIGATION_CLICK:"navigationClick",NETWORK_SELECTION:"networkSelection",PLAYBACK_PLAY_SELECTED:"playbackPlaySelected",PLAY_BUTTON_CLICKED:"playButtonClicked",PROMOTION_SELECTION:"promotionSelection",RECEIVER_DEVICE_DISCOVERY:"receiverDeviceDiscovery",RESUME_AUTH:"resumeAuth",SAP_TOGGLE:"sapToggle",SEARCH_CLOSED:"seachClosed",SEARCH_ENTERED:"searchEntered",SEARCH_STARTED:"searchStarted",SOUND_TOGGLE:"soundToggle",STARTUP_CHANNEL_TOGGLE:"startupChannelToggle",TOKEN_EXCHANGE:"tokenExchange",TRUSTED_AUTH:"trustedAuth",UNKNOWN:"unknown",VERIFIER_AUTH:"verifierAuth",WATCH_LIST_ADD:"watchListAdd",WATCH_LIST_REMOVE:"watchListRemove"}),p=Object.freeze({CONTENT_AREA:"contentArea",CONVERSION_AREA:"conversionArea",EPISODE_LIST_AREA:"episodeListArea",LIVE_TV_AREA:"liveTvArea",LOGIN_AREA:"loginArea",MINI_PLAYER:"miniPlayer",NAV_PAGE_SECONDARY:"navPageSecondary",NETWORK_AREA:"networkArea",ON_DEMAND_AREA:"onDemandArea",SEARCH_RESULTS_AREA:"searchResultsArea"}),h=Object.freeze({SERIES:"Series",SINGLE:"Single"}),v=Object.freeze({NAVIGATION:"navigation",CONTENT_DISCOVERY:"contentDiscovery"}),f=Object.freeze({NONE:null,PREDICTIVE:"predictive",KEYWORD:"keyword"}),m=Object.freeze({SEARCH_STARTED:"OneApp_selectAction_searchStarted",SEARCH_CAST_AND_CREW:"OneApp_selectAction_curatedSearchCastAndCrew",SEARCH_SPORTS:"OneApp_selectAction_curatedSearchSports",SEARCH_TEAM:"OneApp_selectAction_curatedSearchTeam",SEARCH_NETWORKS:"OneApp_selectAction_curatedSearchNetworks",SEARCH_CLOSED:"OneApp_searchClosed",SEARCHED_KEYWORD:"OneApp_searched_keyword",SEARCHED_KEYWORD_NO_RESULT:"OneApp_searched_keyword_noResults",SEARCHED_PREDICTIVE:"OneApp_searched_predictive",SEARCHED_PREDICTIVE_NO_RESULT:"OneApp_searched_predictive_noResults",SELECT_CONTENT_SEARCH_RESULT_PREDICTIVE:"OneApp_selectContent_searchResultSelected_predictive",SELECT_CONTENT_SEARCH_RESULT_KEYWORD:"OneApp_selectContent_searchResultSelected_keyword",SELECT_ACTION_SEARCH_PLAY_NETWORK:"OneApp_selectAction_search_playButtonClicked_network",SELECT_ACTION_SEARCH_PLAY_UNTITLED_NETWORK:"OVP_selectAction_unentitledNetwork"})},I3hW:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<small>{{$ctrl.getHoverText()}}&nbsp;</small>\n<ovp-carousel items="$ctrl.actions" options="$ctrl.carouselConfig">\n<product-button ng-repeat="action in $ctrl.actions" action="action" asset="$ctrl.asset"></product-button>\n</ovp-carousel>\n',o="js/product/actions/action-menu.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},IbFz:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section id="watchNextWrapper" class="watch-next" ng-if="$ctrl.autoPlayEnabled && $ctrl.player && $ctrl.$state.current.name.startsWith(\'ovp.ondemand.play\')" ng-hide="!$ctrl.watchNextShowing || !$ctrl.autoPlayEnabled">\n<div class="background-image" ng-style="{\'background-image\': \'url(\' + $ctrl.iconicImage + \')\'}"></div>\n<section id="watchNextContent" class="content" tabindex="-1" role="presentation">\n<span ng-if="$ctrl.autoPlayEnabled" class="sr-only" aria-live="assertive" aria-atomic="true" ng-bind="$ctrl.countdownText"></span>\n<div id="current-episode" class="episode-container current-episode" ovp-click="$ctrl.returnToPlayer()" role="button" title="Return to current episode" aria-label="You just watched, {{$ctrl.asset.title}}" tabindex="0">\n<div class="subtitle-container" aria-hidden="true">\n<span class="subtitle kite-h2">You just watched</span>\n<span class="episode-title kite-h4">S{{$ctrl.asset.season}}, E{{$ctrl.asset.episode}} {{$ctrl.asset.title}}</span>\n</div>\n</div>\n<div class="episode-container next-episode" aria-label="Watch next episode. Season {{$ctrl.nextEpisode.season}}, Episode {{$ctrl.nextEpisode.episode}}, {{$ctrl.nextEpisode.title}}" ovp-click="$ctrl.endCurrentEpisode(\'user\')" role="button" tabindex="0">\n<div class="image-container">\n<img class="iconic" lazy-src="{{$ctrl.iconicImage}}" alt="">\n</div>\n<div class="play-icon">\n<svg focusable="false" aria-hidden="true" role="img" class="play-icon-overlay-large" width="75" height="75"><use xlink:href="#play-icon-overlay" svg-path/></svg>\n<svg focusable="false" aria-hidden="true" role="img" class="play-icon-overlay-small" width="50" height="50"><use xlink:href="#play-icon-overlay" svg-path/></svg>\n</div>\n<div class="subtitle-container" aria-hidden="true">\n<span class="subtitle kite-h2" ng-if="$ctrl.autoPlayEnabled">\n<span>Next episode in </span>\n<span class="countdown" ng-bind="$ctrl.countdown"></span>\n</span>\n<span class="subtitle kite-h2" ng-if="!$ctrl.autoPlayEnabled">Next episode</span>\n<span class="episode-title kite-h4">S{{$ctrl.nextEpisode.season}}, E{{$ctrl.nextEpisode.episode}} {{$ctrl.nextEpisode.title}}</span>\n</div>\n</div>\n</section>\n</section>\n',o="js/components/watch-next/watch-next.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},IdFQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="listbox" class="channel-blocks-container" aria-labelledby="channel-blocks-label">\n<div class="row">\n<div id="channel-blocks-label" class="setting-label col-xs-8">Channel blocks</div>\n</div>\n<div class="row" id="parentalSearch">\n<div class="filters">\n<div id="channelSearch">\n<div tabindex="-1" class="cancelSearch" ng-click="$ctrl.cancelSearch()"></div>\n<form class="search" ng-submit="$ctrl.searchInput()">\n<div>\n<input class="searchField" placeholder="Jump to Channel" autocomplete="off" ng-model="$ctrl.parentalSearchValue" aria-label="Type a channel number or network name, then press Enter" maxlength="11"/>\n</div>\n</form>\n</div>\n</div>\n</div>\n<div class="row channels-container text-center" ng-if="$ctrl.channelBlockingEnabled" arrow-nav="card" ng-model="$ctrl.filteredCards" role="application">\n<div class="col-xs-5 col-md-4">\n<div class="card channel-card action-card" ovp-click="$ctrl.clearAllChannelBlocks($event)" aria-labelledby="unblock-channel-instruction" role="button" aria-describedby="channel-blocks-instruction">\n<span class="sr-only" id="channel-blocks-instruction">Use arrow keys to navigate channels, enter to block or unblock, tab to exit</span>\n<div class="thumbnail thumbnail-channel thumbnail-tile">\n<span class="twcicon twcicon-remove" aria-hidden="true"></span>\n<div class="text" id="unblock-channel-instruction">Unblock all channels</div>\n<div class="overlay"></div>\n</div>\n</div>\n</div>\n<div class="col-xs-5 col-md-4" ng-repeat="card in $ctrl.filteredCards">\n<div class="card channel-card" role="checkbox" id="channel{{card.channelNumber}}" aria-label="{{$ctrl.getCardAriaLabel(card)}}" ovp-click="$ctrl.toggleCardBlock($event, card)" aria-checked="{{$ctrl.isChannelBlocked(card)}}">\n<div class="thumbnail thumbnail-channel" ng-class="{blocked: $ctrl.isChannelBlocked(card)}">\n<img alt="" aria-hidden="true" ng-src="{{$ctrl.getCardImage(card)}}" class="card-image"/>\n<span class="twcicon-svg twcicon-svg-lock" aria-hidden="true" ng-if="$ctrl.isChannelBlocked(card)"></span>\n<div class="overlay"></div>\n</div>\n<div class="network-name" aria-hidden="true">{{$ctrl.getCardName(card)}}</div>\n<div ng-if="!($ctrl.ignoreChannelNumbers)" class="channel-number">{{$ctrl.getCardNumber(card)}}</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/settings/parental-controls/channel-block/channel-block.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"J/Ad":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="mini-guide" aria-label="mini guide" role="region" ng-class="{\'animate\': $ctrl.animateGuide}">\n<channels-filter focus-channels="$ctrl.focusChannelsOnFilterChange"></channels-filter>\n<div class="top-gradient-css"></div>\n<div class="spinner" ng-if="$ctrl.loadingTracker.active()"></div>\n<channel-list channels="$ctrl.filteredChannels" ng-keydown="$ctrl.onMiniGuideKeyDown($event)" ng-hide="$ctrl.filtersShowing"></channel-list>\n</div>\n',o="js/components/mini-guide/mini-guide.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},J4qu:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n("aC7e"),i=Object(r.a)("CHANNELS"),o=Object(r.a)("FAVORITES"),a=Object(r.a)("PCBLOCK");i.UPDATE_CHANNELS="CHANNELS/UPDATE_CHANNELS",i.updateChannelAction=function(e){return{type:i.UPDATE_CHANNELS,payload:{channels:e}}},i.UPDATE_DEFAULT_CHANNEL="CHANNELS/UPDATE_DEFAULT_CHANNEL",i.updateDefaultChannel=function(e){return{type:i.UPDATE_DEFAULT_CHANNEL,payload:e}},i.UPDATE_DEFAULT_CHANNEL_ENABLED="CHANNELS/UPDATE_DEFAULT_CHANNEL_ENABLED",i.updateDefaultChannelEnabled=function(e){return{type:i.UPDATE_DEFAULT_CHANNEL_ENABLED,payload:e}},i.UPDATE_HAS_SEEN_STARTUP="CHANNELS/UPDATE_HAS_SEEN_STARTUP",i.updateHasSeenStartup=function(e){return{type:i.UPDATE_HAS_SEEN_STARTUP,payload:e}}},JHq4:function(e,t){!function(){"use strict";angular.module("ovpApp.directives.fallbackImage",[]).directive("fallbackImage",function(){return{link:function(e,t,n){var r=!1;n.src||n.ngSrc?t.on("error",i):i();function i(){n.$observe("ngSrc",function(e){e&&r&&(r=!1,t[0].style.display="")}),"display:none"===n.fallbackImage?(r=!0,t[0].style.display="none"):t[0].src=n.fallbackImage,t.off("error",i)}},restrict:"A"}})}()},JJK5:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return k});n("rB9j"),n("UxlC");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("dprx"),c=n.n(s),l=n("PNUD"),u=n("I+BT"),d=n("c+yO"),p=n("53lA"),h=n("UntU"),v=n("PnGe");function f(){return m.apply(this,arguments)}function m(){return(m=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.h)();case 3:c.a.set(u.d.APPLE_PRIVATE_RELAY,{applePrivateRelayIp:l.a.getSelectorValue(d.c)}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}var g=n("fwyg");function b(){return window.navigator.onLine?l.a.getSelectorValue(d.d)?"onNet":"offNet":"unknown"}function y(){var e,t,n;if(!(null===(e=window.navigator)||void 0===e?void 0:e.onLine))return"offline";var r=null===(t=window.navigator)||void 0===t?void 0:null===(n=t.connection)||void 0===n?void 0:n.type;if(!r)return"unknown";switch(r){case"ethernet":return"wired";case"cellular":return"cell";case"none":return"offline";default:return r}}var S=function(){switch(Object(h.g)("visit.connection.applePrivateRelayIp")){case"true":return!0;case"false":return!1;default:return null}};function w(){try{var e=S()!==l.a.getSelectorValue(d.c);return l.a.getSelectorValue(g.cg)&&e}catch(e){return!1}}var k=function(){var e=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function C(){return $.apply(this,arguments)}function $(){return($=a()(i.a.mark(function e(){var t,n,r,o,a,s,l,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.h)();case 2:if(t=Object(h.g)("visit.connection.networkStatus"),n=b(),r=Object(h.g)("visit.connection.connectionType"),o=y(),a=Object(h.g)("visit.connection.deviceLocation"),s=Object(v.a)(p.a.getDeviceLocation()).replace(/_/g,""),l=w(),o===r){e.next=14;break}d="connectionTypeChange",c.a.set(u.d.IS_ONLINE,window.navigator.onLine),e.next=22;break;case 14:if(n===t&&a===s&&!l){e.next=21;break}if(!l){e.next=18;break}return e.next=18,f();case 18:d="connectionNetworkStatusChange",e.next=22;break;case 21:return e.abrupt("return");case 22:Object(h.j)("OneApp_connectionChange",{opType:d,connectionDeviceLocation:s,networkConnectType:o,networkStatus:n});case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.addEventListener("online",function(){C()}),window.addEventListener("offline",function(){p.a.resetCache(),C()});try{var T=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;(null===T||void 0===T?void 0:T.type)&&T.addEventListener("change",function(){return C()})}catch(e){console.error("Error",e)}},JL3u:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="window-splash" ng-style="{zIndex: 1000 + index}" ng-transclude></div>\n',o="js/components/popup/window-frame.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},JWTl:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="scheduled">\n<h1 tabindex="-1" class="sr-only" id="screen_title" focus-once>DVR, Scheduled</h1>\n<rdvr-toolbar options="$ctrl.subheaderOptions" on-button-clicked="$ctrl.onButtonClicked(button)"></rdvr-toolbar>\n<div role="heading" aria-level="2" class="empty-list-message" ng-if="!$ctrl.loadingFirstBatch && !$ctrl.error && $ctrl.isEmpty()">There are no scheduled recordings on this DVR. Schedule recordings from Guide or Search.</div>\n<div ng-if="$ctrl.conflicts.length" class="conflicts-filter-header kite-grid" role="none">\n<div class="kite-cell-6 kite-cell-2-gt-sm" aria-hidden="true">\n<span class="si si-caution-f"></span>\n<span class="conflict-message" aria-hidden="true">{{$ctrl.conflictTotal + " " + $ctrl.conflictMessage}}</span>\n</div>\n<div class="filter-section row kite-cell-6 kite-cell-2-gt-sm">\n<div class="channel-filter text-right" role="group" aria-label="{{$ctrl.conflictTotal}}Recording Conflicts">\n<span aria-hidden="true">Show:</span>\n<button ng-repeat="filter in $ctrl.filterPresets" title="{{filter.title}}" class="filter" aria-pressed="{{($ctrl.activeFilter===filter.id) ? true : false}}" ng-attr-tabindex="{{($ctrl.activeFilter===filter.id) ? \'-1\' : undefined}}" ng-attr-aria-disabled="{{($ctrl.activeFilter===filter.id) ? \'true\' : undefined}}" ng-class="{selected:$ctrl.activeFilter===filter.id}" ng-click="$ctrl.setFilter(filter, $event)">\n{{filter.label}}</button>\n</div>\n</div>\n</div>\n<div ng-repeat="(dayIndex, recordings) in $ctrl.recordings" class="rdvr-list" role="none">\n<div ng-if="!$ctrl.showConflictsOnly() || ($ctrl.dayHasConflicts(dayIndex) && $ctrl.showConflictsOnly())">\n<div class="day-item" role="heading" aria-level="2">\n<span class="day-label">{{$ctrl.dayLabel(recordings[0])}}</span>\n<span class="day-display">{{$ctrl.dayDisplay(recordings[0])}}</span>\n</div>\n<section aria-label="{{$ctrl.dayLabel(recordings[0]) + \', \' + $ctrl.dayDisplay(recordings[0])}}">\n<div role="list">\n<div class="col-md-15 recording-list-heading">\n<span class="col-md-6">Title</span>\n<div class="col-md-6">\n<span class="col-md-2">Details</span>\n</div>\n<span class="col-md-2">Scheduled</span>\n<span class="col-md-2">Network</span>\n</div>\n<div class="col-md-1 recording-list-heading"></div>\n<rdvr-schedule-list-item class="recording-item-container" ng-repeat="(recordingIndex, recording) in recordings" role="listitem" ng-if="(recording.conflicted && $ctrl.showConflictsOnly()) || !$ctrl.showConflictsOnly()" recording="recording" state="recording.cancelScheduledSelection" on-state-changed="$ctrl.onCheckboxStateChanged(recording, state)" cancel-call-back="$ctrl.cancelRecording(recording)" id-index="dayIndex + \'-\' + recordingIndex" last-focussed-element="$ctrl.lastFocussedElement(index)" cancel-button-description="$ctrl.getCancelButtonDescription(recording, key)" recording-description="$ctrl.getRecordingDescription(recording, key)" conflict-number="$ctrl.getConflictNumber(recording)">\n</rdvr-schedule-list-item>\n</div>\n</section>\n</div>\n</div>\n<div class="rdvr-loading text-center" ng-if="$ctrl.loadingRemainingBatches">\n<quiet-loading-tracker track="$ctrl.loadingRemainingBatches.promise" message="Loading your scheduled recordings ..."></quiet-loading-tracker>\n</div>\n</div>\n',o="js/rdvr/scheduled/scheduled.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},KHpC:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="tour" ng-if="$ctrl.hasSlides()">\n<h1 class="explore-prompt" aria-hidden="true" scroll-to-slides>\n<span class="title">Scroll to explore</span>\n<img alt="" ovp-src="images/chevron-down-light.png"/>\n</h1>\n<div id="tour-slides" class="slides container-fluid">\n<div class="slide row" slide-number="{{$index+1}}" ng-repeat="slide in $ctrl.slides track by $index" ng-class="slide.class">\n<feature-tour-slide slide="slide" image-on-left="$even"></feature-tour-slide>\n</div>\n</div>\n</section>\n',o="js/feature-tour/feature-tour.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},KS72:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"m",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"l",function(){return v}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"s",function(){return g}),n.d(t,"t",function(){return b}),n.d(t,"x",function(){return y}),n.d(t,"r",function(){return S}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return k}),n.d(t,"w",function(){return C}),n.d(t,"o",function(){return $}),n.d(t,"A",function(){return T}),n.d(t,"v",function(){return O}),n.d(t,"z",function(){return E}),n.d(t,"y",function(){return A}),n.d(t,"u",function(){return P});var r="TDCS_PUBLIC_FETCH_INPROGRESS",i="TDCS_PUBLIC_FETCH_SUCCESS",o="UPDATE_TDCS_PUBLIC_CONFIG_HASH",a="TDCS_PUBLIC_FETCH_ERROR",s="TDCS_PRIVATE_FETCH_INPROGRESS",c="TDCS_PRIVATE_FETCH_SUCCESS",l="UPDATE_TDCS_PRIVATE_CONFIG_HASH",u="TDCS_PRIVATE_FETCH_ERROR",d="CONFIG_UPDATE_LOCAL_DATA",p="UPDATE_URL_CONFIG_DATA",h="UPDATE_ENDPOINT_CONFIG_DATA",v="UPDATE_TDCS_PUBLIC_CONFIG_DATA",f="UPDATE_TDCS_PRIVATE_CONFIG_DATA",m="UPDATE_CLIENT_CONFIG_DATA",g=function(){return{type:r}},b=function(){return{type:i}},y=function(e){return{type:o,payload:e}},S=function(e){return{type:a,payload:e}},w=function(){return{type:s}},k=function(){return{type:c}},C=function(e){return{type:l,payload:e}},$=function(e){return{type:u,payload:e}},T=function(e){return{type:p,payload:e}},O=function(e){return{type:d,payload:e}},E=function(e){return{type:v,payload:e}},A=function(e){return{type:f,payload:e}},P=function(e){return{type:m,payload:e}}},KYMe:function(e,t,n){"use strict";n.r(t),n.d(t,"setOauthService",function(){return S}),n.d(t,"AUTHENTICATION_REQUIRED_ERROR",function(){return w}),n.d(t,"verifyAuthentication",function(){return k}),n.d(t,"requiresAuthentication",function(){return $});n("pNMO"),n("TeQF"),n("QWBl"),n("yq1k"),n("yXV3"),n("4mDm"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("JTJg"),n("PKPk"),n("LKBx"),n("FZtP"),n("3bBZ"),n("Kz25");var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("lSNA")),s=n.n(a),c=n("yXPU"),l=n.n(c),u=n("vDqi"),d=n.n(u),p=n("PNUD"),h=n("GUOU"),v=n("fwyg"),f=n("oRAM"),m=n("f8b+"),g=n("QuGv");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(e){r=e},w={text:"Authentication Required"};function k(){return C.apply(this,arguments)}function C(){return(C=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&p.a.getSelectorValue(v.Ub)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.isAuthenticated();case 4:if(e.sent){e.next=8;break}throw Object(g.c)("httpUtil").logout(),w;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(e){var t,n;if(!(null===e||void 0===e?void 0:null===(t=e.url)||void 0===t?void 0:t.startsWith("http")))return!1;if(null===e||void 0===e?void 0:e.ignoreAuth)return!1;if(null===e||void 0===e?void 0:null===(n=e.url)||void 0===n?void 0:n.includes(p.a.getSelectorValue(v.ud)))return!1;var r=new URL(e.url);return!!p.a.getSelectorValue(Object(v.Pf)(r.hostname))}function T(){return(T=l()(o.a.mark(function e(){var t,n,r,i,a,s,c,l,u,v,f,m,g,b,S=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.length>0&&void 0!==S[0]?S[0]:{},n=t.url,r=t.headers,i=void 0===r?{}:r,a=t.params,s=void 0===a?{}:a,c=t.cancelToken,l=void 0===c?null:c,u=t.withCredentials,v=void 0===u||u,f=t.timeout,m=t.includeDeviceId,g=void 0===m||m,t.bypassRefresh||!v&&!$(t)){e.next=5;break}return e.next=5,k();case 5:return b=p.a.getStatePath("config.data.defaultApiCallTimeout"),f=f||b,-1!==n.indexOf("figaro")&&(i=A(i)),v&&(i=y(y({},i),E("GET",n))),g&&(i=y(y({},i),Object(h.b)())),e.abrupt("return",d()({method:"get",url:n,headers:i,params:s,timeout:f,cancelToken:l}).catch(function(e){throw d.a.isCancel(e)?"REQUEST CANCELLED":e}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return(O=l()(o.a.mark(function e(t){var n,r,i,a,s,c,l,u,v,f,m,g;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,r=t.headers,i=void 0===r?{}:r,a=t.params,s=void 0===a?{}:a,c=t.cancelToken,l=t.withCredentials,u=void 0===l||l,v=t.timeout,f=t.data,m=void 0===f?{}:f,t.bypassRefresh||!u&&!$(t)){e.next=4;break}return e.next=4,k();case 4:return g=p.a.getStatePath("config.data.defaultApiCallTimeout"),v=v||g,u&&(i=y(y({},i),E("POST",n))),i=y(y({},A(i)),Object(h.b)()),e.abrupt("return",d()({method:"post",url:n,data:m,headers:i,params:s,timeout:v,cancelToken:c}).catch(function(e){throw d.a.isCancel(e)?"REQUEST CANCELLED":e}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",t=arguments.length>1?arguments[1]:void 0;return angular.element(document.body).injector().get("OauthHeaderService").getOAuthHeadersForApi(t,e)}function A(e){var t=m.a.getItem(f.b.xFigaroConfig);return t?y(y({},e),{"x-figaro-config":t,"x-figaro-collection":t}):e}t.default={get:function(){return T.apply(this,arguments)},post:function(e){return O.apply(this,arguments)},put:function(e){var t=e.url,n=e.headers,r=void 0===n?{}:n,i=e.params,o=void 0===i?{}:i,a=e.cancelToken,s=e.withCredentials,c=void 0===s||s,l=e.timeout,u=e.data,v=void 0===u?{}:u,f=p.a.getStatePath("config.data.defaultApiCallTimeout");return l=l||f,c&&(r=y(y({},r),E("PUT",t))),r=y(y({},A(r)),Object(h.b)()),d()({method:"put",url:t,data:v,headers:r,params:o,timeout:l,cancelToken:a}).catch(function(e){throw d.a.isCancel(e)?"REQUEST CANCELLED":e})},request:function(e){var t=e.url,n=e.method,r=e.headers,i=void 0===r?{}:r,o=e.params,a=void 0===o?{}:o,s=e.cancelToken,c=e.withCredentials,l=void 0===c||c,u=e.timeout,h=e.data,f=void 0===h?{}:h,m=p.a.getSelectorValue(v.wb);return u=u||m,l&&(i=y(y({},i),E("POST",t))),d()({method:n,url:t,data:f,headers:i,params:a,timeout:u,cancelToken:s}).catch(function(e){throw d.a.isCancel(e)?"REQUEST CANCELLED":e})},generateCancelTokenSource:function(){return d.a.CancelToken.source()}}},KppK:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p});var r="TDCS_REFRESH_REQUIRED",i="TDCS_REFRESH_ACCEPTED",o="TDCS_REFRESH_DENIED",a="TDCS_REFRESH_RESET",s="APP_REFRESH_STARTED",c=function(){return{type:r}},l=function(){return angular.element(document.body).injector().get("analyticsSelectAction").selectAction(null,{category:"navigation",operationType:"buttonClick",elementStandardizedName:"reinitialize",modalName:"updateNotificationTDCS",modalType:"message",prepareForRefresh:!0}),{type:i}},u=function(){return{type:o}},d=function(e){return angular.element(document.body).injector().get("analyticsAppActivity").reinitialize(null,{triggeredBy:e.triggeredBy}),{type:s}},p=function(){return{type:a}}},KvKZ:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c});var r="ERROR_CODES_FETCH_IN_PROGRESS",i="ERROR_CODES_FETCH_SUCCESS",o="ERROR_CODES_FETCH_ERROR",a=function(){return{type:r}},s=function(e){return{type:i,payload:e}},c=function(e){return{type:o,payload:e}}},"L/+S":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="unsupported-browser-message">\n<div class="nav-triangle-pattern"></div>\n<h1 tabindex="-2" focus-once>{{$resolve.error.title}}</h1>\n<p ng-if="$resolve.error.description" ng-bind-html="$resolve.error.description"></p>\n</div>',o="js/twctv/unsupported-browser.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},L2Gd:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("BOOTSTRAP");t.a=i},LHwt:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("I+BT"),p=n("zmVM"),h=n("fwyg"),v=n("UntU");function f(){return m.apply(this,arguments)}function m(){return(m=s()(o.a.mark(function e(){var t,n,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.getSelectorValue(h.O)&&u.a.getSelectorValue(p.d),n=u.a.getSelectorValue(p.c),i=u.a.getSelectorValue(p.f)&&!u.a.getSelectorValue(p.e),a=!!u.a.getSelectorValue(h.wg),r={accountFeaturesForceTune:a,boxless:i,cDvr:t,accessibility:n},e.next=7,Object(v.h)();case 7:l.a.set(d.d.ACCOUNT_FEATURES,r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var g=function(){return r}},LS8I:function(e,t,n){"use strict";n("QWBl"),n("tkto"),n("FZtP");var r=n("wd/R"),i=n.n(r),o=n("PNUD"),a=n("eOGt"),s=n("fwyg"),c=n("f8b+"),l=n("GUOU");n("brp2"),n("DQNa");function u(e){this.data={},this.storage=e,this.updateTime=Date.now(),this.setItem=function(e,t){this.data[e]=t,this.storage&&(this.storage.setItem(e,t),this.updateTime=Date.now(),this.storage.setItem("_lastWriteTime",this.updateTime))},this.getItem=function(e){return this.storage&&!this.data[e]&&(this.data[e]=this.storage.getItem(e)),this.data[e]},this.removeItem=function(e){delete this.data[e],this.storage&&(this.storage.removeItem(e),this.updateTime=Date.now(),this.storage.setItem("_lastWriteTime",this.updateTime))},this.clearStaleBuffer=function(){var e=!1;if(this.storage){var t=this.storage.getItem("_lastWriteTime");t&&t>this.updateTime&&(this.updateTime=t,this.data={},e=!0)}return e}}u.$inject=["storageObject"],u.$inject=["storageObject"];t.a={initialize:function(){d=o.a.getSelectorValue(s.od);try{p=atob(atob(o.a.getSelectorValue(s.sd)))}catch(e){console.error("environment error: ",e),p=void 0}h=function(e){return new u(e)}(c.a),window.localStorage&&window.localStorage.getItem&&Object.keys(T).forEach(function(e){var t=window.localStorage.getItem(e);t&&(h.setItem(T[e],t),h.removeItem(e))})},get:function(){h.clearStaleBuffer();var e={consumer:d,deviceId:Object(l.a)(),deviceType:o.a.getSelectorValue(a.a),deviceVerifier:h.getItem(v),expiration:h.getItem(f),secret:p,refreshToken:h.getItem(m),token:h.getItem(g),tokenSecret:h.getItem(b),accountType:h.getItem(y),classification:h.getItem(C),authenticationType:h.getItem(S),username:h.getItem(w),authAttemptId:h.getItem(k),trustedAuthId:h.getItem($),supportSMBAuthentication:o.a.getSelectorValue(s.Ke)};o.a.getSelectorValue(s.ke)&&"SPECU"===e.accountType&&(e.deviceType="SPECU-OVP");return e},set:function(e){Object.prototype.hasOwnProperty.call(e,"deviceVerifier")&&h.setItem(v,e.deviceVerifier);Object.prototype.hasOwnProperty.call(e,"expiration")&&(o.a.getSelectorValue(s.ug)&&(e.expiration-=2154e4,console.log("TOKEN EXPIRES:",i()(e.expiration).format("MMMM Do YYYY, h:mm:ss a"))),h.setItem(f,e.expiration));Object.prototype.hasOwnProperty.call(e,"refreshToken")&&h.setItem(m,e.refreshToken);Object.prototype.hasOwnProperty.call(e,"token")&&h.setItem(g,e.token);Object.prototype.hasOwnProperty.call(e,"tokenSecret")&&h.setItem(b,e.tokenSecret);Object.prototype.hasOwnProperty.call(e,"accountType")&&h.setItem(y,e.accountType);Object.prototype.hasOwnProperty.call(e,"classification")&&h.setItem(C,e.classification);Object.prototype.hasOwnProperty.call(e,"authenticationType")&&h.setItem(S,e.authenticationType);Object.prototype.hasOwnProperty.call(e,"username")&&h.setItem(w,e.username);Object.prototype.hasOwnProperty.call(e,"xoauth_username")&&h.setItem(w,e.xoauth_username);Object.prototype.hasOwnProperty.call(e,"authAttemptId")&&h.setItem(k,e.authAttemptId);Object.prototype.hasOwnProperty.call(e,"trustedAuthId")&&h.setItem($,e.trustedAuthId)},reset:function(){h.removeItem(f),h.removeItem(m),h.removeItem(g),h.removeItem(b),h.removeItem(v),h.removeItem(y),h.removeItem(C),h.removeItem(S),h.removeItem($),h.removeItem(w),h.removeItem(k)}};var d,p,h,v="oauth:device_verifier",f="oauth:expiration",m="oauth:refresh_token",g="oauth.token",b="oauth:token_secret",y="oauth:token_account_type",S="oauth:authentication_type",w="oauth:username",k="oauth:auth_attempt_id",C="xoauth_classification",$="x-trustedAuthId",T={"twctv:oauth:device_verifier":v,"twctv:oauth:expiration":f,"twctv:oauth:refresh_token":m,"twctv:oauth.token":g,"twctv:oauth:token_secret":b,"oath:authentication_type":S}},LYxj:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});n("sMBO");var r=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.name},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.user)||void 0===t?void 0:t.idHash}},LnBo:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<fieldset>\n<legend class="sr-only">Layout View</legend>\n<div class="view-toggle">\n<span aria-hidden="true">View:&nbsp;&nbsp;</span>\n<div title="List view" aria-label="List view" class="list-btn" ovp-click="$ctrl.toggle(\'list\')" ng-class="{selected: $ctrl.state === \'list\'}" role="button" aria-pressed="{{($ctrl.state === \'list\') ? \'true\' : \'false\'}}">\n</div>\n<div title="Grid view" aria-label="Grid view" class="grid-btn" ovp-click="$ctrl.toggle(\'grid\')" ng-class="{selected: $ctrl.state === \'grid\'}" role="button" aria-pressed="{{($ctrl.state === \'grid\') ? \'true\' : \'false\'}}">\n</div>\n</div>\n</fieldset>\n',o="js/directives/grid-list-toggler.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},M5PJ:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("RETRIEVE_LINEUP");t.a=i},MNu0:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="login-error" id="login-error">\n<span class="sr-only" id="login-error-label" error-codes-header="WFE-1104"></span>\n<div class="error-icon">\n<span class="si si-caution-f"></span>\n</div>\n<div class="error-message">\n<p aria-hidden="true" error-codes-header="WFE-1104"></p>\n<p aria-hidden="true" error-codes="WFE-1104"></p>\n</div>\n</div>',o="js/login/errors/login-error-not-online.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Met6:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}" trap-focus>\n<div class="modal-content" uib-modal-transclude>\n</div>\n<button aria-label="close dialog" class="popupCloseClick kite-close" ovp-click="close($event)"></button>\n</div>\n',o="js/components/modal/classic-with-close-icon.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},NGAF:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal bulkmdu-login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<img alt="" ovp-src="/images/mdu-welcome-screen.svg" aria-hidden="true"/>\n<h1 class="title">Welcome to Spectrum TV</h1>\n<p class="description">\nYour community provides Spectrum TV and internet services to all residents. You can watch TV on your favorite devices anywhere in your home with the Spectrum TV App.\n</p>\n<p class="description">\nWant a more personalized experience across all your devices that includes TV on the go? Give us a call at <a ng-href="tel:{{$ctrl.phone}}" target="_top">{{$ctrl.phone}}</a> to upgrade your account.\n</p>\n<button focus-when="$ctrl.focusButton" ng-click="$ctrl.continue()" class="kite-btn kite-btn-primary kite-btn-xl btn-margin">\nContinue\n</button>\n<p class="divider">\n<span class="divider">or</span>\n</p>\n<p>\nIf you have an existing Spectrum username and password, you can also <a class="kite-btn-link" href="#!" ng-click="$ctrl.signInWithResidential()">sign in</a> to watch TV.\n</p>\n<div class="footer">\n<div class="button active" tabindex="0" role="button" aria-label="Spectrum TV Community Solutions Welcome"></div>\n<div class="button" tabindex="0" role="button" aria-label="Spectrum TV Community Solutions Welcome continued" ng-click="$ctrl.continue()"></div>\n</div>\n</div>\n</div>\n</section>\n</div>\n',o="js/bulkMDU/welcome.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"NK+S":function(e,t,n){"use strict";t.a={open:function(e){return angular.element(document.body).injector().get("kiteModalService").open(e)},errorAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return angular.element(document.body).injector().get("kiteModalService").errorAlert(e,t,n)},messageAlert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return angular.element(document.body).injector().get("kiteModalService").messageAlert(e,t,n)},closeAll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return angular.element(document.body).injector().get("kiteModalService").closeAll(e)}}},NLRV:function(e,t,n){"use strict";n("pNMO"),n("ma9I"),n("piMb"),n("TeQF"),n("fbCW"),n("QWBl"),n("yq1k"),n("yXV3"),n("J30X"),n("4mDm"),n("2B1R"),n("E9XD"),n("DQNa"),n("sMBO"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("p532"),n("JfAA"),n("YGK4"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ");var r=n("fVfw"),i=n.n(r),o=n("EPg4"),a=n.n(o),s=n("lSNA"),c=n.n(s),l=n("RIqP"),u=n.n(l),d=n("EyQl"),p=n.n(d),h=n("3IPS"),v=n.n(h),f=n("TD0+"),m=n.n(f),g=n("1DYX"),b=n.n(g),y=n("YON7"),S=n.n(y),w=n("L61M"),k=n.n(w),C=n("WHpZ"),$=n.n(C),T=n("1s4d"),O=n.n(T),E=n("J4zp"),A=n.n(E),P=n("SK8o"),I=n.n(P),x=n("o0o1"),_=n.n(x),D=n("IS96"),R=n.n(D),j=(n("ls82"),n("yXPU")),N=n.n(j),M=n("PnGe"),V=n("PNUD"),L=n("bB7c"),F=n("zmVM"),U=n("NK+S"),B=n("twjl"),W=n("lSUw"),H=n.n(W),G=n("Z2FP"),q=n("QuGv"),z=n("J4qu"),Y=n("25Ey"),K=n("fwyg"),J=n("53lA"),Q=function(e){return e.isHome||e.channel.availableOutOfHome},X=function(e){return e.isHome},Z=function(e){var t;if(!e.isHome&&e.deviceLocation===J.a.LOCATION.IN_MARKET)return!!e.channel.availableInMarket||!!(null===(t=e.channel)||void 0===t?void 0:t.linearAvailableInMarket)},ee=function(e){return e.channel.availableOutOfHome||e.channel.availableOutOfMarket},te=n("cDf5"),ne=n.n(te),re=n("oRAM"),ie=n("f8b+"),oe=n("jB83");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ce={execute:function(e,t){var n=e.channels,r=ie.a.getItem(re.b.startupChannel),i=ie.a.getItem(re.b.startupChannelStrategy);if(ie.a.getItem(re.b.startupChannelEnabled)&&r&&i!==oe.a.FORCE_TUNE_OVERRIDE){var o=pe(n,r);if((null===o||void 0===o?void 0:o.entitled)&&t(o))return{channel:o,strategy:i};(null===o||void 0===o?void 0:o.entitled)||(ie.a.removeItem(re.b.startupChannel),ie.a.removeItem(re.b.startupChannelEnabled),ie.a.setItem(re.b.startupChannelEnabled,!1))}}},le={execute:function(e,t){for(var n=e.channels,r=ie.a.getItem(re.b.recentHistory)||[],i=V.a.getSelectorValue(K.Zf)?function(e,t){return e.entitled&&e.ncsServiceId===t}:function(e,t){return e.entitled&&e.channelNumbers.indexOf(t)>-1},o=function(e){var o=n.find(function(t){return i(t,r[e])});if(o&&t(o))return{v:{channel:o,strategy:oe.a.FORCE_TUNE_LAST_CHANNEL}}},a=0;a<r.length;a++){var s=o(a);if("object"===ne()(s))return s.v}}},ue={execute:function(e,t){var n=e.channels,r=V.a.getSelectorValue(K.r),i=ie.a.getItem(re.b.startupChannelEnabled);if(r.length&&!1!==i){var o=r.find(function(e){var r=pe(n,e);return r&&(null===r||void 0===r?void 0:r.entitled)&&t(r)}),a=pe(n,o);return o&&a?(ie.a.setItem(re.b.startupChannel,o),ie.a.setItem(re.b.startupChannelStrategy,oe.a.FORCE_TUNE_OVERRIDE),ie.a.setItem(re.b.startupChannelEnabled,!0),{channel:a,strategy:oe.a.FORCE_TUNE_OVERRIDE}):void 0}}},de={execute:function(e,t){return{channel:e.channels.find(function(e){return e.entitled&&t(e)}),strategy:oe.a.FORCE_TUNE_FIRST_AVAILABLE_CHANNEL}}};function pe(e,t){return e.find(function(e){return(null===e||void 0===e?void 0:e.tmsGuideId)===t})}var he=n("c+yO");function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(t){c()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var me=null,ge=function(){var e=N()(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R()(V.a.getSelectorValue(G.b))){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!V.a.getSelectorValue(G.a)){e.next=5;break}return e.abrupt("return",Promise.reject());case 5:return me||(me=new Promise(function(e){var t=V.a.watch(["channels","data"]),n=V.a.subscribe(t(function(t){R()(t)||(n(),me=null,e())}))})),e.abrupt("return",me);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(M.d)(e)?t.filter(e):we(t,e)},ye=function(){var e=N()(_.a.mark(function e(){var t,n=arguments;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},!V.a.getSelectorValue(F.g)){e.next=3;break}return e.abrupt("return",U.a.errorAlert(Object(B.a)()).promise.finally(function(){window.location.reload()}));case 3:return e.next=5,ge();case 5:return e.abrupt("return",be(t,V.a.getSelectorValue(G.b)));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Se=function(e,t){return e.filter(function(e){return I()(function(t,n){var r=A()(n,2),i=r[0],o=r[1];return t=t&&(Array.isArray(e[i])?Array.isArray(o)?O()(e[i],o):e[i].includes(o):e[i]===o)},!0,$()(t))})},we=H()(Se,{limit:50});var ke=function(){var e=N()(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:r=V.a.getSelectorValue(G.b),i=r.map(function(e){return e.tmsGuideId===t.tmsGuideId&&(e.favorite=n),e}),V.a.dispatch(z.a.updateChannelAction(i));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=N()(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.favorite,e.prev=1,e.next=4,ke(n,t);case 4:return e.abrupt("return",Object(q.d)(Y.a,{payload:{channel:n,flag:t}}));case 7:e.prev=7,e.t0=e.catch(1),ke(n,r);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=N()(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return r=(r=V.a.getSelectorValue(G.b)).map(function(e){return S()(function(t){return e.ncsServiceId===t.ncsServiceId},t)>=0&&(e.blocked=n),e}),V.a.dispatch(z.a.updateChannelAction(r)),e.abrupt("return",b()(m()(function(e){return e.blocked}),v()(function(e){return e.ncsServiceId}),p()(function(e){return{ncsServiceId:e.ncsServiceId}}))(r));case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Te=function(){var e=N()(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return t=V.a.getSelectorValue(G.b),n=t.map(function(e){return e.blocked=!1,e}),V.a.dispatch(z.a.updateChannelAction(n)),e.abrupt("return",[]);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=N()(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.blocked,e.prev=1,e.next=4,$e([n],t);case 4:return i=e.sent,e.abrupt("return",Object(q.d)(Y.c,{payload:i}));case 8:e.prev=8,e.t0=e.catch(1),$e([n],r);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=N()(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:return t=V.a.getSelectorValue(G.b),n=b()(m()(function(e){return e.blocked}),p()(function(e){return e.ncsServiceId}))(t),e.next=6,Te();case 6:return e.prev=6,e.abrupt("return",Object(q.d)(Y.c,{payload:{data:[]}}));case 10:e.prev=10,e.t0=e.catch(6),$e(n,!0);case 13:case"end":return e.stop()}},e,null,[[6,10]])}));return function(){return e.apply(this,arguments)}}(),Ae=function(e,t,n,r){return[e,t.find(function(e){return e.toString()===r.tmsGuideId.toString()}),r.online,r.onlineEntitled,!r.parentallyBlocked].every(function(e){return e})?[].concat(u()(n),[r]):n},Pe=function(e,t,n,r){return!!(e?[X,Z,ee]:[Q]).find(function(i){return i({hasDevLocCheck:e,isHome:t,deviceLocation:n,channel:r})})},Ie=t.a={filterChannelsInternal:Se,getChannels:ye,getChannelsSync:be,resetCache:function(){return V.a.dispatch(z.a.trigger()),ge()},setFavorite:function(e){return Ce(!0,e)},removeFavorite:function(e){return Ce(!1,e)},setPCBlocked:function(e){return Oe(!0,e)},removePCBlocked:function(e){return Oe(!1,e)},clearAllChannelBlocks:Ee,filterChannelListByOffers:function(e){var t=V.a.getSelectorValue(L.w).map(k()("ncsNetworkId"));return e.filter(function(e){var n=Object(M.c)(e,["ncsNetworkId"]);return t.includes(n)})},getMatchingAutoTuneTmsGuideIds:Ae,buildChannels:function(e,t,n,r){var o=V.a.getSelectorValue(K.vc),s=[],c=r.map(function(r){var i=fe(fe({},fe(fe({},r),{},{tmsId:r.tmsGuideId,logoUrl:r.logoUri.indexOf("http")>-1?r.logoUri:o+r.logoUri,ncsServiceId:r.mystroServiceId})),{},{live:!0,vod:!1,entitled:!0});return n.live[r.tmsGuideId]&&(i=fe(fe({},i),n.live[r.tmsGuideId])),s=Ae(e,t,s,i),i});return{channels:a()(c,i()(function(e){return e.callsign},n.vod)),matchingAutoTuneTmsGuideIds:s,entitledProductProviders:n.entitledProductProviders}},buildPCBlockedChannelsMap:function(e){return e.reduce(function(e,t){return t.services.forEach(function(n){var r=fe(fe({ncsNetworkId:t.ncsNetworkId,name:t.name},n),{},{callSign:n.callsign});n.live?e.live=fe(fe({},e.live),{},c()({},n.tmsGuideId,r)):e.vod=[].concat(u()(e.vod),[r]),n.vod&&n.entitled&&n.productProviders&&n.productProviders.forEach(function(t){return e.entitledProductProviders.add(t)})}),e},{live:{},vod:[],entitledProductProviders:new Set})},getChannelAvailability:Pe,getAvailability:function(e){return Pe(V.a.getSelectorValue(K.Mf),V.a.getSelectorValue(he.d),J.a.getDeviceLocation(),e)},getDefaultChannel:function(e){var t=[],n=V.a.getSelectorValue(K.wg),r=V.a.getSelectorValue(G.m);n?(t.push(ce),t.push(ue),r||t.push(le),t.push(de)):(t.push(le),t.push(de));var i=function(e,t){for(var n=function(e){return Ie.getAvailability(e)},r=0;r<t.length;++r){var i=t[r].execute(e,n);if(i){var o=i.channel,a=i.strategy;return se(se({},o),{},{strategy:a})}}}(e,t),o=oe.a.FORCE_TUNE_LAST_CHANNEL!==i.strategy;return ie.a.setItem(re.b.startupChannelEnabled,o),V.a.dispatch(z.a.updateDefaultChannelEnabled(o)),i},getDefaultChannelEnabled:function(){var e=ie.a.getItem(re.b.startupChannelEnabled);return void 0!==e?e:V.a.getSelectorValue(K.wg)}}},NWaj:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="review" ng-class="{\'active\': $ctrl.active}">\n<div class="header">\n<div aria-hidden="true" id="review-heading-description" class="sr-only">, Current total $ {{$ctrl.summary.totalPrice}}</div>\n<h2>\n<div aria-disabled="{{$ctrl.active}}" aria-describedby="review-heading-description" focus-when="$ctrl.active" role="button" tabindex="{{$ctrl.active ? -2 : 0}}" aria-expanded="{{$ctrl.active}}" ovp-click="$ctrl.activate()">4. Review & Purchase</div>\n</h2>\n</div>\n<div ng-if="$ctrl.active" class="content">\n<div class="top-section">\n<div class="description">\nPlease accept and agree to the purchase agreement to complete your order. Cancel anytime.\n</div>\n<div class="price-container" id="purchaseTotal">\n<span role="presentation" class="title">TOTAL</span>\n<div class="price-wrapper">\n<span role="presentation" class="price">$ {{$ctrl.summary.totalPrice}}</span>\n<span role="presentation" class="month"> / Month</span>\n</div>\n<span role="presentation" class="tax">+ taxes and fees**</span>\n</div>\n</div>\n<div class="middle-section">\n<input type="checkbox" class="circle-checkbox" id="purchaseAgreement" ng-model="$ctrl.accepted">\n<label for="purchaseAgreement">I have read and agree to the purchase agreement.</label>\n<a href="https://www.spectrum.com/policies/residential-terms.html" target="_blank">View the purchase agreement.</a>\n<p ng-if="$ctrl.disclaimerMessage" class="disclaimer-message" ng-bind-html="$ctrl.disclaimerMessage"></p>\n<div class="actions">\n<button ovp-click="$ctrl.cancel()" class="kite-btn kite-btn-outline-primary">Cancel</button>\n<div class="right-action">\n<button ovp-click="$ctrl.back()" class="kite-btn kite-btn-secondary">Back</button>\n<loading-button is-busy="$ctrl.loadingTracker.active()" on-click="$ctrl.loadingOpts.onClick" button-text="$ctrl.loadingOpts.buttonText" busy-text="$ctrl.loadingOpts.busyText" aria-status-text="$ctrl.loadingOpts.getAriaStatusText()"></loading-button>\n</div>\n</div>\n</div>\n<div class="bottom-section">\n<span>**Reflected on future Spectrum statements</span>\n</div>\n</div>\n</div>',o="js/buyFlow/review.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},NXGC:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="network-container" ng-class="{\'checked\': $ctrl.checked}" ng-click="$ctrl.onClick($event)" tabindex="-2" role="none">\n<div class="checkbox-wrapper">\n<input aria-label="{{$ctrl.data.name + ($ctrl.includedInBundle ? (\', included in \' + $ctrl.bundle.name + \' for \' + $ctrl.bundle.price + \' dollars per month\') : (\' \' + $ctrl.data.price + \' dollars per month\'))}}" type="checkbox" class="circle-checkbox" id="{{\'network\' + $ctrl.data.id}}" aria-checked="{{$ctrl.checked}}" ng-model="$ctrl.checked" ng-change="$ctrl.onChange($ctrl.data)">\n<label for="{{\'network\' + $ctrl.data.id}}" aria-label="{{$ctrl.data.name}}"></label>\n</div>\n<div class="content">\n<div class="network-logo">\n<img alt="{{$ctrl.data.networks[0].name}}" ng-src="{{$ctrl.getNetworkIcons($ctrl.data.networks[0])}}"/>\n</div>\n<div ng-if="!$ctrl.includedInBundle" class="price">\n$ {{$ctrl.data.price}} <span>/ Month</span>\n</div>\n<div ng-if="$ctrl.includedInBundle" class="bundleNetwork">\nIncluded in bundle\n</div>\n</div>\n</div>',o="js/buyFlow/network.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},NfGe:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="hero-banner" ng-if="$ctrl.assets.length > 0">\n<span id="hero-banner-active-title-text" class="sr-only" aria-live="polite" aria-atomic="true" ng-bind="$ctrl.activeTitleText"></span>\n<div class="left-arrow" ng-if="::$ctrl.assets.length > 1" ovp-click="$ctrl.previousItem($event)" tabindex="0" aria-label="Previous slide" role="button">\n<span aria-hidden="true" class="si si-chevron-left"></span>\n</div>\n<div class="hero-banner-carousel">\n<hero-banner-product aria-hidden="{{$index !== $ctrl.activeIndex}}" ng-class="{\'active-item\': $index === $ctrl.activeIndex, \'previous-item\': $index === $ctrl.previousIndex, \'next-item\': $index === $ctrl.nextIndex}" class="hero-banner-product-container" ng-repeat="asset in $ctrl.assets" is-hidden="$index !== $ctrl.activeIndex" index="$index" asset="asset" total-assets="$ctrl.totalAssets" swimlane-index="$ctrl.swimlaneIndex" total-swimlanes="$ctrl.totalSwimlanes">\n</hero-banner-product>\n</div>\n<div class="right-arrow" ng-if="::$ctrl.assets.length > 1" ovp-click="$ctrl.nextItem()" tabindex="0" aria-label="Next slide" role="button">\n<span aria-hidden="true" class="si si-chevron-right"></span>\n</div>\n<div id="hero-banner-label" hidden>What to Watch Carousel</div>\n</div>\n',o="js/my-library/components/hero-banner.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},NmiD:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="record-cdvr">\n<div ng-if="$ctrl.loadingTracker.active()" class="loading-container">\n<div class="spinner"></div>\n</div>\n<div ng-style="$ctrl.loadingTracker.active() && {visibility: \'hidden\'}">\n<div class="modal-kite-header">\n<h3 class="modal-title" id="dialog-label">Recording Options</h3>\n</div>\n<div class="modal-kite-body">\n<div class="asset-info">\n<div class="asset text-left">\n{{::$ctrl.asset.title}}<br/>\n{{::$ctrl.airtime()}}\n</div>\n<div class="network">\n<ovp-channel channel-id="$ctrl.displayChannel" tms-guide-id="$ctrl.tmsGuideId">\n</ovp-channel>\n</div>\n</div>\n<form>\n<div class="kite-form-group text-left" ng-if="$ctrl.isSeries">\n<label for="record" class="text-left">Record</label>\n<select id="record" class="kite-form-control" ng-model="$ctrl.selectedOptions.recordOnlyNew" ng-options="opt as opt.label for opt in $ctrl.possibleOptions.recordOnlyNew track by opt.value" focus-when="$ctrl.isSeries">\n</select>\n</div>\n<div class="kite-form-group text-left">\n<label for="save-select">Save</label>\n<select id="save-select" class="kite-form-control" ng-model="$ctrl.selectedOptions.deleteWhenSpaceIsNeeded" ng-options="opt as opt.label for opt in $ctrl.possibleOptions.deleteWhenSpaceIsNeeded track by opt.value" focus-when="!$ctrl.isSeries">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-if="$ctrl.isSeries || !$ctrl.isDisabled($ctrl.stream.streamProperties.startTime)">\n<label for="start-time-select" class="text-left">Start Time</label>\n<select id="start-time-select" class="kite-form-control" ng-model="$ctrl.selectedOptions.startAdjustMinutes" ng-options="opt as opt.label for opt in $ctrl.possibleOptions.startAdjustMinutes track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-if="$ctrl.isSeries || !$ctrl.isDisabled($ctrl.stream.streamProperties.endTime)">\n<label for="stop-time-select">Stop Time</label>\n<select id="stop-time-select" class="kite-form-control" ng-model="$ctrl.selectedOptions.stopAdjustMinutes" ng-options="opt as opt.label for opt in $ctrl.possibleOptions.stopAdjustMinutes track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-if="$ctrl.isSeries">\n<label for="channel" class="text-left">Channel</label>\n<select id="channel" class="kite-form-control" ng-disabled="$ctrl.action.actionType === \'cdvrEditRecording\' || $ctrl.action.actionType === \'cdvrEditSeriesRecording\'" ng-model="$ctrl.selectedOptions.channel" ng-options="opt as opt.label for opt in $ctrl.possibleOptions.channel track by opt.value" ng-change="$ctrl.channelSelected(false)">\n</select>\n</div>\n</form>\n</div>\n<div class="text-center">\n<button class="kite-btn kite-btn-secondary kite-btn-lg" aria-label="{{$ctrl.isUpdate() ? \'Close\' : \'Cancel\'}}" ng-click="$ctrl.cancel()" id="cancel-button">\n{{$ctrl.isUpdate() ? \'Close\' : \'Cancel\'}}\n</button>\n<button class="kite-btn kite-btn-primary kite-btn-lg" aria-label="{{$ctrl.isUpdate() ? \'Save\' : \'Record\'}}" ng-click="$ctrl.schedule()" id="confirm-button">\n{{$ctrl.isUpdate() ? \'Save\' : \'Record\'}}\n</button>\n</div>\n</div>\n</div>\n',o="js/components/record-cdvr/record-cdvr.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},NwI0:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal specu-login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<h1 class="title">Welcome to SpectrumU</h1>\n<p class="description">With SpectrumU, you can watch TV on your favorite devices, anywhere on campus. Select Continue to agree to our <a href="{{::$ctrl.termsHref}}" class="kite-btn-link" target="_blank">Terms and Conditions</a>\nand <a href="{{::$ctrl.privacyHref}}" class="kite-btn-link" target="_blank">Privacy Policy</a> to start watching TV.\n</p>\n<button focus-once aria-label="Continue and accept terms and conditions to go to SpectrumU" ng-click="$ctrl.continue()" class="kite-btn kite-btn-primary kite-btn-xl btn-margin">\nContinue\n</button>\n<p class="divider">\n<span class="divider">or</span>\n</p>\n<p>If you\'re an existing Spectrum customer, you can also <a class="kite-btn-link" href="#" ng-click="$ctrl.signInWithResidential()">sign in</a>\nto your account to watch TV.\n</p>\n</div>\n</div>\n</section>\n</div>\n',o="js/specu-welcome/specu-welcome.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},O1Kr:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}" trap-focus>\n<div class="modal-content" uib-modal-transclude>\n</div>\n<button aria-label="close dialog" class="popupCloseClick kite-button" ovp-click="close($event)"></button>\n</div>\n',o="js/components/modal/window-frame-with-close-icon.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},OvZ6:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("CAPABILITIES");t.a=i},OzSd:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="my-recordings-item" ng-mouseover="hovered=true" ng-mouseleave="hovered=false" ng-click="$ctrl.click()">\n<div class="item-frame row-item">\n<div class="row-title">\n<span class="program-title">{{::$ctrl.recording.episodes[0].title}}</span>\n<span class="episode-title">{{::$ctrl.episodeTitleDescription()}}</span>\n<ovp-rating ng-if="$ctrl.isMovie(recording.episodes[0])" rating="$ctrl.recording.episodes[0].rating"></ovp-rating>\n</div>\n<div class="row-series-episode" ng-if="!$ctrl.recording.episodes[0].isMovie"><span ng-if="$ctrl.recording.episodes[0].seasonNumber">{{::(\'Season \' + $ctrl.recording.episodes[0].seasonNumber + \' Episode \' + $ctrl.recording.episodes[0].episodeNumber)}}</span>\n</div>\n<div class="row-series-episode" ng-if="$ctrl.recording.episodes[0].isMovie">{{::$ctrl.recording.episodes[0].releaseYear}}</div>\n<div class="row-genre">{{::$ctrl.recording.episodes[0].genreString}}</div>\n<div class="row-channel">\n<ovp-channel display-type="list" mystro-service-id="$ctrl.recording.episodes[0].mystroServiceId" channel-id="$ctrl.recording.episodes[0].displayChannel"></ovp-channel>\n</div>\n<div class="twcicon-svg twcicon-svg-lock" ng-if="$ctrl.recording.isBlockedByParentalControls === true"></div>\n<div class="row-play-on-tv" ng-click="$ctrl.watchRecording();$event.stopPropagation()" ng-if="hovered===true && $ctrl.recording.isParentallyBlocked !== true">\n<div class="row-play-on-tv-icon"></div>\n<div class="row-play-on-tv-text">Play On TV</div>\n</div>\n</div>\n</div>\n',o="js/rdvr/my-recordings/recording-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},PDTe:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="btn-group ovp-dropdown-list-container" ng-keydown="vm.onKeydown($event)" ng-keyup="vm.onKeyup($event)">\n<label class="showLabel">{{vm.config.showLabel ? (vm.config.buttonLabel + \': \') : \'\'}}</label>\n<input ng-attr-aria-label="{{vm.config.buttonLabel}}, {{vm.items[vm.config.activeIndex].label || vm.items[vm.config.activeIndex].text}}" ng-attr-aria-labelledby="{{vm.config.buttonLabelledBy}}" aria-expanded="{{vm.showDropdown}}" role="combobox" ng-focus="vm.focusButton=false" ng-blur="vm.onButtonBlur($event)" ng-click="vm.toggleDropdown($event)" ng-keydown="vm.onButtonKeydown($event)" focus-when="vm.focusButton" type="button" class="btn btn-primary btn-lg round" ng-class="{\'btn-caret\': (vm.items.length > 1)}" value="{{vm.getTitle()}}">\n<ul style="list-style: none;" class="dropdown-list" ng-show="vm.showDropdown" role="listbox" arrow-nav="listitem" arrow-nav-options="{noShiftTabExit: true}" ng-keydown="vm.onDropdownListKeydown($event)">\n<li ng-blur="vm.onListItemBlur($event)" role="option" ng-repeat="item in vm.items" class="listitem" ng-class="{selected: (vm.config.activeIndex === item.index)}" ovp-click="vm.click($index);vm.focusButton=true;vm.showDropdown=false" tabindex="-1">\n{{item.text || item.label}}\n</li>\n</ul>\n</div>\n',o="js/directives/ovp-dropdown-list.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},PIAj:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<nav aria-label="Pagination, {{position}} of page" class="pagination" ng-if="1 < pages.length || !autoHide">\n<ul class="number-list">\n<li ng-attr-aria-hidden="{{pagination.current == 1 ? \'true\' : undefined}}">\n<a class="page page--prev-next si si-chevron-left" ng-if="directionLinks" ng-attr-focus-when="{{pageNumber != \'...\' && focusedElement == position + \'leftArrow\'}}" ng-attr-href="{{pagination.current !== 1 ? \'#\' : undefined}}" ng-class="{deactive: pagination.current == 1}" ng-click="setCurrent(pagination.current - 1); setPosition(\'leftArrow\', \'top\')" focus-previous=".grid-btn">\n<span class="sr-only">Previous, page {{pagination.current - 1}}</span>\n</a>\n</li>\n<li ng-attr-aria-hidden="{{pageNumber == \'...\' ? \'true\' : undefined}}" ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)">\n<a ng-click="setCurrent(pageNumber); setPosition(pageNumber, \'top\');" ng-attr-aria-label="{{pageNumber !== \'...\' ? \'Page \' + pageNumber : undefined}}" ng-attr-href="{{pageNumber !== \'...\' ? \'#\' : undefined}}" ng-attr-role="{{pageNumber == \'...\' ? \'presentation\' : undefined}}" aria-current="{{pageNumber == pagination.current ? \'page\' : \'false\'}}" class="page" ng-class="{active: pagination.current == pageNumber, deactive: pageNumber == \'...\'}" ng-attr-tabindex="{{pageNumber == pagination.current ? \'-1\' : undefined}}" ng-attr-focus-when="{{pageNumber != \'...\' && focusedElement == position + pageNumber}}" ng-attr-focus-previous="{{$first || (pageNumber == 2 && pagination.current == 1) && \'.grid-btn\' || undefined}}">{{pageNumber}}\n</a>\n</li>\n<li ng-attr-aria-hidden="{{pagination.current == pagination.last ? \'true\' : undefined}}">\n<a class="page page--prev-next si si-chevron-right" ng-if="directionLinks" ng-attr-focus-when="{{pageNumber != \'...\' && focusedElement == position + \'rightArrow\'}}" ng-class="{deactive : pagination.current == pagination.last}" ng-click="setCurrent(pagination.current + 1); setPosition(\'rightArrow\', \'top\')" ng-attr-href="{{pagination.current !== pagination.last ? \'#\' : undefined}}">\n<span class="sr-only">Next, page {{pagination.current + 1}}</span>\n</a>\n</li>\n</ul>\n</nav>\n',o="js/directives/pagination-template.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},PNUD:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"watchBootstrap",function(){return Fi.b}),n.d(r,"watchRatings",function(){return Ui.c}),n.d(r,"watchLocation",function(){return Bi.c}),n.d(r,"locationTimer",function(){return Bi.b}),n.d(r,"watchCapabilities",function(){return Wi.b}),n.d(r,"watchEnvironment",function(){return eo}),n.d(r,"watchTdcsPublicUpdate",function(){return co}),n.d(r,"watchChannels",function(){return lo.d}),n.d(r,"watchTimezone",function(){return uo.b}),n.d(r,"watchLineup",function(){return po.b}),n.d(r,"watchChromecast",function(){return _o}),n.d(r,"watchLiveTvTimer",function(){return Lo}),n.d(r,"liveTvTimer",function(){return Vo});n("QWBl"),n("wLYn"),n("07d7"),n("B6y2"),n("5s+n"),n("FZtP");var i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("ANjH"),l=n("rRWa"),u=n("x2Vv"),d=n("PnGe"),p=n("KS72"),h=n("5+k9"),v=n("fwyg"),f=n("04BD"),m=n("M5PJ"),g=n("Hq+Z"),b=n("lt9a"),y=n("acdo"),S=n("QuGv"),w="USER_SELECT_ACTION",k=n("UntU"),C=n("cF4K"),$=n("R+Vf"),T=n("dprx"),O=n.n(T),E=n("I+BT");function A(){return(A=s()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t.trafficOriginId,!Go.getSelectorValue(v.Ud)||!n){e.next=6;break}return e.next=5,Object(k.h)();case 5:O.a.set(E.d.TRAFFIC_ORIGIN_ID,{trafficOriginId:n});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P=!1,I=!1;function x(e,t,n){if(!P){var r=n.analytics;switch(n.type){case p.l:_(t);break;case w:Object(C.a)(r.type,r.payload);break;case p.j:case p.i:case h.a:_(t);break;case m.a.SUCCESS:Go.getSelectorValue($.e)||Object(S.b)().$broadcast("Session:lineup");break;case g.a.SUCCESS:!function(e){A.apply(this,arguments)}(n.payload),Go.getSelectorValue($.e)||Object(S.b)().$broadcast("Analytics:locationRetrieved",n.payload);break;case b.c:if(Go.getSelectorValue(v.Ve)){var i=Go.getSelectorValue(y.d)+"-3999",o=f.a.getErrorInfo(i);Object(S.c)("streamInitRetryCoordinator").reportErrorAndDetermineRetry(i,o.message,{}),I=!0}break;case b.b:if(I&&Go.getSelectorValue(v.Ve)){var a=Object(S.c)("streamInitRetryCoordinator");Object(S.c)("analyticsPlayback").playbackRetryAttemptRestart(null,{attemptNumber:a.getAttemptNumber()}),I=!1}}}}function _(e){P=!Object(d.c)(e,"config.analytics.enabled",!0),Object(k.n)(e)}var D,R=function(e){return function(t){return function(n){e.getState();var r=t(n);return x(0,e.getState(),n),r}}},j=(n("pNMO"),n("TeQF"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("lSNA")),N=n.n(j),M=n("/+IL");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F,U={isAuthenticated:null,error:null,data:{accountType:null,authenticationType:null,classification:null,consumer:null,deviceId:null,deviceType:null,deviceVerifier:null,expiration:null,refreshToken:null,secret:null,token:null,tokenSecret:null,trustedAuthId:null}},B=(D={},N()(D,M.b,function(e,t){return L(L({},e),{},{isAuthenticated:!0,data:L(L({},e.data),t.payload)})}),N()(D,M.a,function(e,t){return L(L({},e),{},{isAuthenticated:!1,error:t.payload})}),D),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=B[t.type];return n?n(e,t):e},H=n("3ASB"),G=n.n(H),q=n("KppK");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K={required:!1,accepted:!1,denied:!1,appRefreshStarted:!1},J=(F={},N()(F,q.g,function(e){return Y(Y({},e),{},{required:!0})}),N()(F,q.e,function(e){return Y(Y({},e),{},{required:!0,accepted:!0})}),N()(F,q.f,function(e){return Y(Y({},e),{},{required:!0,denied:!0})}),N()(F,q.a,function(e){return Y(Y({},e),{},{required:!0,appRefreshStarted:!0})}),N()(F,q.h,function(e){return e}),F),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=J[t.type];return n?n(e,t):e};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee,te={complete:null},ne=N()({},h.a,function(e){return Z(Z({},e),{},{complete:!0})}),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=ne[t.type];return n?n(e,t):e},ie=n("biJQ");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var se,ce,le={version:null,inProgress:!1,error:null,loaded:!1,data:null},ue=(ee={},N()(ee,ie.a.REQUEST,function(e){return ae(ae({},e),{},{inProgress:!0,loaded:!1})}),N()(ee,ie.a.SUCCESS,function(e){return ae(ae({},e),{},{inProgress:!1,loaded:!0,error:!1})}),N()(ee,ie.a.FAILURE,function(e,t){return ae(ae({},e),{},{inProgress:!1,loaded:!1,data:null,error:t.payload})}),ee),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=ue[t.type];return n?n(e,t):e},pe={version:"13.4.1.28361553",reinitVersion:0,configUpdateData:{configUpdateCheckIntervalSec:0,promptDisplayTimeSec:0},confirmMessageDelayMs:5e3,playerBufferControlParameters:{overrideDefaults:!0,initialBufferLengthInMilliSec:1500,defaultPlaybackBufferLengthInMilliSec:3e4,vodPlaybackBufferLengthInMilliSec:6e4},useShakaPlayer:!1,shakaVersionOverride:"",shakaVersionOverrideDebug:!1,useIrdetoControlDrm:!1,drmAuthHeaderExpirationIntervalMs:2e4,useIrdetoRefreshOnRetry:!1,DRMIrdetoRenewalUrls:{CDVR:"/ipvs/api/jwtdrm/cdvr/V1",LINEAR:"/ipvs/api/jwtdrm/live/v1",TVOD:"/api/smarttv/jwtdrm/tvod/rent/v1",TVOD_TRAILER:"/api/smarttv/jwtdrm/vod/trailer/v1",VOD:"/api/smarttv/jwtdrm/vod/v1"},playerConfig:{linearDrmEncodings:{encoding:"hls",drm:"adobe"},vodDrmEncodings:{encoding:"hls",drm:"adobe"},cdvrDrmEncodings:{encoding:"hls",drm:"adobe"},linear:{truncAdBreak:!1,refreshBitRateSec:0,showMetricsOverlay:!1,key:"e5f25dd0-999e-405e-9778-a13f7e9473f0",style:{aspectratio:"16:9",height:"100%"},logs:{level:"off"},playback:{autoplay:!0,muted:!1},tweaks:{max_buffer_level:18,native_hls_parsing:!0,native_hls_download_error_handling:!0},adaptation:{desktop:{bitrates:{minSelectableAudioBitrate:0,maxSelectableAudioBitrate:1/0,minSelectableVideoBitrate:0,maxSelectableVideoBitrate:1/0}},mobile:{bitrates:{minSelectableAudioBitrate:0,maxSelectableAudioBitrate:1/0,minSelectableVideoBitrate:0,maxSelectableVideoBitrate:1/0}}},liveWindowAdjustmentEnabled:!1,minimumUpdateTimeAdjustment:{enabled:!1,seconds:6},captureInProgressRequests:!1,disableCDVRInProgressScrubbing:!0},vod:{truncAdBreak:!1,refreshBitRateSec:0,showMetricsOverlay:!1,key:"e5f25dd0-999e-405e-9778-a13f7e9473f0",style:{aspectratio:"16:9",height:"100%"},logs:{level:"off"},playback:{autoplay:!0,muted:!1},tweaks:{max_buffer_level:18,native_hls_parsing:!0,native_hls_download_error_handling:!0},adaptation:{desktop:{bitrates:{minSelectableAudioBitrate:0,maxSelectableAudioBitrate:1/0,minSelectableVideoBitrate:0,maxSelectableVideoBitrate:1/0}},mobile:{bitrates:{minSelectableAudioBitrate:0,maxSelectableAudioBitrate:1/0,minSelectableVideoBitrate:0,maxSelectableVideoBitrate:1/0}}},liveWindowAdjustmentEnabled:!1,minimumUpdateTimeAdjustment:{enabled:!1,seconds:6},disableCDVRInProgressScrubbing:!1},shaka:{default:{showMetricsOverlay:!1,adBreakStartSeekOffsetSec:0,netErrHandling:{ignoreErrors:!1,seekOnBuffering:!1,maxPosDiffSec:8,seekDeltaSec:6,seekDelaySec:0},gapJumping:{enabled:!1,pollingIntervalMs:200,preJumpSec:1,endOfAdBreakPreJumpSec:3,overJumpSec:0},shaka:{streaming:{bufferingGoal:18,bufferBehind:10,rebufferingGoal:2,jumpLargeGaps:!0,gapDetectionThreshold:.5,stallEnabled:!0,stallSkip:2,stallThreshold:2},abr:{bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,defaultBandwidthEstimate:2e6,switchInterval:4}}},vod:{adBreakStartSeekOffsetSec:.1,netErrHandling:{ignoreErrors:!0,seekOnBuffering:!0},gapJumping:{enabled:!0},shaka:{streaming:{bufferingGoal:40}}},linear:{netErrHandling:{ignoreErrors:!0,seekOnBuffering:!0,seekDeltaSec:30,seekDelaySec:3},shaka:{manifest:{dash:{defaultPresentationDelay:16}}}}}},playerChannelBrowserDefaultSortByType:"networkAToZ",playDrmOnlyStreams:!0,showPlayerChannelBrowserFiltersOutOfHome:!1,analytics:{enabled:!0,applicationName:"OneApp",userConfigSetVersion:1,requirementsVersion:"1.1959",customer:"Charter",domain:"video",applicationType:"OVP",debug:!1,reportTimezone:!0,debugIgnored:[],filterFields:!0,helixSettings:{logLevel:"error"},blacklist:{urls:["/vpnspush/v1_5/check"]},pageTimeoutMillis:3e4,disabledEventCaseIds:[],disabledEventTypes:["modalClose"],eventProperties:{modalView:{supportInfoMessage:{modalName:"settingsSupport",modalType:"options",sendThis:!0}}},pageViewHistoryMax:5,maxSearchResults:10},debug:{maxDownloadedFinishedEvents:5,maxPlayedSegments:5,maxFailToDownloadEvents:5,maxPlayerWarnings:5,maxPlayerErrors:5,maxAdTrackingEvents:5,maxDownloadedSegments:5,playerConfigLoggingOn:!0,logAdTrackingEvents:!1},apiPathsToReportResponseTextToQuantum:["/ipvs/api/smarttv/user/capabilities/v3","/ipvs/api/smarttv/tvod/v2/pin","/offers","/buyflow_config/oneapp-ovp","/buyflow/v1/currentPackage"],offCanvasMenu:{enabled:!1,manageAccountLink:"https://www.spectrum.net/login/?target=https://www.spectrum.net/my-account/",getSupportLink:"http://www.spectrum.net/support/"},supportModal:{enabled:!1,infoUrl:"/specu/info",emailSubject:"SpectrumU Support"},supportLink:"http://www.spectrum.net/support/tv/spectrumtvcom-support/",privacyPolicyLink:"https://www.spectrum.com/policies/your-privacy-rights.html",termsAndConditionsLink:"https://www.spectrum.com/policies/residential-terms.html",privacyRightsLink:"http://www.timewarnercable.com/Corporate/privacy_ca.html",caConsumerPrivacyRightsLink:"https://www.spectrum.com/policies/california",caDontSellLink:"https://spectrum.com/policies/your-privacy-rights-opt-out",registrationHost:"https://www.spectrum.net",forgotHost:"https://www.spectrum.net",smartTvApi:"/ipvs/api/smarttv",oAuthApi:"/auth/oauth",nrsApi:"/nrs/api",nmdEpgsApiV1:"/nmdepgs/v1",timezoneCacheTimeoutInMinutes:1440,lineupCacheTimeoutInMinutes:1440,lineupRefreshOnFailureInMinutes:1,lineupFailureRetryCount:3,epgsApi:"/epg/v0",nnsApi:"/nns/V1",nnsVersion:"/nns/V1/data/swversion",authorize:"/authenticate",customerInfo:"/secured/customer-info",favoritesService:{get:"/favorites/channels/v1",set:"/favorites/channels/v1/set",add:"/favorites/channels/v1/add",channelStatus:"/favorites/channels/v1/channelNumber",serviceIdStatus:"/favorites/channels/v1/ncsServiceId",remove:"/favorites/channels/v1/remove"},location:"/location/v1",locationIntervalInMs:9e5,watchlist:"/watchList/v1",watchlistv2:"/watchList/v2",watchListParameters:{showOutOfWindow:!1},vod:{globalBookmarks:"/bookmarks/v2"},oAuth:{routes:["piHost","vpns.baseUri"],tempRequest:"/request",authorize:"/device/authorize",autoAuthorize:"/auto/authorize",specUAuthorize:"/specu/authorize",masqueradeAuthorize:"/masquerade/authorize",status:"/token/status",token:"/token",refresh:"/refresh",consumerKey:"void",s:"void",tokenExchange:"/ssotoken/exchange",chromecastTokenExchange:"/exchangeToken",signatureMethod:"HMAC-SHA1",version:"1.0",refreshBufferTime:1e4},supportSMBAuthentication:!1,ssoEnabled:!1,masqueradeEnabled:!1,streamPlus:{offers:"/ipvs/api/smarttv/offers",base:"/v1/base",cart:"/v1/cart",eligible:"/ipvs/api/smarttv/offers/v2/buyflow/eligible",enabled:!1,buyFlowEnabled:!1,welcomePageVersion:"v1",welcomePageBackground:{large:"/imageserver/supporting?image=welcomebg-large-1x&width=1600",medium:"/imageserver/supporting?image=welcomebg-medium-1x&width=1280",small:"/imageserver/supporting?image=welcomebg-small-1x&width=600"},analytics:{v1:{promoType:"PromoPrice"},v2:{promoType:"FreeTrial"}},messages:{welcomePage:{v1:{intro:"INTRODUCING",title:"Spectrum  <span>TV<sup>TM</sup></span> Stream",buttonTitle:"Get Started",buttonInfo:"Includes 25+ networks* and thousands of top shows and movies On Demand.",info:["Watch live TV on your favorite devices.","25+ Live channels, including your favorite local channels.","Watch thousands of free On Demand titles.","No contracts, equipment or installation fees. Cancel anytime."],footerText:"*More networks will be included based on your market. Not all markets carry Spectrum News."},v2:{intro:"Experience Spectrum  <span>TV<sup></sup></span> Stream",title:"25 channels for ${{price}}/mo<br/>Try it free for 7 days",buttonTitle:"Start Free Trial",buttonInfo:"No equipment fees. Cancel anytime.<br>Price guaranteed for 24 months.",networksInfo:"Includes 25+ networks",info:["Available on most mobile and connected devices.","25+ Live channels, including your favorite local channels.","Watch thousands of free On Demand titles.","No contracts, equipment or installation fees."]}},offersPage:{disclaimer:""}}},buyflow:{version:1,offersV2Api:"/buyflow/v2/offers",currentPackageApi:"/buyflow/v1/currentPackage",purchaseApi:"/buyflow/v1/order",estimateTaxesApi:"/buyflow/v1/estimateTaxes",shouldGetCurrentPackage:!1,autoPurchaseFreePreview:!0,offersTactic:"",buyflowTactic:"",hiddenTabs:["mylibrary","livetv","dvr","cdvr","store"],selectedTabOnLaunch:"/ondemand/featured",buyflowDemoMode:!1,buyflowDemoModeSimulateFailure:!1,freePreviewLoadingMessage:"Preparing your free preview...",cms:{baseUrl:"https://stva-assets.spectrumtoolbox.com/oneapp-ovp/",imageUrl:"https://stva-assets.spectrumtoolbox.com/assets",endpoints:{419391:{promotional:"buyflow/stream/promo_price/base/5.1.json",freePreview:"buyflow/stream/free_preview/base_end/5.1.json"},"FreePreview-419391":{freePreview:"buyflow/stream/free_preview/base_start/5.1.json"},419392:{freeTrial:"buyflow/stream/free_trial/base/5.0.json"},419399:{promotional:"buyflow/essentials/promo_price/base/5.1.json",freePreview:"buyflow/essentials/free_preview/base_end/5.1.json"},"FreePreview-419399":{freePreview:"buyflow/essentials/free_preview/base_start/5.1.json"},419400:{freeTrial:"buyflow/essentials/free_trial/base/5.1.json"},419397:{promotional:"buyflow/lifestyle/promo_price/base/5.1.json",freePreview:"buyflow/lifestyle/free_preview/base_end/5.1.json"},"FreePreview-419397":{freePreview:"buyflow/lifestyle/free_preview/base_start/5.1.json"},419398:{freeTrial:"buyflow/lifestyle/free_trial/base/5.1.json"},419395:{promotional:"buyflow/mi/promo_price/base/5.0.json",freePreview:"buyflow/mi/free_preview/base_end/5.1.json"},"FreePreview-419395":{freePreview:"buyflow/mi/free_preview/base_start/5.1.json"},419396:{freeTrial:"buyflow/mi/free_trial/base/5.1.json"},419393:{promotional:"buyflow/select/promo_price/base/5.1.json",freePreview:"buyflow/select/free_preview/base_end/5.1.json"},"FreePreview-419393":{freePreview:"buyflow/select/free_preview/base_start/5.1.json"},419394:{freeTrial:"buyflow/select/free_trial/base/5.1.json"},419402:{promotional:"buyflow/choice/promo_price/conf_network_grid/5.2.json"},419401:{freeTrial:"buyflow/choice/promo_price/conf_network_grid/5.2.json"},419416:{promotional:"buyflow/choice/promo_price/base_15/5.0.json"},419415:{freeTrial:"buyflow/choice/free_trial/base_15/5.0.json"}}},errorCodeMapping:{default:"WBF-1003",ooh:"WBF-1002",unauthorized:"WUC-1003",apiError:"WBF-3000",invalidJSON:"WBF-3001",invalidCMSComponent:"WBF-3002",parseError:"WBF-3003",512:"WBF-2512",513:"WBF-2513",514:"WBF-2514","OTTOERR-100":"WBF-2100","OTTOERR-101":"WBF-2101","OTTOERR-102":"WBF-2102","OTTOERR-104":"WBF-2104","OTTOERR-105":"WBF-2105","OTTOERR-106":"WBF-2106","OTTOERR-107":"WBF-2107","OTTOERR-200":"WBF-2200","OTTOERR-006":"WBF-2006","OTTOERR-001":"WBF-2001","OTTOERR-002":"WBF-2002","OTTOERR-003":"WBF-2003","OTTOERR-004":"WBF-2004","OTTOERR-005":"WBF-2005"},purchaseErrorCodeMapping:{512:"WBF-4512",513:"WBF-4513",514:"WBF-4514",515:"WBF-4515",levelOfServiceError:"WBF-1003"},reinitializeDelaySecs:10,offerFlags:["blacklistedFromFreePreview","blacklistedFromFreeTrial","householdFoundInMarketingFile","targetedOfferFoundInOffersCatalog","requestedOfferMatchedTargeted","requestedFreePreviewDisabled","requestedOfferIsReturned"],isClientSideOfferPrioritizationEnabled:!0,supportedBaseOfferIds:["NDE5Mzky","NDE5NDAw","NDE5Mzk5","NDE5Mzkx"],fallbackToDefaultOffer:!1,useSagas:!1,referenceIdMap:{"FreePreview-419391":"5053120","FreePreview-419393":"5053117","FreePreview-419395":"5053108","FreePreview-419397":"5055024","FreePreview-419399":"5053200"}},autoAccessCombinedEnabled:!1,buyUrl:"https://buy.spectrum.com/buyflow/buyflow-localization?v=ORG&cmp=ovp_stream_no_eligible",streamBuyUrl:"https://buy.spectrum.com/buyflow/buyflow-localization?v=ORG&cmp=ovp_stream_eligible",smartTv:{info:"/info/v1/name",capabilities:"/user/capabilities/v3",adobeSession:"/adobe/session",cdvrBookmark:"/action/dvr/v1/bookmark",cdvrProgram:"/cdvr/v1/programs",drmSession:"/drm/session"},registration:{createUsername:"/my-account/create/",forgot:"/forgot/"},unSupportedBrowsers:[{name:"Firefox",versions:["62.0"],message:{title:"Recommended Browser Upgrade",description:"For the best TV-watching experience,\n                         <br/>we recommend using the latest version of Firefox."}}],epgsV4Enabled:!1,epgs:{genres:"/genres",stbTune:"/stb/tune",stbUpdate:"/stb/update-name",guideGrid:"/guide/grid",channelListQam:"/guide/channels",channelListIp:"/channels/v1",guideSearch:"/searchListings",guide:"/guide",grid:"/grid",details:"/details",gridApi:"/epgs/api/smarttv/guide/v4/twctv/grid",cacheCleanupIntervalHours:6},nrs:{stb:"/stbs"},nns:{entryPoint:"/entrypoint",qamStbConfig:"ovp_v11",ipOnlyConfig:"ovp_acc_v11",specUConfig:"ovp_specu_v11",bulkMDUConfig:"ovp_mdu_v11",tvsaConfig:"ovp_tvsa_v1"},nnsParams:{profileConfigurationEnablePersonalizedRecommendations:!1,profileConfigurationIncludeNielsenReporting:!1},includeEpisodeTmsIdOnGuideNnsReq:!1,dynamicUrisEnabled:!1,vodPlayActionCacheAssetEnabled:!1,search:{minimumCharacters:1,quickResultsPerColumn:10,fullResultsPerCategory:50},piPolicyPath:"/utilities/sftpwebserver/OVP/0.2/clientaccesspolicy.html",useFixtures:!1,env:"ENV_NOT_SET",name:"ENV_NOT_SET",ajaxAnalyticsEnabled:"false",drmLAUri:"http://twc.live.ott.irdeto.com/playready/rightsmanager.asmx",eulaMd5:"D63A2F0C07FBB797C4B0CC65FC1A9699",iosAppStoreLink:"https://geo.itunes.apple.com/us/app/twc-tv/id420455839?mt=8",androidAppStoreLink:"https://play.google.com/store/apps/details?id=com.TWCableTV",mobileLoginMessage:{logo:"spectrum_app_icon.png",logoAlt:"Sepctrum App",title:"Get the Spectrum TV App",description:"For the best TV-watching experience on the go, install the Spectrum TV App on your device."},imageServerEndpoint:"https://api.spectrum.net",timewarner_cable:"http://www.timewarnercable.com",help_twcable:"http://help.twcable.com/html/policies.html",optout:"https://www.timewarnercable.com/en/our-company/legal/privacy-policy/arbitration-opt-out.html",deviceLocationCheck:!1,dlcOverride:"",authenticatedHosts:["api.spectrum.net","pi-lite.spectrum.net",".timewarnercable.com"],services:{guide:"/secured/guide/grid",dvrBase:"/rdvr*/dvr/",dvrScheduled:"/scheduled",dvrSchedule:"/schedule",dvrRecorded:"/recorded",dvrRecordedResume:"/recorded/play/resume/",dvrRecordedPlay:"/recorded/play/",dvrRecording:"/recording",dvrDiskUsage:"/usage",dvrRecordedDelete:"/recorded/delete",dvrSeriesPriorities:"/series/priorities",dvrConflicts:"/scheduled/conflicts",stbs:"/secured/stb",tune:"/secured/stb/tune",config:"/tdcs/public/inform?clientType=ONEAPP-OVP",configAuth:"/tdcs/inform",errorCodes:"/tdcs/public/errors",streamingChannels:"/ipvs/api/smarttv/channels/v2",streamingChannelsv3:"/ipvs/api/smarttv/channels/v3",onNowOnNext:"/ipvs/api/smarttv/guide/v1/twctv",headend:"/data/lookupHeadEnd/",headend_info:"/secured/guide/headend/info",fips:"/ipvs/api/eas/v1/storecustomerfips",quota:"/kumodvr/api/cdvr/v2/subscribers/quota",parentalControlsForUserUrl:"/ipvs/api/smarttv/parentalcontrol/v1",parentalControlsByRatingUrl:"/ipvs/api/smarttv/parentalcontrol/v1/ratings",validatePINUrl:"/ipvs/api/smarttv/parentalcontrol/v1/pin/validate",setPINUrl:"/ipvs/api/smarttv/parentalcontrol/v1/pin",parentalControlsByChannelUrl:"/ipvs/api/smarttv/parentalcontrol/v1/blockedchannels",validateAdminPasswordUrl:"/ipvs/api/smarttv/parentalcontrol/v1/admin/validate",purchasePINUrl:"/ipvs/api/smarttv/tvod/v1/pin",validatePurchasePINUrl:"/ipvs/api/smarttv/tvod/v1/pin/validate",capabilitiesUrl:"/ipvs/api/smarttv/user/capabilities/v3",locationUrl:"/pi/customer/location/v1",locationUrlv2:"/pi/customer/location/v2",aegisRefreshUri:"/ipvs/api/smarttv/aegis/v1/refresh",aegisUri:"/ipvs/api/smarttv/aegis/v1",timezoneUrl:"/ipvs/api/smarttv/timezone/v1",lineupUrl:"/ipvs/api/smarttv/lineup/v1"},vpns:{baseUri:"https://vpns-gen.timewarnercable.com",logging:!1,subscribeToEmptyServices:!1,registration:"https://pi-lite.spectrum.net/vpns/vpnsservice/v1_5/registration",disconnect:"https://pi-lite.spectrum.net/vpns/vpnspush/v1_5/disconnect",connect:"https://pi-lite.spectrum.net/vpns/vpnspush/v1_5/connect",join:"https://pi-lite.spectrum.net/vpns/vpnspush/v1_5/join",check:"https://pi-lite.spectrum.net/vpns/vpnspush/v1_5/check"},cdvrEnabled:!0,cdvrExtraStopTimeOptionsEnabled:!1,ipOnlyEnabled:!0,easEnabled:"false",eanChannelNumber:9999,channelRenderLimit:200,channelRenderBuffer:10,throttleScrollingInterval:250,flickVod:"/ipvs/api/smarttv/flick/vod",remoteSessionControlEnabled:!1,locationService:"/api/smarttv/location/v1",minorCategoryPodThreshold:0,vodAssetsPerPage:100,vodAssetsReqPerPage:500,vodAssetsReqRetryCount:1,bWF4aW11bUNvd2JlbGw:!1,applyCapOnDisplayChange:!1,applyCapIntervalSeconds:0,maxApplicationWidth:1600,minApplicationWidth:1e3,resetScheduledRecordingsDelayInMs:3e4,adEnabled:!0,vodDrmEnabled:!0,versionCheckTimeoutIntervalMS:6e5,tvodRent:!0,tvodWatch:!0,liveTvDrmEnabled:!0,mockExpressUrl:"https://ovp.timewarnercable.com:4435",loginPath:"/",featureTourSlides:[{index:0,imageUrl:"/imageserver/supporting?image=ovp-6-0-livetv",headerText:"",subHeaderText:"Live TV almost anywhere",description:"Watch all of your favorite channels at home and many top-rated  networks from any WiFi connection."},{index:1,imageUrl:"/imageserver/supporting?image=ovp-6-0-channel-sort",headerText:"",subHeaderText:"Channels A - Z or 1, 2, 3",description:"Click anywhere on live video to sort the live TV guide by channel name or channel number. It's your choice!",class:"pull-image-left"},{index:2,imageUrl:"/imageserver/supporting?image=ovp-6-0-search",headerText:"",subHeaderText:"Search for anything, from anywhere",description:"Search by title, person or sports team to easily find live TV, On Demand and recorded DVR content.",class:"pull-image-right"},{index:3,imageUrl:"/imageserver/supporting?image=ovp-6-0-every-way",headerText:"",subHeaderText:"Every way to watch",description:"Live TV, On Demand or on your DVR - it's all in one place. Spend less time searching and more time watching.",class:"pull-image-left"},{index:4,imageUrl:"/imageserver/supporting?image=ovp-6-0-ondemand",headerText:"",subHeaderText:"Thousands of <u>FREE</u> On Demand shows",description:"Browse by category or network, then add your favorites to Watch Later to keep them all in one place.",class:"pull-image-right"},{index:5,imageUrl:"/imageserver/supporting?image=ovp-6-0-in-progress",headerText:"",subHeaderText:"Finish where you left off",description:"Find your in progress On Demand shows in the Watchlist menu. Tap the show, then Resume to continue watching.",class:"pull-image-left"},{index:6,imageUrl:"/imageserver/supporting?image=ovp-6-0-set-dvr",headerText:"",subHeaderText:"Set your DVR",description:"To record a show, select the episode from the episode list, then choose Record. Select a series or single recording, choose your options and you're good to go!",class:"pull-image-right"},{index:7,imageUrl:"/imageserver/supporting?image=ovp-6-0-parental-controls",headerText:"",subHeaderText:"You're in charge",description:"Set a PIN and block by rating or channel. Blocks apply to all devices signed in with the same user name. To remove the block, just enter the PIN.",class:"pull-image-left"}],featureTourBackground:"https://services.timewarnercable.com/imageserver/supporting?image=Backsplash_OVP",intervalForChannelBrowserUpdateInMinutes:2,intervalForOnNowOnNextUpdateInMinutes:15,thresholdForOnNextTitleUpdateInMinutes:5,useAlternateDAIScheme:"true",useDAIforLIVE:!1,useDAIforVOD:!0,useDRMforLIVE:!0,useDRMforVOD:!0,useHTTPSforAllAdTracking:!1,csidConfig:{"ONEAPP-OVP":{linear:{dash:"stva_ovp_dash_pc_live",hls:"stva_ovp_pc_live"},vod:{dash:"stva_ovp_dash_pc_vod",hls:"stva_ovp_pc_vod"},cdvr:{dash:"stva_ovp_dash_pc_vod",hls:"stva_ovp_pc_vod"}},"SPECU-OVP":{linear:{dash:"stva_specu_dash_pc_live",hls:"stva_specu_pc_live"},vod:{dash:"stva_specu_dash_pc_vod",hls:"stva_specu_pc_vod"},cdvr:{dash:"stva_specu_dash_pc_vod",hls:"stva_specu_pc_vod"}},"TVSA-OVP":{linear:{dash:"stva_tvsa_dash_pc_live",hls:"stva_tvsa_pc_live"},vod:{dash:"stva_tvsa_dash_pc_vod",hls:"stva_tvsa_pc_vod"},cdvr:{dash:"stva_tvsa_dash_pc_vod",hls:"stva_tvsa_pc_vod"}}},playerParameters:{skipSeconds:30,infoPopupTimeoutMs:5e3},newEpisodeThreshold:7,displayRawRentError:!0,hideDevTools:!1,guide:{zoneHeightMultiplier:2,zoneWidthMultiplier:2,prefetchDistance:1,viewportWidthMultiplier:2,viewportHeightMultiplier:2,filterUnentitled:!1},vastSupport:!0,createUserLink:"https://id.spectrum.net/create?targetUrl=watch.spectrum.net&cancelUrl=watch.spectrum.net",autoAccessUserName:"auto-access-ghost",globalSettings:"Global",customizationSettings:"Customization",websiteSettings:"Website",adBlockerDetection:{enabled:!0,blockPlaybackIfAdsBlocked:!0,blockPlaybackOnlyIfDaiStream:!0,debug:!0},stbSettings:"Spectrum Receiver",stbSettingsEnabled:!1,stbSettingsParentalControls:{timeBlockEnabled:!1,channelBlockEnabled:!1},stillWatchingTimerInMs:144e5,stillWatchingModalTimeoutInMs:6e4,connectivityService:{enabled:!0,checkXhrEnabled:!0,checkXhrPath:"favicon.ico",checkXhrIntervalMs:3e4,debounceOnlineMs:15e3},maxPlayerStreamRetries:5,buyflowCustomerCareNumber:"(866) 892-1235",upgradePhoneNumber:"(866) 892-1235",supportPhoneNumber:"(855) 757-7328",errorCodesService:{checkIntervalMs:18e5},autoAccessDisabledTimePeriodInMinutes:5,specU:{enabled:!1,universityInfoUrl:"/specu/info",domainSearch:"/pi/specu/domain",maxSignOutIntervalInMs:864e5,universityRedirectUrl:"https://qa-charter.mantle.ascendon.tv/Ascendon/InitiateSso",authErrors:{default:{title:"Failure",message:"Looks like something went wrong.",hideRetry:!1},60400:{title:"Unable to Complete Request",message:"We're sorry, it looks like you're unauthorized to use this app.\n                        <br/>Please contact your school administration office for more info.",hideRetry:!0}},trustedAuthAscendonEndpoint:"https://sbx1-charter.mantle.ascendon.tv/Ascendon/InitiateSso",trustedAuthEnabled:!1,domainSearchDescriptionText:"To get started, enter your school domain. We'll redirect you to a page where you'll sign in with your school username and password.",taAuthFlow:"TRUST_AUTHENTICATION",errorAuthFlows:["DISABLED","AUTO_ACCESS"],trustedAuthErrors:{default:{title:"We're sorry, something didn't work quite right. Please try again."},empty:{title:"We're sorry, we were unable to find any results. Please try again with these suggestions.",messages:["Check for any typos or misspellings.",'Type the full domain for your school (example: include ".edu").',"If your school has an automatic sign-in option, connect to your campus WiFi."]},60400:{title:"We're sorry, we were unable to sign you in.\n                        Please contact your school's administration office for more info."},tokenExpired:{title:"Your session expired. Please enter your school domain to sign in."},AUTO_ACCESS:{title:"In order to use SpectrumU, your university requires you to connect to your campus WiFi. Please change networks and [try again](/)."},DISABLED:{title:"Currently, your university is not setup for SpectrumU. If you think you are receiving this message in error, please contact your university's IT department."}}},ooh:{bannerMessage:{generic:"Connect to Spectrum Internet for More to Watch",specUTA:"Connect to Campus WiFi for More"},dialogMessages:{generic:{title:"Connect to Your Spectrum Internet for More to Watch",description:"Due to programming restrictions, some channels are unavailable. For full access, connect to your Spectrum Internet service.",description2:"If you're connected to Spectrum Internet and believe you're seeing this message in error, please contact us at (855) 757-7328."},specUTA:{title:"Connect to Campus WiFi for More",description:"Due to programming restrictions, some channels are unavailable. For full access, connect to your campus WiFi."}},miniGuide:{generic:"These networks are available to watch in home only.",specUTA:"These networks are available to watch on campus only."},restrictLoginOOH:!1,OOHLoginError:{title:"Connect to Spectrum Internet",message:"To watch TV, please connect to your Spectrum Internet service.",version:1,eventCaseId:""}},maxCdvrShowsToRecord:50,cdvrDiskFullWarningLimit:45,cdvrDiskFullWarningPerDay:1,useRecordingIdForCdvrStream:!1,bulkMDU:{enabled:!1,upgradeAccountPhone:"(833) 697-7328"},miniPlayer:{enabled:!0},watchNextEpisode:{enabled:!0,countdownSeconds:20},apiErrorCodeEnabled:!0,streamInitializationTimeoutMs:{vod:2e4,linear:2e4,dvr:2e4},streamBufferingTimeoutMs:{vod:12e4,linear:12e4,dvr:12e4},playerOverlaySettings:{initialTimeout:1e4,defaultTimeout:2500},chromecast:{receiverApplicationId:"BB1CE524",enabled:!1},toggleDevicePicker:{enabled:!1,tooltip:{title:"Ready to Cast",description:"Select to cast videos to your TV.",ariaLabel:"Ready to Cast"}},toastDismissTimeout:6e3,toast:{timeoutMs:3e3,throttleWaitMs:3500},drmSessionGracePeriodInMilliseconds:36e5,defaultApiCallTimeout:3e4,videoPlayerSettings:{Feature_ManageVideoStream:!1,Profiles:{Linear:{StreamType:"Linear",ConnectionType:"any",Algorithm:"UseLastTuned",BitrateControlPolicy:"aggressivePolicy",Min:6e5,Max:32e5,StartingBitrate:24e5,StartingBufferLengthSeconds:3,BufferLengthSeconds:2,BitrateArrayDepth:1},VOD:{StreamType:"VOD",ConnectionType:"any",Algorithm:"UberStream",BitrateControlPolicy:"aggressivePolicy",Min:6e5,Max:32e5,StartingBitrate:32e5,StartingBufferLengthSeconds:3,BufferLengthSeconds:2,BitrateArrayDepth:1}},linear:{feature_retryOnVidInitFailure:!0,retryVidInitMaxAttempts:1,vidTimeoutBeforeRetryMS:1e3},VOD:{feature_retryOnVidInitFailure:!0,retryVidInitMaxAttempts:1,vidTimeoutBeforeRetryMS:3e3}},playerRetry:{brokenStreams:{linear:{enable:!1,maximumAttempts:1,retryWindowMs:36e5},vod:{enable:!1,maximumAttempts:1,retryWindowMs:36e5}}},siteHeaderVersion:0,mainMenuData:[{feature:"myLibrary",title:"My Library"},{feature:"watchTv",title:"Live TV"},{feature:"guide",title:"Guide"},{feature:"vodPortal",title:"On Demand"},{feature:"cdvr",title:"DVR"},{feature:"dvr",title:"DVR"},{feature:"vodStore",title:"Video Store"},{feature:"autoComplete",title:"Search"},{feature:"settings",title:"Settings"}],featuredContentAlert:{activeAlerts:[],alertGapInSec:345600,config:{LAF:{template:"v1",type:"originals",promoId:"LAF_FA_1_OVP",title:"Now Available",subtitle:"Exclusively On Spectrum",tmsSeriesId:"16684070"},generic:{promoId:"3333",type:"generic",title:"Alert title",subTitle:"Alert subtitle",bannerImage:"/imageserver/supporting?image=chromecast_feature_alert",bannerImageAlt:"",bannerTitle:"Banner title",bannerTitleLogo:"/imageserver/image/default?providerId=NBC_NETSHOWS_HD&productId=PTOD&sourceType=colorhybrid&height=40&default=false",bannerDescription:"Banner description.",bannerActions:[{title:"My Library",analyticsName:"myLibrary",class:"kite-btn kite-btn-primary",link:"/mylibrary"}]},LAFS2:{promoId:"3334",type:"generic",title:"Season 2 Now Available",bannerImage:"/imageserver/supporting?image=LAs_Finest_S2_Takeover",bannerImageAlt:"",bannerImageSubtext:"TV-14 - ACTION, DRAMA",bannerTitle:"LA's Finest",bannerSubtitle:"#LASFINEST",bannerTitleLogo:"",bannerDescription:"From the producer of the Bad Boys franchise, LAPD detectives Syd Burnett (Gabrielle Union) and Nancy Mckenna (Jessica Alba) are back. Watch season 2, now available On Demand.",bannerActions:[{title:"Watch",class:"kite-btn kite-btn-primary kite-btn-md",link:"/product/series/16684070/episodes"}],tmsProgramId:"16684070",providerAssetId:"SPECTRUMORIGINALS_HD",quantum:{resolved:"OneApp_selectContent_appLaunch_promotionSelection"}},ChromecastNew:{promoId:"3336",type:"generic",title:"Maximize your Spectrum TV Experience",subTitle:"",bannerImage:"/imageserver/supporting?image=chromecast_takeover_OVP",bannerImageAlt:"",bannerTitle:"Ready to Cast",bannerTitleLogo:"",bannerDescription:"Watch all your favorites on the big screen with Chromecast. Find the Cast button in your video player controls while watching in Chrome.",bannerActions:[]}}},productPage:{version:1,imageType:"banner",numOfButtonsToShow:2,maxNumOfGenres:2},errorImageEndpoint:"/imageserver/supporting?image=Service_Unavailable_KITE_Cloud",overrideSeriesTrailerStreamIndex:!0,unSupportedDVRClientTypes:[],kochava:{isKochavaSDKEnabled:!1,kochavaAppGUID:"kostva-web-dev-fkxv3mjwa"},adBeaconHostURLS:["tracker.charter.folium.cloud","mrm.mdc.spectrum.net","mrm.mdc.timewarnercable.com"],autoTune:{autoTuneTmsGuideIds:["55990","60159","68904","68944","69032","69311","69412","70299","70612","72141","73967","73973","92180","97840","99251","99257","99259","99265","99267","109431","109433","109435","109437","109439","109441","109443","109445","109760","109762","109764","109766"]},useStartupChannel:!1,widevineMediaKeySystemConfig:{sessionTypes:["persistent-license"]},playreadyMediaKeySystemConfig:{sessionTypes:["persistent-license"]},specuta_roku_activation:!1,treatBlockedAutoplayAsFailure:!1,bookmarkIntervalMs:9e4,locationOnPlaybackStop:!1,refreshOauthTokenOnUnauthenticatedError:!0,logoutOnAuthRefreshError:!1,clearUserStorageOnLogout:!1,streamTimeoutsCustomLogging:!0,addClientVersionToHeader:!1,clearAutoAuthSignOutTimeOnTokenRefreshFail:!0,unregisterSWBeforeNewPlayer:!0,addTimestampToBitmovinServiceWorker:!0,fastOauthTokenTimeoutDevOnly:!1,checkSuspiciousAuth:!1,shouldSynchronizeIsAuthenticatedFlagWithAuth:!0,featureFlagAxiosAuth:!1,appRatingConfigSettings:{enabled:!1,actions:["promptForAppRating"],feedbackCategories:["Restricted Programming","Live TV","Guide","On Demand","DVR","My Library","Video Quality","Startup Channel","Other"],ratingsModalUiText:{modalTitle:"Enjoying Spectrum TV?",modalDescription:"Please rate your overall experience",inputLabel:"Add additional comments or details. (Optional)",dropdownLabel:"Select a category.",userErrorMsg:"Star rating is required to submit feedback.",primaryButtonLabel:"Submit Feedback"},onSubmitModalUiText:{modalTitle:"Thanks for your feedback.",modalDescription:"We value your opinion to help us improve our products."}},triggers:[{actions:["promptForAppRating"],enabled:!0,events:[{messageName:"pageView",category:"navigation",triggeredBy:"user",currentPageName:"liveTvMiniGuide",condition:{minPlaybackDurationInMinutes:10,durationBetweenConsecutivePromptsInDays:122,firstLaunchDelayForPromptInDays:14}}]}],feedback:{redirectUrls:{roku:"https://spectrum-tv.smart.link/s33zwohpl?applicationName=OneApp&applicationType=Roku&cid=stva-feedback-qrcode&sourceApp=Roku",appletv:"https://spectrum-tv.smart.link/gydpsgxud?applicationName=OneApp&applicationType=AppleTV&cid=stva-feedback-qrcode&sourceApp=AppleTV",samsungtv:"https://spectrum-tv.smart.link/zphb3utb3?applicationName=OneApp&applicationType=SamsungTV&cid=stva-feedback-qrcode&sourceApp=SamsungTV",xbox:"https://spectrum-tv.smart.link/5eww0kxls?applicationName=OneApp&applicationType=Xbox&cid=stva-feedback-qrcode&sourceApp=Xbox",spectrumguide:"https://spectrum-tv.smart.link/7uw9zdl1h?applicationName=SpectrumGuide&applicationType=SpecGuide&cid=stva-feedback-qrcode&sourceApp=SpecGuide"}},apiConfig:{enabled:!1,apiConfigUrl:"https://stva-assets-staging.spectrumtoolbox.com/oneapp-ovp/apiconfig/envs/prod/lantern/1.0.json",enabledServices:{ipvs:!1,tdcs:!1,pi:!1},config:{default:{host:"api.spectrum.net",scheme:"https",reporting:{reportAPIEvents:!0,reportResponseHeaders:["Failure-Trace","lantern-source"]},headers:{"x-client-id":"{{client_id}}","x-client-device-id":"{{device_id}}","x-client-version":"{{app_version}}","x-client-os-version":"{{os_version}}","x-client-quantum-visit-id":"{{analytics_visit_id}}"}},services:{auth:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getOAuthValidateSessionV2:{method:"GET",path:"/auth/oauth/v2/validateSession"},oauthAutoAuthorize:{method:"POST",path:"/auth/oauth/auto/authorize"},oauthDeviceAuthorize:{method:"POST",path:"/auth/oauth/device/authorize"},oauthDeviceDeauthorize:{method:"POST",path:"/auth/oauth/device/deauthorize"},oauthExchangeToken:{method:"POST",path:"/auth/oauth/exchangeToken"},oauthLegacyTokenAuthorize:{method:"POST",path:"/auth/oauth/legacytoken/authorize"},oauthMasqueradeAuthorize:{method:"POST",path:"/auth/oauth/masquerade/authorize"},oauthRequest:{method:"POST",path:"/auth/oauth/request"},oauthRequestCode:{method:"POST",path:"/auth/oauth/requestcode"},oauthSpecuAuthorize:{method:"POST",path:"/auth/oauth/specu/authorize"},oauthSsoTokenExchange:{method:"POST",path:"/auth/oauth/ssotoken/exchange"},oauthToken:{method:"POST",path:"/auth/oauth/token"},oauthResiSsoTokenAuthorize:{method:"POST",path:"/auth/oauth2/resi/ssotoken/authorize"},postOAuthAutoAccessIPAuthV2:{method:"POST",path:"/auth/oauth/v2/consumer/aa/ip/auth"},postOAuthExchangeTokenAuthV2:{method:"POST",path:"/auth/oauth/v2/consumer/exchange/token/auth"},postOAuthLogoutLocalV2:{method:"POST",path:"/auth/oauth/v2/logout/local"},postOAuthLogoutSingleV2:{method:"POST",path:"/auth/oauth/v2/logout/single"},postOAuthTokenV2:{method:"POST",path:"/auth/oauth/v2/token"},postOAuthVideoDeviceVerifierAuthV2:{method:"POST",path:"/auth/oauth/v2/consumer/video/deviceverifier/auth"},postOAuthVideoPasswordAuthV2:{method:"POST",path:"/auth/oauth/v2/consumer/video/password/auth"}}},buyflow:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:0,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getCurrentPackageV1:{method:"GET",path:"/buyflow/v1/currentPackage"},getOffersV1:{method:"GET",path:"/buyflow/v1/offers"},getOffersV2:{method:"GET",path:"/buyflow/v2/offers"},getOffersV3:{method:"GET",path:"/buyflow/v3/offers"},postEstimatedTaxesV1:{method:"POST",path:"/buyflow/v1/estimateTaxes",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]}},postOrderV1:{method:"POST",path:"/buyflow/v1/order"}}},datum:{host:"stva-assets.ipvideo.prd.spectrum.net",scheme:"https",endpoints:{getDatumTrendingLiveV1:{method:"GET",path:"/datum/linear/v1/{{division}}.json"},getDatumOriginalsV1:{method:"GET",path:"/datum/vod/v1/spectrum-originals.json"}}},epgs:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getEpgsGuideV3:{method:"GET",path:"/epgs/ipvs/api/smarttv/guide/v3/twctv/grid"},postEpgsGuidev4:{method:"POST",path:"/epgs/api/smarttv/guide/v4/twctv/grid"},getEpgsSportsV1:{method:"GET",path:"/epgs/sports/v1/games/schedule?division={{division}}&startDateTime={{secondsFromEpoch}}&hours={{hourLimit}}"}}},idm:{host:"id.spectrum.net",scheme:"https",endpoints:{getLoginAuto:{method:"GET",path:"/login/auto"}}},ipvs:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{deleteDvrSeriesV1:{method:"DELETE",path:"/ipvs/api/smarttv/action/dvr/v1/series/{{seriesId}}"},deleteDvrShowV1:{method:"DELETE",path:"/ipvs/api/smarttv/action/dvr/v1/show/{{recordingId}}"},deleteRecents:{method:"DELETE",path:"/ipvs/api/smarttv/clear"},deleteWatchlistAssetsV1:{method:"DELETE",path:"/ipvs/api/smarttv/watchList/v1/assets/{{providerAssetId}}"},deleteWatchlistAssetsV2:{method:"DELETE",path:"/ipvs/api/smarttv/watchList/v2/assets/{{tmsProviderProgramID}}"},deleteWatchlistSeriesV1:{method:"DELETE",path:"/ipvs/api/smarttv/watchList/v1/series/{{seriesId}}"},getAdobeSessionV1:{method:"GET",path:"/ipvs/api/smarttv/adobe/session"},getAegisCreateV1:{method:"GET",path:"/ipvs/api/smarttv/aegis/v1/create"},getAegisRefreshV1:{method:"GET",path:"/ipvs/api/smarttv/aegis/v1/refresh"},getAppleEntitlementsV1:{method:"GET",path:"/lantern/api/smarttv/apple/entitlements/v1"},getBaseExtrasV1:{method:"GET",path:"/ipvs/api/smarttv/offers/v1/base/{{baseOfferid}}/extras"},getBasePremiumsV1:{method:"GET",path:"/ipvs/api/smarttv/offers/v1/base/{{baseOfferid}}/premiums"},getBuyflowEligibleV2:{method:"GET",path:"/ipvs/api/smarttv/offers/v2/buyflow/eligible"},getCartSummarizeV1:{method:"GET",path:"/ipvs/api/smarttv/offers/v1/cart/summarize"},getCdvrProgramsV1:{method:"GET",path:"/ipvs/api/smarttv/cdvr/v1/programs"},getCdvrQuotaV1:{method:"GET",path:"/ipvs/api/smarttv/cdvr/v1/quota"},getDrmSessionV1:{method:"GET",path:"/ipvs/api/smarttv/drm/session"},getEasStoreCustomerFipsV1:{method:"GET",path:"/ipvs/api/eas/v1/storecustomerfips"},getEntitlementsVodV1:{method:"GET",path:"/lantern/api/smarttv/entitlements/v1/vod"},getFavoritesChannelsV1:{method:"GET",path:"/lantern/api/smarttv/favorites/channels/v1"},getGuideGridV1:{method:"GET",path:"/ipvs/api/smarttv/nmdepgs/v1/guide/{{lineupId}}/grid"},getGuideTwctvV1:{method:"GET",path:"/ipvs/api/smarttv/guide/v1/twctv"},getGuideTwctvV2:{method:"GET",path:"/ipvs/api/smarttv/guide/v2/twctv"},getJwtdrmCdvrV1:{method:"GET",path:"/ipvs/api/jwtdrm/cdvr/v1"},getJwtdrmLiveV1:{method:"GET",path:"/ipvs/api/jwtdrm/live/v1"},getJwtdrmVodV1:{method:"GET",path:"/ipvs/api/smarttv/jwtdrm/vod/v1"},getJwtdrmTrailerV1:{method:"GET",path:"/ipvs/api/smarttv/jwtdrm/vod/trailer/v1"},getJwtdrmTvodV1:{method:"GET",path:"/ipvs/api/smarttv/jwtdrm/tvod/v1"},getOffersBaseV1:{method:"GET",path:"/ipvs/api/smarttv/offers/v1/base"},getParentalControlPinV1:{method:"GET",path:"/lantern/api/smarttv/parentalcontrol/v1/pin"},getParentalControlBlockedChannelsV1:{method:"GET",path:"/lantern/api/smarttv/parentalcontrol/v1/blockedchannels"},getParentalControlRatingsV1:{method:"GET",path:"/lantern/api/smarttv/parentalcontrol/v1/ratings"},getPlayreadySessionV1:{method:"GET",path:"/ipvs/api/smarttv/playready/session"},getPublicPingV1:{method:"GET",path:"/ipvs/api/public/ping/v1",retry:{retryAttempts:1,retryDelayMs:250,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[]}},getSmarttvAegisV1:{method:"GET",path:"/ipvs/api/smarttv/aegis/v1"},getSmarttvBehindOwnModemV1:{method:"GET",path:"/ipvs/api/smarttv/behindOwnModem/v1"},getSmarttvBookmarksV1:{method:"GET",path:"/lantern/api/smarttv/bookmarks/v1"},getSmarttvBookmarksV2:{method:"GET",path:"/lantern/api/smarttv/bookmarks/v2"},getSmarttvBookmarksV3:{method:"GET",path:"/lantern/api/smarttv/bookmarks/v3"},getSmarttvChannelsV1:{method:"GET",path:"/ipvs/api/smarttv/channels/v1"},getSmarttvChannelsV2:{method:"GET",path:"/lantern/api/smarttv/channels/v2"},getSmarttvChannelsV3:{method:"GET",path:"/lantern/api/smarttv/channels/v3"},getSmarttvLineupV1:{method:"GET",path:"/lantern/api/smarttv/lineup/v1"},getSmarttvLocationV1:{method:"GET",path:"/ipvs/api/smarttv/location/v1"},getSmarttvMsoV1:{method:"GET",path:"/ipvs/api/smarttv/mso/v1"},getSmarttvParentalControlV1:{method:"GET",path:"/lantern/api/smarttv/parentalcontrol/v1"},getSmarttvTimezoneV1:{method:"GET",path:"/ipvs/api/smarttv/timezone/v1"},getSmarttvWatchlistV1:{method:"GET",path:"/lantern/api/smarttv/watchList/v1"},getStbTunev0:{method:"GET",path:"/ipvs/api/smarttv/epg/v0/stb/tune"},getStreamCdvrV1:{method:"GET",path:"/ipvs/api/smarttv/stream/cdvr/v1/{{recordingId}}"},getStreamLiveV1:{method:"GET",path:"/ipvs/api/smarttv/stream/live/v1/{{ncsServiceId}}"},getStreamVodV1:{method:"GET",path:"/ipvs/api/smarttv/stream/vod/v1/{{providerAssetId}}"},getTvodPinV1:{method:"GET",path:"/ipvs/api/smarttv/tvod/v1/pin"},getTvodPinV2:{method:"GET",path:"/ipvs/api/smarttv/tvod/v2/pin"},getTwctvGridV1:{method:"GET",path:"/ipvs/api/smarttv/guide/v1/twctv/grid"},getTwctvGridV2:{method:"GET",path:"/ipvs/api/smarttv/guide/v2/twctv/grid"},getUserCapabilitiesV3:{method:"GET",path:"/lantern/api/smarttv/user/capabilities/v3"},getVodTrailerV1:{method:"GET",path:"/ipvs/api/smarttv/stream/vod/trailer/v1/{{providerAssetId}}"},postBookmarksHiddenV2:{method:"POST",path:"/ipvs/api/smarttv/bookmarks/v2/hidden"},postBookmarksHiddenV3:{method:"POST",path:"/ipvs/api/smarttv/bookmarks/v3/hidden"},postCartBaseV1:{method:"POST",path:"/ipvs/api/smarttv/offers/v1/cart/base"},postCartPurchaseV1:{method:"POST",path:"/ipvs/api/smarttv/offers/v1/cart/purchase"},postFavoriteChannelsAddV1:{method:"POST",path:"/ipvs/api/smarttv/favorites/channels/v1/add"},postFavoriteChannelsRemoveV1:{method:"POST",path:"/ipvs/api/smarttv/favorites/channels/v1/remove"},postFavoriteChannelsSetV1:{method:"POST",path:"/ipvs/api/smarttv/favorites/channels/v1/set"},postDVRBookmarkV1:{method:"POST",path:"/ipvs/api/smarttv/action/dvr/v1/bookmark/{{recordingId}}"},postDvrSeriesV1:{method:"POST",path:"/ipvs/api/smarttv/action/dvr/v1/series/{{seriesId}}/{{tmsGuideId}}"},postDvrShowV1:{method:"POST",path:"/ipvs/api/smarttv/action/dvr/v1/show/{{recordingId}}"},postFlickVodV1:{method:"POST",path:"/ipvs/api/smarttv/flick/vod/{{providerAssetId}}"},postParentalControlPinV1:{method:"POST",path:"/ipvs/api/smarttv/parentalcontrol/v1/pin"},postParentalControlAdminValidateV1:{method:"POST",path:"/ipvs/api/smarttv/parentalcontrol/v1/admin/validate"},postParentalControlPinValidateV1:{method:"POST",path:"/ipvs/api/smarttv/parentalcontrol/v1/pin/validate"},postRecentChannelsV1:{method:"POST",path:"/ipvs/api/smarttv/recent/channels/v1"},postAddChannelToRecentV1:{method:"POST",path:"/ipvs/api/smarttv/recent/channels/v1/add"},postSmarttvBookmarksV2:{method:"POST",path:"/ipvs/api/smarttv/bookmarks/v2/{{providerAssetId}}"},postSmarttvBookmarksV3:{method:"POST",path:"/ipvs/api/smarttv/bookmarks/v3/{{providerAssetId}}"},postStreamLiveV2:{method:"POST",path:"/ipvs/api/smarttv/stream/live/v2/{{ncsServiceId}}"},postStreamLiveV3:{method:"POST",path:"/ipvs/api/smarttv/stream/live/v3/{{ncsServiceId}}"},postStreamVodV2:{method:"POST",path:"/ipvs/api/smarttv/stream/vod/v2/{{providerAssetId}}"},postTvodPinV1:{method:"POST",path:"/ipvs/api/smarttv/tvod/v1/pin"},postTvodPinValidateV1:{method:"POST",path:"/ipvs/api/smarttv/tvod/v1/pin/validate"},postTvodRentV1:{method:"POST",path:"/ipvs/api/smarttv/tvod/rent/v1/{{providerAssetId}}"},postVodTrailerV2:{method:"POST",path:"/ipvs/api/smarttv/stream/vod/trailer/v2/{{providerAssetId}}"},postWatchlistAssetsDeleteV1:{method:"POST",path:"/ipvs/api/smarttv/watchList/v1/assets/{{providerAssetId}}/delete"},postWatchlistAssetsV1:{method:"POST",path:"/ipvs/api/smarttv/watchList/v1/assets/{{providerAssetId}}"},postWatchlistDeleteV1:{method:"POST",path:"/ipvs/api/smarttv/watchList/v1/delete"},postWatchlistSeriesDeleteV1:{method:"POST",path:"/ipvs/api/smarttv/watchList/v1/series/{{seriesId}}/delete"},postWatchlistSeriesV1:{method:"POST",path:"/ipvs/api/smarttv/watchList/v1/series/{{seriesId}}"},putCartExtrasV1:{method:"PUT",path:"/ipvs/api/smarttv/offers/v1/cart/extras"},putCartPremiumsV1:{method:"PUT",path:"/ipvs/api/smarttv/offers/v1/cart/premiums"},putDvrSeriesV1:{method:"PUT",path:"/ipvs/api/smarttv/action/dvr/v1/series/{{seriesId}}/{{tmsGuideId}}"},putDvrShowV1:{method:"PUT",path:"/ipvs/api/smarttv/action/dvr/v1/show/{{recordingId}}"},postParentalControlBlockedChannelsV1:{method:"POST",path:"/ipvs/api/smarttv/parentalcontrol/v1/blockedchannels"},putParentalControlRatingsV1:{method:"PUT",path:"/ipvs/api/smarttv/parentalcontrol/v1/ratings"}}},kumodvr:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getCdvrQuotaV2:{method:"GET",path:"/kumodvr/api/cdvr/v2/subscribers/quota"}}},nns:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getEntrypointV1:{method:"GET",path:"/nns/V1/entrypoint"},getHomePageFrontDoorV1:{method:"GET"},getSurferV1:{method:"GET",path:"/nns/V1/surfer"},getSeriesV1:{method:"GET"},getSearchAutoCompleteV1:{method:"GET"},getRecommendationsV1:{method:"GET"},getEventV1:{method:"GET"},getVodPortalMenuV1:{method:"GET"},getVodportalFrontDoorV1:{method:"GET"},getNetworksGridV1:{method:"GET"},getMyLibraryFrontDoor:{method:"GET"},getNetworkPortalV1:{method:"GET"},getWatchLaterFrontDoorV1:{method:"GET"},getSearchComponentV1:{method:"GET"},getDvrManagerFrontDoorV1:{method:"GET",path:"/nns/V1/dvrmanager/frontdoor?division={{division}}&vodId={{vodId}}&lineup={{lineupId}}&profile={{nnsProfile}}&cacheID={{cacheID}}"},getVodStoreFrontDoorV1:{method:"GET"},getVodPortalGridV1:{method:"GET"},getSearchResults:{method:"GET"},getMyLibraryViewall:{method:"GET"},getMyLibraryWatchlistV1:{method:"GET",path:"/nns/V1/mylibrary/frontdoor?division={{division}}&vodId={{vodId}}&lineup={{lineupId}}&profile={{nnsProfile}}&cacheID={{cacheID}}&context=watchlist"},getPersonalizedRecommendationsV1:{method:"GET",path:"/nns/V1/recommendations/personalized?recommendationKey=HNAV_VOD_Free_&division={{division}}&lineup={{lineupId}}&useridhash={{userIdHash}}&profile={{nnsProfile}}"},getPersonalizedSeriesRecommendationsV1:{method:"GET",path:"/nns/V1/recommendations/personalized?recommendationKey=HNAV_VOD_Series_Free_&division={{division}}&lineup={{lineupId}}&useridhash={{userIdHash}}&profile={{nnsProfile}}"},getPersonalizedMovieRecommendationsV1:{method:"GET",path:"/nns/V1/recommendations/personalized?recommendationKey=HNAV_VOD_Movies_Free_&division={{division}}&lineup={{lineupId}}&useridhash={{userIdHash}}&profile={{nnsProfile}}"}}},nrs:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{putRdvr1ScheduleSingle:{method:"PUT",path:"/nrs/api/rdvr1/dvr/{{stbMac}}/schedule/{{mystroServiceId}}/{{tmsid}}/{{startTime}}/single"},putRdvr2ScheduleSingle:{method:"PUT",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/schedule/{{mystroServiceId}}/{{tmsid}}/{{startTime}}/single"},putRdvr1ScheduleSeries:{method:"PUT",path:"/nrs/api/rdvr1/dvr/{{stbMac}}/schedule/{{mystroServiceId}}/{{seriesId}}/{{startTime}}/series"},getRdvr1Scheduled:{method:"GET",path:"/nrs/api/rdvr1/dvr/{{stbMac}}/scheduled"},getRdvr1Recorded:{method:"GET",path:"/nrs/api/rdvr1/dvr/{{stbMac}}/recorded"},getRdvr1Recording:{method:"GET",path:"/nrs/api/rdvr1/dvr/{{stbMac}}/recording"},putRdvr2RecordedDelete:{method:"PUT",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/recorded/delete"},getRdvr2SeriesPriorities:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/series/priorities"},putRdvr2ScheduleSeries:{method:"PUT",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/schedule/{{mystroServiceId}}/{{seriesId}}/{{startTime}}/series"},getRdvr2RecordedPlay:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/recorded/play/{{mystroServiceId}}/{{tmsid}}/{{startTime}}"},getRdvr2RecordedPlayResume:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/recorded/play/resume/{{mystroServiceId}}/{{tmsid}}/{{startTime}}"},getRdvr2Recorded:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/recorded"},getRdvr2Recording:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/recording"},getRdvr2Usage:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/usage"},getRdvr2Scheduled:{method:"GET",path:"/nrs/api/rdvr2/dvr/{{stbMac}}/scheduled"},getStbStatus:{method:"GET",path:"/nrs/api/stbname/{{stbMac}}"},getStbs:{method:"GET",path:"/nrs/api/stbs"},postStbsName:{method:"POST",path:"/nrs/api/stbs/{{stbMac}}/name"}}},pi:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{getLocationV1:{method:"GET",path:"/pi/customer/location/v1"},getLocationV2:{method:"GET",path:"/pi/customer/location/v2"},getPromoConfig:{method:"GET",path:"/promoconfig/promos.json"},getSpecuDomainV1:{method:"GET",path:"/pi/specu/domain/{{domain}}"}}},tdcs:{retry:{retryAttempts:2,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},host:"api.spectrum.net",scheme:"https",endpoints:{getTDCSPublicInform:{method:"GET",path:"/tdcs/public/inform"},getTDCSPublicErrors:{method:"GET",path:"/tdcs/public/errors"},getTDCSInform:{method:"GET",path:"/tdcs/inform"},postTDCSPublicInform:{method:"POST",path:"/tdcs/public/inform"},postTDCSPublicErrors:{method:"POST",path:"/tdcs/public/errors"},postTDCSInform:{method:"POST",path:"/tdcs/inform"}}},vpns:{host:"api.spectrum.net",scheme:"https",retry:{retryAttempts:0,retryDelayMs:0,nextRetryMultiplier:1,jitter:0,retryStatusCodes:[500,502,503,504]},endpoints:{postVPNSRegistrationV1_5:{method:"POST",path:"/vpnsservice/v1_5/registration"},getVPNSJoinV1_5:{method:"GET",path:"/vpnspush/v1_5/join"},postVPNSWebsocketRegister:{method:"POST",path:"/vpns/websocket-register"},getVPNSCheckV1_5:{method:"GET",path:"/vpnspush/v1_5/check"},getVPNSConnectV1_5:{method:"GET",path:"/vpnspush/v1_5/connect"},getVPNSDisconnectV1_5:{method:"GET",path:"/vpnspush/v1_5/disconnect"},socketSubscribe:{scheme:"wss",host:"client-notifications.vpns.spectrum.net",path:"/cn/subscribe"}}}},version:1}},globalErrorFlushThresholds:[1,10,100,1e3],capabilitiesCacheTimeoutInMinutes:1440,capabilitiesRefreshOnFailureInMinutes:1,capabilitiesFailureRetryCount:3,nielsen:{enabled:!1,useDebug:!1,apid:"P802FFDC5-A88A-4C21-AC66-DDBD4FCA0629",optionsLink:"https://www.nielsen.com/digitalprivacy",testing:{forced:!1,forcedMetrics:["dar","dtvr","dcr"],forcedLocations:["inHome","inMarket","outOfMarket"]}},enableBrowserNativePip:!1,clientTypes:{default:"ONEAPP-OVP",data:[{domainRegexs:["spectrumenterprisetv","tvsa-"],name:"TVSA-OVP",configOverrides:{disabledStateRegexs:["ovp.specu"],disableManualLogin:!0,analytics:{applicationName:"TVSA",requirementsVersion:"1.262",eventProperties:{modalView:{supportInfoMessage:{modalName:"tvsaCustomerSupport",modalType:"message",modalText:"Need Help or Have Questions?"}}}},ooh:{OOHLoginError:{title:"Connect to a Participating Network for More",message:"Spectrum Enterprise TV is a service provided by participating Spectrum Enterprise clients, and is only available when connected to their network.",version:2,eventCaseId:"OVP_loginErrorOOHTVSA_pageView",eventCasePayload:{pageName:"loginErrorTVSA",appSection:"preAuthentication"}},restrictLoginOOH:!0},ignoreChannelNumbers:!0,offCanvasMenu:{enabled:!1},headerLogoPath:"images/logo-enterprise-horiz.svg",headerLogoAlt:"Spectrum Enterprise TV",supportModal:{enabled:!0,infoUrl:"/specu/info",emailSubject:"Spectrum Support"},hideGuideFilters:["premiums"],disableSignout:!0,entitledOnlyVod:!0,errorCodePrefix:"V",iosAppStoreLink:"https://itunes.apple.com/app/id1528235526",androidAppStoreLink:"https://play.google.com/store/apps/details?id=com.spectrum.tv.android.tvsa",mobileLoginMessage:{logo:"spectrum-enterprise-tv-app.png",logoAlt:"Spectrum Enterprise App",title:"Get the Spectrum Enterprise TV App",description:"For the best TV experience, install the Spectrum Enterprise TV App."},privateRelay:{restrictLogin:!1}}},{domainRegexs:["spectrumutv"],name:"SPECU-OVP",configOverrides:{iosAppStoreLink:"https://itunes.apple.com/us/app/spectrumu/id827887111?mt=8",androidAppStoreLink:"https://play.google.com/store/apps/details?id=com.charter.university",mobileLoginMessage:{logo:"launcher-icon-stva-university.png",logoAlt:"SpecU",title:"Get the Spectrum U App",description:"For the best TV experience on campus, install the Spectrum U App."},analytics:{requirementsVersion:"1.1943",eventProperties:{modalView:{supportInfoMessage:{modalName:"settingsSupport",modalType:"options"}}}},headerLogoAlt:"Spectrum U",privateRelay:{restrictLogin:!1}}}]},featureBrokenStreamIgnoreStopDuringRestart:!1,featureBrokenStreamStartStateDetection:!1,allowHTMLErrorText:!1,reportTrafficOriginId:!1,akamai:{liveURLFetchQueryAppend:"",vodURLFetchQueryAppend:""},autoplayTactic:"playIcon",isHdcpSafariError:!1,autoplayTooltip:{title:"Your Show Is Muted",description:"You can unmute it using your player controls.",ariaLabel:"Your show is muted. You can unmute it using your player controls."},headerLogoPath:"images/logo-horiz.svg",preventLocationCallOnUnAuth:!1,headerLogoAlt:"Spectrum TV",ignoreChannelNumbers:!1,hideGuideFilters:[],disableSignout:!1,disabledStateRegexs:[],disableManualLogin:!1,entitledOnlyVod:!1,errorCodePrefix:"",privateRelay:{restrictLogin:!1}},he=n("jIcc");function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var me={inProgress:!1,success:!1,error:!1,errorObj:{},hash:null},ge=(se={},N()(se,p.e,function(e){return fe(fe({},e),{},{inProgress:!0,error:{}})}),N()(se,p.f,function(e){return fe(fe({},e),{},{inProgress:!1,error:{}})}),N()(se,p.d,function(e,t){return fe(fe({},e),{},{inProgress:!1,error:t.payload})}),N()(se,p.m,function(e,t){return fe(fe({},e),{},{inProgress:!1,error:{},hash:t.payload})}),N()(se,p.b,function(e){return fe(fe({},e),{},{inProgress:!0,error:{}})}),N()(se,p.c,function(e){return fe(fe({},e),{},{inProgress:!1,error:{}})}),N()(se,p.a,function(e,t){return fe(fe({},e),{},{inProgress:!1,error:t.payload})}),N()(se,p.k,function(e,t){return fe(fe({},e),{},{inProgress:!1,error:{},hash:t.payload})}),se),be=(ce={},N()(ce,he.a.UPDATECURRENTENVIRONMENTCONFIG,function(e,t){return G()(e,t.payload)}),N()(ce,p.l,function(e,t){return G()(e,t.payload)}),N()(ce,p.j,function(e,t){return G()(e,t.payload)}),N()(ce,p.i,function(e,t){return G()(e,t.payload)}),N()(ce,p.g,function(e,t){return G()(e,t.payload)}),N()(ce,p.n,function(e,t){return G()(e,t.payload)}),N()(ce,p.h,function(e,t){return G()(e,t.payload)}),N()(ce,ie.a.SUCCESS,function(e,t){return ye(e,t)}),ce),ye=function(e,t){return fe(fe({},e),{},{apiConfig:fe(fe({},null===e||void 0===e?void 0:e.apiConfig),{},{config:t.payload})})},Se=Object(c.combineReducers)({configInitComplete:re,refresh:Q,TDCS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=ge[t.type];return n?n(e,t):e},apiConfig:de,data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,n=be[t.type];return n?n(e,t):e}}),we=n("u+oy");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ce={},$e=N()({},we.a,function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t.payload)}),Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=$e[t.type];return n?n(e,t):e},Oe=n("/qPr");function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pe,Ie={id:null,osVersion:null,deviceType:null},xe=N()({},Oe.a,function(e,t){return Ae(Ae({},e),t.payload)}),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=xe[t.type];return n?n(e,t):e},De=n("4KH4"),Re=n.n(De),je=n("EyQl"),Ne=n.n(je),Me=n("1DYX"),Ve=n.n(Me);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}try{var Ue=JSON.parse(window.atob("W3siY29tbW9uIjp7ImVudiI6InByb2R1Y3Rpb24iLCJsYWJlbCI6InByb2R1Y3Rpb24iLCJwaUhvc3QiOiJodHRwczovL2FwaS5zcGVjdHJ1bS5uZXQiLCJhbmFseXRpY3MiOnsiZW5kcG9pbnQiOiJodHRwczovL2NvbGxlY3Rvci5waS5zcGVjdHJ1bS5uZXQvYXBpL2NvbGxlY3Rvcj9idWxrPXRydWUifSwiZGlzcGxheVJhd1JlbnRFcnJvciI6ZmFsc2UsIkxBVXJsc0lyZGV0byI6eyJ3aWRldmluZSI6Imh0dHBzOi8vc3BlY3RydW0tY2hhcnRlci5saXZlLm90dC5pcmRldG8uY29tL2xpY2Vuc2VTZXJ2ZXIvd2lkZXZpbmUvdjEvdHdjL2xpY2Vuc2UiLCJwbGF5cmVhZHkiOiJodHRwczovL3NwZWN0cnVtLWNoYXJ0ZXIubGl2ZS5vdHQuaXJkZXRvLmNvbS9saWNlbnNlU2VydmVyL3BsYXlyZWFkeS92MS90d2MvbGljZW5zZSIsImZhaXJwbGF5Q2VydGlmaWNhdGVVUkwiOiJodHRwczovL3NwZWN0cnVtLWNoYXJ0ZXIubGl2ZS5vdHQuaXJkZXRvLmNvbS9saWNlbnNlU2VydmVyL3N0cmVhbWluZy92MS90d2MvZ2V0Y2VydGlmaWNhdGU/YXBwbGljYXRpb25JZD1jaGFydGVyIiwiZmFpcnBsYXkiOiIifSwiTEFVcmxzIjp7IndpZGV2aW5lIjoiaHR0cHM6Ly9jaGFydGVyYWUuc3RhZ2Uub3R0LmlyZGV0by5jb20vd2lkZXZpbmUvZ2V0bGljZW5zZSIsInBsYXlyZWFkeSI6Imh0dHBzOi8vY2hhcnRlcmFlLnN0YWdlLm90dC5pcmRldG8uY29tL3BsYXlyZWFkeS9yaWdodHNtYW5hZ2VyLmFzbXgiLCJmYWlycGxheUNlcnRpZmljYXRlVVJMIjoiaHR0cHM6Ly90d2MubGl2ZS5vdHQuaXJkZXRvLmNvbS9zdHJlYW1pbmcvZ2V0Y2VydGlmaWNhdGU/YXBwbGljYXRpb25JZD1jaGFydGVyIiwiZmFpcnBsYXkiOiIifX0sIk9ORUFQUC1PVlAiOnsib0F1dGgiOnsiY29uc3VtZXJLZXkiOiJsN3h4NjYwMjVmN2Q0ZjQ2NDZiMGIxY2RmMjRhODQ2Y2UxYTgiLCJzIjoiV1RKS2FVMHlWWGRPUjBsNlRXMUpNMDVFV1RWTlYwa3pUWHBuZUU5RVJtMWFSMDAxVGtSUk1GcFVXVDA9In19LCJUVlNBLU9WUCI6eyJvQXV0aCI6eyJjb25zdW1lcktleSI6Ijk1ZWRmYTM4LWNiZjctNGZiYi1iYjMzLWI2YmFhOWE0OGEzYSIsInMiOiJWVVU1TUdFd2VERlBWRUY0VDFac2VrNUhTbmRrVVQwOSJ9fX1d"));Pe=Ve()(Ne()(function(e){return N()({},e.common.env,e)}),Re.a)(Ue)}catch(e){console.error("Problem while trying to decode / parse environments. Check value exported into environments reducer defaults",e)}var Be,We={error:!1,currentEnvName:"production",data:Pe},He=N()({},he.a.SUCCESS,function(e,t){return Fe(Fe({},e),{},{currentEnvName:t.payload})}),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,n=He[t.type];return n?n(e,t):e},qe=n("KvKZ");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ke={inProgress:!1,errorObj:null,data:{}};[{name:"Schedule Recording Failed 400",header:"Unable to Schedule Recording",status:"active",altText:null,full_error_code:"WCM-1400",full_customer_message:"We're sorry, we were unable to schedule a recording of {{TITLE}}. Please try again later."},{name:"NoOPConstraintInPixelConstraints",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3371",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"DomainTokenInvalid",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3351",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"channel unavailable on dvr",header:"Unable to Record",status:"active",altText:null,full_error_code:"WRDV-1004",full_customer_message:"We're sorry, this channel is unavailable on this DVR. Please try again on a different device.\r\n\r\nReference Code: WRDV-1004"},{name:"NeedAuthentication",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3330",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"WrongLicenseKey",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3308",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Unable to Load Watch Later List",header:"Watchlist Unavailable",status:"active",altText:null,full_error_code:"WWL-1002",full_customer_message:"We're sorry, we're unable to display your Watchlist. Please try again later."},{name:"Buyflow API - Invalid Account",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2005",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Not a DVR",header:"DVR Unavailable",status:"active",altText:null,full_error_code:"WCM-1007",full_customer_message:"The Spectrum Receiver you selected doesn't have a DVR. Please select another device."},{name:"Stream Initialization Timeout",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WVP-999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"needReloadFailure",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WFE-1113",full_customer_message:"We're sorry, something didn't work quite right. Please try again."},{name:"No Video Package / Stream",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WEN-1022",full_customer_message:"We're sorry, we're having trouble verifying your subscription. To continue, please call us at (855) 757-7328."},{name:"NoACPProtectionAvailable",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3358",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Resolution Not Supported",header:"Resolution Unsupported",status:"active",altText:null,full_error_code:"WFE-1004",full_customer_message:"This app requires a screen resolution of 1024 x 768 pixels.<br><br> Some features might be unavailable for your screen resolution."},{name:"DIA Manifest Parse Error",header:null,status:"active",altText:null,full_error_code:"WDAI-1000",full_customer_message:""},{name:"AAXS_LoadAdobeCPFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3317",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Internal Error",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3343",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"unable to delete - title unavailable",header:"Unable to Delete Recording",status:"active",altText:null,full_error_code:"WRDV-1011",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\nReference Code: WRDV-1011"},{name:"Unable to Delete Recordings",header:"Unable to Delete Recording",status:"active",altText:null,full_error_code:"WCD-1012",full_customer_message:"Were sorry, we were unable to delete your recording. Please try again later."},{name:"Stream Initialization Timeout",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WRP-999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Unable to Delete Recordings",header:"Unable to Delete Recordings",status:"active",altText:null,full_error_code:"WCM-1012",full_customer_message:"Were sorry, we were unable to delete your recordings. Please try again later."},{name:"InvalidRuntimePlatform",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3336",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Video playback/ disconnect notification",header:null,status:"active",altText:null,full_error_code:"WCF-1103",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\n\nReference Code: WCF-1103"},{name:"Title Unavailable OOH",header:"Connect to Spectrum Internet",status:"active",altText:null,full_error_code:"WLC-1012",full_customer_message:"Available only when connected to your home Spectrum Internet service."},{name:"Multiple Recordings Already Deleted",header:"Already Deleted",status:"active",altText:null,full_error_code:"WCM-2404",full_customer_message:"You've already deleted these recordings. It may take a few minutes for the app to update."},{name:"show/title unavailable to record",header:"Unable to Record",status:"active",altText:null,full_error_code:"WRDV-1005",full_customer_message:"We're sorry, this title is unavailable. Please try again later.\r\n\r\nReference Code: WRDV-1005"},{name:"ResolutionLargerThanMaxResolution",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3372",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"BuyFlow API - TransactionID header missing",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2004",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"CorruptedAdditionalHeader",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3309",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"InternalFailure",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3307",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"ApplicationSpecificError",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3329",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Pin Creation Error",header:"Please Try Again",status:"active",altText:null,full_error_code:"WPC-1003",full_customer_message:"We're sorry, we were unable to create your PIN. Please try again."},{name:"BuyFlow API - Account ID Missing",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2001",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Sign Out Failure",header:"Unable to Sign Out",status:"active",altText:null,full_error_code:"WLI-1032",full_customer_message:"We're sorry, we couldn't sign you out. Please try again."},{name:"Channel Not Available Outside Home",header:"Channel Unavailable",status:"active",altText:null,full_error_code:"WLC-1000",full_customer_message:"To watch live TV, please connect to your home Spectrum Internet service."},{name:"STB retrieval failure",header:"Info Unavailable",status:"active",altText:null,full_error_code:"WCM-1501",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"dvr.myRecordings.delete.partialFailure",header:"Unable to Delete",status:"active",altText:null,full_error_code:"WCM-2406",full_customer_message:"We're sorry, we couldn't delete your selection because playback is in progress. Please try again later."},{name:"No Timeblocks",header:"Set Time Blocks",status:"active",altText:null,full_error_code:"WCM-1025",full_customer_message:"You haven't set any Time Blocks yet."},{name:"IncognitoModeNotAllowed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3365",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"MissingAdobeCPModule",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3344",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"CorruptGlobalStateStore",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3323",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"UnknownConnectionType",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3338",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Unable to Set Up",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WEA-1000",full_customer_message:"We're sorry, we were unable to set up the Emergency Alert System. Please try again later."},{name:"DVR Unreachable",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WCM-1008",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"NoValidEmbeddedLicense",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3357",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"unable to delete recording",header:"Unable to Delete Recording",status:"active",altText:null,full_error_code:"WRDV-1012",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\n\r\n\r\nReference Code: WRDV-1012"},{name:"BuyFlow Ineligible - Other",header:"Call to Subscribe",status:"active",altText:"Please call us to verify your account and subscribe to Spectrum TV.  ",full_error_code:"WBF-1003",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n\nReference Code:"},{name:"CDVR Recording List unavailable",header:"Recordings Unavailable",status:"active",altText:null,full_error_code:"WCD-1006",full_customer_message:"We're sorry, we're unable to display your recordings. Please try again later."},{name:"Stream Initialization Timeout",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WLP-999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Stream URL Fetch Failure",header:"Service Unavailable",status:"active",altText:"The episode, series, or movie is not currently available. Ask the user to try a different asset, or try again later.",full_error_code:"WVP-1035",full_customer_message:"We're sorry, {{PRM}} is currently unavailable. Please try again later."},{name:"DVR Setting Unavailable",header:"Settings Unavailable",status:"active",altText:null,full_error_code:"WCM-1023",full_customer_message:"We're sorry, these preferences can be set only from your Spectrum Receiver."},{name:"Scheduled Recording List Unavailable",header:"Unable to Display Recordings",status:"active",altText:null,full_error_code:"WCM-1009",full_customer_message:"We're sorry, we were unable to display your scheduled recordings. Please try again later."},{name:"Buyflow API - Invalid Billing Division",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2006",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"InvalidVoucher",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3300",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Already Scheduled 439",header:"Already Scheduled",status:"active",altText:null,full_error_code:"WCM-1439",full_customer_message:"You've already scheduled this recording. It may take a few minutes for the app to update."},{name:"NoCorrespondingRoot",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3356",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"NoDigitalProtectionAvail",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3342",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"No DVRs",header:"Devices Unavailable",status:"active",altText:null,full_error_code:"WCM-1005",full_customer_message:"There are no DVRs associated with this account."},{name:"liveTvUnavailableBST",header:"Live Streaming Unavailable",status:"active",altText:null,full_error_code:"WUC-1112",full_customer_message:"Live TV streaming is currently unavailable in your area on this device. Please select On Demand to browse available programming."},{name:"Show Blocked By Parental Controls",header:"Parental Controls",status:"active",altText:null,full_error_code:"WPC-1000",full_customer_message:"This show is blocked by Parental Controls."},{name:"Non Entitled Asset",header:"Call to Upgrade",status:"active",altText:null,full_error_code:"WEN-1004",full_customer_message:"Your current subscription doesn't include this title. Please give us a call at {{IVR_NUMBER}} to upgrade."},{name:"IncompatibleAdobeCPVersion",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3318",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"ClientUpdateRequired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3306",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Asset Out of Window",header:"Title Unavailable",status:"active",altText:null,full_error_code:"WGU-1004",full_customer_message:"We're sorry, this title is currently unavailable. Please try again later."},{name:"non-video customer",header:"Welcome to Spectrum TV",status:"active",altText:null,full_error_code:"WUC-1004",full_customer_message:"Subscribe to start watching Live TV and thousands of free On Demand titles on your favorite devices.\r\n\r\nReference Code:"},{name:"ServerVersionTooHigh",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3349",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"already canceled",header:"Already Canceled",status:"active",altText:null,full_error_code:"WRDV-1014",full_customer_message:"You've already canceled this recording. It may take a few minutes for the app to update. \r\n\r\n\r\n\r\nReference Code: WRDV-1014"},{name:"AppIDMismatch",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3310",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"BuyFlow Ineligible - OOH",header:"Connect to Spectrum Internet",status:"active",altText:"Please connect to your home Spectrum Internet service to subscribe.",full_error_code:"WBF-1002",full_customer_message:"Please connect to your home Spectrum Internet service to subscribe.\n\nReference Code:\n\n"},{name:"STB Tune Failure",header:"Unable to Tune to Channel",status:"active",altText:null,full_error_code:"WCM-1000",full_customer_message:"We're sorry, we're unable to tune your TV to this channel. Please try again later."},{name:"maximum streaming sessions",header:"Maximum Streaming Sessions",status:"active",altText:null,full_error_code:"WCD-1009",full_customer_message:"Youve exceeded the maximum number of streaming sessions.\n\nTo watch this program, sign out of one of your other sessions, and then try again.\n\nReference Code:"},{name:"Max Time Blocks",header:"Maximum Time Blocks Set",status:"active",altText:null,full_error_code:"WCM-1026",full_customer_message:"You can set a maximum of 8 Time Blocks. <br/>Please delete one to add another."},{name:"No Network Schedule",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WGU-1001",full_customer_message:"We're sorry, we're unable to display the network schedule. Please try again later."},{name:"Select DVR",header:"Select DVR",status:"active",altText:null,full_error_code:"WCM-1006",full_customer_message:"The Spectrum TV App isn't connected to a DVR. If you have DVR service on your account, select your DVR from the list of devices on your account."},{name:"Invalid Credentials",header:"Unable to Sign In",status:"active",altText:null,full_error_code:"WLI-1010",full_customer_message:"The info you entered doesn't match our records. Please try again."},{name:"ContentNotYetValid",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3331",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Flash Upgraded Error",header:"Unable to Play Video",status:"active",altText:null,full_error_code:"WFE-1114",full_customer_message:"We're sorry, we couldn't play your selection. Please restart your browser, then try again."},{name:"ServerVersionTooLow",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3350",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"MissingAdobeCPGetAPI",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3319",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Subscription Required",header:"Subscription Required",status:"active",altText:null,full_error_code:"WLI-1012",full_customer_message:"Use of this app requires a Spectrum TV subscription. Reference Code: WLI-1012"},{name:"Login Blacklist",header:"Reset Your Password",status:"active",altText:null,full_error_code:"WLI-1024",full_customer_message:"We're sorry, we're unable to sign you in with the info you provided. To retrieve your username or reset your password, please visit www.spectrum.net/forgot."},{name:"HDCPOutputRestricted",header:"HDCP Output Restricted",status:"active",altText:null,full_error_code:"WVP-3036",full_customer_message:"Content cannot be played back because the output is restricted on this machine."},{name:"MachineTokenInvalid",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3324",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Unable to Clear History",header:"Unable to Clear History",status:"active",altText:null,full_error_code:"WVH-1000",full_customer_message:"We're sorry, we were unable to clear your history. Please try again later."},{name:"InvalidRuntimeVersion",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3337",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"ServerConnectionFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3305",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\n\nReference Code:"},{name:"Buyflow - Generic Issue",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-9000",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"myRecordings playback failure",header:"Unable to Play on TV",status:"active",altText:null,full_error_code:"WCM-1603",full_customer_message:"We're sorry, we're unable to play this recording on TV. Please try again later."},{name:"AuthenticationFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3301",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"unable to cancel recording",header:"Unable to Cancel Recording",status:"active",altText:null,full_error_code:"WRDV-1013",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\nReference Code: WRDV-1013"},{name:"Channel Not Available",header:"Channel Unavailable",status:"active",altText:null,full_error_code:"WCH-1000",full_customer_message:"We're sorry, channel {{CHANNEL}} is unavailable. Please try again later."},{name:"DRM Session Failure",header:"Service Unavailable",status:"active",altText:"The episode, series, or movie is not currently available. Ask the user to try a different asset, or try again later.",full_error_code:"WLP-1025",full_customer_message:"We're sorry, {{PRM}} is currently unavailable. Please try again later."},{name:"Capabilities Http Error",header:"Service Temporarily Unavailable",status:"active",altText:null,full_error_code:"WUC-1002",full_customer_message:"Were sorry, were having trouble loading Spectrum TV. Please wait a few moments and try again.\n\nReference Code:"},{name:"DisplayResolutionLargerThanConstrain",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3373",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"CorruptServerStateStore",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3325",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Buyflow - General Timeout",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-999",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Rent Error Default",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WTX-9000",full_customer_message:"We're sorry, we were unable to complete your request. Please try again later."},{name:"DomainJoinFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3355",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"NotRegisteredToDomain",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3361",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"NoAnalogProtectionAvail",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3340",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"unable to cancel - title unavailable",header:"Unable to Cancel Recording",status:"active",altText:null,full_error_code:"WRDV-1015",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\n\r\n\r\nReference Code: WRDV-1015"},{name:"HostFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3320",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Stream Service Failed",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WVS-1003",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Generic Search Error",header:null,status:"active",altText:null,full_error_code:"WSE-9000",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Stream Buffer TImeout",header:"Unable to Complete Request.",status:"active",altText:null,full_error_code:"WRP-1999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Not Entitled Network",header:"Call to Upgrade",status:"active",altText:"",full_error_code:"WEN-1000",full_customer_message:"Your current subscription doesn't include this channel. Please call us at {{IVR_NUMBER}} to upgrade."},{name:"Unable to Resolve Conflicts",header:"Unable to Resolve Conflicts",status:"active",altText:null,full_error_code:"WCM-1016",full_customer_message:"We're sorry, we couldn't resolve your recording conflicts. Please try again."},{name:"no buyflow ooh",header:"Connect to Spectrum Internet",status:"active",altText:null,full_error_code:"WLC-1003",full_customer_message:"Please connect to your home Spectrum Internet service to subscribe.\r\n\r\nReference Code:"},{name:"Username Locked",header:"Please Try Again Later",status:"active",altText:null,full_error_code:"WLI-1025",full_customer_message:"You've exceeded the maximum number of sign-in attempts. Please try again in 15 minutes."},{name:"Buyflow Ineligible - Employee, MDU, SMB, Legacy",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2101",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Generic Oauth Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WLI-9000",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Favorites Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WFV-1001",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"RequireSSL",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3302",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"UserSettingsNoAccess",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3368",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"ClockTamperingDetected",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3327",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"DomainTokenExpired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3354",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Recording Failed",header:"Unable to Schedule Recording",status:"active",altText:null,full_error_code:"WCM-1502",full_customer_message:"We're sorry, we were unable to schedule this recording. Please try again later."},{name:"LicenseIntegrity",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3312",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"BadSignature",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3367",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"unable to schedule recording",header:"Unable to Schedule Recording",status:"active",altText:null,full_error_code:"WRDV-1001",full_customer_message:"We're sorry, we were unable to schedule a recording for {{TITLE}}. Please try again later.\r\n\r\nReference Code: WRDV-1001"},{name:"recorded list unavailable",header:"Recordings Unavailable",status:"active",altText:null,full_error_code:"WRDV-1000",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\nReference Code: WRDV-1000"},{name:"Stream URL Fetch Failure",header:"Service Unavailable",status:"active",altText:"The episode, series, or movie is not currently available. Ask the user to try a different asset, or try again later.",full_error_code:"WLP-1035",full_customer_message:"We're sorry, {{PRM}} is currently unavailable. Please try again later."},{name:"BuyFlow API - App ID Header Missing",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2002",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Title Not Available",header:"Program Unavailable",status:"active",altText:null,full_error_code:"WGU-1002",full_customer_message:"We're sorry, this program is no longer available."},{name:"Cancel Recording Failed",header:"Unable to Cancel Recording",status:"active",altText:null,full_error_code:"WCM-1003",full_customer_message:"We're sorry, we were unable to cancel some recordings. Please try again later."},{name:"Rental Error 451",header:"Purchase Incomplete",status:"active",altText:null,full_error_code:"WRN-1451",full_customer_message:"We're sorry, we were unable to complete your purchase and you weren't charged. To continue, please call us at (855) 757-7328."},{name:"Video Idle Pause",header:"Playback Stopped",status:"active",altText:null,full_error_code:"WVP-1000",full_customer_message:"We waited, but had to end playback due to inactivity. Select OK to resume."},{name:"InvalidDRMPlatform",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3334",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Missing Guide Data",header:"Data Unavailable",status:"active",altText:null,full_error_code:"WGU-1009",full_customer_message:"We're sorry, we're unable to display Guide data. Please try again later."},{name:"RC_AUTO_ACCESS_FAILURE (1028)",header:"",status:"active",altText:null,full_error_code:"WLI-1028",full_customer_message:""},{name:"Buyflow Ineligible - Account has Video",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2100",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Rental Error 404",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WRN-1404",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Stream Buffer Timeout",header:"Unable to Complete Request.",status:"active",altText:null,full_error_code:"WVP-1999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Server timeout on oAuth",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WLI-9001",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"NoDigitalPlaybackAllowed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3341",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"OperationTimeoutError",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3362",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"DRM Session Failure",header:"Service Unavailable",status:"active",altText:"The episode, series, or movie is not currently available. Ask the user to try a different asset, or try again later.",full_error_code:"WVP-1025",full_customer_message:"We're sorry, {{PRM}} is currently unavailable. Please try again later."},{name:"OOH Tooltip",header:"We See You're Away From Home",status:"active",altText:null,full_error_code:"WLC-1005",full_customer_message:"You can watch some channels when disconnected from your home Spectrum Internet service, but you'll have full access after you reconnect."},{name:"already deleted",header:"Already Deleted",status:"active",altText:null,full_error_code:"WRDV-1008",full_customer_message:"You've already deleted this recording. It may take a few minutes for the app to update. \r\n\r\n\r\n\r\nReference Code: WRDV-1008"},{name:"DomainRegistrationRequired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3360",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"idle check",header:"Still There? ",status:"active",altText:null,full_error_code:"WVP-1003",full_customer_message:"Do you want to keep watching? \r\n\r\nReference Code:"},{name:"Rename Not supported",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WCM-1010",full_customer_message:"We're sorry, renaming is unavailable for this device."},{name:"StoreTamperingDetected",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3326",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"AuthorizationFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3304",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"unable to delete",header:"Unable to Delete Recording",status:"active",altText:null,full_error_code:"WRDV-1007",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\nReference Code: WRDV-1007"},{name:"DVR Manager Unavailable",header:"DVR Manager Unavailable",status:"active",altText:null,full_error_code:"WCM-9000",full_customer_message:"We're sorry, we're unable to display your DVR manager. Please try again later."},{name:"STB Offline",header:"{{STB_NICK}} Offline",status:"active",altText:null,full_error_code:"WCM-1002",full_customer_message:"We're sorry, your DVR appears to be offline."},{name:"Play Channel Failure",header:"Channel Unavailable",status:"active",altText:null,full_error_code:"WVS-1001",full_customer_message:"We're sorry, channel {{CHANNEL}} is unavailable. Please try again later."},{name:"HardStopIntervalExpired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3348",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"No Favorites",header:"You Haven't Set Favorites Yet",status:"active",altText:null,full_error_code:"WFV-1000",full_customer_message:"You haven't set any favorite channels. To set favorites, visit  Settings > Favorites. Or, you can select the channel logo in the Guide."},{name:"ClientCommProcessFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3374",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Unable to Cast",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WRP-1001",full_customer_message:"We're sorry, casting is unavailable for recordings at this time."},{name:"Send To TV VOD Faillure",header:"Unable to Send to TV",status:"active",altText:null,full_error_code:"WCM-1001",full_customer_message:"We're sorry, we were unable to send {{TITLE}} to your TV on {{STB}}. Please try again later."},{name:"Generic Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WGE-1001",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"unsubscribed",header:"Upgrade to Watch",status:"active",altText:null,full_error_code:"WRDV-1002",full_customer_message:"Your current subscription doesn't include this channel. Please call us at (866) 892-1235 to upgrade.\r\n\r\nReference Code: WRDV-1002"},{name:"STB Rename Failure",header:"Unable to Rename",status:"active",altText:null,full_error_code:"WCM-1004",full_customer_message:"We're sorry, we were unable to rename the device. Please try again later."},{name:"InterfaceNotAvailable",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3369",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Buyflow API Error - OTTO Generic ",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2512",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Chromecast failure to connect",header:"Unable to Connect",status:"active",altText:null,full_error_code:"WFE-1101",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\n\nReference Code: WFE-1101"},{name:"CachedLicenseExpired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3332",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"DVR Storage Full",header:"DVR Storage Full",status:"active",altText:null,full_error_code:"WCD-1008",full_customer_message:"Please free up space to make room for your scheduled recordings."},{name:"WriteMicrosafeFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3313",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"BuyFlow API - Billing Division Missing",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2003",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Watchlist Remove Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WWL-1001",full_customer_message:"We're sorry, we couldn't remove this program from your Watchlist. Please try again later."},{name:"CDVR_ERROR_RECORDING_PLAYBACK_FAIL",header:"Recording Unavailable",status:"active",altText:null,full_error_code:"WCD-1004",full_customer_message:"We're sorry, we're unable to play your selection. Please try again later."},{name:"unable to delete - playback in progress",header:"Unable to Delete Recording",status:"active",altText:null,full_error_code:"WRDV-1010",full_customer_message:"We're sorry, we're unable to delete this recording because playback is in progress on another device. Please try again later.\r\n\r\nReference Code: WRDV- 1010"},{name:"BadParameter",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3366",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"mixed stb",header:"DVR Info Unavailable on This Device",status:"active",altText:null,full_error_code:"WRDV-1009",full_customer_message:"Please view and manage these recordings from your Spectrum receiver.\r\n\r\nReference Code:"},{name:"Incorrect Pin Reset Password",header:"Please Try Again",status:"active",altText:null,full_error_code:"WPC-1001",full_customer_message:"The password you entered doesn't match our records. Please try again."},{name:"DeviceBindingFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3322",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"UnsupportedIOSPlaylistError",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3363",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Watchlist Add Error",header:"Unable to Add to Watchlist",status:"active",altText:null,full_error_code:"WWL-1000",full_customer_message:"We're sorry, we couldn't add this title to your Watchlist. Please try again later."},{name:"InvalidDRMVersion",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3335",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"CorruptedDRMMetadata",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3314",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Internal Provider Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WLI-1100",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Buyflow Ineligible - Inactive Acct",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2104",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"DVR Already Cancelled 404",header:"Already Canceled",status:"active",altText:null,full_error_code:"WCM-1404",full_customer_message:"You've already canceled this recording. It may take a few minutes for the app to update."},{name:"Away from Home",header:"We See You're Away From Home",status:"active",altText:null,full_error_code:"WLC-1006",full_customer_message:"You can watch some channels when disconnected from your home Spectrum Internet service, but you'll have full access after you reconnect."},{name:"Cancel Recording Failed",header:"Unable to Cancel Recording",status:"active",altText:null,full_error_code:"WCD-1003",full_customer_message:"Were sorry, we were unable to cancel your recording. Please try again later."},{name:"Buyflow Ineligible - API Failure",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2200",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"No Internet Connection",header:"Check Connection",status:"active",altText:null,full_error_code:"WFE-1104",full_customer_message:"We're sorry, something didn't work quite right. Please check your internet connection and try again."},{name:"existing video subscriber failed entitlements ",header:"Please Sign In",status:"active",altText:null,full_error_code:"WUC-1003",full_customer_message:"We're sorry, something didn't work quite right. Please sign in to watch TV. "},{name:"Parental Controls Unavailable",header:"Parental Controls Unavailable",status:"active",altText:null,full_error_code:"WPC-1005",full_customer_message:"We're sorry, Parental Controls are currently unavailable. Please try again later."},{name:"Behind Modem Service Error",header:"Unable to Complete Request",status:"active",altText:null,full_error_code:"WLC-1001",full_customer_message:"We're sorry, something didn't work quite right. Please restart the app and try again."},{name:"NoCGSMAProtectionAvailable",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3359",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Concurrent Stream Limit",header:"Maximum Streaming Sessions",status:"active",altText:null,full_error_code:"WVS-1005",full_customer_message:"Youve exceeded the maximum number of streaming sessions.\n\nTo watch this program, sign out of one of your other sessions, and then try again.\n\nReference Code:"},{name:"Migration failed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3346",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"ContentExpired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3303",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"DomainTokenTooNew",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3353",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Auto Access Failure 1027",header:null,status:"active",altText:null,full_error_code:"WLI-1027",full_customer_message:""},{name:"No Guide",header:"Guide Unavailable",status:"active",altText:null,full_error_code:"WGU-1000",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Application Crash",header:null,status:"active",altText:null,full_error_code:"WCR-1000",full_customer_message:""},{name:"Chromecast disconnected",header:"Unable to Connect ",status:"active",altText:null,full_error_code:"WFE-1102",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\n\nReference Code: WFE-1102"},{name:"unable to cancel recording",header:"Unable to Cancel Recording",status:"active",altText:null,full_error_code:"WRDV-1016",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\r\n\r\n\r\n\r\nReference Code: WRDV-1016"},{name:"CDVR_ERROR_RECORDING_PLAYBACK_INPROGRESS_FAIL",header:"Recording Unavailable",status:"active",altText:null,full_error_code:"WCD-1005",full_customer_message:"We're sorry, we're unable to play your selection. Please try again later."},{name:"DomainTokenTooOld",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3352",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"STB Settings Unavailable",header:"Unable to Connect",status:"active",altText:null,full_error_code:"WCM-1027",full_customer_message:"We're sorry, we couldn't connect to the Spectrum Receiver named {{STB}}. Please try again later."},{name:"I15nFailed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3321",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Sender notified of receiver playback failure",header:"Unable to Play",status:"active",altText:null,full_error_code:"WFE-1103",full_customer_message:"We're sorry, something didn't work quite right. Please try again later.\n\nReference Code: WFE-1103"},{name:"Multiple Recordings Cancel Fail",header:"Unable to Cancel Recordings",status:"active",altText:null,full_error_code:"WCM-2405",full_customer_message:"Some recordings could not be cancelled. Try again later."},{name:"ContentIdSettingsNoAccess",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3370",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"NoAnalogPlaybackAllowed",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3339",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"VPN Not Allowed",header:"Turn Off VPN",status:"active",altText:null,full_error_code:"WFE-1002",full_customer_message:"This app doesn't support VPN. Please turn off VPN in Settings, and then restart the app."},{name:"already scheduled",header:"Already Scheduled",status:"active",altText:null,full_error_code:"WRDV-1003",full_customer_message:"You've already scheduled this recording. It may take a few minutes for the app to update. \r\n\r\nReference Code: WRDV-1003"},{name:"InsufficientDeviceCapabilities",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3347",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Search - No Results",header:"No Results",status:"active",altText:null,full_error_code:"WSE-1000",full_customer_message:"We're sorry, we couldn't find any search results. Please try another search."},{name:"PlaybackWindowExpired",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3333",full_customer_message:"We're sorry, something didn't work quite right. Please try again."},{name:"NoDeviceId",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3364",full_customer_message:"Were sorry, something didnt work quite right. Please try again later."},{name:"Schedule Recording Failed 400",header:"Unable to Schedule Recording",status:"active",altText:null,full_error_code:"WCD-1400",full_customer_message:"We're sorry, we were unable to schedule your recording. Please try again later."},{name:"RC_PRIMARY_IDENTITY_CHANGED",header:null,status:"active",altText:null,full_error_code:"WLI-1031",full_customer_message:""},{name:"Buyflow API Error - ECP Generic",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2513",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"ServerErrorTryAgain",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3328",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Proxy Not Allowed",header:"Connect to Spectrum Internet",status:"active",altText:null,full_error_code:"WFE-1003",full_customer_message:"The program you requested is available only when connected to your home Spectrum Internet service."},{name:"Channel not included in subscription",header:"Upgrade to Watch",status:"active",altText:null,full_error_code:"WCM-1403",full_customer_message:"This channel isn't included in your current subscription. To watch this channel, please call us at (866) 892-1235."},{name:"DVR Storage Is Full",header:"Unable to Schedule Recording",status:"active",altText:null,full_error_code:"WCD-1007",full_customer_message:"You're out of storage space. To record this title, please delete one or more of your recordings."},{name:"Invalid Pin",header:"Please Try Again",status:"active",altText:null,full_error_code:"WPC-1006",full_customer_message:"The PIN you entered is incorrect."},{name:"PermissionDenied",header:"Video Unavailable",status:"active",altText:null,full_error_code:"WVP-3315",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Not Available outside US",header:"Programming Unavailable",status:"active",altText:null,full_error_code:"WLC-1002",full_customer_message:"Live TV and On Demand programming is available only in the U.S. and its territories."},{name:"Stream Buffer Timeout",header:"Unable to Complete Request.",status:"active",altText:null,full_error_code:"WLP-1999",full_customer_message:"We're sorry, something didn't work quite right. Please try again later."},{name:"Buyflow Ineligible- Delinquent",header:"Call to Subscribe",status:"active",altText:null,full_error_code:"WBF-2102",full_customer_message:"Please call us at (855) 243-8892 to verify your account and subscribe to Spectrum TV. \n Reference Code:"},{name:"Failed to update Priority",header:"Unable to Update Priority",status:"active",altText:null,full_error_code:"WCM-1013",full_customer_message:"We're sorry, we couldn't update your series priority. Please try again."}].forEach(function(e){Ke.data[e.full_error_code]={title:e.header,message:e.full_customer_message,alt:e.altText}});var Je,Qe=(Be={},N()(Be,qe.b,function(e){return Ye(Ye({},e),{},{inProgress:!0})}),N()(Be,qe.c,function(e,t){return Ye(Ye({},e),{},{inProgress:!1,data:t.payload})}),N()(Be,qe.a,function(e,t){return Ye(Ye({},e),{},{inProgress:!1,errorObj:t.payload})}),Be),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,n=Qe[t.type];return n?n(e,t):e},Ze=n("pQH6");function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nt,rt={data:{},sorts:[],filters:[],currentSort:null,currentFilter:null,filtersVisible:!1},it=(Je={},N()(Je,Ze.d,function(e,t){return tt(tt({},e),{},{data:t.payload})}),N()(Je,Ze.b,function(e,t){return tt(tt({},e),{},{currentSort:t.payload})}),N()(Je,Ze.a,function(e,t){return tt(tt({},e),{},{currentFilter:t.payload})}),N()(Je,Ze.e,function(e,t){return tt(tt({},e),{},{filters:t.payload})}),N()(Je,Ze.f,function(e,t){return tt(tt({},e),{},{sorts:t.payload})}),N()(Je,Ze.c,function(e,t){return tt(tt({},e),{},{filtersVisible:t.payload})}),Je),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0,n=it[t.type];return n?n(e,t):e},at=n("3pjS");function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var lt,ut={inProgress:null,error:{},data:[]},dt=(nt={},N()(nt,at.b,function(e){return ct(ct({},e),{},{inProgress:!0})}),N()(nt,at.c,function(e,t){return ct(ct({},e),{},{inProgress:!1,data:t.payload})}),N()(nt,at.a,function(e){return ct(ct({},e),{},{inProgress:!1})}),nt),pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,n=dt[t.type];return n?n(e,t):e};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ft,mt={showAutoPlayFailureUi:null,autoplayTooltipDismissed:!1},gt=(lt={},N()(lt,b.c,function(e,t){return vt(vt({},e),{},{showAutoPlayFailureUi:!0})}),N()(lt,b.b,function(e,t){return vt(vt({},e),{},{showAutoPlayFailureUi:!1})}),N()(lt,b.a,function(e){return vt(vt({},e),{},{autoplayTooltipDismissed:!0})}),lt),bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,n=gt[t.type];return n?n(e,t):e},yt=n("ZCGA");function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var kt,Ct={asset:{},playbackType:null,wasCasting:null},$t=(ft={},N()(ft,yt.b,function(e,t){return wt(wt({},e),{},{asset:t.payload.asset,playbackType:t.payload.playbackType})}),N()(ft,yt.a,function(e,t){return wt(wt({},e),{},{wasCasting:t.payload})}),ft),Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0,n=$t[t.type];return n?n(e,t):e},Ot=n("Erqy");function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pt,It={HDCPFailure:null,options:{}},xt=(kt={},N()(kt,Ot.c,function(e){return At(At({},e),{},{HDCPFailure:!1})}),N()(kt,Ot.d,function(e){return At(At({},e),{},{HDCPFailure:!0})}),N()(kt,Ot.a,function(e){return At(At({},e),{},{HDCPFailure:!1})}),N()(kt,Ot.b,function(e){return At(At({},e),{},{HDCPFailure:!0})}),N()(kt,Ot.e,function(e,t){return At(At({},e),{},{options:t.payload})}),kt),_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0,n=xt[t.type];return n?n(e,t):e},Dt=n("6wCY");function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Nt={},Mt=(Pt={},N()(Pt,Dt.a,function(e,t){return jt(jt({},e),{},{window:t.data})}),N()(Pt,Dt.c,function(e,t){return jt(jt({},e),{},{window:t.data})}),N()(Pt,Dt.b,function(){return Nt}),Pt),Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0,n=Mt[t.type];return n?n(e,t):e},Lt=n("PiYh");function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Bt={playerType:null};var Wt,Ht,Gt=Object(c.combineReducers)({autoplay:bt,currentAsset:Tt,streamInfo:_t,brokenStream:Vt,playerInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt.a:return Ut(Ut({},e),{},{playerType:t.payload.playerType});default:return e}}}),qt=n("RIqP"),zt=n.n(qt),Yt=n("J4qu");function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qt={inProgress:!1,error:null,data:[],matchingAutoTuneTmsGuideIds:[],entitledProductProviders:null,defaultChannel:{enabled:!1,hasSeenStartup:!1,strategy:void 0,tmsId:null}},Xt=(Wt={},N()(Wt,Yt.a.REQUEST,function(e){return Jt(Jt({},e),{},{inProgress:!0,data:[]})}),N()(Wt,Yt.a.SUCCESS,function(e,t){var n,r;return Jt(Jt({},e),{},{inProgress:!1,data:zt()(t.payload.channels),entitledProductProviders:null===(n=t.payload)||void 0===n?void 0:n.entitledProductProviders,matchingAutoTuneTmsGuideIds:(null===(r=t.payload)||void 0===r?void 0:r.matchingAutoTuneTmsGuideIds)?zt()(t.payload.matchingAutoTuneTmsGuideIds):e.matchingAutoTuneTmsGuideIds,error:null,defaultChannel:Jt(Jt({},e.defaultChannel),t.payload.defaultChannel)})}),N()(Wt,Yt.a.UPDATE_CHANNELS,function(e,t){return Jt(Jt({},e),{},{inProgress:!1,data:zt()(t.payload.channels),error:null})}),N()(Wt,Yt.a.FAILURE,function(e,t){return Jt(Jt({},e),{},{inProgress:!1,data:[],matchingAutoTuneTmsGuideIds:[],error:t.payload})}),N()(Wt,Yt.a.UPDATE_DEFAULT_CHANNEL,function(e,t){return Jt(Jt({},e),{},{defaultChannel:Jt(Jt({},e.defaultChannel),{},{tmsId:t.payload})})}),N()(Wt,Yt.a.UPDATE_DEFAULT_CHANNEL_ENABLED,function(e,t){return Jt(Jt({},e),{},{defaultChannel:Jt(Jt({},e.defaultChannel),{},{enabled:t.payload})})}),N()(Wt,Yt.a.UPDATE_HAS_SEEN_STARTUP,function(e,t){return Jt(Jt({},e),{},{defaultChannel:Jt(Jt({},e.defaultChannel),{},{hasSeenStartup:t.payload})})}),Wt),Zt={inProgress:!1,error:null},en=(Ht={},N()(Ht,Yt.b.REQUEST,function(e){return Jt(Jt({},e),{},{inProgress:!0,error:null})}),N()(Ht,Yt.b.FAILURE,function(e,t){return Jt(Jt({},e),{},{inProgress:!1,error:t.payload})}),Ht),tn=n("bqBb");function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var on={appLaunchTime:null},an=N()({},tn.a,function(e,t){return rn(rn({},e),{},{appLaunchTime:t.payload})}),sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0,n=an[t.type];return n?n(e,t):e};var cn,ln=n("Ut1j");function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pn,hn={started:null,error:null},vn=(cn={},N()(cn,ln.a,function(e,t){return dn(dn({},e),{},{error:t.error})}),N()(cn,ln.b,function(e){return dn(dn({},e),{},{started:!0})}),cn),fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,n=vn[t.type];return n?n(e,t):e},mn=n("BDR/");function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var yn,Sn={inProgress:!1,errorObj:null,data:null},wn=(pn={},N()(pn,mn.b,function(e){return bn(bn({},e),{},{inProgress:!0})}),N()(pn,mn.c,function(e,t){return bn(bn({},e),{},{inProgress:!1,data:t.payload})}),N()(pn,mn.a,function(e,t){return bn(bn({},e),{},{inProgress:!1,errorObj:t.payload})}),pn),kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0,n=wn[t.type];return n?n(e,t):e},Cn=n("gwmn");function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var On,En={inProgress:null,error:null,daysRemaining:null,hasShownFreePreviewModal:!1,data:null},An=(yn={},N()(yn,Cn.b,function(e,t){return Tn(Tn({},e),{},{inProgress:!0})}),N()(yn,Cn.a,function(e,t){return Tn(Tn({},e),{},{inProgress:!1,errorObj:t.error||{},data:null})}),N()(yn,Cn.c,function(e,t){return Tn(Tn({},e),{},{inProgress:!1,data:t.payload})}),N()(yn,Cn.e,function(e,t){return Tn(Tn({},e),{},{daysRemaining:t.payload})}),N()(yn,Cn.d,function(e,t){return Tn(Tn({},e),{},{hasShownFreePreviewModal:t.payload})}),yn),Pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0,n=An[t.type];return n?n(e,t):e},In=n("7w/W");function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Dn,Rn={inProgress:null,error:null,data:{}},jn=(On={},N()(On,In.a.REQUEST,function(e){return _n(_n({},e),{},{inProgress:!0})}),N()(On,In.a.SUCCESS,function(e,t){return _n(_n({},e),{},{inProgress:!1,data:t.payload})}),N()(On,In.a.FAILURE,function(e,t){return _n(_n({},e),{},{inProgress:!1,error:t.payload})}),On),Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0,n=jn[t.type];return n?n(e,t):e},Mn=(n("ma9I"),n("yXV3"),n("oqR8")),Vn=n.n(Mn),Ln=n("1XJp"),Fn=n("PRTD");function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wn,Hn={currentStep:0,selectedLevelOfService:null,selectedBaseOffer:null,extras:[],premiums:[],choiceNetworks:[],selectionsHash:""},Gn=(Dn={},N()(Dn,Ln.f,function(e,t){return Bn(Bn({},e),{},{currentStep:t.payload})}),N()(Dn,Ln.g,function(e,t){return Bn(Bn({},e),{},{selectedBaseOffer:t.payload})}),N()(Dn,Ln.h,function(e,t){return Bn(Bn({},e),{},{selectedLevelOfService:t.payload})}),N()(Dn,Ln.c,function(e){return Bn(Bn({},e),{},{currentStep:e.currentStep--})}),N()(Dn,Ln.b,function(e,t){var n,r=e,i=t.payload,o=i.buyflowAddOnType,a=i.id;return e[o]&&-1===(null===(n=e[o])||void 0===n?void 0:n.indexOf(a))&&(r=Bn(Bn({},e),{},N()({},o,[].concat(zt()(e[o]),[a])))),r}),N()(Dn,Ln.e,function(e,t){var n=e,r=t.payload,i=r.buyflowAddOnType,o=r.id;return e[i]&&(n=Bn(Bn({},e),{},N()({},i,Vn()(o,e[i])))),n}),N()(Dn,Ln.a,function(e,t){return Bn(Bn({},e),{},{choiceNetworks:[].concat(zt()(e.choiceNetworks),[t.payload])})}),N()(Dn,Ln.d,function(e,t){var n=e.choiceNetworks.filter(function(e){return t.payload.id!==e.id});return Bn(Bn({},e),{},{choiceNetworks:n})}),N()(Dn,Fn.updateBuyflowSelectionsHash,function(e,t){return Bn(Bn({},e),{},{selectionsHash:t.payload})}),Dn),qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn,t=arguments.length>1?arguments[1]:void 0,n=Gn[t.type];return n?n(e,t):e},zn=Object(c.combineReducers)({estimateTaxes:Fn.estimateTaxes,cart:qn,cms:Nn,currentPackage:Pn,offers:kn}),Yn=n("OvZ6");function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Qn,Xn={inProgress:!1,errorObj:null,data:null},Zn=(Wn={},N()(Wn,Yn.a.REQUEST,function(e){return Jn(Jn({},e),{},{inProgress:!0})}),N()(Wn,Yn.a.SUCCESS,function(e,t){return Jn(Jn({},e),{},{inProgress:!1,data:t.payload})}),N()(Wn,Yn.a.FAILURE,function(e,t){return Jn(Jn({},e),{},{inProgress:!1,errorObj:t.payload})}),Wn),er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0,n=Zn[t.type];return n?n(e,t):e},tr=n("X8yy");function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ir,or={inProgress:!1,errorObj:null,data:null},ar=(Qn={},N()(Qn,tr.a.REQUEST,function(e){return rr(rr({},e),{},{inProgress:!0})}),N()(Qn,tr.a.SUCCESS,function(e,t){return rr(rr({},e),{},{inProgress:!1,data:t.payload})}),N()(Qn,tr.a.FAILURE,function(e,t){return rr(rr({},e),{},{inProgress:!1,errorObj:t.payload})}),Qn),sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,n=ar[t.type];return n?n(e,t):e};function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ur={inProgress:!1,errorObj:null,data:null},dr=(ir={},N()(ir,m.a.REQUEST,function(e){return lr(lr({},e),{},{inProgress:!0})}),N()(ir,m.a.SUCCESS,function(e,t){return lr(lr({},e),{},{inProgress:!1,data:t.payload})}),N()(ir,m.a.FAILURE,function(e,t){return lr(lr({},e),{},{inProgress:!1,errorObj:t.payload})}),ir),pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0,n=dr[t.type];return n?n(e,t):e},hr=n("1jgP");function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var mr={message:""},gr=N()({},hr.a,function(e,t){return fr(fr({},e),{},{message:t.payload})}),br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=arguments.length>1?arguments[1]:void 0,n=gr[t.type];return n?n(e,t):e},yr=n("3bml"),Sr={name:void 0,idHash:void 0};var wr=n("t1SM");function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $r,Tr={},Or=N()({},wr.a,function(e,t){return Cr(Cr({},e),{},{screenSize:t.payload})}),Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr,t=arguments.length>1?arguments[1]:void 0,n=Or[t.type];return n?n(e,t):e};function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ir,xr,_r={inProgress:!1,error:null,data:{behindOwnModem:null,inUS:null,inUsOrTerritory:null,inHome:null,inMarket:null,ipAddress:null,applePrivateRelayIP:!1}},Dr=($r={},N()($r,g.a.REQUEST,function(e){return Pr(Pr({},e),{},{inProgress:!0})}),N()($r,g.a.SUCCESS,function(e,t){return Pr(Pr({},e),{},{inProgress:!1,data:t.payload,error:null})}),N()($r,g.a.FAILURE,function(e,t){return Pr(Pr({},e),{},{inProgress:!1,data:null,error:t.payload})}),N()($r,g.a.RESET,function(){return Pr({},_r)}),$r),Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_r,t=arguments.length>1?arguments[1]:void 0,n=Dr[t.type];return n?n(e,t):e},jr=n("SK8o"),Nr=n.n(jr),Mr=n("dfAx"),Vr=n("493X");function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ur,Br=["TV-Y","TV-Y7","TV-G","TV-PG","TV-14","TV-MA"],Wr=["G","PG","PG-13","R","NC-17","ADULT"],Hr=Mr.a.normalizeRating,Gr=Nr()(function(e,t){return Fr(Fr({},e),{},N()({},Hr(t),{rating:t,index:Object.keys(e).length}))},{}),qr=Gr(Br),zr=Object.keys(qr),Yr=Gr(Wr),Kr={inProgress:!1,errorObj:null,blockedRatings:null,TV_RATINGS:Br,MOVIE_RATINGS:Wr,NORMALIZED_TV_RATINGS:zr,NORMALIZED_MOVIE_RATINGS:Object.keys(Yr),TV_RATINGS_MAP:qr,MOVIE_RATINGS_MAP:Yr},Jr=(Ir={},N()(Ir,Vr.a.REQUEST,function(e){return Fr(Fr({},e),{},{inProgress:!0})}),N()(Ir,Vr.a.SUCCESS,function(e,t){return Fr(Fr({},e),{},{inProgress:!1,blockedRatings:t.payload})}),N()(Ir,Vr.a.ERROR,function(e,t){return Fr(Fr({},e),{},{inProgress:!1,errorObj:t.payload})}),Ir),Qr=(xr={},N()(xr,Vr.b.REQUEST,function(e){return Fr(Fr({},e),{},{inProgress:!0})}),N()(xr,Vr.b.SUCCESS,function(e){return Fr(Fr({},e),{},{inProgress:!1,errorObj:null})}),N()(xr,Vr.b.ERROR,function(e,t){return Fr(Fr({},e),{},{inProgress:!1,errorObj:t.payload})}),xr),Xr={inProgress:!1,errorObj:null},Zr=n("56rJ");function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ni,ri={connection:null,currentMedia:null,deviceInfo:null,error:null,castState:null,muted:null,pendingRequest:null,playerState:null,volume:null,initialized:!1},ii=(Ur={},N()(Ur,Zr.i.REQUEST,function(e,t){return ti(ti({},e),{},{pendingRequest:t.payload})}),N()(Ur,Zr.i.SUCCESS,function(e,t){return ti(ti({},e),{},{currentMedia:t.payload,pendingRequest:null,error:null})}),N()(Ur,Zr.i.FAILURE,function(e,t){return ti(ti({},e),{},{pendingRequest:null,currentMedia:null,error:t.payload})}),N()(Ur,Zr.a,function(e){return ti(ti({},e),{},{initialized:!0})}),N()(Ur,Zr.c,function(e,t){return ti(ti({},e),{},{connection:t.payload})}),N()(Ur,Zr.d,function(e,t){return ti(ti({},e),{},{deviceInfo:t.payload})}),N()(Ur,Zr.b,function(e,t){return ti(ti({},e),{},{castState:t.payload})}),N()(Ur,Zr.e,function(e,t){return ti(ti({},e),{},{currentMedia:t.payload,pendingRequest:null,error:null})}),N()(Ur,Zr.f,function(e,t){return ti(ti({},e),{},{muted:t.payload})}),N()(Ur,Zr.g,function(e,t){return ti(ti({},e),{},{playerState:t.payload})}),N()(Ur,Zr.h,function(e,t){return ti(ti({},e),{},{volume:t.payload})}),Ur),oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=arguments.length>1?arguments[1]:void 0,n=ii[t.type];return n?n(e,t):e},ai=n("l7a+");function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var li,ui={authDependenciesInitialized:!1,clientType:"ONEAPP-OVP"},di=(ni={},N()(ni,ai.a.AUTH_DEPENDENCIES_INITIALIZED,function(e){return ci(ci({},e),{authDependenciesInitialized:!0})}),N()(ni,ai.a.UPDATE_CLIENT_TYPE,function(e,t){return ci(ci({},e),{},{clientType:t.payload})}),ni),pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,t=arguments.length>1?arguments[1]:void 0,n=di[t.type];return n?n(e,t):e},hi=n("L2Gd");function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var mi={inProgress:!1,complete:!1,error:null},gi=(li={},N()(li,hi.a.REQUEST,function(e){return fi(fi({},e),{},{inProgress:!0,complete:!1,error:null})}),N()(li,hi.a.SUCCESS,function(e){return fi(fi({},e),{},{inProgress:!1,complete:!0,error:null})}),N()(li,hi.a.FAILURE,function(e,t){return fi(fi({},e),{},{inProgress:!1,complete:!1,error:t.payload})}),li),bi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi,t=arguments.length>1?arguments[1]:void 0,n=gi[t.type];return n?n(e,t):e},yi=n("aC7e"),Si=Object(yi.a)("APP_RATINGS");Si.UPDATE_PROMPT_READY_TO_SHOW="APP_RATINGS/UPDATE_PROMPT_READY_TO_SHOW",Si.updatePromptReadyToShow=function(e){return{type:Si.UPDATE_PROMPT_READY_TO_SHOW,payload:e}};var wi=Si;function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $i={promptReadyToShow:null},Ti=N()({},wi.UPDATE_PROMPT_READY_TO_SHOW,function(e,t){return Ci(Ci({},e),{},{promptReadyToShow:t.payload})}),Oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i,t=arguments.length>1?arguments[1]:void 0,n=Ti[t.type];return n?n(e,t):e},Ei=n("0v+u");function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ii={},xi=N()({},Ei.a,function(e,t){return Pi(Pi({},e),t.payload)}),_i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii,t=arguments.length>1?arguments[1]:void 0,n=xi[t.type];return n?n(e,t):e},Di=n("bzo1");function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ni={},Mi=N()({},Di.a,function(e,t){return ji(ji({},e),t.data)}),Vi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ni,t=arguments.length>1?arguments[1]:void 0,n=Mi[t.type];return n?n(e,t):e},Li=Object(c.combineReducers)({adBlockerStatus:Vi,analytics:fn,application:pi,appRatings:Oi,auth:W,bootstrap:bi,browser:Er,buyflow:zn,capabilities:er,cdvr:u.cdvrReducer,channels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0,n=Xt[t.type];return n?n(e,t):e},config:Se,chromecast:oi,deepLink:Te,device:_e,environment:Ge,errorCodes:Xe,favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0,n=en[t.type];return n?n(e,t):e},guide:ot,lastAction:function(e,t){return t},lineup:pr,location:Rr,mainMenuItems:pt,performance:sn,player:Gt,queryParams:_i,ratings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0,n=Jr[t.type];return n?n(e,t):e},timezone:sr,toast:br,updateRatings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments.length>1?arguments[1]:void 0,n=Qr[t.type];return n?n(e,t):e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yr.a:return G()(e,t.payload);default:return e}}}),Fi=n("4y+m"),Ui=n("B+El"),Bi=n("tTMH"),Wi=n("3BTi"),Hi=n("5rFJ"),Gi=n("/MNb"),qi=n("bjhx"),zi=n("eOGt"),Yi=o.a.mark(Zi),Ki=o.a.mark(eo);function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach(function(t){N()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xi="production";function Zi(){var e,t,n,r,i,a,s,c,l=arguments;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:Xi,o.next=3,Object(Hi.b)(qi.a,e);case 3:return t=o.sent,n=e===Xi?Xi:t,o.next=7,Object(Hi.g)(Gi.a);case 7:if(!(r=o.sent)){o.next=39;break}return o.next=11,Object(Hi.d)(he.a.request());case 11:if(!r[n]){o.next=34;break}return o.next=14,Object(Hi.b)(qi.b,n);case 14:return o.next=16,Object(Hi.d)(he.a.success(n));case 16:return o.next=18,Object(Hi.g)(Gi.c);case 18:return i=o.sent,o.next=21,Object(Hi.g)(zi.a);case 21:if(a=o.sent,!(s=i[a])){o.next=29;break}return c=Qi(Qi({},i.common),s),o.next=27,Object(Hi.d)(he.a.updateCurrentEnvironmentConfig(c));case 27:o.next=32;break;case 29:return console.error("No Envrionment config found for current clientType: ".concat(a)),o.next=32,Object(Hi.d)(he.a.failure());case 32:o.next=37;break;case 34:return console.error("Current environment not found in environment config : env name = "+n),o.next=37,Object(Hi.d)(he.a.failure());case 37:o.next=42;break;case 39:return console.warn("no exported environments in environments reducer defaults. env="+n,{defaultEnvName:e,envName:n,envData:r}),o.next=42,Object(Hi.d)(he.a.failure());case 42:case"end":return o.stop()}},Yi)}function eo(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hi.h)(he.a.TRIGGER);case 2:return e.next=4,Object(Hi.b)(Zi,"production");case 4:case"end":return e.stop()}},Ki)}var to=n("KYMe"),no=n("f8b+"),ro=n("Aa8z"),io=n("Qt34"),oo=o.a.mark(so),ao=o.a.mark(co);function so(){var e,t,n,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Hi.g)(io.e);case 2:return e=i.sent,i.next=5,Object(Hi.g)(io.c);case 5:return t=i.sent,i.next=8,Object(Hi.d)(ie.a.request());case 8:return i.prev=8,i.next=11,Object(Hi.b)(to.default.get,{url:e,withCredentials:!1,includeDeviceId:!1});case 11:if(n=i.sent,!((null===(r=n.data)||void 0===r?void 0:r.default)&&(null===r||void 0===r?void 0:r.services))){i.next=18;break}return i.next=16,Object(Hi.d)(ie.a.success(r));case 16:i.next=25;break;case 18:if(!t){i.next=23;break}return i.next=21,Object(Hi.d)(ie.a.success(t));case 21:i.next=25;break;case 23:return i.next=25,Object(Hi.d)(ie.a.failure({status:"invalidApiConfigResponse"}));case 25:i.next=36;break;case 27:if(i.prev=27,i.t0=i.catch(8),!t){i.next=34;break}return i.next=32,Object(Hi.d)(ie.a.success(t));case 32:i.next=36;break;case 34:return i.next=36,Object(Hi.d)(ie.a.failure({status:"apiError",error:i.t0}));case 36:case"end":return i.stop()}},oo,null,[[8,27]])}function co(){var e,t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Hi.h)(p.f);case 2:return n.next=4,Object(Hi.h)(p.l);case 4:return n.next=6,Object(Hi.g)(v.dg);case 6:return e=!n.sent,n.next=9,Object(Hi.b)(no.a.hasConfigOverride);case 9:if(t=n.sent,!e||!t){n.next=13;break}return n.next=13,Object(Hi.h)(p.i);case 13:return Object(ro.A)(),n.next=16,Object(Hi.g)(io.d);case 16:if(!n.sent){n.next=20;break}return n.next=20,Object(Hi.b)(so);case 20:case"end":return n.stop()}},ao)}var lo=n("25Ey"),uo=n("7FVJ"),po=n("p0Ps"),ho=(n("rB9j"),n("EnZy"),n("dKXy")),vo=(n("fbCW"),n("DQNa"),n("4l63"),n("JfAA"),n("YTiU")),fo=n("Dhhs"),mo=n("oRAM"),go=n("GUOU"),bo={CUSTOM_DATA_VERSION:"6"};function yo(e,t,n){if(e){var r=wo(n,t),i=new chrome.cast.media.MediaInfo(t,"video/mp4");return i.streamType=e,i.entity=function(e,t,n){var r,i,o,a;if(null===n||void 0===n?void 0:n.cdvrRecording)return null===(o=n.streamProperties)||void 0===o?void 0:null===(a=o.cdvrRecording)||void 0===a?void 0:a.playUrl;if(e===chrome.cast.media.StreamType.LIVE)return null===t||void 0===t?void 0:t.channel.streamUri;var s=Object(S.c)("$state");return"true"===s.params.trailer||"true"===s.params.seriesTrailer?null===n||void 0===n?void 0:null===(r=n.streamProperties)||void 0===r?void 0:r.ipvsTrailerUrl:null===n||void 0===n?void 0:null===(i=n.streamProperties)||void 0===i?void 0:i.mediaUrl}(e,n,r),i.customData=function(e,t,n,r){var i,o,a,s,c=!!(null===t||void 0===t?void 0:t.cdvrRecording),l=Object(go.a)(),u=(null!==(i=null===n||void 0===n?void 0:n.rating)&&void 0!==i?i:"").toString(),d=!!(null===t||void 0===t?void 0:null===(o=t.streamProperties)||void 0===o?void 0:null===(a=o.tricks_mode)||void 0===a?void 0:a.FASTFORWARD),p={version:bo.CUSTOM_DATA_VERSION,deviceId:l,deviceAdIdentifier:l,pcPin:no.a.getItem(mo.b.parentalControlsLocalPin),quantum:{closedCaptioningCapable:function(e,t,n){var r,i,o=wo(t,n),a=null!==(r=null===o||void 0===o?void 0:null===(i=o.streamProperties)||void 0===i?void 0:i.attributes)&&void 0!==r?r:[];return e===chrome.cast.media.StreamType.LIVE||a.indexOf("CLOSED_CAPTIONING")>-1}(e,n,r),contentClass:function(e,t,n){var r,i,o=wo(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!Co(o))return"linear";if(null===o||void 0===o?void 0:null===(r=o.streamProperties)||void 0===r?void 0:r.cdvrRecording)return"cdvr";var a=t.programType;if(!o)return;var s=o.streamProperties;i="Preview"===a&&["ONLINE_ONDEMAND","ONDEMAND"].indexOf(o.type)>=0?"extra":s.ondemandStreamType;return i.toLowerCase()}(e,n,r),contentFormat:function(e,t,n){var r,i,o=wo(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!Co(o))return t.channel.hd?"HD":"SD";return(null!==(r=null===o||void 0===o?void 0:null===(i=o.streamProperties)||void 0===i?void 0:i.attributes)&&void 0!==r?r:[]).indexOf("HIGH_DEF")>-1?"HD":"SD"}(e,n,r),contentIdentifier:r,referrerAppVisitId:O.a.get(E.d.VISIT_ID),referrerAppName:Go.getSelectorValue(fo.a),referrerAppType:Go.getSelectorValue(fo.b),referrerAppIsActive:!0,tmsProgramId:null===(s=n.tmsProgramIds)||void 0===s?void 0:s[0]},isCDVR:c,rating:u,seekDisabled:d};c?(p.quantum.recordingStartTimeSec=t.cdvrRecording.startTimeSec,p.quantum.recordingStopTimeSec=t.cdvrRecording.stopTimeSec):e===chrome.cast.media.StreamType.BUFFERED&&(p.quantum.expirationDate=function(e,t){var n,r=wo(e,t),i=null===r||void 0===r?void 0:null===(n=r.streamProperties)||void 0===n?void 0:n.endTime;return i?parseInt(i):null}(n,r),p.vodType=function(e){var t=Object(S.c)("$state");if("true"===t.params.trailer||"true"===t.params.seriesTrailer){var n=ko(e);return"MV"===n?"TRAILER":"SERIES_TRAILER"}return"STANDARD"}(n));return p}(e,r,n,t),i.metadata=function(e){var t,n,r,i,o,a,s,c=ko(e),l=e.imageUri().split("?")[0],u=e.networkImage(),d={episode:+(null===e||void 0===e?void 0:e.episode)||+(null===e||void 0===e?void 0:e.episodeNumber),episodeTitle:null!==(t=null!==(n=null===e||void 0===e?void 0:e.episodeTitle)&&void 0!==n?n:null===e||void 0===e?void 0:e.title)&&void 0!==t?t:"",images:[new chrome.cast.Image(l),new chrome.cast.Image(u)],originalAirDate:(null!==(r=null===e||void 0===e?void 0:e.originalAirDate)&&void 0!==r?r:"").toString(),releaseYear:(null!==(i=null===e||void 0===e?void 0:e.year)&&void 0!==i?i:"").toString(),season:+(null===e||void 0===e?void 0:e.season)||+e.seasonNumber,seriesTitle:null!==(o=null!==(a=null===e||void 0===e?void 0:e.seriesTitle)&&void 0!==a?a:null===e||void 0===e?void 0:e.title)&&void 0!==o?o:"",title:null!==(s=null===e||void 0===e?void 0:e.title)&&void 0!==s?s:""};return"MV"===c?function(e){var t=new chrome.cast.media.MovieMediaMetadata;return t.images=e.images,t.releaseDate=e.releaseYear,t.title=e.title,t}(d):function(e){var t=new chrome.cast.media.TvShowMediaMetadata;return t.episode=e.episode,t.images=e.images,t.originalAirdate=e.originalAirDate,t.season=e.season,t.seriesTitle=e.seriesTitle,t.title=e.episodeTitle,t}(d)}(n),(e===chrome.cast.media.StreamType.BUFFERED||Co(r))&&(i.duration=function(e,t,n){var r=wo(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!Co(r))return t.durationSec;return r.duration}(e,n,t)),i}}function So(){var e,t,n,r=Go.getSelectorValue(y.b),i=Go.getSelectorValue(y.c),o=Object(S.c)("$state"),a=o.params.trailer||o.params.seriesTrailer;if(i===vo.g.LINEAR)t=null===r||void 0===r?void 0:null===(n=r.channel)||void 0===n?void 0:n.entitlementId,e=chrome.cast.media.StreamType.LIVE;else if(i===vo.g.CDVR){var s,c,l=Object(S.c)("CDVR_STATE");t=null===r||void 0===r?void 0:null===(s=r.cdvrRecording)||void 0===s?void 0:s.recordingId,e=(null===r||void 0===r?void 0:null===(c=r.cdvrRecording)||void 0===c?void 0:c.cdvrState)===l.IN_PROGRESS?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED}else{var u,d;t=a?null!==(u=null===r||void 0===r?void 0:r.providerAssetIdForVodTrailer)&&void 0!==u?u:null:null!==(d=null===r||void 0===r?void 0:r.providerAssetIdForVod)&&void 0!==d?d:null,e=chrome.cast.media.StreamType.BUFFERED}return{streamType:e,contentIdentifier:t,asset:r}}function wo(e,t){var n=Object(S.c)("$state");return Go.getSelectorValue(y.c)!==vo.g.LINEAR||n.params.isCdvr?e.streamList.find(function(e){var n;return!!e.streamProperties.mediaUrl&&e.streamProperties.providerAssetID===t||(null===(n=e.streamProperties.cdvrRecording)||void 0===n?void 0:n.recordingId)===t}):null}function ko(e){var t,n=null===e||void 0===e?void 0:null===(t=e.tmsProgramIds)||void 0===t?void 0:t[0];return null===n||void 0===n?void 0:n.substring(0,2)}function Co(e){var t=Object(S.c)("CDVR_STATE");return(null===e||void 0===e?void 0:e.cdvrState)===t.IN_PROGRESS}var $o=function(e){return cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(e)},To=n("oPuz"),Oo=n("NK+S"),Eo=o.a.mark(Io),Ao=o.a.mark(xo),Po=o.a.mark(_o);function Io(){var e,t,n,r,i,a,s,c,l;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Hi.g)(v.T);case 3:return e=o.sent,o.next=6,Object(Hi.b)(to.default.post,{url:e});case 6:return t=o.sent,o.next=9,Object(Hi.b)(So);case 9:return n=o.sent,r=n.streamType,i=n.contentIdentifier,a=n.asset,o.next=15,Object(Hi.b)(yo,r,i,a);case 15:return s=o.sent,(c=new chrome.cast.media.LoadRequest(s)).credentials=t.data.split("=")[1],o.prev=18,o.next=21,Object(Hi.d)(Zr.i.request(c));case 21:return o.next=23,Object(Hi.b)($o,c);case 23:return o.next=25,Object(Hi.d)(Zr.i.success(s));case 25:return o.next=27,Object(Hi.b)(no.a.setItem,mo.b.chromecast,{entity:s.entity,customData:s.customData});case 27:o.next=33;break;case 29:return o.prev=29,o.t0=o.catch(18),o.next=33,Object(Hi.d)(Zr.i.failure(o.t0));case 33:o.next=42;break;case 35:return o.prev=35,o.t1=o.catch(0),o.next=39,Object(Hi.g)(ho.d);case 39:return l=o.sent,o.next=42,Object(Hi.b)(Oo.a.errorAlert,"".concat(l,"-132"));case 42:case"end":return o.stop()}},Eo,null,[[0,35],[18,29]])}function xo(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hi.b)(To.b);case 2:case"end":return e.stop()}},Ao)}function _o(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hi.a)([Object(Hi.j)(Zr.i.TRIGGER,Io),Object(Hi.j)([g.a.SUCCESS,Zr.b],xo)]);case 2:case"end":return e.stop()}},Po)}var Do,Ro=n("0Mdl"),jo=n("GmBL"),No=o.a.mark(Vo),Mo=o.a.mark(Lo);function Vo(){var e,t;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Hi.g)(v.Of);case 2:if(!n.sent){n.next=18;break}return n.prev=4,n.next=7,Object(Hi.g)(jo.j);case 7:return e=n.sent,t=60*e*1e3,n.next=11,Object(Hi.c)(t);case 11:return n.next=13,Object(Hi.d)(wi.updatePromptReadyToShow(!0));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(4),console.error(n.t0);case 18:case"end":return n.stop()}},No,null,[[4,15]])}function Lo(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Hi.j)(Ro.a.LIVE_TV_ACTIVATED,Vo);case 2:case"end":return e.stop()}},Mo)}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.compose;var Fo=function(){if(!Do){var e=Object(l.a)(),t=Object(c.applyMiddleware)(R,e);Do=Object(c.createStore)(Li,{},t);var n=Object(u.CdvrSagas)({fetch:function(e,t){return Object(S.a)()({method:e.toUpperCase(),url:t,withCredentials:!0})}}).watchRecordings;Object.values(r).forEach(e.run.bind(e)),e.run(n)}};function Uo(e,t){if(Do)return Object(d.c)(Do.getState(),e,t);throw new Error("Store not initialized")}function Bo(e,t){return e===t}function Wo(){return(Wo=s()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=Ho(function(){var r;(null===(r=Uo("lastAction"))||void 0===r?void 0:r.type)===t&&(n(),e())})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ho(e){if(Do)return Do.subscribe(e);throw new Error("Store not initialized")}var Go=t.a={init:Fo,getInstance:function(){return Do||Fo(),Do},getState:function(){if(Do)return Do.getState();throw new Error("Store not initialized")},getStatePath:Uo,dispatch:function(e){if(!Do)throw new Error("Store not initialized");Do.dispatch(e)},subscribe:Ho,watch:function(e,t){if(Do){t=t||Bo;var n=Object(d.c)(Do.getState(),e);return function(r){return function(){var i=Object(d.c)(Do.getState(),e);if(!t(n,i)){var o=n;n=i,r(i,o,e)}}}}throw new Error("Store not initialized")},getSelectorValue:function(e){if(Do)return e(Do.getState());throw new Error("Store not initialized")},takeOnce:function(e){return Wo.apply(this,arguments)}}},PV4z:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="row">\n<h2 class="setting-label col-xs-16">Blocking PIN</h2>\n<p class="help-block col-xs-16">To set up or update your Blocking PIN number.</p>\n<p class="col-xs-16"><button class="kite-btn kite-btn-primary" ng-click="$ctrl.changePin()">Change Blocking PIN</button></p><p>\n</p></div>\n',o="js/settings/stb-parentalControls/stb-changeBlockingPin.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},PiYh:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="SET_PLAYER_TYPE";function i(e){return{type:r,payload:e}}},PnGe:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"a",function(){return S}),n.d(t,"g",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"e",function(){return C}),n.d(t,"d",function(){return $}),n.d(t,"b",function(){return T});n("yq1k"),n("J30X"),n("4mDm"),n("oVuX"),n("2B1R"),n("07d7"),n("rB9j"),n("JTJg"),n("PKPk"),n("UxlC"),n("EnZy"),n("SYor"),n("H+LF"),n("3bBZ");var r=n("cDf5"),i=n.n(r),o=n("K+Qz"),a=n.n(o),s=n("8sBl"),c=n.n(s),l=n("hrTb"),u=n.n(l),d=n("C6kf"),p=n.n(d),h=n("lSUw"),v=n.n(h)()(function(e){if(!e)return[];if(w(e)&&e.includes("["))throw new Error("Path cannot use array syntax []");if(!e.split)throw new Error("Bad path: ".concat(e));return e.split(".")},{limit:1e3}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return p()(n,Array.isArray(t)?t:v(t),e)},m=function(e,t,n){return u()(c()(v(t)),n,e)},g=function(e){return!/\s/.test(e)},b=function(e){return!/[^0-9a-zA-Z\u00C0-\u00DF\u00E0-\u00FF][a-z\u00E0-\u00FF]/.test(e)},y=function(e){return e&&e.trim()&&!function(e){return!!e&&g(e)&&b(e)&&function(e){return e.charAt(0).toUpperCase()===e.charAt(0)}(e)}(e)?e.replace(/([^A-Za-z0-9\u00C0-\u00DF\u00E0-\u00FF-\\'])/g,"$1 ").split(/\s+/).map(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}).join(""):e},S=function(e){var t;if(!e||!e.trim()||function(e){return!!e&&g(e)&&b(e)&&function(e){return e.charAt(0).toLowerCase()===e.charAt(0)}(e)}(e))return e;var n=null!==(t=y(e))&&void 0!==t?t:"";return n.charAt(0).toLowerCase()+(null===n||void 0===n?void 0:n.substr(1))},w=a()(String),k=function(e){return e&&"object"===i()(e)&&e.constructor===Object},C=function(e){return"number"==typeof e&&isFinite(e)},$=function(e){return"function"==typeof e},T=function(){var e=new WeakSet;return function(t,n){if("object"===i()(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}}},QA9e:function(e,t){!function(){"use strict";function e(e,t){return{link:function(n,r,i){var o=r.attr("xlink:href"),a=function(){t(function(){r.attr("xlink:href",e.url()+o)})};i.$observe("xlinkHref",function(e){o=e,a()}),n.$on("$locationChangeSuccess",function(){a()})}}}e.$inject=["$location","$timeout"],e.$inject=["$location","$timeout"],angular.module("ovpApp.directives.svgPath",[]).directive("svgPath",e)}()},QLLb:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i="// TODO: template for CC settings page\n",o="js/components/ovp/ovp-cc-settings/ovp-cc-settings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},QMtS:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-show="$ctrl.setTopBox != null">\n<div ng-if="!$ctrl.hasDvr()" class="not-dvr">\n<span error-codes="WCM-1007"></span>\n</div>\n<div ng-if="$ctrl.hasDvr()">\n<div ui-view></div>\n</div>\n</div>\n',o="js/rdvr/rdvr.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},QPOH:function(e,t){!function(){"use strict";angular.module("ovpApp.search.error",[]).component("searchError",{templateUrl:"js/search/result-pages/search-error.html",bindings:{error:"<"}})}()},Qt34:function(e,t,n){"use strict";n.d(t,"f",function(){return L}),n.d(t,"g",function(){return F}),n.d(t,"d",function(){return U}),n.d(t,"e",function(){return B}),n.d(t,"c",function(){return W}),n.d(t,"a",function(){return J}),n.d(t,"b",function(){return te});n("pNMO"),n("TeQF"),n("QWBl"),n("yXV3"),n("4mDm"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("TWNs"),n("rB9j"),n("JfAA"),n("PKPk"),n("UxlC"),n("FZtP"),n("3bBZ"),n("Kz25");var r=n("BMnr"),i=n.n(r),o=n("DYUx"),a=n.n(o),s=(n("lSNA"),n("YPlS")),c=n.n(s),l=n("EyQl"),u=n.n(l),d=n("Z4rU"),p=n.n(d),h=n("+v9g"),v=n.n(h),f=n("rOAg"),m=n.n(f),g=n("0pXk"),b=n.n(g),y=n("Ymwu"),S=n.n(y),w=n("1s4d"),k=n.n(w),C=n("RCeC"),$=n.n(C),T=n("7e6P"),O=n.n(T),E=n("Z+xY"),A=n.n(E),P=n("G44f"),I=n.n(P),x=n("TYVW"),_=n.n(x),D=n("1DYX"),R=n.n(D),j=n("WHpZ"),N=n.n(j);var M,V={},L=function(e){V=e},F=function(e){M=e},U=function(e){var t,n,r;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.apiConfig)||void 0===r?void 0:r.enabled)},B=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.apiConfig)||void 0===r?void 0:r.apiConfigUrl},W=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.apiConfig)||void 0===r?void 0:r.config},H=function(e){var t;return null===(t=W(e))||void 0===t?void 0:t.services},G=function(e){var t;return null===(t=W(e))||void 0===t?void 0:t.default},q=function(e){var t;return null===(t=G(e))||void 0===t?void 0:t.reporting},z=function(e){return!(!U(M.getState())||!Y(e))},Y=function(e){var t;return null===(t=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.apiConfig)||void 0===r?void 0:r.enabledServices}(M.getState()))||void 0===t?void 0:t[e]},K=function(e){var t;return null===(t=H(M.getState()))||void 0===t?void 0:t[e]},J=function(e){var t,n=function(e){var t,n=N()(H(M.getState())),r=R()(_()(I()(1)),A()("endpoints"),O.a,$()(k()(e))),i=S()(r)(n);return null!==(t=null===i||void 0===i?void 0:i[0])&&void 0!==t?t:""}(e);if(z(n)){var r=K(n),i=function(e,t){var n,r;return null===(n=K(e))||void 0===n?void 0:null===(r=n.endpoints)||void 0===r?void 0:r[t]}(n,e);t=Q(r,i)}else V[e]?t=V[e](M.getState()):console.error("Fallback selector not defined for "+e);return t},Q=function(e,t){var n,r,i,o,a=M.getState();return(null!==(n=null!==(r=null===t||void 0===t?void 0:t.scheme)&&void 0!==r?r:null===e||void 0===e?void 0:e.scheme)&&void 0!==n?n:function(e){var t;return null===(t=G(e))||void 0===t?void 0:t.scheme}(a))+"://"+(null!==(i=null!==(o=null===t||void 0===t?void 0:t.host)&&void 0!==o?o:null===e||void 0===e?void 0:e.host)&&void 0!==i?i:function(e){var t;return null===(t=G(e))||void 0===t?void 0:t.host}(a))+(null===t||void 0===t?void 0:t.path)},X=function(e){var t;return null===(t=K(e))||void 0===t?void 0:t.reporting},Z=function(e){var t=e.replace(new RegExp(/{{\w+}}/,"g"),"[^/]+");return new RegExp("^".concat(t,"$"))},ee=function(e){var t=[],n=M.getState();return!function(e){var t;return null===(t=X(e))||void 0===t?void 0:t.reportAPIEvents}(e)?function(e){var t;return null===(t=q(e))||void 0===t?void 0:t.reportAPIEvents}(n)&&(t=function(e){var t;return null===(t=q(e))||void 0===t?void 0:t.reportResponseHeaders}(n)):t=function(e){var t;return null===(t=X(e))||void 0===t?void 0:t.reportResponseHeaders}(e),t},te=function(e){var t={};if(M&&U(M.getState())&&function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.apiConfig)||void 0===n?void 0:n.loaded}(M.getState())){var n=function(e){var t,n=H(M.getState()),r=A()("endpoints"),i=function(t){var n=b()(function(e){var t=e.path;if(void 0!==t)return m()("/{{")(t)?"dynamic":"static"})(t);if(void 0===(null===n||void 0===n?void 0:n.dynamic))return v()(e,p()("path",t));var r=v()(e,p()("path",n.static)),i=u()(function(e){return Z(e.path)},n.dynamic),o=v()(!0,u()(function(t){return t.test(e)},i));return r||o},o=S()(function(e){return R()(r,c.a,i)(e[1])})(N()(n));return null!==(t=null===o||void 0===o?void 0:o[0])&&void 0!==t?t:""}(new URL(e.config.url).pathname);if(n&&z(n)){var r=ee(n);if(r.length){r=u()(a.a)(r);var o="function"==typeof e.headers?e.headers():e.headers,s=i()(function(e,t){return v()(a()(t),r)},o);Object.keys(s).length&&(t={apiReportedHeaders:JSON.stringify(s)})}}}return t}},Qtsj:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal welcome-login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<h1 class="title">Welcome to Spectrum TV</h1>\n<p class="description">With Spectrum, you can watch TV on your favorite devices, anywhere. Select Continue to agree to our <a href="{{::$ctrl.termsHref}}" class="kite-btn-link" target="_blank">Terms and Conditions</a>\nand <a href="{{::$ctrl.privacyHref}}" class="kite-btn-link" target="_blank">Privacy Policy</a> to start watching TV.\n</p>\n<button focus-once aria-label="Continue and accept terms and conditions to go to Spectrum TV" ng-click="$ctrl.continue()" class="kite-btn kite-btn-primary kite-btn-xl btn-margin">\nContinue\n</button>\n<p class="divider">\n<span class="divider">or</span>\n</p>\n<p>If you have a Spectrum TV username and password, you can also <a class="kite-btn-link" href="#" ng-click="$ctrl.signInWithResidential()">sign in</a> to your account to watch TV.\n</p>\n</div>\n</div>\n</section>\n</div>\n',o="js/login/login-welcome/login-welcome.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},QuGv:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});n("ma9I");var r=n("rRWa"),i=n("PNUD"),o=function(e){for(var t={channel:Object(r.c)(),dispatch:i.a.dispatch,getState:i.a.getInstance().getState},n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return r.b.apply(void 0,[t,e].concat(o)).toPromise()},a=function(e){return angular.element(document.body).injector().get(e)},s=function(){return a("$http")},c=function(){return a("$rootScope")}},"R+Vf":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c});var r=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.analytics},i=function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.disabledEventTypes)&&void 0!==t?t:[]},o=function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.disabledEventCaseIds)&&void 0!==t?t:[]},a=function(e){var t,n;return null!==(t=null===(n=r(e))||void 0===n?void 0:n.maxSearchResults)&&void 0!==t?t:10},s=function(e){var t;return 2===(null===(t=r(e))||void 0===t?void 0:t.userConfigSetVersion)},c=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.pageViewHistoryMax}},RBIZ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<p id="kite-confirm-title" class="kite-modal-title kite-h2" ng-if="$ctrl.modalInstance.options.resolve.title">{{::$ctrl.modalInstance.options.resolve.title}}</p>\n<p id="kite-confirm-description" ng-if="$ctrl.modalInstance.options.resolve.description" ng-bind-html="$ctrl.modalInstance.options.resolve.description"></p>\n<button class="kite-btn kite-btn-secondary kite-btn-xl" ng-click="$ctrl.modalInstance.dismiss()" type="button" ng-bind="$ctrl.secondaryButtonLabel"></button>\n<button class="kite-btn kite-btn-primary kite-btn-xl" focus-once ng-click="$ctrl.modalInstance.close()" type="button" ng-bind="$ctrl.primaryButtonLabel">Confirm</button>\n',o="js/components/kite-modal/kite-confirm/kite-confirm.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},RHOe:function(e,t){!function(){"use strict";function e(e,t,n,r,i,o,a,s){n("PurchasePinDialogController",{$scope:e,dialogText:o}),e.purchasePinEnabledForClient=!1,e.hasPin=!1,e.unlocked=!1,e.init=function(){e.purchasePinEnabledForClient=s,t.$broadcast("pageChangeComplete",a.current)},e.togglePinEnabled=function(){e.hasPin&&e.unlocked?e.purchasePinEnabledForClient?e.handlePurchasePINValidation().then(function(){e.togglePurchasePinForClient()}):e.purchasePinEnabledForClient||e.togglePurchasePinForClient():e.handlePurchasePINValidation().then(function(){e.togglePurchasePinForClient(),e.hasPin=!0,e.unlocked=!0})},e.togglePurchasePinForClient=function(){!1===e.purchasePinEnabledForClient?(e.purchasePinEnabledForClient=!0,i.enablePurchasePINForClient()):(e.purchasePinEnabledForClient=!1,i.disablePurchasePINForClient())},e.init()}e.$inject=["$scope","$rootScope","$controller","$log","purchasePinService","messages","$state","purchaseSwitchFlag"],e.$inject=["$scope","$rootScope","$controller","$log","purchasePinService","messages","$state","purchaseSwitchFlag"],angular.module("ovpApp.settings.purchasePin",["ovpApp.purchasePinDialog","ovpApp.components.ovp.ovpSwitch","ovpApp.services.purchasePinService","ovpApp.messages"]).controller("PurchasePinController",e)}()},ROQs:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="premiums" ng-class="{\'active\': $ctrl.active}">\n<div class="header">\n<div class="left-section">\n<div aria-hidden="true" id="premiums-heading-description" class="sr-only">, Current total $ {{$ctrl.summary.totalPrice}}</div>\n<h2>\n<div aria-disabled="{{$ctrl.active}}" aria-describedby="premiums-heading-description" focus-when="$ctrl.active" role="button" tabindex="{{$ctrl.active ? -2 : 0}}" aria-expanded="{{$ctrl.active}}" ovp-click="$ctrl.activate()">3. Premiums</div>\n</h2>\n<span ng-if="!$ctrl.active && $ctrl.subTitle" class="sub-title">{{$ctrl.subTitle}}</span>\n</div>\n<div ng-hide="$ctrl.active || ($ctrl.summary.premiumOfferCount === 0)" class="right-section">\n<span role="presentation" class="price">$ {{$ctrl.summary.premiumOfferPrice}}</span>\n<span role="presentation" class="month"> / Month</span>\n</div>\n</div>\n<div ng-if="$ctrl.active" class="content">\n<div class="offers">\n<network-bundle data="$ctrl.offers[0]" is-selected="$ctrl.premiumPackSelected" on-change="$ctrl.toggleBundleSelect()"></network-bundle>\n<div class="networks">\n<network ng-repeat="offer in $ctrl.offers.slice(1)" data="offer" bundle="$ctrl.offers[0]" included-in-bundle="$ctrl.includedInBundle(offer.id)" is-selected="$ctrl.isSelected(offer.id)" on-change="$ctrl.onNetowrkChange(offer)"></network>\n</div>\n</div>\n<div class="actions">\n<button ovp-click="$ctrl.cancel()" class="kite-btn kite-btn-outline-primary">Cancel</button>\n<div class="right-action">\n<button ovp-click="$ctrl.back()" class="kite-btn kite-btn-secondary">Back</button>\n<button ovp-click="$ctrl.continue()" class="kite-btn kite-btn-primary">Continue</button>\n</div>\n</div>\n</div>\n</div>',o="js/buyFlow/premiums.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},RYwQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="frame" ng-class="{outOfHome: $ctrl.assetAvailableOutOfHome === false}" ovp-link-click="$ctrl.click()" focus-when="$ctrl.focusOnLoad" role="link" tabindex="0" ng-attr-aria-describedby="{{::$ctrl.assetAvailableOutOfHome === false ? \'streamingUnavailable\' : undefined}}">\n<span class="sr-only">{{::$ctrl.category}}</span>\n<span class="sr-only">{{::$ctrl.getTitlePrefix()}}</span>\n<div class="col-xs-7 title truncate">\n{{::$ctrl.item.title}}\n</div>\n<div class="col-xs-7 type">\n{{::$ctrl.item.resultDisplay}}\n</div>\n<div ng-show="!$ctrl.item.isEntitled" class="col-xs-2 status">\n<span class="twcicon-svg twcicon-svg-key" aria-hidden="true"></span>\n</div>\n<div ng-show="$ctrl.item.isEntitled && $ctrl.isBlocked" class="col-xs-2 status">\n<span class="twcicon-svg twcicon-svg-lock" aria-hidden="true"></span>\n</div>\n</div>\n',o="js/search/widgets/result-list-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Rboz:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="row">\n<div class="col-xs-8">\n<div role="heading" aria-level="2" id="parental-controls-label" class="odn-setting-label setting-label">Title Block</div>\n<p class="help-block" id="title-block-desc">Hide titles from showing that are blocked by parental controls.</p>\n</div>\n<div class="col-xs-8 text-right">\n<ovp-switch id="pc_enabled" role="button" aria-pressed="{{$ctrl.titleBlockingEnabledForClient ? \'true\' : \'false\'}}" aria-describedby="title-block-desc" aria-label="Title Blocking" ng-click="$ctrl.toggleTitleBlocking($event);" button-enabled="{{$ctrl.titleBlockingEnabledForClient}}" prevent-default></ovp-switch>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-titleBlock.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},RiRI:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="sad-tv-error-container">\n<div aria-hidden="true" class="content-gradient"></div>\n<div aria-hidden="true" class="content-background" feature-tour-background></div>\n<div class="sad-tv-error">\n<img alt="" class="image" ng-src="{{$ctrl.errorImage}}"/>\n<h1 class="kite-h3" id="sad-tv-heading">Service Unavailable</h1>\n<p>We\'re sorry, something didn\'t work quite right. Please try again.</p>\n<p ng-if="$ctrl.errorCode">If you contact us, please provide this error&nbsp;code: {{$ctrl.errorCode}}</p>\n<button class="kite-btn kite-btn-primary kite-btn-lg" aria-describedby="sad-tv-heading" focus-when="$ctrl.focusButton" ng-click="$ctrl.retry()">Retry</button>\n</div>\n<div class="bottom-gradient"></div>\n</div>\n',o="js/components/error/sad-tv-error.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},RnhZ:function(e,t,n){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="RnhZ"},RsAa:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<span class="sr-only">{{actionTypeToOtherWaysLabel(item)}}, {{item.label}} {{item.timeAvailability}}, {{item.lang}} {{item.streamProps.formats.join(\', \')}} {{item.streamProps.rating}}, {{item.callSign}}</span>\n<div class="col-md-3 source" aria-hidden="true">{{item.label}}</div>\n<div class="col-md-5 item-label-group" aria-hidden="true">\n<span class="item-label truncate">{{item.timeAvailability}}</span>\n<span class="twcicon-svg twcicon-svg-recording" aria-label="Scheduled to record" ng-if="!item.isSeriesRecording && item.cdvrNotCompleted"></span>\n<span class="twcicon-svg twcicon-svg-recording-series" aria-label="Scheduled to record" ng-if="item.isSeriesRecording && item.cdvrNotCompleted"></span>\n</div>\n<div class="col-md-2 rating" aria-hidden="true">\n<div class="row">\n<span class="lang">{{item.lang}}</span>\n<span>{{item.streamProps.formats.join(\', \')}} </span>\n<span><ovp-rating rating="item.streamProps.rating"></ovp-rating></span>\n</div>\n</div>\n<div class="col-md-3" aria-hidden="true">\n<channel-identifier item="item"></channel-identifier>\n</div>\n<div class="col-md-3 status" ng-if="item.statusIcon" aria-hidden="true">\n<span class="twcicon-svg twcicon-svg-key" aria-label="key icon"></span>\n</div>\n<div class="col-md-3 ooh" ng-if="item.ooh && !item.statusIcon" aria-hidden="true">\n<span class="ooh-icon"></span>\n</div>\n<div class="col-md-3 action" ng-if="!item.statusIcon" aria-hidden="true" product-button-action>\n<span class="action-label">{{actionTypeToOtherWaysLabel(item)}}</span>\n<svg class="svg-icon" focusable="false">\n<use xlink:href="{{actionTypeToButtonGraphic(item)}}" svg-path/>\n</svg>\n</div>\n',o="js/product/other-ways/list-item-variation.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},SEIj:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="progress-bar-wrapper">\n<div class="progress" ng-style="{\'background-color\': $ctrl.backgroundColor}">\n<div ng-if="!$ctrl.hideAria" class="progress-bar" role="progressbar" aria-live="off" aria-valuemin="0" aria-valuemax="100" aria-valuenow="{{::$ctrl.percentPlayed}}" aria-valuetext="{{::$ctrl.percentPlayed | number:0}}% Watched," ng-style="{width: $ctrl.percentPlayed + \'%\'}">\n</div>\n<div ng-if="$ctrl.hideAria" class="progress-bar" role="progressbar" ng-style="{width: $ctrl.percentPlayed + \'%\'}"></div>\n</div>\n</div>\n',o="js/components/progress-bar/progress-bar.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},SXwC:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="loading-tracker processing-status opaque" ng-show="$ctrl.loadingTracker.active()">\n<div class="spinner"></div>\n<div class="message">{{$ctrl.message}}</div>\n<div class="clear"></div>\n</div>\n',o="js/components/loading-tracker/loading-tracker.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ScqP:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-hide="vm.searchItem.hidden" ng-class="{\'active\': vm.searchItem.isSelected(), \'disabled\': !vm.searchItem.enabled}">\n<a ovp-link-click="vm.onClick($event);" ng-focus="vm.playerOverlayTimer.isMiniGuideOpen() ? vm.playerOverlayTimer.startOverlayTimer() : null" ui-sref="{{vm.searchItem.link}}" ui-sref-active="{{vm.searchItem.enabled}}" aria-label="{{vm.searchItem.label}}{{vm.searchItem.isSelected() ? \', selected\' : \'\' }}">\n<span class="si si-search"></span>\n<span class="sr-only" ng-if="isSelected(vm.searchItem)">(current)</span>\n</a>\n</div>\n',o="js/components/header/global-search/global-search.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},SjBL:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="wrapper" role="document">\n<div class="status-dialog processing-status" ng-show="$ctrl.loadingTracker.active()">\n<div class="spinner" role="img" aria-label="loading"></div>\n</div>\n<button ng-click="$ctrl.modalInstance.dismiss()" aria-label="close dialog" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false">\n<img alt="" class="close-icon" ng-src="{{$ctrl.closeIcon()}}">\n</button>\n<div class="header text-center">\n<h1 id="picker-label">{{$ctrl.title}}</h1>\n</div>\n<ul role="list" class="devices-list-container">\n<li ng-repeat="stb in $ctrl.stbs" class="device focus-outline">\n<button focus-when="$first" ng-click="$ctrl.onSelect(stb)">\n<img ovp-src="images/watch-on-tv.svg" alt="">\n<span class="device-name truncate">\n{{stb.name || stb.macAddress}}\n</span>\n</button>\n</li>\n</ul>\n<button class="kite-btn kite-btn-primary kite-btn-xl" ng-click="$ctrl.modalInstance.dismiss()">Close</button>\n</div>\n',o="js/components/stb-picker/stb-picker.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},TmGJ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="bulkmdu-about-container">\n<h2 class="settings-h1 kite-h3">About</h2>\n<p>\nYour community provides Spectrum TV and internet services to all residents. You can watch TV on your favorite devices anywhere in your home with the Spectrum TV App.\n</p>\n<p>\nDownload the Spectrum TV App on your smartphone or tablet to watch your favorite shows and movies whenever you\'re connected to your Spectrum Internet service.\n</p>\n<p>\nWant a more personalized experience across all your devices that includes TV on the go? Give us a call at <a href="tel:{{bulkMDU.ivr}}">{{bulkMDU.ivr}}</a> to upgrade your account.\n</p>\n</div>\n',o="js/settings/about/bulkmdu-about.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},UFrH:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button class="closed-caption-settings" aria-label="Closed captioning settings" ovp-click="$ctrl.showCCSettings()">\n<img alt="Closed captioning settings" aria-hidden="true" class="control-item-img" ng-mouseover="$ctrl.hovered = true" ng-mouseleave="$ctrl.hovered = false" ng-src="{{$ctrl.ccSettingsImage()}}"/>\n</button>\n',o="js/components/player/toggle-cc-settings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},UGjY:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>{{$ctrl.sectionLabel}}, Networks</h1>\n<ovp-grid-list items="$ctrl.networks" options="$ctrl.gridListConfig">\n<grid-items role="list">\n<channel-card role="listitem" ng-repeat="network in $ctrl.networks" channel="network" options="{showChannelName: true}"></channel-card>\n</grid-items>\n</ovp-grid-list>\n',o="js/ondemand/networks/network-main-page.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Umwb:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="support-info-container" role="document">\n<div ovp-click="$ctrl.modalInstance.dismiss()" focus-once aria-label="close" role="button" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false">\n<img class="close-icon" ng-src="{{$ctrl.closeIcon()}}"/>\n</div>\n<div class="info-icon-container">\n<img alt="" aria-hidden="true" ovp-src="/images/question.svg"/>\n</div>\n<h1>{{$ctrl.modalText}}</h1>\n<ul class="info-container">\n<li class="info" ng-if="$ctrl.supportInfo.name">\n{{$ctrl.supportInfo.name}}\n</li>\n<li class="info" ng-if="$ctrl.supportInfo.helpdesk">\n{{$ctrl.supportInfo.helpdesk}}\n</li>\n<li class="info kite-btn-link" ng-if="$ctrl.supportInfo.email">\n<a ng-click="$ctrl.clickEmail($event)" ng-href="mailto:{{$ctrl.supportInfo.email}}" target="_top" aria-label="Email {{$ctrl.supportInfo.email.split(\'?\')[0]}} with subject line {{$ctrl.supportInfo.emailSubject}}">{{$ctrl.supportInfo.email.split(\'?\')[0]}}</a>\n</li>\n<li class="info" ng-if="$ctrl.supportInfo.phone">\n<a ng-click="$ctrl.clickPhone($event)" ng-href="tel:{{$ctrl.supportInfo.phone}}" target="_top" aria-label="Phone {{$ctrl.supportInfo.phone}}">{{$ctrl.supportInfo.phone}}</a>\n</li>\n</ul>\n<div class="buttonHolder">\n<button class="ok-button" ng-click="$ctrl.modalInstance.dismiss()">OK</button>\n</div>\n</div>\n',o="js/components/support/info.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},UntU:function(e,t,n){"use strict";n.d(t,"h",function(){return R}),n.d(t,"k",function(){return j}),n.d(t,"i",function(){return N}),n.d(t,"j",function(){return M}),n.d(t,"c",function(){return V}),n.d(t,"m",function(){return U}),n.d(t,"n",function(){return W}),n.d(t,"l",function(){return H}),n.d(t,"b",function(){return G}),n.d(t,"g",function(){return q}),n.d(t,"f",function(){return z}),n.d(t,"e",function(){return Y}),n.d(t,"a",function(){return K}),n.d(t,"d",function(){return J});n("yq1k"),n("B6y2"),n("JTJg");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("PnGe"),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("Ut1j"),p=n("lwsE"),h=n.n(p),v=n("W8MJ"),f=n.n(v),m=function(){function e(t){h()(this,e),this.isAvailable=!0,this._storage=t}return f()(e,[{key:"get",value:function(e){return this._storage.getItem("ven-"+e)}},{key:"getItem",value:function(e){return this.get(e)}},{key:"set",value:function(e,t){return this._storage.setItem("ven-"+e,t)}},{key:"setItem",value:function(e,t){return this.set(e,t)}},{key:"reset",value:function(e){return this._storage.removeItem("ven-"+e)}},{key:"clearAll",value:function(){this._storage.removeItem("ven-library-state"),this._storage.removeItem("ven-requirements")}}]),e}(),g=n("GUOU"),b=n("I+BT"),y=n("7s9v"),S=n("Ga+L"),w=n("fwEs"),k=n("JJK5"),C=n("Beac"),$=n("Dhhs");function T(){if(U()){var e=Object(w.c)(),t=u.a.getStatePath("deepLink"),n=t.referrerLocation,r=t.referrerLink;Object(y.a)();var i={domain:u.a.getStatePath("config.data.analytics.domain"),customer:u.a.getStatePath("config.data.analytics.customer"),appVersion:"13.4.1.28361553",appName:u.a.getSelectorValue($.a),appType:u.a.getStatePath("config.data.analytics.applicationType"),visitId:e,deviceVendorIdMap:{deviceVendorId:window.navigator.vendor},deviceType:"webBrowser",deviceModel:window.navigator.platform,deviceOperatingSystem:window.navigator.userAgent,deviceUuid:Object(g.a)(),deviceFormFactor:function(){var e=window.navigator.userAgent||window.navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));if(/android|ipad|playbook|silk/.test(e))return"tablet";if(t)return"phone";return"pc"}(),networkConnectType:Object(k.b)(),appEnvName:function(e){switch(e){case"production":return"prod";default:return e}}(u.a.getStatePath("environment.currentEnvName")),prevVisitId:function(){var e;try{e=window.localStorage.getItem("analyticsPreviousVisitId")}catch(e){}return e}(),screenResolution:u.a.getSelectorValue(S.a),deviceBrowserUserAgent:window.navigator.userAgent,appRefLink:r,appRefLocation:n,drmEnabled:u.a.getStatePath("config.data.playDrmOnlyStreams")||u.a.getStatePath("config.data.vodDrmEnabled")||u.a.getStatePath("config.data.liveTvDrmEnabled"),limitAdTracking:"unknown",campaignId:u.a.getSelectorValue(C.b)},o=u.a.getSelectorValue(C.c);o&&(i.referrerAppVisitId=o),M("OVP_startSession",i),function(e){try{window.localStorage.setItem("analyticsPreviousVisitId",e)}catch(e){}}(l.a.get(b.d.VISIT_ID))}}var O,E,A=n("hIh8"),P=n("7/JK"),I=n("fwyg"),x=n("aANo"),_=n("2UTf"),D=n("06qP"),R=function(){return E};function j(){window.addEventListener("unload",function(){V()}),Object(w.d)(window.sessionStorage)&&(O=new m(window.sessionStorage),l.a.setCustomStorage(O),l.a.enablePersistence()),Object(x.b)(),Object(_.b)();var e={appName:u.a.getSelectorValue($.a),appType:b.b,requirementsVersion:u.a.getSelectorValue($.h),settings:u.a.getStatePath("config.data.analytics.helixSettings")};E=l.a.init(e).then(a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.a.set(b.d.ENDPOINT,u.a.getStatePath("config.data.analytics.endpoint")),l.a.set(b.d.VALIDATION,!!u.a.getStatePath("config.data.analytics.validation",!1)),l.a.set(b.d.VERIFY_APP_NAME_ON_RESUME,!1),l.a.set(b.d.FILTER_FIELDS,!!u.a.getStatePath("config.data.analytics.filterFields",!1)),l.a.set(b.d.EXPERIMENT_CONFIGURATIONS,{experimentUuids:Object.values(u.a.getSelectorValue($.j)),variantUuids:Object.values(u.a.getSelectorValue($.l))}),e.next=7,Object(D.a)();case 7:T(),K(!0),u.a.getInstance().dispatch(Object(d.d)());case 10:case"end":return e.stop()}},e)}))).catch(function(e){u.a.getSelectorValue(I.dg)||console.error("Error: Helix Init Failed ",e),u.a.getInstance().dispatch(Object(d.c)(e))})}function N(){return l.a.get(b.d.CURRENT_STATE)}function M(e,t,n){try{if(!Object(P.a)(e,t))return void(H()&&console.error("Error: eventCase disallowed "+e,{payload:t}));var r=u.a.getStatePath("config.data.analytics.debugIgnored",!0);if(H()&&!r.includes(e)){var i=Object(s.c)(t,"msgEventType"),o="["+e+"]"+(i?" (type:"+i+") ":"")+" state ["+l.a.get("currentState")+"]";console.info("Analytics: processing event "+o,t)}var a=N();l.a.track(e,t,n),H()&&F(e,a,N())}catch(e){console.error("Error",e)}}function V(){return L.apply(this,arguments)}function L(){return(L=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.a.flush());case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t,n){t!==n&&(console.info("Analytics: state: ["+t+"] -> ["+n+"]"),n===A.b.DISABLED&&console.error("Analytics Partially Disabled: ["+t+"] -> ["+n+"] from ["+e+"]"))}function U(){return u.a.getStatePath("config.data.analytics.enabled",!0)}var B=!1;function W(e){B=u.a.getStatePath("config.data.analytics.debug",!1)&&!1}function H(){return B}function G(){return V().then(function(){l.a.set("isOnline",!1),O.clearAll()})}function q(e,t){return Object(s.c)(l.a,"quantum.core.model.data."+e,t)}function z(){return q("state.view.currentPage.pageName")}function Y(){return q("state.view.currentPage.appSection")}function K(e){l.a.set(b.d.IS_ONLINE,e)}function J(e,t,n){var r,i,o,a;if(l.a.eventsLoaded){var s=null===(r=l.a.getEventCase(e))||void 0===r?void 0:null===(i=r.properties)||void 0===i?void 0:null===(o=i[t])||void 0===o?void 0:o.valid;return null!==(a=null===s||void 0===s?void 0:s[0])&&void 0!==a?a:n}}},UrrW:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="stream-plus-ooh">\n<div class="tour-collage-wrapper">\n<div class="tour-collage" feature-tour-background></div>\n</div>\n</div>',o="js/buyFlow/buyFlow-ooh.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Ut1j:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r="ANALYTICS_INIT_ERROR",i="ANALYTICS_STARTED";function o(e){return{type:r,error:e}}function a(e){return{type:i,result:e}}},UuMm:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="presentation" class="ovp-product ovp-product-item">\n<div class="productInnerWrapper" role="presentation">\n<a class="productLink" ng-keydown="$ctrl.keyEvent($event)" ovp-click="$ctrl.click($parent.$index)" href="#">\n<div class="imageContainer">\n<img class="box-art" lazy-src="{{::$ctrl.asset.imageUri({height:341})}}" aria-hidden="true" alt="" fadein-onload>\n</div>\n<div class="caption" ng-class="$ctrl.statusOptions()">\n<div class="program-title-status" ng-class="{\'full-width\': $ctrl.options.hideNWLogo}">\n<span class="sr-only">{{::$ctrl.category}}</span>\n<span class="sr-only">{{$ctrl.getTitlePrefix()}}</span>\n<span class="sr-only">{{::$ctrl.oohUnavailable ? \'Streaming unavailable.\' : \'\'}}</span>\n<div class="program-title truncate">{{::$ctrl.asset.title}}</div>\n<span ng-if="$ctrl.asset.playedPct" class="sr-only">, {{$ctrl.asset.playedPct | number:0}} % watched,</span>\n<div class="program-status truncate" ng-if="$ctrl.showRentalInfo() && !$ctrl.asset.rentalExpiration && $ctrl.isTvod()">\n{{::$ctrl.asset.price | currency}}\n</div>\n<div class="program-status truncate" ng-if="$ctrl.showRentalInfo() && !$ctrl.asset.rentalExpiration && !$ctrl.isTvod()">\n{{::$ctrl.asset.price}}\n</div>\n<div class="program-status rental-expiration-boxart truncate" ng-if="$ctrl.showRentalInfo() && $ctrl.asset.rentalExpiration">{{::$ctrl.asset.rentalExpiration}}\n</div>\n</div>\n<img alt="{{$ctrl.asset.network.name}}" ng-hide="$ctrl.options.hideNWLogo" ng-src="{{::$ctrl.asset.networkImage({height:81, default:false})}}" fallback-image="display:none"/>\n</div>\n</a>\n<button tabindex="-1" aria-label="Remove {{::$ctrl.asset.title}}" ovp-click="$ctrl.remove($event, $index)" class="remove" ng-if="$ctrl.options.enableRemove" ng-keydown="$ctrl.keyEvent($event)">\n<span class="twcicon twcicon-remove" aria-hidden="true"></span>\n</button>\n<div class="playStatus" ng-class="$ctrl.statusOptions()">\n<span class="status"></span>\n<span class="twcicon-svg twcicon-svg-lock" ng-if="$ctrl.asset.isEntitled !== false && $ctrl.asset.isBlockedByParentalControls"></span>\n<span class="twcicon-svg twcicon-svg-key" ng-if="$ctrl.asset.isEntitled === false"></span>\n<div class="out-of-window-overlay"></div>\n<div class="played">\n<progress-bar aria-hidden="true" background-color="transparent" percent-played="::$ctrl.asset.playedPct"/>\n</div>\n<span class="badge" ng-if="$ctrl.asset.newEpisodes.length>0">{{$ctrl.asset.newEpisodes.length}}</span>\n<span class="flag"></span>\n</div>\n</div>\n</div>\n',o="js/components/ovp/ovp-product/boxart-template.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},V5Gx:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div>\n<base-offer getstarted="$ctrl.getstarted" add-to-cart="$ctrl.addToCart({ids})" active="($ctrl.step === 1)" summary="$ctrl.summary" offers="$ctrl.offers.base.offers[0]" transaction-id="$ctrl.transactionId"></base-offer>\n<extras add-to-cart="$ctrl.addToCart({ids})" active="($ctrl.step === 2)" summary="$ctrl.summary" offers="$ctrl.offers.extra.offers" transaction-id="$ctrl.transactionId"></extras>\n<premiums add-to-cart="$ctrl.addToCart({ids})" active="($ctrl.step === 3)" summary="$ctrl.summary" offers="$ctrl.offers.premium.offers" transaction-id="$ctrl.transactionId"></premiums>\n<review add-to-cart="$ctrl.addToCart({ids})" active="($ctrl.step === 4)" summary="$ctrl.summary" transaction-id="$ctrl.transactionId"></review>\n</div>',o="js/buyFlow/buyFlow.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},VAwR:function(e,t){!function(){"use strict";angular.module("ovpApp.guide",["ovpApp.messages","ui.router","ovpApp.services.stbService","ovpApp.legacy.DateUtil","ovpApp.rdvr.rdvrService","ovpApp.directives.quiet-loading-tracker","ovpApp.components.confirm","ovpApp.services.epgsService","ovpApp.services.rxUtils","ovpApp.services.oohService","ovpApp.services.cdvr","rx","ovpApp.components.alert","ngAria"])}()},VGrQ:function(e,t,n){var r={"./bulkMDU/eula.html":"AsUO","./bulkMDU/signout.html":"9+h7","./bulkMDU/welcome.html":"NGAF","./bulkMDU/wifi-error.html":"bDdK","./buyFlow/base-offer.html":"FcmM","./buyFlow/buyFlow-ooh.html":"UrrW","./buyFlow/buyFlow.html":"V5Gx","./buyFlow/confirmation.html":"gGPV","./buyFlow/extras.html":"bQ3Z","./buyFlow/network-bundle.html":"cwad","./buyFlow/network.html":"NXGC","./buyFlow/offers.html":"gnUE","./buyFlow/premiums.html":"ROQs","./buyFlow/review.html":"NWaj","./buyFlow/welcome/v1.html":"bDR5","./buyFlow/welcome/v2.html":"wpMu","./cdvr/cdvr-schedule-list-item.html":"9V8W","./cdvr/cdvr-sub-header.html":"oEbI","./cdvr/scheduled.html":"ZkVR","./components/alert/alert.html":"aT91","./components/channel-card/channel-card.html":"hlQB","./components/channel-identifier/channel-identifier.html":"/ea2","./components/confirm/confirm.html":"cSJT","./components/edit-conflict/conflict-item.html":"k6Kb","./components/edit-conflict/edit-conflict.html":"6eQB","./components/environment-dropdown/environment-dropdown.html":"/YMf","./components/error/sad-tv-error.html":"RiRI","./components/footer/site-footer.html":"xLkM","./components/header/global-search/global-search.html":"ScqP","./components/header/header.html":"10uO","./components/header/main-menu.html":"0NdW","./components/header/menu-item.html":"GBMo","./components/header/off-canvas-menu.html":"W/Vm","./components/header/ooh/ooh.html":"xsEr","./components/header/site-header.html":"gxVg","./components/header/tools/settings-menu.html":"bWYG","./components/kite-modal/kite-alert/kite-alert.html":"+dWp","./components/kite-modal/kite-confirm/kite-confirm.html":"RBIZ","./components/kite-modal/kite-growl/kite-growl.html":"6xbq","./components/kite-modal/kite-modal.html":"5L47","./components/loading-tracker/loading-tracker.html":"SXwC","./components/mini-guide/channel-list.html":"pzt5","./components/mini-guide/chromecast-mini-guide.html":"b4Tk","./components/mini-guide/mini-guide.html":"J/Ad","./components/mini-guide/ooh-separator.html":"EOMQ","./components/mobile-login/mobileLogin.html":"rd4J","./components/modal-kite/modal-kite.html":"nXEm","./components/modal/classic-with-close-icon.html":"Met6","./components/modal/classic.html":"6SM1","./components/modal/window-frame-with-close-icon.html":"O1Kr","./components/modal/window-frame.html":"cRwy","./components/ooh-warning-modal/ooh-warning-modal.html":"mYgA","./components/ovp/ovp-button/ovp-button.html":"x7ka","./components/ovp/ovp-cc-settings/ovp-cc-settings.html":"QLLb","./components/ovp/ovp-cc-settings/ovp-player-cc-settings.html":"aKMe","./components/ovp/ovp-cc-settings/ovp-remote-player-cc-settings.html":"eGZO","./components/ovp/ovp-channel/ovp-channel.html":"DRjL","./components/ovp/ovp-click-confirm/ovp-click-confirm.html":"GcyQ","./components/ovp/ovp-error/ovp-error.html":"HHZj","./components/ovp/ovp-parental-controls-slider/ovp-parental-controls-slider.html":"ogu7","./components/ovp/ovp-product/boxart-template.html":"UuMm","./components/ovp/ovp-product/list-item-template.html":"d57p","./components/ovp/ovp-rating/ovp-rating.html":"H/cB","./components/ovp/ovp-sortable/ovp-sortable-handle.html":"9sIt","./components/ovp/ovp-switch/ovp-switch.html":"3AkW","./components/pin-entry/pin-entry-message.html":"8B3N","./components/pin-entry/pin-reset.html":"0WY7","./components/pin-entry/pin-validate.html":"7WQw","./components/player/blocking-screen.html":"hs2p","./components/player/chromecast-player-controls.html":"yELK","./components/player/info-panel.html":"v43G","./components/player/ovp-scrubber.html":"sZCr","./components/player/player-controls.html":"GcnT","./components/player/player-status-bar.html":"54sw","./components/player/player.html":"FQPq","./components/player/remote-player-controls.html":"nCUr","./components/player/remote-player.html":"o99H","./components/player/set-top-connection.html":"HinU","./components/player/skip-button-v2.html":"9v8/","./components/player/skip-button.html":"VK2M","./components/player/toggle-cc-settings.html":"UFrH","./components/player/toggle-cc.html":"s+YT","./components/player/toggle-debug.html":"5Jdf","./components/player/toggle-fullscreen.html":"8YVh","./components/player/toggle-play.html":"caqp","./components/player/toggle-sap.html":"pSUN","./components/player/toggle-watch-on-tv.html":"fJ9L","./components/player/volume-control.html":"wU1A","./components/popup/popup.html":"1saX","./components/popup/window-frame.html":"JL3u","./components/progress-bar/progress-bar.html":"SEIj","./components/record-cdvr/cdvr-storage-full-error.html":"4r6T","./components/record-cdvr/record-cdvr.html":"NmiD","./components/specu/signout.html":"XJEs","./components/stb-picker/stb-picker.html":"SjBL","./components/support/info.html":"Umwb","./components/template-popup/auth/auth-form.html":"biH7","./components/template-popup/edit-scheduled/edit-scheduled.html":"xYW1","./components/watch-next/watch-next.html":"IbFz","./directives/grid-list-toggler.html":"LnBo","./directives/ovp-carousel-template.html":"voYc","./directives/ovp-dropdown-list.html":"PDTe","./directives/ovp-dropdown.html":"sY/x","./directives/ovp-grid-list.html":"h68X","./directives/pagination-template.html":"PIAj","./eas/eas.html":"gKEH","./feature-tour/feature-tour-slide.html":"5AqN","./feature-tour/feature-tour.html":"KHpC","./guide/guide-date-directive.html":"H7eF","./guide/guide-subheader.html":"7RMp","./guide/guide.html":"Hfes","./login/errors/login-error-blacklist.html":"aj5O","./login/errors/login-error-generic.html":"tJ+2","./login/errors/login-error-lockout.html":"gdCp","./login/errors/login-error-not-online.html":"MNu0","./login/errors/login-error-suspicious-auth.html":"pXJ4","./login/login-welcome/login-welcome.html":"Qtsj","./login/login.html":"dMYR","./login/loginForm.html":"ul2O","./my-library/components/favorite-channels/favorite-channels.html":"cemn","./my-library/components/hero-banner-product.html":"p9ZU","./my-library/components/hero-banner.html":"NfGe","./my-library/components/mylibrary-viewall/mylibrary-viewall.html":"FwlG","./my-library/components/recent-channels/recent-channels.html":"FQLB","./my-library/components/recently-watched.html":"b6EQ","./my-library/components/watchlist.html":"DtJ8","./my-library/my-library.html":"pboN","./ondemand/category/ondemand-category.html":"dLOP","./ondemand/gallery-summary-page/gallery-summary-page.html":"r6D7","./ondemand/networks/network-3-tier.html":"t844","./ondemand/networks/network-category-list.html":"ltgI","./ondemand/networks/network-main-page.html":"UGjY","./ondemand/networks/network-sub-page.html":"ukCw","./ondemand/subheader/ondemand-subheader.html":"4ABp","./pages/schedule.html":"8Qo/","./parental-controls/parental-controls-warning/parental-controls-warning.html":"cZrc","./product/actions/action-menu.html":"I3hW","./product/actions/product-button.html":"iDzl","./product/episode-list/product-episode-list.html":"terU","./product/episode-list/product-episode.html":"CdX3","./product/info/product-cast.html":"udCI","./product/info/product-details.html":"jk4t","./product/info/product-info.html":"/P7z","./product/info/product-related.html":"vumq","./product/other-ways/list-item-variation.html":"RsAa","./product/other-ways/other-ways-popup.html":"aKLJ","./product/other-ways/other-ways.html":"WIY9","./product/product-movie.html":"66Du","./product/product-series.html":"a1Fp","./rdvr/disk-usage/disk-usage.html":"upK/","./rdvr/my-recordings/my-recordings.html":"0HQk","./rdvr/my-recordings/recording-item.html":"OzSd","./rdvr/priority/priority.html":"oc7q","./rdvr/rdvr-toolbar/rdvr-toolbar.html":"A3MQ","./rdvr/rdvr-toolbar/rename-stb.html":"vh2o","./rdvr/rdvr.html":"QMtS","./rdvr/scheduled/scheduled-item.html":"saHx","./rdvr/scheduled/scheduled.html":"JWTl","./rdvr/sub-header/sub-header.html":"jKa0","./search/result-pages/person-search-results.html":"5AoB","./search/result-pages/quick-search-results.html":"3Fbj","./search/result-pages/recent-searches.html":"pMrH","./search/result-pages/search-error.html":"AnkW","./search/result-pages/search-results.html":"8YbF","./search/result-pages/sports-search-results.html":"cVOF","./search/search-header.html":"33XX","./search/search-input.html":"BD6q","./search/widgets/result-list-item.html":"RYwQ","./search/widgets/sports-result-list-item.html":"tk1m","./settings/about/bulkmdu-about.html":"TmGJ","./settings/autoPlay/autoPlaySettings.html":"v6sE","./settings/devices/devices.html":"FOA0","./settings/favorites/favorite-card.html":"jRHC","./settings/favorites/favorites.html":"h17v","./settings/miniPlayer/miniPlayerSettings.html":"ahwG","./settings/parental-controls/channel-block/channel-block.html":"IdFQ","./settings/parental-controls/parental-controls-disabled.html":"Eqvq","./settings/parental-controls/parental-controls.html":"WFNz","./settings/purchasePin/purchasePin.html":"Vt7j","./settings/setting-tablist/setting-tablist.html":"fwNC","./settings/settings.html":"t4wx","./settings/stb-parentalControls/stb-allowedRatings.html":"eaeD","./settings/stb-parentalControls/stb-changeBlockingPin.html":"PV4z","./settings/stb-parentalControls/stb-contentBlock.html":"eDgE","./settings/stb-parentalControls/stb-parentalControls.html":"0olo","./settings/stb-parentalControls/stb-parentalControlsToggle.html":"iq8f","./settings/stb-parentalControls/stb-shareInProgressList.html":"rsxv","./settings/stb-parentalControls/stb-timeblock/stb-createTimeBlock.html":"15oi","./settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.html":"pljR","./settings/stb-parentalControls/stb-timeblock/stb-timeBlock.html":"uJ7E","./settings/stb-parentalControls/stb-titleBlock.html":"Rboz","./settings/stb-purchasePin/stb-purchasePin.html":"i+0Q","./specu-welcome/specu-welcome.html":"NwI0","./specu/activate.html":"6avm","./specu/failure.html":"xVNG","./specu/loading.html":"ep/u","./specu/success.html":"losG","./tvsa/eula.html":"cPrL","./twctv/novideoservice.html":"z1ye","./twctv/twctv.html":"argV","./twctv/unsupported-browser.html":"L/+S","./video-store/store-page.html":"vprG"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="VGrQ"},VK2M:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div prevent-default role="button" tabindex="{{($ctrl.ovpDisabled || $ctrl.seeking) ? -1 : 0}}" aria-label="{{$ctrl.ariaLabel}}" ng-class="{\'disabled\': $ctrl.ovpDisabled}" ovp-click="$ctrl.skip();" ng-mouseenter="$ctrl.skipHover=true" ng-mouseleave="$ctrl.skipHover=false" ng-focus="$ctrl.enlargeIcon=true" accesskey="{{$ctrl.directionText === \'backward\' ? \'j\' : \'l\' }}">\n<span ng-if="$ctrl.enlargeIcon || $ctrl.alwaysShowSeconds" class="skip-seconds" ng-class="$ctrl.skipHover ? \'text-hover\' : \'text-highlight\'">{{$ctrl.seconds}}</span>\n<img alt="Jump {{$ctrl.directionText}}" ng-src="{{$ctrl.image()}}">\n</div>\n',o="js/components/player/skip-button.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Vt7j:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="purchasePin">\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2"> Website Purchase PIN</h2>\n<div class="row">\n<div class="setting-label col-xs-8">Purchase PIN</div>\n<div class="col-xs-8 text-right">\n<ovp-switch id="purchase_pin_enabled" role="button" aria-label="Purchase Pin" aria-pressed="{{purchasePinEnabledForClient ? \'true\' : \'false\'}}" ng-click="togglePinEnabled($event);" button-enabled="{{purchasePinEnabledForClient}}" prevent-default></ovp-switch>\n</div>\n</div>\n</div>\n',o="js/settings/purchasePin/purchasePin.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"W/Vm":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="canvas-menu-wrapper" role="region" aria-label="Spectrum Account Menu">\n<div class="grey-texture">\n<div ovp-click="$ctrl.closeOffCanvasModal()" aria-label="close" role="button" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false">\n<img alt="" class="close-icon" ng-src="{{$ctrl.closeIcon()}}"/>\n</div>\n<ul role="list" class="list-unstyled nav">\n<li>\n<a ng-href="{{$ctrl.manageAccountLink()}}" focus-once ng-click="$ctrl.manageAccount()">Manage Account</a>\n</li>\n<li>\n<a ng-href="{{$ctrl.supportLink()}}" ng-click="$ctrl.getSupport()">Get Support</a>\n</li>\n<li>\n<a href="/" ng-click="$ctrl.watchTV()">Watch TV</a>\n</li>\n</ul>\n<div ng-if="$ctrl.loggedIn" class="btn-wrapper">\n<button class="kite-btn kite-btn-primary kite-btn-block" aria-label="Sign Out {{$ctrl.userName}}" ng-click="$ctrl.signOut()">Sign Out</button>\n<p class="user-name">{{$ctrl.userName}}</p>\n</div>\n</div>\n</div>\n',o="js/components/header/off-canvas-menu.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},WAn2:function(e,t,n){var r;void 0===(r=function(e,t,n){"use strict";t.parse=function(e){return Array.isArray(e)?function(e){var t=[];return e.forEach(function(e){t=t.concat(e.Notification||[])}),t}(e):function(e){return Array.isArray(e&&e.Notification)?[].concat(e.Notification):[]}(e)},t.types=function(e){var n=[];return t.parse(e).forEach(function(e){r.test(e.Status)&&n.push(e.type)}),n},t.subscribe=function(e,t,n,i){return(Array.isArray(e)?e:[e]).reduce(function(e,o){var a=o&&o.Notification||[];a=Array.isArray(a)?a:[a];var s={id:o.id,idType:o.idType,Notification:a.reduce(function(e,i){return!r.test(i.Status)||n&&-1===n.indexOf(i.type)||e.push({operation:t,type:i.type}),e},[])};return(s.Notification.length>0||i)&&e.push(s),e},[])},t.join=function(e,t){return(Array.isArray(e)?e:[e]).reduce(function(e,n){var i=n&&n.Notification||[];return i=Array.isArray(i)?i:[i],e.concat(i.reduce(function(e,i){return!r.test(i.Status)||t&&-1===t.indexOf(i.type)||e.push({id:n.id,notificationType:i.type}),e},[]))},[])};var r=t.isActive=/^\s*(available|subscribed)\s*$/i}.call(t,n,t,e))||(e.exports=r)},WFNz:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="parentalControls" class="parental-controls" ng-controller="ParentalControlsSettingsController as vm">\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2"> Website Parental Controls</h2>\n<div class="row">\n<div id="parental-controls-label" class="setting-label col-xs-8">Parental Controls</div>\n<div class="col-xs-8 text-right">\n<ovp-switch id="pc_enabled" role="button" aria-label="Parental controls" aria-pressed="{{vm.parentalControlsEnabledForClient ? \'true\' : \'false\'}}" ng-click="vm.togglePCEnabled($event);" button-enabled="{{vm.parentalControlsEnabledForClient}}" prevent-default></ovp-switch>\n</div>\n</div>\n<div class="parental-controls-lock-container">\n<div class="row pc-locked" ng-if="!vm.canEdit" ng-click="vm.unlock()" tabindex="-1"></div>\n<div class="blocks-container" ng-class="{disabled: !vm.canEdit}">\n<div class="row">\n<p class="help-block col-xs-16">Ratings and channels marked with <span class="twcicon-svg twcicon-svg-lock" role="img" aria-label="a lock icon"></span> will be blocked.</p>\n</div>\n<div class="row">\n<h2 id="tv-ratings-label" class="setting-label col-xs-16">Allowed TV ratings</h2>\n<div class="row">\n<div class="col-xs-16">\n<ovp-parental-controls-slider class="rating-slider" ratings="vm.tvRatings" current-rating="vm.ratings.tvRating" disabled="!vm.canEdit" enable-callback="vm.unlock" label="\'Allowed TV Ratings\'"></ovp-parental-controls-slider>\n</div>\n</div>\n</div>\n<div class="row">\n<h2 id="movie-ratings-label" class="setting-label col-xs-16">Allowed movie ratings</h2>\n<div class="row">\n<div class="col-xs-16">\n<ovp-parental-controls-slider class="movie-rating-slider" ratings="vm.movieRatings" current-rating="vm.ratings.movieRating" disabled="!vm.canEdit" enable-callback="vm.unlock" label="\'Allowed Movie Ratings\'"></ovp-parental-controls-slider>\n</div>\n</div>\n</div>\n<channel-block channel-cards="vm.channelCards" filtered-cards="vm.filteredCards" on-filter-changed="vm.onFilterChanged" get-card-number="vm.getCardNumber" get-card-name="vm.getCardName" get-card-image="vm.getCardImage" is-channel-blocked="vm.isChannelBlocked" clear-all-channel-blocks="vm.clearAllChannelBlocks" toggle-card-block="vm.toggleCardBlock"></channel-block>\n</div>\n</div>\n</div>\n',o="js/settings/parental-controls/parental-controls.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},WIY9:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="row">\n<div class="col-md-16">\n<div class="row other-ways-header">\n<div class="col-md-6">\n<h2 id="other-ways-dialog-label">More Ways to Watch</h2>\n</div>\n<div class="col-md-6 nav-center" ng-show="!$ctrl.isCdvrEnabled && !$ctrl.capabilitiesService.isSpecUOrBulkMDU() && !$ctrl.capabilitiesService.isTVSA()">\n<ul class="nav nav-tabs" role="tablist" arrow-nav="tablist-tab" arrow-nav-options="{{$ctrl.arrowNavOptions}}">\n<li class="tablist-tab" ng-class="{\'active\':($ctrl.activeTab==\'watchHere\'), \'disabled\':!($ctrl.watchHereActions && $ctrl.watchHereActions.length > 0)}" ng-attr-tabindex="{{($ctrl.activeTab==\'watchHere\') ? 0 : -1}}" arrow-nav-ignore-tabindex ng-focus="$ctrl.onTabFocus()" ng-disabled="!($ctrl.watchHereActions && $ctrl.watchHereActions.length > 0)" ovp-click="$ctrl.setActiveTab(\'watchHere\')" aria-selected="{{($ctrl.activeTab==\'watchHere\')}}" role="tab">\n<a>Watch Here</a>\n</li>\n<li class="tablist-tab" ng-class="{\'active\':($ctrl.activeTab==\'watchOnTv\'), \'disabled\':!($ctrl.watchOnTvActions && $ctrl.watchOnTvActions.length > 0)}" ng-attr-tabindex="{{($ctrl.activeTab==\'watchOnTv\') ? 0 : -1}}" arrow-nav-ignore-tabindex ng-focus="$ctrl.onTabFocus()" ng-disabled="!($ctrl.watchOnTvActions && $ctrl.watchOnTvActions.length > 0)" ovp-click="$ctrl.setActiveTab(\'watchOnTv\')" aria-selected="{{($ctrl.activeTab==\'watchOnTv\')}}" role="tab">\n<a>Watch On TV</a>\n</li>\n</ul>\n</div>\n</div>\n<div class="row other-ways-content">\n<div class="col-md-16">\n<div class="tab-content" role="tabpanel" tabindex="{{$ctrl.tabFocusablePanel ? 0 : -2}}" ng-focus="$ctrl.onTabPanelFocus()">\n<div id="watch-here-pane" class="tab-pane" ng-class="{\'active\':($ctrl.activeTab==\'watchHere\')}">\n<ul class="list-group">\n<li class="more-ways-list" ng-repeat="item in $ctrl.watchHereActions">\n<button class="row list-group-item" product-button-actions action="item" asset="$ctrl.asset" ng-click="productActionClicked(item, $ctrl.asset, $event)" ng-include="\'js/product/other-ways/list-item-variation.html\'" focus-when="$ctrl.inPopup === true && $first" ng-attr-focus-next="{{$ctrl.inPopup && $last && \'.popupCloseClick\' || undefined}}">\n</button>\n</li>\n</ul>\n</div>\n<div id="watch-on-tv-pane" class="tab-pane" ng-class=\'{"active":($ctrl.activeTab=="watchOnTv")}\'>\n<ul class="list-group">\n<li class="more-ways-list" ng-repeat="item in $ctrl.watchOnTvActions">\n<button class="row list-group-item" product-button-actions action="item" asset="$ctrl.asset" ng-click="productActionClicked(item, $ctrl.asset, $event)" ng-include="\'js/product/other-ways/list-item-variation.html\'" ng-attr-focus-next="{{$ctrl.inPopup && $last && \'.popupCloseClick\' || undefined}}">\n</button>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</div>\n</section>\n',o="js/product/other-ways/other-ways.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},WoJm:function(e,t){!function(){"use strict";angular.module("ovpApp.cdvr",["ovpApp.messages","ui.router","ovpApp.services.cdvr","ovpApp.directives.gridList","ovpApp.product.productActionService","ovpApp.product.service","ovpApp.components.modal","ovpApp.components.error.cdvrStorage","ovpApp.services.kiteModal"])}()},X8yy:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("TIMEZONE");t.a=i},XHxQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("UntU");function i(e){Object(r.j)("generic_customEvent",e)}},XJEs:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="document" class="specu-signout-container-wrapper">\n<div class="specu-signout-container">\n<div class="info-icon-container">\n<img alt="" aria-hidden="true" ovp-src="/images/icon-40-x-40-information.svg"/>\n</div>\n<div ovp-click="$ctrl.modalInstance.dismiss()" role="button" aria-label="close dialog" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false" tabindex="0">\n<img alt="" aria-hidden="true" class="close-icon" ng-src="{{$ctrl.closeIcon()}}">\n</div>\n<h1 id="labelText" tabindex="-2" focus-once>Sign Out of SpectrumU?</h1>\n<p class="confirmation-text">Are you sure you want to leave the app?</p>\n<div class="buttonHolder">\n<button class="kite-btn kite-btn-block kite-btn-primary" ovp-click="$ctrl.signOut()">Sign Out</button>\n<button aria-label="Cancel and Return to SpectrumU" class="kite-btn kite-btn-block kite-btn-outline-primary" ovp-click="$ctrl.modalInstance.dismiss()">Cancel</button>\n</div>\n<p class="line-through"><span>or</span></p>\n<p class="footer-message">\nIf you\'re an existing Spectrum customer, you can also <a class="link" href="#" ovp-click="$ctrl.signOut()">sign in</a> to your account to watch TV.\n</p>\n</div>\n</div>\n',o="js/components/specu/signout.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},Xtao:function(e,t){!function(){"use strict";angular.module("ovpApp.components.progressBar",[]).component("progressBar",{bindings:{backgroundColor:"@",percentPlayed:"<",hideAria:"<"},templateUrl:"js/components/progress-bar/progress-bar.html"})}()},YPdE:function(e,t,n){!function(){"use strict";function e(e,t,n){function r(e,r){try{t.isDebug()&&n.debug("Analytics: processError",angular.copy(r)),r.httpError&&angular.extend(r,i(r.httpError)),r.errorCode=String(r.errorCode),r.errorMessage=r.errorMessage||"",r.errorType=r.errorType||"",r.clientErrorCode&&(r.clientErrorCode=String(r.clientErrorCode)),t.event("error",r)}catch(e){n.error("Analytics:",e)}}function i(e){t.isDebug()&&n.debug("Analytics: extractHttpError",e);var r={};return e&&e.data&&(r.errorCode=String(e.data.statusCode),r.errorMessage=e.data.error,r.errorExtras={},e.data.message&&(r.errorExtras.message=e.data.message),e.config&&e.config.url&&(r.errorExtras.url=e.config.url)),r}return{processError:r,extractHttpError:i,sadTv:function(e,i){try{t.isDebug()&&n.debug("Analytics: sadTv",angular.copy(i)),i&&(i.errorType="sadTv",i.triggeredBy="application"),r(0,i)}catch(e){n.error("Analytics:",e)}}}}e.$inject=["$rootScope","analyticsService","$log"],e.$inject=["$rootScope","analyticsService","$log"],angular.module("ovpApp.analytics.events.error",["ovpApp.analytics.analyticsService"]).factory("analyticsError",e).run(["analyticsError",function(e){return e}])}()},YPdk:function(e,t,n){"use strict";n.d(t,"c",function(){return P}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return F}),n.d(t,"d",function(){return U});n("pNMO"),n("TeQF"),n("QWBl"),n("sMBO"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP"),n("R5XZ");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("lSNA")),a=n.n(o),s=n("yXPU"),c=n.n(s),l=n("dprx"),u=n.n(l),d=n("PNUD"),p=n("PnGe"),h=n("7s9v"),v=n("fwyg"),f=n("acdo"),m=n("YTiU"),g=n("XHxQ"),b=n("hIh8");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w,k="1.4",C=576,$=720,T=void 0,O=1e3,E="not_yet_initialized",A="not_yet_initialized";function P(){return I.apply(this,arguments)}function I(){return(I=c()(i.a.mark(function e(){var t,n,r,o,a,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d.a.getSelectorValue(v.oc)){e.next=4;break}return V(T,b.a.disabled),e.abrupt("return");case 4:if(d.a.getSelectorValue(f.e)===m.f.BITMOVIN){e.next=7;break}return e.abrupt("return");case 7:return t=d.a.getSelectorValue(f.h),n=Object(h.b)()>=73,r=null,o=null,a="SAFARI"===platform.name.toUpperCase(),s={isSafari:a,isPlayingTvod:t,isChrome73orHigher:n},e.prev=13,e.next=16,N();case 16:r=x(S({isHdcpCompliant:c=!0},s)),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(13),c=!1,o=e.t0,r=x(S({isHdcpCompliant:c},s));case 25:return e.next=27,R(r);case 27:e.sent&&_(r,o),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),console.error("Error: ",e.t1);case 34:case"end":return e.stop()}},e,null,[[0,31],[13,20]])}))).apply(this,arguments)}function x(e){var t=e.isHdcpCompliant,n=void 0!==t&&t,r=e.isPlayingTvod,i=void 0!==r&&r,o=e.isChrome73orHigher,a=void 0!==o&&o,s=e.isSafari;return void 0!==s&&s?T:n&&a?T:!n&&a?C:i?C:$}function _(e,t){return D.apply(this,arguments)}function D(){return(D=c()(i.a.mark(function e(t,n){var r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?b.a.detectedHdcpNoncompliant:b.a.detectedHdcpCompliant,V(t,r,{reason:n}),o=angular.element(document.body).injector().get("playerFactory"),e.next=5,o.getPlayer(m.f.BITMOVIN);case 5:a=e.sent,t?a.setSegmentRestriction({verticalResolutionMax:t}):a.setSegmentRestriction(null);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e){return j.apply(this,arguments)}function j(){return(j=c()(i.a.mark(function e(t){var n,r,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=angular.element(document.body).injector().get("playerFactory"),e.next=3,n.getPlayer(m.f.BITMOVIN);case 3:if(r=e.sent,o=r.getSegmentRestriction(),a=Object(p.c)(o,"verticalResolutionMax"),o){e.next=8;break}return e.abrupt("return",!0);case 8:if(a!==t&&(a||t)){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return M.apply(this,arguments)}function M(){return(M=c()(i.a.mark(function e(){var t,n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator&&navigator.requestMediaKeySystemAccess){e.next=2;break}throw"Unsupported requestMediaKeySystemAccess call";case 2:return t=[{videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:"SW_SECURE_DECODE"}]}],e.next=5,navigator.requestMediaKeySystemAccess("com.widevine.alpha",t);case 5:return n=e.sent,e.next=8,n.createMediaKeys();case 8:if("getStatusForPolicy"in(r=e.sent)){e.next=11;break}throw"HDCP Policy Check API is not available.";case 11:return e.next=13,r.getStatusForPolicy({minHdcpVersion:k});case 13:if("usable"===(o=e.sent)){e.next=16;break}throw o;case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.set("playbackCapping",{playbackCapping:t}),e===E&&t===A||(E=e,A=t,Object(g.a)({customLevel:"info",customName:"HDCPCapping",customMessage:S({status:t,limit:String(e||"unlimited")},n)}))}function L(){F();var e=d.a.getSelectorValue(v.m);e&&Object(p.e)(e)&&e>0&&(w=window.setInterval(function(){P()},e*O))}function F(){clearInterval(w),w=void 0}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.a.getSelectorValue(v.nc)&&"SAFARI"===platform.name.toUpperCase()&&2013===e}},YTiU:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return l});var r={LINEAR:"LINEAR",VOD:"VOD",CDVR:"CDVR"},i={BITMOVIN:"BITMOVIN"},o={widevine:"widevine",playready:"playReady",fairplay:"fairplay",primetime:"adobePrimeTime"},a={BITMOVIN:"bitmovinplayer-video-spectrum-player",SPECTRUM_PLAYER:"spectrum-player"},s={PLAYING:"playing",PAUSED:"paused"},c={PLAY:"play",PAUSE:"pause",ENTER:"enterpictureinpicture",EXIT:"leavepictureinpicture"},l={MUTE:"mute",PLAY_ICON:"playIcon"}},Z2FP:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"l",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"m",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return f});n("TeQF"),n("fbCW"),n("4mDm"),n("ToJy"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ");var r=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.channels)||void 0===n?void 0:n.data)&&void 0!==t?t:[]},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:t.error},o=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:t.inProgress},a=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.channels)||void 0===n?void 0:n.matchingAutoTuneTmsGuideIds)&&void 0!==t?t:[]},s=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.defaultChannel)||void 0===n?void 0:n.tmsId},c=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.defaultChannel)||void 0===n?void 0:n.strategy},l=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.defaultChannel)||void 0===n?void 0:n.enabled},u=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.channels)||void 0===t?void 0:null===(n=t.defaultChannel)||void 0===n?void 0:n.hasSeenStartup},d=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.channels)||void 0===n?void 0:n.entitledProductProviders)&&void 0!==t?t:new Set},p=function(e){return e.filter(function(e){return e.favorite})},h=function(e){return e.filter(function(e){var t=e.online,n=e.onlineEntitled;return!(!t||!n)||null})},v=function(e){return e.sort(function(e,t){var n=e.networkName.toUpperCase(),r=t.networkName.toUpperCase();return n<r?-1:n>r?1:0})},f=function(e){return r(e).find(function(t){return t.tmsGuideId===s(e)})}},ZCGA:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a});var r="UPDATE_PLAYER_CURRENT_ASSET_INFO",i="player/PLAYER_SET_WAS_CASTING";function o(e){return{type:r,payload:e}}function a(e){return{type:i,payload:e}}},ZkVR:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="cdvr cdvr-scheduled">\n<div class="header kite-grid" ng-if="$ctrl.schedule">\n<h1 class="kite-cell kite-cell-4 kite-h3" tabindex="-2" id="screen_title" focus-once>Scheduled</h1>\n<div class="kite-cell kite-cell-4"></div>\n</div>\n<div role="heading" aria-level="2" class="empty-list-message" ng-show="$ctrl.schedule.length==0">{{$ctrl.message}}</div>\n<section class="scheduled-day" ng-repeat="day in $ctrl.schedule">\n<h2 id="scheduled-header-{{$index}}" class="day-label">{{day.label}} <small>{{day.date}}</small></h2>\n<ovp-grid-list items="day.recordings" options="$ctrl.listConfig">\n<list-items role="list" aria-labelledby="scheduled-header-{{$index}}">\n<div aria-hidden="true">\n<div class="col-md-15 cdvr-scheduled-list-heading">\n<div>\n<span class="col-md-6">Title</span>\n<div class="col-md-6">\n<span class="col-md-4">Details</span>\n</div>\n<span class="col-md-2">Scheduled</span>\n<span class="col-md-2">Network</span>\n</div>\n</div>\n<div class="col-md-1 cdvr-scheduled-list-heading empty-cancel-button"></div>\n</div>\n<cdvr-schedule-list-item ng-repeat="recording in day.recordings" role="listitem" asset="recording" id-index="($parent.$index + \'\' + $index)" last-focused-element="$ctrl.lastFocusedElement(index)"></cdvr-schedule-list-item>\n</list-items>\n</ovp-grid-list>\n</section>\n</div>\n',o="js/cdvr/scheduled.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},a1Fp:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<masthead ng-if="$ctrl.version === 2" asset="$ctrl.series"></masthead>\n<div id="productPageSeries" ng-class="{container: $ctrl.version===1}" class="product-page product-series">\n<div ng-if="$ctrl.version === 1" class="row masthead">\n<div class="col-md-8">\n<div class="thumbnail thumbnail-static thumbnail-showcard thumbnail-responsive text-center">\n<img ng-src="{{$ctrl.series.imageUri({orientation:\'landscape\', height:348})}}" alt="{{::$ctrl.series.title}}" fadein-onload>\n<span class="twcicon-svg twcicon-svg-key" ng-if="!$ctrl.entitled" aria-hidden="true" aria-label="key icon"></span>\n<span class="twcicon-svg twcicon-svg-lock" ng-if="$ctrl.entitled && $ctrl.blocked" aria-hidden="true" aria-label="lock icon"></span>\n</div>\n</div>\n<div class="col-md-8">\n<div class="row program-header">\n<div class="col-md-12">\n<div class="title">\n<h1 class="kite-h2" focus-once tabindex="-2">{{::$ctrl.series.title}}</h1>\n<div class="twcicon-svg twcicon-svg-recording-series" role="img" aria-label="Scheduled to record" ng-if="$ctrl.series.isSeriesRecording"></div>\n</div>\n<p class="subtitle-container kite-h4">\n<span class="subtitle">{{::$ctrl.series.episodesAvailable}} episodes</span>\n<span ng-if="$ctrl.hasBookmark" class="sr-only">, {{$ctrl.playedPct | number:0}} % watched, </span>\n</p>\n</div>\n<div class="col-md-4 text-center">\n<img alt="{{::$ctrl.series.network.name}}" class="channel-logo" ng-src="{{::$ctrl.series.networkImage({height:81, default:false})}}" fallback-image="display:none"/>\n</div>\n</div>\n<div class="row" ng-if="::$ctrl.isUnavailableOoh()">\n<div class="col-md-16">\n<p class="ooh-unavailable-message">\n<svg focusable="false" aria-hidden="true" role="img" aria-label="" class="ooh-icon-arrow"><use width="15" height="15" xlink:href="#ooh-arrow-icon" svg-path/></svg>\n<small>{{::$ctrl.oohAvailabilityMessage()}}</small>\n</p>\n</div>\n</div>\n<div class="row" ng-if="$ctrl.availabilityMessage()">\n<div class="col-md-16">\n<p class="unavailable-message h4 small" ng-bind-html="$ctrl.availabilityMessage()"></p>\n</div>\n</div>\n<div class="row">\n<div class="col-md-16">\n<p class="program-summary" ng-bind-html="$ctrl.series.description.long" data-ellipsis></p>\n</div>\n</div>\n<action-menu class="row program-actions" actions="$ctrl.series.actions" asset="$ctrl.series" ng-if="$ctrl.series.actions"></action-menu>\n</div>\n</div>\n<section class="row nav-tab-bar">\n<ul role="tablist" arrow-nav="tablist-tab" arrow-nav-options="{{$ctrl.arrowNavOptions}}">\n<li class="tablist-tab" ng-attr-tabindex="{{$ctrl.isOnTab(\'episodes\') ? 0 : -1}}" arrow-nav-ignore-tabindex ng-focus="$ctrl.onTabFocus()" ng-disabled="!($ctrl.series.episodesAvailable > 0)" ng-class="{\'active\':$ctrl.isOnTab(\'episodes\'), \'disabled\':!($ctrl.series.episodesAvailable > 0)}" ovp-click="$ctrl.activateTab(\'episodes\')" aria-label="Episodes" aria-selected="{{$ctrl.isOnTab(\'episodes\')}}" role="tab">\nEpisodes\n</li>\n<li class="tablist-tab" ng-attr-tabindex="{{$ctrl.isOnTab(\'info\') ? 0 : -1}}" arrow-nav-ignore-tabindex ng-focus="$ctrl.onTabFocus()" ng-class="{\'active\':$ctrl.isOnTab(\'info\')}" aria-label="Info" ovp-click="$ctrl.activateTab(\'info\')" aria-selected="{{$ctrl.isOnTab(\'info\')}}" role="tab">\nInfo\n</li>\n</ul>\n<div class="tab-underline"></div>\n</section>\n<section class="details-section row">\n<div class="tab-content" role="tabpanel" tabindex="{{$ctrl.tabFocusablePanel ? 0 : -2}}" ng-focus="$ctrl.onTabPanelFocus()">\n<ui-view series-current="$ctrl.series"></ui-view>\n</div>\n</section>\n</div>\n',o="js/product/product-series.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},aANo:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return b});var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("LS8I"),p=n("I+BT"),h=n("fwyg"),v=n("UntU"),f=n("Dhhs");function m(){return g.apply(this,arguments)}function g(){return(g=s()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S(u.a.getSelectorValue(f.a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return(y=s()(o.a.mark(function e(){var t,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=d.a.get(),n=(u.a.getSelectorValue(h.ke)||u.a.getSelectorValue(h.Xe))&&"SPECU"===(null===t||void 0===t?void 0:t.accountType),r=u.a.getSelectorValue(h.z)&&"MDU_BULK_MASTER"===(null===t||void 0===t?void 0:t.classification),"TVSA"===(null===t||void 0===t?void 0:t.accountType)?S(p.a.TVSA):n?S(p.a.SPEC_U):r&&S(p.a.BULK_MDU);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=s()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,Object(v.h)();case 3:l.a.set(p.d.APPLICATION_NAME,{applicationName:r});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},aKLJ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="other-ways-popup">\n<other-ways asset="event" in-popup="true" class="other-ways"></other-ways>\n</div>\n',o="js/product/other-ways/other-ways-popup.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},aKMe:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="cc-settings-container">\n<p id="descriptionBlockText" hidden>Updated settings will go into effect immediately.</p>\n<button class="kite-close" ovp-click="$ctrl.closeCCSettings()" aria-label="close dialog" style="float: right;">\n</button>\n<div class="cc-settings-header" role="heading" aria-level="1">\n<span id="labelText" class="sr-only" tabindex="-2" focus-once>Closed captioning settings</span>\n<img alt="" class="cc-icon" style="float: left" ng-src="{{$ctrl.appVersion}}/images/icon-cc.png"/>\n<h5 aria-hidden="true">Settings</h5>\n</div>\n<div>\n<div class="cc-text-option-container-wrapper">\n<h2 class="kite-h5" id="cc-text-label">Text</h2>\n<div class="cc-text-option-container">\n<div role="radiogroup" aria-label="Text Color" class="color-options-container" arrow-nav="div-color" arrow-nav-options="{{$ctrl.arrowNavOptions}}">\n<div role="radio" aria-checked="{{$ctrl.ccSettings.textColorSelectedIndex === color.index}}" ng-repeat="color in $ctrl.colorOptions" aria-label="{{color.name}} " class="div-color" ng-class="{\'selected-color\': $ctrl.ccSettings.textColorSelectedIndex === color.index, \'solid-color\': $first}" ng-focus="$ctrl.setTextColor(color)" focus-previous=".popupCloseClick" ng-style="{\'background-color\': color.color}" arrow-nav-ignore-tabindex tabindex="{{($ctrl.ccSettings.textColorSelectedIndex === color.index) ? 0 : -1}}">\n{{color.initial}}\n</div>\n</div>\n<ovp-dropdown-list items="$ctrl.textOpacityOptions" config="{activeIndex: $ctrl.ccSettings.textOpacitySelectedIndex, onSelect: $ctrl.setTextOpacity, buttonLabel: \'text opacity\'}" class="cc-text-dropdown"></ovp-dropdown-list>\n</div>\n</div>\n<div class="cc-font-option-container">\n<div class="font-container">\n<h2 class="kite-h5" id="cc-font-label">Font</h2>\n<ovp-dropdown-list items="$ctrl.fontOptions" config="{activeIndex: $ctrl.ccSettings.fontSelectedIndex, onSelect: $ctrl.setFont, buttonLabel: \'font\'}"></ovp-dropdown-list>\n</div>\n<div class="font-size-container">\n<h5 role="presentation" id="cc-font-size-label">Size</h5>\n<ovp-dropdown-list items="$ctrl.fontSizeOptions" config="{activeIndex: $ctrl.ccSettings.fontSizeSelectedIndex, onSelect: $ctrl.setFontSize, buttonLabel: \'font size\'}"></ovp-dropdown-list>\n</div>\n<div class="font-edge-container">\n<h5 role="presentation" id="cc-font-edge-label">Edge</h5>\n<ovp-dropdown-list items="$ctrl.fontEdgeOptions" config="{activeIndex: $ctrl.ccSettings.edgeSelectedIndex, onSelect: $ctrl.setFontEdge, buttonLabel: \'font edge\'}"></ovp-dropdown-list>\n</div>\n</div>\n<div class="cc-background-option-container">\n<h2 class="kite-h5" id="cc-background-label">Background</h2>\n<div role="radiogroup" aria-label="Background Color" arrow-nav="div-color" arrow-nav-options="{{$ctrl.arrowNavOptions}}">\n<div role="radio" aria-checked="{{$ctrl.ccSettings.backgroundColorSelectedIndex === color.index}}" aria-label="{{color.name}}" class="div-color" ng-class="{\'selected-color\': $ctrl.ccSettings.backgroundColorSelectedIndex === color.index, \'solid-color\': $first}" ng-repeat="color in $ctrl.colorOptions" ng-focus="$ctrl.setBackgroundColor(color)" ng-style="{\'background-color\': color.color}" arrow-nav-ignore-tabindex tabindex="{{($ctrl.ccSettings.backgroundColorSelectedIndex === color.index) ? 0 : -1}}">{{color.initial}}</div>\n</div>\n<ovp-dropdown-list items="$ctrl.backgroundOpacityOptions" config="{activeIndex: $ctrl.ccSettings.backgroundOpacitySelectedIndex, onSelect: $ctrl.setBackgroundOpacity, buttonLabel: \'background opacity\'}" class="cc-text-dropdown"></ovp-dropdown-list>\n</div>\n<div class="cc-window-option-container">\n<h2 class="kite-h5" id="cc-window-label">Window</h2>\n<div role="radiogroup" aria-label="Window Color" arrow-nav="div-color" arrow-nav-options="{{$ctrl.arrowNavOptions}}">\n<div role="radio" aria-checked="{{$ctrl.ccSettings.windowColorSelectedIndex === color.index}}" aria-label="{{color.name}}" class="div-color" ng-class="{\'selected-color\': $ctrl.ccSettings.windowColorSelectedIndex === color.index, \'solid-color\': $first}" ng-repeat="color in $ctrl.colorOptions" ng-focus="$ctrl.setWindowColor(color)" ng-style="{\'background-color\': color.color}" arrow-nav-ignore-tabindex tabindex="{{($ctrl.ccSettings.windowColorSelectedIndex === color.index) ? 0 : -1}}">{{color.initial}}</div>\n</div>\n<ovp-dropdown-list items="$ctrl.windowOpacityOptions" config="{activeIndex: $ctrl.ccSettings.windowOpacitySelectedIndex, onSelect: $ctrl.setWindowOpacity, buttonLabel: \'window opacity\'}" class="cc-text-dropdown"></ovp-dropdown-list>\n</div>\n<div class="cc-footer-container">\n<button type="button" class="kite-btn restore-default-btn" ng-click="$ctrl.restoreDefault()">Restore Defaults</button>\n</div>\n</div>\n</div>\n',o="js/components/ovp/ovp-cc-settings/ovp-player-cc-settings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},aT91:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div>\n<h2 id="alert-title" class="alertBox Title" ng-bind-html="$ctrl.title"></h2>\n<div id="alert-error-message" class="alertPopup error-message message" ng-bind-html="$ctrl.message"></div>\n<div class="error-message">\n<ovp-button id="popup-button" class="base-button" on-click="$ctrl.close()" ng-show="$ctrl.buttonText" label="{{$ctrl.buttonText}}" focus="true"></ovp-button>\n</div>\n</div>\n',o="js/components/alert/alert.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},aX2P:function(e,t){!function(){"use strict";function e(e,t,n,r,i){var o=function(e,t,n){this.templateUrl=e,this.scope=t,this.options=n||{}};return o.prototype.setScope=function(e){this.scope=e},o.prototype.getScope=function(){return this.scope},o.prototype.close=function(){this.scope.popup.close()},o.prototype.removeClass=function(){this.scope.popup.removeClass(arguments)},o.prototype.addClass=function(){this.scope.popup.addClass(arguments)},o.prototype.show=function(){var o=e.defer(),a=this,s=n(this.templateUrl);return a.scope.parentContainer=function(){return t.get("playerService").isValidPlayRoute()?angular.element("#playerWrapper"):angular.element("body")},s.then(function(e){a.scope.popup=r.show({template:e,showCloseIcon:!angular.isDefined(a.options.showCloseIcon)||a.options.showCloseIcon,className:angular.isDefined(a.options.className)?a.options.className:"",overlayClickClosesPopup:a.options.overlayClickClosesPopup||!1,deferred:o,config:a.scope.config},a.scope)},function(){throw"Error pulling template"}),o.promise.then(function(){a.scope.offPopupClose(),a.getScope().$destroy()}),this.scope.offPopupClose=i.onSuccess({},function(){a.close()}),o.promise},o}e.$inject=["$q","$injector","$templateRequest","popUpService","$transitions"],e.$inject=["$q","$injector","$templateRequest","popUpService","$transitions"],angular.module("ovpApp.components.templatePopup",["ovpApp.directives.focus","ovpApp.components.popup","ngAria","ui.router"]).factory("TemplatePopup",e).constant("PopupType",{ALERT:"ALERT"})}()},acdo:function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return p});var r=n("YTiU"),i=function(e){var t,n,r,i,o,a,s;return(null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:null===(n=t.streamInfo)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:null===(i=r.stream)||void 0===i?void 0:i.isTvodStream)&&"VOD"===(null===e||void 0===e?void 0:null===(o=e.player)||void 0===o?void 0:null===(a=o.streamInfo)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.mode)},o=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:null===(n=t.playerInfo)||void 0===n?void 0:n.playerType},a=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:t.currentAsset},s=function(e){var t;return null===(t=a(e))||void 0===t?void 0:t.asset},c=function(e){var t;return null===(t=a(e))||void 0===t?void 0:t.playbackType},l=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:null===(n=t.autoplay)||void 0===n?void 0:n.showAutoPlayFailureUi)},u=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:null===(n=t.autoplay)||void 0===n?void 0:n.autoplayTooltipDismissed)},d=function(e){switch(c(e)){case r.g.LINEAR:return"WLP";case r.g.CDVR:return"WRP";default:return"WVP"}},p=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.player)||void 0===t?void 0:null===(n=t.brokenStream)||void 0===n?void 0:n.window}},ahwG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="miniPlayerSetting">\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2"> Mini Player</h2>\n<div class="row">\n<p id="miniPlayer-desc" class="col-xs-8">Turn on Mini Player to play video in a mini-window while you browse the app.</p>\n<div class="col-xs-8 text-right">\n<ovp-switch id="pc_enabled" role="button" aria-describedby="miniPlayer-desc" aria-label="Mini Player" aria-pressed="{{$ctrl.miniPlayerIsEnabled ? \'true\' : \'false\'}}" ovp-click="$ctrl.toggleMiniPlayer($event);" button-enabled="{{$ctrl.miniPlayerIsEnabled}}" prevent-default></ovp-switch>\n</div>\n</div>\n</div>\n',o="js/settings/miniPlayer/miniPlayerSettings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},aj5O:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="login-error" id="login-error">\n<header>\n<h1 error-codes-header="WLI-{{errorCode}}"></h1>\n</header>\n<p error-codes="WLI-{{errorCode}}" replace-vars=\'{"SUPPORT_PHONE_NUMBER":"{{config.supportPhoneNumber}}", "FORGOT_URL":"{{config.forgotHost}}{{config.registration.forgot}}"}\'></p>\n<button class="kite-btn kite-btn-primary btn-lg kite-btn-block help-submit" focus-once ng-click="fatalErrorClick()">Ok</button>\n</div>\n',o="js/login/errors/login-error-blacklist.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},argV:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 class="sr-only" ng-if="$state.includes(\'ovp.livetv\')" tabindex="-1" id="screen_title" focus-once>Live TV</h1>\n<h1 class="sr-only" ng-if="$state.current.name.startsWith(\'ovp.ondemand.play\')" tabindex="-1" focus-once>Video Player</h1>\n<player ng-if="vm.$rootScope.loadPlayer"></player>\n<chromecast-remote ng-if="!vm.isDisconnectingFromCast && vm.shouldShowRemote()"></chromecast-remote>\n<watch-next></watch-next>\n<div class="main-container" ng-hide="$state.includes(\'product\') || $state.includes(\'search\')">\n<div id="content" class="main-content" ui-view="appView"></div>\n</div>\n<remote-player></remote-player>\n<div id="modal"></div>\n',o="js/twctv/twctv.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},b4Tk:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="mini-guide" role="region" aria-label="mini guide" ng-class="{\'animate\': $ctrl.animateGuide}">\n<channels-filter focus-channels="$ctrl.focusChannelsOnFilterChange"></channels-filter>\n<div class="top-gradient-css"></div>\n<div class="spinner" ng-if="$ctrl.loadingTracker.active()"></div>\n<channel-list channels="$ctrl.filteredChannels" ng-keydown="$ctrl.onMiniGuideKeyDown($event)" ng-hide="$ctrl.filtersShowing"></channel-list>\n</div>\n',o="js/components/mini-guide/chromecast-mini-guide.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},b6EQ:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section ng-if="$ctrl.assets.length > 0">\n<ovp-carousel items="$ctrl.assets" options="{title: $ctrl.category.name, swimlaneIndex: $ctrl.swimlaneIndex, totalSwimlanes: $ctrl.totalSwimlanes}">\n<ovp-product ng-repeat="asset in $ctrl.assets" asset="asset" options="{enableRemove: true, enableOOW: true}" on-remove="$ctrl.onRemove(asset)">\n</ovp-product>\n</ovp-carousel>\n</section>\n',o="js/my-library/components/recently-watched.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},bB7c:function(e,t,n){"use strict";n.d(t,"g",function(){return P}),n.d(t,"o",function(){return x}),n.d(t,"r",function(){return _}),n.d(t,"b",function(){return D}),n.d(t,"s",function(){return R}),n.d(t,"q",function(){return j}),n.d(t,"P",function(){return N}),n.d(t,"p",function(){return M}),n.d(t,"K",function(){return V}),n.d(t,"I",function(){return L}),n.d(t,"N",function(){return F}),n.d(t,"L",function(){return U}),n.d(t,"M",function(){return B}),n.d(t,"A",function(){return W}),n.d(t,"R",function(){return G}),n.d(t,"n",function(){return q}),n.d(t,"v",function(){return z}),n.d(t,"d",function(){return K}),n.d(t,"c",function(){return Q}),n.d(t,"e",function(){return X}),n.d(t,"Q",function(){return Z}),n.d(t,"B",function(){return ee}),n.d(t,"C",function(){return te}),n.d(t,"w",function(){return ne}),n.d(t,"y",function(){return re}),n.d(t,"x",function(){return ie}),n.d(t,"j",function(){return oe}),n.d(t,"D",function(){return ae}),n.d(t,"h",function(){return se}),n.d(t,"F",function(){return ce}),n.d(t,"E",function(){return le}),n.d(t,"G",function(){return ue}),n.d(t,"O",function(){return de}),n.d(t,"u",function(){return ve}),n.d(t,"J",function(){return fe}),n.d(t,"i",function(){return me}),n.d(t,"m",function(){return ge}),n.d(t,"k",function(){return be}),n.d(t,"l",function(){return ye}),n.d(t,"z",function(){return Se}),n.d(t,"S",function(){return we}),n.d(t,"a",function(){return ke}),n.d(t,"H",function(){return Ce}),n.d(t,"f",function(){return $e}),n.d(t,"t",function(){return Te});n("pNMO"),n("4Brf"),n("0oug"),n("ma9I"),n("TeQF"),n("fbCW"),n("QWBl"),n("pjDv"),n("yXV3"),n("J30X"),n("4mDm"),n("oVuX"),n("2B1R"),n("E9XD"),n("+2oP"),n("DQNa"),n("sMBO"),n("toAj"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("B6y2"),n("JfAA"),n("PKPk"),n("FZtP"),n("3bBZ");var r=n("SK8o"),i=n.n(r),o=n("5b5N"),a=n.n(o),s=n("EyQl"),c=n.n(s),l=n("1DYX"),u=n.n(l),d=n("Ymwu"),p=n.n(d),h=n("lSNA"),v=n.n(h),f=n("YyHR"),m=n.n(f),g=n("xVxh"),b=n.n(g),y=n("RIqP"),S=n.n(y),w=n("2QjZ"),k=n.n(w),C=n("fwyg"),$=n("7p1Z");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){v()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return e.buyflow},I=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:t.currentPackage},x=function(e){var t;return null===(t=I(e))||void 0===t?void 0:t.data},_=function(e){var t;return null===(t=I(e))||void 0===t?void 0:t.inProgress},D=function(e){return x(e)?k()(x(e)):void 0},R=function(e){var t;return null===(t=D(e))||void 0===t?void 0:t.startDate},j=function(e){var t;return null===(t=D(e))||void 0===t?void 0:t.expirationDate},N=function(e){var t;return!((null===(t=D(e))||void 0===t?void 0:t.promotionalState)!==$.f.FREE_PREVIEW)},M=function(e){var t;return null===(t=I(e))||void 0===t?void 0:t.daysRemaining},V=function(e){return"number"==typeof M(e)},L=function(e){var t,n;return 1e3*(null!==(t=null===(n=D(e))||void 0===n?void 0:n.timeLeft)&&void 0!==t?t:0)},F=function(e){var t;return N(e)&&(null===(t=D(e))||void 0===t?void 0:t.timeLeft)>0},U=function(e){return N(e)&&M(e)<1},B=function(e){var t;return null===(t=I(e))||void 0===t?void 0:t.hasShownFreePreviewModal},W=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.offers)||void 0===n?void 0:n.data},H=function(e){var t;return!!(null===(t=W(e))||void 0===t?void 0:t.eligible)},G=function(e){return Object(C.Yf)(e)&&H(e)},q=function(e){var t,n;return null===(t=W(e))||void 0===t?void 0:null===(n=t.offers)||void 0===n?void 0:n[0]},z=function(e){var t;return null===(t=q(e))||void 0===t?void 0:t.levelsOfService},Y=function(e){var t;return null===(t=q(e))||void 0===t?void 0:t.baseOffer},K=function(e){var t;return null===(t=Y(e))||void 0===t?void 0:t.name},J=function(e){var t,n;return null!==(t=null===(n=q(e))||void 0===n?void 0:n.extras)&&void 0!==t?t:[]},Q=function(e){var t;return null===(t=Y(e))||void 0===t?void 0:t.id},X=function(e){var t;return null===(t=Y(e))||void 0===t?void 0:t.promotionType},Z=function(e){return X(e)===$.a.FREE_PREVIEW},ee=function(e){var t;return null===(t=W(e))||void 0===t?void 0:t.ottoErrorCode},te=function(e){var t;return null===(t=W(e))||void 0===t?void 0:t.ottoErrorMessage},ne=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.offers)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.netWorks},re=function(e,t,n){var r,i,o=null===(r=q(e))||void 0===r?void 0:r[t];return t===$.e.CHOICE_CHANNELS?o.reduce(function(e,t){return[].concat(S()(e),S()(t.ncsNetworkIds))},[]):(n&&o&&(o=o.find(b()("id",n))),null===(i=o)||void 0===i?void 0:i.ncsNetworkIds)},ie=function(e,t){var n,r={},i=[],o=E(ne(e));try{for(o.s();!(n=o.n()).done;){var a=n.value;r[null===a||void 0===a?void 0:a.ncsNetworkId]=a}}catch(e){o.e(e)}finally{o.f()}var s,c=E(t);try{for(c.s();!(s=c.n()).done;){var l=r[s.value];l&&i.push(l)}}catch(e){c.e(e)}finally{c.f()}return i},oe=function(e,t){var n=ne(e);return m()(function(e,t){return e.id===t.id},t,function(e){var t,n;return null!==(t=null===(n=q(e))||void 0===n?void 0:n.choiceChannels)&&void 0!==t?t:[]}(e)).map(function(e){return O(O({},e),{},{networkDetails:p()(b()("ncsNetworkId",e.ncsNetworkId))(n)})})},ae=function(e){var t=W(e),n=t.blacklistedFromFreePreview,r=t.blacklistedFromFreeTrial,i=t.householdFoundInMarketingFile,o=t.offers,a=t.ottoErrorCode,s=t.ottoErrorMessage,c=t.requestedFreePreviewDisabled,l=t.requestedOfferIsReturned,u=t.requestedOfferMatchedTargeted,d=t.scenarioId,p=t.singleOfferReturned,h=t.targetedOfferFoundInOffersCatalog,v=o.map(function(e){var t;return null===e||void 0===e?void 0:null===(t=e.baseOffer)||void 0===t?void 0:t.promotionType}).filter(function(e){return e}),f=o.map(function(e){var t;return null===e||void 0===e?void 0:null===(t=e.baseOffer)||void 0===t?void 0:t.id}).filter(function(e){return e}),m=f.length>0?[f[0]]:[],g={appPromoState:v.length>0?v.join(","):"unknown",blacklistedFromFreePreview:n,blacklistedFromFreeTrial:r,buyflowEligible:H(e),householdFoundInMarketingFile:i,offerPriority:f,ottoErrorCode:a,ottoErrorMessage:s,presentedOffers:m,requestedFreePreviewDisabled:c,requestedOfferIsReturned:l,requestedOfferMatchedTargeted:u,scenarioNumber:d?String(d):void 0,singleOfferReturned:p,targetedOfferFound:h};return Object.keys(g).forEach(function(e){return(void 0===g[e]||null===g[e])&&delete g[e]}),g},se=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.currentStep},ce=function(e){var t,n;return(null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.selectedLevelOfService)||function(e){var t,n=Q(e);if(n)return null===(t=Object(C.Pd)(e))||void 0===t?void 0:t[n]}(e)},le=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.extras},ue=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.premiums},de=function(e,t,n){return t===$.e.EXTRAS?-1!==le(e).indexOf(n):-1!==ue(e).indexOf(n)},pe=function(e){var t;return null===(t=function(e){var t=ce(e),n=z(e);return p()(b()("id",t))(n)}(e))||void 0===t?void 0:t.name},he=function(e){var t;return(null===(t=function(e){var t=le(e),n=J(e);return m()(function(e,t){return e.id===t},n,t)}(e))||void 0===t?void 0:t.map(function(e){return e.name}))||[]},ve=function(e,t){var n,r,i="";(i=null===(n=J(e).find(function(e){return e.id===t}))||void 0===n?void 0:n.name)||(i=null===(r=function(e){var t,n;return null!==(t=null===(n=q(e))||void 0===n?void 0:n.premiums)&&void 0!==t?t:[]}(e).find(function(e){return e.id===t}))||void 0===r?void 0:r.name);return i},fe=function(e){var t=[],n=pe(e);return n&&t.push(n),[].concat(t,S()(he(e)),S()(ue(e)),S()(ye(e)))},me=function(e){var t,n=ce(e),r=le(e)||[],o=ue(e)||[],s=[];n&&s.push(n),s=(s=s.concat(r)).concat(o);var l=u()(c()(function(e){return Array.isArray(e)?e:[e]}),Object.values,a.a)(q(e)),d=s.map(function(e){return p()(b()("id",e),l)});return null===(t=i()(function(e,t){return e+ +t.price},0,d))||void 0===t?void 0:t.toFixed(2)},ge=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cart)||void 0===n?void 0:n.choiceNetworks},be=function(e){return ge(e).map(function(e){return e.id})},ye=function(e){return ge(e).map(function(e){var t;return null===e||void 0===e?void 0:null===(t=e.networkDetails)||void 0===t?void 0:t.name})},Se=function(e){return ge(e).length},we=function(e,t){return ge(e).find(function(e){return e.id===t})},ke=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.buyflow)||void 0===r?void 0:r.offerFlags},Ce=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.buyflow)||void 0===r?void 0:r.selectedTabOnLaunch},$e=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.buyflowCustomerCareNumber},Te=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.buyflow)||void 0===r?void 0:null===(i=r.errorCodeMapping)||void 0===i?void 0:i.ooh}},bDR5:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="stream-plus-welcome">\n<div class="tour-collage-wrapper">\n<div class="tour-collage" feature-tour-background></div>\n</div>\n<div class="content-wrapper">\n<div class="content-main">\n<div class="heading1" role="heading" aria-level="1" tabindex="-2" focus-once>\n<span role="presentation" class="intro" ng-bind-html="$ctrl.messages.intro"></span>\n<span role="presentation" class="spec-tv" ng-bind-html="$ctrl.messages.title"></span>\n</div>\n<div class="spec-container">\n<ul class="list-container">\n<li class="tick" ng-repeat="msg in $ctrl.messages.info" ng-bind-html="msg"></li>\n</ul>\n<div class="actions">\n<div class="price" role="img" aria-label="${{$ctrl.priceDollar}}.{{$ctrl.priceCent}} per month">\n<span aria-hidden="true" class="dollar"><sup>$</sup>{{$ctrl.priceDollar}}</span>\n<span aria-hidden="true" class="cent"> <span>{{$ctrl.priceCent}}</span> <hr role="presentation"> <span class="month">MONTH</span></span>\n</div>\n<a href="#" class="kite-btn kite-btn-primary streamplus-welcome" ovp-click="$ctrl.start();" aria-label="Get Started for ${{$ctrl.priceDollar}}.{{$ctrl.priceCent}} per month">{{$ctrl.messages.buttonTitle}}</a>\n</div>\n</div>\n<h2>{{$ctrl.messages.buttonInfo}}</h2>\n<ul class="networks" aria-label="some of our available networks">\n<li ng-if="$ctrl.networks" ng-repeat="network in $ctrl.networks" class="network-logo">\n<img alt="{{network.name}}" ng-src="{{$ctrl.getNetworkIcons(network)}}"/>\n</li>\n</ul>\n</div>\n<p class="content-footer">{{$ctrl.messages.footerText}}</p>\n</div>\n</div>\n',o="js/buyFlow/welcome/v1.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},bDdK:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="bulk-mdu-wifi-error-message-container-wrapper">\n<div aria-hidden="true" class="content-gradient"></div>\n<div aria-hidden="true" class="content-background" feature-tour-background></div>\n<div class="bulk-mdu-wifi-error-message-container">\n<div class="sr-only">\n<span id="bulk-mdu-wifi-error-message-title">{{$ctrl.error.title}}</span>\n<span id="bulk-mdu-wifi-error-message-description">\n{{$ctrl.error.message}}\n</span>\n</div>\n<div class="error-icon-container">\n<img alt="WiFi Connection" ovp-src="/images/icon-40-x-40-wi-fi.svg"/>\n</div>\n<h1>{{$ctrl.error.title}}</h1>\n<p class="error-message">{{$ctrl.error.message}}</p>\n<p class="line-through">\n<span>or</span>\n</p>\n<p class="footer-message">\nIf you have an existing Spectrum username and password, you can also\n<a focus-once class="kite-btn-link" ng-click="$ctrl.signIn()" href="#!">sign in</a> to your account to watch TV.\n</p>\n</div>\n<div class="bottom-gradient"></div>\n</div>\n',o="js/bulkMDU/wifi-error.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},bM23:function(e,t,n){(function(e){var t;!function e(n,r,i){function o(s,c){if(!r[s]){if(!n[s]){if(!c&&("function"==typeof t&&t))return t(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};n[s][0].call(u.exports,function(e){var t=n[s][1][e];return o(t||e)},u,u.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){var r,i=t.exports={},o=[],a=!1,s=-1;function c(){a=!1,r.length?o=r.concat(o):s=-1,o.length&&l()}function l(){if(!a){var e=setTimeout(c);a=!0;for(var t=o.length;t;){for(r=o,o=[];++s<t;)r&&r[s].run();s=-1,t=o.length}r=null,a=!1,clearTimeout(e)}}function u(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new u(e,t)),1!==o.length||a||setTimeout(l,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,n,r){(function(e){"use strict";if(t("core-js/shim"),t("regenerator/runtime"),e._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");e._babelPolyfill=!0}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":181,"regenerator/runtime":182}],3:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],4:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":34}],5:[function(e,t,n){var r=e("./$.to-iobject"),i=e("./$.to-length"),o=e("./$.to-index");t.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u;return!e&&-1}}},{"./$.to-index":69,"./$.to-iobject":71,"./$.to-length":72}],6:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iobject"),o=e("./$.to-object"),a=e("./$.to-length");t.exports=function(e){var t=1==e,n=2==e,s=3==e,c=4==e,l=6==e,u=5==e||l;return function(d,p,h){for(var v,f,m=o(d),g=i(m),b=r(p,h,3),y=a(g.length),S=0,w=t?Array(y):n?[]:void 0;y>S;S++)if((u||S in g)&&(f=b(v=g[S],S,m),e))if(t)w[S]=f;else if(f)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:w.push(v)}else if(c)return!1;return l?-1:s||c?c:w}}},{"./$.ctx":15,"./$.iobject":31,"./$.to-length":72,"./$.to-object":73}],7:[function(e,t,n){var r=e("./$.to-object"),i=e("./$.iobject"),o=e("./$.enum-keys");t.exports=e("./$.fails")(function(){return Symbol()in Object.assign({})})?function(e,t){for(var n=r(e),a=arguments.length,s=1;a>s;)for(var c,l=i(arguments[s++]),u=o(l),d=u.length,p=0;d>p;)n[c=u[p++]]=l[c];return n}:Object.assign},{"./$.enum-keys":19,"./$.fails":21,"./$.iobject":31,"./$.to-object":73}],8:[function(e,t,n){var r=e("./$.cof"),i=e("./$.wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":9,"./$.wks":76}],9:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],10:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.hide"),o=e("./$.ctx"),a=e("./$.species"),s=e("./$.strict-new"),c=e("./$.defined"),l=e("./$.for-of"),u=e("./$.iter-step"),d=e("./$.uid")("id"),p=e("./$.has"),h=e("./$.is-object"),v=Object.isExtensible||h,f=e("./$.support-desc"),m=f?"_s":"size",g=0,b=function(e,t){if(!h(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,d)){if(!v(e))return"F";if(!t)return"E";i(e,d,++g)}return"O"+e[d]},y=function(e,t){var n,r=b(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(t,n,i,a){var u=t(function(e,t){s(e,u,n),e._i=r.create(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=t&&l(t,i,e[a],e)});return e("./$.mix")(u.prototype,{clear:function(){for(var e=this._i,t=this._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete e[t.i];this._f=this._l=void 0,this[m]=0},delete:function(e){var t=y(this,e);if(t){var n=t.n,r=t.p;delete this._i[t.i],t.r=!0,r&&(r.n=n),n&&(n.p=r),this._f==t&&(this._f=n),this._l==t&&(this._l=r),this[m]--}return!!t},forEach:function(e){for(var t,n=o(e,arguments[1],3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!y(this,e)}}),f&&r.setDesc(u.prototype,"size",{get:function(){return c(this[m])}}),u},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=b(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(t,n,r){e("./$.iter-define")(t,n,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},r?"entries":"values",!r,!0),a(t),a(e("./$.core")[n])}}},{"./$":41,"./$.core":14,"./$.ctx":15,"./$.defined":17,"./$.for-of":24,"./$.has":27,"./$.hide":28,"./$.is-object":34,"./$.iter-define":37,"./$.iter-step":39,"./$.mix":46,"./$.species":59,"./$.strict-new":60,"./$.support-desc":66,"./$.uid":74}],11:[function(e,t,n){var r=e("./$.for-of"),i=e("./$.classof");t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return r(this,!1,t.push,t),t}}},{"./$.classof":8,"./$.for-of":24}],12:[function(e,t,n){"use strict";var r=e("./$.hide"),i=e("./$.an-object"),o=e("./$.strict-new"),a=e("./$.for-of"),s=e("./$.array-methods"),c=e("./$.uid")("weak"),l=e("./$.is-object"),u=e("./$.has"),d=Object.isExtensible||l,p=s(5),h=s(6),v=0,f=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return p(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,r,i){var s=t(function(e,t){o(e,s,n),e._i=v++,e._l=void 0,void 0!=t&&a(t,r,e[i],e)});return e("./$.mix")(s.prototype,{delete:function(e){return!!l(e)&&(d(e)?u(e,c)&&u(e[c],this._i)&&delete e[c][this._i]:f(this).delete(e))},has:function(e){return!!l(e)&&(d(e)?u(e,c)&&u(e[c],this._i):f(this).has(e))}}),s},def:function(e,t,n){return d(i(t))?(u(t,c)||r(t,c,{}),t[c][e._i]=n):f(e).set(t,n),e},frozenStore:f,WEAK:c}},{"./$.an-object":4,"./$.array-methods":6,"./$.for-of":24,"./$.has":27,"./$.hide":28,"./$.is-object":34,"./$.mix":46,"./$.strict-new":60,"./$.uid":74}],13:[function(e,t,n){"use strict";var r=e("./$.global"),i=e("./$.def"),o=e("./$.for-of"),a=e("./$.strict-new");t.exports=function(t,n,s,c,l,u){var d=r[t],p=d,h=l?"set":"add",v=p&&p.prototype,f={},m=function(t){var n=v[t];e("./$.redef")(v,t,"delete"==t?function(e){return n.call(this,0===e?0:e)}:"has"==t?function(e){return n.call(this,0===e?0:e)}:"get"==t?function(e){return n.call(this,0===e?0:e)}:"add"==t?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})};if("function"==typeof p&&(u||v.forEach&&!e("./$.fails")(function(){(new p).entries().next()}))){var g,b=new p,y=b[h](u?{}:-0,1);e("./$.iter-detect")(function(e){new p(e)})||((p=n(function(e,n){a(e,p,t);var r=new d;return void 0!=n&&o(n,l,r[h],r),r})).prototype=v,v.constructor=p),u||b.forEach(function(e,t){g=1/t==-1/0}),g&&(m("delete"),m("has"),l&&m("get")),(g||y!==b)&&m(h),u&&v.clear&&delete v.clear}else p=c.getConstructor(n,t,l,h),e("./$.mix")(p.prototype,s);return e("./$.tag")(p,t),f[t]=p,i(i.G+i.W+i.F*(p!=d),f),u||c.setStrong(p,t,l),p}},{"./$.def":16,"./$.fails":21,"./$.for-of":24,"./$.global":26,"./$.iter-detect":38,"./$.mix":46,"./$.redef":53,"./$.strict-new":60,"./$.tag":67}],14:[function(e,t,n){var r=t.exports={};"number"==typeof __e&&(__e=r)},{}],15:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":3}],16:[function(e,t,n){var r=e("./$.global"),i=e("./$.core"),o=e("./$.hide"),a=e("./$.redef"),s=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var l,u,d,p,h=e&c.G,v=e&c.P,f=h?r:e&c.S?r[t]||(r[t]={}):(r[t]||{}).prototype,m=h?i:i[t]||(i[t]={});for(l in h&&(n=t),n)d=((u=!(e&c.F)&&f&&l in f)?f:n)[l],p=e&c.B&&u?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,f&&!u&&a(f,l,d),m[l]!=d&&o(m,l,p),v&&((m.prototype||(m.prototype={}))[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,t.exports=c},{"./$.core":14,"./$.global":26,"./$.hide":28,"./$.redef":53}],17:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],18:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./$.global":26,"./$.is-object":34}],19:[function(e,t,n){var r=e("./$");t.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var i,o=n(e),a=r.isEnum,s=0;o.length>s;)a.call(e,i=o[s++])&&t.push(i);return t}},{"./$":41}],20:[function(e,t,n){t.exports=Math.expm1||function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}},{}],21:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],22:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./$.defined"),o=e("./$.wks")(t),a=""[t];e("./$.fails")(function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})&&(e("./$.redef")(String.prototype,t,r(i,o,a)),e("./$.hide")(RegExp.prototype,o,2==n?function(e,t){return a.call(e,this,t)}:function(e){return a.call(e,this)}))}},{"./$.defined":17,"./$.fails":21,"./$.hide":28,"./$.redef":53,"./$.wks":76}],23:[function(e,t,n){"use strict";var r=e("./$.an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./$.an-object":4}],24:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iter-call"),o=e("./$.is-array-iter"),a=e("./$.an-object"),s=e("./$.to-length"),c=e("./core.get-iterator-method");t.exports=function(e,t,n,l){var u,d,p,h=c(e),v=r(n,l,t?2:1),f=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h))for(u=s(e.length);u>f;f++)t?v(a(d=e[f])[0],d[1]):v(e[f]);else for(p=h.call(e);!(d=p.next()).done;)i(p,v,d.value,t)}},{"./$.an-object":4,"./$.ctx":15,"./$.is-array-iter":32,"./$.iter-call":35,"./$.to-length":72,"./core.get-iterator-method":77}],25:[function(e,t,n){var r={}.toString,i=e("./$.to-iobject"),o=e("./$").getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(e){return a&&"[object Window]"==r.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(i(e))}},{"./$":41,"./$.to-iobject":71}],26:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],27:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],28:[function(e,t,n){var r=e("./$"),i=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":41,"./$.property-desc":52,"./$.support-desc":66}],29:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":26}],30:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],31:[function(e,t,n){var r=e("./$.cof");t.exports=0 in Object("z")?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":9}],32:[function(e,t,n){var r=e("./$.iterators"),i=e("./$.wks")("iterator");t.exports=function(e){return(r.Array||Array.prototype[i])===e}},{"./$.iterators":40,"./$.wks":76}],33:[function(e,t,n){var r=e("./$.is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./$.is-object":34}],34:[function(e,t,n){t.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},{}],35:[function(e,t,n){var r=e("./$.an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{"./$.an-object":4}],36:[function(e,t,n){"use strict";var r=e("./$"),i={};e("./$.hide")(i,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,n,o){t.prototype=r.create(i,{next:e("./$.property-desc")(1,o)}),e("./$.tag")(t,n+" Iterator")}},{"./$":41,"./$.hide":28,"./$.property-desc":52,"./$.tag":67,"./$.wks":76}],37:[function(e,t,n){"use strict";var r=e("./$.library"),i=e("./$.def"),o=e("./$.redef"),a=e("./$.hide"),s=e("./$.has"),c=e("./$.wks")("iterator"),l=e("./$.iterators"),u=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,n,p,h,v,f,m){e("./$.iter-create")(p,n,h);var g,b,y=function(e){switch(e){case"keys":case"values":return function(){return new p(this,e)}}return function(){return new p(this,e)}},S=n+" Iterator",w=t.prototype,k=w[c]||w["@@iterator"]||v&&w[v],C=k||y(v);if(k){var $=e("./$").getProto(C.call(new t));e("./$.tag")($,S,!0),!r&&s(w,"@@iterator")&&a($,c,d)}if(r&&!m||a(w,c,C),l[n]=C,l[S]=d,v)if(g={keys:f?C:y("keys"),values:"values"==v?C:y("values"),entries:"values"!=v?C:y("entries")},m)for(b in g)b in w||o(w,b,g[b]);else i(i.P+i.F*u,n,g)}},{"./$":41,"./$.def":16,"./$.has":27,"./$.hide":28,"./$.iter-create":36,"./$.iterators":40,"./$.library":43,"./$.redef":53,"./$.tag":67,"./$.wks":76}],38:[function(e,t,n){var r=e("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e){if(!i)return!1;var t=!1;try{var n=[7],o=n[r]();o.next=function(){t=!0},n[r]=function(){return o},e(n)}catch(e){}return t}},{"./$.wks":76}],39:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],40:[function(e,t,n){t.exports={}},{}],41:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],42:[function(e,t,n){var r=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var n,o=i(e),a=r.getKeys(o),s=a.length,c=0;s>c;)if(o[n=a[c++]]===t)return n}},{"./$":41,"./$.to-iobject":71}],43:[function(e,t,n){t.exports=!1},{}],44:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],45:[function(e,t,n){var r,i,o,a=e("./$.global"),s=e("./$.task").set,c=a.MutationObserver||a.WebKitMutationObserver,l=a.process,u="process"==e("./$.cof")(l),d=function(){var e,t;for(u&&(e=l.domain)&&(l.domain=null,e.exit());r;)(t=r.domain)&&t.enter(),r.fn.call(),t&&t.exit(),r=r.next;i=void 0,e&&e.enter()};if(u)o=function(){l.nextTick(d)};else if(c){var p=1,h=document.createTextNode("");new c(d).observe(h,{characterData:!0}),o=function(){h.data=p=-p}}else o=function(){s.call(a,d)};t.exports=function(e){var t={fn:e,next:void 0,domain:u&&l.domain};i&&(i.next=t),r||(r=t,o()),i=t}},{"./$.cof":9,"./$.global":26,"./$.task":68}],46:[function(e,t,n){var r=e("./$.redef");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redef":53}],47:[function(e,t,n){t.exports=function(t,n){var r=e("./$.def"),i=(e("./$.core").Object||{})[t]||Object[t],o={};o[t]=n(i),r(r.S+r.F*e("./$.fails")(function(){i(1)}),"Object",o)}},{"./$.core":14,"./$.def":16,"./$.fails":21}],48:[function(e,t,n){var r=e("./$"),i=e("./$.to-iobject");t.exports=function(e){return function(t){var n,o=i(t),a=r.getKeys(o),s=a.length,c=0,l=Array(s);if(e)for(;s>c;)l[c]=[n=a[c++],o[n]];else for(;s>c;)l[c]=o[a[c++]];return l}}},{"./$":41,"./$.to-iobject":71}],49:[function(e,t,n){var r=e("./$"),i=e("./$.an-object"),o=e("./$.global").Reflect;t.exports=o&&o.ownKeys||function(e){var t=r.getNames(i(e)),n=r.getSymbols;return n?t.concat(n(e)):t}},{"./$":41,"./$.an-object":4,"./$.global":26}],50:[function(e,t,n){"use strict";var r=e("./$.path"),i=e("./$.invoke"),o=e("./$.a-function");t.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),a=0,s=r._,c=!1;t>a;)(n[a]=arguments[a++])===s&&(c=!0);return function(){var r,o=arguments.length,a=0,l=0;if(!c&&!o)return i(e,n,this);if(r=n.slice(),c)for(;t>a;a++)r[a]===s&&(r[a]=arguments[l++]);for(;o>l;)r.push(arguments[l++]);return i(e,r,this)}}},{"./$.a-function":3,"./$.invoke":30,"./$.path":51}],51:[function(e,t,n){t.exports=e("./$.global")},{"./$.global":26}],52:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],53:[function(e,t,n){var r=e("./$.global"),i=e("./$.hide"),o=e("./$.uid")("src"),a=Function.toString,s=(""+a).split("toString");e("./$.core").inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,n,a){"function"==typeof n&&(i(n,o,e[t]?""+e[t]:s.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],i(e,t,n))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},{"./$.core":14,"./$.global":26,"./$.hide":28,"./$.uid":74}],54:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],55:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],56:[function(e,t,n){var r=e("./$").getDesc,i=e("./$.is-object"),o=e("./$.an-object"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n){try{(n=e("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2))({},[])}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}():void 0),check:a}},{"./$":41,"./$.an-object":4,"./$.ctx":15,"./$.is-object":34}],57:[function(e,t,n){var r=e("./$.global"),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":26}],58:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],59:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.wks")("species");t.exports=function(t){!e("./$.support-desc")||i in t||r.setDesc(t,i,{configurable:!0,get:function(){return this}})}},{"./$":41,"./$.support-desc":66,"./$.wks":76}],60:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],61:[function(e,t,n){var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},{"./$.defined":17,"./$.to-integer":70}],62:[function(e,t,n){var r=e("./$.defined"),i=e("./$.cof");t.exports=function(e,t,n){if("RegExp"==i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},{"./$.cof":9,"./$.defined":17}],63:[function(e,t,n){var r=e("./$.to-length"),i=e("./$.string-repeat"),o=e("./$.defined");t.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,l=void 0===n?" ":String(n),u=r(t);if(u<=c)return s;""==l&&(l=" ");var d=u-c,p=i.call(l,Math.ceil(d/l.length));return p.length>d&&(p=a?p.slice(p.length-d):p.slice(0,d)),a?p+s:s+p}},{"./$.defined":17,"./$.string-repeat":64,"./$.to-length":72}],64:[function(e,t,n){"use strict";var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{"./$.defined":17,"./$.to-integer":70}],65:[function(e,t,n){var r=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e},i=e("./$.def"),o=e("./$.defined"),a="\t\n\v\f\r   \u2028\u2029\ufeff",s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$");t.exports=function(t,n){var o={};o[t]=n(r),i(i.P+i.F*e("./$.fails")(function(){return!!a[t]()||""!=""[t]()}),"String",o)}},{"./$.def":16,"./$.defined":17,"./$.fails":21}],66:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":21}],67:[function(e,t,n){var r=e("./$.has"),i=e("./$.hide"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,t)}},{"./$.has":27,"./$.hide":28,"./$.wks":76}],68:[function(e,t,n){"use strict";var r,i,o,a=e("./$.ctx"),s=e("./$.invoke"),c=e("./$.html"),l=e("./$.dom-create"),u=e("./$.global"),d=u.process,p=u.setImmediate,h=u.clearImmediate,v=u.MessageChannel,f=0,m={},g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){g.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++f]=function(){s("function"==typeof e?e:Function(e),t)},r(f),f},h=function(e){delete m[e]},"process"==e("./$.cof")(d)?r=function(e){d.nextTick(a(g,e,1))}:v?(o=(i=new v).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScript?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),t.exports={set:p,clear:h}},{"./$.cof":9,"./$.ctx":15,"./$.dom-create":18,"./$.global":26,"./$.html":29,"./$.invoke":30}],69:[function(e,t,n){var r=e("./$.to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./$.to-integer":70}],70:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],71:[function(e,t,n){var r=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return r(i(e))}},{"./$.defined":17,"./$.iobject":31}],72:[function(e,t,n){var r=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./$.to-integer":70}],73:[function(e,t,n){var r=e("./$.defined");t.exports=function(e){return Object(r(e))}},{"./$.defined":17}],74:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],75:[function(e,t,n){var r=e("./$.wks")("unscopables");r in[]||e("./$.hide")(Array.prototype,r,{}),t.exports=function(e){[][r][e]=!0}},{"./$.hide":28,"./$.wks":76}],76:[function(e,t,n){var r=e("./$.shared")("wks"),i=e("./$.global").Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||e("./$.uid"))("Symbol."+t))}},{"./$.global":26,"./$.shared":57,"./$.uid":74}],77:[function(e,t,n){var r=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"./$.classof":8,"./$.core":14,"./$.iterators":40,"./$.wks":76}],78:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.support-desc"),a=e("./$.property-desc"),s=e("./$.html"),c=e("./$.dom-create"),l=e("./$.has"),u=e("./$.cof"),d=e("./$.def"),p=e("./$.invoke"),h=e("./$.array-methods"),v=e("./$.uid")("__proto__"),f=e("./$.is-object"),m=e("./$.an-object"),g=e("./$.a-function"),b=e("./$.to-object"),y=e("./$.to-iobject"),S=e("./$.to-integer"),w=e("./$.to-index"),k=e("./$.to-length"),C=e("./$.iobject"),$=e("./$.fails"),T=Object.prototype,O=[],E=O.slice,A=O.join,P=i.setDesc,I=i.getDesc,x=i.setDescs,_=e("./$.array-includes")(!1),D={};o||(r=!$(function(){return 7!=P(c("div"),"a",{get:function(){return 7}}).a}),i.setDesc=function(e,t,n){if(r)try{return P(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(m(e)[t]=n.value),e},i.getDesc=function(e,t){if(r)try{return I(e,t)}catch(e){}if(l(e,t))return a(!T.propertyIsEnumerable.call(e,t),e[t])},i.setDescs=x=function(e,t){m(e);for(var n,r=i.getKeys(t),o=r.length,a=0;o>a;)i.setDesc(e,n=r[a++],t[n]);return e}),d(d.S+d.F*!o,"Object",{getOwnPropertyDescriptor:i.getDesc,defineProperty:i.setDesc,defineProperties:x});var R="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),j=R.concat("length","prototype"),N=R.length,M=function(){var e,t=c("iframe"),n=N;for(t.style.display="none",s.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),M=e.F;n--;)delete M.prototype[R[n]];return M()},V=function(e,t){return function(n){var r,i=y(n),o=0,a=[];for(r in i)r!=v&&l(i,r)&&a.push(r);for(;t>o;)l(i,r=e[o++])&&(~_(a,r)||a.push(r));return a}},L=function(){};d(d.S,"Object",{getPrototypeOf:i.getProto=i.getProto||function(e){return e=b(e),l(e,v)?e[v]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?T:null},getOwnPropertyNames:i.getNames=i.getNames||V(j,j.length),create:i.create=i.create||function(e,t){var n;return null!==e?(L.prototype=m(e),n=new L,L.prototype=null,n[v]=e):n=M(),void 0===t?n:x(n,t)},keys:i.getKeys=i.getKeys||V(R,N)});d(d.P,"Function",{bind:function(e){var t=g(this),n=E.call(arguments,1),r=function(){var i=n.concat(E.call(arguments));return this instanceof r?function(e,t,n){if(!(t in D)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";D[t]=Function("F,a","return new F("+r.join(",")+")")}return D[t](e,n)}(t,i.length,i):p(t,i,e)};return f(t.prototype)&&(r.prototype=t.prototype),r}});var F=$(function(){s&&E.call(s)});d(d.P+d.F*F,"Array",{slice:function(e,t){var n=k(this.length),r=u(this);if(t=void 0===t?n:t,"Array"==r)return E.call(this,e,t);for(var i=w(e,n),o=w(t,n),a=k(o-i),s=Array(a),c=0;c<a;c++)s[c]="String"==r?this.charAt(i+c):this[i+c];return s}}),d(d.P+d.F*(C!=Object),"Array",{join:function(){return A.apply(C(this),arguments)}}),d(d.S,"Array",{isArray:function(e){return"Array"==u(e)}});var U=function(e){return function(t,n){g(t);var r=C(this),i=k(r.length),o=e?i-1:0,a=e?-1:1;if(arguments.length<2)for(;;){if(o in r){n=r[o],o+=a;break}if(o+=a,e?o<0:i<=o)throw TypeError("Reduce of empty array with no initial value")}for(;e?o>=0:i>o;o+=a)o in r&&(n=t(n,r[o],o,this));return n}},B=function(e){return function(t){return e(this,t,arguments[1])}};d(d.P,"Array",{forEach:i.each=i.each||B(h(0)),map:B(h(1)),filter:B(h(2)),some:B(h(3)),every:B(h(4)),reduce:U(!1),reduceRight:U(!0),indexOf:B(_),lastIndexOf:function(e,t){var n=y(this),r=k(n.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,S(t))),i<0&&(i=k(r+i));i>=0;i--)if(i in n&&n[i]===e)return i;return-1}}),d(d.S,"Date",{now:function(){return+new Date}});var W=function(e){return e>9?e:"0"+e},H=new Date(-5e13-1),G=!(H.toISOString&&"0385-07-25T07:06:39.999Z"==H.toISOString()&&$(function(){new Date(NaN).toISOString()}));d(d.P+d.F*G,"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+W(e.getUTCMonth()+1)+"-"+W(e.getUTCDate())+"T"+W(e.getUTCHours())+":"+W(e.getUTCMinutes())+":"+W(e.getUTCSeconds())+"."+(n>99?n:"0"+W(n))+"Z"}})},{"./$":41,"./$.a-function":3,"./$.an-object":4,"./$.array-includes":5,"./$.array-methods":6,"./$.cof":9,"./$.def":16,"./$.dom-create":18,"./$.fails":21,"./$.has":27,"./$.html":29,"./$.invoke":30,"./$.iobject":31,"./$.is-object":34,"./$.property-desc":52,"./$.support-desc":66,"./$.to-index":69,"./$.to-integer":70,"./$.to-iobject":71,"./$.to-length":72,"./$.to-object":73,"./$.uid":74}],79:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.to-object"),o=e("./$.to-index"),a=e("./$.to-length");r(r.P,"Array",{copyWithin:function(e,t){var n=i(this),r=a(n.length),s=o(e,r),c=o(t,r),l=arguments[2],u=void 0===l?r:o(l,r),d=Math.min(u-c,r-s),p=1;for(c<s&&s<c+d&&(p=-1,c=c+d-1,s=s+d-1);d-- >0;)c in n?n[s]=n[c]:delete n[s],s+=p,c+=p;return n}}),e("./$.unscope")("copyWithin")},{"./$.def":16,"./$.to-index":69,"./$.to-length":72,"./$.to-object":73,"./$.unscope":75}],80:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.to-object"),o=e("./$.to-index"),a=e("./$.to-length");r(r.P,"Array",{fill:function(e){for(var t=i(this,!0),n=a(t.length),r=o(arguments[1],n),s=arguments[2],c=void 0===s?n:o(s,n);c>r;)t[r++]=e;return t}}),e("./$.unscope")("fill")},{"./$.def":16,"./$.to-index":69,"./$.to-length":72,"./$.to-object":73,"./$.unscope":75}],81:[function(e,t,n){"use strict";var r="findIndex",i=e("./$.def"),o=!0,a=e("./$.array-methods")(6);r in[]&&Array(1)[r](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(e){return a(this,e,arguments[1])}}),e("./$.unscope")(r)},{"./$.array-methods":6,"./$.def":16,"./$.unscope":75}],82:[function(e,t,n){"use strict";var r=e("./$.def"),i=!0,o=e("./$.array-methods")(5);"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return o(this,e,arguments[1])}}),e("./$.unscope")("find")},{"./$.array-methods":6,"./$.def":16,"./$.unscope":75}],83:[function(e,t,n){"use strict";var r=e("./$.ctx"),i=e("./$.def"),o=e("./$.to-object"),a=e("./$.iter-call"),s=e("./$.is-array-iter"),c=e("./$.to-length"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,u,d=o(e),p="function"==typeof this?this:Array,h=arguments[1],v=void 0!==h,f=0,m=l(d);if(v&&(h=r(h,arguments[2],2)),void 0==m||p==Array&&s(m))for(n=new p(t=c(d.length));t>f;f++)n[f]=v?h(d[f],f):d[f];else for(u=m.call(d),n=new p;!(i=u.next()).done;f++)n[f]=v?a(u,h,[i.value,f],!0):i.value;return n.length=f,n}})},{"./$.ctx":15,"./$.def":16,"./$.is-array-iter":32,"./$.iter-call":35,"./$.iter-detect":38,"./$.to-length":72,"./$.to-object":73,"./core.get-iterator-method":77}],84:[function(e,t,n){"use strict";var r=e("./$.unscope"),i=e("./$.iter-step"),o=e("./$.iterators"),a=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./$.iter-define":37,"./$.iter-step":39,"./$.iterators":40,"./$.to-iobject":71,"./$.unscope":75}],85:[function(e,t,n){"use strict";var r=e("./$.def");r(r.S+r.F*e("./$.fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)n[e]=arguments[e++];return n.length=t,n}})},{"./$.def":16,"./$.fails":21}],86:[function(e,t,n){e("./$.species")(Array)},{"./$.species":59}],87:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.is-object"),o=e("./$.wks")("hasInstance"),a=Function.prototype;o in a||r.setDesc(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r.getProto(e);)if(this.prototype===e)return!0;return!1}})},{"./$":41,"./$.is-object":34,"./$.wks":76}],88:[function(e,t,n){var r=e("./$").setDesc,i=e("./$.property-desc"),o=e("./$.has"),a=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in a||e("./$.support-desc")&&r(a,"name",{configurable:!0,get:function(){var e=(""+this).match(s),t=e?e[1]:"";return o(this,"name")||r(this,"name",i(5,t)),t}})},{"./$":41,"./$.has":27,"./$.property-desc":52,"./$.support-desc":66}],89:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments[0])}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./$.collection":13,"./$.collection-strong":10}],90:[function(e,t,n){var r=e("./$.def"),i=e("./$.log1p"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{"./$.def":16,"./$.log1p":44}],91:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},{"./$.def":16}],92:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./$.def":16}],93:[function(e,t,n){var r=e("./$.def"),i=e("./$.sign");r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./$.def":16,"./$.sign":58}],94:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./$.def":16}],95:[function(e,t,n){var r=e("./$.def"),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{"./$.def":16}],96:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{expm1:e("./$.expm1")})},{"./$.def":16,"./$.expm1":20}],97:[function(e,t,n){var r=e("./$.def"),i=e("./$.sign"),o=Math.pow,a=o(2,-52),s=o(2,-23),c=o(2,127)*(2-s),l=o(2,-126);r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return r<l?o*function(e){return e+1/a-1/a}(r/l/s)*l*s:(n=(t=(1+s/a)*r)-(t-r))>c||n!=n?o*(1/0):o*n}})},{"./$.def":16,"./$.sign":58}],98:[function(e,t,n){var r=e("./$.def"),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,c=0;a<s;)c<(n=i(arguments[a++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},{"./$.def":16}],99:[function(e,t,n){var r=e("./$.def");r(r.S+r.F*e("./$.fails")(function(){return-5!=Math.imul(4294967295,5)}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},{"./$.def":16,"./$.fails":21}],100:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./$.def":16}],101:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{log1p:e("./$.log1p")})},{"./$.def":16,"./$.log1p":44}],102:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./$.def":16}],103:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{sign:e("./$.sign")})},{"./$.def":16,"./$.sign":58}],104:[function(e,t,n){var r=e("./$.def"),i=e("./$.expm1"),o=Math.exp;r(r.S,"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{"./$.def":16,"./$.expm1":20}],105:[function(e,t,n){var r=e("./$.def"),i=e("./$.expm1"),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{"./$.def":16,"./$.expm1":20}],106:[function(e,t,n){var r=e("./$.def");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./$.def":16}],107:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.global"),o=e("./$.has"),a=e("./$.cof"),s=e("./$.is-object"),c=e("./$.fails"),l=i.Number,u=l,d=l.prototype,p="Number"==a(r.create(d)),h=function(e){if(s(e)&&(e=function(e){var t,n;if("function"==typeof(t=e.valueOf)&&!s(n=t.call(e)))return n;if("function"==typeof(t=e.toString)&&!s(n=t.call(e)))return n;throw TypeError("Can't convert object to number")}(e)),"string"==typeof e&&e.length>2&&48==e.charCodeAt(0)){var t=!1;switch(e.charCodeAt(1)){case 66:case 98:t=!0;case 79:case 111:return parseInt(e.slice(2),t?2:8)}}return+e};l("0o1")&&l("0b1")||(l=function(e){var t=this;return t instanceof l&&(p?c(function(){d.valueOf.call(t)}):"Number"!=a(t))?new u(h(e)):h(e)},r.each.call(e("./$.support-desc")?r.getNames(u):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){o(u,e)&&!o(l,e)&&r.setDesc(l,e,r.getDesc(u,e))}),l.prototype=d,d.constructor=l,e("./$.redef")(i,"Number",l))},{"./$":41,"./$.cof":9,"./$.fails":21,"./$.global":26,"./$.has":27,"./$.is-object":34,"./$.redef":53,"./$.support-desc":66}],108:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./$.def":16}],109:[function(e,t,n){var r=e("./$.def"),i=e("./$.global").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{"./$.def":16,"./$.global":26}],110:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{isInteger:e("./$.is-integer")})},{"./$.def":16,"./$.is-integer":33}],111:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{isNaN:function(e){return e!=e}})},{"./$.def":16}],112:[function(e,t,n){var r=e("./$.def"),i=e("./$.is-integer"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{"./$.def":16,"./$.is-integer":33}],113:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./$.def":16}],114:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./$.def":16}],115:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{parseFloat:parseFloat})},{"./$.def":16}],116:[function(e,t,n){var r=e("./$.def");r(r.S,"Number",{parseInt:parseInt})},{"./$.def":16}],117:[function(e,t,n){var r=e("./$.def");r(r.S+r.F,"Object",{assign:e("./$.assign")})},{"./$.assign":7,"./$.def":16}],118:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("freeze",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":34,"./$.object-sap":47}],119:[function(e,t,n){var r=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}})},{"./$.object-sap":47,"./$.to-iobject":71}],120:[function(e,t,n){e("./$.object-sap")("getOwnPropertyNames",function(){return e("./$.get-names").get})},{"./$.get-names":25,"./$.object-sap":47}],121:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function(t){return e(r(t))}})},{"./$.object-sap":47,"./$.to-object":73}],122:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},{"./$.is-object":34,"./$.object-sap":47}],123:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},{"./$.is-object":34,"./$.object-sap":47}],124:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},{"./$.is-object":34,"./$.object-sap":47}],125:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{is:e("./$.same")})},{"./$.def":16,"./$.same":55}],126:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(r(t))}})},{"./$.object-sap":47,"./$.to-object":73}],127:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("preventExtensions",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":34,"./$.object-sap":47}],128:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("seal",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":34,"./$.object-sap":47}],129:[function(e,t,n){var r=e("./$.def");r(r.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":16,"./$.set-proto":56}],130:[function(e,t,n){"use strict";var r=e("./$.classof"),i={};i[e("./$.wks")("toStringTag")]="z",i+""!="[object z]"&&e("./$.redef")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./$.classof":8,"./$.redef":53,"./$.wks":76}],131:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.library"),a=e("./$.global"),s=e("./$.ctx"),c=e("./$.classof"),l=e("./$.def"),u=e("./$.is-object"),d=e("./$.an-object"),p=e("./$.a-function"),h=e("./$.strict-new"),v=e("./$.for-of"),f=e("./$.set-proto").set,m=e("./$.same"),g=e("./$.species"),b=e("./$.wks")("species"),y=e("./$.uid")("record"),S=e("./$.microtask"),w=a.process,k="process"==c(w),C=a.Promise,$=function(e){var t=new C(function(){});return e&&(t.constructor=Object),C.resolve(t)===t},T=function(){var t=!1;function n(e){var t=new C(e);return f(t,n.prototype),t}try{if(t=C&&C.resolve&&$(),f(n,C),n.prototype=i.create(C.prototype,{constructor:{value:n}}),n.resolve(5).then(function(){})instanceof n||(t=!1),t&&e("./$.support-desc")){var r=!1;C.resolve(i.setDesc({},"then",{get:function(){r=!0}})),t=r}}catch(e){t=!1}return t}(),O=function(e){var t=d(e)[b];return void 0!=t?t:e},E=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e.n){e.n=!0;var n=e.c;S(function(){for(var r=e.v,i=1==e.s,o=0,s=function(t){var n,o,a=i?t.ok:t.fail;try{a?(i||(e.h=!0),(n=!0===a?r:a(r))===t.P?t.rej(TypeError("Promise-chain cycle")):(o=E(n))?o.call(n,t.res,t.rej):t.res(n)):t.rej(r)}catch(e){t.rej(e)}};n.length>o;)s(n[o++]);n.length=0,e.n=!1,t&&setTimeout(function(){P(e.p)&&(k?w.emit("unhandledRejection",r,e.p):a.console&&console.error&&console.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},P=function(e){var t,n=e[y],r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if((t=r[i++]).fail||!P(t.P))return!1;return!0},I=function(e){var t=this;t.d||(t.d=!0,(t=t.r||t).v=e,t.s=2,t.a=t.c.slice(),A(t,!0))},x=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{(t=E(e))?S(function(){var r={r:n,d:!1};try{t.call(e,s(x,r,1),s(I,r,1))}catch(e){I.call(r,e)}}):(n.v=e,n.s=1,A(n,!1))}catch(e){I.call({r:n,d:!1},e)}}};T||(C=function(e){p(e);var t={p:h(this,C,"Promise"),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[y]=t;try{e(s(x,t,1),s(I,t,1))}catch(e){I.call(t,e)}},e("./$.mix")(C.prototype,{then:function(e,t){var n=d(d(this).constructor)[b],r={ok:"function"!=typeof e||e,fail:"function"==typeof t&&t},i=r.P=new(void 0!=n?n:C)(function(e,t){r.res=p(e),r.rej=p(t)}),o=this[y];return o.c.push(r),o.a&&o.a.push(r),o.s&&A(o,!1),i},catch:function(e){return this.then(void 0,e)}})),l(l.G+l.W+l.F*!T,{Promise:C}),e("./$.tag")(C,"Promise"),g(C),g(r=e("./$.core").Promise),l(l.S+l.F*!T,"Promise",{reject:function(e){return new this(function(t,n){n(e)})}}),l(l.S+l.F*(!T||$(!0)),"Promise",{resolve:function(e){return function(e){return u(e)&&(T?"Promise"==c(e):y in e)}(e)&&function(e,t){return!(!o||e!==C||t!==r)||m(e,t)}(e.constructor,this)?e:new this(function(t){t(e)})}}),l(l.S+l.F*!(T&&e("./$.iter-detect")(function(e){C.all(e).catch(function(){})})),"Promise",{all:function(e){var t=O(this),n=[];return new t(function(r,o){v(e,!1,n.push,n);var a=n.length,s=Array(a);a?i.each.call(n,function(e,n){t.resolve(e).then(function(e){s[n]=e,--a||r(s)},o)}):r(s)})},race:function(e){var t=O(this);return new t(function(n,r){v(e,!1,function(e){t.resolve(e).then(n,r)})})}})},{"./$":41,"./$.a-function":3,"./$.an-object":4,"./$.classof":8,"./$.core":14,"./$.ctx":15,"./$.def":16,"./$.for-of":24,"./$.global":26,"./$.is-object":34,"./$.iter-detect":38,"./$.library":43,"./$.microtask":45,"./$.mix":46,"./$.same":55,"./$.set-proto":56,"./$.species":59,"./$.strict-new":60,"./$.support-desc":66,"./$.tag":67,"./$.uid":74,"./$.wks":76}],132:[function(e,t,n){var r=e("./$.def"),i=Function.apply;r(r.S,"Reflect",{apply:function(e,t,n){return i.call(e,t,n)}})},{"./$.def":16}],133:[function(e,t,n){var r=e("./$"),i=e("./$.def"),o=e("./$.a-function"),a=e("./$.an-object"),s=e("./$.is-object"),c=Function.bind||e("./$.core").Function.prototype.bind;i(i.S+i.F*e("./$.fails")(function(){function e(){}return!(Reflect.construct(function(){},[],e)instanceof e)}),"Reflect",{construct:function(e,t){o(e);var n=arguments.length<3?e:o(arguments[2]);if(e==n){if(void 0!=t)switch(a(t).length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var l=n.prototype,u=r.create(s(l)?l:Object.prototype),d=Function.apply.call(e,u,t);return s(d)?d:u}})},{"./$":41,"./$.a-function":3,"./$.an-object":4,"./$.core":14,"./$.def":16,"./$.fails":21,"./$.is-object":34}],134:[function(e,t,n){var r=e("./$"),i=e("./$.def"),o=e("./$.an-object");i(i.S+i.F*e("./$.fails")(function(){Reflect.defineProperty(r.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e);try{return r.setDesc(e,t,n),!0}catch(e){return!1}}})},{"./$":41,"./$.an-object":4,"./$.def":16,"./$.fails":21}],135:[function(e,t,n){var r=e("./$.def"),i=e("./$").getDesc,o=e("./$.an-object");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{"./$":41,"./$.an-object":4,"./$.def":16}],136:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.an-object"),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e("./$.iter-create")(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{"./$.an-object":4,"./$.def":16,"./$.iter-create":36}],137:[function(e,t,n){var r=e("./$"),i=e("./$.def"),o=e("./$.an-object");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.getDesc(o(e),t)}})},{"./$":41,"./$.an-object":4,"./$.def":16}],138:[function(e,t,n){var r=e("./$.def"),i=e("./$").getProto,o=e("./$.an-object");r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{"./$":41,"./$.an-object":4,"./$.def":16}],139:[function(e,t,n){var r=e("./$"),i=e("./$.has"),o=e("./$.def"),a=e("./$.is-object"),s=e("./$.an-object");o(o.S,"Reflect",{get:function e(t,n){var o,c,l=arguments.length<3?t:arguments[2];return s(t)===l?t[n]:(o=r.getDesc(t,n))?i(o,"value")?o.value:void 0!==o.get?o.get.call(l):void 0:a(c=r.getProto(t))?e(c,n,l):void 0}})},{"./$":41,"./$.an-object":4,"./$.def":16,"./$.has":27,"./$.is-object":34}],140:[function(e,t,n){var r=e("./$.def");r(r.S,"Reflect",{has:function(e,t){return t in e}})},{"./$.def":16}],141:[function(e,t,n){var r=e("./$.def"),i=e("./$.an-object"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},{"./$.an-object":4,"./$.def":16}],142:[function(e,t,n){var r=e("./$.def");r(r.S,"Reflect",{ownKeys:e("./$.own-keys")})},{"./$.def":16,"./$.own-keys":49}],143:[function(e,t,n){var r=e("./$.def"),i=e("./$.an-object"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},{"./$.an-object":4,"./$.def":16}],144:[function(e,t,n){var r=e("./$.def"),i=e("./$.set-proto");i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},{"./$.def":16,"./$.set-proto":56}],145:[function(e,t,n){var r=e("./$"),i=e("./$.has"),o=e("./$.def"),a=e("./$.property-desc"),s=e("./$.an-object"),c=e("./$.is-object");o(o.S,"Reflect",{set:function e(t,n,o){var l,u,d=arguments.length<4?t:arguments[3],p=r.getDesc(s(t),n);if(!p){if(c(u=r.getProto(t)))return e(u,n,o,d);p=a(0)}return i(p,"value")?!(!1===p.writable||!c(d)||((l=r.getDesc(d,n)||a(0)).value=o,r.setDesc(d,n,l),0)):void 0!==p.set&&(p.set.call(d,o),!0)}})},{"./$":41,"./$.an-object":4,"./$.def":16,"./$.has":27,"./$.is-object":34,"./$.property-desc":52}],146:[function(e,t,n){var r=e("./$"),i=e("./$.global"),o=e("./$.cof"),a=e("./$.flags"),s=i.RegExp,c=s,l=s.prototype,u=/a/g,d=new s(u)!==u,p=function(){try{return"/a/i"==s(u,"i")}catch(e){}}();e("./$.support-desc")&&(d&&p||(s=function(e,t){var n="RegExp"==o(e),r=void 0===t;return this instanceof s||!n||!r?d?new c(n&&!r?e.source:e,t):new c(n?e.source:e,n&&r?a.call(e):t):e},r.each.call(r.getNames(c),function(e){e in s||r.setDesc(s,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}),l.constructor=s,s.prototype=l,e("./$.redef")(i,"RegExp",s))),e("./$.species")(s)},{"./$":41,"./$.cof":9,"./$.flags":23,"./$.global":26,"./$.redef":53,"./$.species":59,"./$.support-desc":66}],147:[function(e,t,n){var r=e("./$");e("./$.support-desc")&&"g"!=/./g.flags&&r.setDesc(RegExp.prototype,"flags",{configurable:!0,get:e("./$.flags")})},{"./$":41,"./$.flags":23,"./$.support-desc":66}],148:[function(e,t,n){e("./$.fix-re-wks")("match",1,function(e,t){return function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))}})},{"./$.fix-re-wks":22}],149:[function(e,t,n){e("./$.fix-re-wks")("replace",2,function(e,t,n){return function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)}})},{"./$.fix-re-wks":22}],150:[function(e,t,n){e("./$.fix-re-wks")("search",1,function(e,t){return function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))}})},{"./$.fix-re-wks":22}],151:[function(e,t,n){e("./$.fix-re-wks")("split",2,function(e,t,n){return function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)}})},{"./$.fix-re-wks":22}],152:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments[0])}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./$.collection":13,"./$.collection-strong":10}],153:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.string-at")(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{"./$.def":16,"./$.string-at":61}],154:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.to-length"),o=e("./$.string-context");r(r.P+r.F*!e("./$.fails")(function(){"q".endsWith(/./)}),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments[1],r=i(t.length),a=void 0===n?r:Math.min(i(n),r),s=String(e);return t.slice(a-s.length,a)===s}})},{"./$.def":16,"./$.fails":21,"./$.string-context":62,"./$.to-length":72}],155:[function(e,t,n){var r=e("./$.def"),i=e("./$.to-index"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{"./$.def":16,"./$.to-index":69}],156:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.string-context");r(r.P,"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments[1])}})},{"./$.def":16,"./$.string-context":62}],157:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":37,"./$.string-at":61}],158:[function(e,t,n){var r=e("./$.def"),i=e("./$.to-iobject"),o=e("./$.to-length");r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},{"./$.def":16,"./$.to-iobject":71,"./$.to-length":72}],159:[function(e,t,n){var r=e("./$.def");r(r.P,"String",{repeat:e("./$.string-repeat")})},{"./$.def":16,"./$.string-repeat":64}],160:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.to-length"),o=e("./$.string-context");r(r.P+r.F*!e("./$.fails")(function(){"q".startsWith(/./)}),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments[1],t.length)),r=String(e);return t.slice(n,n+r.length)===r}})},{"./$.def":16,"./$.fails":21,"./$.string-context":62,"./$.to-length":72}],161:[function(e,t,n){"use strict";e("./$.string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./$.string-trim":65}],162:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.global"),o=e("./$.has"),a=e("./$.support-desc"),s=e("./$.def"),c=e("./$.redef"),l=e("./$.shared"),u=e("./$.tag"),d=e("./$.uid"),p=e("./$.wks"),h=e("./$.keyof"),v=e("./$.get-names"),f=e("./$.enum-keys"),m=e("./$.is-object"),g=e("./$.an-object"),b=e("./$.to-iobject"),y=e("./$.property-desc"),S=r.getDesc,w=r.setDesc,k=r.create,C=v.get,$=i.Symbol,T=!1,O=p("_hidden"),E=r.isEnum,A=l("symbol-registry"),P=l("symbols"),I="function"==typeof $,x=Object.prototype,_=a?function(){try{return k(w({},O,{get:function(){return w(this,O,{value:!1})[O]}}))[O]||w}catch(e){return function(e,t,n){var r=S(x,t);r&&delete x[t],w(e,t,n),r&&e!==x&&w(x,t,r)}}}():w,D=function(e){var t=P[e]=k($.prototype);return t._k=e,a&&T&&_(x,e,{configurable:!0,set:function(t){o(this,O)&&o(this[O],e)&&(this[O][e]=!1),_(this,e,y(1,t))}}),t},R=function(e,t,n){return n&&o(P,t)?(n.enumerable?(o(e,O)&&e[O][t]&&(e[O][t]=!1),n=k(n,{enumerable:y(0,!1)})):(o(e,O)||w(e,O,y(1,{})),e[O][t]=!0),_(e,t,n)):w(e,t,n)},j=function(e,t){g(e);for(var n,r=f(t=b(t)),i=0,o=r.length;o>i;)R(e,n=r[i++],t[n]);return e},N=function(e,t){return void 0===t?k(e):j(k(e),t)},M=function(e){var t=E.call(this,e);return!(t||!o(this,e)||!o(P,e)||o(this,O)&&this[O][e])||t},V=function(e,t){var n=S(e=b(e),t);return!n||!o(P,t)||o(e,O)&&e[O][t]||(n.enumerable=!0),n},L=function(e){for(var t,n=C(b(e)),r=[],i=0;n.length>i;)o(P,t=n[i++])||t==O||r.push(t);return r},F=function(e){for(var t,n=C(b(e)),r=[],i=0;n.length>i;)o(P,t=n[i++])&&r.push(P[t]);return r};I||(c(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");return D(d(arguments[0]))}).prototype,"toString",function(){return this._k}),r.create=N,r.isEnum=M,r.getDesc=V,r.setDesc=R,r.setDescs=j,r.getNames=v.get=L,r.getSymbols=F,a&&!e("./$.library")&&c(x,"propertyIsEnumerable",M,!0)),I&&!e("./$.fails")(function(){return"[{},[null]]"!=JSON.stringify([{a:$()},[$()]])})||c($.prototype,"toJSON",function(){if(I&&m(this))return this});var U={for:function(e){return o(A,e+="")?A[e]:A[e]=$(e)},keyFor:function(e){return h(A,e)},useSetter:function(){T=!0},useSimple:function(){T=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);U[e]=I?t:D(t)}),T=!0,s(s.G+s.W,{Symbol:$}),s(s.S,"Symbol",U),s(s.S+s.F*!I,"Object",{create:N,defineProperty:R,defineProperties:j,getOwnPropertyDescriptor:V,getOwnPropertyNames:L,getOwnPropertySymbols:F}),u($,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},{"./$":41,"./$.an-object":4,"./$.def":16,"./$.enum-keys":19,"./$.fails":21,"./$.get-names":25,"./$.global":26,"./$.has":27,"./$.is-object":34,"./$.keyof":42,"./$.library":43,"./$.property-desc":52,"./$.redef":53,"./$.shared":57,"./$.support-desc":66,"./$.tag":67,"./$.to-iobject":71,"./$.uid":74,"./$.wks":76}],163:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.collection-weak"),o=e("./$.is-object"),a=e("./$.has"),s=i.frozenStore,c=i.WEAK,l=Object.isExtensible||o,u={},d=e("./$.collection")("WeakMap",function(e){return function(){return e(this,arguments[0])}},{get:function(e){if(o(e)){if(!l(e))return s(this).get(e);if(a(e,c))return e[c][this._i]}},set:function(e,t){return i.def(this,e,t)}},i,!0,!0);7!=(new d).set((Object.freeze||Object)(u),7).get(u)&&r.each.call(["delete","has","get","set"],function(t){var n=d.prototype,r=n[t];e("./$.redef")(n,t,function(e,n){if(o(e)&&!l(e)){var i=s(this)[t](e,n);return"set"==t?this:i}return r.call(this,e,n)})})},{"./$":41,"./$.collection":13,"./$.collection-weak":12,"./$.has":27,"./$.is-object":34,"./$.redef":53}],164:[function(e,t,n){"use strict";var r=e("./$.collection-weak");e("./$.collection")("WeakSet",function(e){return function(){return e(this,arguments[0])}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},{"./$.collection":13,"./$.collection-weak":12}],165:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments[1])}}),e("./$.unscope")("includes")},{"./$.array-includes":5,"./$.def":16,"./$.unscope":75}],166:[function(e,t,n){var r=e("./$.def");r(r.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":11,"./$.def":16}],167:[function(e,t,n){var r=e("./$.def"),i=e("./$.object-to-array")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{"./$.def":16,"./$.object-to-array":48}],168:[function(e,t,n){var r=e("./$"),i=e("./$.def"),o=e("./$.own-keys"),a=e("./$.to-iobject"),s=e("./$.property-desc");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),c=r.setDesc,l=r.getDesc,u=o(i),d={},p=0;u.length>p;)n=l(i,t=u[p++]),t in d?c(d,t,s(0,n)):d[t]=n;return d}})},{"./$":41,"./$.def":16,"./$.own-keys":49,"./$.property-desc":52,"./$.to-iobject":71}],169:[function(e,t,n){var r=e("./$.def"),i=e("./$.object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./$.def":16,"./$.object-to-array":48}],170:[function(e,t,n){var r=e("./$.def"),i=e("./$.replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},{"./$.def":16,"./$.replacer":54}],171:[function(e,t,n){var r=e("./$.def");r(r.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":11,"./$.def":16}],172:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.string-at")(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},{"./$.def":16,"./$.string-at":61}],173:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.string-pad");r(r.P,"String",{padLeft:function(e){return i(this,e,arguments[1],!0)}})},{"./$.def":16,"./$.string-pad":63}],174:[function(e,t,n){"use strict";var r=e("./$.def"),i=e("./$.string-pad");r(r.P,"String",{padRight:function(e){return i(this,e,arguments[1],!1)}})},{"./$.def":16,"./$.string-pad":63}],175:[function(e,t,n){"use strict";e("./$.string-trim")("trimLeft",function(e){return function(){return e(this,1)}})},{"./$.string-trim":65}],176:[function(e,t,n){"use strict";e("./$.string-trim")("trimRight",function(e){return function(){return e(this,2)}})},{"./$.string-trim":65}],177:[function(e,t,n){var r=e("./$"),i=e("./$.def"),o=e("./$.core").Array||Array,a={},s=function(t,n){r.each.call(t.split(","),function(t){void 0==n&&t in o?a[t]=o[t]:t in[]&&(a[t]=e("./$.ctx")(Function.call,[][t],n))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",a)},{"./$":41,"./$.core":14,"./$.ctx":15,"./$.def":16}],178:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.global"),i=e("./$.hide"),o=e("./$.iterators"),a=e("./$.wks")("iterator"),s=r.NodeList,c=r.HTMLCollection,l=s&&s.prototype,u=c&&c.prototype,d=o.NodeList=o.HTMLCollection=o.Array;!s||a in l||i(l,a,d),!c||a in u||i(u,a,d)},{"./$.global":26,"./$.hide":28,"./$.iterators":40,"./$.wks":76,"./es6.array.iterator":84}],179:[function(e,t,n){var r=e("./$.def"),i=e("./$.task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./$.def":16,"./$.task":68}],180:[function(e,t,n){var r=e("./$.global"),i=e("./$.def"),o=e("./$.invoke"),a=e("./$.partial"),s=r.navigator,c=!!s&&/MSIE .\./.test(s.userAgent),l=function(e){return c?function(t,n){return e(o(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*c,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},{"./$.def":16,"./$.global":26,"./$.invoke":30,"./$.partial":50}],181:[function(e,t,n){e("./modules/es5"),e("./modules/es6.symbol"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.number.constructor"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.iterator"),e("./modules/es6.array.species"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-left"),e("./modules/es7.string.pad-right"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.regexp.escape"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/js.array.statics"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/$.core")},{"./modules/$.core":14,"./modules/es5":78,"./modules/es6.array.copy-within":79,"./modules/es6.array.fill":80,"./modules/es6.array.find":82,"./modules/es6.array.find-index":81,"./modules/es6.array.from":83,"./modules/es6.array.iterator":84,"./modules/es6.array.of":85,"./modules/es6.array.species":86,"./modules/es6.function.has-instance":87,"./modules/es6.function.name":88,"./modules/es6.map":89,"./modules/es6.math.acosh":90,"./modules/es6.math.asinh":91,"./modules/es6.math.atanh":92,"./modules/es6.math.cbrt":93,"./modules/es6.math.clz32":94,"./modules/es6.math.cosh":95,"./modules/es6.math.expm1":96,"./modules/es6.math.fround":97,"./modules/es6.math.hypot":98,"./modules/es6.math.imul":99,"./modules/es6.math.log10":100,"./modules/es6.math.log1p":101,"./modules/es6.math.log2":102,"./modules/es6.math.sign":103,"./modules/es6.math.sinh":104,"./modules/es6.math.tanh":105,"./modules/es6.math.trunc":106,"./modules/es6.number.constructor":107,"./modules/es6.number.epsilon":108,"./modules/es6.number.is-finite":109,"./modules/es6.number.is-integer":110,"./modules/es6.number.is-nan":111,"./modules/es6.number.is-safe-integer":112,"./modules/es6.number.max-safe-integer":113,"./modules/es6.number.min-safe-integer":114,"./modules/es6.number.parse-float":115,"./modules/es6.number.parse-int":116,"./modules/es6.object.assign":117,"./modules/es6.object.freeze":118,"./modules/es6.object.get-own-property-descriptor":119,"./modules/es6.object.get-own-property-names":120,"./modules/es6.object.get-prototype-of":121,"./modules/es6.object.is":125,"./modules/es6.object.is-extensible":122,"./modules/es6.object.is-frozen":123,"./modules/es6.object.is-sealed":124,"./modules/es6.object.keys":126,"./modules/es6.object.prevent-extensions":127,"./modules/es6.object.seal":128,"./modules/es6.object.set-prototype-of":129,"./modules/es6.object.to-string":130,"./modules/es6.promise":131,"./modules/es6.reflect.apply":132,"./modules/es6.reflect.construct":133,"./modules/es6.reflect.define-property":134,"./modules/es6.reflect.delete-property":135,"./modules/es6.reflect.enumerate":136,"./modules/es6.reflect.get":139,"./modules/es6.reflect.get-own-property-descriptor":137,"./modules/es6.reflect.get-prototype-of":138,"./modules/es6.reflect.has":140,"./modules/es6.reflect.is-extensible":141,"./modules/es6.reflect.own-keys":142,"./modules/es6.reflect.prevent-extensions":143,"./modules/es6.reflect.set":145,"./modules/es6.reflect.set-prototype-of":144,"./modules/es6.regexp.constructor":146,"./modules/es6.regexp.flags":147,"./modules/es6.regexp.match":148,"./modules/es6.regexp.replace":149,"./modules/es6.regexp.search":150,"./modules/es6.regexp.split":151,"./modules/es6.set":152,"./modules/es6.string.code-point-at":153,"./modules/es6.string.ends-with":154,"./modules/es6.string.from-code-point":155,"./modules/es6.string.includes":156,"./modules/es6.string.iterator":157,"./modules/es6.string.raw":158,"./modules/es6.string.repeat":159,"./modules/es6.string.starts-with":160,"./modules/es6.string.trim":161,"./modules/es6.symbol":162,"./modules/es6.weak-map":163,"./modules/es6.weak-set":164,"./modules/es7.array.includes":165,"./modules/es7.map.to-json":166,"./modules/es7.object.entries":167,"./modules/es7.object.get-own-property-descriptors":168,"./modules/es7.object.values":169,"./modules/es7.regexp.escape":170,"./modules/es7.set.to-json":171,"./modules/es7.string.at":172,"./modules/es7.string.pad-left":173,"./modules/es7.string.pad-right":174,"./modules/es7.string.trim-left":175,"./modules/es7.string.trim-right":176,"./modules/js.array.statics":177,"./modules/web.dom.iterable":178,"./modules/web.immediate":179,"./modules/web.timers":180}],182:[function(t,n,r){(function(e,t){!function(t){"use strict";var r,i=Object.prototype.hasOwnProperty,o="function"==typeof Symbol&&Symbol.iterator||"@@iterator",a="object"==typeof n,s=t.regeneratorRuntime;if(s)a&&(n.exports=s);else{(s=t.regeneratorRuntime=a?n.exports:{}).wrap=v;var c="suspendedStart",l="suspendedYield",u="executing",d="completed",p={},h=b.prototype=m.prototype;g.prototype=h.constructor=b,b.constructor=g,g.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return e.__proto__=b,e.prototype=Object.create(h),e},s.awrap=function(e){return new S(e)},y(w.prototype),s.async=function(e,t,n,r){var i=new w(v(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(h),h[o]=function(){return this},h.toString=function(){return"[object Generator]"},s.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=T,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=r,this.done=!1,this.delegate=null,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?this.next=o.finallyLoc:this.complete(a),p},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},p}}}function v(e,t,n,i){var o=Object.create((t||m).prototype);return o._invoke=function(e,t,n){var i=c;return function(o,a){if(i===u)throw new Error("Generator is already running");if(i===d){if("throw"===o)throw a;return O()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===r){n.delegate=null;var h=s.iterator.return;if(h){var v=f(h,s.iterator,a);if("throw"===v.type){o="throw",a=v.arg;continue}}if("return"===o)continue}var v=f(s.iterator[o],s.iterator,a);if("throw"===v.type){n.delegate=null,o="throw",a=v.arg;continue}o="next",a=r;var m=v.arg;if(!m.done)return i=l,m;n[s.resultName]=m.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n.sent=i===l?a:r;else if("throw"===o){if(i===c)throw i=d,a;n.dispatchException(a)&&(o="next",a=r)}else"return"===o&&n.abrupt("return",a);i=u;var v=f(e,t,n);if("normal"===v.type){i=n.done?d:l;var m={value:v.arg,done:n.done};if(v.arg!==p)return m;n.delegate&&"next"===o&&(a=r)}else"throw"===v.type&&(i=d,o="throw",a=v.arg)}}}(e,n||null,new $(i||[])),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function m(){}function g(){}function b(){}function y(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){this.arg=e}function w(t){function n(e,n){var r=t[e](n),a=r.value;return a instanceof S?Promise.resolve(a.arg).then(i,o):Promise.resolve(a).then(function(e){return r.value=e,r})}"object"==typeof e&&e.domain&&(n=e.domain.bind(n));var r,i=n.bind(t,"next"),o=n.bind(t,"throw");n.bind(t,"return");this._invoke=function(e,t){var i=r?r.then(function(){return n(e,t)}):new Promise(function(r){r(n(e,t))});return r=i.catch(function(e){}),i}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:r,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,t("_process"),void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}]},{},[2])}).call(this,n("yLpj"))},bQ3Z:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="extras" ng-class="{\'active\': $ctrl.active}">\n<div class="header">\n<div class="left-section">\n<div aria-hidden="true" id="extras-heading-description" class="sr-only">, Current total $ {{$ctrl.summary.totalPrice}}</div>\n<h2>\n<div aria-disabled="{{$ctrl.active}}" aria-describedby="extras-heading-description" focus-when="$ctrl.active" role="button" tabindex="{{$ctrl.active ? -2 : 0}}" aria-expanded="{{$ctrl.active}}" ovp-click="$ctrl.activate()">2. Optional Extras</div>\n</h2>\n<span ng-if="!$ctrl.active && $ctrl.subTitle" class="sub-title">{{$ctrl.subTitle}}</span>\n</div>\n<div ng-hide="$ctrl.active || ($ctrl.summary.extraOfferCount === 0)" class="right-section">\n<span role="presentation" class="price">$ {{$ctrl.summary.extraOfferPrice}}</span>\n<span role="presentation" class="month"> / Month</span>\n</div>\n</div>\n<div ng-if="$ctrl.active" class="content">\n<div class="offers">\n<network-bundle ng-repeat="offer in $ctrl.offers" data="offer" is-selected="$ctrl.isSelected(offer.id)" on-change="$ctrl.onChange(offer)"></network-bundle>\n</div>\n<div class="actions">\n<button ovp-click="$ctrl.cancel()" class="kite-btn kite-btn-outline-primary">Cancel</button>\n<div class="right-action">\n<button ovp-click="$ctrl.back()" class="kite-btn kite-btn-secondary">Back</button>\n<button ovp-click="$ctrl.continue()" class="kite-btn kite-btn-primary">Continue</button>\n</div>\n</div>\n</div>\n</div>',o="js/buyFlow/extras.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},bWYG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<li class="settings-header-menu">\n<a ui-sref-active="active" ui-sref="ovp.settings" ng-click="vm.doAction()" focus-next="{{vm.focusNextVal}}">Settings</a>\n</li>\n',o="js/components/header/tools/settings-menu.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},biH7:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="auth-form-container">\n<div class="auth-form">\n<div class="alert alert-danger" role="alert" ng-if="$ctrl.isValidationError">\n<p>{{$ctrl.errorMessage}}</p>\n<p><a class="alert-link" href="{{$ctrl.forgotHost()}}" target="_forgotpass">Did you forget your password?</a></p>\n</div>\n<form name="password-verify-form" ng-submit="$ctrl.authenticate()">\n<div class="form-group text-left" id="formInstructions">\n<p ng-if="$ctrl.headerMessage">{{$ctrl.headerMessage}}</p>\n<p>If you have trouble resetting your PIN, please call <a href="{{$ctrl.ivrNumberTelUri}}">{{$ctrl.ivrNumber}}</a>.</p>\n</div>\n<div class="form-group" ng-class="{\'has-error\': $ctrl.isValidationError}">\n<label for="password">Password</label>\n<input id="password" class="form-control input-lg" type="password" aria-describedby="formInstructions" required aria-invalid="{{$ctrl.isValidationError ? \'true\' : \'false\'}}" ng-model="$ctrl.user.password" focus-once/>\n</div>\n<div class="form-group">\n<div class="spinner" role="img" aria-label="loading" ng-if="$ctrl.loadingTracker.active() || success"></div>\n<input class="kite-btn btn-lg kite-btn-block kite-btn-primary" type="submit" value="Submit" ng-disabled="loginForm.$invalid" ng-if="!$ctrl.loadingTracker.active() && !success"/>\n</div>\n<div class="form-group">\n<a class="help-link pull-right" href="{{$ctrl.forgotHost()}}" target="_forgotpass" focus-next=".popupCloseClick">Forgot your password?</a>\n</div>\n</form>\n</div>\n</div>\n',o="js/components/template-popup/auth/auth-form.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},biJQ:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("API_CONFIG");t.a=i},bjhx:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="env";function i(e){if(window.localStorage)try{window.localStorage.setItem(r,e)}catch(e){console.error("Unable to store selected environment")}}function o(e){var t=e;if(window.localStorage){var n;try{n=window.localStorage.getItem(r)}catch(e){console.error("Unable to retrieve storage data, "+e)}if(n)try{t=JSON.parse(n)}catch(e){t=n}}return t}},bqBb:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="UPDATE_APP_LAUNCH_TIME",i=function(e){return{type:r,payload:e}}},bzo1:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="AD_BLOCKER_STATUS",i=function(e){return{type:r,data:e}}},"c+yO":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u});n("fwyg");var r=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.location)||void 0===t?void 0:t.data},i=function(e){var t=r(e);return null!==t&&null!==t.behindOwnModem},o=function(e){return!!(null===e||void 0===e?void 0:e.inProgress)},a=function(e){var t;return!!(null===(t=r(e))||void 0===t?void 0:t.behindOwnModem)},s=function(e){return!0!==a(e)},c=function(e){var t;return!!(null===(t=r(e))||void 0===t?void 0:t.inMarket)},l=function(e){var t,n;return!!(null===(t=r(e))||void 0===t?void 0:t.inUS)||!!(null===(n=r(e))||void 0===n?void 0:n.inUsOrTerritory)},u=function(e){var t;return!!(null===(t=r(e))||void 0===t?void 0:t.applePrivateRelayIP)}},"cEu+":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.adBlockerDetection)&&void 0!==t?t:{}},i=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.enabled},o=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.blockPlaybackIfAdsBlocked},a=function(e){var t;return null===(t=r(e))||void 0===t?void 0:t.blockPlaybackOnlyIfDaiStream}},cF4K:function(e,t,n){"use strict";n.d(t,"a",function(){return v});n("pNMO"),n("TeQF"),n("QWBl"),n("yq1k"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("JTJg"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("PNUD"),a=n("7s9v"),s=n("bB7c"),c=n("UntU");n("pDQq"),n("brp2"),n("DQNa"),n("Eb3s");var l=[];function u(){l.splice(0,l.length)}var d=n("3woO");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r={msgTriggeredBy:"user",msgTriggeredUsing:Object(a.c)()};e.includes("OneApp_selectAction_buyFlow")&&(n={opUserPrefsSelections:o.a.getSelectorValue(s.J),pmtAmount:o.a.getSelectorValue(s.i)});var i=h(h(h({},r),t),n);switch(e){case"OneApp_selectAction_buyFlow_generic_signUp_signOut":Object(c.a)(!1);break;case"OneApp_selectAction_buyFlow_generic_learnMore_confirm":u()}switch(Object(c.j)(e,i),e){case"OneApp_selectAction_buyFlow_generic_learnMore_confirm":case"OneApp_selectAction_buyFlow_generic_signUp_confirm":Object(d.a)("OneApp_buyFlow_generic_purchaseStart");break;case"OneApp_selectAction_buyFlow_generic_signUp_signOut":Object(d.b)("OneApp_buyFlow_generic_purchaseStop_triggeredByUser",{pmtAmount:o.a.getSelectorValue(s.i)}),u();break;case"OneApp_selectAction_buyFlow_generic_finalPrice_confirm":u()}}},cPrL:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal tvsa-login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<h1 class="title">Welcome to Spectrum Enterprise TV</h1>\n<p class="description">By selecting Continue, you agree to Spectrum\'s <a href="{{::$ctrl.termsHref}}" class="kite-btn-link" target="_blank">Terms and Conditions</a>\nand <a href="{{::$ctrl.privacyHref}}" class="kite-btn-link" target="_blank">Privacy Policy</a>\n</p>\n<button focus-once aria-label="Continue and accept terms and conditions to go to Spectrum Enterprise TV" ng-click="$ctrl.continue()" class="kite-btn kite-btn-primary kite-btn-block btn-margin">\nContinue\n</button>\n</div>\n</div>\n</section>\n</div>\n',o="js/tvsa/eula.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cRwy:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i="<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\">\n<div class=\"modal-content\" uib-modal-transclude>\n</div>\n</div>\n",o="js/components/modal/window-frame.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cSJT:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="confirm text-center">\n<p id="labelText" class="sr-only">{{$ctrl.ariaLabel}}</p>\n<p id="descriptionBlockText" class="sr-only">{{$ctrl.ariaDescription}}</p>\n<div class="spinner" ng-if="$ctrl.loadingTracker.active()"></div>\n<p ng-if="$ctrl.inProgressMessage && $ctrl.loadingTracker.active()" class="loading-message">{{$ctrl.inProgressMessage}}</p>\n<p ng-if="$ctrl.preOkMessage && !$ctrl.success && !$ctrl.loadingTracker.active()">{{$ctrl.preOkMessage}}</p>\n<div class="button-row" ng-if="!$ctrl.success && !$ctrl.loadingTracker.active()">\n<ovp-button focus="true" ng-hide="{{!$ctrl.okLabel}}" label="{{$ctrl.okLabel}}" on-click="$ctrl.okHandler()"></ovp-button>\n<ovp-button ng-hide="{{!$ctrl.cancelLabel}}" label="{{$ctrl.cancelLabel}}" on-click="$ctrl.cancelHandler()"></ovp-button>\n</div>\n</div>\n',o="js/components/confirm/confirm.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cVOF:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="sportsResults">\n<div>\nSearch for Sports: "{{$ctrl.query}}" ({{$ctrl.results.length}} results)\n</div>\n<div class="search-results-container">\n<div class="container-fluid">\n<div ng-class="category.class" ng-repeat="category in $ctrl.layout.categories">\n<ovp-grid-list items="category.programs" options="{defaultState: \'list\', title: category.title, showToggle: category.showToggle, showPagination: false, id: \'sportssearch\'}">\n<grid-items>\n<ovp-product options="{focusOnLoad: ($parent.$first && $first && $ctrl.focusOnLoad)}" ng-repeat="asset in category.programs" asset="asset" category="$first ? category.title : \'\'"></ovp-product>\n</grid-items>\n<list-items>\n<sports-result-list-item options="{focusOnLoad: ($parent.$first && $first && $ctrl.focusOnLoad)}" ng-repeat="asset in category.programs" asset="asset" category="$first ? category.title : \'\'" index="$index"></sports-result-list-item>\n</list-items>\n</ovp-grid-list>\n</div>\n</div>\n</div>\n</div>\n',o="js/search/result-pages/sports-search-results.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cZrc:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<section class="kite-grid kite-no-gutters">\n<div class="login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl">\n<div class="kite-card kite-card-active">\n<div class="parental-form" role="alert">\n<header>\n<h1>Safety at Your Fingertips</h1>\n</header>\n<p>Set up Parental Controls to block certain ratings or channels to be accessible only with your 4-digit PIN. You can find Parental Controls in Settings.</p>\n<form name="parentalForm" ng-submit="parentalControlsWarningAccepted()" novalidate>\n<div class="form-group">\n<div class="spinner" ng-if="parentalControlsSpinner"></div>\n<button class="kite-btn btn-success btn-lg kite-btn-block" ng-click="$ctrl.parentalControlsWarningAccepted()" ng-if="!parentalControlsSpinner" focus-once>Got It</button>\n</div>\n</form>\n</div>\n</div>\n</div>\n</section>\n<feature-tour></feature-tour>\n</div>\n',o="js/parental-controls/parental-controls-warning/parental-controls-warning.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},caqp:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="button" tabindex="0" ovp-click="$ctrl.toggle();" accesskey="k" ng-mouseenter="$ctrl.playHover=true;" ng-mouseleave="$ctrl.playHover=false;" prevent-default aria-label="{{$ctrl.playing ? \'Pause\'  : \'Play\'}}" ng-focus="$ctrl.enlargeIcon = true">\n<img alt="pause play" ng-src="{{$ctrl.image()}}">\n</div>\n<span class="sr-only" aria-live="polite" aria-atomic="true" ng-bind="$ctrl.statusText"></span>\n',o="js/components/player/toggle-play.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cemn:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.channels.length">\n<ovp-carousel items="$ctrl.channels" options="{title: \'Favorite Channels\', swimlaneIndex: $ctrl.swimlaneIndex, totalSwimlanes: $ctrl.totalSwimlanes}">\n<channel-card ng-repeat="channel in $ctrl.channels" index="$index" channel="channel" options="{showCurrentlyAiring: true, carouselSelectable: true}" on-remove="$ctrl.onRemove(channel)">\n</channel-card>\n</ovp-carousel>\n</div>\n<div ng-if="$ctrl.channels.length === 0" class="empty-swimlane-wrap">\n<h2 class="category-title">Favorite Channels</h2>\n<div class="empty-swimlane-container">\n<img alt="" aria-hidden="true" class="empty-image" ovp-src="/images/empty-favorites.svg">\n<p class="kite-h4 empty-swimlane-text">Select a channel logo on the left side of the Guide to set a Favorite, or manage Favorites in Settings.</p>\n<a class="kite-btn-primary kite-btn kite-btn-xl" href="#" ng-click="$ctrl.goToFavorites()">Manage Favorites</a>\n</div>\n</div>\n',o="js/my-library/components/favorite-channels/favorite-channels.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},cwad:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="bundle-container" ng-class="{\'checked\': $ctrl.checked}" ng-click="$ctrl.onClick($event)" tabindex="-2" role="none">\n<div class="bundle-header">\n<div class="description">\n<input aria-label="{{$ctrl.data.name + \' \' + $ctrl.data.price + \' dollars per month\'}}" aria-describedby="{{\'network\' + $ctrl.data.id}}" type="checkbox" class="circle-checkbox" id="{{\'bundle\' + $ctrl.data.id}}" ng-checked="$ctrl.checked" ng-model="$ctrl.checked" ng-change="$ctrl.onChange($ctrl.data)">\n<label for="{{\'bundle\' + $ctrl.data.id}}">{{$ctrl.data.name}}</label>\n</div>\n<div class="price">\n$ {{$ctrl.data.price}} <span>/ Month</span>\n</div>\n</div>\n<ul class="bundle-content" id="{{\'network\' + $ctrl.data.id}}">\n<li class="sr-only">\nIncluded Networks\n</li>\n<li ng-repeat="network in $ctrl.data.networks" class="network-logo">\n<img alt="{{network.name}}" ng-src="{{$ctrl.getNetworkIcons(network)}}"/>\n</li>\n</ul>\n</div>',o="js/buyFlow/network-bundle.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},d57p:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="kite-grid list-template ovp-product-$ctrl.asset" role="link" ng-class="$ctrl.statusOptions()" focus-when="$ctrl.focusOnLoad" ng-attr-focus-previous="{{$first && ($ctrl.hasPagination() && \'.page:last-child:not(.active, .deactive)\' || \'.grid-btn\') || undefined}}" ovp-link-click="$ctrl.click($parent.$index)" tabindex="0" ng-attr-aria-describedby="{{::$ctrl.oohUnavailable ? \'streamingUnavailable\' : undefined}}">\n<div class="kite-cell kite-cell-12-gt-xs kite-cell-5-gt-md truncate" ng-class="{\'no-logo\': $ctrl.options.hideNWLogo}">\n<img ng-hide="$ctrl.options.hideNWLogo" alt="{{$ctrl.asset.network.name}}" class="network-icon" ng-src="{{::$ctrl.asset.networkImage({height:35, default:false})}}" aria-hidden="true" fallback-image="display:none">\n<span class="sr-only">\n{{::$ctrl.getTitlePrefix()}}&nbsp;\n</span>\n{{::$ctrl.asset.title}}\n<span class="sr-only">\n, {{::$ctrl.asset.network.name}},\n</span>\n</div>\n<div class="kite-cell kite-cell-1-gt-xs kite-cell-2-gt-md rating">\n<ovp-rating rating="$ctrl.asset.rating"></ovp-rating>\n</div>\n<div class="kite-cell kite-cell-1-gt-xs kite-cell-2-gt-md source truncate" ng-if="$ctrl.asset.rentalExpiration">{{::$ctrl.asset.rentalExpiration}}</div>\n<div class="kite-cell kite-cell-1-gt-xs kite-cell-2-gt-md source truncate" ng-if="!$ctrl.asset.rentalExpiration">{{::($ctrl.asset.genres.slice(0, 2).join(\', \'))}}</div>\n<div class="kite-cell kite-cell-3-gt-xs kite-cell-2-gt-md status">\n<label class="playStatus" ng-if="$ctrl.asset.playedPct > 0">\n<span ng-style="{\'width\':$ctrl.asset.playedPct+\'%\'}"></span>\n</label>\n</div>\n<div class="kite-cell kite-cell-12-gt-xs kite-cell-1-gt-md watch" ng-if="($ctrl.asset.isEntitled && $ctrl.asset.isBlockedByParentalControls) || ($ctrl.asset.isEntitled === false)">\n<span class="twcicon-svg twcicon-svg-lock" aria-hidden="true" ng-show="($ctrl.asset.isEntitled && $ctrl.asset.isBlockedByParentalControls)"></span>\n<span class="twcicon-svg twcicon-svg-key" aria-hidden="true" ng-show="($ctrl.asset.isEntitled === false)"></span>\n</div>\n</div>\n',o="js/components/ovp/ovp-product/list-item-template.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},dKXy:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"d",function(){return v});n("yq1k"),n("JTJg");var r=n("YTiU"),i=n("acdo"),o=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.chromecast)||void 0===t?void 0:t.deviceInfo},a=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.deviceId},s=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.visitId},c=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.chromecast)||void 0===t?void 0:t.castState},l=function(e){var t,n,r,i;return(null===e||void 0===e?void 0:null===(t=e.chromecast)||void 0===t?void 0:t.castState)!==(null===(n=cast)||void 0===n?void 0:null===(r=n.framework)||void 0===r?void 0:null===(i=r.CastState)||void 0===i?void 0:i.NO_DEVICES_AVAILABLE)},u=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.chromecast)||void 0===t?void 0:t.initialized},d=function(e){var t,n,r,i,o,a,s,c;return[null===(t=cast)||void 0===t?void 0:null===(n=t.framework)||void 0===n?void 0:null===(r=n.SessionState)||void 0===r?void 0:r.SESSION_STARTED,null===(i=cast)||void 0===i?void 0:null===(o=i.framework)||void 0===o?void 0:null===(a=o.SessionState)||void 0===a?void 0:a.SESSION_RESUMED].includes(null===e||void 0===e?void 0:null===(s=e.chromecast)||void 0===s?void 0:null===(c=s.connection)||void 0===c?void 0:c.status)},p=function(e){var t,n,r,i,o,a,s,c;return[null===(t=cast)||void 0===t?void 0:null===(n=t.framework)||void 0===n?void 0:null===(r=n.SessionState)||void 0===r?void 0:r.SESSION_ENDED,null===(i=cast)||void 0===i?void 0:null===(o=i.framework)||void 0===o?void 0:null===(a=o.SessionState)||void 0===a?void 0:a.NO_SESSION].includes(null===e||void 0===e?void 0:null===(s=e.chromecast)||void 0===s?void 0:null===(c=s.connection)||void 0===c?void 0:c.status)},h=function(e){var t,n,r,i,o,a,s,c,l=null!==(t=null===e||void 0===e?void 0:null===(n=e.chromecast)||void 0===n?void 0:n.connection)&&void 0!==t?t:{};return l.errorCode===(null===(r=chrome)||void 0===r?void 0:null===(i=r.cast)||void 0===i?void 0:null===(o=i.ErrorCode)||void 0===o?void 0:o.SESSION_ERROR)&&l.status===(null===(a=cast)||void 0===a?void 0:null===(s=a.framework)||void 0===s?void 0:null===(c=s.SessionState)||void 0===c?void 0:c.SESSION_START_FAILED)},v=function(e){switch(Object(i.c)(e)){case r.g.LINEAR:return"CLP";case r.g.CDVR:return"CRP";default:return"CVP"}}},dLOP:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>{{$ctrl.sectionLabel}}, {{$ctrl.category.name}}</h1>\n<ovp-grid-list ng-if="$ctrl.category && $ctrl.clientSidePaging" items="$ctrl.category.media" options="$ctrl.gridListConfig" on-page-changed="$ctrl.onPageChanged(page)">\n<grid-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media | itemsPerPage: $ctrl.pageSize" pagination-id="vodMinorCategoryViewMode" current-page="$ctrl.page" asset="asset" options="{hideNWLogo: $ctrl.hideLogo}" template="boxart">\n</ovp-product>\n</grid-items>\n<list-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media |  itemsPerPage: $ctrl.pageSize" pagination-id="vodMinorCategoryViewMode" current-page="$ctrl.page" asset="asset" options="{hideNWLogo: $ctrl.hideLogo}" template="list" role="listitem">\n</ovp-product>\n</list-items>\n</ovp-grid-list>\n<ovp-grid-list ng-if="$ctrl.category && !$ctrl.clientSidePaging" items="$ctrl.category.media" options="$ctrl.gridListConfig" on-page-changed="$ctrl.onPageChanged(page)">\n<grid-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media | itemsPerPage: $ctrl.pageSize" current-page="$ctrl.page" total-items="$ctrl.category.totalResults" pagination-id="vodMinorCategoryViewMode" asset="asset" options="{hideNWLogo: $ctrl.hideLogo}" template="boxart">\n</ovp-product>\n</grid-items>\n<list-items>\n<ovp-product dir-paginate="asset in $ctrl.category.media |  itemsPerPage: $ctrl.pageSize" current-page="$ctrl.page" total-items="$ctrl.category.totalResults" pagination-id="vodMinorCategoryViewMode" asset="asset" options="{hideNWLogo: $ctrl.hideLogo}" template="list" role="listitem">\n</ovp-product>\n</list-items>\n</ovp-grid-list>\n',o="js/ondemand/category/ondemand-category.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},dMYR:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-controller="LoginController" class="login-container kite-cell kite-cell-12">\n<div id="content" class="main-content">\n<div class="tour-collage" feature-tour-background></div>\n<div class="kite-grid kite-no-gutters" ng-if="login.subView">\n<div class="login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl" ng-switch on="login.subView">\n<div class="kite-card kite-card-active">\n<div class="login-form" ng-switch-when="form">\n<header role="none">\n<h1 class="kite-h3">Sign In to Get Started</h1>\n<p aria-hidden="true" class="divider">\n<span class="divider">or</span>\n</p>\n</header>\n<ovp-login-form></ovp-login-form>\n</div>\n<div class="login-fatal-error" ng-switch-when="fatal" role="alert">\n<ng-include src="fatalErrorTemplate"></ng-include>\n</div>\n</div>\n</div>\n</div>\n<feature-tour></feature-tour>\n</div>\n</div>\n',o="js/login/login.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},dfAx:function(e,t,n){"use strict";n("ma9I"),n("rB9j"),n("UxlC");var r=n("b/Vg"),i=n.n(r),o=n("RIqP"),a=n.n(o),s=n("SK8o"),c=n.n(s),l=n("TD0+"),u=n.n(l),d=n("1DYX"),p=n.n(d),h=n("lSUw"),v=/[^0-9a-zA-Z]/gi,f=n.n(h)()(function(e){return e.replace(v,"").toUpperCase()}),m=p()(u()(function(e){var t=e.blocked,n=e.rating;return t&&"NR"!==n}),c()(function(e,t){return{normalized:[].concat(a()(e.normalized),[f(t.rating)]),regular:[].concat(a()(e.regular),[t.rating])}},{normalized:[],regular:[]}));t.a={normalizeRating:f,convertApiDataToStore:function(e){var t=m(e.parentalControls.TVRatings),n=t.normalized,r=t.regular,i=m(e.parentalControls.MovieRatings);return{normalized:{tv:n,movie:i.normalized},tv:r,movie:i.regular}},getRatingsToBlock:function(e,t,n,r){var o=function(e){return i()(e,1/0)}(r[e].index);return{ratings:o(t),normalizedRatings:o(n)}}}},e6Wu:function(e,t,n){"use strict";n.r(t);n("QWBl"),n("4mDm"),n("07d7"),n("FZtP"),n("3bBZ");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("Qt34"),c=(n("ma9I"),n("yq1k"),n("JTJg"),n("QuGv")),l=n("PNUD"),u=n("fwyg"),d={},p=function(e){if(null===e||void 0===e?void 0:e.message){var t=""+e.message+e.stack,n=(d[t]||0)+1;d[t]=n,e.count=n,l.a.getSelectorValue(u.Lf).includes(n)&&function(e){var t=h(e);try{var n=Object(c.b)();n.$emit("Analytics:error",{errorCode:"WCR-1000",errorMessage:t.msg,clientErrorCode:"Count is ".concat(t.count," and Stacktrace is ").concat(t.stack),errorType:"Application",errorExtras:{errorStringified:JSON.stringify(e)}})}catch(e){}}(e)}};var h=function(e){return e?{msg:e.message,stack:e.stack,count:e.count}:{msg:"Unknown error"}},v=(n("bZMm"),n("pNMO"),n("TeQF"),n("fbCW"),n("yXV3"),n("brp2"),n("DQNa"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("5s+n"),n("PKPk"),n("Kz25"),n("lSNA")),f=n.n(v),m=n("vDqi"),g=n.n(m),b=n("PnGe"),y=n("UntU"),S=n("XHxQ"),w=n("Dhhs"),k=n("oRAM"),C=n("f8b+"),T=n("fwEs");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e){var t;return e.customData=null!==(t=null===e||void 0===e?void 0:e.customData)&&void 0!==t?t:{},e.customData.requestStartTimeMs=Date.now(),e}function P(e){return x(e,!0),e}function I(e){var t,n,r,i,o,a,s,c;if(401===(null===(t=e)||void 0===t?void 0:null===(n=t.response)||void 0===n?void 0:n.status)||500===(null===(r=e)||void 0===r?void 0:null===(i=r.response)||void 0===i?void 0:i.status)&&(null===(o=e)||void 0===o?void 0:null===(a=o.config)||void 0===a?void 0:null===(s=a.url)||void 0===s?void 0:s.includes("location"))){Object(S.a)({customLevel:"tokenEvent",customName:"tokenEvent - axios",customMessage:{status:"unauthenticated response, try to refresh token"}});var d=null,p=null;try{d=angular.element(document.body).injector().get("OauthService"),p=angular.element(document.body).injector().get("httpUtil")}catch(e){Object(S.a)({customLevel:"tokenEvent",customName:"tokenEvent - axios",customMessage:{status:"failed to get oAuth service"}})}d&&l.a.getSelectorValue(u.Qd)&&(Object(S.a)({customLevel:"tokenEvent",customName:"tokenEvent - axios",customMessage:{status:"starting refresh"}}),l.a.getSelectorValue(u.lg)&&C.a.removeItem(k.b.autoAuthSignOutTime),d.refreshToken().catch(function(){l.a.getSelectorValue(u.hg)&&p.logout()}))}return(null===(c=e)||void 0===c?void 0:c.config)&&x(e,!1),e=function(e){var t,n,r,i,o,a,s,c,u,d=l.a.getStatePath("config.data.apiErrorCodeEnabled"),p=angular.element(document.body).injector()&&angular.element(document.body).injector().get("ApiErrorCodeService"),h=new URL(null===(t=e)||void 0===t?void 0:null===(n=t.config)||void 0===n?void 0:n.url),v=String(null!==(r=null===(i=e)||void 0===i?void 0:null===(o=i.response)||void 0===o?void 0:o.status)&&void 0!==r?r:999);if(!d||!p)return e=Object(b.i)(e,"response.clientErrorCode",String("NONE-"+v));var f,m,g=p.getApiCodePrefix(null===h||void 0===h?void 0:h.pathname);(null===h||void 0===h?void 0:null===(a=h.pathname)||void 0===a?void 0:a.indexOf("auth/oauth"))>-1&&(null===(s=e)||void 0===s?void 0:null===(c=s.response)||void 0===c?void 0:null===(u=c.headers)||void 0===u?void 0:u["x-pi-auth-failure"])&&(v=null===(f=e.response)||void 0===f?void 0:null===(m=f.headers)||void 0===m?void 0:m["x-pi-auth-failure"]);return Object(b.i)(e,"response.clientErrorCode",String(g+"-"+v)),e}(e),Promise.reject(e)}function x(e,t){if(!!!l.a.getSelectorValue(w.c).find(function(t){var n,r;return null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.url)||void 0===r?void 0:r.includes(t)})){var n=t?function(e){var t=Object(s.b)(e);return E(E({},_(e)),{},{appApiServiceResult:"success",appApiResponseText:function(e){var t,n=new URL(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:t.url),r=l.a.getStatePath("config.data");if(r.apiPathsToReportResponseTextToQuantum&&Object(T.e)(r.apiPathsToReportResponseTextToQuantum,n.pathname))return Object(T.b)(null===e||void 0===e?void 0:e.data);return null}(e),opSuccess:!0,appApiCached:304===(null===e||void 0===e?void 0:e.status)},t)}(e):function(e){var t,n=Object(s.b)(e);return E(E({},_(e)),{},{appApiServiceResult:"ECONNABORTED"===(null===e||void 0===e?void 0:e.code)?"timeout":"failure",appApiResponseText:function(e){if(Object(b.g)(e))return e;if(Object(b.f)(e))return JSON.stringify(e);return""}(null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:t.data),opSuccess:!1,appApiCached:!1},n)}(e);Object(y.j)("generic_video_apiCall",n)}}function _(e){var t,n,r,i,o,a,s,c,l,u=new URL(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:t.url),d=e.response?e.response:e;return{appApiPath:null===u||void 0===u?void 0:u.pathname,appApiHttpVerb:null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:n.method,appApiHost:null===u||void 0===u?void 0:u.hostname,msgTriggeredBy:"application",appApiResponseCode:(null===d||void 0===d?void 0:d.status)?"".concat(null===d||void 0===d?void 0:d.status):null,appApiQueryParameters:(null===e||void 0===e?void 0:null===(r=e.config)||void 0===r?void 0:r.params)?JSON.stringify(null===e||void 0===e?void 0:null===(i=e.config)||void 0===i?void 0:i.params):null,appApiTraceId:null!==(o=null===d||void 0===d?void 0:null===(a=d.headers)||void 0===a?void 0:a["x-trace-id"])&&void 0!==o?o:"",appApiResponseTimeMs:Date.now()-(null!==(s=null===e||void 0===e?void 0:null===(c=e.config)||void 0===c?void 0:null===(l=c.customData)||void 0===l?void 0:l.requestStartTimeMs)&&void 0!==s?s:Date.now())}}var D={init:function(){g.a.interceptors.request.use(A),g.a.interceptors.response.use(P,I)}},R=n("GUOU"),j=n("jIcc"),N=n("biJQ"),M=(n("3ERx"),n("++yH"),n("bM23"),n("+qwt")),V=(n("fX0l"),n("E3XM")),L=n.n(V),F=n("ozyn"),U=n.n(F),B=n("xT6I"),W=n.n(B),H=n("KHwQ"),G=(n("1xHL"),n("6kj4")),q=n("3zVP"),z=n.n(q),Y=n("eFMu"),K=n("i8Df"),J=n.n(K),Q=n("q1tI"),X=n.n(Q),Z=(n("xiw1"),n("GqBv"),n("wd/R")),ee=n.n(Z),te=(n("wJrZ"),n("yEfc"),n("wmx0"),n("+pEV"),n("Dp3E"),n("tJmV"),n("du0d"),n("20OV"),n("XZwZ"),n("04BD"));!function(){function e(e,t,n,r){var i;return{error:function(e){i=e},authenticate:function(a,s,c){var l=c?a:"";return t.userLogin(a,s).then(function(){o(l),n.$emit("Session:loginActionComplete",{isSuccess:!0})},function(o){return o.errorCode?(o.isSuccess=!1,o.failureType="userAuthenticationError",n.$emit("Session:loginActionComplete",o),e.reject(o)):(n.$emit("Session:loginActionComplete",{isSuccess:!1,failureType:"serviceError"}),function(e){var n=te.a.getErrorInfo("WGE-1001").message;t.reset(),e.suppressMessage||(r.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for login-service serviceError",options:JSON.stringify(e),message:JSON.stringify(n)}}),function(e){i(e)}(n))}({impactedFunction:"authenticate",url:o.url,data:"NA",xhr:o.xhr,error:o.error}),e.reject())})},hasAcceptedParentalControlsWarning:function(){return!0===C.a.getItem(k.b.parentalControlsAccepted)},acceptParentalControlsWarning:function(){C.a.setItem(k.b.parentalControlsAccepted,!0)},hasAcceptedTVSATerms:function(){return!0===C.a.getItem(k.b.tvsaTermsAccepted)},hasAcceptedSpecUTerms:function(){return!0===C.a.getItem(k.b.specuTermsAccepted)},hasAcceptedBulkMDUTerms:function(){return!0===C.a.getItem(k.b.bulkMDUTermsAccepted)},acceptTVSATerms:function(){C.a.setItem(k.b.tvsaTermsAccepted,!0)},acceptSpecUTerms:function(){C.a.setItem(k.b.specuTermsAccepted,!0)},acceptLoginTerms:function(){C.a.setItem(k.b.loginTermsAccepted,!0)},hasAcceptedLoginTerms:function(){return!0===C.a.getItem(k.b.loginTermsAccepted)},acceptBulkMDUTerms:function(){C.a.setItem(k.b.bulkMDUTermsAccepted,!0)},rememberMe:o};function o(e){var t={username:e,cc:!0,last_activity:"",last_action:"",last_channel:""};C.a.setItem(k.b.loginRememberMe,t)}}e.$inject=["$q","OauthService","$rootScope","kiteModalService"],e.$inject=["$q","OauthService","$rootScope","kiteModalService"],angular.module("ovpApp.login.loginService",["ovpApp.oauth","ovpApp.messages","ovpApp.services.kiteModal"]).service("loginService",e)}();n("rB9j"),n("UxlC"),n("R5XZ");var ne,re=n("bB7c"),ie=n("zmVM"),oe=n("BDR/"),ae=n("twjl"),se=n("uI79"),ce=n("jx2R"),le=n("R+Vf"),ue=n("1XJp"),de=-1,pe=function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=l.a.getSelectorValue(re.A);return!n&&i?Promise.resolve(i):(l.a.dispatch(Object(oe.e)()),t=r?l.a.getSelectorValue(u.Bd)+r:l.a.getSelectorValue(u.Ad),angular.element(document.body).injector().get("$http")({url:t,method:"GET",contentType:"application/json"}).then(function(t){var n,i,o,a=t.data;l.a.dispatch(Object(oe.f)(a));var s=l.a.getSelectorValue(u.Uf),c=null===a||void 0===a?void 0:null===(n=a.offers)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:null===(o=i.baseOffer)||void 0===o?void 0:o.id;if(l.a.dispatch(Object(ue.m)(c)),s){var d=btoa(c),p=l.a.getSelectorValue(u.Le),h=l.a.getSelectorValue(u.mg);if(-1!==p.indexOf(d)||!(null===a||void 0===a?void 0:a.eligible))return he(r),Promise.resolve(a);if(h&&p.length>0){var v=p[p.length-1];return e(!0,v)}return de<p.length-1?e(!0,p[++de]):Promise.reject({errorCode:Object(ae.a)()})}return he(r),Promise.resolve(a)},function(e){return l.a.dispatch(Object(oe.d)(e)),Promise.reject({errorCode:Object(ae.a)(e)})}))},he=function(e){try{var t=e?atob(e):void 0;l.a.getSelectorValue(le.e)?Object(ce.b)(t):Object(se.a)(t)}catch(t){Object(y.j)("All_Generic_Error",{appErrorCode:"WGE-1001",appErrorType:"generic",appErrorMessage:"Could not decode buyflow offer ID",appErrorExtras:{requestedOfferId:e,error:t}})}},ve={getOffersEligibility:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return pe(e).then(function(e){if(Object(b.c)(e,"eligible"))return!0;var t=Object(ae.a)(e);return Object(y.j)("OneApp_buyFlow_ineligible_error",{appClientErrorCode:l.a.getSelectorValue(re.B),appErrorMessage:l.a.getSelectorValue(re.C),appErrorExtras:{OTTOErrorMessage:l.a.getSelectorValue(re.C)},errorType:"buyflow"}),Promise.reject({errorCode:t})})},getBuyflowOffers:pe};function fe(e){ne=e||ne}!function(){function e(e,t,n){return{checkBuyflowEligibility:function(){return l.a.getSelectorValue(ie.g)?l.a.getSelectorValue(u.Yf)||l.a.getSelectorValue(u.Tf)?ve.getOffersEligibility():t.isStreamPlusEligible(!0):e.reject({errorCode:"WUC-1003"})},handleRedirectAfterPurchase:function(){var e=C.a.getItem(k.b.deepLinkRoute),t="/";e&&(t=e,C.a.removeItem(k.b.deepLinkRoute));n.redirectToURL(t)}}}e.$inject=["$q","streamPlusService","httpUtil"],e.$inject=["$q","streamPlusService","httpUtil"],angular.module("ovpApp.services.buyflowService",["ovpApp.services.streamPlusService","ovpApp.legacy.httpUtil"]).factory("buyflowService",e)}();var me=n("53lA"),ge=n("c+yO"),be=["1300","1301","1302"],ye=n("cF4K");!function(){function e(e,t,n,r,i,o,a,s,c,d,p,h,v,f,m,g){var b,S;e.artOrigin=l.a.getSelectorValue(u.Cd),e.collageImageUrl=null,e.config=l.a.getSelectorValue(u.M),e.parentalControlsSpinner=!1,e.messages=a,e.user={username:"",password:"",rememberme:!0,loginsubmit:"Sign In"},e.getNumericErrorCode=function(e){return null===e||void 0===e?void 0:e.replace(/[^0-9]/g,"")},e.getErrorTemplate=function(t){return p[e.getNumericErrorCode(t)]},e.enterSite=function(e){c.canUseTwctv().then(function(){fe("liveTv"),s.go("ovp.livetv",{appRedirect:!0},{replace:!0})},function(){m.checkBuyflowEligibility().then(function(e){if(l.a.getSelectorValue(ge.h)&&!l.a.getSelectorValue(u.Qf))s.go("buyFlowOOH");else if(l.a.getSelectorValue(re.R)){var t=l.a.getSelectorValue(u.B)||"/ondemand/featured";v.path(t)}else{var n=l.a.getSelectorValue(u.Tf)?"ovp.offers":"buyFlow.welcome";s.go(n)}}).catch(function(e){var t=e.errorCode;s.go("novideoservice",{errorCode:t})})})},e.updateFormWithRememberme=function(){var t=C.a.getItem(k.b.loginRememberMe);e.user.username=t?t.username:"",e.user.rememberme=!0},e.parentalControlWarningDeferred=n.defer(),(null===e||void 0===e?void 0:null===(b=e.$resolve)||void 0===b?void 0:null===(S=b.$stateParams)||void 0===S?void 0:S.errorCode)&&(e.isValidationError=!!e.$resolve.$stateParams.errorCode,e.errorCode=e.$resolve.$stateParams.errorCode),e.loadingTracker=o(),e.parentalControlsTracker=o(),e.updateFormWithRememberme(),e.parentalControlsWarningAccepted=function(){i.acceptParentalControlsWarning(),e.parentalControlsSpinner=!0,e.parentalControlWarningDeferred.resolve()},e.showParentalControlWarning=function(){return c.isSpecUOrBulkMDU()?e.parentalControlWarningDeferred.resolve():i.hasAcceptedParentalControlsWarning().then(function(t){t?e.parentalControlWarningDeferred.resolve():e.login.subView=r.PARENTAL}),e.parentalControlWarningDeferred.promise},e.onRememberMeChange=function(){e.user.rememberme||i.rememberMe("")},e.onRememberMeKeydown=function(t){!t||13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),e.user.rememberme=!e.user.rememberme,e.onRememberMeChange())},e.authenticate=function(){if(f.isOnline()){var t=n.when(i.authenticate(e.user.username,e.user.password,e.user.rememberme)),o=n.defer();e.isValidationError=!1,e.errorCode=null,e.loadingTracker.addPromise(o.promise),e.fatalErrorTemplate=null,t.then(function(){e.isValidationError=!1,me.a.getLocation().then(function(t){e.enterSite(t)}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d.$emit("Analytics:sadTv",{errorCode:String(e.errorCode),clientErrorCode:e.clientErrorCode,errorMessage:te.a.getErrorInfo(e.errorCode).message}),s.go("ovp.sadtverror",{errorCode:String(e.errorCode)})})},function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.resolve(),setTimeout(function(){var e;null===(e=h.find("#login-error-messages"))||void 0===e||e.focus()},0),e.login.subView=r.FORM,e.isValidationError=!0,e.errorCode=String(n.errorCode);var i,a=e.getErrorTemplate(e.errorCode);(null===a||void 0===a?void 0:null===(t=a.analytics)||void 0===t?void 0:t.eventCase)&&Object(y.j)(null===a||void 0===a?void 0:null===(i=a.analytics)||void 0===i?void 0:i.eventCase,{appErrorMessage:null===n||void 0===n?void 0:n.errorMessage,modalLoadTimeMs:0,appErrorCode:null===n||void 0===n?void 0:n.errorCode,modalText:null===n||void 0===n?void 0:n.errorMessage});e.setErrorTemplate(null===a||void 0===a?void 0:a.html,e.errorCode)})}else e.errorCode="-1",e.login.subView=r.FORM},e.setErrorTemplate=function(t,n){t&&(e.login.subView="fatal",e.fatalErrorTemplate=t,e.errorCode=e.getNumericErrorCode(n))},e.fatalErrorClick=function(){Object(ye.a)("OneApp_selectAction_ok"),e.returnToLoginForm()},e.login={subView:r.FORM,subViews:r},e.forgotUsernameOrPassword=function(){d.$emit("Analytics:select",{elementStandardizedName:"forgotUsernamePassword",pageSectionName:"loginArea"})},e.createUsername=function(){d.$emit("Analytics:select",{elementStandardizedName:"createUsername",pageSectionName:"loginArea"})},e.viewTOS=function(){},e.viewPrivacy=function(){},e.returnToLoginForm=function(){g.clearOAuthError(),e.errorCode=null,e.login.subView=r.FORM},i.error(function(){e.login.subView=r.FORM,e.loadingTracker.cancel()}),d.$broadcast("pageChangeComplete",s.current)}function t(e,t,n,r,i,o,a){return{restrict:"E",templateUrl:"js/login/loginForm.html",link:function(a){var s=r.getOAuthError();be.includes(a.getNumericErrorCode(null===s||void 0===s?void 0:s.errorCode))&&(a.errorCode=null===s||void 0===s?void 0:s.errorCode,a.isValidationError=!0),a.isSpecUError=(null===s||void 0===s?void 0:s.isSpecU)||!1,a.messages=e,a.showSpecUSignInButton="WLI-1035"===(null===s||void 0===s?void 0:s.errorCode),a.specuDomain=Object(b.c)(s,["headers","x-specu-trusted-domain"],""),a.specUButtonActive=!1,a.privacyPolicyLink=l.a.getSelectorValue(u.Jd),a.termsAndConditionsLink=l.a.getSelectorValue(u.Oe),a.retryAutoOauth=function(){C.a.removeItem(k.b.autoAuthSignOutTime),Object(y.a)(!1),i.$emit("Analytics:select",{elementStandardizedName:"retryAutoAccess",pageSectionName:"loginArea"}),n.location.reload()},a.toggleSpecUButtonState=function(e){a.specUButtonActive=e},a.getSpecULogo=function(){var e=o.appVersion;return a.specUButtonActive?e+"/images/logo-specu-horiz.svg":e+"/images/logo-specu-horiz-dark.svg"},a.onSubmit=function(){if(a.loginForm.username.$error.required||a.loginForm.password.$error.required)return a.loginForm.username.$error.required&&a.loginForm.username.$setDirty(),a.loginForm.password.$error.required&&a.loginForm.password.$setDirty(),!0;a.authenticate()},a.$watch("errorCode",function(e,n){if(e){a.loginForm.$setSubmitted(!0);var r=a.getErrorTemplate(a.errorCode);if(a.errorCode&&r){var i;if(null===r||void 0===r?void 0:null===(i=r.analytics)||void 0===i?void 0:i.eventCase){var o,s=te.a.getErrorInfo(a.errorCode).message;Object(y.j)(null===r||void 0===r?void 0:null===(o=r.analytics)||void 0===o?void 0:o.eventCase,{appErrorMessage:s,modalLoadTimeMs:0,appErrorCode:a.errorCode,modalText:s})}a.setErrorTemplate(null===r||void 0===r?void 0:r.html,a.errorCode),a.loginForm.loginForm.$setValidity(null===r||void 0===r?void 0:r.html,!1)}else a.errorCode&&"-1"===a.errorCode?a.loginForm.loginForm.$setValidity("error-connectivity",!1):a.errorCode&&"WLI-1025"===a.errorCode?a.loginForm.loginForm.$setValidity("error-locked",!1):be.includes(a.getNumericErrorCode(null===a||void 0===a?void 0:a.errorCode))?a.loginForm.loginForm.$setValidity("error-suspicious-auth",!1):(a.loginForm.loginForm.$setValidity("error-generic",!1),a.loginForm.password.$setPristine())}else n&&!e&&(Object.keys(t).forEach(function(e){var n;a.loginForm.loginForm.$setValidity(null===(n=t[e.replace(/[^0-9]/g,"")])||void 0===n?void 0:n.html,null)}),a.loginForm.loginForm.$setValidity("error-generic",null),a.loginForm.password.$setPristine())}),a.clickSpecUTA=function(){i.$emit("Analytics:specu-selectAction-newDomainSearch",{elementStandardizedName:"trustedAuthSignIn",pageSectionName:"loginArea"})}}}}t.$inject=["messages","LOGIN_ERROR_TEMPLATES","$window","OauthService","$rootScope","version","_"],e.$inject=["$scope","$window","$q","subViews","loginService","promiseTracker","messages","$state","capabilitiesService","$rootScope","LOGIN_ERROR_TEMPLATES","$element","$location","connectivityService","buyflowService","OauthService"],t.$inject=["messages","LOGIN_ERROR_TEMPLATES","$window","OauthService","$rootScope","version","_"],e.$inject=["$scope","$window","$q","subViews","loginService","promiseTracker","messages","$state","capabilitiesService","$rootScope","LOGIN_ERROR_TEMPLATES","$element","$location","connectivityService","buyflowService","OauthService"],angular.module("ovpApp.login",["ovpApp.login.loginService","ovpApp.components.alert","ovpApp.legacy.httpUtil","ovpApp.messages","ajoslin.promise-tracker","ovpApp.oauth","ovpApp.services.capabilitiesService","ovpApp.services.streamPlusService","ovpApp.services.runOnceService","ovpApp.directives.focus","ovpApp.services.buyflowService","ovpApp.loginWelcome","ovpApp.parentalControlWarning","ui.router","ngAria","ngMessages","ovpApp.directives.featureTourBackground"]).constant("subViews",{PARENTAL:"parental",HELP:"help",FORM:"form",ERROR:"error"}).constant("LOGIN_ERROR_TEMPLATES",{1024:{html:"js/login/errors/login-error-blacklist.html"},1301:{html:"js/login/errors/login-error-blacklist.html",analytics:{eventCase:"OneApp_modalView_resetPassword"}}}).controller("LoginController",e).directive("ovpLoginForm",t)}();var Se=n("lwsE"),we=n.n(Se),ke=n("W8MJ"),Ce=n.n(ke);angular.module("ovpApp.loginWelcome",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("loginWelcome",{bindings:{},templateUrl:"js/login/login-welcome/login-welcome.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{httpUtil:t,$state:n,loginService:r,$scope:i})}return e.$inject=["httpUtil","$state","loginService","$scope"],e.$inject=["httpUtil","$state","loginService","$scope"],Ce()(e,[{key:"$onInit",value:function(){this.termsHref="https://www.spectrum.com/policies/residential-terms.html",this.privacyHref=l.a.getSelectorValue(u.Jd)}},{key:"signInWithResidential",value:function(){this.httpUtil.logout()}},{key:"continue",value:function(){this.loginService.acceptLoginTerms(),this.$state.go("ovp.parentalControlWarning")}}]),e}()}),function(){function e(e){return{restrict:"A",link:function(t,n){n.on("click",function(){angular.element("html,body").animate({scrollTop:angular.element(e.find("#tour-slides")).offset().top},"slow")})}}}e.$inject=["$document"],e.$inject=["$document"],angular.module("ovpApp.featureTour",["ovpApp.featureTour.slide","ngSanitize"]).directive("scrollToSlides",e).component("featureTour",{bindings:{},templateUrl:"js/feature-tour/feature-tour.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onInit",value:function(){this.slides=l.a.getSelectorValue(u.Vb)}},{key:"hasSlides",value:function(){return this.slides&&angular.isArray(this.slides)&&this.slides.length>0}}]),e}()})}(),angular.module("ovpApp.featureTour.slide",[]).component("featureTourSlide",{bindings:{slide:"<",imageOnLeft:"<"},templateUrl:"js/feature-tour/feature-tour-slide.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onInit",value:function(){this.artOrigin=l.a.getSelectorValue(u.Cd)}}]),e}()});n("sxA3"),n("zKZe");var $e=n("KYMe");!function(){function e(e){e.interceptors.push(["$q","$injector",function(e,t){r.$inject=["config","OauthService"],r.$inject=["config","OauthService"];var n=3;return{request:function(n){if(Object($e.requiresAuthentication)(n)){var i=t.get("OauthService");return n.bypassRefresh?r(n,i):i.updateToken().then(function(){return r(n,i)},function(t){return e.reject("User is not logged in, retry after login "+n.url+"["+t+"]")})}return e.resolve(n)},responseError:function(r){var i,o,a=(null===r||void 0===r?void 0:null===(i=r.config)||void 0===i?void 0:null===(o=i.url)||void 0===o?void 0:o.indexOf("/auth/oauth/"))>=0;if(r.config&&401===r.status&&!r.config.bypassRefresh&&(void 0===r.config.retryCount||r.config.retryCount<n)&&!a){var s=t.get("OauthService");return s.updateToken(!0).then(function(){var e=t.get("$http");return r.config.retryCount||(r.config.retryCount=0),r.config.retryCount++,e(r.config)})}return e.reject(r)}};function r(e,t){var n=t.getOAuthHeader(e);return e.headers?Object.assign(e.headers,n):e.headers=n,e}}])}e.$inject=["$httpProvider"],e.$inject=["$httpProvider"],angular.module("ovpApp.interceptors.oauth",[]).config(e)}();var Te=n("J4zp"),Oe=n.n(Te),Ee=(n("p532"),n("gwmn")),Ae=n("NK+S"),Pe=n("3V2u"),Ie=n("7p1Z"),xe=!1,_e=864e5,De=null,Re=null,je=!1;function Ne(e){clearTimeout(Re),Re=setTimeout(function(){var e=l.a.getSelectorValue(re.p)-1;l.a.dispatch(Object(Ee.j)(e)),e>0?(De=Date.now()+_e,Ne(_e)):(Ae.a.closeAll(!0),Object(ae.c)(),document.removeEventListener("visibilitychange",function(){return Me()}))},e)}function Me(){var e=Date.now();if("visible"===document.visibilityState&&e>De){var t=l.a.getSelectorValue(re.p)-1;if(l.a.dispatch(Object(Ee.j)(t)),t>0){var n=_e-(e-De);De+=_e,Ne(n)}}}var Ve={getCurrentPackage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=l.a.getInstance(),n=l.a.getSelectorValue(u.gb),r=angular.element(document.body).injector().get("$http");return l.a.getSelectorValue(u.ng)&&(e||!l.a.getSelectorValue(re.o)&&!l.a.getSelectorValue(re.r))?(t.dispatch(Object(Ee.g)()),r({url:n,method:"GET",contentType:"application/json"}).then(function(e){var n=Object(b.c)(e,["data","currentPackages"]);return t.dispatch(Object(Ee.h)(n)),Promise.resolve(!0)},function(e){return t.dispatch(Object(Ee.f)(e)),Promise.resolve(e)})):Promise.resolve(!0)},startSubscriptionCountdown:function(){var e=l.a.getSelectorValue(re.I);if(e>=0){var t=Math.ceil(e/_e);if(l.a.dispatch(Object(Ee.j)(t)),0!==e){var n=e%_e;De=n+Date.now(),Ne(n),document.addEventListener("visibilitychange",function(){return Me()})}}},showFreePreviewModal:function(){if(l.a.getSelectorValue(re.N)&&!l.a.getSelectorValue(re.M)){if(!C.a.getItem(k.b.showReminderModal))return C.a.setItem(k.b.showReminderModal,!0),void l.a.dispatch(Object(Ee.i)(!0));xe=!0;var e=l.a.getSelectorValue(re.q),t=new Date(1e3*e),n=t.toLocaleString("en-US",{month:"numeric",day:"numeric"}),r=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),i=l.a.getSelectorValue(Pe.b),o="Welcome back ".concat(i),a="Your free preview ends on ".concat(n," at ").concat(r,".");Ae.a.open({component:"kite-free-preview-reminder",resolve:{analyticsModalName:"freePreviewDaysLeft",modalDetails:{title:o,description:a},primaryButtonLabel:"Subscribe Now",secondaryButtonLabel:"Continue Preview"},showCloseIcon:!0,doNotCloseAutomatically:!0,ariaLabelledBy:"kite-free-preview-reminder-title",ariaDescribedBy:"kite-free-preview-reminder-description"}).promise.then(function(e){e&&(je=!1)}).finally(function(){je||Object(ye.a)("OneApp_selectAction_freePreview_closeModal",{modalName:"freePreviewDaysLeft"}),xe=!1,l.a.dispatch(Object(Ee.i)(!0))})}},isShowingFreePreviewModal:function(){return xe}},Le=n("p0Ps"),Fe=n("hWvj");function Ue(){var e=l.a.getSelectorValue(Fe.a);return e?Promise.resolve(e):Object(c.d)(Le.a).then(function(){return l.a.getSelectorValue(Fe.a)})}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){function e(e){e.interceptors.push(["$q","$injector","$log",function(e,t){return{request:function(n){var r=t.get("capabilitiesService"),i=t.get("stbService");return!n.ignoreNNSParams&&n.url.indexOf(l.a.getSelectorValue(u.Oc))>-1?e.all([r.isTVODRentEnabled(),r.isTVODWatchEnabled(),r.isCdvrEnabled(),i.getVodId(),Ue(),i.getCurrentStbPromise(),r.getCapabilities(),me.a.getLocation(),Ve.getCurrentPackage(),r.isRdvrHidden()]).then(function(e){var t=Oe()(e,9),r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],d=(t[6],t[7],t[8]);n.params=n.params||{};var p=null===s||void 0===s?void 0:s.vodId;if((a||p)&&angular.extend(n.params,{vodId:a||p}),angular.extend(n.params,We({tvodRent:r,tvodWatch:i},l.a.getSelectorValue(u.Sc))),o?angular.extend(n.params,{cdvrEnabled:o}):c&&(angular.extend(n.params,{flickable:c.flickable,dvr:c.isDvr,macaddress:c.macAddressNormalized,dvrManager:!d}),c.isDvr&&angular.extend(n.params,{rdvrVersion:c.rdvrVersion}),c.tuneLinear&&angular.extend(n.params,{tuneToChannel:!0})),l.a.getSelectorValue(u.Mf)){n.params=We(We({},n.params),{},{deviceLocation:me.a.getDeviceLocation()});var h=l.a.getSelectorValue(u.ib);h&&(n.params=We(We({},n.params),{},{dlc:h}))}else{var v=l.a.getSelectorValue(ge.h);n.params=We(We({},n.params),{},{displayOutOfHomeOnly:v,deviceOutOfHome:v})}var f=l.a.getSelectorValue(ie.a);return f.watchondemand&&(angular.extend(n.params,{watchOnDemand:f.watchondemand.authorized}),angular.extend(n.params,{hideOnDemand:f.watchondemand.hide})),f.tunetochannel&&f.tunetochannel.authorized&&angular.extend(n.params,{tuneToChannel:!0}),f.watchlive&&f.watchlive.authorized&&angular.extend(n.params,{watchLive:!0}),l.a.getSelectorValue(re.N)&&angular.extend(n.params,{tvodWatch:!1,tvodRent:!1}),n}):e.resolve(n)}}}])}e.$inject=["$httpProvider"],e.$inject=["$httpProvider"],angular.module("ovpApp.interceptors.nns",[]).config(e)}();n("4l63"),n("LKBx");var He=n("uzr9"),Ge=n.n(He),qe=n("Y8Jz"),ze=n.n(qe),Ye=n("4vWi"),Ke=n.n(Ye);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(){function e(e){e.interceptors.push(["$q","$injector","$log","$rootScope","$window",function(e,t,n,r,i){var o=t.get("ApiErrorCodeService"),a=l.a.getSelectorValue(u.f);return{request:function(e){if(e.started=Date.now(),a.length&&e.url.startsWith("http")){var t=new URL(e.url).host;return e=a.includes(t)?Ke()({headers:ze()(["Authorization"])},e):c(e)}return e=c(e)},responseError:function(t){return d(t),e.reject(t)},response:function(e){return d(e),e}};function c(e){var t={};try{var r=i.localStorage.getItem("device_id");r&&(t.device_id=JSON.parse(r)||"")}catch(e){n.error(e)}return Ke()({headers:Ge()(t)},e)}function d(e){if(l.a.getSelectorValue(w.e)&&e&&e.config&&e.config.url&&e.status&&-1!==e.status){var t=!1,n=parseInt(e.status,10);!isNaN(n)&&n>=200&&n<=399&&(t=!0);var r=t?"success":"failure";if(408===n&&(r="timeout"),!t||0===e.config.url.indexOf("http")){var i=!1;if(l.a.getSelectorValue(w.c).forEach(function(t){i||0!==e.config.url.indexOf(t)||(i=!0)}),!i){var a=null,c=e.config.url.indexOf("?");if(c>0&&(a=e.config.url.substring(c+1)),e.config.cache&&("GET"===e.config.method||"JSONP"===e.config.method)){var d=e.config.url;if(e.config.params){var p=e.config.paramSerializer(e.config.params);p.length>0&&(d+=(-1==d.indexOf("?")?"?":"&")+p)}var h=!0===e.config.cache||e.config.cache.get(d);if(angular.isArray(h)&&angular.isObject(h[2])){if(h[2]["x-intercept-cache"])return;h[2]["x-intercept-cache"]="true"}}var v=0;e.config.started&&(v=Date.now()-e.config.started);var m=window.document.createElement("a");m.href=e.config.url;var g=Object(s.b)(e),b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({appApiServiceResult:r,appApiPath:m.pathname,appApiHttpVerb:e.config.method,appApiHost:m.hostname,msgTriggeredBy:"application",appApiResponseCode:""+e.status,appApiResponseText:t?"":Object(T.b)(e.data),appApiResponseTimeMs:v,appApiQueryParameters:a,opSuccess:t,appApiCached:304===n,appApiTraceId:e.headers("x-trace-id")||""},g);if(!t&&(b.errorType="api",b.errorCode=String(e.status),b.errorMessage=e.statusText+": "+JSON.stringify(e.data),l.a.getSelectorValue(u.k))){var S,k=String(e.status);m.pathname.indexOf("auth/oauth")>-1&&e.headers("x-pi-auth-failure")&&(k=e.headers("x-pi-auth-failure")),S=o.getApiCodePrefix(m.pathname),e.clientErrorCode=String(S+"-"+k)}l.a.getSelectorValue(u.l).includes(m.pathname)&&(b.appApiResponseText=Object(T.b)(e.data)),Object(y.j)("generic_video_apiCall",b)}}}}}])}e.$inject=["$httpProvider"],e.$inject=["$httpProvider"],angular.module("ovpApp.interceptors.httpInterceptor",["ovpApp.services.apiErrorCodesService"]).config(e)}();n("Rfxz"),n("wLYn");!function(){function e(e,t){var n=window.jQuery,r=n.ajax;n.ajaxPrefilter(function(n){var r=n.beforeSend;Object.assign(n,{beforeSend:function(i,o){if(function(t){return l.a.getSelectorValue(u.rd).some(function(n){var r=e(n)(l.a.getSelectorValue(u.M));return r&&t&&0===t.indexOf(r)})}(n.url)){var a=t.getOAuthHeader(n);i.setRequestHeader("Authorization",a.Authorization),(o=o||{}).headers=[{key:"Authorization",value:a.Authorization}]}r&&"function"==typeof r&&r(i,o)},xhrFields:{withCredentials:!0}})}),n.ajax=function(e){if(e&&!e.bypassRefresh&&e.url&&0===e.url.indexOf(l.a.getSelectorValue(u.Cd))){var i=n.Deferred();return t.isAuthenticated().then(function(t){t?function(e){var t=n.Deferred();e?(e.bypassRefresh=!0,e.statusCode=e.statusCode||{},r(e).done(t.resolve.bind(t)).fail(t.reject.bind(t))):t.resolve();return t.promise()}(e).done(i.resolve).fail(i.reject):(e.error&&e.error("not_logged_in"),i.reject("not_logged_in"))}),i.promise()}return r(e)}}e.$inject=["selectn","OauthService"],e.$inject=["selectn","OauthService"],angular.module("ovpApp.interceptors.jquery",["ovpApp.oauth"]).run(e)}();n("2B1R"),n("rOQg"),n("sMBO"),n("TWNs"),n("JfAA"),n("Rm1S"),n("hByQ"),n("EnZy"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0");var Qe=n("L61M"),Xe=n.n(Qe),Ze=n("xVxh"),et=n.n(Ze),tt=n("Ymwu"),nt=n.n(tt),rt=n("1DYX"),it=n.n(rt),ot=n("cDf5"),at=n.n(ot),st=n("dprx"),ct=n.n(st),lt=n("I+BT"),ut=n("LS8I"),dt=n("/MNb"),pt=n("bjhx");function ht(){return(ht=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt();case 2:return t=e.sent,e.next=5,gt(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vt(){return ft.apply(this,arguments)}function ft(){return(ft=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.default.post({url:"https://api.spectrum.net/auth/oauth/request"});case 2:return t=e.sent,e.abrupt("return",mt(t.data));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mt(e){var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t.oauth_token}function gt(e){return bt.apply(this,arguments)}function bt(){return(bt=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e.default.post({url:"https://api.spectrum.net/auth/oauth/requestcode",data:{oauth_token:t}});case 2:return n=e.sent,e.abrupt("return",n.data.requestCode);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){var e={success:[],error:[],console:[],storage:{},states:{success:[],error:[]}},t={limit:{httpSuccess:20,httpError:20,consoleError:50,stateError:20,stateSuccess:20}},n=[{url:"",method:"",response:{status:200,statusText:"OK",data:""}}];angular.module("ovpApp.components.environmentDropdown",["ovpApp.directives.dropdownList","ovpApp.version","ovpApp.services.nns","ui.router","ovpApp.legacy.httpUtil","ovpApp.oauth","ovpApp.analytics.analyticsService"]).constant("FEATURE_FLAGS",[{label:"TVSA",config:{ignoreChannelNumbers:!0,offCanvasMenu:{enabled:!1},headerLogoPath:"images/logo-enterprise-horiz.svg",supportModal:{enabled:!0,infoUrl:"/specu/info",emailSubject:"Spectrum Support"},hideGuideFilters:["premiums"],disableSignout:!0,entitledOnlyVod:!0,errorCodePrefix:"V"}},{label:"SpecU",config:{specU:{enabled:!0}}},{label:"SpecUTA",config:{specU:{trustedAuthEnabled:!0,trustedAuthAscendonEndpoint:"https://sbx1-charter.mantle.ascendon.tv/Ascendon/InitiateSso"}}},{label:"SpecUTA (figaro-prod)",config:{specU:{trustedAuthEnabled:!0,trustedAuthAscendonEndpoint:"https://uni-auth-dev.figaro.spectrumtoolbox.com/authprod"}}},{label:"SpecUTA (figaro-engnew)",config:{specU:{trustedAuthEnabled:!0,trustedAuthAscendonEndpoint:"https://uni-auth-dev.figaro.spectrumtoolbox.com/auth"}}},{label:"Bulk MDU",config:{bulkMDU:{enabled:!0}}},{label:"Bulk MDU (SpecU NNS config)",config:{bulkMDU:{enabled:!0},nns:{bulkMDUConfig:"ovp_specu_v1"}}},{label:"Enable AdBlocker Check",config:{adBlockerDetection:{enabled:!0}}},{label:"Masquerade Integration",config:{masqueradeEnabled:!0}},{label:"Stream Plus",config:{streamPlus:{enabled:!0,buyFlowEnabled:!0}}},{label:"Stream Plus V2",config:{streamPlus:{enabled:!0,buyFlowEnabled:!0,welcomePageVersion:"v2"}}},{label:"SSO from Spectrum.net",config:{ssoEnabled:!0}},{label:"STB Settings",config:{stbSettingsEnabled:!0}},{label:"Chromecast",config:{chromecast:{receiverApplicationId:"0518D3CE",enabled:!0,featureTourEnabled:!0}}},{label:"All Stream Retries",config:{videoPlayerSettings:{linear:{feature_retryOnVidInitFailure:!0,retryVidInitMaxAttempts:1,vidTimeoutBeforeRetryMS:1e3},VOD:{feature_retryOnVidInitFailure:!0,retryVidInitMaxAttempts:1,vidTimeoutBeforeRetryMS:3e3}},playerRetry:{brokenStreams:{linear:{enable:!0,maximumAttempts:1,retryWindowMs:36e5},vod:{enable:!0,maximumAttempts:1,retryWindowMs:36e5}}}}},{label:"BrokenStreams - Flash, No Stream Init Retry",config:{playerRetry:{brokenStreams:{linear:{enable:!0,maximumAttempts:1,retryWindowMs:36e5},vod:{enable:!0,maximumAttempts:1,retryWindowMs:36e5}}},videoPlayerSettings:{VOD:{feature_retryOnVidInitFailure:!1},linear:{feature_retryOnVidInitFailure:!1}},playerConfig:{linearDrmEncodings:{encoding:"hls",drm:"adobe"},vodDrmEncodings:{encoding:"hls",drm:"adobe"},cdvrDrmEncodings:{encoding:"hls",drm:"adobe"}},streamBufferingTimeoutMs:{vod:12e4,linear:12e4,dvr:12e4}}},{label:"BrokenStreams - Dash, No Stream Init Retry",config:{playerRetry:{brokenStreams:{linear:{enable:!0,maximumAttempts:1,retryWindowMs:36e5},vod:{enable:!0,maximumAttempts:1,retryWindowMs:36e5}}},videoPlayerSettings:{VOD:{feature_retryOnVidInitFailure:!1},linear:{feature_retryOnVidInitFailure:!1}},playerConfig:{linearDrmEncodings:{encoding:"dash",drm:"cenc"},vodDrmEncodings:{encoding:"dash",drm:"cenc"},cdvrDrmEncodings:{encoding:"dash",drm:"cenc"}},streamBufferingTimeoutMs:{vod:12e4,linear:12e4,dvr:12e4}}},{label:"Buyflow V2",config:{buyflow:{version:2,offersV2Api:"/buyflow/v3/offers",shouldGetCurrentPackage:!0,buyflowDemoMode:!0,autoPurchaseFreePreview:!1,buyflowDemoModeSimulateFailure:!1,freePreviewLoadingMessage:"Preparing your free preview...",reinitializeDelaySecs:10,cms:{endpoints:{419391:{promotional:"buyflow/stream/promo_price/base/5.2.json",freePreview:"buyflow/stream/free_preview/base_end/5.1.json"},"FreePreview-419391":{freePreview:"buyflow/stream/free_preview/base_start/5.1.json"},419392:{freeTrial:"buyflow/stream/free_trial/base/5.2.json"},419399:{promotional:"buyflow/essentials/promo_price/base/5.2.json",freePreview:"buyflow/essentials/free_preview/base_end/5.1.json"},"FreePreview-419399":{freePreview:"buyflow/essentials/free_preview/base_start/5.1.json"},419400:{freeTrial:"buyflow/essentials/free_trial/base/5.2.json"},419397:{promotional:"buyflow/lifestyle/promo_price/base/5.2.json",freePreview:"buyflow/lifestyle/free_preview/base_end/5.1.json"},"FreePreview-419397":{freePreview:"buyflow/lifestyle/free_preview/base_start/5.1.json"},419398:{freeTrial:"buyflow/lifestyle/free_trial/base/5.2.json"},419395:{promotional:"buyflow/mi/promo_price/base/5.2.json",freePreview:"buyflow/mi/free_preview/base_end/5.1.json"},"FreePreview-419395":{freePreview:"buyflow/mi/free_preview/base_start/5.1.json"},419396:{freeTrial:"buyflow/mi/free_trial/base/5.2.json"},419393:{promotional:"buyflow/select/promo_price/base/5.2.json",freePreview:"buyflow/select/free_preview/base_end/5.1.json"},"FreePreview-419393":{freePreview:"buyflow/select/free_preview/base_start/5.1.json"},419394:{freeTrial:"buyflow/select/free_trial/base/5.2.json"},419402:{promotional:"buyflow/choice/promo_price/conf_network_grid/5.2.json"},419401:{freeTrial:"buyflow/choice/free_trial/conf_network_grid/5.2.json"},419416:{promotional:"buyflow/choice/promo_price/base_15/5.0.json"},419415:{freeTrial:"buyflow/choice/free_trial/base_15/5.0.json"}}},isClientSideOfferPrioritizationEnabled:!1}}},{label:"Quantum Analytics Debug",config:{analytics:{debug:!0}}},{label:"DASH Video (cenc)",config:{playerConfig:{linearDrmEncodings:{encoding:"dash",drm:"cenc"},vodDrmEncodings:{encoding:"dash",drm:"cenc"},cdvrDrmEncodings:{encoding:"dash",drm:"cenc"}}}},{label:"HLS Video (Apple FairPlay)",config:{playerConfig:{linearDrmEncodings:{encoding:"hls",drm:"fairplay"},vodDrmEncodings:{encoding:"hls",drm:"fairplay"},cdvrDrmEncodings:{encoding:"hls",drm:"fairplay"},linear:{location:{serviceworker:"./sw.js"}},vod:{location:{serviceworker:"./sw.js"}}}}},{label:"HDCP Capping",config:{bWF4aW11bUNvd2JlbGw:!0,applyCapOnDisplayChange:!0,applyCapIntervalSeconds:30,dash:{linearEnabled:!0,vodEnabled:!0,cdvrEnabled:!0,playerConfig:{LIVE:{showMetricsOverlay:!0},VOD:{showMetricsOverlay:!0}}}}}]).constant("BUYFLOW_OFFERS",[{label:"Stream",tactics:[{label:"Promotional",value:"promotional",id:419391,boid:"NDE5Mzkx"},{label:"Free Trial",value:"freeTrial",id:419392,boid:"NDE5Mzky"},{label:"Free Preview",boid:"RnJlZVByZXZpZXctNDE5Mzkx"}],supportsOptions:!1},{label:"Essentials",tactics:[{label:"Promotional",value:"promotional",id:419399,boid:"NDE5Mzk5"},{label:"Free Trial",value:"freeTrial",id:419400,boid:"NDE5NDAw"},{label:"Free Preview",boid:"RnJlZVByZXZpZXctNDE5Mzk5"}],supportsOptions:!1},{label:"Lifestyle",tactics:[{label:"Promotional",value:"promotional",id:419397,boid:"NDE5Mzk3"},{label:"Free Trial",value:"freeTrial",id:419398,boid:"NDE5Mzk4"},{label:"Free Preview",boid:"RnJlZVByZXZpZXctNDE5Mzk3"}],supportsOptions:!0},{label:"MI Plan",tactics:[{label:"Promotional",value:"promotional",id:419395,boid:"NDE5Mzk1"},{label:"Free Trial",value:"freeTrial",id:419396,boid:"NDE5Mzk2"},{label:"Free Preview",boid:"RnJlZVByZXZpZXctNDE5Mzk1"}],supportsOptions:!0},{label:"Select",tactics:[{label:"Promotional",value:"promotional",id:419393,boid:"NDE5Mzkz"},{label:"Free Trial",value:"freeTrial",id:419394,boid:"NDE5Mzk0"},{label:"Free Preview",boid:"RnJlZVByZXZpZXctNDE5Mzkz"}],supportsOptions:!0},{label:"Choice 10",tactics:[{label:"Promotional",value:"promotional",id:419402,boid:"NDE5NDAy"},{label:"Free Trial",value:"freeTrial",id:419401,boid:"NDE5NDAx"}],supportsOptions:!1},{label:"Choice 15",tactics:[{label:"Promotional",value:"promotional",id:419416,boid:"NDE5NDE2"},{label:"Free Trial",value:"freeTrial",id:419415,boid:"NDE5NDE1"}],supportsOptions:!1}]).constant("BUYFLOW_OPTIONS",{base:{label:"Base",value:"base"},baseOptions:{label:"Base + Options",value:"base_options"},freePreview:[{label:"Auto Purchase On",value:!0},{label:"Auto Purchase Off",value:!1}]}).constant("FIGARO_CONFIGS",[{label:"SpecU",config:{feature:"SpecU",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"",role:"hoh",ipaddress:"",accountType:"specu",streamPlusEligible:!1,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!0,tvod:!0,cdvr:!0,accessibility:!0,sppmembership:!0,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}},{label:"SpecUTA Button",config:{feature:"SpecUTA",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"RC_SPECU_TRUSTED_AUTH_ONLY (1035)",role:"hoh",ipaddress:"",accountType:"specu",streamPlusEligible:!1,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!0,tvod:!0,cdvr:!0,accessibility:!0,sppmembership:!0,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}},{label:"SpecUTA Link",config:{feature:"SpecUTA",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"RC_SPECU_TRUSTED_AUTH_ONLY (1027)",role:"hoh",ipaddress:"",accountType:"specu",streamPlusEligible:!1,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!0,tvod:!0,cdvr:!0,accessibility:!0,sppmembership:!0,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}},{label:"Bulk MDU",config:{feature:"Bulk MDU",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"",role:"hoh",ipaddress:"",accountType:"bulk",streamPlusEligible:!1,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!1,tvod:!1,cdvr:!1,accessibility:!1,sppmembership:!0,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}},{label:"Bulk MDU (SpecU NNS config)",config:{feature:"Bulk MDU (SpecU NNS config)",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"",role:"hoh",ipaddress:"",accountType:"bulk",streamPlusEligible:!1,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!1,tvod:!1,cdvr:!1,accessibility:!1,sppmembership:!0,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}},{label:"Stream Plus",config:{feature:"Stream Plus",environment:"figaro-prod",oauth:{username:"",password:"",uniqueId:"328947294723947238472834723",action:"",role:"hoh",ipaddress:"",accountType:"",streamPlusEligible:!0,streamPlusDenied:!1},capabilities:{enableoverride:!0,watchlive:!1,watchondemand:!1,viewguide:!1,dvroperations:!1,tvod:!1,cdvr:!1,accessibility:!1,sppmembership:!1,iptvpackage:!1,parentalcontrols:!1,search:!1,outofhome:!1}}},{label:"Capabilities",config:{capabilities:{enableoverride:!0,watchlive:!0,watchondemand:!0,viewguide:!0,dvroperations:!1,tvod:!1,cdvr:!1,accessibility:!1,sppmembership:!1,iptvpackage:!1,parentalcontrols:!1,search:!0,outofhome:!1}}}]).run(["$uiRouter","$transitions","chromecastService",function(n,r,i){function o(e){return{analytics:e.analytics,component:e.component,data:e.data,name:e.name,url:e.url}}r.onSuccess({},function(n){e.states.success.length>=t.limit.stateSuccess&&e.states.success.shift(),e.states.success.push({to:o(n.to()),from:o(n.from())})}),r.onError({},function(n){e.states.error.length>=t.limit.stateError&&e.states.error.shift(),e.states.error.push({to:o(n.to()),from:o(n.from()),error:n.error().message})});var a=C.a.getItem(k.b.castUsername),s=C.a.getItem(k.b.castPassword);a&&s&&i.setDevCredentials(a,s)}]).provider("$exceptionHandler",{$get:["errorLogService",function(e){return e}]}).factory("errorLogService",["$log",function(n){return function(){n.error.apply(n,arguments);try{var r=[];if("object"===(void 0===arguments?"undefined":at()(arguments)))for(var i=0;i<arguments.length;i++){var o=arguments[i],a={};a.message=o.message,a.stack=o.stack,r.push(a)}e.console.length>=t.limit.consoleError&&e.console.shift(),e.console.push(r)}catch(e){n.warn("Error logging failed"),n.log(e)}}}]).component("environmentDropdown",{bindings:{modalInstance:"<"},templateUrl:"js/components/environment-dropdown/environment-dropdown.html",controller:function(){function r(e,t,n,i,o,a,s,c,l,u,d,p,h,v,f,m){we()(this,r),angular.extend(this,{version:e,$state:t,NNSService:n,$uiRouter:i,$window:o,OauthService:a,FEATURE_FLAGS:s,BUYFLOW_OFFERS:c,BUYFLOW_OPTIONS:l,FIGARO_CONFIGS:u,httpUtil:d,$http:p,$location:h,$rootScope:v,analyticsService:f,chromecastService:m,OauthDataManager:ut.a})}return r.$inject=["version","$state","NNSService","$uiRouter","$window","OauthService","FEATURE_FLAGS","BUYFLOW_OFFERS","BUYFLOW_OPTIONS","FIGARO_CONFIGS","httpUtil","$http","$location","$rootScope","analyticsService","chromecastService"],r.$inject=["version","$state","NNSService","$uiRouter","$window","OauthService","FEATURE_FLAGS","BUYFLOW_OFFERS","BUYFLOW_OPTIONS","FIGARO_CONFIGS","httpUtil","$http","$location","$rootScope","analyticsService","chromecastService"],Ce()(r,[{key:"$onInit",value:function(){var e=this;this.visitId=ct.a.get(lt.d.VISIT_ID),this.configValue=C.a.getItem(k.b.configOverride)||{},this.configValueString=JSON.stringify(this.configValue,null,2),this.httpOverrideValue=C.a.getItem(k.b.httpOverride)||n,this.cdvrOverrideEnabled=C.a.getItem(k.b.cdvrOverride)||!1,this.bulkMDUOverrideEnabled=C.a.getItem(k.b.bulkMDUOverrideEnabled)||!1,this.bulkMDUPCSettingsOverrideEnabled=C.a.getItem(k.b.bulkMDUPCSettingsOverrideEnabled)||!1,this.httpOverrideValueString=JSON.stringify(this.httpOverrideValue,null,2),this.activateSpecU=C.a.getItem(k.b.activateSpecU)||"ignore",this.debugConfigString=JSON.stringify(t,null,2),this.figaroConfigValue=C.a.getItem(k.b.figaroOverride)||{},this.figaroConfigValueString=JSON.stringify(this.figaroConfigValue,null,2),this.features=this.FEATURE_FLAGS,this.buyflowOffers=this.BUYFLOW_OFFERS,this.buyflowOptions=this.BUYFLOW_OPTIONS,this.buyflowTactics=[],this.figaroConfigs=this.FIGARO_CONFIGS,this.environments=l.a.getSelectorValue(dt.a),this.currentEnvironmentKey=l.a.getSelectorValue(dt.b),this.tdcsLink="http://54.203.63.82:9090/#/ip/client/".concat(Object(R.a)().toUpperCase()),this.sequenceLink="https://prism.spectrumtoolbox.com/tools/sequence/"+this.visitId+"?dataSource=QUANTUM&environment=PRODUCTION&sort=desc",this.kibanaLink="https://quantum-tools.spectrumtoolbox.com/kibana/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now%2Fd,to:now%2Fd))&_a=(columns:!(message.timestamp,message.sequenceNumber,message.name,state.view.currentPage.pageName,operation.operationType),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'0d0cc0a0-910e-11e9-aff3-6d170f6e6220',key:visit.visitId,negate:!f,params:(query:'"+this.visitId+"'),type:phrase),query:(match:(visit.visitId:(query:'"+this.visitId+"',type:phrase)))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:'0d0cc0a0-910e-11e9-aff3-6d170f6e6220',key:message.name,negate:!t,params:(query:apiCall),type:phrase),query:(match:(message.name:(query:apiCall,type:phrase))))),index:'0d0cc0a0-910e-11e9-aff3-6d170f6e6220',interval:auto,query:(language:lucene,query:''),sort:!(!(message.sequenceNumber,desc)))",this.voltLink="https://volt.pi.spectrumtoolbox.com/client/index.html#submit"+"?visitid=".concat(this.visitId),this.figaro1Link="https://figaro-ui.figaro.spectrumtoolbox.com/mockconfigurations/shared",this.figaro2Link="https://figaro-ui-2.figaro.spectrumtoolbox.com/virtual-api-manager/collections/shared",this.buildInfo="/".concat(l.a.getSelectorValue(u.nd),"/build-stats.html"),this.easAudio="http://soundbible.com/grab.php?id=1063&type=mp3",this.xFigaroConfig=C.a.getItem(k.b.xFigaroConfig)||"",this.deviceId=Object(R.a)().toUpperCase(),this.chromecastUsername=C.a.getItem(k.b.castUsername)||"",this.chromecastPassword=C.a.getItem(k.b.castPassword)||"",this.$state.current.name.startsWith("login")?this.nnsVersion="(login to find out!)":this.NNSService.getVersion().then(function(t){e.nnsVersion=t}),this.checkURLParams(),this.castReceiverVisitId=this.analyticsService.getChromecastReceiverVisitId(),this.rokuActivationExpanded=!1,this.rokuActivationCode=""}},{key:"checkURLParams",value:function(){var e=this,t=this.$location.search();if(t.figaroConfig&&(this.selectedFigaroConfig=this.figaroConfigs[parseInt(t.figaroConfig)],this.$location.search("figaroConfig",null),this.applyFigaroConfig(),this.registerDeviceWithFigaroAndRestart()),t.username&&t.password){var n=t.username,r=t.password;this.$location.search("username",null),this.$location.search("password",null),this.OauthService.userLogin(n,r).then(function(){return e.$window.location.reload()})}}},{key:"applyFeature",value:function(){this.selectedFeature&&(this.configValue=angular.extend(this.configValue,this.selectedFeature.config),this.configValueString=JSON.stringify(this.configValue,null,2),this.selectedFeature=null)}},{key:"applyBuyflow",value:function(){var e=-1!==this.currentEnvironmentKey.indexOf("figaro");if(this.selectedBuyflowTactic&&this.selectedBuyflowOffer&&this.selectedBuyflowOption){var t=it()(nt()(et()("label","Buyflow V2")),Xe()(["config"]))(this.FEATURE_FLAGS),n=this.selectedBuyflowTactic.value,r=this.selectedBuyflowTactic.id,i=this.selectedBuyflowTactic.boid;t.buyflow.offersV2Api=e?"/buyflow/v1/offers?baseOfferId=".concat(r,"&promotionType=").concat(n):"/buyflow/v3/offers?baseOfferId=".concat(i),"Free Preview"===this.selectedBuyflowTactic.label&&(t.buyflow.autoPurchaseFreePreview=this.selectedBuyflowOption.value),"base_options"===this.selectedBuyflowOption.value&&(t.buyflow.cms.endpoints=St(St({},t.buyflow.cms.endpoints),{},f()({},r,St(St({},t.buyflow.cms.endpoints[r]),{},f()({},n,t.buyflow.cms.endpoints[r][n].replace(/base.*(?=\/)/,"base_options")))))),this.buyflowAddOnsEnabled&&(t.buyflow.cms.endpoints[r][n]=t.buyflow.cms.endpoints[r][n].replace(/(\d+.\d+)/,"5.0"),t.buyflow.cms.endpoints[r][n]=t.buyflow.cms.endpoints[r][n].replace(/base.*(?=\/)/,"base_cdvr")),this.selectedBuyflowVersion&&(t.buyflow.cms.endpoints[r][n]=t.buyflow.cms.endpoints[r][n].replace(/(\d+.\d+)/,this.selectedBuyflowVersion)),this.configValue=angular.extend(this.configValue,t),this.configValueString=JSON.stringify(this.configValue,null,2),this.selectedBuyflowTactic=null,this.selectedBuyflowOffer=null,this.selectedBuyflowOption=null,this.selectedBuyflowVersion=null}}},{key:"updateBuyflowOffer",value:function(){var e=-1!==this.currentEnvironmentKey.indexOf("figaro"),t=this.selectedBuyflowOffer.tactics;e&&(t=t.filter(function(e){return"Free Preview"!==e.label})),this.buyflowTactics=t}},{key:"updateBuyflowOptions",value:function(){var e;this.selectedBuyflowTactic&&(e="Free Preview"===this.selectedBuyflowTactic.label?this.buyflowOptions.freePreview:this.selectedBuyflowOffer.supportsOptions?[this.buyflowOptions.base,this.buyflowOptions.baseOptions]:[this.buyflowOptions.base],this.buyflowOptionsAvailable=e)}},{key:"searchConfig",value:function(){var e=this,t=l.a.getSelectorValue(u.M),n=Object.keys(t).filter(function(t){return t.match(new RegExp(e.configSearchText,"gi"))});if(n.length>0){var r={};n.forEach(function(e){return r[e]=t[e]}),this.configValueString=JSON.stringify(r,null,2)}}},{key:"updateEnvironment",value:function(){this.httpUtil.cleanUp(),Object(pt.b)(this.currentEnvironmentKey),this.reloadApplication()}},{key:"reloadApplication",value:function(){var e=this;Object(y.b)().then(function(){e.$window.location.reload()})}},{key:"updateEnvironmentAndFeature",value:function(){var e=this;this.currentEnvironmentKey=this.figaroConfigValue.environment,this.configValue={},this.selectedFeature=this.features.find(function(t){return t.label===e.figaroConfigValue.feature}),this.applyFeature()}},{key:"applyFigaroConfig",value:function(){this.selectedFigaroConfig&&(this.figaroConfigValue=angular.extend(this.figaroConfigValue,this.selectedFigaroConfig.config),this.figaroConfigValue.oauth&&(this.figaroConfigValue.oauth.deviceId=Object(R.a)()),this.figaroConfigValueString=JSON.stringify(this.figaroConfigValue,null,2),this.selectedFigaroConfig=null,this.updateEnvironmentAndFeature())}},{key:"updateHttpOverride",value:function(){try{var e=this.httpOverrideValueString.replace(/\s+/g," ").replace(/[]/g,'"');this.httpOverrideValue=JSON.parse(e),this.httpOverrideValueString=JSON.stringify(this.httpOverrideValue,null,2),this.httpOverrideError=null}catch(e){this.httpOverrideError=e.message}}},{key:"updateDebugConfigOverride",value:function(){try{var e=this.debugConfigString.replace(/\s+/g," ").replace(/[]/g,'"');t=JSON.parse(e),this.debugConfigString=JSON.stringify(t,null,2),this.debugConfigOverrideError=null}catch(e){this.debugConfigOverrideError=e.message}}},{key:"resetDebugConfigOverride",value:function(){this.debugConfigOverrideError=null,t={limit:{httpSuccess:20,httpError:20,consoleError:50,stateError:20,stateSuccess:20}},this.debugConfigString=JSON.stringify(t,null,2)}},{key:"updateXFigaroConfigValue",value:function(){C.a.setItem(k.b.xFigaroConfig,this.xFigaroConfig),this.reloadApplication()}},{key:"clearXFigaroConfigValue",value:function(){C.a.removeItem(k.b.xFigaroConfig),this.reloadApplication()}},{key:"resetHttpOverride",value:function(){this.httpOverrideError=null,this.httpOverrideValue=n,this.httpOverrideValueString=JSON.stringify(this.httpOverrideValue,null,2),this.applyHttpOverride()}},{key:"applyHttpOverride",value:function(){C.a.setItem(k.b.httpOverride,this.httpOverrideValue)}},{key:"updateBulkMDUOverride",value:function(){C.a.setItem(k.b.bulkMDUOverrideEnabled,this.bulkMDUOverrideEnabled),this.httpUtil.cleanUp(),this.$window.localStorage.removeItem("autoAuthSignOutTime")}},{key:"updateBulkMDUPCSettingsOverride",value:function(){C.a.setItem(k.b.bulkMDUPCSettingsOverrideEnabled,this.bulkMDUPCSettingsOverrideEnabled)}},{key:"sendEASMessage",value:function(){this.$rootScope.$broadcast("VpnsAlert",{SecureContent:{Location:this.easMessageUrl}}),this.modalInstance.close()}},{key:"setChromecastCredentials",value:function(){this.chromecastUsername&&this.chromecastPassword&&(C.a.setItem(k.b.castUsername,this.chromecastUsername),C.a.setItem(k.b.castPassword,this.chromecastPassword),this.chromecastService.setDevCredentials(this.chromecastUsername,this.chromecastPassword))}},{key:"clearChromecastCredentials",value:function(){this.chromecastUsername="",this.chromecastPassword="",C.a.removeItem(k.b.castUsername),C.a.removeItem(k.b.castPassword),this.chromecastService.clearDevCredentials()}},{key:"updateFigaroConfig",value:function(){try{this.figaroConfigValue=JSON.parse(this.figaroConfigValueString),this.figaroConfigError=null,this.updateEnvironmentAndFeature()}catch(e){this.figaroConfigError=e.message}}},{key:"onActivateSpecUChange",value:function(){C.a.setItem(k.b.activateSpecU,this.activateSpecU||"ignore")}},{key:"updateCapabilitiesWithFigaroAndRestart",value:function(){var e=this;return this.$http({method:"PUT",url:"https://stva.figaro.spectrumtoolbox.com/ipvs/capabilities/device/"+this.$window.localStorage.device_id.replace(/"/g,""),data:this.figaroConfigValue.capabilities,bypassRefresh:!0}).then(function(){e.reloadApplication()})}},{key:"registerDeviceWithFigaroAndRestart",value:function(){var e=this;this.figaroConfigValue.oauth?(this.httpUtil.cleanUp(),this.$window.localStorage.removeItem("autoAuthSignOutTime"),C.a.removeItem(k.b.configOverride),C.a.setItem(k.b.configOverride,this.configValue),Object(pt.b)(this.currentEnvironmentKey),C.a.setItem(k.b.figaroOverride,this.figaroConfigValue),this.$http({method:"PUT",url:"https://stva.figaro.spectrumtoolbox.com/auth/oauth/auto/authorize/authorization",data:this.figaroConfigValue.oauth,bypassRefresh:!0}).then(function(){return e.$http({method:"PUT",url:"https://stva.figaro.spectrumtoolbox.com/ipvs/capabilities/device/"+e.$window.localStorage.device_id.replace(/"/g,""),data:e.figaroConfigValue.capabilities,bypassRefresh:!0}).then(function(){e.clearAuthAndReload()})}).catch(function(t){e.$window.alert(t)})):this.updateCapabilitiesWithFigaroAndRestart()}},{key:"clearStorageAndReload",value:function(){var e=this;Object(y.b)().then(function(){e.$window.localStorage.clear(),e.$window.sessionStorage.clear(),e.$window.location.reload()})}},{key:"clearAuthAndReload",value:function(){this.httpUtil.cleanUp(),this.$window.localStorage.removeItem("autoAuthSignOutTime"),this.reloadApplication()}},{key:"expireAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.OauthDataManager.set({expiration:String(Date.now()+e)})}},{key:"encode",value:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return new Uint8Array(t)}},{key:"debugInfo",value:function(){e.config=this.config,e.storage={localStorage:this.$window.localStorage,sessionStorage:this.$window.sessionStorage};var t=this.encode(JSON.stringify(e,null,4)),n=new Blob([t],{type:"application/octet-stream"}),r=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download","debug-info.json");var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}},{key:"clearConfigValues",value:function(){C.a.removeItem(k.b.configOverride),this.configValue=null,this.configValueString="",this.reloadApplication()}},{key:"updateConfig",value:function(){try{this.configValue=JSON.parse(this.configValueString),this.configError=null}catch(e){this.configError=e.message}}},{key:"updateConfigValue",value:function(){this.configValue&&(C.a.setItem(k.b.configOverride,this.configValue),this.reloadApplication())}},{key:"updateCDVROverride",value:function(){C.a.setItem(k.b.cdvrOverride,this.cdvrOverrideEnabled)}},{key:"selectField",value:function(e){document.getElementById(e).select()}},{key:"copyToClipboard",value:function(e){this.selectField(e),document.execCommand("Copy")}},{key:"requestRokuActivation",value:function(){var e=this;(function(){return ht.apply(this,arguments)})().then(function(t){e.rokuActivationCode=t,e.$rootScope.$apply()})}}]),r}()}).config(["$httpProvider",function(n){function r(e,t,n){var r=n.url&&e.indexOf(n.url)>-1,i=!n.method||n.method.toUpperCase()===t.toUpperCase();return r&&i}n.interceptors.unshift(["$q","$window",function(e,t){var n=t.sessionStorage;return{request:function(i){var o=JSON.parse(n.getItem("httpOverrideRecOpts")||"{}"),a=JSON.parse(n.getItem("cdvrOverride")||!1);if(a&&i.data&&i.url.indexOf("ipvs/api/smarttv/action/dvr/v1/show/")>=0)n.setItem("httpOverrideRecOpts",JSON.stringify(angular.extend(o,{single:i.data}))),i.data={startTimeSec:i.data.startTimeSec,stopTimeSec:i.data.stopTimeSec};else if(a&&i.data&&i.url.indexOf("ipvs/api/smarttv/action/dvr/v1/series")>=0)n.setItem("httpOverrideRecOpts",JSON.stringify(angular.extend(o,{series:i.data}))),i.data={tmsGuideId:parseInt(i.data.channel,10),recordOnlyNew:i.data.recordOnlyNew};else{for(var s=JSON.parse(t.sessionStorage.getItem("httpOverride")||"{}"),c=0;c<s.length;c+=1)if(r(i.url,i.method,s[c])&&!s[c].response.status.toString().startsWith("2"))return e.reject(angular.extend({headers:function(e){return"x-trace-id"===e?"fake-x-trace-id-ignore-it":""},config:{url:i.url,method:i.method}},s[c].response));if("failure"===JSON.parse(n.getItem("activateSpecU")||"{}")&&i.url.indexOf("/auth/oauth/specu/authorize")>-1)return e.reject("Test failure")}return i}}}]),n.interceptors.push(["$q","$window","$rootScope",function(e,t,n){var i=t.sessionStorage;return{response:function(e){var o=e.config.url;if(JSON.parse(i.getItem("bulkMDUOverrideEnabled")||!1))o.indexOf("/auto/authorize")>=0&&"SPECU"===e.data.xoauth_account_type&&(e.data=angular.extend(e.data,{xoauth_classification:"MDU_BULK_MASTER",xoauth_account_type:"BULK"}));else if(JSON.parse(i.getItem("cdvrOverride")||!1)){var a=e.config.url;if(a.indexOf("nns/V1/series/tmsproviderseriesid")>=0){var s=e.data.actionGroups.defaultGroup.actionObjects.filter(function(e){return"cdvrCancelSeriesRecording"===e.actionType})[0];if(s){var c=angular.copy(s),l=JSON.parse(i.getItem("httpOverrideRecOpts")||"{}").series||{};c.actionType="cdvrEditSeriesRecording",c.ipvsAction.operation="PUT",e.data.actionGroups.defaultGroup.actionObjects.push(c),e.data.cdvrSeriesRecording=angular.extend(l,{tmsGuideId:e.data.cdvrSeriesRecording.tmsGuideId})}e.data.seasons.map(function(e){return e.episodes.map(function(e){var t=e.actionGroups.defaultGroup.actionObjects.filter(function(e){return"cdvrCancelRecording"===e.actionType})[0];if(t){var n=angular.copy(t),r=JSON.parse(i.getItem("httpOverrideRecOpts")||"{}").single||{};n.actionType="cdvrEditRecording",n.ipvsAction.operation="PUT",e.actionGroups.defaultGroup.actionObjects.push(n);var o=e.streamList.find(function(e){return e.streamProperties&&e.streamProperties.cdvrRecording});o&&(e.streamList[o.index].streamProperties.cdvrRecording=angular.extend(r,o))}return e}),e})}else if(a.indexOf("nns/V1/event/tmsid")>=0){var u=e.data.media.results[0].actionGroups,d=u.defaultGroup.actionObjects.filter(function(e){return"cdvrCancelRecording"===e.actionType})[0];if(d){var p=angular.copy(d),h=JSON.parse(i.getItem("httpOverrideRecOpts")||"{}").single||{};p.actionType="cdvrEditRecording",p.ipvsAction.operation="PUT",u.defaultGroup.actionObjects.push(p);var v=e.data.media.results[0].streamList.find(function(e){return e.streamProperties&&e.streamProperties.cdvrRecording});v&&(e.data.media.results[0].streamList[v.index].streamProperties.cdvrRecording=angular.extend(h,v))}}}JSON.parse(i.getItem("bulkMDUPCSettingsOverrideEnabled")||!1)&&o.indexOf("ipvs/api/smarttv/user/capabilities")>=0&&(e.data=angular.extend(e.data,{parentalcontrols:{authorized:!1,hide:!1,msg:"parentalcontrols.notEnabled",code:122}}));for(var f=JSON.parse(t.sessionStorage.getItem("httpOverride")||"{}"),m=0;m<f.length;m+=1)if(r(e.config.url,e.config.method,f[m])&&f[m].response.status.toString().startsWith("2")){var g=f[m].response.data;angular.isString(g)?n.$eval(g,{response:e}):angular.isObject(g)&&(e.data=angular.extend(e.data,g))}return e},responseError:function(t){var n=t.config&&t.config.url||"",r=JSON.parse(i.getItem("cdvrOverride")||!1),o=JSON.parse(i.getItem("activateSpecU")||"{}");return r&&n.indexOf("nns/V1/series/tmsproviderseriesid")>=0||n.indexOf("nns/V1/event/tmsid")>=0?e.resolve():n.indexOf("dummy-vpnsalert.com")>=0?e.resolve({config:{url:n.split("#")[0]},data:{info:{event:n.split("#")[1],resource:[{mimeType:"audio-mp3",uri:n.split("#")[2]}]}}}):"success"===o&&n.indexOf("/auth/oauth/specu/authorize")>-1?e.resolve({config:{url:n},data:{universityId:"abc"}}):e.reject(t)}}}]),n.interceptors.unshift(["$q",function(n){return{response:function(n){if(-1===n.config.url.indexOf(".html")){e.success.length>=t.limit.httpSuccess&&e.success.shift();var r=angular.copy(n);angular.isFunction(n.headers)&&(r.headers=n.headers()),e.success.push(r)}return n},responseError:function(r){e.error.length>=t.limit.httpError&&e.error.shift();var i=angular.copy(r);return angular.isFunction(r.headers)&&(i.headers=r.headers()),e.error.push(i),n.reject(r)}}}]),n.interceptors.push(["$window",function(e){var t=e.sessionStorage.getItem("xFigaroConfig")||null,n=null;return{request:function(e){return t&&-1!==e.url.indexOf("figaro")&&(n={"x-figaro-config":JSON.parse(t),"x-figaro-collection":JSON.parse(t)}),n&&(e.headers?angular.extend(e.headers,n):e.headers=n),e}}}])}])}(),function(){function e(e){var t=[];return{delegate:function(r,i){return function(r,i){var o=r;n(r)?o=function(){}:t.push(r.toString());return o.apply(e,i)}(r,i)},cached:n};function n(e){var n=e.toString();return t.some(function(e){return e===n})}}e.$inject=["$window"],e.$inject=["$window"],angular.module("ovpApp.services.runOnceService",[]).factory("runOnce",e)}();var wt=n("IS96"),kt=n.n(wt),Ct=n("Swmu"),$t=n("/MKj"),Tt=(n("T63A"),n("pVnL")),Ot=n.n(Tt),Et=n("17x9"),At=n.n(Et),Pt=n("7w/W"),It=(n("J30X"),n("oVuX"),n("E9XD"),n("jZ5M")),xt=n.n(It);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Rt="OneApp_";function jt(e,t,n){var r=/{{(.*?)}}/,i=/%%(.*?)%%/,o=/\[(.*?)\)/,a=/<(.*?)>/,s="",c="",d="",p="";return xt()(function e(h,v,f){var m,g,y,S;return s=(null===f||void 0===f?void 0:f.context)||s,c=null!==(m=null===f||void 0===f?void 0:f.referenceId)&&void 0!==m?m:c,"backdropColor"===v&&(d=h),"eventCaseId"===v&&(h=Rt+h),(f.componentName||"dataSource"in f)&&(p=null===f||void 0===f?void 0:f.dataSource),Array.isArray(h)?h.map(e):"object"===at()(h)?Object.prototype.hasOwnProperty.call(h,"src")&&Object.prototype.hasOwnProperty.call(h,"path")?function(e){var t=e.src,n=e.path,r=l.a.getSelectorValue(u.vc);return"cms"===t&&(r=l.a.getSelectorValue(u.K)),r+n}(h):Object.prototype.hasOwnProperty.call(h,"uiLabel")&&a.test(h.uiLabel)?(h.uiLabel=function(e,t,n){var r=e.match(n)[1];return t[r]?e.replace(n,t[r]):e}(h.uiLabel,f,a),xt()(e,h)):xt()(e,h):(f.context&&f.context!==s&&(s=f.context),r.test(h)&&(h=function e(t,n,r){var i=t.match(r)[1],o=Object(b.c)(n,i);if(!o)return l.a.getSelectorValue(Lt)||l.a.dispatch(Pt.a.failure({status:"parseError"})),t;var a=t.replace(r,o);return a.match(r)?e(a,n,r):a}(h,Dt(Dt({},null!==(g=null===t||void 0===t?void 0:null===(y=t[s])||void 0===y?void 0:y[0])&&void 0!==g?g:null===t||void 0===t?void 0:t[s]),null===(S=n[p])||void 0===S?void 0:S.data),r)),i.test(h)&&(Object.prototype.hasOwnProperty.call(f,"ariaLabel")&&(f.ariaLabel=h.split(i).join("")),h=function(e,t,n){var r=e.match(n)[1];return X.a.createElement("span",null,e.split(n).reduce(function(e,n,i){return i?e.concat(r===n?X.a.createElement("span",{style:{color:t},key:i+n},n):n):[n]},[]))}(h,d,i)),o.test(h)&&(h=function(e,t){return X.a.createElement("span",null,e.split(t).reduce(function(e,t,n){if(!n)return[t];if(t.match(/(]\()/)){var r=t.match(/(.*?)\]/)[1],i=t.match(/\((.*)/)[1];return e.concat(X.a.createElement("a",{href:i,target:"_blank",key:n+r},r))}return e.concat(t)},[]))}(h,o)),h)},e)}function Nt(e,t){return t.replace(/::(.*?)::/,e)}var Mt=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cms)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.renderConfig},Vt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.buyflow)||void 0===t?void 0:null===(n=t.cms)||void 0===n?void 0:n.error},Lt=function(e){return!!Vt(e)},Ft=function(e){var t=Mt(e),n=Object(re.h)(e);if(t){var r=t[n];return r.parentNamespace="stvweb.buyflow.",(r=jt(r,Object(re.n)(e),Object(re.g)(e))).namespace=r.parentNamespace+r.componentName+n,r}},Ut=function(e){return Mt(e)[Object(re.h)(e)].await},Bt=function(e){return!!Ut(e)},Wt=function(e){var t,n=Object(re.g)(e),r=Ut(e).map(function(e){return e.apiName}),i=r.find(function(e,t){if(n[e].error)return r[t]});return null===(t=Ut(e).find(function(e){return e.apiName===i}))||void 0===t?void 0:t.errorCodeOnFailure},Ht=function(e,t){var n=Ut(e).find(function(e){return e.apiName===t});return null===n||void 0===n?void 0:n.retriesOnFailure};var Gt=function(e){var t=e.componentName,n=e.header,r=e.children;return React.createElement("div",{className:t},n&&React.createElement("h2",{className:"kite3-title-5"},n.uiLabel),React.createElement("div",{className:"cms-container"},r))};var qt=Object($t.connect)(function(e){return{choiceNetworks:Object(re.l)(e)}})(function(e){var t=e.header,n=e.subHeader,r=e.price,i=e.additionalChargeCopy,o=e.includeSelectedNetworkNames,a=e.choiceNetworks,s=o?a.join(", "):"";return React.createElement("div",{className:"cart-option cart-item"},React.createElement("div",{className:"cart-option-header"},React.createElement("h2",{className:"header kite3-title-5"},t.uiLabel),s&&React.createElement("span",{className:"kite3-font-body description-text"},s),n&&React.createElement("span",{className:"kite3-font-body description-text"},n.uiLabel)),React.createElement("div",{className:"total kite3-title-6"},React.createElement("span",{"aria-label":r.a11yLabel},r.uiLabel),i&&React.createElement(React.Fragment,null,React.createElement("span",{className:"kite3-font-caption caption-text description-text","aria-hidden":i.a11yLabel},i.uiLabel),i.a11yLabel&&React.createElement("span",{className:"sr-only"},i.a11yLabel))))});var zt=Object($t.connect)(function(e){return{selectedLevelOfService:Object(re.F)(e),selectedExtras:Object(re.E)(e)||[],selectedPremiums:Object(re.G)(e)||[]}},null)(function(e){var t=e.selectedLevelOfService,n=e.selectedExtras,r=e.selectedPremiums,i=Object(b.c)(e,"children",[]).filter(function(e){var i=Object(b.c)(e,"props.referenceId");return i===t||n.includes(i)||r.includes(i)});return React.createElement("div",{className:"cart-option-container"},i)});n("toAj");function Yt(){return document.getElementsByClassName("main-content-wrapper")[0].scrollTop}function Kt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yt,i=Object(Q.useRef)(r()),o=null,a=function(){var t=r();e({currentPos:t,previousPos:i}),i=t,o=null};Object(Q.useLayoutEffect)(function(){var e=function(){null===o&&(o=setTimeout(a,n))};return window.addEventListener("scroll",e,!0),function(){o&&clearTimeout(o),window.removeEventListener("scroll",e,!0)}},t)}var Jt=function(e){return React.createElement("div",{className:"cms-cart-footer"},React.createElement("div",{className:"cms-cart-footer-container "},React.createElement(Ar,e)))};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zt(e){var t=e.backgroundColor,n=e.images,r=e.containerStyles,i=Object(Q.useState)(0),o=Oe()(i,2),a=o[0],s=o[1],c=Object(Q.useState)("none"),l=Oe()(c,2),u=l[0],d=l[1],p=Xt(Xt({},r),{},{display:u}),h={background:t||""};return Object(Q.useEffect)(function(){a===n.length&&d("flex")},[a]),React.createElement("div",{"aria-hidden":"true",style:p,className:"image-background-container"},React.createElement("div",{style:h,className:"background-color"}),n.map(function(e,t){var n="background-layer-".concat(t);return React.createElement("img",{key:n,alt:"",className:n,onLoad:function(){return s(a+1)},src:e})}))}Zt.defaultProps={containerStyles:{}},Zt.propTypes={images:At.a.arrayOf(At.a.string).isRequired,backgroundColor:At.a.string,containerStyles:At.a.object};var en=Zt,tn=n("Beac");var nn=Object($t.connect)(function(e){return{baseOfferId:Object(re.c)(e),baseOfferName:Object(re.d)(e),campaignId:Object(tn.b)(e)}})(function(e){var t=e.componentName,n=e.backgroundImage,r=e.gradientImage,i=e.footerComponents,o=e.baseOfferId,a=e.baseOfferName,s=e.campaignId,c=[n,r],l=Object(Q.useState)(1),u=Oe()(l,2),d=u[0],p=u[1];return Object(Q.useEffect)(function(){document.getElementsByClassName("main-content-wrapper")[0].scrollTop=0},[]),Object(Q.useEffect)(function(){var e,n;"orderReviewAndAddonsPage"!==t&&"orderReviewPage"!==t||null===(e=window)||void 0===e||null===(n=e.kochava)||void 0===n||n.activity("Add To Cart",{user_id:ct.a.get(lt.d.VISIT_ID),name:a,content_id:o,quantity:1,referral_from:s})},[t]),Kt(function(e){var t=(1-e.currentPos/450).toFixed(2);(t=t<0?0:t>1?1:t)!==d&&p(t)},[d]),React.createElement("div",{className:t},n&&React.createElement(en,{containerStyles:{opacity:d},backgroundColor:"#0073D1",images:c}),React.createElement("div",{className:"content"},e.children),i&&React.createElement(Jt,i[0]))}),rn=(n("4Brf"),n("RIqP")),on=n.n(rn),an={SELECTOR:function(e){return l.a.getSelectorValue(e)},TIMESTAMP:function(){return Date.now()}},sn=function e(t){return xt()(function(t){var n=t;return an[t.translationType]?n=an[t.translationType](t.translateValue):Object(b.f)(t)&&(n=e(t)),n},t)};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var un={MENU_ITEM:{}};function dn(e,t){return sn(ln(ln({},function(e){return Object(b.c)(un,e,{})}(e)),t))}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var vn=Object($t.connect)(void 0,function(e){return{dispatchSelectAction:function(t,n){return e(function(e,t){return{type:"USER_SELECT_ACTION",analytics:{type:e,payload:dn(e,t)}}}(t,n))}}})(function(e){var t=e.type,n=e.analyticsMeta,r=void 0===n?{}:n,i=e.uiLabel,o=void 0===i?"":i,a=e.children,s=e.dispatchSelectAction,c=[];return r=Object(b.i)(r,"currPageElemUiName",o),X.a.Children.forEach(a,function(e,n){if(X.a.isValidElement(e)&&!e.props.withselectaction){var i=hn(hn({},e.props),{},{withselectaction:"true",onClick:function(e,t,n,r){var i=arguments,o=e.props.onClick;return function(e){t(n,r),o&&o.apply(void 0,on()(i))}}(e,s,t,r),onKeyPress:function(e,t,n,r){var i=arguments,o=e.props.onKeyPress;return function(e){"Enter"===e.key&&(t(n,r),o&&o.apply(void 0,on()(i)))}}(e,s,t,r)});e.key||(i.key=n),c.push(X.a.cloneElement(e,i))}}),c});var fn=Object($t.connect)(null,function(e){return{buyflowUpdateStep:function(t){return e(Object(ue.o)(t))},buyflowUpdateSelectedLevelOfService:function(t){return e(Object(ue.n)(t))}}})(function(e){var t=e.relatedTo,n=e.referenceId,r=e.title,i=e.buyflowUpdateSelectedLevelOfService,o=e.buyflowUpdateStep,a=e.analytics,s=t.type,c=function(){e.onClick?e.onClick():s===Ie.c.NAVIGATE&&(o(t.value),n&&i(n))};return React.createElement(React.Fragment,null,a?React.createElement(vn,{type:a.eventCaseId,analyticsMeta:a,uiLabel:r.uiLabel},React.createElement("button",{onClick:c,"aria-label":r.a11yLabel,className:"kite-btn-primary kite-btn kite-btn-lg cms-button"},r.uiLabel)):React.createElement("button",{onClick:c,"aria-label":r.a11yLabel,className:"kite-btn-primary kite-btn kite-btn-lg cms-button"},r.uiLabel))}),mn={primary:{default:"#ffffff",hover:"#ffffff"},"outline-primary":{default:"#ffffff",hover:"#004366"},secondary:{default:"#004366",hover:"#ffffff"}},gn=function(e){var t=Object(b.c)(e,"strokeColor","#ffffff");return React.createElement("svg",{className:"newspinner",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},React.createElement("g",null,React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;270 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("circle",{fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30",strokeDasharray:"187",strokeDashoffset:"610"},React.createElement("animate",{attributeName:"stroke",values:t,begin:"0s",dur:"5.6s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;135 33 33;450 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"stroke-dashoffset",values:"187;46.75;187",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}))))};function bn(e){var t=e.additionalClass,n=e.isBusy,r=e.buttonType,i=e.busyText,o=e.buttonText,a=e.ariaStatusText,s=e.onClick,c=e.busyClickAnnouncementText,l=Object(Q.useState)(!1),u=Oe()(l,2),d=u[0],p=u[1],h=Object(Q.useState)(""),v=Oe()(h,2),f=v[0],m=v[1],g="kite-btn kite-btn-".concat(r," ").concat(t),b="spinner-button-container"+(n&&" busy"),y=n?i:o,S=n?a:y,w=mn[r][d?"hover":"default"];return React.createElement("div",{className:b},React.createElement("button",{"aria-label":S,className:g,onClick:function(e){n?(f&&m(""),m(c)):s&&(m(a),s(e)),setTimeout(function(){m("")},500)},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},y,n&&React.createElement(gn,{strokeColor:w})),React.createElement("div",{className:"sr-only",role:"status"},f))}bn.defaultProps={isBusy:!1,busyText:"",buttonText:"",busyClickAnnouncementText:"Still loading",ariaStatusText:"Loading",additionalClass:"",buttonType:"primary"},bn.propTypes={isBusy:At.a.bool,onClick:At.a.func,onBusyClick:At.a.func,buttonText:At.a.string,busyClickAnnouncementText:At.a.string,busyText:At.a.string,ariaStatusText:At.a.string,buttonType:At.a.oneOf(["primary","secondary","outline-primary"]),additionalClass:At.a.string};var yn=bn;function Sn(){var e=angular.element(document.body).injector().get("$http"),t=l.a.getSelectorValue(u.Md),n=l.a.getSelectorValue(re.F);if(!!!l.a.getSelectorValue(re.v).find(function(e){return e.id===n}))return Promise.reject({ottoErrorCode:"levelOfServiceError"});var r={baseOfferId:l.a.getSelectorValue(re.c),levelOfServiceId:n,extraIds:l.a.getSelectorValue(re.E),premiumIds:l.a.getSelectorValue(re.G),choiceIds:l.a.getSelectorValue(re.k)},i=1e3*l.a.getSelectorValue(u.g),o=function(e){return new Promise(function(t){return setTimeout(t,e)})};if(l.a.getSelectorValue(u.Qf))return new Promise(function(e,t){return o(i).then(function(){l.a.getSelectorValue(u.Rf)?t("Simulated Failure for Demo Mode"):e(!0)})});var a={url:t,method:"POST",contentType:"application/json",data:JSON.stringify(r),withCredentials:!0};return new Promise(function(t,n){e(a).then(function(){o(i).then(function(){return t(!0)})},function(e){o(i).then(function(){return n(e)})})})}var wn={purchase:Sn,freePreviewAutoPurchase:function(){var e=document.getElementsByClassName("loading-tracker-visible-message")[0];return e&&(e.textContent=l.a.getSelectorValue(u.bc)),Sn().finally(function(){e&&(e.textContent="")})}},kn=n("3woO");var Cn=Object($t.connect)(function(e){return{isFreePreview:Object(re.Q)(e),boid:Object(tn.a)(e),cartTotal:Object(re.i)(e),baseOfferId:Object(re.c)(e),offerName:Object(re.d)(e)}})(function(e){var t=e.title,n=e.purchaseCallback,r=e.isFreePreview,i=e.boid,o=e.cartTotal,a=e.baseOfferId,s=e.offerName,c=Object(Q.useState)(!1),l=Oe()(c,2),u=l[0],d=l[1],p=angular.element(document.body).injector().get("$state"),h=Object(b.c)(t,"uiLabel"),v={additionalClass:"purchase-button kite-btn kite-btn-lg",onClick:function(){n&&n(),function(){var e,t;null===(e=window)||void 0===e||null===(t=e.kochava)||void 0===t||t.activity("Purchase",{user_id:ct.a.get(lt.d.VISIT_ID),name:s,sum:o,content_id:a,currency:"USD",checkout_as_guest:!1})}(),d(!0),wn.purchase().then(function(){return function(e){Object(kn.b)("OneApp_buyFlow_generic_purchaseStop_triggeredByApplicationSuccess",{pmtAmount:o}),e.go("ovp.offers.confirmation")}(p)}).catch(function(e){return function(e){var t=Object(ae.b)(e),n=te.a.getErrorInfo(t);Object(kn.b)("OneApp_buyFlow_generic_purchaseStop_triggeredByApplicationError",{pmtAmount:o,appErrorCode:t}),Ae.a.errorAlert(t,{},{errorMessage:JSON.stringify(e),resolve:{analyticsModalName:"OneApp_buyFlow_Error_modalView"}}).promise.finally(function(){var e="";i&&(e="?boid=".concat(i)),Object(y.a)(!1),Object(y.j)("OneApp_buyFlow_Error",{appErrorCode:t,appErrorMessage:n.message}),window.location.href="/".concat(e)})}(e)})},buttonText:h,isBusy:u,ariaStatusText:u?r?"Loading Preview":"Purchasing":""};return React.createElement(React.Fragment,null,React.createElement(vn,{type:"OneApp_selectAction_buyFlow_generic_finalPrice_confirm",uiLabel:h},React.createElement(yn,v)))});function $n(e){var t=e.referenceId,n=e.buttons,r=e.purchaseCallback,i=n&&n.map(function(e){var n=Object(b.c)(e,"relatedTo.value"),i=Object(b.c)(e,"title.uiLabel");return n===Ie.d.PURCHASE||n===Ie.d.FREE_PREVIEW?React.createElement(Cn,Ot()({purchaseCallback:r,key:i},e)):React.createElement(fn,Ot()({key:i},e,{referenceId:t}))});return React.createElement(React.Fragment,null,n?React.createElement("div",{className:"button-list"},i):React.createElement(React.Fragment,null))}$n.propTypes={buttons:At.a.arrayOf(At.a.object)};var Tn=$n,On=n("i8i4"),En=n.n(On);function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=Object(Q.useState)(r),a=Oe()(o,2),s=a[0],c=a[1],l={root:n,rootMargin:t};return Object(Q.useEffect)(function(){if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e){var t=Oe()(e,1)[0];c(t.isIntersecting)},l);return e.current&&t.observe(e.current),function(){t.disconnect()}}},i),s}n("SuFq");var Pn=n("7W2i"),In=n.n(Pn),xn=n("a1gu"),_n=n.n(xn),Dn=n("Nsbk"),Rn=n.n(Dn);function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var Nn=function(e){In()(n,e);var t=jn(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"componentDidMount",value:function(){!0!==this.props.focusOnLoad&&!0!==this.props.focusWhen||this.focusElement()}},{key:"componentDidUpdate",value:function(){!0===this.props.focusWhen&&this.focusElement()}},{key:"focusElement",value:function(){var e=this;setTimeout(function(){e.ref.focus()},0)}},{key:"render",value:function(){var e=this,t=X.a.Children.only(this.props.children);return X.a.cloneElement(t,{ref:function(t){return e.ref=t}})}}]),n}(Q.Component);Nn.propTypes={children:At.a.element.isRequired,focusOnLoad:At.a.bool,focusWhen:At.a.bool};n("yyme");var Mn=function(e){e.style;var t=e.width,n=void 0===t?"20":t,r=e.height,i=void 0===r?"20":r,o=e.viewbox,a=void 0===o?"0 0 20 20":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a},React.createElement("g",{fill:c,fillRule:"evenodd"},React.createElement("path",{d:"M7.903 7.355h2.571v7.714H7.903zM9.189 3.016a1.45 1.45 0 0 0-1.447 1.446c0 .796.65 1.447 1.447 1.447a1.45 1.45 0 0 0 1.446-1.447 1.45 1.45 0 0 0-1.446-1.446z"}),React.createElement("path",{d:"M9.189 1.57c4.253 0 7.714 3.46 7.714 7.714 0 4.254-3.46 7.714-7.714 7.714-4.254 0-7.715-3.46-7.715-7.714 0-4.254 3.46-7.715 7.715-7.715zm0-1.286a9 9 0 1 0 0 18 9 9 0 0 0 0-18z"})))};var Vn=function(e){return React.createElement("button",{"aria-label":"legal disclaimer",className:"disclaimer-icon",onClick:function(){var t=e.header,n=e.body,r=e.analytics,i=e.buttons[0];Object(ye.a)("OneApp_selectAction_buyFlow_disclaimer"),Ae.a.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:t.uiLabel,description:n.uiLabel,buttonText:i.title.uiLabel,options:{analytics:{modal:{payload:r}}},analyticsModalName:"OneApp_modalView_buyFlow_price_alert"},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}},React.createElement(Mn,null))};var Ln=Object($t.connect)(null,function(e){return{setDefaultLevelOfService:function(t){return e(Object(ue.n)(t))}}})(function(e){var t=e.header,n=e.subHeader,r=e.eyebrow,i=e.description,o=e.price,a=e.buttons,s=e.referenceId,c=e.setDefaultLevelOfService,l=e.disclaimer,u=Object(Q.useRef)(null),d=Object(Q.useRef)(null),p=document.getElementById("offers-header-subscribe"),h=Object(Q.useState)(!1),v=Oe()(h,2),f=v[0],m=v[1],g=An(u,"-90px 0px 0px 0px",null,!0),b=React.createElement("div",{className:"header-btn",style:{marginTop:"-150px"},"aria-hidden":"true",tabIndex:"-1"},React.createElement(Tn,{referenceId:e.referenceId,buttons:a})),y=React.createElement("div",{className:"header-btn",style:{marginTop:"0"}},React.createElement(Tn,{referenceId:e.referenceId,buttons:a}));return Object(Q.useEffect)(function(){c(s),m(!0)},[]),Object(Q.useEffect)(function(){var e;(null===(e=d.current)||void 0===e?void 0:e.clientHeight)||m(!1)},[g]),React.createElement(React.Fragment,null,React.createElement("div",{className:"hero-content",ref:d},React.createElement(Nn,{focusOnLoad:!0},React.createElement("div",{id:"hero-content-header",role:"heading",tabIndex:"-2","aria-level":"1"},React.createElement("div",{role:"presentation",className:"eyebrow kite3-font-eyebrow"},r.uiLabel),React.createElement("div",{role:"presentation",className:"kite3-font-display header-text"},t.uiLabel))),React.createElement("p",{className:"kite3-title-6 subheader"},n.uiLabel),React.createElement("p",{className:"description-text kite3-font-body-display"},i.uiLabel),React.createElement("div",{className:"horizontal-group",ref:u},React.createElement(Tn,{referenceId:e.referenceId,buttons:a}),o&&React.createElement("div",{className:"price kite3-title-4"},React.createElement("span",{"aria-hidden":"true"},o.uiLabel),React.createElement("span",{className:"sr-only"},o.a11yLabel),l&&React.createElement(Vn,l))),e.children),p&&a&&f&&En.a.createPortal(g?b:y,p))});n("+2oP");
/*!
@function getImageURL
Returns the URL to retrieve an image.  Return ANY
Image from our image servers.   Please use this function to form all image reuqests safely

Full Image Server API on chalk:
//https://chalk.charter.com/display/APPLICATIONDATASERVICES/Metadata+-+Home?preview=%2F249432355%2F366118300%2FImageServerAPI.docx
@param imageURI - path to image (usually comes from IPVS/NNS)
@param options array
 - height - desired height of image
 - category - twcImage category
    // 2x3 Image = "Poster",
    // 4x3 Image = "Showcard",
    // 3x4 Image cover = "Cover",
    // 3x4 person image (e.g. actors, directors) = "Actor",
    // 4x3 Image with no show title added = "Ensemble",
    // 16x9 Image with no show title added = "Iconic",
    // 16x9 Image = "Hero",
    // 4x3 Image for Networks with special background and other added details = "Deluxe",
    // No Category, used when including a category is not the desire, service will return current default category = none = ""
  - sourceType
    // Standard type colorHybrid = "colorHybrid",
    // Standard type but aligned North West = "colorHybridnw",
    // For Deluxe Networks = "colorshowcard",
    // Used for CommonSense image at some point = "retina",
    // Network logo with a solid background = "squaresolidbg",
    // Don't add any source type parameter to the call, service will choose the default = ""
  - productId - Can be used in network browse for network logos
  - providerId - providerId can be used for network images
  - callSign - Used for backup images if the asset is not found (for example HBO fallback image)
*/
function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";n=l.a.getStatePath("config.data.imageServerEndpoint")+e;var r=t.sourceType,i=t.imageCategory,o=t.height,a=t.width,s=t.productId,c=t.providerId,u=t.callSign,d=t.disableFallbackImage;return r&&(n=Un(n,"sourceType="+r)),i&&(n=Un(n,"twccategory="+i)),o&&(n=Un(n,"height="+o)),a&&(n=Un(n,"width="+a)),s&&(n=Un(n,"productId="+s)),c&&(n=Un(n,"providerId="+c)),u&&(n=Un(n,"callSign="+u)),d&&(n=Un(n,"default=false")),n}function Un(e,t){return e?e+(e.includes("?")?"&":"?")+t:""}var Bn=function(e){var t=e.name,n=e.imgPath,r={disableFallbackImage:!0,sourceType:"colorHybrid"},i=Fn(n,r),o=Object(Q.useState)(i),a=Oe()(o,2),s=a[0],c=a[1];return Object(Q.useEffect)(function(){c(Fn(n,r))},[n]),React.createElement(React.Fragment,null,s&&React.createElement("img",{alt:t,src:s,onError:function(){return c("")}}),!s&&React.createElement("span",{className:"kite3-title-6 missing-img"},t))};function Wn(e){var t=e.networks,n=e.header,r=e.errorGettingNetworks,i=e.dispatchCmsError,o=e.hasCMSError,a=e.layout,s=e.buttons,c=e.headerClass||"kite3-title-6";Object(Q.useEffect)(function(){r&&!o&&i({status:"parseError"})},[]);var l=t.map(function(e,t){return React.createElement("li",{key:e.logoUrl+t,className:"grid-image-buyflow"},React.createElement("div",{className:"square"}),React.createElement(Bn,{name:e.name,imgPath:e.logoUrl}))});return React.createElement("div",{className:(null===a||void 0===a?void 0:a.useBackground)?"grid-with-background network-container":"network-container"},n&&n.uiLabel&&React.createElement("h2",{className:c},n.uiLabel),React.createElement("div",{className:"grid-container"},React.createElement("ul",{className:s?"image-list-with-buttons":"",role:"list"},l),s&&React.createElement("div",{className:"button-group kite3-title-6"},React.createElement("div",{className:"divider-line"}),React.createElement(Tn,{buttons:s}))))}Wn.propTypes={context:At.a.string.isRequired,referenceId:At.a.string.isRequired};var Hn=Object($t.connect)(function(e,t){var n,r=t.ncsNetworkIds,i=t.networkGridLimit,o=t.context,a=t.referenceId,s=[],c=!1;if(o===Ie.e.CART)n=Object(re.m)(e).map(function(e){return null===e||void 0===e?void 0:e.networkDetails});else{var l=Object(re.y)(e,o,a);l?s=Array.isArray(r)&&r.length>0?r.filter(function(e){return-1!==l.indexOf(e)}).slice(0,i):l.slice(0,i):c=!0,n=Object(re.x)(e,s.slice(0,i))}return{networks:n,hasCMSError:Lt(e),errorGettingNetworks:c}},function(e){return{dispatchCmsError:function(t){return e(Pt.a.failure(t))}}})(Wn);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var qn=function(e){var t=e.networkGrids,n=void 0===t?[]:t,r=e.context,i=e.referenceId,o=e.headerClass,a=n.map(function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({context:r,referenceId:i,headerClass:o},e);return X.a.createElement("div",{key:t,className:"cms-network-grid"},X.a.createElement(Hn,n))});return X.a.createElement("div",{className:"cms-network-grid-container"},a)};var zn=function(e){var t=e.header,n=e.subHeader,r=e.eyebrow,i=e.description;return React.createElement("div",{className:"networks-content"},React.createElement("div",{className:"networks-info"},React.createElement("div",{className:"heading",role:"heading","aria-level":"2",tabIndex:"-2"},React.createElement("div",{role:"presentation",className:"eyebrow kite3-font-eyebrow"},r.uiLabel),React.createElement("div",{role:"presentation",className:"header kite3-title-1"},t.uiLabel)),React.createElement("p",{className:"kite3-title-6"},n.uiLabel),React.createElement("p",{className:"description-text kite3-font-body-display"},i.uiLabel)),React.createElement(qn,e))};function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kn(e){var t=e.entryText,n=angular.element(document.body).injector().get("$state"),r=Object(b.c)(t,"title"),i=Object(b.c)(t,"analytics"),o=Object(Q.useRef)(null);return React.createElement(React.Fragment,null,React.createElement(vn,{type:i.eventCaseId,analyticsMeta:i,uiLabel:r.uiLabel},React.createElement("a",{href:"#",ref:o,className:"learn-more",onClick:function(){n.go("ovp.offers.learn_more",{data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)})},"aria-label":r.a11yLabel},r.uiLabel)))}Kn.propTypes={context:At.a.string,referenceId:At.a.string,entryText:At.a.object};var Jn=Kn;var Qn=function(e){var t=e.header,n=e.description,r=e.price,i=e.subHeader,o=e.learnMore,a=e.buttons,s=e.context,c=e.referenceId;return o.context=s,o.referenceId=c,React.createElement("div",{className:"price-tier"},React.createElement("div",{className:"price-tier-info"},React.createElement("h3",{className:"kite3-title-3 header"},t.uiLabel),React.createElement("p",{className:"kite3-title-6"},i.uiLabel),React.createElement("p",null,React.createElement("span",{className:"description-text"},n.uiLabel)," ",o&&React.createElement(Jn,o))),React.createElement("div",{className:"horizontal-group"},r&&React.createElement("div",{className:"price kite3-title-6"},React.createElement("span",{"aria-hidden":"true"},r.uiLabel),React.createElement("span",{className:"sr-only"},r.a11yLabel))),React.createElement(Tn,{buttons:a,referenceId:c}))};var Xn=function(e){var t=e.header,n=e.description,r=e.eyebrow,i=e.layout;return React.createElement("div",{className:"review"},React.createElement(Nn,{focusOnLoad:!!(null===i||void 0===i?void 0:i.focus)},React.createElement("div",{role:"heading","aria-level":"1",tabIndex:"-2"},r&&React.createElement("div",{role:"presentation",className:"eyebrow kite3-font-eyebrow"},r.uiLabel),React.createElement("div",{role:"presentation",className:"kite3-title-3"},t.uiLabel))),React.createElement("div",{className:"description description-text kite3-font-body-display"},n.uiLabel))};var Zn=Object($t.connect)(function(e){return{cartTotal:Object(re.i)(e)}},null)(function(e){var t=e.infoText,n=e.priceSuffix,r=e.additionalChargeCopy,i=e.cartTotal,o=e.buttons,a=e.legal,s=e.disclaimer,c=e.price,l=Object(Q.useState)(""),u=Oe()(l,2),d=u[0],p=u[1],h=Object(Q.useState)(0),v=Oe()(h,2),f=v[0],m=v[1];return Object(Q.useEffect)(function(){i&&m(i)},[]),Object(Q.useEffect)(function(){i>f?p("Added to cart, Updated total $".concat(i," ").concat(n.a11yLabel)):i===f&&p("Removed from cart, Updated total $".concat(i," ").concat(n.a11yLabel)),setTimeout(function(){p("")},500)},[i]),React.createElement("div",{className:"cart-total-container"},React.createElement("div",{className:"cart-total-info cart-item",role:"heading","aria-level":"2"},React.createElement("div",{role:"presentation",className:"kite3-title-3"},t.uiLabel),React.createElement("div",{role:"presentation",className:"total-price-container"},React.createElement("div",{role:"presentation",className:"kite3-title-4 total-price"},c?React.createElement(React.Fragment,null,React.createElement("span",{"aria-hidden":"true"},c.uiLabel),React.createElement("span",{className:"sr-only"},c.a11yLabel)):React.createElement(React.Fragment,null,"$".concat(i),React.createElement("span",{"aria-hidden":"true"},n.uiLabel),React.createElement("span",{className:"sr-only"},n.a11yLabel)),s&&React.createElement(Vn,s)),React.createElement("div",{role:"presentation",className:"kite3-font-body"},r.uiLabel))),React.createElement("div",{className:"purchase-info"},React.createElement(Tn,{buttons:o}),a&&React.createElement("div",{className:"legal kite3-font-caption"},a.uiLabel)),React.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only"},d))});var er=function(e){var t=e.header,n=e.eyebrow,r=e.description,i=e.networkGrids;return React.createElement("div",{className:"base-package-container column"},React.createElement("div",null,React.createElement(Nn,{focusOnLoad:!0},React.createElement("div",{id:"hero-content-header",role:"heading",tabIndex:"-2","aria-level":"1"},React.createElement("div",{role:"presentation",className:"eyebrow kite3-font-eyebrow"},n.uiLabel),React.createElement("div",{role:"presentation",className:"kite3-font-display header-text"},t.uiLabel))),r&&React.createElement("p",{className:"kite3-title-6 description-text"},r.uiLabel)),i&&React.createElement(qn,Ot()({headerClass:"kite3-font-eyebrow"},e)))},tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=Object(Q.useState)(window.innerHeight),n=Oe()(t,2),r=n[0],i=n[1],o=Object(Q.useState)(window.innerWidth),a=Oe()(o,2),s=a[0],c=a[1];return Object(Q.useEffect)(function(){var t=function(){setTimeout(function(){i(window.innerHeight),c(window.innerWidth)},e)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),{pageHeight:r,pageWidth:s}},nr=n("HIsj");function rr(e,t){var n=Object(Q.useRef)(!1);Object(Q.useEffect)(function(){n.current?e():n.current=!0},t)}var ir=function(e){var t=e.width,n=void 0===t?"23":t,r=e.height,i=void 0===r?"23":r,o=e.viewBox,a=void 0===o?"0 0 17 17":o,s=e.fill,c=void 0===s?"#f8f8f8":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("g",{id:"chev_left",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"1280-/-Footer---T&Cs",transform:"translate(-176.000000, -172.000000)"},React.createElement("g",{id:"icon-17x17---ChevronLeft",transform:"translate(176.000000, 172.000000)"},React.createElement("rect",{id:"_boundingBox---17x17",fill:"none",x:"0",y:"0",width:"17",height:"17"}),React.createElement("polygon",{id:"E605",fill:c,transform:"translate(8.291992, 8.500000) rotate(180.000000) translate(-8.291992, -8.500000) ",points:"5.08398438 1 12.5839844 8.5 5.08398438 16 4 14.9306641 10.4306641 8.5 4 2.06933594"})))))},or=function(e){var t=e.width,n=void 0===t?"23":t,r=e.height,i=void 0===r?"23":r,o=e.viewBox,a=void 0===o?"0 0 17 17":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{fill:"",d:"M0 0h17v17H0z"}),React.createElement("path",{fill:c,d:"M5.084 1l7.5 7.5-7.5 7.5L4 14.93l6.43-6.43L4 2.07z"})))};function ar(e,t){var n=Object(Q.useState)(e),r=Oe()(n,2),i=r[0],o=r[1];return Object(Q.useEffect)(function(){var n=setTimeout(function(){o(e)},t);return function(){clearTimeout(n)}},[e]),i}var sr=300,cr=function(e){var t=e.index,n=e.scrollToIndex,r=e.containerRef,i=e.offset,o=e.setOffset,a=e.pageWidth,s=e.children,c=e.itemType,l=e.newFocus,u=e.setNewFocus,d=Object(Q.useRef)(null),p=Object(Q.useState)(!1),h=Oe()(p,2),v=h[0],f=h[1],m=c?"carousel-item-".concat(c):"carousel-item",g=ar(n,150);return Object(Q.useEffect)(function(){if(n===t&&v){var e=d.current.clientWidth,a=r.current.clientWidth,s=Math.floor(a/e),c=Math.floor(t/s);i!==c&&o(c)}},[g]),Object(Q.useEffect)(function(){setTimeout(function(){var e=d.current.getBoundingClientRect(),t=r.current.getBoundingClientRect(),n=e.right>t.right||e.left<0,i=Math.abs(e.left-t.left)<10;f(n),l&&!n&&i&&(u(!1),d.current.children[0].focus())},sr+10)},[i,a]),X.a.createElement("li",{ref:d,className:m},X.a.Children.toArray(s).map(function(e){return X.a.cloneElement(e,{tabIndex:v?"-1":0,focusable:!v,"aria-hidden":v})}))};function lr(e){var t=e.isLoading,n=e.children,r=e.itemType,i=e.itemTypeAriaLabel,o=e.title,a=e.scrollToIndex,s=Object(Q.useRef)(!1),c=Object(Q.useRef)(!1),l=Object(Q.useState)(0),u=Oe()(l,2),d=u[0],p=u[1],h=tr().pageWidth,v=Object(Q.useState)(0),f=Oe()(v,2),m=f[0],g=f[1],b=Object(Q.useState)({}),y=Oe()(b,2),S=y[0],w=y[1],k=Object(Q.useState)(null),C=Oe()(k,2),$=C[0],T=C[1],O=Object(Q.useState)(!1),E=Oe()(O,2),A=E[0],P=E[1],I=Object(Q.useState)(!1),x=Oe()(I,2),_=x[0],D=x[1];function R(){var e=c.current.getBoundingClientRect(),t=e.right,n=e.left,r=e.width,i=s.current.lastElementChild.getBoundingClientRect().right;P(i>r),g(i),w({right:t,left:n,width:r})}Object(Q.useEffect)(function(){t||R()},[t]),rr(function(){var e=Math.floor(m/S.right)>d;P(e),D(d>0)},[d]),Object(Q.useEffect)(function(){p(0),R()},[h]);var j=function(e){p(e),T(!0)},N=n.map(function(e,t){var n={index:t,offset:d,setOffset:p,containerRef:c,pageWidth:h,itemType:r,newFocus:$,setNewFocus:T,scrollToIndex:a};return X.a.createElement(cr,Ot()({key:t},n),e)}),M={transition:"all ".concat(sr,"ms ease-in"),transform:"translateX(-".concat(d*s.current.clientWidth,"px)")},V=r?"carousel-container-react ".concat(r,"-carousel"):"carousel-container-react";return X.a.createElement(X.a.Fragment,null,o&&X.a.createElement("h2",{class:"carousel-title"},o),X.a.createElement("div",{className:V,ref:c},_&&X.a.createElement("div",null,X.a.createElement("div",{className:"content-overflow-fade fade-left"}),X.a.createElement("button",{"aria-label":"Previous ".concat(i),tabIndex:"0",onClick:function(){return j(d-1)},style:{left:0},className:"carousel-arrow"},X.a.createElement(ir,{fill:"#fff"}))),X.a.createElement("ul",{className:"items-list",style:M,ref:s},N),A&&X.a.createElement("div",null,X.a.createElement("div",{className:"content-overflow-fade fade-right"}),X.a.createElement("button",{"aria-label":"Next ".concat(i),tabIndex:"0",onClick:function(){return j(d+1)},style:{right:0},className:"carousel-arrow"},X.a.createElement(or,{fill:"#fff"})))))}lr.defaultProps={itemTypeAriaLabel:"items"};var ur=lr,dr=function(e){var t=e.children,n=e.sectionName,r=e.activeSection,i=e.setActiveSection,o=e.refs,a=o[n].sectionRef,s=o[n].headerRef,c=tr().pageHeight,l=ar(An(a,"-299px 0px -".concat(c-300,"px 0px"),null,!1,[c]),100);return Object(Q.useEffect)(function(){l&&n!==r&&i(n)},[l]),X.a.createElement("div",{className:"section-container",ref:a},X.a.createElement("h2",{ref:s,className:"kite3-title-5",tabIndex:"-2"},n),t)};var pr=function(e){var t=e.navItems,n=e.sectionItems,r=e.navAriaLabel,i=Object(Q.useRef)(null),o=Object(Q.useState)(t[0]),a=Oe()(o,2),s=a[0],c=a[1],l=document.getElementsByClassName("offers-header")[0];Kt(function(){var e=i.current.getBoundingClientRect().top;return l.scrollHeight>=e?l.classList.add("hide-header"):l.classList.remove("hide-header"),function(){l.classList.remove("hide-header")}},[],150);var u=t.reduce(function(e,t){return e[t]={sectionRef:Object(Q.useRef)(null),headerRef:Object(Q.useRef)(null)},e},{}),d=t.map(function(e){var t=e===s?"kite3-font-body scrolling-nav-item active-item":"kite3-font-body scrolling-nav-item";return X.a.createElement("a",{href:"#",key:e,className:t,onClick:function(){return function(e){var t=u[e];Object(nr.a)(t.sectionRef.current,{behavior:"smooth",block:"start"}).then(function(){t.headerRef.current.focus({preventScroll:!0})})}(e)}},e)}),p=n.map(function(e,n){var r={activeSection:s,setActiveSection:c,refs:u,sectionName:t[n]};return X.a.createElement(dr,Ot()({key:r.sectionName},r),e)});return X.a.createElement("div",{className:"scrolling-nav"},X.a.createElement("div",{className:"nav-container"},X.a.createElement("nav",{ref:i,"aria-label":r,className:"scrolling-nav-items "},X.a.createElement(ur,{itemTypeAriaLabel:r,isLoading:!1,itemType:"nav",scrollToIndex:t.indexOf(s)},d)),X.a.createElement("div",{className:"tab-underline"})),X.a.createElement("div",{className:"scrollable-area"},p))},hr=(n("YGK4"),function(e){e.style;var t=e.width,n=void 0===t?"14":t,r=e.height,i=void 0===r?"14":r,o=e.viewbox,a=void 0===o?"0 0 16 12":o,s=e.fill,c=void 0===s?"#FFFFFF":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("title",null,"ki-plus"),React.createElement("desc",null,"Created with Sketch."),React.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Buttons/check",transform:"translate(-8.000000, -10.000000)",fill:c},React.createElement("g",{id:"Add-Copy"},React.createElement("g",{id:"ki-checkmark",transform:"translate(7.000000, 7.000000)"},React.createElement("polygon",{id:"Path",points:"6.75 14.0968125 1.8523125 9.199125 2.6476875 8.4031875 6.75 12.5055 15.3523125 3.9031875 16.1476875 4.699125"}))))))}),vr=function(e){e.style;var t=e.width,n=void 0===t?"14":t,r=e.height,i=void 0===r?"14":r,o=e.viewbox,a=void 0===o?"0 0 14 14":o,s=e.fill,c=void 0===s?"#FFFFFF":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("title",null,"ki-plus"),React.createElement("desc",null,"Created with Sketch."),React.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Buttons/Add",transform:"translate(-9.000000, -9.000000)",fill:c},React.createElement("g",{id:"ki-plus",transform:"translate(7.000000, 7.000000)"},React.createElement("polygon",{id:"Path",points:"15.75 8.4375 9.5625 8.4375 9.5625 2.25 8.4375 2.25 8.4375 8.4375 2.25 8.4375 2.25 9.5625 8.4375 9.5625 8.4375 15.75 9.5625 15.75 9.5625 9.5625 15.75 9.5625"})))))};var fr=Object($t.connect)(function(e,t){return{numSelectedNetworks:Object(re.z)(e),isNetworkInCart:Object(re.S)(e,t.id)}},function(e){return{addChoiceNetwork:function(t){return e(Object(ue.i)(t))},removeChoiceNetwork:function(t){return e(Object(ue.k)(t))},dispatchCmsError:function(t){return e(Pt.a.failure(t))}}})(function(e){var t=e.networkDetails,n=e.id,r=e.addChoiceNetwork,i=e.removeChoiceNetwork,o=e.maxSelectionLimit,a=e.containerMinSelectionLimit,s=e.containerMaxSelectionLimit,c=e.numSelectedNetworks,l=e.numSelectedGridNetworks,u=e.isNetworkInCart,d=e.onLimitReached,p=e.dispatchCmsError,h=Object(Q.useState)(!1),v=Oe()(h,2),f=v[0],m=v[1],g=Object(Q.useState)(!1),b=Oe()(g,2),y=b[0],S=b[1],w="network-item ".concat(f?"selected":""," ").concat(y&&!f?"fade-item":""),k=c<a&&c>s?"OneApp_selectAction_buyFlow_choice_addOns_selected_failure":"OneApp_selectAction_buyFlow_choice_addOns_selected";return Object(Q.useEffect)(function(){t||p({status:"parseError"})},[]),Object(Q.useEffect)(function(){u&&m(!0)},[u]),Object(Q.useEffect)(function(){S(c>=s||o&&o<=l)},[c,l]),React.createElement("li",{className:"network-list-item"},React.createElement("button",{role:"checkbox","aria-checked":f,onClick:function(){f?(i({id:n,networkDetails:t}),m(!1)):y?d():(r({id:n,networkDetails:t}),m(!0)),Object(ye.a)(f?"OneApp_selectAction_buyFlow_choice_addOns_delete":k,{currPageElemUiName:f?"delete":t.name})},className:w},React.createElement(Bn,{name:"",imgPath:null===t||void 0===t?void 0:t.logoUrl}),React.createElement("div",{className:"metadata"},React.createElement("div",{className:"kite3-caption network-name"},null===t||void 0===t?void 0:t.name),(!y||f)&&React.createElement("div",{className:"icon-container"},f?React.createElement(hr,null):React.createElement(vr,null)))))});function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var gr=Object($t.connect)(function(e,t){return{networks:Object(re.j)(e,t.choiceChannels),selectedNetworksSet:new Set(Object(re.k)(e)||[])}})(function(e){var t=e.networks,n=e.minSelectionLimit,r=e.maxSelectionLimit,i=e.containerMinSelectionLimit,o=e.containerMaxSelectionLimit,a=e.name,s=e.onLimitReached,c=e.selectedNetworksSet,l=t.filter(function(e){return!!e.networkDetails&&c.has(e.id)}).length;return React.createElement("ul",{"aria-label":"".concat(a," genre"),className:"choice-grid-section"},t.filter(function(e){return!!e.networkDetails}).map(function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({minSelectionLimit:n,maxSelectionLimit:r,containerMinSelectionLimit:i,containerMaxSelectionLimit:o,onLimitReached:s,numSelectedGridNetworks:l},e);return React.createElement(fr,Ot()({key:e.id},t))}))});function br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var yr=function(e){var t=e.grids,n=e.minSelectionLimit,r=e.maxSelectionLimit,i=e.removeToAddMessage,o=[],a=function(){Ae.a.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:i.uiLabel,analyticsModalName:"buyflowChoiceLimitReached"},ariaLabelledBy:"kite-alert-header"})},s=t.map(function(e){o.push(e.name);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?br(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({containerMinSelectionLimit:n,containerMaxSelectionLimit:r,onLimitReached:a},e);return React.createElement(gr,t)});return React.createElement("div",null,React.createElement(pr,{navAriaLabel:"Choice genres",navItems:o,sectionItems:s}))};var Sr=function(e){for(var t=e.maxSelectionLimit,n=e.choiceNetworks,r=[],i=0,o=1;o<=t;o++){var a,s,c,l,u=null===n||void 0===n?void 0:null===(a=n[i])||void 0===a?void 0:null===(s=a.networkDetails)||void 0===s?void 0:s.logoUrl,d=React.createElement("li",{key:o,"aria-label":"networks",className:"selected-network-container"},React.createElement("div",{className:"selected-network"},n[i]?React.createElement("div",{className:"selected-network-logo"},React.createElement(Bn,{name:null===n||void 0===n?void 0:null===(c=n[i])||void 0===c?void 0:null===(l=c.networkDetails)||void 0===l?void 0:l.name,imgPath:u})):React.createElement("p",{className:"kite-typography kite3-font-eyebrow selected-num"},o)));r.push(d),i++}return React.createElement(React.Fragment,null,React.createElement("ul",{role:"list",className:"selected-grid"},r))};function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Cr=Object($t.connect)(function(e){return{choiceNetworks:Object(re.m)(e),baseImageUrl:Object(b.c)(e,"config.data.imageServerEndpoint"),numberOfSelectedChannels:Object(re.z)(e)}},function(e){return{buyflowUpdateStep:function(t){return e(Object(ue.o)(t))},buyflowUpdateSelectedLevelOfService:function(t){return e(Object(ue.n)(t))}}})(function(e){var t=e.minSelectionLimit,n=e.maxSelectionLimit,r=e.addMoreMessage,i=e.moreAvailableMessage,o=e.infoText,a=e.buttons,s=e.numberOfSelectedChannels,c=e.buyflowUpdateStep,l=e.buyflowUpdateSelectedLevelOfService,u=kr({},e),d=kr(kr({},a[0]),{},{onClick:s<t?function(){Ae.a.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:Nt(n-s,r.uiLabel)},ariaLabelledBy:"kite-alert-header"})}:s<n?function(){return function(e){var t=e.relatedTo,r=e.referenceId;Ae.a.open({component:"kiteConfirm",showCloseIcon:!0,resolve:{analyticsModalName:"modalView_buyFlow_choice_lessThanMaxSelected",title:Nt(n-s,i.header.uiLabel),description:i.body.uiLabel,primaryButtonLabel:i.buttons[1].title.uiLabel,secondaryButtonLabel:i.buttons[0].title.uiLabel,options:{analytics:{modal:{show:i.analytics.eventCaseId,resolved:i.buttons[1].analytics.eventCaseId,dismissed:i.buttons[0].analytics.eventCaseId,payload:{msgCategory:"navigation"}}}}},ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){c(t.value),r&&l(r)})}(a[0])}:null});return React.createElement("div",{role:"region","aria-label":"Selected Networks",className:"selected-network-cart"},React.createElement("h2",{"aria-live":"polite","aria-atomic":"true",className:"kite-typography kite3-font-eyebrow selected-counter"},function(e,t){var n=Nt(t,e);return n=function(e,t,n){var r,i,o,a=null===(r=e.match(t))||void 0===r?void 0:r[0],s=null===(i=e.match(t))||void 0===i?void 0:i[1];return null===(o=e.split)||void 0===o?void 0:o.call(e,t).reduce(function(e,t,r){return r?e.concat(s===t?X.a.createElement("span",Ot()({},n,{key:r+t}),a):t):[t]},[])}(n,/\((.*?)\)/,{className:"count",role:"presentation"})}(o.uiLabel,s)),React.createElement("div",{className:"selected-grid-container"},React.createElement(Sr,u),React.createElement("div",{className:"selected-details"},React.createElement(fn,d))))});var $r=function(e){var t=e.legal,n=e.buttons,r=e.referenceId,i=Object(Q.useState)(!1),o=Oe()(i,2),a=o[0],s=o[1];return React.createElement(React.Fragment,null,React.createElement(vn,{type:"OneApp_selectAction_buyFlow_generic_finalPrice_back",uiLabel:"Back"},React.createElement("button",{disabled:a,onClick:function(){window.history.back()},className:"footer-item back-button kite-btn-outline-primary kite-btn kite-btn-lg kite3-font-body-display"},"Back")),React.createElement("div",{className:"footer-item disclaimer kite3-font-caption"},t.uiLabel),React.createElement("div",{className:"footer-item kite3-font-body-display purchase-container"},React.createElement(Tn,{purchaseCallback:function(){s(!0)},referenceId:r,buttons:n})))};function Tr(e){var t=e.eyebrow,n=e.header,r=e.subHeader,i=e.description,o=e.referenceId,a=e.buttons;return React.createElement("div",{className:"info-container"},React.createElement("div",{id:"content-details-header",role:"heading","aria-level":"2"},React.createElement("div",{role:"presentation",className:"eyebrow kite3-font-eyebrow"},t.uiLabel),React.createElement("div",{role:"presentation",className:"kite3-font-display header-text"},n.uiLabel)),r&&React.createElement("p",{className:"kite3-title-6 subheader"},r.uiLabel),React.createElement("p",{className:"description-text kite3-font-body-display"},i.uiLabel),React.createElement(Tn,{referenceId:o,buttons:a}))}function Or(e){var t=e.backdropColor,n=e.image,r=e.contentFirst,i={background:"linear-gradient(".concat(!0===r?"90":"270","deg, transparent 30%, ").concat(t," 30%)")};return React.createElement("div",{className:"image-container",style:i},React.createElement("img",{className:"content-image",src:n}),React.createElement(qn,e))}var Er={additionalInfo:function(){return React.createElement("div",null)},addOnContainer:function(e){var t=e.children;return React.createElement("ul",{className:"add-on-list"},t.map(function(e){var t;return React.createElement("li",{key:null===(t=e.props)||void 0===t?void 0:t.referenceId},e)}))},addOnsContainer:Gt,addOnCard:Object($t.connect)(function(e,t){return{isInCart:Object(re.O)(e,t.context,t.referenceId),addOnName:Object(re.u)(e,t.referenceId)}},function(e){return{addToCart:function(t,n){return e(Object(ue.j)({id:t,buyflowAddOnType:n}))},removeFromCart:function(t,n){return e(Object(ue.l)({id:t,buyflowAddOnType:n}))}}})(function(e){var t=e.title,n=e.subTitle,r=e.description,i=e.price,o=e.image,a=e.referenceId,s=e.context,c=e.conflictingPackages,l=e.isInCart,u=e.addToCart,d=e.removeFromCart,p=e.addOnName,h=Object(Q.useState)(l),v=Oe()(h,2),f=v[0],m=v[1];return Object(Q.useEffect)(function(){m(l)},[l]),React.createElement("button",{"aria-pressed":f,onClick:function(){var e=f?"OneApp_selectAction_buyFlow_generic_addOns_deleted":"OneApp_selectAction_buyFlow_generic_addOns_selected";f?d(a,s):(u(a,s),function(){var e;null===c||void 0===c||null===(e=c.packageIds)||void 0===e||e.map(function(e){var t=e.referenceId,n=e.context;d(t,n)})}()),m(!f),Object(ye.a)(e,{currPageElemUiName:p})},className:"add-on-component ".concat(f?"selected":"")},React.createElement("div",{className:"add-on-details-left"},o&&React.createElement("div",{className:"add-on-image",style:{backgroundImage:'url("'.concat(o,'")')}}),React.createElement("div",{className:"add-on-metadata"},React.createElement("h2",{className:"header kite3-title-3"},t.uiLabel),n&&React.createElement("h3",{className:"kite3-title-5 subheader"},n.uiLabel),r&&React.createElement("p",{className:"description-text kite3-font-body"},r.uiLabel))),React.createElement("div",{className:"add-on-details-right"},React.createElement("div",{className:"price",role:"presentation"},React.createElement("span",{"aria-hidden":"true"},i.uiLabel),React.createElement("span",{className:"sr-only"},i.a11yLabel)),React.createElement("div",{className:"icon-container"},f?React.createElement(hr,null):React.createElement(vr,null))))}),basePackageInfo:er,cartContainer:Gt,cartOption:qt,cartOptionContainer:zt,cartSummary:Gt,cartTotal:Zn,contentDetails:function(e){var t=e.contentFirst,n=!0===t?"":"reverse",r=f()({backgroundImage:"url('".concat(e.backgroundImage,"'")},t?"paddingLeft":"paddingRight","48px");return React.createElement("div",{className:"content-details-component-wrapper ".concat(n),style:r},React.createElement(Tr,e),React.createElement(Or,e))},customizePage:nn,educationPage:nn,heroContent:Ln,networksContent:zn,networkGridContainer:yr,orderReviewAndAddonsPage:nn,orderReviewPage:nn,priceTier:Qn,selectedNetworkCart:Cr,singleColumnContainer:Gt,singleSelectionContainer:Gt,stickyStrip:$r,additionalCartCharges:function(e){var t=e.infoText,n=e.price;return React.createElement("p",{className:"kite3-title-6 cart-item description-text fee-item"},React.createElement("span",null,t.uiLabel),React.createElement("span",{role:"presentation"},React.createElement("span",{"aria-hidden":"true"},n.uiLabel),React.createElement("span",{className:"sr-only"},n.a11yLabel)))},summary:Xn};function Ar(e){if(Er[e.componentName]){var t=Er[e.componentName],n=[];if(e.components)for(var r=0,i=Object.entries(e.components);r<i.length;r++){var o=Oe()(i[r],2),a=o[0],s=o[1];s.parentNamespace=e.namespace,s.namespace=e.namespace+"."+s.componentName+a,s.key=s.namespace,n.push(React.createElement(Ar,s))}return React.createElement(t,Ot()({key:e.namespace},e),n)}return l.a.getSelectorValue(Lt)||l.a.dispatch(Pt.a.failure({status:"invalidCMSComponent"})),null}Ar.propTypes={componentName:At.a.string};n("ToJy"),n("inlA");var Pr,Ir={"buyFlow.confirmation":{eventCaseId:"OneApp_pageView_stream2PurchaseConfirmation"},"buyFlow.offers.step.1":{eventCaseId:"OneApp_pageView_stream2PackageDescription"},"buyFlow.offers.step.2":{eventCaseId:"OneApp_pageView_stream2AddOns"},"buyFlow.offers.step.3":{eventCaseId:"OneApp_pageView_stream2Premiums"},"buyFlow.offers.step.4":{eventCaseId:"OneApp_pageView_stream2FinalPrice"},"buyFlow.welcome":{eventCaseId:"OneApp_pageView_stream2SignUp"},"buyFlow.welcome.external":{eventCaseId:"OVP_pageView_stream2SignUp_notEnabled"},buyFlowOOH:{eventCaseId:"OVP_pageView_stream2SignUp_OOH"},"fake.curatedCatalog":{eventCaseId:"OneApp_pageView_curatedCatalog",waitForPageComplete:!0},"fake.livetv":{eventCaseId:"OneApp_PlayerLiveTV_pageView",defaultAppSection:"liveTv",expectedPageName:"playerLiveTv"},"fake.livetv.fullScreen":{eventCaseId:"OneApp_PlayerLiveTV_pageView_fullScreen",defaultAppSection:"liveTv",expectedPageName:"playerLiveTvFullScreen"},"fake.miniguide":{eventCaseId:"OneApp_liveTvMiniGuide_pageView",defaultAppSection:"liveTv",expectedPageName:"liveTvMiniGuide"},"fake.miniguide.fullScreen":{eventCaseId:"OneApp_liveTvMiniGuide_pageView_fullScreen",defaultAppSection:"liveTv",expectedPageName:"liveTvMiniGuideFullScreen"},"fake.playerOnDemand.fullScreen":{eventCaseId:"OneApp_PlayerOnDemand_pageView_fullScreen",defaultAppSection:"curatedCatalog"},login:{eventCaseId:"OneApp_Login_pageView"},novideoservice:{eventCaseId:"OVP_noVideoService_pageView",defaultAppSection:"appIntro"},"ovp.bulkmduwelcome":{eventCaseId:"OneApp_bulkMduWelcome_pageView"},"ovp.cdvr.recorded":{eventCaseId:"OneApp_dvrRecordings_pageView",currPageIsLazyLoad:!0},"ovp.cdvr.recordedSeries":{eventCaseId:"OneApp_productPage_seriesRecordingDetails_pageView",currPageIsLazyLoad:!0},"ovp.cdvr.scheduled":{eventCaseId:"OneApp_dvrScheduled_pageView",currPageIsLazyLoad:!0},"ovp.dvr.my-recordings":{eventCaseId:"OneApp_dvrRecordings_pageView",currPageIsLazyLoad:!0},"ovp.dvr.priority":{eventCaseId:"OneApp_dvrSeriesManager_pageView",currPageIsLazyLoad:!0},"ovp.dvr.scheduled":{eventCaseId:"OneApp_dvrScheduled_pageView",currPageIsLazyLoad:!0},"ovp.guide":{eventCaseId:"OneApp_Guide_pageView",waitForPageComplete:!0},"ovp.livetv":{eventCaseId:"OneApp_PlayerLiveTV_pageView",defaultAppSection:"liveTv",waitForPageComplete:!0,expectedPageName:"playerLiveTv"},"ovp.login":{eventCaseId:"OneApp_Login_pageView",defaultAppSection:"appIntro"},"ovp.loginWelcome":{eventCaseId:"OneApp_welcomeScreen_pageView"},"ovp.mobilelogin":{eventCaseId:"OVP_downloadAppForm_pageView",defaultAppSection:"preAuthentication"},"ovp.mylibrary.default":{eventCaseId:"OVP_pageView_myLibrary"},"ovp.mylibrary.viewall":{eventCaseId:"OVP_pageView_myLibrary"},"ovp.mylibrary.viewall.watchlist":{eventCaseId:"OneApp_watchlist_pageView"},"ovp.offers.confirmation":{eventCaseId:"OneApp_pageView_buyFlow_generic_welcomePage"},"ovp.offers.learn_more":{waitForPageComplete:!0,eventCaseId:"OneApp_pageView_buyFlow_generic_learnMore"},"ovp.offers.step.0":{eventCaseId:"OneApp_pageView_buyFlow",buyflowStep:0},"ovp.offers.step.1":{eventCaseId:"OneApp_pageView_buyFlow",buyflowStep:1},"ovp.offers.step.2":{eventCaseId:"OneApp_pageView_buyFlow",buyflowStep:2},"ovp.ondemand.networks.network":{eventCaseId:"OVP_pageView_ProductPage_networkShows",waitForPageComplete:!0},"ovp.ondemand.playCdvr":{eventCaseId:"OneApp_PlayerOnDemand_pageView",waitForPageComplete:!0,defaultAppSection:"curatedCatalog"},"ovp.ondemand.playEpisodeWithDetails":{eventCaseId:"OneApp_PlayerOnDemand_pageView",waitForPageComplete:!0,defaultAppSection:"curatedCatalog"},"ovp.ondemand.playProduct":{eventCaseId:"OneApp_PlayerOnDemand_pageView",waitForPageComplete:!0,defaultAppSection:"curatedCatalog"},"override.episodeSwitch":{eventCaseId:"OneApp_playerOnDemand_episodeSwitch_pageView",waitForPageComplete:!0,defaultAppSection:"curatedCatalog"},"ovp.parentalControlWarning":{eventCaseId:"OneApp_parentalControl_createPin_pageView"},"ovp.sadtverror":{eventCaseId:"OneApp_sadTvError_pageView",defaultAppSection:"appIntro"},"ovp.settings.genericAbout":{eventCaseId:"OneApp_settingsAbout_pageView"},"ovp.settings.about":{eventCaseId:"OneApp_settingsAbout_pageView"},"ovp.settings.autoPlay":{eventCaseId:"OneApp_settings_settingsAutoPlay_pageView",waitForPageComplete:!0},"ovp.settings.startupChannelBridge":{eventCaseId:"OneApp_settingsStartupChannel_pageView"},"ovp.settings.devices":{eventCaseId:"OneApp_settingsDevicesPage_pageView",currPageIsLazyLoad:!0},"ovp.settings.favorites":{eventCaseId:"OneApp_settingsFavoritesPage_pageView"},"ovp.settings.parentalControls":{eventCaseId:"OneApp_settingsParentalsControlPage_pageView"},"ovp.settings.purchasePin":{eventCaseId:"OneApp_settingsPurchaseControlPage_pageView"},"ovp.settings.stb":{eventCaseId:"OneApp_settingsDevicesPage_pageView"},"ovp.settings.stb.parentalControls":{eventCaseId:"OneApp_settingsParentalsControlPage_pageView"},"ovp.settings.stb.purchasePin":{eventCaseId:"OneApp_settingsPurchaseControlPage_pageView"},"ovp.specuActivate":{eventCaseId:"OneApp_activateDevice_pageView"},"ovp.specuDomainSearch":{eventCaseId:"OneApp_specUSchoolSearch_pageView"},"ovp.specuFailure":{eventCaseId:"OneApp_activateDeviceFailure_pageView"},"ovp.specuSuccess":{eventCaseId:"OneApp_activateDeviceSuccess_pageView"},"ovp.specuwelcome":{eventCaseId:"OneApp_specU_welcome_pageView"},"ovp.store":{eventCaseId:"OneApp_VideoStore_pageView"},"ovp.store.viewall":{eventCaseId:"OneApp_pageView_curatedCatalog"},"product.event":{eventCaseId:"OneApp_ProductPage_pageView"},"product.series.episodes":{eventCaseId:"OneApp_ProductPage_pageView",currPagePageType:"seriesDetailsScreen"},"product.series.info":{eventCaseId:"OneApp_ProductPage_pageView",currPagePageType:"assetDetailsScreen"},search:{eventCaseId:"OneApp_search_pageView"},"search.error":{eventCaseId:"OneApp_search_pageView"},"search.person":{eventCaseId:"OneApp_search_pageView_curatedPerson"},"search.quickresults":{eventCaseId:"OneApp_searchResults_pageView"},"search.recent":{eventCaseId:"OneApp_search_pageView",ignoreImmediateReroute:!0},"search.results":{eventCaseId:"OneApp_searchResults_pageView"},"search.sports":{eventCaseId:"OneApp_search_pageView_curatedSports"},"search.team":{eventCaseId:"OneApp_search_pageView_curatedTeam"},"ovp.oohLoginErrorScreen":{waitForPageComplete:!0},"ovp.tvsaEULA":{eventCaseId:"OneApp_autoAccess_welcomeScreen_pageView",defaultAppSection:"appIntro"},"ovp.privateRelayErrorScreen":{eventCaseId:"OneApp_pageView_privateRelay_unsupportedBrowser",defaultAppSection:"appIntro"}},xr=["playerLiveTv","playerLiveTvFullScreen","liveTvMiniGuide","liveTvMiniGuideFullScreen"],_r=["root","ovp.ondemand.**"],Dr=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.data},Rr=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.currentSort},jr=function(e){var t,n;return[null!==(t=null===(n=Rr(e))||void 0===n?void 0:n.egName)&&void 0!==t?t:""]},Nr=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.currentFilter},Mr=function(e){var t,n;return[null!==(t=null===(n=Nr(e))||void 0===n?void 0:n.name)&&void 0!==t?t:""]},Vr=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.filtersVisible},Lr=n("Eb3s");function Fr(){Ur();var e=l.a.getSelectorValue(w.k);Pr=setTimeout(function(){!function(){try{Date.now();if(Object(y.m)()&&!Gr)return;Object(Lr.b)(Gr),Kr=Gr,Gr=null}catch(e){console.error("Error",e)}}()},e)}function Ur(){Pr&&(clearTimeout(Pr),Pr=void 0)}n("x0AG"),n("pDQq");function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Wr=[];function Hr(e){!function(e){var t=Wr.findIndex(function(t){return t.currPageId===e});t>=0&&Wr.splice(t,1)}(e.currPageId),Wr.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e));for(var t=l.a.getSelectorValue(le.d);t&&Wr.length>t;)Wr.shift()}var Gr,qr=function(e){return Wr.find(function(t){return t.currPageId===e})};function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Kr=null;function Jr(e){try{var t,n,r;Object(y.l)()&&console.log("Analytics: pageView:onRouteStartForPageView ("+e.from().name+") -> ["+e.originalTransition().name+"] -> "+e.to().name,{to:e.to(),toParams:e.params("to"),transition:e}),e.wasReactivated&&Object(ye.a)("OneApp_selectAction_back_buttonClick");var i=ti(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("buyFlow.offers.step"===e&&n.step)return"buyFlow.offers.step."+n.step;if("ovp.offers.step"===e&&n.step)return"ovp.offers.step."+n.step;if("ovp.ondemand.**"!==e&&"ovp.ondemand.playProduct"!==e&&e.startsWith("ovp.ondemand."))return"fake.curatedCatalog";if("ovp.mylibrary.viewall"===e&&(null===n||void 0===n?void 0:n.name))return e+"."+n.name;if(null===n||void 0===n?void 0:null===(t=n.analytics)||void 0===t?void 0:t.destinationOverride)return n.analytics.destinationOverride;return e}(e.to().name,e.params("to"))),o=e.to().name;if("ovp.ondemand.**"!==o&&"ovp.ondemand.playProduct"!==o&&o.startsWith("ovp.ondemand.")&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.replace("ovp.ondemand.","").replace(".viewall","").replace(/.network/,"");e.currPageName="curated"+Object(b.h)(r),t.endsWith(".viewall")&&n.name&&(e.currPageAppliedFilters=Object(b.h)(n.name))}(i,e.to().name,e.params("to")),!Object(y.m)()||!i)return;if("buyFlow"===i.currPageAppSection&&Kr.buyflowStep===i.buyflowStep)return;if(i.ignoreImmediateReroute&&(null===(t=Kr)||void 0===t?void 0:t.ignoreImmediateReroute)&&(null===(n=Kr)||void 0===n?void 0:n.eventCaseId)===i.eventCaseId)return;if(Gr=Yr({},i),function(e){e.originalTransition().to().name!==e.to().name&&(_r.includes(e.originalTransition().to().name)||(Gr.msgTriggeredBy=lt.m.APPLICATION))}(e)&&(Gr.msgTriggeredBy=lt.m.APPLICATION),Gr.currPageId=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.keys(n).sort().map(function(e){return e+"="+(n[e]?n[e]:"")}).join("&");return e+":"+t+(r?"?"+r:"")}(e.to().name,e.to().url,e.params("to")),Gr.currPageId&&Gr.currPageId===(null===(r=Kr)||void 0===r?void 0:r.currPageId)&&"OneApp_ProductPage_pageView"===Gr.eventCaseId)return void(Gr=null);Fr()}catch(e){console.log("Error: "+e.message,e)}}function Qr(e){try{var t=Date.now();if(!Object(y.m)()||!Gr)return;Gr.currPageIsLazyLoad?Gr.currPagePartialRenderedTs=t:Gr.waitForPageComplete||Xr()}catch(e){console.error("Error",e)}}function Xr(){try{Ur();var e=Date.now();if(!Object(y.m)()||!Gr)return;(function(e){return Kr&&e.eventCaseId===Kr.eventCaseId})(Gr)&&(Gr.currPagePageViewType="refresh"),Gr.currPageFullyRenderedTs=e,Object(Lr.a)(Gr),Hr(Gr),Kr=Gr,Gr=null}catch(e){console.error("Error",e)}}function Zr(){var e,t=qr(null===(e=Gr)||void 0===e?void 0:e.currPageId);if(t){var n=Yr(Yr({},t),{},{currPageRenderInitTs:Gr.currPageRenderInitTs,currPagePartialRenderedTs:Gr.currPagePartialRenderedTs,currPageFullyRenderedTs:Date.now()});Ur(),Object(Lr.a)(n),Kr=n,Gr=null}else Xr()}function ei(e){try{if(!Gr){if(Object(y.l)())throw"Error: No pageView payload to update: "+JSON.stringify(e);return}Gr=Yr(Yr({},Gr),e)}catch(e){console.error("Error",e)}}function ti(e){var t=Ir[e];return t?Yr(Yr({currPageRenderInitTs:Date.now(),currPageIsLazyLoad:!1,msgTriggeredBy:lt.m.USER,currPageId:e},t),{},{currPageAppSection:ne||Object(y.e)()||t.defaultAppSection}):null}function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ii=Object($t.connect)(function(e){return{cmsError:Vt(e)}},null)(function(e){var t=e.currentPageCMSMeta,n=e.exitBuyflow,r=e.cmsError;return ei(ri(ri({},t.analytics),{},{currPageAppSection:"buyFlow"})),Object(Q.useEffect)(function(){r&&n(r)},[r]),React.createElement(React.Fragment,null,!r&&React.createElement("div",{className:"buyflow-container"},React.createElement(Ar,t)))});angular.module("ovpApp.components.buyflowContainer",["lib.platform","ovpApp.legacy.httpUtil","ovpApp.services.kiteModal"]).component("buyflowContainer",Object(Ct.react2angular)(Object($t.connect)(function(e){return{buyflowCustomerCareNumber:e.config.data.buyflowCustomerCareNumber,currentCartStep:Object(re.h)(e),cmsError:Vt(e)}})(function(e){var t=e.buyflowCustomerCareNumber,n=e.httpUtil,r=e.store,i=e.currentCartStep,o=e.$state,a=e.currentPageCMSMeta,s=e.cmsError;return Object(Q.useEffect)(function(){s||o.go("ovp.offers.step",{step:i})},[i]),React.createElement($t.Provider,{store:r},React.createElement(ii,{exitBuyflow:function(e){var r=Object(ae.a)(e);Ae.a.errorAlert(r,{BUYFLOW_CUSTOMER_CARE_NUMBER:t}).promise.finally(function(){n.logout()})},currentPageCMSMeta:a}))}),["currentPageCMSMeta"],["platform","store","httpUtil","$state"]));var oi=function(e){var t,n=e.header,r=e.subHeader,i=e.description,o=e.price,a=e.buttons,s=e.analytics,c=e.referenceId,l=Object(Q.useRef)(null);return Object(Q.useEffect)(function(){l.current.focus(),ei(s),Xr()},[]),React.createElement("div",{className:"learn-more-details"},React.createElement("div",(t={className:"learn-more-heading"},f()(t,"className","learn-more-heading"),f()(t,"ref",l),f()(t,"role","heading"),f()(t,"tabIndex","-2"),f()(t,"aria-level","1"),t),React.createElement("p",{"aria-hidden":"true",className:"price",role:"presentation"},o.uiLabel),React.createElement("span",{className:"sr-only",role:"presentation"},o.a11yLabel),React.createElement("span",{role:"presentation",className:"kite3-title-1 learn-more-title"},n.uiLabel)),React.createElement("p",{className:"kite3-title-6"},r.uiLabel),React.createElement("p",{className:"description-text kite3-font-body-display"},i.uiLabel),React.createElement(Tn,{referenceId:c,buttons:a}))},ai=function(e){var t=e.data;return Object(Q.useEffect)(function(){document.getElementsByClassName("main-content-wrapper")[0].scrollTop=0},[]),React.createElement("div",{className:"learn-more-container",role:"dialog","aria-labelledby":"learn-more-heading"},React.createElement("div",{className:"content-container"},React.createElement(oi,t),React.createElement("div",{className:"cms-network-grid"},React.createElement(Hn,t))))};function si(e){var t=e.data,n=e.store,r=e.currentCartStep,i=e.$state;return rr(function(){i.go("ovp.offers.step",{step:r})},[r]),React.createElement($t.Provider,{store:n},React.createElement(ai,{data:t}))}si.propTypes={data:At.a.object};angular.module("ovpApp.components.learnMore",[]).component("learnMore",Object(Ct.react2angular)(Object($t.connect)(function(e){return{currentCartStep:Object(re.h)(e)}})(si),["data"],["store","$state"]));var ci=n("5rFJ"),li=i.a.mark(ui);function ui(){var e,t,n,r,o;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(ci.d)(Pt.a.request());case 3:return i.next=5,Object(ci.g)(u.V);case 5:return e=i.sent,i.next=8,Object(ci.b)($e.default.get,{url:e,withCredentials:!1,includeDeviceId:!1});case 8:if(t=i.sent,"string"!=typeof(n=t.data)){i.next=16;break}return r={status:"invalidJSON"},i.next=14,Object(ci.d)(Pt.a.failure(r));case 14:i.next=18;break;case 16:return i.next=18,Object(ci.d)(Pt.a.success(n));case 18:i.next=25;break;case 20:return i.prev=20,i.t0=i.catch(0),o={status:"apiError"},i.next=25,Object(ci.d)(Pt.a.failure(o));case 25:case"end":return i.stop()}},li,null,[[0,20]])}var di={getCmsPromise:function(){var e=l.a.getSelectorValue(Mt);return e?Promise.resolve(e):Object(c.d)(ui).then(function(){var e=l.a.getSelectorValue(Mt);return e?Promise.resolve(e):Promise.reject(l.a.getSelectorValue(Vt))})},getCmsCartMetadata:function(){var e=Object(u.V)();return l.a.dispatch(Pt.a.request()),$e.default.get({url:e,withCredentials:!1,includeDeviceId:!1}).then(function(e){var t=e.data;if("string"==typeof t){var n={status:"invalidJSON"};return l.a.dispatch(Pt.a.failure(n)),Promise.reject({errorCode:Object(ae.a)(n)})}return l.a.dispatch(Pt.a.success(t)),t},function(){var e={status:"apiError"};return l.a.dispatch(Pt.a.failure(e)),Promise.reject(e)})}};function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var hi=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundImage:"url(".concat(e.backsplash,")")},e.style);return X.a.createElement("div",{className:"main-content"},X.a.createElement("div",{style:t,className:"tour-collage"}),e.children)};hi.propTypes={backsplash:At.a.string};var vi=hi;angular.module("ovpApp.confirmationPage",["ovpApp.services.buyflowService"]).component("confirmationPage",Object(Ct.react2angular)(Object($t.connect)(function(e){return{backgroundImage:e.config.data.featureTourBackground,promoType:Object(re.e)(e)}})(function(e){var t=e.backgroundImage,n=e.buyflowService;return React.createElement("div",{className:"buyflow-v2-confirmation flexbox-height-100"},React.createElement(vi,{backsplash:t},React.createElement("div",{className:"confirmation-container"},React.createElement("div",{className:"content-main"},React.createElement(Nn,{focusOnLoad:!0},React.createElement("div",{className:"heading",role:"heading","aria-level":"1",tabIndex:"-2"},React.createElement("span",{className:"kite3-title-1"},"Welcome to Spectrum TV"))),React.createElement("div",{className:"description"},React.createElement("p",{className:"kite3-font-body-display"},"Thanks for subscribing."),React.createElement("p",{className:"kite3-font-body-display"},"Start watching now on your favorite devices. Visit ",React.createElement("a",{style:{textDecoration:"underline"},href:"http://www.spectrum.net/tvapp",target:"_blank"},"spectrum.net/tvapp")," to learn more.")),React.createElement("div",{className:"kite3-font-buttons confirm-button"},React.createElement("a",{href:"#",onClick:function(){return Object(ye.a)("OneApp_selectAction_buyFlow_welcomeScreen_watchTv"),n.handleRedirectAfterPurchase()},className:"kite-btn kite-btn-primary kite-btn-lg"},"Watch TV"))))))}),[],["store","$rootScope","buyflowService"]));var fi=n("oPuz"),mi=n("PRTD");var gi={estimateTaxes:{getTaxesPromise:function(){var e=l.a.getSelectorValue(u.Ob),t=Ht(l.a.getState(),"estimateTaxes");return Object(c.d)(mi.fetchTaxes,{payload:{requestUrl:e,retriesOnFailure:t}}).then(function(){var e=l.a.getSelectorValue(mi.getBuyflowTaxesLoadError);return e?Promise.reject(e):Promise.resolve()})}}.getTaxesPromise};!function(){function e(e){e.state("ovp.offers",{redirectTo:"ovp.offers.step",url:"/buyflow",ignoreRedirects:!0,views:{appView:{template:'<div class="offers-container" ui-view></div>'}},resolve:{enabled:["$location","$q","kiteModalService","httpUtil","$rootScope",function(e,t,n,r,i){if(l.a.getSelectorValue(u.Tf)&&(l.a.getSelectorValue(ie.g)||l.a.getSelectorValue(re.P))){var o=ve.getOffersEligibility().then(function(e){return!!e||t.reject()}).catch(function(e){var i=e.errorCode;return n.errorAlert(i).promise.finally(function(){return r.redirectToURL("/"),t.reject({silent:!0})})});return i.$broadcast("message:loading",o,void 0),o}return e.url("/"),t.reject({silent:!0})}],location:["$q","httpUtil","kiteModalService",function(e,t,n){return!!l.a.getStatePath("config.data.buyflow.buyflowDemoMode")||me.a.getLocation().then(function(){return!!l.a.getSelectorValue(ge.d)||e.reject()}).catch(function(){var r=l.a.getSelectorValue(re.t);return n.errorAlert(r).promise.finally(function(){return t.redirectToURL("/"),e.reject({silent:!0})})})}],cms:["enabled","$state",function(e,t){return(l.a.getSelectorValue(u.tg)?di.getCmsPromise:di.getCmsCartMetadata)().then(function(){return e}).catch(function(){var e=l.a.getSelectorValue(Vt);t.go("novideoservice",{errorCode:Object(ae.a)(e)})})}],autoPurchase:["enabled","buyflowService","$q","kiteModalService","httpUtil",function(e,t,n,r,i){return l.a.getSelectorValue(re.Q)&&l.a.getSelectorValue(u.ig)?wn.freePreviewAutoPurchase().then(function(){return Ve.getCurrentPackage(!0).then(function(){return Object(fi.a)(),t.handleRedirectAfterPurchase(),n.reject({silent:!0})})},function(t){if(515===t.status)return e;var o=Object(ae.b)(t);return r.errorAlert(o).promise.finally(function(){return i.redirectToURL("/"),n.reject({silent:!0})})}):e}]}}).state("ovp.offers.learn_more",{url:"/offers/learn-more",data:{hideMenu:!0},params:{data:null},redirectTo:function(e){var t=e.params().data;if(!t||kt()(t))return"ovp.offers"},resolve:{data:["$stateParams",function(e){return e.data}]},ignoreRedirects:!0,component:"learnMore"}).state("ovp.offers.step",{url:"/offers?:step",redirectTo:function(e){if(!l.a.getSelectorValue(re.F)&&e.params().step>0)return"ovp.offers"},data:{hideMenu:!0},params:{step:"0"},resolve:{currentPageCMSMeta:["$stateParams","$rootScope","kiteModalService","$q",function(e,t,n,r){var i=e.step;if(l.a.dispatch(Object(ue.o)(i)),l.a.getSelectorValue(Bt)){var o=l.a.getSelectorValue(Ut).map(function(e){return gi[null===e||void 0===e?void 0:e.apiName]}),a=Promise.all(o.map(function(e){return e()})).then(function(){return l.a.getSelectorValue(Ft)}).catch(function(){var e=l.a.getSelectorValue(Wt);return Object(kn.b)("OneApp_purchaseStop_buyFlow_triggeredByApplicationError",{pmtAmount:l.a.getSelectorValue(re.i),appErrorCode:e}),Object(y.j)("OneApp_buyFlow_Error",{appErrorCode:e,appErrorMessage:te.a.getErrorInfo(e).message}),n.errorAlert(e,{},{resolve:{analyticsModalName:"OneApp_buyFlow_Error_modalView"}}).promise.finally(function(){return l.a.dispatch(Object(ue.o)(0)),r.reject({silent:!0})})});return t.$broadcast("message:loading",a,void 0),a}return l.a.getSelectorValue(Ft)}],enabled:["$location","$q","httpUtil",function(e,t,n){return l.a.getSelectorValue(u.Tf)?ve.getOffersEligibility().then(function(e){return!!e||t.reject()}).catch(function(){n.redirectToURL("/")}):(e.url("/"),t.reject({silent:!0}))}]},ignoreRedirects:!0,component:"buyflowContainer"}).state("ovp.offers.confirmation",{data:{bodyClass:"buyflow-v2-confirmation-page",hideMenu:!0},resolve:{current_package:function(){return Ve.getCurrentPackage(!0)}},onEnter:function(){Object(fi.a)()},url:"/confirmation",ignoreRedirects:!0,component:"confirmationPage"})}e.$inject=["$stateProvider"],e.$inject=["$stateProvider"],angular.module("ovpApp.offers.router",["ovpApp.services.streamPlusService","ui.router","ovpApp.components.buyflowContainer","ovpApp.components.learnMore","ovpApp.confirmationPage","ovpApp.services.buyflowService","ovpApp.services.kiteModal","ovpApp.legacy.httpUtil","ovpApp.services.oohService"]).config(e)}(),angular.module("ovpApp.buyFlow.baseOffer",["ovpApp.buyFlow.service","ovpApp.services.kiteModal","ovpApp.dataDelegate"]).component("baseOffer",{bindings:{active:"<",offers:"<",summary:"<",getstarted:"<",addToCart:"&",transactionId:"<"},templateUrl:"js/buyFlow/base-offer.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$state:t,buyFlowService:n,kiteModalService:r,$rootScope:i,delegateUtils:o})}return e.$inject=["$state","buyFlowService","kiteModalService","$rootScope","delegateUtils"],e.$inject=["$state","buyFlowService","kiteModalService","$rootScope","delegateUtils"],Ce()(e,[{key:"$onInit",value:function(){this.showNetworkList=!1,this.focusOnLoad=this.active&&!this.getstarted,this.active&&this.addToCart({ids:this.offers.id})}},{key:"activate",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2PackageDescription_otherSections",{sectionName:"PackageDescription",actionName:"otherSections"}),this.$state.go("buyFlow.offers.step",{step:1,getstarted:!1})}},{key:"cancel",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2PackageDescription_cancel",{sectionName:"PackageDescription",actionName:"cancel",summary:this.summary}),this.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByUser",{triggeredBy:"user",transactionId:this.transactionId,summary:this.summary}),this.$state.go("buyFlow.welcome")}},{key:"continue",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2PackageDescription_confirm",{sectionName:"PackageDescription",actionName:"continue"}),this.$state.go("buyFlow.offers.step",{step:2})}},{key:"getNetworkIcons",value:function(e){return this.delegateUtils.networkImageFromTmsId(e.tmsId)({width:96})}},{key:"toggleNetworkList",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2PackageDescription_networkList",{sectionName:"PackageDescription",actionName:"networkList"}),this.showNetworkList=!this.showNetworkList}}]),e}()}),angular.module("ovpApp.buyFlow.networkbundle",["ovpApp.dataDelegate"]).component("networkBundle",{bindings:{data:"<",isSelected:"<",onChange:"&"},templateUrl:"js/buyFlow/network-bundle.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{delegateUtils:t})}return e.$inject=["delegateUtils"],e.$inject=["delegateUtils"],Ce()(e,[{key:"$onInit",value:function(){this.checked=this.isSelected}},{key:"$onChanges",value:function(){this.checked=this.isSelected}},{key:"getNetworkIcons",value:function(e){return this.delegateUtils.networkImageFromTmsId(e.tmsId)({width:96})}},{key:"onClick",value:function(e){var t=e.target.tagName.toLowerCase();"label"!==t&&"input"!==t&&(e.preventDefault(),e.stopPropagation(),this.checked=!this.checked,this.onChange(this.data))}}]),e}()}),angular.module("ovpApp.buyFlow",["ovpApp.buyFlow.router","ovpApp.buyFlow.service","ovpApp.buyFlow.baseOffer","ovpApp.buyFlow.extras","ovpApp.buyFlow.premiums","ovpApp.buyFlow.review","ovpApp.buyFlow.confirmation","ovpApp.buyFlow.welcome"]).component("buyFlow",{bindings:{step:"<",offers:"<",summary:"<",getstarted:"<",onExitHandler:"<"},templateUrl:"js/buyFlow/buyFlow.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{$rootScope:t,buyFlowService:n,$q:r})}return e.$inject=["$rootScope","buyFlowService","$q"],e.$inject=["$rootScope","buyFlowService","$q"],Ce()(e,[{key:"$onInit",value:function(){this.transactionId=this.offers.base.transactionId,this.updateExitHandler()}},{key:"updateExitHandler",value:function(){var e=this;switch(this.step){case 2:this.onExitHandler.set(function(){return e.ids?e.buyFlowService.addExtrasToCart(e.ids,e.transactionId):e.$q.resolve()});break;case 3:this.onExitHandler.set(function(){return e.ids?e.buyFlowService.addPremiumsToCart(e.ids,e.transactionId):e.$q.resolve()})}}},{key:"addToCart",value:function(e){var t=e.ids;this.ids=t}}]),e}()}),function(){function e(e){e.state("buyFlow",{redirectTo:"buyFlow.welcome",url:"/streamPlus",ignoreRedirects:!0,template:'<div ui-view autoscroll="true" class="buyflow-container" />',resolve:{enabled:["$location","$q","streamPlusService",function(e,t,n){return n.isStreamPlusEligible().catch(function(){return e.url("/"),t.reject({silent:!0})}).then(function(){return!0})}],location:["$location","$q",function(e,t){return!!l.a.getSelectorValue(u.Qf)||me.a.getLocation().then(function(n){return l.a.getSelectorValue(ge.h)?(e.url("/"),t.reject({silent:!0})):n})}]}}).state("buyFlow.welcome",{data:{bodyClass:"stream-plus-page",hideMenu:!0},url:"/welcome",ignoreRedirects:!0,component:"buyFlowWelcome",resolve:{version:function(){return l.a.getSelectorValue(u.Be)},base:["buyFlowService",function(e){return e.getBaseOffers()}],transactionId:["base",function(e){return e.transactionId}],networks:["base",function(e){return e.offers[0].networks}]},onEnter:["capabilitiesService","$location","$q",function(e,t,n){return e.canUseTwctv().then(function(){return t.url("/"),n.reject({silent:!0})},function(){return n.resolve()})}]}).state("buyFlow.offers",{ignoreRedirects:!0,redirectTo:"buyFlow.offers.step",url:"/:transactionId",templateUrl:"js/buyFlow/offers.html",resolve:{transactionId:["$stateParams",function(e){return e.transactionId}],offers:["buyFlowService","$q","$rootScope","transactionId","$stateParams",function(e,t,n,r,i){if(!r)return{};var o=e.getBaseOffers().then(function(n){var i=n.offers[0].id;return function(n,r){return e.getSummary(r).then(function(i){return i.baseOffer?t.resolve():e.addBaseToCart(n,r)})}(i,r).then(function(){return t.all([e.getExtras(i,r),e.getPremiums(i,r)]).then(function(e){var t=Oe()(e,2),i=t[0],o=t[1];return n.transactionId=r,i.transactionId=r,o.transactionId=r,{transactionId:r,base:n,extra:i,premium:o}})})}).catch(function(){return e.showPurchaseStopApplicationError({transactionId:i.transactionId})});return n.$broadcast("message:loading",o,void 0,"Loading offers"),o}]},onEnter:["transactionId","buyFlowService",function(e,t){if(!e)return t.showPurchaseStopApplicationError({transactionId:"invalid"})}]}).state("buyFlow.offers.step",{data:{bodyClass:"stream-plus-page",hideMenu:!0},params:{step:1,getstarted:!0},url:"/offers",ignoreRedirects:!0,component:"buyFlow",resolve:{step:["$stateParams",function(e){return e.step}],getstarted:["$stateParams",function(e){return e.getstarted}],summary:["offers","buyFlowService","$rootScope",function(e,t,n){var r=t.getSummary(e.transactionId).catch(function(){return t.showPurchaseStopApplicationError({transactionId:e.transactionId})});return n.$broadcast("message:loading",r,void 0,"Loading cart summary"),r}],onExitHandler:["$q",function(e){var t=function(){return e.resolve()};return{set:function(e){return t=e},resolve:function(){return t()}}}]},onEnter:["capabilitiesService","$location","$q",function(e,t,n){return e.canUseTwctv().then(function(){return t.url("/"),n.reject({silent:!0})},function(){return n.resolve()})}],onExit:["onExitHandler","$state","$rootScope","$stateParams","buyFlowService",function(e,t,n,r,i){if("buyFlow.welcome"!==t.transition.to().name){var o=e.resolve().catch(function(){return i.showPurchaseStopApplicationError({transactionId:r.transactionId})});return n.$broadcast("message:loading",o,void 0,"Updating cart"),o}}]}).state("buyFlow.confirmation",{data:{bodyClass:"stream-plus-page",hideMenu:!0},resolve:{transactionId:["$stateParams",function(e){return e.transactionId}]},onEnter:function(){return Object(fi.a)()},url:"/:transactionId/confirmation",ignoreRedirects:!0,component:"buyFlowConfirmation"})}e.$inject=["$stateProvider"],e.$inject=["$stateProvider"],angular.module("ovpApp.buyFlow.router",["ui.router","ovpApp.services.streamPlusService","ovpApp.buyFlow.welcome","ovpApp.services.capabilitiesService","ovpApp.services.buyflowService"]).config(e)}(),function(){function e(e,t,n,r,i){var o=l.a.getSelectorValue(u.Cd);return{getBaseOffers:function(){var r="".concat(o).concat(l.a.getSelectorValue(u.ye)).concat(l.a.getSelectorValue(u.se));return e.get(r,{withCredentials:!0}).then(function(e){return e.data},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})},getExtras:function(e,t){return a(e,"extras",t)},getPremiums:function(e,t){return a(e,"premiums",t)},addBaseToCart:function(r,i){var a="".concat(o).concat(l.a.getSelectorValue(u.ye)).concat(l.a.getSelectorValue(u.ue),"/base?transactionId=").concat(i);return e.post(a,{id:r}).then(function(e){return e.data.Cart},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})},addExtrasToCart:function(e,t){angular.isArray(e)||(e=[e]);return s(e,"extras",t)},addPremiumsToCart:function(e,t){angular.isArray(e)||(e=[e]);return s(e,"premiums",t)},getSummary:function(r){var i=c("summarize",r);return e.get(i,{withCredentials:!0}).then(function(e){return e.data},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})},purchase:function(r){var i=c("purchase",r);return e.post(i).then(function(e){return e.data},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})},showPurchaseStopApplicationError:function(e){return n.$emit("Analytics:stream2-purchaseStop-triggeredByApplicationError",{triggeredBy:"appError",transactionId:e}),n.$broadcast("message:loading:cancel"),i.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:"Unable to Complete Request.",description:"Were sorry, something didn't work quite right\n                        , but there's been no charge."},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}).promise.finally(function(){return r.url("/"),t.reject({silent:!0})})}};function a(r,i,a){if(void 0===r||void 0===i)return t.resolve();var s="".concat(o).concat(l.a.getSelectorValue(u.ye)).concat(l.a.getSelectorValue(u.se),"/")+"".concat(r,"/").concat(i,"?transactionId=").concat(a);return e.get(s,{withCredentials:!0}).then(function(e){return e.data},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})}function s(r,i,o){var a=c(i,o);return e.put(a,r).then(function(e){return e.data.Cart},function(e){return n.$emit("Analytics:error",{httpError:e,errorType:"stream2"}),t.reject(e)})}function c(e,t){return"".concat(o).concat(l.a.getSelectorValue(u.ye)).concat(l.a.getSelectorValue(u.ue),"/")+"".concat(e,"?transactionId=").concat(t)}}e.$inject=["$http","$q","$rootScope","$location","kiteModalService"],e.$inject=["$http","$q","$rootScope","$location","kiteModalService"],angular.module("ovpApp.buyFlow.service",[]).factory("buyFlowService",e)}(),angular.module("ovpApp.buyFlow.extras",["ovpApp.buyFlow.service","ovpApp.buyFlow.networkbundle","ovpApp.services.kiteModal"]).component("extras",{bindings:{active:"<",offers:"<",summary:"<",addToCart:"&",transactionId:"<"},templateUrl:"js/buyFlow/extras.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$state:t,$q:n,buyFlowService:r,kiteModalService:i,$rootScope:o})}return e.$inject=["$state","$q","buyFlowService","kiteModalService","$rootScope"],e.$inject=["$state","$q","buyFlowService","kiteModalService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.selectedIds=[],this.summary.extraOfferCount>0&&(this.selectedIds=this.summary.extraOffers.map(function(e){return e.id}),this.subTitle=(this.summary.extraOffers.length>1?"Packages":"Package")+": "+this.summary.extraOffers.map(function(e){return e.name}).join(", ")),this.active&&this.addToCart({})}},{key:"isSelected",value:function(e){return this.selectedIds.indexOf(e)>-1}},{key:"onChange",value:function(e){this.toggleSelect(e.id)}},{key:"toggleSelect",value:function(e){this.isSelected(e)?this.selectedIds=this.selectedIds.filter(function(t){return t!==e}):this.selectedIds.push(e),this.addToCart({ids:this.selectedIds})}},{key:"activate",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2AddOns_otherSections",{sectionName:"AddOns",actionName:"otherSections"}),this.$state.go("buyFlow.offers.step",{step:2})}},{key:"cancel",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2AddOns_cancel",{sectionName:"AddOns",actionName:"cancel",summary:this.summary}),this.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByUser",{triggeredBy:"user",transactionId:this.transactionId,summary:this.summary}),this.$state.go("buyFlow.welcome")}},{key:"back",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2AddOns_back",{sectionName:"AddOns",actionName:"back"}),this.$state.go("buyFlow.offers.step",{step:1})}},{key:"continue",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2AddOns_confirm",{sectionName:"AddOns",actionName:"continue"}),this.$state.go("buyFlow.offers.step",{step:3})}}]),e}()}),angular.module("ovpApp.buyFlow.premiums",["ovpApp.buyFlow.service","ovpApp.buyFlow.networkbundle","ovpApp.buyFlow.network","ovpApp.services.kiteModal"]).component("premiums",{bindings:{active:"<",offers:"<",summary:"<",addToCart:"&",transactionId:"<"},templateUrl:"js/buyFlow/premiums.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$state:t,buyFlowService:n,kiteModalService:r,$rootScope:i})}return e.$inject=["$state","buyFlowService","kiteModalService","$rootScope"],e.$inject=["$state","buyFlowService","kiteModalService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.initialize()}},{key:"$onChanges",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this;this.premiumPack=this.offers[0],this.premiumPackSelected=!1,this.premiumNetworks=this.offers.slice(1),this.selectedIds=[],this.premiumPackNetworkIds=this.premiumNetworks.filter(function(t){return e.premiumPack.networks.findIndex(function(e){return e.tmsId===t.networks[0].tmsId})>-1}).map(function(e){return e.id}),this.summary.premiumOfferCount>0&&(this.premiumPackSelected=this.summary.premiumOffers.findIndex(function(t){return t.id===e.premiumPack.id})>-1,this.selectedIds=this.premiumNetworks.filter(function(t){return e.summary.premiumOffers.findIndex(function(e){return e.id===t.id})>-1}).map(function(e){return e.id}),this.updateSubtitle()),this.active&&this.addToCart({})}},{key:"updateSubtitle",value:function(){var e=this,t=[];this.premiumPackSelected&&t.push(this.premiumPack.name),t=t.concat(this.premiumNetworks.filter(function(t){return e.selectedIds.indexOf(t.id)>-1}).map(function(e){return e.name})),this.subTitle=(this.premiumPackSelected?"Package":"Network")+(t.length>1?"s: ":": ")+t.join(", ")}},{key:"isSelected",value:function(e){return!!(this.includedInBundle(e)||this.selectedIds.indexOf(e)>-1)}},{key:"toggleBundleSelect",value:function(){var e=this;this.premiumPackSelected=!this.premiumPackSelected,this.premiumPackSelected&&(this.selectedIds=this.selectedIds.filter(function(t){return!e.includedInBundle(t)})),this.updateCart()}},{key:"includedInBundle",value:function(e){return this.premiumPackSelected&&this.premiumPackNetworkIds.indexOf(e)>-1}},{key:"onNetowrkChange",value:function(e){this.toggleNetworkSelect(e.id)}},{key:"toggleNetworkSelect",value:function(e){if(this.includedInBundle(e)){this.premiumPackSelected=!1;var t=this.premiumPackNetworkIds.filter(function(t){return t!==e});this.selectedIds=this.selectedIds.concat(t)}else this.isSelected(e)?this.selectedIds=this.selectedIds.filter(function(t){return t!==e}):this.selectedIds.push(e);this.bundleCheck(),this.updateCart()}},{key:"activate",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2Premiums_otherSections",{sectionName:"Premiums",actionName:"otherSections"}),this.$state.go("buyFlow.offers.step",{step:3})}},{key:"cancel",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2Premiums_cancel",{sectionName:"Premiums",actionName:"cancel",summary:this.summary}),this.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByUser",{triggeredBy:"user",transactionId:this.transactionId,summary:this.summary}),this.$state.go("buyFlow.welcome")}},{key:"back",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2Premiums_back",{sectionName:"Premiums",actionName:"back"}),this.$state.go("buyFlow.offers.step",{step:2})}},{key:"continue",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2Premiums_confirm",{sectionName:"Premiums",actionName:"continue"}),this.$state.go("buyFlow.offers.step",{step:4})}},{key:"updateCart",value:function(){var e=this.premiumPackSelected?this.selectedIds.concat(this.premiumPack.id):this.selectedIds;this.addToCart({ids:e})}},{key:"bundleCheck",value:function(){var e=this;0===this.premiumPackNetworkIds.filter(function(t){return-1===e.selectedIds.indexOf(t)}).length&&(this.premiumPackSelected=!0,this.selectedIds=this.selectedIds.filter(function(t){return-1===e.premiumPackNetworkIds.indexOf(t)}))}}]),e}()}),angular.module("ovpApp.buyFlow.network",["ovpApp.dataDelegate"]).component("network",{bindings:{data:"<",isSelected:"<",includedInBundle:"<",bundle:"<",onChange:"&"},templateUrl:"js/buyFlow/network.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{delegateUtils:t})}return e.$inject=["delegateUtils"],e.$inject=["delegateUtils"],Ce()(e,[{key:"$onInit",value:function(){this.checked=this.isSelected}},{key:"$onChanges",value:function(){this.checked=this.isSelected}},{key:"getNetworkIcons",value:function(e){return this.delegateUtils.networkImageFromTmsId(e.tmsId)({width:96})}},{key:"onClick",value:function(e){var t=e.target.tagName.toLowerCase();"label"!==t&&"input"!==t&&(e.preventDefault(),e.stopPropagation(),this.checked=!this.checked,this.onChange(this.data))}}]),e}()}),angular.module("ovpApp.buyFlow.review",["ovpApp.services.kiteModal","ajoslin.promise-tracker","ovpApp.loadingButton"]).component("review",{bindings:{active:"<",summary:"<",transactionId:"<"},templateUrl:"js/buyFlow/review.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{$q:t,$state:n,buyFlowService:r,kiteModalService:i,$rootScope:o,capabilitiesService:a,promiseTracker:s})}return e.$inject=["$q","$state","buyFlowService","kiteModalService","$rootScope","capabilitiesService","promiseTracker"],e.$inject=["$q","$state","buyFlowService","kiteModalService","$rootScope","capabilitiesService","promiseTracker"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.accepted=!1,this.loadingTracker=this.promiseTracker(),this.loadingOpts={buttonText:"Purchase",busyText:"Purchasing",onClick:this.purchase.bind(this),getAriaStatusText:function(){return e.loadingTracker.active()?"Purchasing Spectrum TV Stream":""}},this.disclaimerMessage=l.a.getSelectorValue(u.ve)}},{key:"activate",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2FinalPrice_otherSections",{sectionName:"FinalPrice",actionName:"otherSections"}),this.$state.go("buyFlow.offers.step",{step:4})}},{key:"cancel",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2FinalPrice_cancel",{sectionName:"FinalPrice",actionName:"cancel",summary:this.summary}),this.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByUser",{triggeredBy:"user",transactionId:this.transactionId,summary:this.summary}),this.$state.go("buyFlow.welcome")}},{key:"back",value:function(){this.$rootScope.$emit("Analytics:selectAction_stream2FinalPrice_back",{sectionName:"FinalPrice",actionName:"back"}),this.$state.go("buyFlow.offers.step",{step:3})}},{key:"purchase",value:function(){var e=this;this.loadingTracker.active()||(this.$rootScope.$emit("Analytics:selectAction_stream2FinalPrice_confirm",{sectionName:"FinalPrice",actionName:"continue",summary:this.summary}),this.acceptTermsAndConditions().then(function(){if(l.a.getSelectorValue(u.Qf))return e.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByApplicationSuccess",{triggeredBy:"appSuccess",transactionId:e.transactionId,summary:e.summary}),void e.$state.go("buyFlow.confirmation",{transactionId:e.transactionId});var t=e.buyFlowService.purchase(e.transactionId).then(function(){e.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByApplicationSuccess",{triggeredBy:"appSuccess",transactionId:e.transactionId,summary:e.summary}),e.$state.go("buyFlow.confirmation",{transactionId:e.transactionId})}).catch(function(){e.$rootScope.$emit("Analytics:stream2-purchaseStop-triggeredByApplicationError",{triggeredBy:"appError",transactionId:e.transactionId,summary:e.summary}),e.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:"Unable to Complete Request.",description:"Were sorry, something didn't work quite right,\n                                    but there's been no charge."},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}).promise.finally(function(){e.$state.go("buyFlow.welcome")})});e.loadingTracker.addPromise(t)}))}},{key:"acceptTermsAndConditions",value:function(){var e=this;return this.accepted?this.$q.resolve():this.kiteModalService.open({component:"kite-confirm",showCloseIcon:!0,resolve:{iconClass:"si si-circle-info-f",description:"Please agree to the purchase agreement to continue.",primaryButtonLabel:"Agree",secondaryButtonLabel:"Decline"},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){return e.accepted=!0,e.$q.reject()})}}]),e}()}),angular.module("ovpApp.buyFlow.confirmation",["ovpApp.services.buyflowService"]).component("buyFlowConfirmation",{bindings:{transactionId:"<"},templateUrl:"js/buyFlow/confirmation.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$rootScope:t,$window:n,$state:r,buyflowService:i}),this.$rootScope.$emit("Analytics:pageChangeComplete")}return e.$inject=["$rootScope","$window","$state","buyflowService"],e.$inject=["$rootScope","$window","$state","buyflowService"],Ce()(e,[{key:"watchTV",value:function(){return this.$rootScope.$broadcast("Analytics:select",{context:"stream2",elementUiName:"Start Watching TV",elementStandardizedName:"start",featureCurrentStep:6}),this.buyflowService.handleRedirectAfterPurchase()}}]),e}()}),angular.module("ovpApp.buyFlow.welcome",["ovpApp.messages","ovpApp.dataDelegate","ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).constant("TEMPLATES",{v1:"js/buyFlow/welcome/v1.html",v2:"js/buyFlow/welcome/v2.html"}).component("buyFlowWelcome",{bindings:{version:"<",base:"<",networks:"<",transactionId:"<"},template:'<ng-include src="$ctrl.getTemplateUrl()"/>',controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),angular.extend(this,{messages:t,$state:n,$timeout:r,$window:i,$document:o,$rootScope:a,delegateUtils:s,TEMPLATES:c})}return e.$inject=["messages","$state","$timeout","$window","$document","$rootScope","delegateUtils","TEMPLATES"],e.$inject=["messages","$state","$timeout","$window","$document","$rootScope","delegateUtils","TEMPLATES"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.price=this.base.offers[0].price,this.buyFlowEnabled=l.a.getSelectorValue(u.te),this.streamBuyUrl=l.a.getSelectorValue(u.re);var t=/(\D*)(\d+)\.?(\d*)/g.exec(this.price);this.priceDollar=t&&t[2]||"00",this.priceCent=t&&t[3]||"00",this.$rootScope.$broadcast("pageChangeComplete",this.$state.current),this.messages=l.a.getSelectorValue(u.ze)[this.version],this.updateBackgroundImage(),this.resizeHandler=function(){e.$rootScope.$applyAsync(e.updateBackgroundImage.bind(e))},angular.element(this.$window).on("resize",this.resizeHandler)}},{key:"$onDestroy",value:function(){angular.element(this.$window).off("resize",this.resizeHandler)}},{key:"getBackgroundImageSize",value:function(){return this.$window.innerWidth>=1280?"large":this.$window.innerWidth>=600?"medium":"small"}},{key:"updateBackgroundImage",value:function(){var e=this.getBackgroundImageSize(),t=l.a.getSelectorValue(u.vc);this.topSectionStyle={"background-image":"url("+t+l.a.getSelectorValue(u.Ae)[e]+")"}}},{key:"getNetworkIcons",value:function(e){return this.delegateUtils.networkImageFromTmsId(e.tmsId)({width:96})}},{key:"start",value:function(){this.buyFlowEnabled?(this.$rootScope.$broadcast("Analytics:selectAction_stream2SignUp_confirm",{category:"navigation",context:"stream2",elementUiName:"Let's get started",pageSectionName:"conversionArea",elementStandardizedName:"continue",triggeredBy:"user",operationType:"buttonClick",featureName:"stream2",featureType:"stream2BuyFlow",featureCurrentStep:1}),this.$rootScope.$emit("Analytics:stream2-purchaseStart",{transactionId:this.transactionId}),this.$state.go("buyFlow.offers",{transactionId:this.transactionId})):(this.$rootScope.$broadcast("Analytics:selectAction_viewOffers",{actionName:"buyStream2"}),this.$window.open(this.streamBuyUrl))}},{key:"getMessageFor",value:function(e,t,n){return e.replace("{{".concat(t,"}}"),n)}},{key:"getTemplateUrl",value:function(){return this.TEMPLATES[this.version]}}]),e}()}),function(){angular.module("ovpApp.components.bulkRowMap",[]).factory("BulkRowMap",function(){function e(e,t){this.getMapped=function(){return e[t]}}return e.prototype.clear=function(){var e=Object.keys(this);angular.forEach(e,function(e){angular.isFunction(this[e])||delete this[e]},this)},e.prototype.selectRow=function(e){this[e]=!0},e.prototype.unSelectRow=function(e){this[e]=!1},e.prototype.getSelectedCount=function(){var e=0;return angular.forEach(this,function(t){!0===t&&e++}),e},e.prototype.removeSelected=function(){var e,t,n=[],r=this.getMapped();for(angular.forEach(this,function(e,t){!0===e&&n.push(parseInt(t))}),n.sort(function(e,t){return e-t}),e=0,t=n.length;e<t;e++)r.splice(n[e]-e,1)},e.prototype.isRowSelected=function(){for(var e in this)if(!0===this[e])return!0;return!1},e.prototype.getSelected=function(){var e=[],t=this.getMapped();return angular.forEach(this,function(n,r){!0===n&&e.push(t[parseInt(r)])},this),e},e})}(),angular.module("ovpApp.bulkMDUWelcome",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("bulkMDUWelcome",{bindings:{},templateUrl:"js/bulkMDU/welcome.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{httpUtil:t,$state:n,$timeout:r,$rootScope:i})}return e.$inject=["httpUtil","$state","$timeout","$rootScope"],e.$inject=["httpUtil","$state","$timeout","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.phone=l.a.getSelectorValue(u.A),this.$timeout(function(){return e.focusButton=!0})}},{key:"signInWithResidential",value:function(){this.httpUtil.logout()}},{key:"continue",value:function(){this.$rootScope.$broadcast("Analytics:select",{elementStandardizedName:"continue"}),this.$state.go("ovp.bulkmdueula")}}]),e}()}),angular.module("ovpApp.bulkMDUEULA",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("bulkMDUEULA",{bindings:{},templateUrl:"js/bulkMDU/eula.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{httpUtil:t,$state:n,loginService:r,$rootScope:i})}return e.$inject=["httpUtil","$state","loginService","$rootScope"],e.$inject=["httpUtil","$state","loginService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.termsHref=l.a.getSelectorValue(u.Oe),this.privacyHref=l.a.getSelectorValue(u.Jd)}},{key:"previousPage",value:function(){this.$state.go("ovp.bulkmduwelcome")}},{key:"continue",value:function(){this.$rootScope.$broadcast("Analytics:select",{elementStandardizedName:"watchTv"}),this.loginService.acceptBulkMDUTerms(),this.$state.go("ovp.livetv",void 0,{replace:!0})}}]),e}()}),angular.module("ovpApp.components.bulkMDU.signout",["ovpApp.legacy.httpUtil"]).component("bulkMDUSignout",{bindings:{modalInstance:"<"},templateUrl:"js/bulkMDU/signout.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$rootScope:t,$state:n,httpUtil:r,version:i})}return e.$inject=["$rootScope","$state","httpUtil","version"],e.$inject=["$rootScope","$state","httpUtil","version"],Ce()(e,[{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x-22-x-22"+(this.activeCloseIcon?"-active":"")+".svg"}},{key:"signOut",value:function(){this.httpUtil.logout()}}]),e}()}),angular.module("ovpApp.components.bulkMDU.wifiError",["ovpApp.directives.focus","ovpApp.components.header","ovpApp.legacy.httpUtil","ovpApp.directives.featureTourBackground"]).component("bulkMDUWifiError",{bindings:{error:"<"},templateUrl:"js/bulkMDU/wifi-error.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{httpUtil:t})}return e.$inject=["httpUtil"],e.$inject=["httpUtil"],Ce()(e,[{key:"signIn",value:function(){this.httpUtil.logout()}}]),e}()}),angular.module("ovpApp.tvsaEULA",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("tvsaEULA",{bindings:{},templateUrl:"js/tvsa/eula.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{httpUtil:t,$state:n,loginService:r,$scope:i})}return e.$inject=["httpUtil","$state","loginService","$scope"],e.$inject=["httpUtil","$state","loginService","$scope"],Ce()(e,[{key:"$onInit",value:function(){this.termsHref=l.a.getSelectorValue(u.Oe),this.privacyHref=l.a.getSelectorValue(u.Jd)}},{key:"signInWithResidential",value:function(){this.httpUtil.logout()}},{key:"getLogoPath",value:function(){return l.a.getSelectorValue(u.qc)}},{key:"continue",value:function(){Object(y.j)("OneApp_selectAction_continue"),this.loginService.acceptTVSATerms(),this.$state.go("ovp.livetv",void 0,{replace:!0})}}]),e}()});var bi=function(e){var t=e.width,n=void 0===t?"15":t,r=e.height,i=void 0===r?"15":r,o=e.viewbox,a=void 0===o?"0 0 40 40":o,s=e.fill,c=void 0===s?"white":s;return X.a.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a},X.a.createElement("g",{fill:"none",fillRule:"evenodd"},X.a.createElement("path",{fill:"",d:"M0 0h40v40H0z"}),X.a.createElement("path",{fill:c,d:"M20.04 6c1.796 0 3.586.163 5.37.488 1.784.326 3.522.827 5.215 1.504 3.385 1.328 6.51 3.32 9.375 5.977l-2.813 2.851c-2.395-2.24-5.09-3.945-8.085-5.117a29.873 29.873 0 0 0-4.473-1.27c-1.497-.299-3.04-.449-4.629-.449a25.72 25.72 0 0 0-4.629.41c-1.497.274-2.988.71-4.473 1.31a21.94 21.94 0 0 0-4.218 2.089 26.45 26.45 0 0 0-3.867 3.027L0 13.97c2.917-2.657 6.061-4.649 9.434-5.977C12.806 6.664 16.34 6 20.039 6zM20 16.82c2.214 0 4.388.404 6.523 1.211 2.136.808 4.089 2.005 5.86 3.594l-2.852 2.852c-1.328-1.224-2.8-2.142-4.414-2.754A14.316 14.316 0 0 0 20 20.805c-1.797 0-3.503.306-5.117.918-1.615.612-3.086 1.53-4.414 2.754l-2.852-2.852c1.771-1.589 3.724-2.786 5.86-3.594A18.311 18.311 0 0 1 20 16.821zm0 10.782c1.77 0 3.346.572 4.727 1.718L20 34.047l-4.727-4.727c1.38-1.146 2.956-1.718 4.727-1.718z"})))};var yi=Object($t.connect)(function(e){return{imageServerEndpoint:Object(u.vc)(e),title:Object(u.ld)(e),message:Object(u.kd)(e),eventCaseId:Object(u.id)(e)}})(function(e){var t=e.title,n=e.message,r=e.logoutHandler,i=e.imageServerEndpoint,o=e.eventCaseId,a=i+"/imageserver/supporting?image=Backsplash_OVP";return Object(Q.useEffect)(function(){ei({eventCaseId:o}),Xr()},[]),X.a.createElement(vi,{backsplash:a},X.a.createElement(X.a.Fragment,null,X.a.createElement("div",{className:"ooh-login-error-message-container-wrapper"},X.a.createElement("div",{"aria-hidden":"true",className:"content-gradient"}),X.a.createElement("div",{className:"ooh-login-error-message-container"},X.a.createElement("div",{className:"sr-only"},X.a.createElement("span",{id:"ooh-login-error-message-title"},t),X.a.createElement("span",{id:"ooh-login-error-message-description"},n)),X.a.createElement("div",{className:"error-icon-container"},X.a.createElement(bi,{width:40,height:40})),X.a.createElement("h1",null,t),X.a.createElement("p",{className:"error-message"},n),X.a.createElement("p",{className:"line-through"},X.a.createElement("span",null,"or")),X.a.createElement("p",{className:"footer-message"},"If you have an existing Spectrum username and password, you can also ",X.a.createElement(Nn,null,X.a.createElement("a",{className:"kite-btn-link",onClick:r,href:"#!"},"sign in"))," to your account to watch TV.")),X.a.createElement("div",{className:"bottom-gradient"}))))});function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var wi=Object($t.connect)(function(e){return{imageServerEndpoint:Object(u.vc)(e),title:Object(u.ld)(e),message:Object(u.kd)(e),eventCaseId:Object(u.id)(e),eventCasePayload:Object(u.jd)(e),logoPath:Object(u.qc)(e),logoAlt:Object(u.pc)(e)}})(function(e){var t=e.title,n=e.message,r=e.imageServerEndpoint,i=e.eventCaseId,o=e.eventCasePayload,a=e.logoPath,s=e.logoAlt,c=e.appVersion,l=r+"/imageserver/supporting?image=Backsplash_OVP",u="".concat(c,"/").concat(a),d=s||"Spectrum TV";return Object(Q.useEffect)(function(){ei(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({eventCaseId:i},o)),Xr()},[]),X.a.createElement(vi,{backsplash:l,style:{backgroundColor:"rgba(0, 115, 209, 0.5)",backgroundBlendMode:"overlay"}},X.a.createElement("div",{className:"ooh-login-error-2-container"},X.a.createElement("div",{"aria-hidden":"true",className:"background-gradient"}),X.a.createElement("div",{"aria-hidden":"true",className:"content-gradient"}),X.a.createElement("img",{alt:d,className:"logo",src:u}),X.a.createElement("div",{className:"message-container"},X.a.createElement("h1",{className:"title"},t),X.a.createElement("p",{className:"message"},n))))});angular.module("ovpApp.oohLoginErrorBridge",["ovpApp.legacy.httpUtil"]).component("oohLoginErrorBridge",Object(Ct.react2angular)(function(e){var t=e.store,n=e.httpUtil,r=e.version,i=Object(u.md)(t.getState());return React.createElement($t.Provider,{store:t},2===i?React.createElement(wi,{appVersion:r.appVersion}):React.createElement(yi,{logoutHandler:function(){n.logout()}}))},[],["store","httpUtil","version"]));var ki=Object($t.connect)(function(e){return{logoPath:Object(u.qc)(e),logoAlt:Object(u.pc)(e),supportLink:Object(u.Ge)(e)}})(function(e){var t=e.logoPath,n=e.logoAlt,r=e.appVersion,i=e.errorDescription,o=e.errorTitle,a=e.supportLink,s="".concat(r,"/").concat(t),c=n||"Spectrum TV";return React.createElement("div",{className:"app-restriction-error-wrapper"},React.createElement("div",{className:"nav-triangle-pattern"}),React.createElement("header",{className:"header"},React.createElement("div",{className:"spacer"}),React.createElement("div",{className:"logo-container"},React.createElement("img",{className:"logo",role:"img",alt:c,src:s})),React.createElement("div",{className:"support-link"},React.createElement("a",{className:"link",href:a,target:"_blank","aria-label":"Get Support"},"Support"))),React.createElement("div",{className:"error-wrapper","aria-live":"polite"},React.createElement("div",{className:"error-msg-container"},React.createElement("h1",{className:"kite-h2"},o),React.createElement("p",{className:"description"},i))))});function Ci(e,t){var n={ctntIdTmsProgramId:Ti(e)||Ti(t),ctntIdProviderAssetId:Oi(e)||Oi(t),ctntIdTmsGuideId:Ei(e)||Ei(t),ctntIdTmsSeriesId:Ai(e)||Ai(t),ctntIdDvrRecordingId:Pi(e)||Pi(t)};return Object.keys(n).forEach(function(e){return void 0===n[e]&&delete n[e]}),n}function $i(e,t){var n={programId:Ti(e)||Ti(t),seriesId:Ai(e)||Ai(t),tmsGuideId:Ei(e)||Ei(t)};return Object.keys(n).forEach(function(e){return void 0===n[e]&&delete n[e]}),n}function Ti(e){var t,n;return Ii((null===e||void 0===e?void 0:e.tmsProgramId)||(null===e||void 0===e?void 0:null===(t=e.tmsProgramIds)||void 0===t?void 0:t[0])||(null===e||void 0===e?void 0:null===(n=e.streamProperties)||void 0===n?void 0:n.tmsProviderProgramID))}function Oi(e){var t,n,r,i;return Ii((null===e||void 0===e?void 0:e.providerAssetId)||(null===e||void 0===e?void 0:null===(t=e.providerAssetIds)||void 0===t?void 0:t[0])||(null===e||void 0===e?void 0:null===(n=e.streamProperties)||void 0===n?void 0:n.providerAssetID)||(null===e||void 0===e?void 0:null===(r=e.stream)||void 0===r?void 0:null===(i=r.streamProperties)||void 0===i?void 0:i.providerAssetID))}function Ei(e){var t,n,r,i,o,a,s,c,l,u,d,p,h,v;return Ii((null===e||void 0===e?void 0:e.tmsGuideId)||(null===e||void 0===e?void 0:e.tmsId)||(null===e||void 0===e?void 0:null===(t=e.clickRoute)||void 0===t?void 0:t[1].tmsid)||(null===e||void 0===e?void 0:null===(n=e.cdvrSeriesRecording)||void 0===n?void 0:n.tmsGuideId)||(null===e||void 0===e?void 0:null===(r=e.tmsGuideServiceIds)||void 0===r?void 0:r[0])||(null===e||void 0===e?void 0:null===(i=e.streamProperties)||void 0===i?void 0:i.tmsGuideId)||(null===e||void 0===e?void 0:null===(o=e.streamProperties)||void 0===o?void 0:null===(a=o.cdvrRecording)||void 0===a?void 0:a.tmsGuideId)||(null===e||void 0===e?void 0:null===(s=e.streamProperties)||void 0===s?void 0:s.tmsGuideServiceId)||(null===e||void 0===e?void 0:null===(c=e.stream)||void 0===c?void 0:null===(l=c.streamProperties)||void 0===l?void 0:l.tmsGuideId)||(null===e||void 0===e?void 0:null===(u=e.stream)||void 0===u?void 0:null===(d=u.streamProperties)||void 0===d?void 0:d.tmsGuideServiceId)||(null===e||void 0===e?void 0:null===(p=e.stream)||void 0===p?void 0:null===(h=p.streamProperties)||void 0===h?void 0:null===(v=h.cdvrRecording)||void 0===v?void 0:v.tmsGuideId))}function Ai(e){var t,n,r;return Ii((null===e||void 0===e?void 0:e.tmsSeriesId)||(null===e||void 0===e?void 0:null===(t=e.tmsSeriesIds)||void 0===t?void 0:t[0])||(null===e||void 0===e?void 0:null===(n=e.cdvrSeriesRecording)||void 0===n?void 0:n.tmsSeriesId)||(null===e||void 0===e?void 0:null===(r=e.stateOptions)||void 0===r?void 0:r.tmsSeriesId))}function Pi(e){var t,n,r,i,o;return Ii((null===e||void 0===e?void 0:null===(t=e.streamProperties)||void 0===t?void 0:null===(n=t.cdvrRecording)||void 0===n?void 0:n.recordingId)||(null===e||void 0===e?void 0:null===(r=e.stream)||void 0===r?void 0:null===(i=r.streamProperties)||void 0===i?void 0:null===(o=i.cdvrRecording)||void 0===o?void 0:o.recordingId))}function Ii(e){return e?String(e):e}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}angular.module("ovpApp.privateRelayErrorBridge",[]).component("privateRelayErrorBridge",Object(Ct.react2angular)(Object($t.connect)()(function(e){var t=e.store,n=e.version,r=e.errorCode,i=te.a.getErrorInfo(r),o=i.title,a=i.message;return React.createElement($t.Provider,{store:t},React.createElement(ki,{appVersion:n.appVersion,errorTitle:o,errorDescription:a}))}),["errorCode"],["store","httpUtil","version"])),angular.module("ovpApp.components.channelCard",["ovpApp.directives.lazySrc","ovpApp.ondemand.data","ovpApp.services.oohService","ovpApp.services.kiteModal","ovpApp.player.whatsOn","ovpApp.product.service","ovpApp.directives.keydown"]).component("channelCard",{bindings:{channel:"<",options:"<",index:"<"},require:{carouselContainer:"^^?ovpCarousel"},templateUrl:"js/components/channel-card/channel-card.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$state:t,messages:n,CAPABILITIES:r,alert:i,onDemandData:o,$rootScope:a,oohService:s,productService:c,kiteModalService:l,whatsOn:u})}return e.$inject=["$state","messages","CAPABILITIES","alert","onDemandData","$rootScope","oohService","productService","kiteModalService","whatsOn"],e.$inject=["$state","messages","CAPABILITIES","alert","onDemandData","$rootScope","oohService","productService","kiteModalService","whatsOn"],Ce()(e,[{key:"$onInit",value:function(){var e,t=this;(null===(e=this.options)||void 0===e?void 0:e.showCurrentlyAiring)&&this.whatsOn.nowOrImminent(this.channel).then(function(e){e&&(t.asset=e)}),this.unavailableOoh=this.oohService.isUnavailableOoh(this.channel)}},{key:"$onChanges",value:function(e){e.options&&this.applyDefaultOptions(e.options.currentValue)}},{key:"click",value:function(){var e,t,n,r,i,o,a,s,c,l,u,d=_i(_i({},Ci(this.asset)),{},{currPageSubsecItemCnt:(null===(e=this.carouselContainer)||void 0===e?void 0:null===(t=e.options)||void 0===t?void 0:t.totalSwimlanes)||1,currPageSubsecIndex:(null===(n=this.carouselContainer)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:r.swimlaneIndex)||0,currPageElemItemCnt:null===(i=this.carouselContainer)||void 0===i?void 0:null===(o=i.items)||void 0===o?void 0:o.length,currPageElemIndex:this.index,currPageSubsecName:Object(b.a)((null===(a=this.carouselContainer)||void 0===a?void 0:null===(s=a.options)||void 0===s?void 0:s.title)||(null===(c=this.gridlistContainer)||void 0===c?void 0:null===(l=c.options)||void 0===l?void 0:l.title)),currPageElemUiName:null===(u=this.asset)||void 0===u?void 0:u.title,currPageElemType:"Channel-Card",currPageElemStdName:lt.l.WATCH,ctntStrmPlbkType:lt.i.LINEAR});if(Object(ye.a)("OneApp_selectAction_swimlanes_watch",d),this.channel.isEntitled)if(this.oohService.isUnavailableOoh(this.channel))this.oohService.showOohModal();else if(this.channel.clickRoute){var p;(p=this.$state).go.apply(p,on()(this.channel.clickRoute))}else{var h=this.onDemandData.formatCategoryNameForRoute(this.channel.name);this.$state.go("ovp.ondemand.networks.network",{name:h,index:null,page:null})}else this.productService.showUnentitledNetworkModal()}},{key:"applyDefaultOptions",value:function(e){this.options=angular.extend({},{showChannelName:!1,carouselSelectable:!1},e)}},{key:"getCurrentlyAiring",value:function(){var e;return null===(e=this.asset)||void 0===e?void 0:e.title}}]),e}()});var Di=n("zAb8"),Ri=n("1jgP"),ji=function(e){l.a.dispatch(Object(Ri.b)(e))},Ni=Object(u.Re)(l.a.getInstance().getState()),Mi=Object(Di.b)(Ni,ji);l.a.subscribe(l.a.watch(["config","toast","throttleWaitMs"])(function(e){Mi=Object(Di.b)(e,ji)}));var Vi={showToastMessage:function(e){Mi(e)}};angular.module("ovpApp.components.confirm",["ajoslin.promise-tracker"]).constant("CONFIRM_BUTTON_TYPE",{OK:"OK",CANCEL:"Cancel",YES:"Yes",NO:"No"}).component("confirm",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/confirm/confirm.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$q:t,$log:n,$rootScope:r,CONFIRM_BUTTON_TYPE:i,promiseTracker:o})}return e.$inject=["$q","$log","$rootScope","CONFIRM_BUTTON_TYPE","promiseTracker"],e.$inject=["$q","$log","$rootScope","CONFIRM_BUTTON_TYPE","promiseTracker"],Ce()(e,[{key:"$onChanges",value:function(e){if(e.resolve){this.success=!1,this.destroyed=!1,this.loadingTracker=this.promiseTracker();var t=this.resolve.options||{};this.preOkMessage=t.preOkMessage,this.postOkMessage=t.postOkMessage,this.ariaLabel=t.ariaLabel,this.ariaDescription=t.ariaDescription,this.okLabel=t.okLabel||this.CONFIRM_BUTTON_TYPE.OK,this.cancelLabel=t.cancelLabel||this.CONFIRM_BUTTON_TYPE.CANCEL,this.okAction=t.okAction,this.cancelAction=t.cancelAction,this.inProgressMessage=t.inProgressMessage,this.getErrorString=t.getErrorString}}},{key:"$onDestroy",value:function(){this.destroyed=!0}},{key:"okHandler",value:function(){var e=this;if(this.okAction){var t=this.$q.when(this.okAction());this.loadingTracker.addPromise(t),t.then(function(){e.success=!0,e.destroyed||(e.modalInstance.close("success"),e.postOkMessage&&Vi.showToastMessage(e.postOkMessage))},function(t){e.modalInstance.dismiss("error"),e.$log.error(t),e.getErrorString&&Vi.showToastMessage(e.getErrorString(t))})}else this.modalInstance.close("success")}},{key:"cancelHandler",value:function(){this.cancelAction&&this.cancelAction(),this.modalInstance.dismiss("cancel clicked")}}]),e}()}),function(){angular.module("ovpApp.components.error.ServiceError",[]).factory("ServiceError",function(){function e(e){this.name="ServiceError",this.message=e,Error.prototype.constructor.call(this,e)}return e.$inject=["message"],e.$inject=["message"],e.prototype=new Error,e.prototype.constructor=e,e})}(),angular.module("ovpApp.components.error.sadTv",["ovpApp.directives.featureTourBackground"]).component("sadTvError",{bindings:{errorCode:"<"},templateUrl:"js/components/error/sad-tv-error.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$window:t,$rootScope:n})}return e.$inject=["$window","$rootScope"],e.$inject=["$window","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.focusButton=!0,this.errorImage=l.a.getSelectorValue(u.vc)+l.a.getSelectorValue(u.Nb),this.$rootScope.$broadcast("Analytics:pageChangeComplete")}},{key:"retry",value:function(){Object(y.a)(!1),this.$rootScope.$broadcast("Analytics:select",{elementStandardizedName:"retry"}),this.$window.location.reload()}}]),e}()});var Li=n("7s9v");angular.module("ovpApp.components.ovpFooter",["ovpApp.messages","ovpApp.components.modal","ovpApp.version","ovpApp.services.capabilitiesService"]).component("siteFooter",{templateUrl:"js/components/footer/site-footer.html",controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),this.$window=t,this.messages=n,this.modal=r,this.capabilitiesService=i,this.OauthService=a,this.$state=s,this.$transitions=c,this.platform=o,this.version=l,this.capabilitiesService=i}return e.$inject=["$window","messages","modal","capabilitiesService","platform","OauthService","$state","$transitions","version"],e.$inject=["$window","messages","modal","capabilitiesService","platform","OauthService","$state","$transitions","version"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.privacyRightsLink=l.a.getSelectorValue(u.Kd),this.privacyPolicyLink=l.a.getSelectorValue(u.Jd),this.termsAndConditionsLink=l.a.getSelectorValue(u.Oe),this.caConsumerPrivacyRights=l.a.getSelectorValue(u.F),this.caDontSell=l.a.getSelectorValue(u.G),l.a.getSelectorValue(u.Zc)&&(this.nielsenOptionsLink=l.a.getSelectorValue(u.ad)),this.thisYear=(new Date).getFullYear(),this.loggedIn=!1,this.OauthService.waitUntilAuthenticated().then(function(){e.loggedIn=!0})}},{key:"isSpecUOrBulkMDU",value:function(){return 0===this.$state.current.name.indexOf("ovp.specu")||this.capabilitiesService.isSpecUOrBulkMDU()}},{key:"getCDVRCapability",value:function(){return this.capabilitiesService.isCdvrEnabled()}},{key:"clickNielsenOptionsLink",value:function(){Object(y.j)("OneApp_selectAction_footer_nielsenMeasurementOptions",{msgTriggeredUsing:Object(Li.c)()})}},{key:"clickYourPrivacyRightsLink",value:function(){Object(y.j)("OneApp_selectAction_footer_yourPrivacyRightsLink",{msgTriggeredUsing:Object(Li.c)()})}},{key:"clickCaliConsumerPrivacyRightsLink",value:function(){Object(y.j)("OneApp_selectAction_footer_caliPrivacyRightsLink",{msgTriggeredUsing:Object(Li.c)()})}},{key:"clickCaliConsumerDoNotSellLink",value:function(){Object(y.j)("OneApp_selectAction_footer_caliDoNotSellLink",{msgTriggeredUsing:Object(Li.c)()})}},{key:"clickPoliciesLink",value:function(){Object(y.j)("OneApp_selectAction_footer_policiesLink",{msgTriggeredUsing:Object(Li.c)()})}}]),e}()});var Fi=n("PJYZ"),Ui=n.n(Fi),Bi=function(e){var t,n=e.style,r=void 0===n?{}:n,i=e.width,o=void 0===i?"27":i,a=e.height,s=void 0===a?"7":a,c=e.viewbox,l=void 0===c?"0 0 27 7":c,u=e.fill,d=void 0===u?"#fff":u;return React.createElement("svg",(t={focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:o,height:s,viewBox:l,style:r},f()(t,"aria-hidden","true"),f()(t,"focusable","false"),t),React.createElement("g",{fill:d,fillRule:"evenodd"},React.createElement("path",{d:"M27 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zM7 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0zM17 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"})))};function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var Hi=function(e){In()(n,e);var t=Wi(n);function n(e){return we()(this,n),t.call(this,e)}return Ce()(n,[{key:"render",value:function(){return this.props.icon?React.createElement(this.props.icon,{fill:this.props.fillColor}):React.createElement(Bi,{fill:this.props.fillColor})}}]),n}(Q.Component);function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}Hi.propTypes={fillColor:At.a.string,icon:At.a.func};var qi=function(e){In()(n,e);var t=Gi(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"toggleDropdownMenu",function(){r.setState(function(e){return{isMenuOpen:!e.isMenuOpen}},function(){r.buttonNode&&r.buttonNode.focus(),r.state.isMenuOpen&&(r.props.analyticsEventCaseId?Object(ye.a)(r.props.analyticsEventCaseId):r.props.analyticsSelectAction&&r.props.analyticsSelectAction.selectAction(null,{context:r.props.analyticsSelectActionContext,pageSectionName:"contentArea",elementStandardizedName:"overflowActionsSheet"}),r.props.analyticsModalViewId&&Object(y.j)(r.props.analyticsModalViewId,{context:r.props.analyticsSelectActionContext,modalType:"options",modalName:"overflowActionsSheet",modalLoadTimeMs:0}))})}),f()(Ui()(r),"handleKeyboardNavBlur",function(){r.focusTimeOut=setTimeout(function(){r.setState({isMenuOpen:!1})})}),f()(Ui()(r),"handleKeyboardNavFocus",function(){clearTimeout(r.focusTimeOut)}),f()(Ui()(r),"onKeyPressed",function(e){"Escape"===e.key&&r.state.isMenuOpen&&r.toggleDropdownMenu()}),f()(Ui()(r),"onMouseDown",function(e){"dropdown-menu-open"!==e.target.className&&e.preventDefault()}),r.focusTimeOut=null,r.id="dd_idRef_".concat(Object(T.c)()),r.state={isMenuOpen:!1},r}return Ce()(n,[{key:"render",value:function(){var e=this,t=this.state.isMenuOpen,n=this.props.children.map(function(e){return React.createElement("li",{key:e.key,className:"dropdown-menu-item"},e)}),r=this.props.menuStyles?this.props.menuStyles:"",i=t?"#008cff":void 0,o=t?this.id:null,a="dropdown-menu-container ".concat(r);return React.createElement("div",{className:a,onMouseDown:this.onMouseDown,onKeyDown:this.onKeyPressed,onBlur:this.handleKeyboardNavBlur,onFocus:this.handleKeyboardNavFocus},React.createElement("button",{ref:function(t){return e.buttonNode=t},className:"dropdown-menu-button","aria-controls":o,"aria-expanded":t,onClick:this.toggleDropdownMenu},React.createElement(Hi,{icon:this.props.icon,fillColor:i}),React.createElement("span",{role:"presentation",className:"sr-only"},this.props.description)),React.createElement("div",{id:this.id},t&&React.createElement("ul",{onClick:this.toggleDropdownMenu,className:"dropdown-menu"},n)),t&&React.createElement("div",{className:"dropdown-menu-open"}))}}]),n}(Q.Component);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}qi.propTypes={options:At.a.array,children:At.a.node.isRequired,description:At.a.string,analyticsSelectAction:At.a.object,analyticsSelectActionContext:At.a.string,analyticsSelectActionEventCaseId:At.a.string,analyticsModalViewId:At.a.string,icon:At.a.func,menuStyles:At.a.string};var Ki=function(e){In()(n,e);var t=Yi(n);function n(e){return we()(this,n),t.call(this,e)}return Ce()(n,[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.style||{}),n=this.props.otherAttributes||{},r=this.props.icon?"dropdown-menu-item-with-icon":null;return React.createElement("button",Ot()({},n,{className:r,style:t,onClick:function(){return e.props.onClick&&e.props.onClick(e.props.action)},"aria-label":this.props.ariaLabel}),this.props.icon,this.props.text)}}]),n}(Q.Component);function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}Ki.propTypes={onClick:At.a.func.isRequired,onKeyDown:At.a.func,text:At.a.string,style:At.a.object,action:At.a.string,icon:At.a.element,ariaLabel:At.a.string,otherAttributes:At.a.object};var Xi=function(e){In()(n,e);var t=Qi(n);function n(e){return we()(this,n),t.call(this,e)}return Ce()(n,[{key:"render",value:function(){var e=this,t=this.props.text;this.props.subText&&(t=React.createElement("span",null,React.createElement("span",{className:"dropdown-menu-item-primary-text"},this.props.text),React.createElement("span",{className:"dropdown-menu-item-secondary-text",role:"presentation"},this.props.subText)));var n=this.props.href||"#",r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.style||{}),i=this.props.otherAttributes||{},o=this.props.icon?"dropdown-menu-item-with-icon":"dropdown-menu-item-without-icon";return React.createElement("a",Ot()({},i,{href:n,target:this.props.target,className:o,style:r,tabIndex:"0",onClick:function(){return e.props.onClick&&e.props.onClick(e.props.action)},"aria-label":this.props.ariaLabel}),this.props.icon,t)}}]),n}(Q.Component);Xi.propTypes={onClick:At.a.func,onKeyDown:At.a.func,href:At.a.string,target:At.a.string,text:At.a.string,subText:At.a.string,style:At.a.object,action:At.a.string,icon:At.a.element,ariaLabel:At.a.string,otherAttributes:At.a.object};var Zi=function(e){var t=e.width,n=void 0===t?"32":t,r=e.height,i=void 0===r?"32":r,o=e.viewBox,a=void 0===o?"0 0 32 32":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a,fill:c,focusable:"false","aria-hidden":"true"},React.createElement("path",{d:"M16 3.004c-7.17 0-13 5.83-13 13 0 3.35 1.29 6.41 3.39 8.72.04.06.09.11.14.16 2.38 2.53 5.74 4.12 9.47 4.12s7.09-1.59 9.47-4.12c.05-.05.1-.1.14-.16 2.1-2.31 3.39-5.37 3.39-8.72 0-7.17-5.83-13-13-13zm0 24c-2.84 0-5.42-1.09-7.37-2.86.49-.28 1.21-.51 1.92-.73 1.44-.44 3.19-.98 4.05-2.37.44.15.91.23 1.4.23s.96-.08 1.4-.23c.86 1.39 2.61 1.93 4.05 2.37.71.22 1.43.45 1.92.73a10.93 10.93 0 0 1-7.37 2.86zm-3-12.55c0-2.33 1.21-3.9 3-3.9s3 1.57 3 3.9c0 2.32-.94 4.82-3 4.82s-3-2.5-3-4.82zm11.74 8.2c-.75-.54-1.74-.85-2.7-1.15-1.28-.39-2.48-.77-2.95-1.54 1.19-1.2 1.91-3.14 1.91-5.51 0-3.42-2.1-5.9-5-5.9s-5 2.48-5 5.9c0 2.37.72 4.31 1.91 5.51-.47.77-1.67 1.15-2.95 1.54-.97.3-1.95.61-2.7 1.15A10.935 10.935 0 0 1 5 16.004c0-6.07 4.93-11 11-11s11 4.93 11 11c0 2.5-.85 4.8-2.26 6.65z"}))},eo=function(e){var t=e.width,n=void 0===t?"32":t,r=e.height,i=void 0===r?"32":r,o=e.viewBox,a=void 0===o?"0 0 32 32":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a,fill:c,focusable:"false","aria-hidden":"true"},React.createElement("path",{d:"M16 2C8.27 2 2 8.27 2 16s6.27 14 14 14 14-6.27 14-14S23.73 2 16 2zm0 26C9.38 28 4 22.62 4 16S9.38 4 16 4s12 5.38 12 12-5.38 12-12 12z"}),React.createElement("circle",{cx:"16",cy:"22.75",r:"2.25"}),React.createElement("path",{d:"M21.25 11.69c0 4-3.46 3.46-3.81 5.99V19h-2.83v-1.47c.3-3.62 3.41-3.28 3.35-5.54 0-1.28-.67-1.88-1.78-1.88-1.5 0-2.15 1.23-2.15 2.71h-3.08c.07-2.99 2.01-5.16 5.09-5.16 3.93 0 5.21 2.45 5.21 4.03z"}))},to=function(e){var t=e.width,n=void 0===t?"563":t,r=e.height,i=void 0===r?"118":r,o=e.viewBox,a=void 0===o?"0 0 563 118":o;return React.createElement("svg",{width:n,height:i,viewBox:a,focusable:"false","aria-hidden":"true",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("defs",null),React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Spectrum_Logo_White",fillRule:"nonzero"},React.createElement("polygon",{id:"Shape",fill:"#0099D8",points:"524.9 34.7 524.9 91.8 562.6 63.2"}),React.createElement("g",{id:"Group",fill:"#FFFFFF"},React.createElement("path",{d:"M93.3,108.9 C93.3,111.3 92.4,113.4 90.7,115.1 C89,116.8 86.9,117.7 84.5,117.7 L75.7,117.7 L75.7,53.2 C75.7,41.1 79.2,32.9 86.3,28.5 C93.4,24.1 101.1,21.9 109.4,21.9 C113.7,21.9 118.1,22.7 122.5,24.4 C126.9,26 130.4,28.4 133,31.5 C138.2,38.2 140.8,46.9 140.8,57.4 C140.8,68.3 138.2,77.1 133,83.8 C127.8,90.4 121.2,93.6 113.1,93.6 C106.6,93.6 102.7,92.9 99.2,91.7 C82.2,85.8 92.7,88 93.4,87.2 L93.4,108.9 L93.3,108.9 Z M122.8,58.2 C122.8,51.5 121.5,46.3 118.9,42.7 C116.3,39.1 112.6,37.3 107.8,37.3 C103.1,37.3 99.5,39.1 96.9,42.7 C94.5,46 93.3,51.2 93.3,58.2 C93.3,64.8 94.6,69.7 97.2,73 C99.8,76.6 103.5,78.4 108.3,78.4 C112.8,78.4 116.3,76.6 118.9,73 C121.5,69.3 122.8,64.4 122.8,58.2 Z",id:"Shape"}),React.createElement("path",{d:"M475.5,91.8 L457.6,91.8 L457.6,51.4 L457.6,47.8 C457.6,43.7 456.3,40.6 453.8,38.7 C451.3,36.8 448.5,35.9 445.4,35.9 C442.3,35.9 439.5,36.9 437.1,38.7 C434.7,40.6 433.5,43.6 433.5,47.8 L433.5,91.8 L415.4,91.8 L415.4,51.4 C415.4,39.7 418.5,31.8 424.6,27.8 C430.7,23.8 437.5,21.7 444.9,21.3 C448.9,21.3 452.8,21.7 456.6,22.6 C460.4,23.5 463.9,25.2 467,27.8 C469.6,25.6 472.7,24 476.2,23 C479.7,22.1 483.4,21.5 487.2,21.3 C494.8,21.3 503.1,21.6 512,27.3 C518.4,31.3 518.9,34.8 518.9,34.8 L518.9,91.8 L508.7,91.8 C506.1,91.8 504,91 502.4,89.3 C500.8,87.7 499.9,85.5 499.9,83 L499.9,47.8 C499.9,43.7 498.6,40.6 496.1,38.7 C493.6,36.8 490.8,35.9 487.7,35.9 C484.6,35.9 481.8,36.9 479.3,38.7 C476.8,40.6 475.5,43.6 475.5,47.8 L475.5,51.4 L475.5,91.8 Z",id:"Shape"}),React.createElement("path",{d:"M400.4,23 C397.8,23 395.7,23.9 394.1,25.6 C392.5,27.3 391.7,29.4 391.7,31.8 L391.7,66.8 C391.7,70.9 390.5,73.9 388,75.8 C385.5,77.7 382.7,78.6 379.6,78.6 C376.5,78.6 373.8,77.7 371.4,75.8 C369,73.9 367.8,70.9 367.8,66.8 L367.8,23 L349.8,23 L349.8,63.2 C349.8,75.1 352.8,82.9 358.9,86.7 C365,90.5 371.7,92.5 379.1,92.9 C386.7,92.9 393.6,91 400,87.2 C406.4,83.4 409.5,75.4 409.5,63.2 L409.5,23 L400.4,23 Z M323.9,91.6 L323.9,56.3 C323.9,51.1 325.1,47.4 327.5,45 C329.9,42.6 333.6,41.4 338.6,41.4 L344.5,41.4 L344.5,23 L343.2,23 L341.9,23 C337.3,23 332.8,23.6 328.4,24.8 C324,26 320.2,27.9 316.9,30.5 C313.5,33.3 310.8,36.9 308.8,41.5 C306.8,46.1 305.8,51.7 305.8,58.4 L305.8,91.6 L323.9,91.6 Z M294.4,73.8 L294.4,41.4 L304.9,41.4 L304.9,23.3 L294.3,23.3 L294.3,11.7 C294.3,9.3 293.4,7.2 291.7,5.5 C290,3.8 288,2.9 285.8,2.9 L276.5,2.9 L276.5,78.7 C276.5,86.6 279.8,90.8 286.4,91.3 C286.4,91.3 293.7,91.7 294.3,91.7 L294.4,73.8 Z M248.4,76.7 C246.3,77.9 243.5,78 240.6,78 C236.1,78 232.8,76.6 230.5,73.9 C227.4,70.6 225.9,65.1 225.9,57.1 C225.9,49.2 227.4,43.5 230.5,40.1 C232.9,37.7 236,36.5 239.8,36.5 C243.9,36.5 247.1,37.7 249.3,40.1 C250.2,41 251,42.2 251.9,44 L269.9,44 C268.5,39 266.5,34.4 263.2,30.9 C257.4,24.8 249.5,21.6 239.2,21.6 C229.4,21.6 221.8,24.8 216.3,31.1 C211,37.3 208.3,45.9 208.3,56.9 C208.3,68.4 211,77.3 216.5,83.4 C222,89.8 229.6,92.9 239.4,92.9 C247.5,92.9 254.2,90.9 259.5,87 C264.8,83.2 268.4,77.7 270.3,70.5 L253.3,70.6 C252.8,72.4 251.7,74.9 248.4,76.7 Z M164.8,40 C167.2,37.6 170.3,36.4 174.1,36.4 C178.2,36.4 181.4,37.6 183.6,40 C185.7,42.2 186.9,45.7 187.2,50.3 L160.9,50.3 C161.1,45.9 162.4,42.5 164.8,40 Z M186.8,74.5 C185.7,75.5 184.6,76.3 184.1,76.6 C182,77.7 177.7,77.9 174.8,77.9 C170.3,77.9 167,76.5 164.7,73.8 C162.3,71.2 161,67.3 160.8,61.9 L205.4,61.9 C205.6,61.6 205.7,61 205.7,60.1 L205.7,59.1 L205.7,57.3 C205.7,46 202.9,37.1 197.5,30.8 C191.8,24.6 183.8,21.5 173.5,21.5 C163.7,21.5 156.1,24.7 150.6,31 C145.3,37.2 142.6,45.8 142.6,56.8 C142.6,68.3 145.3,77.2 150.8,83.3 C156.3,89.7 163.9,92.8 173.7,92.8 C181.8,92.8 188.5,90.8 193.8,86.9 C199.1,83.1 202.7,77.6 204.6,70.4 L189.1,70.4 C188.2,73.2 187.2,74.1 186.8,74.5 Z M10.9,86.2 C16.7,91.2 25.5,93.7 37.2,93.7 C48.5,93.7 57.3,91.3 63.5,86.5 C69.7,81.3 72.8,74.1 72.8,64.9 C72.8,60.6 72,56.6 70,53 C68.2,49.7 65.1,46.6 61.3,44.7 C58.9,43.5 57.5,43 54.5,42.1 C52.7,41.5 51.3,41.1 49.2,40.5 C46.8,39.9 44.6,39.2 41.1,38.2 C39.6,37.8 37,37.2 34.1,36.4 C24.1,34.2 19.7,30.8 19.7,26.2 C19.7,22.8 21,20.1 23.6,18.2 C25.8,16.3 29.5,15.4 34.7,15.4 C40,15.4 44.2,16.5 47.3,18.8 C48.8,20 50,21.5 50.9,23.2 C52.6,26.8 52.2,28.6 52.2,28.6 L69.7,28.6 C69.4,20 66.3,13.1 60.4,7.7 C54.7,2.9 46.7,0.5 36.2,0.5 C25,0.5 16.5,2.8 10.7,7.5 C4.9,12.3 1.9,18.9 1.9,27.3 C1.9,32.1 2.8,36 4.5,39.2 C6.2,42.5 8.3,45.4 11.7,47.4 C14.5,49.1 20.9,51.7 29.2,53.3 L30.4,53.6 L31.9,54 C47.4,57.4 55,61.7 55,67.5 C55,71.1 53.6,73.9 50.9,75.7 C48.4,77.4 44.1,78.5 38.8,78.5 C32.8,78.5 28.1,77.3 24.6,74.9 C21.3,72.8 19.4,69.2 18.7,64.1 L0.7,64.1 C1.1,73.8 4.6,81.2 10.9,86.2 Z",id:"Shape"})))))};var no=function(e){var t=e.username,n=t?t[0]:"A";return React.createElement("div",{className:"user-dropdown"},t&&React.createElement("p",{className:"username"},t),React.createElement("div",{"aria-hidden":"true",className:"user-icon"},n))},ro=function(){return React.createElement("div",{role:"img","aria-label":"Spectrum",className:"site-header-v2-logo"},React.createElement(to,{width:"115",height:"24"}))},io=function(e){var t=e.username,n=e.signOut,r=e.manageAccountLink,i=e.supportLink;return React.createElement(qi,{icon:function(){return React.createElement(no,e)},description:"Account",analyticsEventCaseId:"OneApp_selectAction_buyFlow_generic_signUp_userNameAvatar"},React.createElement(Xi,{key:"accountinfo",href:r,target:"_blank",text:"My Account",action:"manageAccount",icon:React.createElement(Zi,{width:"20",height:"20"})}),React.createElement(Xi,{key:"getsupport",href:i,target:"_blank",text:"Get Support",action:"getSupport",icon:React.createElement(eo,{width:"19",height:"19"})}),React.createElement(Xi,{key:"signout",href:"#",text:"Sign Out",subText:t,action:"signOut",onClick:n}))};var oo=Object($t.connect)(function(e){return{manageAccountLink:Object(u.yd)(e),supportLink:Object(u.zd)(e)}})(function(e){var t=Object(Q.useState)("offers-header"),n=Oe()(t,2),r=n[0],i=n[1],o=e.openDevTools,a={display:e.showDev?"flex":"none"};return Kt(function(e){var t=e.currentPos;i(t>0?"offers-header with-scroll-styles":"offers-header")},[r],150,function(){return document.getElementsByClassName("content")[0].scrollTop||document.getElementsByClassName("main-content-wrapper")[0].scrollTop}),React.createElement("header",{className:r},React.createElement(ro,null),React.createElement("div",{className:"right-items-container"},React.createElement("div",{id:"offers-header-subscribe"}),React.createElement(io,e),React.createElement("div",{style:a},React.createElement("a",{href:"#",style:{marginLeft:"10px"},onClick:o,className:"si si-star","aria-label":"Toggle Dev Tools"}))))});angular.module("ovpApp.components.offersHeader",["lib.platform","ovpApp.legacy.httpUtil","ovpApp.components.modal"]).component("offersHeader",Object(Ct.react2angular)(Object($t.connect)(function(e){return{currentEnvironment:e.config.data.env,hideDevTools:e.config.data.hideDevTools}})(function(e){var t=e.hideDevTools,n=e.currentEnvironment,r=(e.platform,e.httpUtil),i=e.modal,o=l.a.getSelectorValue(Pe.d)?"":l.a.getSelectorValue(Pe.b),a=!1;return n===Y.a.ENVIRONMENT_PRODUCTION||t||(a=!0),React.createElement($t.Provider,{store:e.store},React.createElement(oo,{showDev:a,openDevTools:function(){i.open({component:"environmentDropdown",ariaLabelledBy:"environment-controls-title",ariaDescribedBy:"environment-controls-description",quantumDoNotTrack:!0})},username:o,signOut:function(){Object(y.a)(!1),Object(ye.a)("OneApp_selectAction_buyFlow_generic_signUp_signOut",{msgTriggeredUsing:Object(Li.c)()}),r.logout()}}))}),[],["platform","store","httpUtil","modal"])),angular.module("ovpApp.components.parentHeader",["ovpApp.components.header","ovpApp.components.newHeader","ovpApp.components.offersHeader","ovpApp.directives.ovp-fullscreen"]).component("parentHeader",{templateUrl:"js/components/header/header.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$state:t,ovpFullscreen:n})}return e.$inject=["$state","ovpFullscreen"],e.$inject=["$state","ovpFullscreen"],Ce()(e,[{key:"$onInit",value:function(){this.headerVersion=l.a.getSelectorValue(u.fe)}}]),e}()});var ao=n("LYxj"),so=n("3pjS"),co=function(){function e(t,n){we()(this,e),this.menuData=n,this.OauthService=t}return Ce()(e,[{key:"getMainMenuItems",value:function(){return this.menuData.getMainMenuItems()}}]),e}();co.$inject=["OauthService","menuData"];var lo=function(e){var t=e.menuItem;return React.createElement("li",{key:t.id,className:"header-main-menu-item"},React.createElement("a",{href:t.href,"aria-current":t.isSelected()?"page":null},t.title))};function uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var po=At.a.node,ho=At.a.func,vo=(At.a.object,function(e){In()(n,e);var t=uo(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"resetMargin",function(){r.setState({marginLeft:0})}),f()(Ui()(r),"onArrowLeftClicked",function(){var e,t=r.state.marginLeft,n=r.slider.offsetWidth;e=t>n?t-n:0,r.setState({marginLeft:e})}),f()(Ui()(r),"onArrowRightClicked",function(){var e=r.getRemainingWidth(),t=r.calculateMarginLeft(e);r.setState({marginLeft:t})}),f()(Ui()(r),"calculateMarginLeft",function(e){var t=r.state.marginLeft,n=r.slider.offsetWidth;return e?e<=n?t+e:t+n:t}),f()(Ui()(r),"getRemainingWidth",function(){var e=r.state.marginLeft,t=r.slider?r.slider.offsetWidth:0;return(r.sliderContent?r.sliderContent.offsetWidth:0)-(t+e)}),f()(Ui()(r),"handleResize",function(){return r.updateFn=r.updateFn||Object(Di.a)(200,function(){return r.resetMargin()}),r.updateFn}),f()(Ui()(r),"render",function(){var e=r.state.marginLeft,t=r.getRemainingWidth(),n={marginLeft:"-".concat(e,"px")};return X.a.createElement("div",{className:"component-slider",ref:r.setSliderRef},0!==e&&X.a.createElement(fo,{onArrowLeftClicked:r.onArrowLeftClicked,renderLeftArrowProps:r.props.renderLeftArrow}),X.a.createElement("div",{className:"component-slider-container"},X.a.createElement("ul",{className:"slider-content",ref:r.setSliderContentRef,style:n},r.props.children)),t>0&&X.a.createElement(mo,{onArrowRightClicked:r.onArrowRightClicked,renderRightArrowProps:r.props.renderRightArrow}))}),r.setSliderRef=function(e){r.slider=e},r.setSliderContentRef=function(e){r.sliderContent=e},r.state={marginLeft:0},r}return Ce()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize()),this.resetMargin()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize())}}]),n}(Q.Component));f()(vo,"propTypes",{children:po.isRequired,renderLeftArrow:ho,renderRightArrow:ho}),f()(vo,"defaultProps",{renderLeftArrow:function(){return X.a.createElement(ir,{fill:"#fff"})},renderRightArrow:function(){return X.a.createElement(or,{fill:"#fff"})}});var fo=function(e){var t=e.onArrowLeftClicked,n=e.renderLeftArrowProps;return X.a.createElement("button",{className:"btn-reset control-arrow arrow-left","aria-label":"scroll navigation backwards",tabIndex:"-1",onClick:function(){return t()}},n())},mo=function(e){var t=e.onArrowRightClicked,n=e.renderRightArrowProps;return X.a.createElement("button",{className:"btn-reset control-arrow arrow-right","aria-label":"scroll navigation forwards",tabIndex:"-1",onClick:function(){return t()}},n())};function go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var bo="998",yo=function(e){In()(n,e);var t=go(n);function n(e){var r,i=this;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"setHeaderContentWidth",Object(Di.a)(200,function(){var e=r.headerContent&&r.headerContent.offsetWidth;r.setState({headerWidth:e})})),f()(Ui()(r),"showDevTools",function(){r.props.modal.open({component:"environmentDropdown",ariaLabelledBy:"environment-controls-title",ariaDescribedBy:"environment-controls-description",quantumDoNotTrack:!0})}),f()(Ui()(r),"LogoContainer",function(){return React.createElement("p",{className:"site-header-v2-logo"},React.createElement(to,{width:"115",height:"24"}))}),f()(Ui()(r),"PrimaryNav",function(){var e=r.props.mainMenuItems.filter(function(e){return"search"!==e.id&&"settings"!==e.id&&!e.hidden}).map(function(e){return React.createElement(lo,{menuItem:e,key:e.id})}),t=r.state.headerWidth,n=Object(b.c)(r.props,"$state.current.data.hideMenu",!1);return React.createElement("nav",{className:"header-menu-items nav-primary",style:null!==t&&t<=bo?{borderTop:"1px solid rgb(112,130,156, 0.5)",borderBottom:"1px solid rgb(112,130,156, 0.5)"}:null,"aria-label":"primary"},!n&&React.createElement(vo,null,e))}),f()(Ui()(r),"UtilityNav",function(){return React.createElement("nav",{className:"nav-utility","aria-label":"utility"},r.props.isAuthenticated&&!1===Object(b.c)(r.props,"$state.current.data.hideMenu",!1)?React.createElement(i.UtilityNavWhenLoggedIn,null):React.createElement(i.UtilityNavWhenNotLoggedIn,null))}),f()(Ui()(r),"MenuButton",function(){return React.createElement("span",{className:"si si-menu"})}),f()(Ui()(r),"getAccountLink",function(){return React.createElement(Xi,{key:"accountinfo",href:r.props.config.offCanvasMenu.manageAccountLink,target:"_blank",text:"My Account",action:"manageAccount",icon:React.createElement(Zi,{width:"20",height:"20"})})}),f()(Ui()(r),"getSupportLink",function(){return React.createElement(Xi,{key:"getsupport",href:r.props.config.offCanvasMenu.getSupportLink,target:"_blank",text:"Get Support",action:"getSupport",icon:React.createElement(eo,{width:"19",height:"19"})})}),f()(Ui()(r),"getSignOutLink",function(){var e=l.a.getSelectorValue(ao.b);return React.createElement(Xi,{key:"signout",href:"#",text:"Sign Out",subText:e,action:"signOut",onClick:r.signOut.bind(Ui()(r))})}),f()(Ui()(r),"UtilityNavWhenLoggedIn",function(){var e=r.props.mainMenuItems,t=e.find(function(e){return"search"===e.id&&!e.hidden}),n=e.find(function(e){return"settings"===e.id&&!e.hidden});return React.createElement("ul",null,t&&React.createElement("li",null,React.createElement("a",{href:"search"},React.createElement("span",{className:"si si-search"}),React.createElement("span",{role:"presentation",className:"sr-only"},"Search"))),n&&React.createElement("li",null,React.createElement("a",{href:"settings"},React.createElement("span",{className:"si si-settings"}),React.createElement("span",{role:"presentation",className:"sr-only"},"Settings"))),React.createElement("li",null,React.createElement(i.DropdownMenuContainer,null)),React.createElement("li",null,React.createElement("a",{href:"#",accessKey:"t",onClick:r.showDevTools,className:"si si-star","aria-label":"Toggle Dev Tools"})))}),f()(Ui()(r),"UtilityNavWhenNotLoggedIn",function(){return React.createElement("ul",null,React.createElement("li",null,React.createElement(i.DropdownMenuContainer,null)),React.createElement("li",null,React.createElement("a",{href:"#",accessKey:"t",onClick:r.showDevTools,className:"si si-star","aria-label":"Toggle Dev Tools"})))}),f()(Ui()(r),"DropdownMenuContainer",function(){return React.createElement(qi,{icon:r.MenuButton,description:"Account"},r.getAccountLink(),r.getSupportLink(),r.props.isAuthenticated&&r.getSignOutLink())}),f()(Ui()(r),"playerOnMouseMove",function(){r.state.isValidPlayState&&r.props.playerOverlayTimer.onMouseMove()}),f()(Ui()(r),"startOverlayTimer",function(){r.state.isValidPlayState&&r.props.playerOverlayTimer.startOverlayTimer()}),r.headerRef=function(e){r.headerContent=e},r.state={headerWidth:null,showHeader:!0,isValidPlayState:!1},r}return Ce()(n,[{key:"componentDidUpdate",value:function(){this.props.isAuthenticated&&!this.props.isLoading&&this.props.mainMenuItems.length<=0&&this.props.fetchMainMenuItems()}},{key:"navigateToManageAccount",value:function(){this.props.$rootScope.$emit("Analytics:selectAction-globalMenu-manageAccount"),window.location.href=this.props.config.offCanvasMenu.manageAccountLink}},{key:"navigateToGetSupport",value:function(){this.props.$rootScope.$emit("Analytics:selectAction-globalMenu-getSupport"),window.location.href=this.props.config.offCanvasMenu.getSupportLink}},{key:"signOut",value:function(){var e=this.props.$state;this.props.$rootScope.$emit("Analytics:selectAction-navigationClick-signOut"),this.isSpecU()&&"ovp.specuwelcome"!==this.props.$state.current.name&&"ovp.specuerror"!==e.current.name?this.props.modal.open({showCloseIcon:!1,windowClass:"specu-page",component:"specuSignout",ariaLabelledBy:"labelText",ariaDescribedBy:"descriptionBlockText"}):this.isBulkMDU()&&"ovp.bulkmduwelcome"!==this.props.$state.current.name&&"ovp.bulkmdueula"!==e.current.name&&"ovp.bulkmduerror"!==e.current.name?this.props.modal.open({showCloseIcon:!1,windowClass:"bulk-mdu-page",component:"kite-confirm",ariaLabelledBy:"labelText",ariaDescribedBy:"descriptionBlockText"}):this.props.httpUtil.logout()}},{key:"isSpecU",value:function(){return 0===this.props.$state.current.name.indexOf("ovp.specu")||this.props.capabilitiesService.isSpecU()}},{key:"isBulkMDU",value:function(){return this.props.capabilitiesService.isBulkMDU()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.setHeaderContentWidth),setTimeout(function(){var t=e.headerContent&&e.headerContent.offsetWidth;e.setState({headerWidth:t})},0),this.props.$transitions.onSuccess({},function(){var t=e.props.playerService.isValidPlayState();t?e.setState({isValidPlayState:t}):(e.props.playerOverlayTimer.clearOverlayTimer(),e.setState({showHeader:!0,isValidPlayState:t}))}),this.props.$rootScope.$on("chromecast:connection-changed",function(t,n){n&&e.startOverlayTimer()}),this.props.$rootScope.$on("playerOverlayTimer:hide",function(){e.props.playerService.isValidPlayState()&&e.setState({showHeader:!1})}),this.props.$rootScope.$on("playerOverlayTimer:show",function(){e.setState({showHeader:!0})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setHeaderContentWidth)}},{key:"render",value:function(){var e=this.state,t=e.headerWidth,n=e.showHeader,r=e.isValidPlayState,i=this.props.isLoading,o="".concat(n&&!i?"slide-open":""),a="".concat(r?"use-player-header":"");return React.createElement("div",{className:"site-header-v2-parent ".concat(o," ").concat(a),onFocus:this.startOverlayTimer},React.createElement("div",{className:"site-header-v2-nav-triangle-pattern ".concat(o),style:{display:n&&!i?"block":"none"}}),null===t||t>bo?React.createElement("header",{onMouseMove:this.playerOnMouseMove,onKeyDown:this.startOverlayTimer,className:"site-header-v2 ".concat(o),ref:this.headerRef},React.createElement(this.LogoContainer,null),React.createElement(this.PrimaryNav,null),React.createElement(this.UtilityNav,null)):React.createElement("header",{onMouseMove:this.playerOnMouseMove,onKeyDown:this.startOverlayTimer,className:"site-header-v2 ".concat(o," ").concat(a),ref:this.headerRef},React.createElement("a",{href:"#screen_title",className:"sr-only"},"Skip to main content"),React.createElement(this.LogoContainer,null),React.createElement(this.UtilityNav,null),React.createElement(this.PrimaryNav,null)))}}]),n}(Q.Component);function So(e){var t=e.radius,n=e.width,r=e.height,i=e.emptyColor,o=e.filledColor,a=e.percentComplete,s=t*Math.PI*2;return X.a.createElement(X.a.Fragment,null,X.a.createElement("svg",{focusable:"false","aria-hidden":"true",className:"meter",width:n,height:r,viewBox:"0 0 20 20",style:{transform:"rotate(-90deg)"}},X.a.createElement("circle",{className:"total-ring",stroke:i,strokeWidth:"2",fill:"none",r:t,cx:"10",cy:"10"}),X.a.createElement("circle",{className:"progress-ring",stroke:o,strokeWidth:"2",fill:"none",r:t,cx:"10",cy:"10",strokeDashoffset:s*(1-a),strokeDasharray:s})))}angular.module("ovpApp.components.newHeader",["ui.router","ovpApp.components.modal","lib.platform","ovpApp.legacy.httpUtil","ovpApp.services.capabilitiesService"]).component("newSiteHeader",Object(Ct.react2angular)(Object($t.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isLoading:e.mainMenuItems.inProgress,mainMenuItems:e.mainMenuItems.data}},function(e){return{fetchMainMenuItems:function(){return e(Object(so.d)())}}})(yo),[],["$rootScope","$state","analyticsService","platform","mainMenuService","store","modal","httpUtil","capabilitiesService","playerOverlayTimer","$transitions","playerService"])).service("mainMenuService",co),So.propTypes={percentComplete:At.a.number.isRequired,filledColor:At.a.string,emptyColor:At.a.string,width:At.a.number,height:At.a.number,radius:At.a.number},So.defaultProps={emptyColor:"#36465c",filledColor:"white",radius:9,width:20,height:20};var wo=So,ko=function(e){var t=e.daysRemaining,n=e.totalTime;return React.createElement("span",{className:"circle-counter"},React.createElement(wo,{percentComplete:t/n,filledColor:"#ffd400",emptyColor:"#0073d1",width:30,height:30}),React.createElement("span",{"aria-hidden":"true",className:"remaining-count"},t))},Co=function(){return React.createElement("div",{className:"subscribe-button-container"},React.createElement("a",{href:"/buyflow"},"Subscribe"))},$o=function(e){var t=e.daysRemaining,n="Subscribe. ".concat(t," days left of free preview"),r=Object(Q.useState)("".concat(t," days of your preview remain.")),i=Oe()(r,2),o=i[0],a=i[1];return Object(Q.useEffect)(function(){a("".concat(t," days of your preview remain."));var e=setTimeout(function(){a("")},1e3);return function(){return clearTimeout(e)}},[t]),React.createElement("div",{className:"subscribe-button-container"},React.createElement("div",{className:"sr-only",role:"status"},o),React.createElement(vn,{type:"OVP_selectAction_freePreview_subscribe",uiLabel:"Subscribe"},React.createElement("a",{href:"/buyflow","aria-label":n},React.createElement("span",{"aria-hidden":"true",className:"text-container"},React.createElement("span",{className:"small-text"},"Days Left"),React.createElement("span",null,"Subscribe")),React.createElement(ko,e))))};var To=Object($t.connect)(function(e){return{expirationDate:Object(re.q)(e),startDate:Object(re.s)(e),isFrontPorch:Object(re.R)(e),isActiveFreePreview:Object(re.N)(e),daysRemaining:Math.max(Object(re.p)(e),1)}})(function(e){var t=e.expirationDate,n=e.startDate,r=e.isActiveFreePreview,i=e.isFrontPorch,o=e.daysRemaining,a=ee()(t-n).milliseconds(0).valueOf(),s=Math.ceil(a/86400);return React.createElement(React.Fragment,null,r?React.createElement($o,{totalTime:s,daysRemaining:o}):i?React.createElement(Co,null):null)});angular.module("ovpApp.component.subscribeLink",[]).component("subscribeLink",Object(Ct.react2angular)(function(e){return React.createElement($t.Provider,{store:e.store},React.createElement(To,null))},[],["store"]));angular.module("ovpApp.components.support",["ovpApp.directives.focus"]).component("supportInfoMessage",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/support/info.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{version:t,$rootScope:n})}return e.$inject=["version","$rootScope"],e.$inject=["version","$rootScope"],Ce()(e,[{key:"$onChanges",value:function(e){if(e.resolve)if(this.supportInfo=this.resolve.supportInfo,this.modalText="Need Help or Have Questions?",-1===this.supportInfo.email.indexOf("subject=")){var t=this.supportInfo.email.split("?").length>1?"&":"?";this.supportInfo.emailSubject=this.supportInfo.emailSubject||"Spectrum Support",this.supportInfo.email=this.supportInfo.email+t+"subject=".concat(this.supportInfo.emailSubject)}else this.supportInfo.emailSubject=this.supportInfo.email.split("?")[1].split("&").find(function(e){return 0===e.indexOf("subject=")}).split("=")[1]}},{key:"clickEmail",value:function(e){Object(y.j)("SpecU_selectAction_settingsSupport_supportEmailAddress",{msgTriggeredUsing:"click"===e.type?"mouse":"keyboard"})}},{key:"clickPhone",value:function(e){Object(y.j)("SpecU_selectAction_settingsSupport_supportPhoneNumber",{msgTriggeredUsing:"click"===e.type?"mouse":"keyboard"})}},{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x"+(this.activeCloseIcon?"-active":"")+".svg"}}]),e}()}),angular.module("ovpApp.components.header",["ovpApp.components.header.toggler","ovpApp.components.header.data","ovpApp.components.header.menuItem","ovpApp.components.header.globalSearch","ovpApp.components.ooh","ovpApp.components.settingsMenu","ovpApp.remotePlayer.setTopConnection","ovpApp.messages","ovpApp.legacy.httpUtil","ovpApp.search.input","ovpApp.services.stbService","ovpApp.components.mainMenu","ui.bootstrap","ui.router","ovpApp.oauth","ovpApp.directives.focus","ovpApp.components.offCanvasMenu","ovpApp.components.modal","ovpApp.components.support","ovpApp.components.specu.signout","ovpApp.components.bulkMDU.signout","ovpApp.services.easService","ovpApp.services.chromecast","ovpApp.services.playerOverlayTimer","ovpApp.directives.keydown","ovpApp.player.playerService","ovpApp.components.environmentDropdown","ovpApp.component.subscribeLink"]).component("siteHeader",{templateUrl:"js/components/header/site-header.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g){we()(this,e),angular.extend(this,{httpUtil:t,OauthService:n,$state:r,modal:i,OauthDataManager:ut.a,$window:o,capabilitiesService:a,OvpSrcService:s,$http:c,$rootScope:l,easService:u,playerService:d,$transitions:p,$timeout:h,playerOverlayTimer:v,ovpFullscreen:f,browserSupport:m,chromecastService:g})}return e.$inject=["httpUtil","OauthService","$state","modal","$window","capabilitiesService","OvpSrcService","$http","$rootScope","easService","playerService","$transitions","$timeout","playerOverlayTimer","ovpFullscreen","browserSupport","chromecastService"],e.$inject=["httpUtil","OauthService","$state","modal","$window","capabilitiesService","OvpSrcService","$http","$rootScope","easService","playerService","$transitions","$timeout","playerOverlayTimer","ovpFullscreen","browserSupport","chromecastService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.showDev=!1,this.isUnsupportedBrowser=this.browserSupport.isUnSupportedBrowser(),this.canUseTv=!1,this.showDev=!l.a.getSelectorValue(u.dg)&&!l.a.getSelectorValue(u.sc),this.usePlayerHeader=!1,this.disableSignout=l.a.getSelectorValue(u.eg),this.OauthService.waitUntilAuthenticated().then(function(){e.loggedIn=!0,e.capabilitiesService.canUseTwctv().then(function(){e.canUseTv=!0})}),this.$transitions.onSuccess({},function(){e.usePlayerHeader=e.playerService.isValidPlayState(),e.showHeader=e.usePlayerHeader}),this.$rootScope.$on("chromecast:connection-changed",function(t,n){n&&e.playerOverlayTimer.startOverlayTimer()}),this.$rootScope.$on("playerOverlayTimer:hide",function(){e.showHeader=!1}),this.$rootScope.$on("playerOverlayTimer:show",function(){e.showHeader=!0})}},{key:"toggleMiniGuide",value:function(){this.$state.current.name.startsWith("ovp.ondemand.play")||(this.chromecastService.isCasting()?this.$rootScope.$emit("mini-guide:toggle"):this.playerOverlayTimer.toggleMiniGuide())}},{key:"showDevTools",value:function(){this.modal.open({component:"environmentDropdown",ariaLabelledBy:"environment-controls-title",ariaDescribedBy:"environment-controls-description",quantumDoNotTrack:!0})}},{key:"isSpecU",value:function(){return 0===this.$state.current.name.indexOf("ovp.specu")||this.capabilitiesService.isSpecU()}},{key:"isSpecUDomainSearch",value:function(){return 0===this.$state.current.name.indexOf("ovp.specuDomainSearch")}},{key:"isLoginOrWelcomePage",value:function(){return"login"===this.$state.current.name||"ovp.loginWelcome"===this.$state.current.name||"ovp.parentalControlWarning"===this.$state.current.name}},{key:"isBulkMDU",value:function(){return this.capabilitiesService.isBulkMDU()}},{key:"isMenuVisible",value:function(){return l.a.getSelectorValue(u.xd)}},{key:"signOut",value:function(){this.$rootScope.$emit("Analytics:selectAction-navigationClick-signOut"),this.isSpecU()&&"ovp.specuwelcome"!==this.$state.current.name&&"ovp.specuerror"!==this.$state.current.name?this.modal.open({showCloseIcon:!1,windowClass:"specu-page",component:"specuSignout",ariaLabelledBy:"labelText",ariaDescribedBy:"descriptionBlockText"}):this.isBulkMDU()&&"ovp.bulkmduwelcome"!==this.$state.current.name&&"ovp.bulkmdueula"!==this.$state.current.name&&"ovp.bulkmduerror"!==this.$state.current.name?this.modal.open({showCloseIcon:!1,windowClass:"bulk-mdu-page",component:"bulkMDUSignout",ariaLabelledBy:"labelText",ariaDescribedBy:"descriptionBlockText"}):this.httpUtil.logout()}},{key:"signOutText",value:function(){return"ovp.specuwelcome"===this.$state.current.name||"ovp.specuerror"===this.$state.current.name||"ovp.loginWelcome"===this.$state.current.name||"ovp.bulkmduwelcome"===this.$state.current.name||"ovp.bulkmdueula"===this.$state.current.name||"ovp.bulkmduerror"===this.$state.current.name?"Sign In":"Sign Out"}},{key:"isSpecUActivate",value:function(){return"ovp.specuActivate"===this.$state.current.name||"ovp.specuDomainSearch"===this.$state.current.name}},{key:"getLogoPath",value:function(){return l.a.getSelectorValue(u.qc)}},{key:"getLogoAltText",value:function(){return l.a.getSelectorValue(u.pc)}},{key:"toggleOffCanvasMenu",value:function(){var e=this;this.$rootScope.$emit("Analytics:selectAction-navigationClick-globalMenu"),this.modal.open({showCloseIcon:!1,windowClass:"off-canvas-menu",component:"offCanvasMenu",resolve:{userName:function(){return e.loggedIn?e.OauthDataManager.get().username:""},loggedIn:this.loggedIn}}),angular.element(this.$window.document).find("body").addClass("off-canvas-scrollbar")}},{key:"openSupportDialog",value:function(){var e=this;if(l.a.getSelectorValue(u.gg)){this.$rootScope.$emit("Analytics:selectAction-navigationClick-support");var t=l.a.getSelectorValue(u.Ie),n={withCredentials:!0};this.modal.open({showCloseIcon:!1,windowClass:"support-info-message",component:"supportInfoMessage",ariaDescribedBy:"support-info-description",ariaLabelledBy:"support-info-title",resolve:{supportInfo:function(){return e.$http.get(t,n).then(function(e){var t=e.data.metaData;return{name:t.Title,helpdesk:t.SupportName,email:t.SupportEmail,phone:t.SupportPhone,emailSubject:l.a.getSelectorValue(u.He)}})},options:{analytics:{modal:{show:"OVP_settingsSupport_modalView",payload:{modalText:"Need Help or Have Questions?"}}}}}})}else this.openSupportLinkAnalytics()}},{key:"onKeyDown",value:function(e){"Escape"===e.key?this.playerOverlayTimer.hideOverlays():this.playerOverlayTimer.startOverlayTimer()}},{key:"openSupportLinkAnalytics",value:function(){this.$rootScope.$emit("Analytics:selectAction-navigationClick-support"),this.$window.location.href=l.a.getSelectorValue(u.Ge)}},{key:"goToBuyflow",value:function(){this.$state.go("ovp.offers")}}]),e}()}),angular.module("ovpApp.components.mainMenu",["ovpApp.components.header.data","ovpApp.components.header.menuItem","ovpApp.oauth","ovpApp.services.playerOverlayTimer"]).component("mainMenu",{templateUrl:"js/components/header/main-menu.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$transitions:t,menuData:n,OauthService:r,playerOverlayTimer:i}),this.selectedItem=null,this.menuCollapsed=!0}return e.$inject=["$transitions","menuData","OauthService","playerOverlayTimer"],e.$inject=["$transitions","menuData","OauthService","playerOverlayTimer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.OauthService.waitUntilAuthenticated().then(function(){return e.menuData.getMainMenuItems()}).then(function(t){e.menuItems=t.filter(function(e){return"search"!==e.id}),l.a.getSelectorValue(re.N)&&(e.menuItems=e.menuItems.filter(function(e){return"store"!==e.id})),e.setSelected()}),this.$transitions.onSuccess({},function(){return e.setSelected()})}},{key:"setSelected",value:function(){this.menuItems&&(this.selectedItem=this.menuItems.find(function(e){return e.isSelected()}),this.menuCollapsed=!0)}},{key:"toggleMenu",value:function(){this.menuCollapsed=!this.menuCollapsed}},{key:"menuItemOnKeyDown",value:function(e,t,n){n&&9===n.keyCode&&(e&&n.shiftKey||t&&!n.shiftKey)&&(this.menuCollapsed=!0)}}]),e}()}),angular.module("ovpApp.components.offCanvasMenu",["ovpApp.directives.focus","ovpApp.legacy.httpUtil"]).component("offCanvasMenu",{bindings:{modalInstance:"<",resolve:"<"},templateUrl:"js/components/header/off-canvas-menu.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{httpUtil:t,$scope:n,$window:r,version:i,$rootScope:o})}return e.$inject=["httpUtil","$scope","$window","version","$rootScope"],e.$inject=["httpUtil","$scope","$window","version","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.userName=this.resolve.userName,this.loggedIn=this.resolve.loggedIn,this.$scope.$on("modal.closing",function(){angular.element(e.$window.document).find("body").removeClass("off-canvas-scrollbar")})}},{key:"closeOffCanvasModal",value:function(){this.modalInstance.dismiss()}},{key:"signOut",value:function(){this.$rootScope.$emit("Analytics:selectAction-globalMenu-signOut"),this.httpUtil.logout()}},{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x-22-x-22"+(this.activeCloseIcon?"-active":"")+".svg"}},{key:"watchTV",value:function(){this.$rootScope.$emit("Analytics:selectAction-globalMenu-watchTv"),this.modalInstance.dismiss()}},{key:"getSupport",value:function(){this.$rootScope.$emit("Analytics:selectAction-globalMenu-getSupport")}},{key:"manageAccount",value:function(){this.$rootScope.$emit("Analytics:selectAction-globalMenu-manageAccount")}},{key:"manageAccountLink",value:function(){return l.a.getSelectorValue(u.yd)}},{key:"supportLink",value:function(){return l.a.getSelectorValue(u.zd)}}]),e}()}),function(){function e(e,t){return{source:t.Observable.create(function(t){return e.onSuccess({},function(e){t.onNext(e)})}).map(function(e){return e.to().name.startsWith("search")}).distinctUntilChanged().shareReplay(1)}}e.$inject=["$transitions","rx"],e.$inject=["$transitions","rx"],angular.module("ovpApp.components.header.toggler",["rx","ui.router"]).factory("headerToggler",e)}();n("mRH6");!function(){function e(e,t,n,r,i,o,a,s,c,d){var p={getMainMenuItems:function(){var t=l.a.getSelectorValue(u.Kc);return a.isAuthenticated().then(function(n){return n?e.all([function(){var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[t.length]=m(h[n]));return e.all(t)}()]).then(function(e){var n=[];return t.forEach(function(e){var t=h[e.feature];t?(angular.extend(t,e),t.title=e.title,t.index=n.length+1,n[n.length]=t):i.warn('Unrecognized menu item: "'.concat(e.title,'". Omitting.'))}),n},function(){return i.error("failed to load menu"),e.reject("failed to load menu")}):e.reject("Not logged in")})}},h={},v="";return function(){h={watchTv:{id:"livetv",appSection:"liveTv",href:"/livetv",label:"Live TV and Mini Guide",link:"ovp.livetv",eventCaseId:"OneApp_selectAction_navigationClick_liveTv",disabledErrorCode:function(){return"WUC-1112"},requires:t.LIVE,isSelected:function(){return v.toLowerCase().startsWith("ovp.livetv")}},guide:{id:"guide",appSection:"guide",href:"/guide",link:"ovp.guide",code:-1,eventCaseId:"OneApp_selectAction_navigationClick_guide",disabledErrorCode:function(){return!this.code||this.code!==n.STB_NONE&&this.code!==n.STB_UNREACHABLE?"WGE-1002":"WCM-1006"},requires:t.GUIDE},vodPortal:{id:"ondemand",appSection:"curatedCatalog",href:"/ondemand",link:"ovp.ondemand",eventCaseId:"OneApp_selectAction_navigationClick_onDemand",disabledErrorCode:function(){return"WGE-1002"},requires:t.ONDEMAND,isSelected:function(){return v.startsWith("ovp.ondemand")&&!v.startsWith("ovp.ondemand.rent")}},dvr:{id:"dvr",appSection:"dvrManager",href:"/rdvr",link:"ovp.dvr",code:-1,eventCaseId:"OneApp_selectAction_navigationClick_dvrManager",disabledErrorCode:function(){return!this.code||this.code!==n.RDVR_DISABLED&&this.code!==n.RDVR_UNREACHABLE&&this.code!==n.RDVR_NONE?this.code===n.INVALID_RDVR?"WRDV-1009":"WCM-1006":"WCM-1008"},requires:function(){var i=t.RDVR;return e.all([r.hasCapability(i),r.isHidden(i)]).then(function(e){var t=Oe()(e,2),o=t[0],a=t[1];return o?d.hasSupportedDVR().then(function(e){return e?{enabled:o,hidden:a}:{enabled:!1,hidden:!1,code:n.INVALID_RDVR}}):r.getCode(i).then(function(e){return{enabled:!1,hidden:a,code:e}})})}},cdvr:{id:"watchAnytime",appSection:"dvrManager",href:"/cdvr",link:"ovp.cdvr",eventCaseId:"OneApp_selectAction_navigationClick_dvrManager",disabledErrorCode:function(){return"WGE-1002"},requires:t.CDVR},vodStore:{id:"store",appSection:"curatedCatalog",href:"/store",link:"ovp.store",linkParams:{category:null,page:void 0},eventCaseId:"OneApp_selectAction_navigationClick_videoStore",disabledMessageCode:function(){return"MSG-9104"},disabledMessageOptionOverride:{resolve:{analyticsModalName:"videoStoreUnavailable"}},requires:function(){var n=l.a.getSelectorValue(u.Ze),i=t.TVOD;return e.all([r.hasCapability(i),r.isHidden(i)]).then(function(e){var t=Oe()(e,2),r=t[0],i=t[1];return{enabled:!!n&&r,hidden:!n||i}})},isSelected:function(){return v.startsWith("ovp.store")||v.startsWith("ovp.ondemand.rent")}},autoComplete:{id:"search",link:"search.recent",label:"Search",requires:t.SEARCH,isSelected:function(){return v.startsWith("search")},disabledErrorCode:function(){return"WGE-1002"}},settings:{id:"settings",appSection:"settings",href:"/settings",link:"ovp.settings",eventCaseId:"OneApp_selectAction_navigationClick_settings"},myLibrary:{id:"mylibrary",appSection:"myLibrary",href:"/mylibrary",link:"ovp.mylibrary.default",eventCaseId:"OneApp_selectAction_navigationClick_myLibrary",disabledErrorCode:function(){return"WGE-1002"}}};var i=function(e){Object.prototype.hasOwnProperty.call(h,e)&&angular.isUndefined(h[e].isSelected)&&(h[e].isSelected=function(){return v.startsWith(h[e].link)})};for(var o in h)i(o)}(),s.Observable.create(function(e){var t=c.onSuccess({},function(t){e.onNext(t)});return t}).map(function(e){return e.to()}).startWith(o.current).filter(f).subscribe(function(e){return v=e.name}),p;function f(e){return(e.name.startsWith("ovp")||e.name.startsWith("search"))&&!e.name.startsWith("ovp.ondemand.playEpisodeWithDetails")&&!e.name.startsWith("ovp.ondemand.playProduct")&&!e.name.startsWith("ovp.ondemand.playCdvr")}function m(t){var n=t.requires;return l.a.getSelectorValue(re.R)?(l.a.getSelectorValue(u.rc).indexOf(t.id)>-1?(t.enabled=!1,t.hidden=!0):(t.enabled=!0,t.hidden=!1),e.resolve(!0)):Object(b.d)(n)?n().then(function(e){var n=e.enabled,r=e.hidden,i=e.code;t.enabled=n,t.hidden=r,i&&(t.code=i)}):n?e.all([r.hasCapability(n),r.isHidden(n)]).then(function(e){var i=Oe()(e,2),o=i[0],a=i[1];if(t.enabled=o,t.hidden=a,!o)return r.getCode(n).then(function(e){t.code=e})}):(t.enabled=!0,e.resolve(!0))}}e.$inject=["$q","CAPABILITIES","CAPABILITIES_ERROR_CODES","capabilitiesService","$log","$state","OauthService","rx","$transitions","stbService"],e.$inject=["$q","CAPABILITIES","CAPABILITIES_ERROR_CODES","capabilitiesService","$log","$state","OauthService","rx","$transitions","stbService"],angular.module("ovpApp.components.header.data",["ovpApp.services.capabilitiesService","ovpApp.services.stbService","ovpApp.oauth","rx"]).factory("menuData",e)}(),function(){function e(e,t,n,r){var i=this;function o(){i.item.eventCaseId&&Object(ye.a)(i.item.eventCaseId),i.item.enabled?(fe(i.item.appSection),t.go(i.item.link,i.item.linkParams,i.item.linkOptions)):function(){var e=i.item.disabledMessageOptionOverride||{};i.item.disabledErrorCode?r.errorAlert(i.item.disabledErrorCode(),{},e):i.item.disabledMessageCode&&r.messageAlert(i.item.disabledMessageCode(),{},e)}(),i.onClick&&i.onClick()}i.itemClicked=o,i.itemMouseUp=function(e){i.onMouseup&&i.onMouseup(e)},i._private={itemClicked:o}}e.$inject=["$element","$state","$rootScope","kiteModalService"],e.$inject=["$element","$state","$rootScope","kiteModalService"],angular.module("ovpApp.components.header.menuItem",["ovpApp.services.kiteModal","ui.router"]).directive("menuItem",function(){return{bindToController:!0,controller:e,controllerAs:"vm",templateUrl:"js/components/header/menu-item.html",restrict:"E",replace:!0,scope:{item:"=",onClick:"=",onMouseup:"=",isCollapsed:"="}}}).controller("MenuItemController",e)}(),angular.module("ovpApp.components.ooh",["ovpApp.messages","ovpApp.filters.toTrusted","ovpApp.services.kiteModal","ovpApp.services.capabilitiesService","ovpApp.directives.svgPath","ovpApp.services.oohService"]).component("ooh",{templateUrl:"js/components/header/ooh/ooh.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$timeout:t,messages:n,$scope:r,$rootScope:i,kiteModalService:o,OauthService:a,capabilitiesService:s,oohService:c,$q:l,$state:u})}return e.$inject=["$timeout","messages","$scope","$rootScope","kiteModalService","OauthService","capabilitiesService","oohService","$q","$state"],e.$inject=["$timeout","messages","$scope","$rootScope","kiteModalService","OauthService","capabilitiesService","oohService","$q","$state"],Ce()(e,[{key:"$onInit",value:function(){this.tooltip=te.a.getErrorInfo("WLC-1005").message,this.status={isopen:!1},this.bannerMessage=this.capabilitiesService.isSpecUTA()||this.capabilitiesService.isSpecU()?l.a.getSelectorValue(u.ne):l.a.getSelectorValue(u.dc),this.isFirstCheck=null}},{key:"$postLink",value:function(){this.checkLocation()}},{key:"toggleDropdown",value:function(e){e.preventDefault(),e.stopPropagation(),this.status.isopen=!this.status.isopen}},{key:"onBannerClicked",value:function(){this.$rootScope.$emit("Analytics:select-banner-ooh"),this.oohService.showOohModal()}},{key:"showOutOfUSMessage",value:function(){this.$rootScope.$emit("Analytics:error",{errorCode:"WLC-1002",errorMessage:te.a.getErrorInfo("WLC-1002").message,errorType:"application"}),this.kiteModalService.errorAlert("WLC-1002")}},{key:"setFirstCheck",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFirstCheck=e}},{key:"checkLocation",value:function(){var e=this;this.OauthService.waitUntilAuthenticated().then(function(){e.$q.all([e.capabilitiesService.isOOHAuthorized(),me.a.getLocation(),e.capabilitiesService.isOTT()]).then(function(t){var n=Oe()(t,3),r=n[0],i=(n[1],n[2]);e.setFirstCheck("boolean"!=typeof C.a.getItem(k.b.inHome));var o=l.a.getSelectorValue(ge.d);C.a.setItem(k.b.inHome,o);var a=l.a.getSelectorValue(ge.g);r&&!i&&a&&e.locationHandler(),l.a.subscribe(l.a.watch("location.data")(function(){l.a.getSelectorValue(ge.g)&&e.locationHandler()}))})})}},{key:"locationHandler",value:function(){var e=this,t=!0===C.a.getItem(k.b.inHome),n=l.a.getSelectorValue(ge.d);C.a.setItem(k.b.inHome,n),this.isOoh=!n;var r=l.a.getSelectorValue(ge.f),i=l.a.getSelectorValue(u.md);if(!r){var o=l.a.getSelectorValue(Pe.a);"SPECU"===(null===o||void 0===o?void 0:o.accountType)?this.$state.go("ovp.oohLoginErrorScreen".concat(i)):this.showOutOfUSMessage()}if(!n&&(this.isFirstCheck||t!==n)){this.setFirstCheck(!1);var a=l.a.getSelectorValue(u.Wd);this.capabilitiesService.isOOHAuthorized().then(function(t){if(!t&&a){if(l.a.getSelectorValue(u.cg)&&l.a.getSelectorValue(ge.c))return e.$state.go("ovp.privateRelayErrorScreen",{errorCode:"WLI-1042"});e.$state.go("ovp.oohLoginErrorScreen".concat(i))}else e.oohService.showOohModal()})}}}]),e}()});n("ycbE"),n("1Mgq");var Oo,Eo=n("YTiU");function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Po=(Oo={},f()(Oo,Eo.g.LINEAR,ie.n),f()(Oo,Eo.g.VOD,ie.q),f()(Oo,Eo.g.CDVR,ie.i),Oo);var Io={getDRMEncodingsForStreamType:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l.a.getSelectorValue(Po[e]))},getDRMCapabilityForAnalytics:function(){return"Safari"===M.name?Eo.b.fairplay:"IE"===M.name||"Microsoft Edge"===M.name?Eo.b.playready:Eo.b.widevine}};function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Do=function(e){var t=null===e||void 0===e?void 0:e.searchFacet,n=Ai(e);if(n)return function(e,t){return{facet:e,idType:"tmsSeriesId",id:t}}(t,n);var r=Ti(e);if(r)return function(e,t){return{facet:e,idType:"tmsProgramId",id:t}}(t,r);var i=Ei(e);return i?function(e,t){return{facet:e,idType:"network",id:t}}(t,i):function(e,t){return{facet:e,idType:e,id:t}}(t,null===e||void 0===e?void 0:e.searchStringMatch)};function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var No={"search.sports":"sports","search.team":"team","search.person":"person"},Mo={Person:lt.c.SEARCH_CAST_AND_CREW,Sports:lt.c.SEARCH_SPORTS,Team:lt.c.SEARCH_TEAM,Networks:lt.c.SEARCH_NETWORKS},Vo=void 0,Lo=function(){Vo&&(Vo.searchStartedTimestamp=Date.now())},Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Vo=jo({searchId:Object(T.c)(),lastKnownFirstChar:null,searchType:lt.k.PREDICTIVE},e);var t=jo({msgTriggeredUsing:Object(Li.c)(),currPageElemType:"link",currPageElemUiName:"Search",searchId:Vo.searchId,searchType:Vo.searchType},e);Object(y.j)(lt.c.SEARCH_STARTED,t)},Uo=function(e){try{var t,n,r,i;Vo||Fo();var o=l.a.getSelectorValue(le.c);Vo.searchQueryId=e.data.results.length>0?e.data.results[0].dsQueryId:"none-given";var a,s=null!==(t=null===(n=e.data)||void 0===n?void 0:null===(r=n.results)||void 0===r?void 0:r.reduce(function(e,t){return e+t.num_results},0))&&void 0!==t?t:0,c={msgTriggeredBy:lt.m.USER,searchElem:s,searchText:null===(i=e.data)||void 0===i?void 0:i.name,searchResultsMs:Vo.searchStartedTimestamp?Math.max(0,Date.now()-Vo.searchStartedTimestamp):0,searchQueryId:Vo.searchQueryId,searchId:Vo.searchId,searchResults:function(e,t){for(var n,r,i=[],o=null!==(n=null===e||void 0===e?void 0:null===(r=e.data)||void 0===r?void 0:r.results)&&void 0!==n?n:[],a=0;a<o.length;++a)for(var s,c=null===(s=o[a])||void 0===s?void 0:s.results,l=0;l<c.length&&i.length<t;++l)i.push(Do(c[l]));return i}(e,o)};a=Vo.searchType===lt.k.KEYWORD?s>0?lt.c.SEARCHED_KEYWORD:lt.c.SEARCHED_KEYWORD_NO_RESULT:s>0?lt.c.SEARCHED_PREDICTIVE:lt.c.SEARCHED_PREDICTIVE_NO_RESULT,Object(y.j)(a,c),Vo.searchStartedTimestamp=void 0}catch(e){Object(y.l)()&&console.error("Error",e)}},Bo=function(e){try{Vo||Fo();var t=l.a.getSelectorValue(le.c);Vo.searchQueryId=e.results.dsQueryId;var n={msgTriggeredBy:lt.m.USER,searchElem:e.results.total_results,searchId:Vo.searchId,searchQueryId:Vo.searchQueryId,searchResults:function(e,t){for(var n,r,i=null!==(n=null===e||void 0===e?void 0:null===(r=e.results)||void 0===r?void 0:r.results)&&void 0!==n?n:[],o=[],a=0;a<i.length&&a<t;++a){var s=i[a],c=(null===s||void 0===s?void 0:s.searchFacet)||(null===e||void 0===e?void 0:e.searchFacet);o.push(Do(_o(_o({},s),{},{searchFacet:c})))}return o}(e,t),searchResultsMs:Vo.searchStartedTimestamp?Math.max(0,Date.now()-Vo.searchStartedTimestamp):0,searchText:e.query},r=Vo.searchType===lt.k.KEYWORD?lt.c.SEARCHED_KEYWORD:lt.c.SEARCHED_PREDICTIVE;Object(y.j)(r,n),Vo.searchStartedTimestamp=void 0}catch(e){Object(y.l)()&&console.error("Error",e)}},Wo=function(e){try{if(!e.asset.resultDisplay||["Title","Movie","Series"].indexOf(e.asset.resultDisplay)>=0){var t,n=Vo.searchType===lt.k.PREDICTIVE?lt.c.SELECT_CONTENT_SEARCH_RESULT_PREDICTIVE:lt.c.SELECT_CONTENT_SEARCH_RESULT_KEYWORD,r=angular.element(document.body).injector().get("$state"),i={currPageElemIndex:e.asset.searchResultIndex,searchSelResultName:e.asset.title,searchSelResultFacet:No[r.current.name]||(null===(t=e.asset.resultDisplay)||void 0===t?void 0:t.toLowerCase()),searchQueryId:Vo.searchQueryId};Object(y.j)(n,i)}else if(e.asset.resultDisplay&&["Network"].indexOf(e.asset.resultDisplay)>=0){var o=jo({ctntStrmPlbkType:lt.i.LINEAR,ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR)},Ci(e.asset)),a=e.asset.isEntitled?lt.c.SELECT_ACTION_SEARCH_PLAY_NETWORK:lt.c.SELECT_ACTION_SEARCH_PLAY_UNTITLED_NETWORK;Object(y.j)(a,o)}else{var s,c,l=e.asset.resultDisplay;Vo.searchQueryId=null===(s=e.asset)||void 0===s?void 0:s.dsQueryId;var u=null!==(c=Mo[l])&&void 0!==c?c:"";u&&Object(y.j)(u)}}catch(e){console.error("Analytics: search error",e)}};angular.module("ovpApp.components.header.globalSearch",["ovpApp.components.header.data","ovpApp.components.header.menuItem","ovpApp.services.playerOverlayTimer","ovpApp.oauth"]).component("globalSearch",{controllerAs:"vm",templateUrl:"js/components/header/global-search/global-search.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$state:t,$rootScope:n,menuData:r,OauthService:i,playerOverlayTimer:o}),this.searchItem=null,this.playerOverlayTimer=o}return e.$inject=["$state","$rootScope","menuData","OauthService","playerOverlayTimer"],e.$inject=["$state","$rootScope","menuData","OauthService","playerOverlayTimer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.OauthService.waitUntilAuthenticated().then(function(){return e.menuData.getMainMenuItems()}).then(function(t){e.searchItem=t.find(function(e){return"search"===e.id})})}},{key:"onClick",value:function(){Fo(),this.$state.go(this.searchItem.link,this.searchItem.linkParams,this.searchItem.linkOptions)}}]),e}()}),angular.module("ovpApp.components.loadingTracker",["ajoslin.promise-tracker"]).component("loadingTracker",{templateUrl:"js/components/loading-tracker/loading-tracker.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$scope:t,$element:n,promiseTracker:r,$state:i})}return e.$inject=["$scope","$element","promiseTracker","$state"],e.$inject=["$scope","$element","promiseTracker","$state"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$on("message:loading",function(t,n,r){Object(b.c)(e,"$state.current.name")&&(e.loadingTracker.addPromise(n),angular.isDefined(r)?e.message=r:e.message="Loading...")});var t=this.$element.width();t>0&&this.$element.css("margin-right",-t/2),this.$scope.$on("message:loading:cancel",function(){return e.reset()}),this.reset()}},{key:"reset",value:function(){this.loadingTracker&&this.loadingTracker.tracking()&&this.loadingTracker.cancel(),this.loadingTracker=this.promiseTracker({activationDelay:150})}}]),e}()}),angular.module("ovpApp.components.channelIdentifier",[]).component("channelIdentifier",{templateUrl:"js/components/channel-identifier/channel-identifier.html",bindings:{item:"<",ignoreChannelNumbers:"<"},controller:function e(){we()(this,e),this.ignoreChannelNumbers=l.a.getSelectorValue(u.Zf)}});var Ho=function(e){var t=e.groupTitle,n=e.items,r=e.selected,i=e.onClick,o=e.onFocus,a=n.map(function(e){var t=e.name,n=e.id,a=Object(Q.useRef)(null),s=n===r.id;return X.a.createElement("li",{key:n},X.a.createElement("button",{ref:a,className:s?"selected-item":"","aria-pressed":s,"aria-disabled":s,onMouseUp:function(){s?a.current.blur():i(e)},onKeyDown:function(t){s||"Enter"!==t.key&&" "!==t.key||i(e)},onFocus:function(){o&&o()}},t))});return X.a.createElement("fieldset",null,X.a.createElement("legend",{className:"group-title"},t),X.a.createElement("ul",{role:"list",className:"button-group-list"},a))},Go=n("pQH6");function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Yo=Object($t.connect)(function(e){return{sorts:function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.sorts}(e),filters:function(e){var t;return null===e||void 0===e?void 0:null===(t=e.guide)||void 0===t?void 0:t.filters}(e),currentSort:Rr(e),currentFilter:Nr(e)}},function(e){return{updateFiltersVisible:function(t){return e(Object(Go.i)(t))}}})(function(e){var t=e.showSort,n=e.sorts,r=e.filters,i=e.sortCallback,o=e.filterCallback,a=e.currentFilter,s=e.currentSort,c=e.focusChannels,l=e.playerOverlayTimer,u=e.updateFiltersVisible,d=Object(Q.useState)([]),p=Oe()(d,2),h=p[0],v=p[1],f=Object(Q.useState)(""),m=Oe()(f,2),g=m[0],b=m[1],y=Object(Q.useState)(!1),S=Oe()(y,2),w=S[0],k=S[1],C=Object(Q.useRef)(!1),$=function(e){var t=e.name;return void 0!==e.channelCount&&(t+=" (".concat(e.channelCount,")")),t};Object(Q.useEffect)(function(){if(r){var e=r.map(function(e){return zo(zo({},e),{},{name:$(e)})});v(e)}},[r]),Object(Q.useEffect)(function(){a&&b("Filter: ".concat($(a)))},[a]);var T=function(){w?C.current.focus():Object(ye.a)("OneApp_selectAction_guidePageFilter",{appliedSorts:null===s||void 0===s?void 0:s.egName,appliedFilters:null===a||void 0===a?void 0:a.name}),u(!w),k(!w)},O=function(){l.isMiniGuideOpen()||l.toggleMiniGuide()};return X.a.createElement(X.a.Fragment,null,X.a.createElement("button",{ref:C,className:"filter-selection",onMouseUp:T,onFocus:O,onKeyDown:function(e){l.isMiniGuideOpen()&&("Tab"!==e.key||e.shiftKey||w?"Enter"!==e.key&&" "!==e.key||T():(c(),e.preventDefault()))},"aria-expanded":w},g,X.a.createElement("span",{"aria-hidden":"true",className:"arrow-down-icon si si-chevron-down"})),w&&X.a.createElement("div",{tabIndex:"-1",className:"filters"},t&&X.a.createElement("div",{className:"filter-wrapper"},X.a.createElement(Ho,{items:n,groupTitle:"Sort",onClick:function(e){T(),i(e)},selected:s})),X.a.createElement("div",{className:"filter-wrapper"},X.a.createElement(Ho,{items:h,groupTitle:"Filters",onClick:function(e){T();var t=r.find(function(t){return t.id===e.id});o(t)},onFocus:O,selected:a}))))});angular.module("ovpApp.components.channelsFilter",["ovpApp.miniGuide.miniGuideData","ovpApp.services.capabilitiesService","ovpApp.services.playerOverlayTimer"]).component("channelsFilter",Object(Ct.react2angular)(function(e){var t=e.$rootScope,n=e.miniGuideData,r=e.playerOverlayTimer,i=e.focusChannels,o=e.store,a={showSort:!Object(u.Zf)(o.getState()),sortCallback:function(e){n.setSelectedSort(e),t.$broadcast("Analytics:guide:updateSort",{sort:e})},filterCallback:function(e){n.setSelectedFilter(e),t.$broadcast("Analytics:guide:updateFilter",{filter:e})},focusChannels:i,playerOverlayTimer:r};return React.createElement($t.Provider,{store:o},React.createElement(Yo,a))},["focusChannels"],["miniGuideData","$rootScope","playerOverlayTimer","store"]));var Ko,Jo=n("Z2FP"),Qo=n("J4qu");!function(){var e={up:38,down:40,tab:9,enter:13,space:32,right:39,left:37};angular.module("ovpApp.miniGuide.miniGuide",["ovpApp.player","ovpApp.player.whatsOn","ovpApp.player.streamService","ovpApp.miniGuide.miniGuideData","ovpApp.components.miniGuide.channelList","ovpApp.services.parentalControlsService","ovpApp.messages","ovpApp.version","ovpApp.directives.lazySrc","ajoslin.promise-tracker","ovpApp.services.rxUtils","vs-repeat","ovpApp.oauth","ovpApp.services.oohService","ovpApp.player.playerService","ovpApp.services.playerOverlayTimer","ovpApp.services.kiteModal","ovpApp.components.channelsFilter"]).component("miniGuide",{bindings:{player:"<",liveTmsId:"<",displayChannel:"<",eanUrl:"<"},templateUrl:"js/components/mini-guide/mini-guide.html",controller:function(){function t(e,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g,b,y,S){we()(this,t),angular.extend(this,{$scope:e,$q:n,playerStreamService:r,miniGuideData:i,$state:o,parentalControlsService:a,CAPABILITIES:s,messages:c,playerErrors:l,$timeout:u,$rootScope:d,version:p,$element:h,promiseTracker:v,createObservableFunction:f,playerService:m,oohService:g,playerOverlayTimer:b,kiteModalService:y,$window:S})}return t.$inject=["$scope","$q","playerStreamService","miniGuideData","$state","parentalControlsService","CAPABILITIES","messages","playerErrors","$timeout","$rootScope","version","$element","promiseTracker","createObservableFunction","playerService","oohService","playerOverlayTimer","kiteModalService","$window"],t.$inject=["$scope","$q","playerStreamService","miniGuideData","$state","parentalControlsService","CAPABILITIES","messages","playerErrors","$timeout","$rootScope","version","$element","promiseTracker","createObservableFunction","playerService","oohService","playerOverlayTimer","kiteModalService","$window"],Ce()(t,[{key:"$onInit",value:function(){var e=this;this.showNavInstruction=!0,this.focusedChannel=null,this.showChannelNumber=!l.a.getSelectorValue(u.Zf),this.channels=[],this.filteredChannels=[],this.initialChannel=void 0,this.version=this.version.appVersion,this.channelSelectedBy="application",this.parentalControlsEnabled=!1,this.loadingTracker=this.promiseTracker(),this.eventSubscriptions=[],this.allChannelsMsg="",this.animateGuide=!1,this.focusChannelsOnFilterChange=this.setFocusOnChannelFromFilterSelection.bind(this),this.filtersShowing=!1,l.a.subscribe(l.a.watch(["guide","filtersVisible"])(function(){return e.filtersShowing=l.a.getSelectorValue(Vr)})),this.waitForPlayer||(this.waitForPlayer=this.$q.defer()),this.throttledScrollingFn=this.createObservableFunction(),this.lastScrollPosition=0;var t=this.$q.all([this.loadChannelData(),this.registerCallbacks()]).then(function(t){var n=Oe()(t,1)[0];e.selectChannel(n),e.scrollToChannel(e.selectedChannel),e.isParentalControlsEnabled()});this.loadingTracker.addPromise(t),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("scrollable:scrolled",function(t,n){var r,i,o=n.scrollTop(),a=angular.element(n[0].lastElementChild).find(".channel-number");e.filteredChannels.length>0&&a&&a.length>0&&(r=e.filteredChannels[e.filteredChannels.length-1].localChannelNumber,i=parseInt(a[0].innerHTML)),o>e.lastScrollPosition?o+n.innerHeight()>=n[0].scrollHeight&&i!=r&&e.throttledScrollingFn("scrollDown"):o<=0&&e.begin>0&&(e.throttledScrollingFn(),n.scrollTop(500)),e.lastScrollPosition=o}),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("connectivityService:statusChanged",function(t,n){n&&e.loadChannelData()}),this.$scope.$on("player-control:click",function(){e.onPlayerMouseDown()}),this.$scope.$on("player:fullscreen-toggled",function(t,n){n.isEnabled&&e.hideMiniGuide()})}},{key:"$onChanges",value:function(e){e.player&&angular.isDefined(this.player)&&(this.waitForPlayer||(this.waitForPlayer=this.$q.defer()),this.waitForPlayer.resolve())}},{key:"$onDestroy",value:function(){var e=this;l.a.getSelectorValue(u.Mc)||this.miniGuideData.onPlayerDestroyed(),this.eventSubscriptions.forEach(function(e){return e()}),this.playerSubscriptions&&Object.keys(this.playerSubscriptions).forEach(function(t){return e.player.off(t,e.playerSubscriptions[t])}),this.retryPromise&&this.$timeout.cancel(this.retryPromise)}},{key:"isParentalControlsEnabled",value:function(){var e=this;this.parentalControlsService.isParentalControlsDisabledForClient().then(function(t){e.parentalControlsEnabled=!t}),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("player:parentalControlsUnblocked",function(){return e.parentalControlsEnabled=!1})}},{key:"isPrevious",value:function(t){return[e.up,e.left].indexOf(t.keyCode)>-1}},{key:"isNext",value:function(t){return[e.down,e.right].indexOf(t.keyCode)>-1}},{key:"onMiniGuideKeyDown",value:function(e){this.playerOverlayTimer.isMiniGuideOpen()?this.channelBrowserKeyDown(e):this.playerOverlayTimer.toggleMiniGuide()}},{key:"channelBrowserKeyDown",value:function(t){var n=this;if([e.up,e.down,e.enter,e.space,e.left,e.right].indexOf(t.keyCode)>-1){t.preventDefault();var r,i,o=this.$element.find(".selected"),a={};if(t.keyCode===e.enter){if(this.focusedChannel.isDividerMockChannel)return;this.focusedChannel===this.selectedChannel&&this.selectedChannel.isParentallyBlocked?this.$rootScope.$emit("player:focusUnblock"):this.focusedChannel===this.selectedChannel&&this.focusedChannel.hasLinkedVODAsset?(this.setAriaAnnouncement("Restarting Show"),this.$timeout(function(){n.startOver(n.selectedChannel,t)},500)):this.selectChannel(this.focusedChannel)}else this.isNext(t)?(a=o.next("[selectable]")).length>0?(r=a[0].getBoundingClientRect(),i=this.$element[0].getBoundingClientRect(),r.top+r.height>i.height+i.top&&this.$element.scrollTop(this.$element.scrollTop()+r.height)):this.throttledScrollingFn("scrollDown"):this.isPrevious(t)&&((a=o.prev("[selectable]")).length>0?(r=a[0].getBoundingClientRect(),i=this.$element[0].getBoundingClientRect(),r.bottom<=i.top&&this.$element.scrollTop(this.$element.scrollTop()-r.height)):this.throttledScrollingFn());a.length>0&&(o.blur(),a.focus())}}},{key:"registerCallbacks",value:function(){var e=this;return this.waitForPlayer.promise.then(function(){e.playerSubscriptions={"player-mouse-down":function(){return e.onPlayerMouseDown()}},Object.keys(e.playerSubscriptions).forEach(function(t){return e.player.on(t,e.playerSubscriptions[t])});var t=e.playSelectedChannel.bind(e),n=e.onEan.bind(e);e.$scope.$on("player:blockChanged",t),e.eventSubscriptions[e.eventSubscriptions.length]=e.$rootScope.$on("EAN:start",n)})}},{key:"setFocusOnChannelFromFilterSelection",value:function(e){var t=this;e=e||{};var n=this.filteredChannels.indexOf(this.selectedChannel)<0?this.filteredChannels[0]:this.selectedChannel;this.scrollToChannel(n).then(function(){e.noFocus||t.focusChannel(n)})}},{key:"hideMiniGuide",value:function(e){e&&e.preventDefault(),this.playerOverlayTimer.isMiniGuideOpen()&&this.playerOverlayTimer.toggleMiniGuide()}},{key:"onPlayerMouseDown",value:function(){this.playerMouseDown=!0,angular.element("#player-mouse-down-focus")[0].focus(),this.playerMouseDown=!1,this.showNavInstruction=this.playerOverlayTimer.isMiniGuideOpen()}},{key:"onChannelFocussed",value:function(e){this.playerOverlayTimer.isMiniGuideOpen()||this.playerOverlayTimer.toggleMiniGuide(),this.focusedChannel=e}},{key:"setAriaAnnouncement",value:function(e){var t=this;this.ariaAnnouncement=e,this.$timeout(function(){t.ariaAnnouncement=""},500)}},{key:"selectChannel",value:function(e,t){if(!("mini-guide-start-over"===Object(b.c)(t,"target.className"))&&("ovp.livetv"===this.$state.current.name||this.$rootScope.isShowingPip))if(e.available){if(this.hideMiniGuide(t),this.selectedChannel!==e){var n=!this.selectedChannel;this.channelSelectedBy=t||this.liveTmsId?"user":"application",this.focusedChannel=e,this.selectedChannel=e,t&&"user"===this.channelSelectedBy&&this.$rootScope.$emit("Analytics:select-channel",{channel:e,triggeredBy:this.channelSelectedBy,selectedFrom:"liveTvMiniGuide",drmType:Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR)}),this.playSelectedChannel(n)}}else this.onPlayChannelError(this.playerErrors.outOfHome)}},{key:"startOver",value:function(e,t){t.stopPropagation(),this.playerService.startOver(e)}},{key:"isEANChannel",value:function(e){return e&&e.localChannelNumber===l.a.getSelectorValue(u.Gb)}},{key:"loadChannelData",value:function(){var e=this;return this.miniGuideData.getData(this.liveTmsId,this.eanUrl).then(function(t){e.channels=t.channels,e.filteredChannels=t.filteredChannels;var n=t.selectedChannel;if(l.a.getSelectorValue(u.wg)&&!l.a.getSelectorValue(Jo.k)&&(l.a.dispatch(Qo.a.updateHasSeenStartup(!0)),-1===new URL(e.$window.location.href).search.indexOf("tmsid"))){var r=l.a.getSelectorValue(Jo.c),i=e.channels.find(function(e){return(null===e||void 0===e?void 0:e.tmsGuideId)===r&&(null===e||void 0===e?void 0:e.entitled)});if(i)return function(e){Ko=e}(l.a.getSelectorValue(Jo.d)),e.miniGuideData.setSelectedChannel(i),i}return e.displayChannel&&(n.localChannelNumber=e.displayChannel),n})}},{key:"onEan",value:function(e,t){var n=t.eanUrl;this.eanUrl=n,this.selectChannel(this.miniGuideData.addDummyEANChannel(n))}},{key:"playSelectedChannel",value:function(){var e=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEANChannel(this.selectedChannel)){e.next=4;break}return e.abrupt("return",this.playEan());case 4:if(this.onEanCompletion&&this.onEanCompletion(),this.miniGuideData.startChannelUpdateTimer(this.selectedChannel),t){e.next=9;break}return e.next=9,this.playerService.playStream({streamType:Eo.g.LINEAR,asset:this.selectedChannel.asset});case 9:return e.prev=9,e.next=12,this.playerStreamService.playChannel({channel:this.selectedChannel,triggeredBy:this.channelSelectedBy});case 12:this.miniGuideData.setSelectedChannel(this.selectedChannel),this.playerOverlayTimer.isMiniGuideOpen()&&this.playerOverlayTimer.toggleMiniGuide(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),this.onPlayChannelError(e.t0);case 19:case"end":return e.stop()}},e,this,[[9,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"playEan",value:function(){var e=this,t=this.playerStreamService.playEAN({player:this.player,eanUrl:this.eanUrl}).then(function(){var t=C.a.getItem(k.b.muted);e.player.setMuted(!1),e.onEanCompletion=function(e){this.player.setMuted(t),e&&this.selectChannel(this.miniGuideData.getDefaultChannel(this.liveTmsId)),this.player.off("playback-stopped",this.onEanCompletion),this.onEanCompletion=void 0,this.miniGuideData.removeDummyEANChannel()},e.player.on("playback-stopped",e.onEanCompletion)}).catch(function(t){return e.onPlayChannelError(t)});return this.eanUrl=void 0,t}},{key:"onPlayChannelError",value:function(e){var t;e!==this.playerErrors.tunedAway&&(e===this.playerErrors.outOfHome?(me.a.trigger(),Object(y.j)("OVP_selectAction_outOfHomeContent",{ctntStrmPlbkType:"linear",tmsGuideId:null===(t=this.focusedChannel)||void 0===t?void 0:t.tmsGuideId}),this.oohService.showOohModal()):e===this.playerErrors.unentitled?this.kiteModalService.errorAlert("WEN-1004",{IVR_NUMBER:l.a.getSelectorValue(u.ff)},{resolve:{analyticsModalName:"unentitledNetwork"}}):e===this.playerErrors.oohFraudDetection?this.kiteModalService.errorAlert("WCD-1009"):e===this.playerErrors.notFound&&this.kiteModalService.errorAlert("WCH-1000",{CHANNEL:this.selectedChannel.localChannelNumber}))}},{key:"scrollToChannel",value:function(e){var t=this;return this.$timeout(function(){t.animateGuide=!0;var n=t.filteredChannels.indexOf(e);if(!(n<0)){var r=t.$element.find("#channel-browser"),i=t.$element.find(".channel-list-item").outerHeight(),o=r.height()/i,a=i*(n-Math.floor(o/2));r.scrollTop(a)}},0)}},{key:"focusChannel",value:function(e){var t=this;this.$timeout(function(){if(!(t.filteredChannels.indexOf(e)<0)){var n="#channel-list-item-".concat(e.localChannelNumber,"-").concat(e.channelId),r=t.setFocusToNextFocusableChannel(n);r.length>0?(r.focus(),t.firstFocusedChannel=e):t.scrollToChannel(e).then(function(){return t.focusChannel(e)})}},0)}},{key:"setFocusToNextFocusableChannel",value:function(e){var t=this.$element.find(e);return t.length>0&&-2===t[0].tabIndex?t.next():t}}]),t}()})}(),function(){var e={up:38,down:40,tab:9,enter:13,space:32,right:39,left:37};angular.module("ovpApp.miniGuide.chromecastMiniGuide",["ovpApp.player.whatsOn","ovpApp.player.streamService","ovpApp.miniGuide.miniGuideData","ovpApp.components.miniGuide.channelList","ovpApp.services.parentalControlsService","ovpApp.services.kiteModal","ovpApp.directives.lazySrc","ajoslin.promise-tracker","ovpApp.services.rxUtils","vs-repeat","ovpApp.oauth","ovpApp.services.oohService","ovpApp.services.chromecast","ovpApp.player.playerService","ovpApp.services.playerOverlayTimer","ovpApp.components.channelsFilter"]).component("chromecastMiniGuide",{bindings:{eanUrl:"<"},templateUrl:"js/components/mini-guide/chromecast-mini-guide.html",controller:function(){function t(e,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g){we()(this,t),angular.extend(this,{$rootScope:e,$scope:n,playerStreamService:r,miniGuideData:i,$state:o,parentalControlsService:a,capabilitiesService:s,kiteModalService:c,playerErrors:l,$timeout:u,$element:d,promiseTracker:p,createObservableFunction:h,playerService:v,oohService:f,chromecastService:m,playerOverlayTimer:g})}return t.$inject=["$rootScope","$scope","playerStreamService","miniGuideData","$state","parentalControlsService","capabilitiesService","kiteModalService","playerErrors","$timeout","$element","promiseTracker","createObservableFunction","playerService","oohService","chromecastService","playerOverlayTimer"],t.$inject=["$rootScope","$scope","playerStreamService","miniGuideData","$state","parentalControlsService","capabilitiesService","kiteModalService","playerErrors","$timeout","$element","promiseTracker","createObservableFunction","playerService","oohService","chromecastService","playerOverlayTimer"],Ce()(t,[{key:"$onInit",value:function(){var e=this;this.showNavInstruction=!0,this.focusedChannel=null,this.liveTmsId=this.$state.params.tmsid,this.showChannelNumber=!0,this.channels=[],this.filteredChannels=[],this.initialChannel=void 0,this.channelSelectedBy="application",this.parentalControlsEnabled=!1,this.loadingTracker=this.promiseTracker(),this.eventSubscriptions=[],this.allChannelsMsg="",this.animateGuide=!1,this.focusChannelsOnFilterChange=this.setFocusOnChannelFromFilterSelection.bind(this),this.filtersShowing=!1,l.a.subscribe(l.a.watch(["guide","filtersVisible"])(function(){return e.filtersShowing=l.a.getSelectorValue(Vr)})),this.throttledScrollingFn=this.createObservableFunction(),this.lastScrollPosition=0;this.registerCallbacks();var t=this.loadChannelData().then(function(t){e.selectChannel(t),e.scrollToChannel(e.selectedChannel),e.isParentalControlsEnabled()});this.loadingTracker.addPromise(t),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("scrollable:scrolled",function(t,n){var r,i,o=n.scrollTop(),a=angular.element(n[0].lastElementChild).find(".channel-number");e.filteredChannels.length>0&&a&&a.length>0&&(r=e.filteredChannels[e.filteredChannels.length-1].localChannelNumber,i=parseInt(a[0].innerHTML)),o>e.lastScrollPosition?o+n.innerHeight()>=n[0].scrollHeight&&i!=r&&e.throttledScrollingFn("scrollDown"):o<=0&&e.begin>0&&(e.throttledScrollingFn(),n.scrollTop(500)),e.lastScrollPosition=o}),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("connectivityService:statusChanged",function(t,n){n&&e.loadChannelData()})}},{key:"$onDestroy",value:function(){l.a.getSelectorValue(u.Mc)||this.miniGuideData.onPlayerDestroyed(),this.eventSubscriptions.forEach(function(e){return e()}),this.retryPromise&&this.$timeout.cancel(this.retryPromise)}},{key:"isParentalControlsEnabled",value:function(){var e=this;this.parentalControlsService.isParentalControlsDisabledForClient().then(function(t){return e.parentalControlsEnabled=!t}),this.eventSubscriptions[this.eventSubscriptions.length]=this.$rootScope.$on("player:parentalControlsUnblocked",function(){return e.parentalControlsEnabled=!1})}},{key:"isPrevious",value:function(t){return[e.up,e.left].indexOf(t.keyCode)>-1}},{key:"isNext",value:function(t){return[e.down,e.right].indexOf(t.keyCode)>-1}},{key:"onMiniGuideKeyDown",value:function(e){this.playerOverlayTimer.isMiniGuideOpen()?this.channelBrowserKeyDown(e):this.playerOverlayTimer.toggleMiniGuide()}},{key:"channelBrowserKeyDown",value:function(t){var n=this;if([e.up,e.down,e.enter,e.space,e.left,e.right].indexOf(t.keyCode)>-1){t.preventDefault();var r,i,o=this.$element.find(".selected"),a={};if(t.keyCode===e.enter){if(this.focusedChannel.isDividerMockChannel)return;this.focusedChannel===this.selectedChannel&&this.selectedChannel.isParentallyBlocked?this.$rootScope.$emit("player:focusUnblock"):this.focusedChannel===this.selectedChannel&&this.focusedChannel.hasLinkedVODAsset?(this.setAriaAnnouncement("Restarting Show"),this.$timeout(function(){n.startOver(n.selectedChannel,t)},500)):this.selectChannel(this.focusedChannel)}else this.isNext(t)?(a=o.next("[selectable]")).length>0?(r=a[0].getBoundingClientRect(),i=this.$element[0].getBoundingClientRect(),r.top+r.height>i.height+i.top&&this.$element.scrollTop(this.$element.scrollTop()+r.height)):this.throttledScrollingFn("scrollDown"):this.isPrevious(t)&&((a=o.prev("[selectable]")).length>0?(r=a[0].getBoundingClientRect(),i=this.$element[0].getBoundingClientRect(),r.bottom<=i.top&&this.$element.scrollTop(this.$element.scrollTop()-r.height)):this.throttledScrollingFn());a.length>0&&(o.blur(),a.focus())}}},{key:"registerCallbacks",value:function(){var e=this.playSelectedChannel.bind(this);this.$scope.$on("player:blockChanged",e)}},{key:"setFocusOnChannelFromFilterSelection",value:function(e){var t=this;e=e||{};var n=this.filteredChannels.indexOf(this.selectedChannel)<0?this.filteredChannels[0]:this.selectedChannel;this.scrollToChannel(n).then(function(){e.noFocus||t.focusChannel(n)})}},{key:"hideMiniGuide",value:function(e){e&&e.preventDefault(),this.playerOverlayTimer.isMiniGuideOpen()&&this.playerOverlayTimer.toggleMiniGuide()}},{key:"onPlayerMouseDown",value:function(){this.playerMouseDown=!0,angular.element("#player-mouse-down-focus")[0].focus(),this.playerMouseDown=!1,this.showNavInstruction=this.playerOverlayTimer.isMiniGuideOpen()}},{key:"onChannelFocussed",value:function(e){this.focusedChannel=e,this.playerOverlayTimer.isMiniGuideOpen()||this.playerOverlayTimer.toggleMiniGuide()}},{key:"setAriaAnnouncement",value:function(e){var t=this;this.ariaAnnouncement=e,this.$timeout(function(){t.ariaAnnouncement=""},500)}},{key:"selectChannel",value:function(e,t){if(!("mini-guide-start-over"===Object(b.c)(t,"target.className"))&&(this.hideMiniGuide(t),this.selectedChannel!==e)){this.channelSelectedBy=t||this.liveTmsId?"user":"application",this.focusedChannel=e,this.selectedChannel=e,t&&"user"===this.channelSelectedBy&&this.$rootScope.$emit("Analytics:select-channel",{channel:e,drmType:Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR),triggeredBy:this.channelSelectedBy});var n=this.chromecastService.getMetadata();n&&n.tmsGuideId===e.tmsGuideId||this.playSelectedChannel()}}},{key:"startOver",value:function(e,t){t.stopPropagation();var n=e.asset,r=e.localChannelNumber;if(void 0!==r&&C.a.setItem("twctv:startOverChannelInfo",JSON.stringify({channelNumber:r,channelID:e.channelId})),n){var i,o,a=n.vodTmsSeriesId,s=n.vodProviderAssetId;a?(i="ovp.ondemand.playEpisodeWithDetails",o={seriesID:a,episodeID:s}):(i="ovp.ondemand.playProduct",o={productID:s}),o.startOver=!0,this.$state.go(i,o)}else this.kiteModalService.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"No asset on channel for chromecast startOver",channel:JSON.stringify(e,Object(b.b)())}})}},{key:"loadChannelData",value:function(){var e=this;return this.miniGuideData.getData(this.liveTmsId,this.eanUrl).then(function(t){return e.channels=t.channels,e.filteredChannels=t.filteredChannels,t.selectedChannel})}},{key:"playSelectedChannel",value:function(){var e=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.miniGuideData.startChannelUpdateTimer(this.selectedChannel),t){e.next=4;break}return e.next=4,this.playerService.playStream({streamType:Eo.g.LINEAR,asset:this.selectedChannel.asset});case 4:return e.prev=4,e.next=7,this.playerStreamService.playChannel({channel:this.selectedChannel,triggeredBy:this.channelSelectedBy});case 7:this.miniGuideData.setSelectedChannel(this.selectedChannel),this.playerOverlayTimer.isMiniGuideOpen()&&this.playerOverlayTimer.toggleMiniGuide(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.onPlayChannelError(e.t0);case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onPlayChannelError",value:function(e){e!==this.playerErrors.tunedAway&&e!==this.playerErrors.oohFraudDetection&&(e===this.playerErrors.outOfHome?(me.a.trigger(),this.oohService.showOohModal()):e===this.playerErrors.unentitled?this.kiteModalService.errorAlert("WEN-1004",{IVR_NUMBER:l.a.getSelectorValue(u.ff)}):e===this.playerErrors.notFound?this.kiteModalService.errorAlert("WCH-1000",{CHANNEL:this.selectedChannel.localChannelNumber}):this.kiteModalService.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled error for chromecast onPlayChannelError",error:JSON.stringify(e,Object(b.b)())}}))}},{key:"scrollToChannel",value:function(e){var t=this;return this.$timeout(function(){t.animateGuide=!0;var n=t.filteredChannels.indexOf(e);if(!(n<0)){var r=t.$element.find("#channel-browser"),i=t.$element.find(".channel-list-item").outerHeight(),o=r.height()/i,a=i*(n-Math.floor(o/2));r.scrollTop(a)}},0)}},{key:"focusChannel",value:function(e){var t=this;this.$timeout(function(){if(!(t.filteredChannels.indexOf(e)<0)){var n="#channel-list-item-".concat(e.localChannelNumber,"-").concat(e.channelId),r=t.setFocusToNextFocusableChannel(n);r.length>0?(r.focus(),t.firstFocusedChannel=e):t.scrollToChannel(e).then(function(){return t.focusChannel(e)})}},0)}},{key:"setFocusToNextFocusableChannel",value:function(e){var t=this.$element.find(e);return t.length>0&&-2===t[0].tabIndex?t.next():t}}]),t}()})}(),angular.module("ovpApp.components.miniGuide.channelList",["ovpApp.components.miniGuide.oohSeparator"]).component("channelList",{require:{miniGuide:"^^?miniGuide",chromecastMiniGuide:"^^?chromecastMiniGuide"},bindings:{channels:"="},templateUrl:"js/components/mini-guide/channel-list.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$element:t,$scope:n,$document:r,OOH_SEPARATOR_DATA:i}),this.showOohBanner=!1,this.listElem=null,this.miniGuidePadding=50}return e.$inject=["$element","$scope","$document","OOH_SEPARATOR_DATA"],e.$inject=["$element","$scope","$document","OOH_SEPARATOR_DATA"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.parent=this.miniGuide||this.chromecastMiniGuide,this.listElem=this.$element.find("ul"),this.listElem.on("scroll",function(){return e.onListScroll()});var t=this.$document.find(".top-gradient-css").css("top");this.miniGuidePadding=t[0]?parseInt(t):this.miniGuidePadding,this.ignoreChannelNumbers=l.a.getSelectorValue(u.Zf)}},{key:"$onDestroy",value:function(){this.listElem.off()}},{key:"onListScroll",value:function(){var e,t=angular.element("#channel-list-item-"+this.OOH_SEPARATOR_DATA.localChannelNumber+"-"+this.OOH_SEPARATOR_DATA.channelId);t&&t[0]&&(e=t.position().top),void 0!==e&&this.listElem&&e<=this.miniGuidePadding&&this.$scope.$apply(this.showOohBanner=!0),void 0!==e&&this.listElem&&e>this.miniGuidePadding&&this.$scope.$apply(this.showOohBanner=!1)}}]),e}()});var Xo=n("YPlS"),Zo=n.n(Xo),ea=n("NLRV"),ta={ALL_CHANNELS:{name:"All Channels",id:"allChannels",filter:"All Channels"},RECENT_HISTORY:{name:"Recently Watched",id:"recentlyWatched",filter:"Recently Watched"},TV_SHOWS:{name:"TV Shows",id:"tvshows",filter:"TV Shows"},MOVIES:{name:"Movies",id:"movies",filter:"Movies"},SPORTS:{name:"Sports",id:"sports",filter:"Sports"},BROADCASTERS:{name:"Broadcasters",id:"broadcasters",filter:"Broadcasters"},PREMIUMS:{name:"Premiums",id:"premiums",filter:"Premiums"},KIDS:{name:"Kids",id:"kids",filter:"Kids"},NEWS:{name:"News",id:"news",filter:"News"},LIFESTYLE:{name:"Life & Style",id:"lifestyle",filter:"Life & Style"},MUSIC:{name:"Music",id:"music",filter:"Music"},LATINO:{name:"Latino",id:"latino",filter:"Latino"}},na={AZ:{name:"A-Z (networks)",id:"networkAToZ",egName:"network"},CHANNEL_NUMBER:{name:"Channel Number",id:"channelNumber",egName:"channel"}},ra=!1;function ia(e,t){var n,r;return{tmsProgramId:null===e||void 0===e?void 0:null===(n=e.tmsProgramIds)||void 0===n?void 0:n[0],title:null===e||void 0===e?void 0:e.title,episodeTitle:null===e||void 0===e?void 0:e.episodeTitle,durationSec:null!==(r=null===e||void 0===e?void 0:e.durationSec)&&void 0!==r?r:null===t||void 0===t?void 0:t.duration,scheduledStartTimeSec:function(e){if(null===e||void 0===e?void 0:e.scheduledStartTimeSec)return null===e||void 0===e?void 0:e.scheduledStartTimeSec;if(null===e||void 0===e?void 0:e.originalAirDate)return ca(null===e||void 0===e?void 0:e.originalAirDate);if(null===e||void 0===e?void 0:e.year)return ca("".concat(null===e||void 0===e?void 0:e.year))}(e)}}function oa(e){l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)&&(e.on("timed-metadata",function(e){ct.a.set(lt.d.ID3_TAGS,{id3Tags:!0})}),e.on("nielsen-load-metadata",function(e){Object(y.j)("OneApp_applicationActivity_nielsenSDK_loadMetadata")}),e.on("nielsen-send-id3",function(e){Object(y.j)("OneApp_applicationActivity_nielsenSDK_sendID3")}),e.on("nielsen-sdk-error",function(e){return function(e){var t;try{t=JSON.stringify(e.error)}catch(n){t=JSON.stringify(e.error)}Object(y.j)("OneApp_error_nielsenSDK",{appErrorType:"nielsenSDK",appErrorMessage:t})}(e)}))}function aa(){if(l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)){var e=Object(c.c)("playerFactory"),t=null===e||void 0===e?void 0:e.getPlayerImmediate();null===t||void 0===t||t.reportNielsenInterrupt()}}function sa(e){if(!ra&&l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)){var t=null===e||void 0===e?void 0:e.getNielsenSdkInitStatus();(null===t||void 0===t?void 0:t.complete)&&((null===t||void 0===t?void 0:t.success)?Object(y.j)("OneApp_applicationActivity_nielsenSDK_initialized_success"):(Object(y.j)("OneApp_applicationActivity_nielsenSDK_initialized_failure"),Object(y.j)("OneApp_error_nielsenSDK",{errorType:"nielsenSDK",appErrorMessage:null===t||void 0===t?void 0:t.errorMessage})),ra=!0)}}function ca(e){return new Date(e).getTime()/1e3}function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}window.addEventListener("offline",function(e){return aa()}),window.addEventListener("beforeunload",function(e){aa()}),function(){function e(e,t,n,r,o,s,c,d,p,h,v){var f,m,g,y,S,w,$,T={getData:function(i,a){w||(w=t.all([me.a.getLocation(),r.isParentalControlsDisabledForClient().then(function(e){m=e,n.$on("ParentalControls:updated",j)}),o.hasCapability(h.ONDEMAND).then(function(e){f=e})]).then(N).then(q).then(function(){!function(){if(l.a.getSelectorValue(u.Zf))return void(y=na.AZ);Q(x,[na.AZ,na.CHANNEL_NUMBER]);var e=C.a.getItem(k.b.channelsSortByType)||l.a.getSelectorValue(u.Gd);y=x.find(function(t){return t.id===e}),l.a.dispatch(Object(Go.h)(y)),l.a.dispatch(Object(Go.l)(x))}(),function(e){var t=Zo()(ta),n=l.a.getSelectorValue(u.tc);n.length>0&&(t=t.filter(function(e){return!n.includes(e.id)}));0===P.length&&(t=t.filter(function(e){return"recentlyWatched"!==e.id}));Q(I,H(t)),g=function(e){if((l.a.getSelectorValue(ge.d)||l.a.getSelectorValue(u.y))&&void 0===e){var t=C.a.getItem(k.b.lastViewedChannelFilter);if(t&&(t.filter!==ta.RECENT_HISTORY.filter||0!==P.length))return I.find(function(e){return e.filter===t.filter})}return ta.ALL_CHANNELS}(e),l.a.dispatch(Object(Go.g)(g)),l.a.dispatch(Object(Go.k)(t))}(i),U(),function(){var e=60*parseInt(l.a.getSelectorValue(u.Bc))*1e3;c(W,e)}(),n.$on("connectivityService:statusChanged",function(t,n){if(n){if("ovp.livetv"!==p.current.name)return;e.now(S).then(function(e){e&&J(e,S)})}})}));return w.then(function(){return S=F(i,a),{channels:E,filters:I,sorts:x,filteredChannels:A,selectedFilter:g,selectedSort:y,selectedChannel:S}})},getDefaultChannel:F,addDummyEANChannel:z,removeDummyEANChannel:function(){var e=E.findIndex(Y);e>=0&&E.splice(e,1);(e=A.findIndex(Y))>=0&&A.splice(e,1)},setSelectedFilter:function(e){g=e,C.a.setItem(k.b.lastViewedChannelFilter,g),l.a.dispatch(Object(Go.g)(g)),U()},setSelectedSort:function(e){y=e,C.a.setItem(k.b.channelsSortByType,y.id),l.a.dispatch(Object(Go.h)(y)),H(I),U()},setSelectedChannel:function(e){S=e,function(e){if(Y(e))return;var t=P.length,n=l.a.getSelectorValue(u.Zf)?e.ncsServiceId:e.localChannelNumber;-1!==P.indexOf(n)&&P.splice(P.indexOf(n),1);P.unshift(n),P.splice(O),C.a.setItem(k.b.recentHistory,P),0===t&&1===P.length&&I.splice(1,0,ta.RECENT_HISTORY)}(e),K(e)},onPlayerDestroyed:function(){$&&(s.cancel($),$=void 0)},startChannelUpdateTimer:K,_private:{sortAndFilter:B}},O=10,E=[],A=[],P=[],I=[],x=[];return T;function _(e,t){return e.localChannelNumber-t.localChannelNumber}function D(e){return e.networkName.replace(/[~`!@#$%^&*(){}\[\];:"'<,.>?\/\\|_+=-]/g,"")}function R(e,t){return D(e).localeCompare(D(t))}function j(){r.isParentalControlsDisabledForClient().then(function(e){m=e,W()})}function N(){return M.apply(this,arguments)}function M(){return(M=a()(i.a.mark(function n(){var r,o,a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ea.a.getChannels({onlineEntitled:!0,live:!0,entitled:!0});case 2:return r=n.sent,o=l.a.getSelectorValue(Jo.e),Q(E,r.map(function(e){return ua({tmsId:e.tmsGuideId,channelId:e.tmsGuideId,channels:e.channelNumbers,ncsServiceId:e.mystroServiceId},V(e))})),n.next=7,e.nowOrImminent(E);case 7:return a=n.sent,n.next=10,t.all(E.map(function(e,t){return L(e,o,a[t])}));case 10:return n.abrupt("return",E);case 11:case"end":return n.stop()}},n)}))).apply(this,arguments)}function V(e){return angular.extend(e,{available:ea.a.getAvailability(e),channelTitle:e.networkName,localChannelNumber:Object(b.c)(e,"channelNumbers.length",0)>0?e.channelNumbers[0]:"",localChannelNumbers:e.channelNumbers,callSign:e.callSign,hasLinkedVODAsset:!1,isParentallyBlocked:!m&&e.parentallyBlocked}),e}function L(e,n,r){return r?r.isBlocked.then(function(t){var i,o={channelTitle:r.isOnNow?r.title:"On Next: ".concat(r.title),episodeTitle:r.episodeTitle||"",hasLinkedVODAsset:!!r.vodProviderAssetId&&f&&n.has(null===(i=r.productProviders)||void 0===i?void 0:i[0]),isParentallyBlocked:t,networkLogoUri:r.networkImage({height:60})},a=!1;for(var s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&o[s]!==e[s]){a=!0;break}return a&&(angular.extend(e,o),e.asset=r),a}):t.resolve(!1)}function F(e,t){var n;if(t)return z(t);if(void 0!==e&&(n=E.find(function(t){return t.tmsId===e})))return n;for(var r=l.a.getSelectorValue(u.Zf)?function(e,t){return e.available&&e.ncsServiceId===t}:function(e,t){return e.available&&e.localChannelNumbers.indexOf(t)>-1},i=0;i<P.length;i++)if((n=E.find(function(e){return r(e,P[i])}))&&angular.isNumber(n.localChannelNumber)&&n.localChannelNumber!==P[i]&&(n=A.find(function(e){return e.available&&e.localChannelNumber===P[i]})),n)return n;return n||E.find(function(e){return e.available})}function U(){var e=B({channels:E,selectedFilter:g,selectedSort:y});Q(A,e)}function B(e){var t,n=e.channels,r=e.selectedFilter,i=e.selectedSort;if(r.filter===ta.RECENT_HISTORY.filter)if(l.a.getSelectorValue(u.Zf))t=n.filter(function(e){return P.indexOf(e.ncsServiceId)>-1}).sort(function(e,t){return P.indexOf(e.ncsServiceId)-P.indexOf(t.ncsServiceId)});else{var o=i===na.CHANNEL_NUMBER?_:R;t=n.filter(function(e){return P.indexOf(e.localChannelNumber)>-1}).sort(o)}else t=r.filter===ta.ALL_CHANNELS.filter?n.slice():n.filter(function(e){return G(e).indexOf(r.filter)>-1});if(r!==ta.RECENT_HISTORY)if(i===na.CHANNEL_NUMBER){var a,s=[];t.forEach(function(e){e.localChannelNumbers.forEach(function(t){t!==e.localChannelNumber&&s.push(angular.extend({},e,{localChannelNumber:t}))})}),(a=t).push.apply(a,s),t=t.sort(_)}else i===na.AZ&&(t=t.sort(R));var c=[],p=[];if(t.forEach(function(e){(e.available?c:p).push(e)}),p.length>0){p[0].isFirstUnavailable=!0;var h=angular.copy(d);p=[h].concat(p)}return c.concat.apply(c,on()(p))}function W(){return E.length>0?e.nowOrImminent(E).then(function(e){var n=l.a.getSelectorValue(Jo.e);return t.all(E.forEach(function(t,r){return L(t,n,e[r])})).then(function(){H(I),U()})}):t.resolve()}function H(e){var t={};return E.forEach(function(e){G(e).forEach(function(n){var r=y===na.CHANNEL_NUMBER?e.localChannelNumbers.length:1;n in t?t[n]+=r:t[n]=r})}),e.filter(function(e){return e!==ta.ALL_CHANNELS&&e!==ta.RECENT_HISTORY}).forEach(function(e){return e.channelCount=t[e.filter]||0}),e}function G(e){var t=[];angular.isArray(e.genres)?t=e.genres:e.asset&&angular.isArray(e.asset.genres)&&(t=e.asset.genres),e.asset&&angular.isArray(e.asset.genres)&&e.asset.genres.indexOf("Sports")>=0&&-1===t.indexOf("Sports")&&t.push("Sports"),t=t.filter(function(e){return["TV Shows","Movies"].indexOf(e)<0}),e.asset&&e.asset.isEpisode&&t.push("TV Shows"),e.asset&&e.asset.isMovie&&t.push("Movies");var n=t.findIndex(function(e){return"Sports"===e});return n>-1&&e.asset&&e.asset.isMovie&&t.splice(n,1),t}function q(){var e=C.a.getItem(k.b.recentHistory);return Q(P,e||[]),t.resolve(P)}function z(e){var t=E.find(Y);return t||(t=function(e){return V({asset:{title:"Emergency Alert",isEpisodic:!1},ncsServiceId:"",tmsId:"",networkName:"Emergency Alert",networkId:"",callSign:"",streamUri:"",logoUrl:"",genres:[],availableOutOfHome:!1,favorite:!1,cdvrRecordable:!1,blockEas:!1,hd:!1,channels:[l.a.getSelectorValue(u.Gb)],streams:[{type:"hls",drm:!1,dai:!1,uri:"",cdnUrl:e}],parentallyBlocked:!1})}(e),E.push(t),A.push(t)),t}function Y(e){return e.localChannelNumber===l.a.getSelectorValue(u.Gb)}function K(t){Y(t)||e.now(t).then(function(e){if($&&s.cancel($),e){var t=e,n=1e3*t.scheduledEndTimeSec-Date.now();$=s(function(){$=void 0,J(t,S)},n)}})}function J(e,r){var i=e.isBlocked;W().then(function(){if(n.$broadcast("player:assetSelected",r.asset),l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)){var e=ia(null===r||void 0===r?void 0:r.asset);v.getPlayer().then(function(t){t.updateLiveContentMetadata(e)})}K(r);var o=r.asset?r.asset.isBlocked:t.resolve(!1);return t.all([o,i])}).then(function(e){var t=Oe()(e,2),r=t[0];r!==t[1]&&n.$broadcast("player:blockChanged",r)})}function Q(e,t){e.splice.apply(e,[0,e.length].concat(on()(t)))}}e.$inject=["whatsOn","$q","$rootScope","parentalControlsService","capabilitiesService","$timeout","$interval","OOH_SEPARATOR_DATA","$state","CAPABILITIES","playerFactory"],e.$inject=["whatsOn","$q","$rootScope","parentalControlsService","capabilitiesService","$timeout","$interval","OOH_SEPARATOR_DATA","$state","CAPABILITIES","playerFactory"],angular.module("ovpApp.miniGuide.miniGuideData",["ovpApp.player.playerFactory","ovpApp.player.whatsOn","ovpApp.components.miniGuide.oohSeparator","ovpApp.services.capabilitiesService"]).constant("dummyEANAsset",{title:"Emergency Alert",isEpisodic:!1,networkImage:angular.noop,imageUri:angular.noop}).factory("miniGuideData",e)}(),angular.module("ovpApp.components.miniGuide.oohSeparator",["ovpApp.services.capabilitiesService"]).constant("OOH_SEPARATOR_DATA",{isDividerMockChannel:!0,available:!0,localChannelNumber:999999,channelId:999999,callSign:"TEST",episodeTitle:"TEST",channelTitle:"TEST",networkName:"TEST",networkLogoUri:"http://TEST.com",hasLinkedVODAsset:!1}).component("oohSeparator",{templateUrl:"js/components/mini-guide/ooh-separator.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{capabilitiesService:t})}return e.$inject=["capabilitiesService"],e.$inject=["capabilitiesService"],Ce()(e,[{key:"$onInit",value:function(){this.separatorMessage=this.capabilitiesService.isSpecUTA()||this.capabilitiesService.isSpecU()?l.a.getSelectorValue(u.oe):l.a.getSelectorValue(u.ec)}}]),e}()}),angular.module("ovpApp.components.mobile.login",["ovpApp.services.capabilitiesService","ovpApp.src-service"]).component("mobileLogin",{templateUrl:"js/components/mobile-login/mobileLogin.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$rootScope:t,$window:n,$state:r,OvpSrcService:i,capabilitiesService:o})}return e.$inject=["$rootScope","$window","$state","OvpSrcService","capabilitiesService"],e.$inject=["$rootScope","$window","$state","OvpSrcService","capabilitiesService"],Ce()(e,[{key:"$onInit",value:function(){this.iconClass=!1,this.areYouSure=!1,this.$window.navigator.userAgent.match(/android/i)?this.store={imageUrl:"https://play.google.com/intl/en_us/badges/images/apps/en-play-badge-border.png",alt:"Get it on Google Play",link:l.a.getSelectorValue(u.j),ariaLabel:"Get it on Google Play"}:this.$window.navigator.userAgent.match(/(ipad)|(iphone)|(ipod)/i)&&(this.store={imageUrl:"https://linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.svg",alt:"Get it on App Store",link:l.a.getSelectorValue(u.uc),ariaLabel:"Download on the App Store"});var e=l.a.getSelectorValue(u.Nc);this.heading=e.title,this.message=e.description,this.logo={url:this.OvpSrcService.versionPath("/images/".concat(e.logo)),alt:e.logoAlt},this.$rootScope.$emit("Analytics:pageChangeComplete")}},{key:"next",value:function(){this.areYouSure?this.goToDesktopVersion():(this.areYouSure=!0,this.logo=!1,this.iconClass="si si-circle-info-f",this.heading="Are You Sure?",this.message="Some features on this website may not be available\n                                    from your mobile device. For the best TV-watching experience\n                                    on the go, take advantage of the Spectrum TV App.")}},{key:"goToDesktopVersion",value:function(){this.$rootScope.$emit("goToDesktopVersionClicked"),this.$state.go("ovp.livetv")}},{key:"downloadApp",value:function(){return this.$rootScope.$broadcast("Analytics:selectDownloadApp"),!0}}]),e}()}),angular.module("ovpApp.components.ovp.button",["ngAria"]).component("ovpButton",{bindings:{label:"@",isDisabled:"@",icon:"@",focus:"@",wide:"<",inheritMaxWidth:"<",onClick:"&",onClickConfirm:"&?"},templateUrl:"js/components/ovp/ovp-button/ovp-button.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$element:t,$parse:n})}return e.$inject=["$element","$parse"],e.$inject=["$element","$parse"],Ce()(e,[{key:"$onInit",value:function(){this.hasClickConfirm=this.onClickConfirm&&this.onClickConfirm(),this.wide&&(this.maxWidth=this.inheritMaxWidth?"inherit":"initial")}},{key:"iconClass",value:function(){var e=this,t={icon:!!this.icon};return["watch-now","record-series","record-show","locked"].forEach(function(n){e.icon==n&&(t[n]=!0)}),t}}]),e}()}),angular.module("ovpApp.components.ovp.ccSettings",["ovpApp.version","ui.bootstrap","ovpApp.directives.dropdownList","ovpApp.directives.focus","ovpApp.directives.arrowNav","ovpApp.services.playerOverlayTimer"]).component("ovpCaptionSettings",{bindings:{modalInstance:"<"},templateUrl:"js/components/ovp/ovp-cc-settings/ovp-player-cc-settings.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{version:t,$rootScope:n,playerOverlayTimer:r})}return e.$inject=["version","$rootScope","playerOverlayTimer"],e.$inject=["version","$rootScope","playerOverlayTimer"],Ce()(e,[{key:"$onInit",value:function(){this.arrowNavOptions={noShiftTabExit:!1},this.ccSettings={},this.isVisible=!1,this.appVersion=this.version.appVersion,this.focus={},this.colorOptions=[{color:"#000000",index:0,name:"Default",initial:"D"},{color:"#FFFFFF",index:1,name:"White",initial:"W"},{color:"#000000",index:2,name:"Black",initial:"B"},{color:"#FF0000",index:3,name:"Red",initial:"R"},{color:"#008000",index:4,name:"Green",initial:"G"},{color:"#0000FF",index:5,name:"Blue",initial:"B"},{color:"#FFFF00",index:6,name:"Yellow",initial:"Y"},{color:"#FF00FF",index:7,name:"Magenta",initial:"M"},{color:"#00FFFF",index:8,name:"Cyan",initial:"C"}],this.textOpacityOptions=[{text:"Default",index:0},{text:"Opaque",index:1},{text:"Semitransparent",index:2}],this.fontOptions=[{text:"Default",index:0},{text:"Monospaced with serifs",index:1},{text:"Monospaced without serifs",index:2},{text:"Proportional with serifs",index:3},{text:"Proportional without serifs",index:4},{text:"Casual",index:5},{text:"Cursive",index:6},{text:"Small capitals",index:7}],this.fontSizeOptions=[{text:"Default",index:0},{text:"Small",index:1},{text:"Medium",index:2},{text:"Large",index:3}],this.fontEdgeOptions=[{text:"Default",index:0},{text:"None",index:1},{text:"Raised",index:2},{text:"Depressed",index:3},{text:"Uniform",index:4},{text:"Left drop shadow",index:5},{text:"Right drop shadow",index:6}],this.backgroundOpacityOptions=[{text:"Default",index:0},{text:"Opaque",index:1},{text:"Semitransparent",index:2},{text:"Transparent",index:3}],this.windowOpacityOptions=[{text:"Default",index:0},{text:"Opaque",index:1},{text:"Semitransparent",index:2},{text:"Transparent",index:3}];var e=C.a.getItem(k.b.ccSettings);e?this.ccSettings=e:this.resetCCSetting(),this.initSetterMethods(),this.playerOverlayTimer.clearOverlayTimer()}},{key:"hide",value:function(){this.modalInstance.dismiss()}},{key:"initSetterMethods",value:function(){var e=this;this.setTextOpacity=function(t){e.setCCSettings({textOpacitySelectedIndex:t.index})},this.setFont=function(t){e.setCCSettings({fontSelectedIndex:t.index})},this.setFontSize=function(t){e.setCCSettings({fontSizeSelectedIndex:t.index})},this.setFontEdge=function(t){e.setCCSettings({edgeSelectedIndex:t.index})},this.setBackgroundOpacity=function(t){e.setCCSettings({backgroundOpacitySelectedIndex:t.index})},this.setWindowOpacity=function(t){e.setCCSettings({windowOpacitySelectedIndex:t.index})},this.setTextColor=function(t){e.setCCSettings({textColorSelectedIndex:t.index})},this.setBackgroundColor=function(t){e.setCCSettings({backgroundColorSelectedIndex:t.index})},this.setWindowColor=function(t){e.setCCSettings({windowColorSelectedIndex:t.index})}}},{key:"restoreDefault",value:function(){this.resetCCSetting(),this.$rootScope.$broadcast("cc-settings-changed",this.ccSettings)}},{key:"resetCCSetting",value:function(){this.ccSettings={backgroundColorSelectedIndex:0,backgroundOpacitySelectedIndex:0,edgeSelectedIndex:0,fontSelectedIndex:0,fontSizeSelectedIndex:0,textColorSelectedIndex:0,textOpacitySelectedIndex:0,windowColorSelectedIndex:0,windowOpacitySelectedIndex:0}}},{key:"setCCSettings",value:function(e){angular.merge(this.ccSettings,e),this.$rootScope.$broadcast("cc-settings-changed",this.ccSettings)}},{key:"closeCCSettings",value:function(){this.playerOverlayTimer.startOverlayTimer(),this.hide()}}]),e}()}),angular.module("ovpApp.components.ovp.remotePlayerCCSettings",["ovpApp.version","ui.bootstrap","ovpApp.directives.dropdownList","ovpApp.directives.focus","ovpApp.directives.arrowNav","ovpApp.services.stbService","ovpApp.services.stbSettingsService"]).component("ovpRemotePlayerCaptionSettings",{bindings:{modalInstance:"<",resolve:"<"},templateUrl:"js/components/ovp/ovp-cc-settings/ovp-remote-player-cc-settings.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{version:t,$rootScope:n,stbService:r,StbSettingsService:i})}return e.$inject=["version","$rootScope","stbService","StbSettingsService"],e.$inject=["version","$rootScope","stbService","StbSettingsService"],Ce()(e,[{key:"$onInit",value:function(){this.ccSettings=this.ccSettings||{},this.isVisible=!1,this.appVersion=this.version.appVersion,this.focus={},this.initSetterMethods()}},{key:"$onChanges",value:function(){if(this.resolve.stb&&this.resolve.allowedCCOptions&&this.resolve.ccSettings){this.stb=this.resolve.stb;var e=this.resolve.allowedCCOptions,t=function(e,t){return{text:e,index:t}},n=function(e){var t=e.defaultValue?e.allowedValues.indexOf(e.defaultValue):0;return t>=0?t:0};this.textOpacityOptions=e.textStyle.allowedValues.map(t),this.fontOptions=e.textFont.allowedValues.map(t),this.fontSizeOptions=e.textSize.allowedValues.map(t),this.backgroundOpacityOptions=e.backgroundStyle.allowedValues.map(t),this.digitalSourceOptions=e.digitalSource.allowedValues.map(t),this.formatSourceOptions=e.formatSource.allowedValues.map(t),this.textColorOptions=e.textColor.allowedValues.map(t),this.backgroundColorOptions=e.backgroundColor.allowedValues.map(t),this.ccDefaultSettings={backgroundColor:n(e.backgroundColor),backgroundOpacity:n(e.backgroundStyle),font:n(e.textFont),fontSize:n(e.textSize),textColor:n(e.textColor),textOpacity:n(e.textStyle),digitalSource:n(e.digitalSource),formatSource:n(e.formatSource)};var r=this.resolve.ccSettings,i=function(t){var i=e[t].allowedValues.indexOf(r[t]);return i>=0?i:n(e[t])};this.ccSettings={backgroundColor:i("backgroundColor"),backgroundOpacity:i("backgroundStyle"),font:i("textFont"),fontSize:i("textSize"),textColor:i("textColor"),textOpacity:i("textStyle"),digitalSource:i("digitalSource"),formatSource:i("formatSource")}}}},{key:"hide",value:function(){this.modalInstance.dismiss()}},{key:"initSetterMethods",value:function(){var e=this;this.setTextOpacity=function(t){e.setCCSettings({textOpacity:t.index})},this.setFont=function(t){e.setCCSettings({font:t.index})},this.setFontSize=function(t){e.setCCSettings({fontSize:t.index})},this.setBackgroundOpacity=function(t){e.setCCSettings({backgroundOpacity:t.index})},this.setTextColor=function(t){e.setCCSettings({textColor:t.index})},this.setBackgroundColor=function(t){e.setCCSettings({backgroundColor:t.index})},this.setDigitalSource=function(t){e.setCCSettings({digitalSource:t.index})},this.setFormatSource=function(t){e.setCCSettings({formatSource:t.index})}}},{key:"restoreDefault",value:function(){this.resetCCSetting()}},{key:"resetCCSetting",value:function(){this.ccSettings=this.ccDefaultSettings,this.setCCSettings(this.ccSettings)}},{key:"setCCSettings",value:function(e){angular.merge(this.ccSettings,e),this.StbSettingsService.updateCCSettings(this.stb,{backgroundColor:this.backgroundColorOptions[this.ccSettings.backgroundColor].text,backgroundStyle:this.backgroundOpacityOptions[this.ccSettings.backgroundOpacity].text,digitalSource:this.digitalSourceOptions[this.ccSettings.digitalSource].text,formatSource:this.formatSourceOptions[this.ccSettings.formatSource].text,textColor:this.textColorOptions[this.ccSettings.textColor].text,textFont:this.fontOptions[this.ccSettings.font].text,textSize:this.fontSizeOptions[this.ccSettings.fontSize].text,textStyle:this.textOpacityOptions[this.ccSettings.textOpacity].text})}}]),e}()}),angular.module("ovpApp.components.ovp.channel",["ovpApp.services.epgsService"]).component("ovpChannel",{templateUrl:"js/components/ovp/ovp-channel/ovp-channel.html",bindings:{mystroServiceId:"<",channelId:"<",tmsGuideId:"<",callSign:"<",displayType:"@"},controller:function(){function e(t){we()(this,e),angular.extend(this,{epgsService:t})}return e.$inject=["epgsService"],e.$inject=["epgsService"],Ce()(e,[{key:"$onInit",value:function(){this.imageQueryParams="?sourceType=colorhybrid&apikey="+l.a.getSelectorValue(u.od)+"&width=100",this.ignoreChannelNumbers=l.a.getSelectorValue(u.Zf)}},{key:"isList",value:function(){return"list"===this.displayType}},{key:"$onChanges",value:function(){this.updateChannels()}},{key:"updateChannels",value:function(){this.channelId&&this.mystroServiceId?this.updateByMystroServiceId():this.tmsGuideId&&this.updateByTmsGuideId()}},{key:"updateByMystroServiceId",value:function(){var e=this;this.epgsService.getChannelByMystroSvcId(this.mystroServiceId,this.channelId).then(function(t){t&&(e.networkLogoUrl=l.a.getSelectorValue(u.vc)+"/imageserver/guide/"+t.callSign+e.imageQueryParams,e.callSign=t.callSign)})}},{key:"updateByTmsGuideId",value:function(){var e=this;ea.a.getChannels({tmsGuideId:this.tmsGuideId.toString()}).then(function(t){var n,r=t[0];r&&(e.networkLogoUrl=l.a.getSelectorValue(u.vc)+"/imageserver/guide/"+r.callSign+e.imageQueryParams,e.callSign=r.callSign,!e.channelId&&(null===r||void 0===r?void 0:null===(n=r.channelNumbers)||void 0===n?void 0:n.length)&&(e.channelId=r.channelNumbers[0]))})}}]),e}()});n("5md7");angular.module("ovpApp.components.ovp.error",["ngAria"]).component("ovpError",{bindings:{type:"<",message:"<"},templateUrl:"js/components/ovp/ovp-error/ovp-error.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{version:t})}return e.$inject=["version"],e.$inject=["version"],Ce()(e,[{key:"iconPath",value:function(){var e="icon-24-x-24-"+this.type+".svg";return this.version.appVersion+"/images/"+e}}]),e}()});var da=n("NpoH"),pa=n.n(da),ha=n("YON7"),va=n.n(ha);function fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ga=function(e,t){return ya("OneApp_selectContent_swimlane_episodeSelection",e,t)},ba=function(e,t){return ya("OneApp_selectContent_swimlane_assetSelection",e,t)},ya=function(e,t,n){return Object(y.j)(e,ma(ma(ma({},Ci(n)),{},{currPageElemUiName:null===n||void 0===n?void 0:n.title},t),{},{msgTriggeredUsing:Object(Li.c)()}))};!function(){var e={boxart:"js/components/ovp/ovp-product/boxart-template.html",list:"js/components/ovp/ovp-product/list-item-template.html"};angular.module("ovpApp.directives.product",["ovpApp.services.parentalControlsService","ovpApp.directives.fallbackImage","ovpApp.directives.fadeinOnload","ovpApp.directives.lazySrc","ovpApp.directives.focus","ovpApp.product.service","ovpApp.services.oohService","ovpApp.directives.keydown"]).component("ovpProduct",{bindings:{asset:"<",options:"<",onRemove:"&?",onClick:"&?",category:"<"},require:{carouselContainer:"^^?ovpCarousel",gridlistContainer:"^^?ovpGridList"},templateUrl:["$attrs",function(t){return e[t.template]||e.boxart}],controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d){we()(this,e),angular.extend(this,{parentalControlsService:t,$q:n,$state:r,$controller:i,$rootScope:o,$window:a,searchFocusIndex:s,focusMediator:c,oohService:l,$scope:u,productService:d}),-1!==a.navigator.userAgent.indexOf("Chrome")?this.isChrome=!0:this.isChrome=!1}return e.$inject=["parentalControlsService","$q","$state","$controller","$rootScope","$window","searchFocusIndex","focusMediator","oohService","$scope","productService"],e.$inject=["parentalControlsService","$q","$state","$controller","$rootScope","$window","searchFocusIndex","focusMediator","oohService","$scope","productService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.container=this.carouselContainer||this.gridlistContainer,this.oohUnavailable=this.oohService.isUnavailableOoh(this.asset),this.options&&this.options.focusOnLoad?this.focusMediator.requestFocus(this.focusMediator.highPriority).then(function(){return e.focusOnLoad=!0}):this.focusOnLoad=!1}},{key:"$onChanges",value:function(e){e.options&&this.applyDefaultOptions(e.options.currentValue)}},{key:"click",value:function(e){var t,n,r,i,o,a,s,c,l,u,d,p,h={currPageSubsecItemCnt:null===(t=this.carouselContainer)||void 0===t?void 0:null===(n=t.options)||void 0===n?void 0:n.totalSwimlanes,currPageSubsecIndex:null===(r=this.carouselContainer)||void 0===r?void 0:null===(i=r.options)||void 0===i?void 0:i.swimlaneIndex,currPageElemItemCnt:null===(o=this.carouselContainer)||void 0===o?void 0:null===(a=o.items)||void 0===a?void 0:a.length,currPageElemIndex:e,currPageSubsecName:Object(b.a)((null===(s=this.carouselContainer)||void 0===s?void 0:null===(c=s.options)||void 0===c?void 0:c.title)||(null===(l=this.gridlistContainer)||void 0===l?void 0:null===(u=l.options)||void 0===u?void 0:u.title)),currPageElemType:"Product-Card"};!this.carouselContainer&&this.gridlistContainer&&(h.currPageSubsecIndex=0,h.currPageSubsecItemCnt=1,h.currPageElemItemCnt=null===(d=this.gridlistContainer)||void 0===d?void 0:null===(p=d.items)||void 0===p?void 0:p.length);if(this.asset.searchFacet?Wo({asset:this.asset}):this.asset.isSeries?ga(h,this.asset):ba(h,this.asset),this.onClick)this.onClick({asset:this.asset,index:e});else if(this.asset.isEntitled||"Network"!==this.asset.resultDisplay)if(this.oohService.isUnavailableOoh(this.asset))this.oohService.showOohModal();else{var v,f=this.asset.clickRoute;if(f&&f[0]&&f[0].startsWith("search")&&this.searchFocusIndex.set(this.options.index,this.options.parentIndex),f)(v=this.$state).go.apply(v,on()(f))}else this.productService.showUnentitledNetworkModal()}},{key:"remove",value:function(e){var t=document.activeElement.closest("div.ovp-carousel"),n=t&&t.querySelectorAll("a:not(.carousel-all), button");n&&this.refocusAfterDelete(n,this.findTabIndexZero(n)),(this.onRemove||angular.noop)({asset:this.asset}),e.preventDefault(),e.stopPropagation()}},{key:"statusOptions",value:function(){return this.asset?{outOfWindow:this.asset.isOutOfWindow&&this.options.enableOOW,outOfHome:this.oohUnavailable}:{}}},{key:"playedStyle",value:function(){return this.asset&&this.asset.bookmark&&!this.asset.bookmark.complete?{width:this.asset.playedPct+"%"}:{}}},{key:"showRentalInfo",value:function(){return"auto"==this.options.showRentalInfo?this.isTvod():this.options.showRentalInfo}},{key:"isTvod",value:function(){var e=this.asset&&this.asset.price;return angular.isDefined(e)&&(angular.isNumber(e)&&e>0||angular.isString(e)&&"free"!==e.toLowerCase())}},{key:"hasPagination",value:function(){return!(!this.container||!angular.isFunction(this.container.hasPagination))&&this.container.hasPagination()}},{key:"getTitlePrefix",value:function(){var e="";return this.asset.isBlockedByParentalControls&&(e="Blocked"),!1===this.asset.isEntitled&&(e="Not Entitled"),e}},{key:"setTabIndexZero",value:function(e,t){e.forEach(function(e,n){return e.setAttribute("tabindex",n===t?"0":"-1")}),e[t].focus()}},{key:"findTabIndexZero",value:function(e){var t=va()(function(e){return"0"===e.getAttribute("tabindex")},e);return t<0&&(t=0),this.setTabIndexZero(e,t),t}},{key:"setFocus",value:function(e,t){this.container.focus(nt()(function(e){return e.classList.contains("remove")},e)?Math.floor(t/2):t),this.setTabIndexZero(e,t)}},{key:"isDescendant",value:function(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1}},{key:"isValidSwimlaneSelector",value:function(e,t){var n=this;return!!e&&!!nt()(function(e){return n.isDescendant(e,t)},e.children)}},{key:"moveFocus",value:function(e,t){this.setFocus(e,pa()(0,e.length-1,t))}},{key:"refocusAfterDelete",value:function(e,t){var n=t;if(e[t].classList.contains("remove")){if(e.length<=2)return;if(++n>e.length-1)return void this.setTabIndexZero(e,n-4)}this.setTabIndexZero(e,n)}},{key:"keyEvent",value:function(e){var t,n=this,r=e.which||e.keyCode,i=document.activeElement,o=i.closest(".swimlanes-container");if(this.isValidSwimlaneSelector(o,i)){var a=i.closest("div.ovp-carousel").querySelectorAll("a:not(.carousel-all), button"),s=this.findTabIndexZero(a),c=(t={},f()(t,39,function(e,t){return n.moveFocus(e,t+1)}),f()(t,40,function(e,t,r){r.preventDefault(),n.moveFocus(e,t+1)}),f()(t,37,function(e,t){return n.moveFocus(e,t-1)}),f()(t,38,function(e,t,r){r.preventDefault(),n.moveFocus(e,t-1)}),f()(t,9,function(e,t){return n.moveFocus(e,t)}),t)[r];c&&(e.stopPropagation(),c(a,s,e))}}},{key:"applyDefaultOptions",value:function(e){this.options=angular.extend({},{enableRemove:!1,enableOOW:!1,showRentalInfo:"auto"},e)}}]),e}()})}(),angular.module("ovpApp.components.ovp.rating",[]).constant("ratingLookup",{ADULT:"twcicon-rating-adult",G:"twcicon-rating-g","NC-17":"twcicon-rating-nc17",NR:"twcicon-rating-nr","PG-13":"twcicon-rating-pg13",PG:"twcicon-rating-pg",R:"twcicon-rating-r","TV-14":"twcicon-rating-tv14","TV-G":"twcicon-rating-tvg","TV-MA":"twcicon-rating-tvma","TV-PG":"twcicon-rating-tvpg","TV-Y":"twcicon-rating-tvy","TV-Y7":"twcicon-rating-tvy7"}).component("ovpRating",{bindings:{rating:"<"},templateUrl:"js/components/ovp/ovp-rating/ovp-rating.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{ratingLookup:t})}return e.$inject=["ratingLookup"],e.$inject=["ratingLookup"],Ce()(e,[{key:"$onChanges",value:function(e){var t=this;if(e.rating){var n=angular.isArray(this.rating)?this.rating:[this.rating];this.ratingData=n.map(function(e){var n={};return t.ratingLookup[e]&&(n[t.ratingLookup[e]]=!0),{class:n,label:e}})}}}]),e}()}),function(){angular.module("ovpApp.components.ovp.sortable",[]).directive("ovpSortable",function(){return{restrict:"A",scope:{ovpSortable:"=ovpSortable"},compile:function(){return function(e,t){var n;t.addClass("ovp-sortable"),t.sortable({containment:t,axis:"y",distance:1,items:"> li",tolerance:"pointer",placeholder:"ovp-sortable-placeholder",scrollSensitivity:150,scrollSpeed:100,change:function(e,t){t.helper.insertBefore(t.placeholder)},start:function(){n=t.find("> :not(li.ovp-sortable-placeholder)").toArray()},stop:function(r,i){var o,a,s,c=t.find("> :not(li.ovp-sortable-placeholder)").toArray(),l=!1;for(a=0,s=n.length;a<s;a++)if(n[a]!==c[a]){l=!0;break}l&&(o=[],angular.forEach(c,function(t){o.push(e.ovpSortable[n.indexOf(t)])}),e.ovpSortable.splice(0,e.ovpSortable.length),e.$apply(),Array.prototype.push.apply(e.ovpSortable,o),e.$apply(),e.$emit("ovp-sortable:order-change",{movedUp:i.position.top<i.originalPosition.top}))}})}}}}).directive("ovpSortableHandle",function(){return{restrict:"E",templateUrl:"js/components/ovp/ovp-sortable/ovp-sortable-handle.html"}})}(),angular.module("ovpApp.components.ovp.ovpSwitch",["lib.platform"]).component("ovpSwitch",{bindings:{toggleId:"@id",buttonEnabled:"@"},templateUrl:"js/components/ovp/ovp-switch/ovp-switch.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{platform:t})}return e.$inject=["platform"],e.$inject=["platform"],Ce()(e,[{key:"$onInit",value:function(){this.isSafari="Safari"===this.platform.name}}]),e}()}),angular.module("ovpApp.components.ovpParentalControlsSlider",["ovpApp.services.parentalControlsService"]).component("ovpParentalControlsSlider",{bindings:{ratings:"<",currentRating:"=",disabled:"<",enableCallback:"<",label:"<"},templateUrl:"js/components/ovp/ovp-parental-controls-slider/ovp-parental-controls-slider.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{$q:t,$rootScope:n,parentalControlsService:r})}return e.$inject=["$q","$rootScope","parentalControlsService"],e.$inject=["$q","$rootScope","parentalControlsService"],Ce()(e,[{key:"$onInit",value:function(){this.pcDisabled=!1,this.updatePcDisabled(),this.$rootScope.$on("ParentalControls:updated",this.updatePcDisabled.bind(this))}},{key:"updatePcDisabled",value:function(){var e=this;this.parentalControlsService.isParentalControlsDisabledForClient().then(function(t){return e.pcDisabled=t})}},{key:"ratingClicked",value:function(e){if(!this.disabled)if(this.getIndexOfRating(this.currentRating)>=this.getIndexOfRating(e)){var t=this.getIndexOfRating(e);this.currentRating=this.ratings[t-1]||""}else this.currentRating=e}},{key:"ratingIsBlocked",value:function(e){return this.getIndexOfRating(e)>this.getIndexOfRating(this.currentRating)}},{key:"getIndexOfRating",value:function(e){if(!e)return-1;for(var t=0;t<this.ratings.length;t++)if(e===this.ratings[t])return t}},{key:"currentDescription",value:function(){var e="",t="are";return this.pcDisabled&&(e=", if you enable parental controls",t="will be"),this.currentRating?"".concat(this.currentRating," and lower ").concat(t," allowed ").concat(e):"all ratings ".concat(t," blocked ").concat(e)}},{key:"onKeydown",value:function(e){var t=this;if(e.ctrlKey||e.shiftKey||e.altKey)return!0;var n=35,r=36,i=37,o=38,a=39,s=40,c=this.getIndexOfRating(this.currentRating);e.keyCode>=n&&e.keyCode<=s&&(e.preventDefault(),(this.disabled?this.enableCallback?this.enableCallback()||this.$q.resolve():this.$q.reject():this.$q.resolve()).then(function(){e.keyCode==i||e.keyCode==o?t.currentRating=t.ratings[c-1]:e.keyCode==s||e.keyCode==a?t.currentRating=t.ratings[Math.min(c+1,t.ratings.length-1)]:e.keyCode==r?t.currentRating=void 0:e.keyCode==n&&(t.currentRating=t.ratings[t.ratings.length-1])}))}}]),e}()}),angular.module("ovpApp.components.pinEntry",["rx"]).constant("PIN_ENTRY_TYPE",{TOGGLE:"toggle",VALIDATE:"validate",SAVE:"save",RESET:"reset"}).constant("DEFAULT_DEBOUNCE_DELAY",100).factory("Debouncer",["rx","DEFAULT_DEBOUNCE_DELAY",function(e,t){return function(){function n(r,i){we()(this,n),i=angular.isNumber(i)?i:t,this.subject=new e.Subject,this.subject.debounce(i).takeUntil(r.$eventToObservable("$destroy")).subscribe(function(e){angular.isFunction(e)&&r.$applyAsync(e)})}return n.$inject=["scope","delay"],n.$inject=["scope","delay"],Ce()(n,[{key:"debounce",value:function(e){this.subject.onNext(e)}}]),n}()}]),function(){function e(e){var t=new e.BehaviorSubject({visible:!1});return{show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.visible=!0,t.onNext(e)},hide:function(){t.onNext({visible:!1})},getSource:function(){return t.asObservable().distinctUntilChanged()}}}e.$inject=["rx"],e.$inject=["rx"],angular.module("ovpApp.player.blockingScreen",["rx","ovpApp.parentalControlsDialog","ovpApp.services.playerOverlayTimer"]).factory("blockingScreenService",e).component("blockingScreen",{bindings:{player:"<",fullscreen:"<",asset:"<",stream:"<",isCasting:"<"},templateUrl:"js/components/player/blocking-screen.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d){we()(this,e),angular.extend(this,{$scope:t,$rootScope:n,$controller:r,playerOverlayTimer:i,chromecastService:o,$timeout:a,$document:s,$location:c,blockingScreenService:l,parentalControlsDialog:u,parentalControlsContext:d})}return e.$inject=["$scope","$rootScope","$controller","playerOverlayTimer","chromecastService","$timeout","$document","$location","blockingScreenService","parentalControlsDialog","parentalControlsContext"],e.$inject=["$scope","$rootScope","$controller","playerOverlayTimer","chromecastService","$timeout","$document","$location","blockingScreenService","parentalControlsDialog","parentalControlsContext"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.visible=!1,this.stateSubscription=this.blockingScreenService.getSource().subscribe(function(t){if(e.visible=t.visible,e.visible){try{e.isCasting||e.player.stop()}catch(e){}e.blockType=t.type,e.url=e.$location.$$host}}),this.focusListener=this.$rootScope.$on("player:focusUnblock",function(){return e.focusUnblock()})}},{key:"$onDestroy",value:function(){this.focusListener(),this.stateSubscription.dispose()}},{key:"focusUnblock",value:function(){var e=this;this.$timeout(function(){e.$document[0].getElementById("unblock-parental-controls-button").focus()},0,!1)}},{key:"unblockOnKeyDown",value:function(e){var t={enter:13,space:32};[t.space,t.enter].indexOf(e.keyCode)>-1&&this.unlockParentalControls()}},{key:"unlockParentalControls",value:function(){var e=this;this.parentalControlsDialog.withContext(this.parentalControlsContext.PLAYBACK).unlock().then(function(){e.$rootScope.$broadcast("player:parentalControlsUnblocked")})}},{key:"onClick",value:function(e){e.target.className.indexOf("base-button")>-1||(this.chromecastService.isCasting()?this.$rootScope.$broadcast("mini-guide:toggle"):this.playerOverlayTimer.toggleMiniGuide())}}]),e}()})}();n("qePV");var Sa=n("+zpa"),wa=n.n(Sa);function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var Ca=function(e){In()(n,e);var t=ka(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),f()(Ui()(e),"keyboardDismiss",function(t){"Escape"===t.key&&e.props.tooltipOptions.dismissFunction()}),e}return Ce()(n,[{key:"render",value:function(){var e,t=this.props.tooltipOptions,n=t.ariaLabel,r=t.title,i=t.description,o=t.dismissFunction,a=null!==(e=this.props.tooltipOptions.className)&&void 0!==e?e:"",s=React.createElement("div",null,React.createElement("h2",{className:"kite-h5"},r),React.createElement("div",{className:"tooltip-description"},i));return React.createElement("div",{className:"".concat(a," tooltip-container grow")},React.createElement("div",{className:"tooltip",role:"region","aria-label":n},React.createElement("button",{type:"button",className:"close-button","aria-label":"Close tip",onKeyDown:this.keyboardDismiss,onClick:o},""),this.props.children||s))}}]),n}(Q.Component);Ca.propTypes={tooltipOptions:At.a.shape({dismissFunction:At.a.func.isRequired,title:At.a.string,description:At.a.string,ariaLabel:At.a.string,className:At.a.string})};var $a=function(e){var t={title:"Mini Player",ariaLabel:"Mini Player Tip",className:"pip-tooltip-container",dismissFunction:function(){return e.dismissFunction("user")}};return React.createElement(Ca,{tooltipOptions:t},React.createElement("h2",{className:"kite-h5"},t.title),React.createElement("div",{className:"tooltip-description"},"Turn off Mini Player in ",React.createElement("a",{onClick:function(){return e.dismissFunction("pip-settings")},onKeyDown:function(t){"Escape"===t.key&&e.dismissFunction("user")},href:"/settings/miniPlayer"},"Settings")))};$a.propTypes={dismissFunction:At.a.func.isRequired},angular.module("ovpApp.miniPlayerTooltip",[]).component("miniPlayerTooltip",Object(Ct.react2angular)($a,["dismissFunction"],[]));var Ta=function(e){e.style;var t=e.defaultClass,n=void 0===t?"":t,r=e.width,i=void 0===r?"178":r,o=e.height,a=void 0===o?"178":o,s=e.viewBox,c=void 0===s?"0 0 177 178":s;e.stroke,e.strokeWidth,e.opacity,e.fill;return React.createElement("svg",{className:n,width:i,height:a,viewBox:c,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("defs",null,React.createElement("filter",{x:"-70.5%",y:"-69.2%",width:"241.0%",height:"238.3%",filterUnits:"objectBoundingBox",id:"filter-1"},React.createElement("feOffset",{dx:"0",dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),React.createElement("feGaussianBlur",{stdDeviation:"18",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),React.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 1 0",type:"matrix",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),React.createElement("feMerge",null,React.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),React.createElement("feMergeNode",{in:"SourceGraphic"}))),React.createElement("linearGradient",{x1:"47.7709667%",y1:"52.3300057%",x2:"47.0068923%",y2:"52.9805568%",id:"linearGradient-2"},React.createElement("stop",{stopColor:"#FFFFFF",offset:"0%"}),React.createElement("stop",{stopColor:"#FFFFFF",offset:"100%"}))),React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Play-Copy-2",transform:"translate(36.000000, 33.000000)"},React.createElement("g",{id:"Icons-/-play-circle-Copy-2",filter:"url(#filter-1)",transform:"translate(0.000000, 0.500000)",fill:"#001019",fillOpacity:"0.503708107",stroke:"url(#linearGradient-2)",strokeWidth:"2"},React.createElement("ellipse",{id:"Combined-Shape",cx:"52.4073663",cy:"53.4056019",rx:"52.4073663",ry:"53.4056019"})),React.createElement("polygon",{id:"Triangle",fill:"#008CFF",fillRule:"nonzero",transform:"translate(58.500000, 53.000000) rotate(-270.000000) translate(-58.500000, -53.000000) ",points:"58.5 38.5 75 67.5 42 67.5"}))))},Oa=n("lt9a");function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var Aa=function(e){In()(n,e);var t=Ea(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={showAutoPlayFailureUi:!1},r}return Ce()(n,[{key:"componentDidUpdate",value:function(e){this.props.showAutoPlayFailureUi!==e.showAutoPlayFailureUi&&this.props.$rootScope.$emit("Analytics:OneApp_play_overlay_button_modalView",{visible:this.props.showAutoPlayFailureUi})}},{key:"render",value:function(){var e=this;return this.props.showAutoPlayFailureUi?React.createElement(Nn,{focusOnLoad:!0},React.createElement("a",{href:"#","aria-label":"Resume Watching",role:"button",className:"videoPlayOverlay",onClick:function(){return e.onClicked()}}," ",React.createElement(Ta,{defaultClass:"play-icon",width:"178",height:"178"}))):null}},{key:"onClicked",value:function(){this.props.$rootScope.$emit("Analytics:OneApp_selectAction_play_overlay_play",{drmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD)}),this.props.playClickHandler(),this.props.hidePlayOverlay()}}]),n}(Q.Component);angular.module("ovpApp.player.playOverlay",[]).component("playOverlay",Object(Ct.react2angular)(Object($t.connect)(function(e){return{showAutoPlayFailureUi:e.player.autoplay.showAutoPlayFailureUi}},function(e){return{hidePlayOverlay:function(){return e(Object(Oa.e)())}}})(Aa),["playClickHandler"],["store","$rootScope"]));var Pa=n("Erqy"),Ia=n("6wCY"),xa="player.brokenStream.window",_a="config.data.playerRetry.brokenStreams.linear",Da="config.data.playerRetry.brokenStreams.vod",Ra="daiEnabledNewStream";function ja(){l.a.dispatch(Object(Ia.e)())}function Na(){return Object(b.c)(La(),"retryCount",0)}function Ma(){return Object(b.c)(La(),"retryMethod")}function Va(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,i){n.errorExtras=n.errorExtras||{};var o=l.a.getStatePath("player.currentAsset.playbackType")===Eo.g.LINEAR?l.a.getStatePath(_a):l.a.getStatePath(Da);if(!o.enable)return n.errorExtras.reason="Broken stream retries disabled for stream type",void i({errorCode:e,errorMessage:t,attemptNumber:0,error:n});if(function(e){return e.status&&e.status>=400&&e.status<500}(n))return n.errorExtras.reason="Error prevents retry",void i({errorCode:e,errorMessage:t,attemptNumber:0,error:n});var a=La();if(a||(a=function(e){var t={allowedRetries:e.maximumAttempts,retryCount:0,retryMethod:Ra,expiry:Date.now()+e.retryWindowMs};return l.a.dispatch(Object(Ia.d)(t)),t}(o)),function(e){return e.allowedRetries-e.retryCount<=0}(a))return n.errorExtras.reason="Used "+a.retryCount+" of "+a.allowedRetries+" retries",void i({errorCode:e,errorMessage:t,attemptNumber:a.retryCount,error:n});a.retryCount++,l.a.dispatch(Object(Ia.f)(a));var s=angular.element(document.body).injector().get("$rootScope");s.$emit("Analytics:playbackFailureBeforeRetry",{attemptNumber:a.retryCount,retryMethod:a.retryMethod,clientErrorCode:n.clientErrorCode,errorCode:e,errorType:"playbackRestartAttempt",errorMessage:t,errorExtras:n.errorExtras}),s.$emit("Analytics:playbackRetryAttemptRestart",{attemptNumber:a.retryCount,retryMethod:a.retryMethod}),r({attemptNumber:a.retryCount,retryMethod:a.retryMethod})})}function La(){var e=l.a.getStatePath(xa);return function(e){return e&&Date.now()>=e.expiry}(e)?(l.a.dispatch(Object(Ia.e)()),null):e}var Fa=n("ZCGA"),Ua=n("B2Pn"),Ba=[],Wa=[],Ha=[],Ga=[],qa=[],za=[],Ya=[],Ka=[],Ja=[],Qa={},Xa=[],Za=[],es=[],ts=[Ua.HttpRequestType.DRM_LICENSE_CLEARKEY,Ua.HttpRequestType.DRM_LICENSE_PRIMETIME,Ua.HttpRequestType.DRM_CERTIFICATE_FAIRPLAY,Ua.HttpRequestType.DRM_LICENSE_FAIRPLAY,Ua.HttpRequestType.DRM_LICENSE_PLAYREADY,Ua.HttpRequestType.DRM_LICENSE_WIDEVINE],ns={maxDownloadedFinishedEvents:5,maxPlayedSegments:5,maxFailToDownloadEvents:5,maxPlayerWarnings:5,maxPlayerErrors:5,maxAdTrackingEvents:5,maxDownloadedSegments:5,playerConfigLoggingOn:!0,maxInProgressRequests:5,maxDownloadedLicenseRequests:6,logAdTrackingEvents:!1};var rs={init:function(){var e=l.a.getStatePath("config.data.debug");e&&(ns.maxDownloadedFinishedEvents=e.maxDownloadedFinishedEvents,ns.maxPlayedSegments=e.maxPlayedSegments,ns.maxFailToDownloadEvents=e.maxFailToDownloadEvents,ns.maxPlayerWarnings=e.maxPlayerWarnings,ns.maxPlayerErrors=e.maxPlayerErrors,ns.maxDownloadedLicenseRequests=e.maxDownloadedLicenseRequests,ns.playerConfigLoggingOn=e.playerConfigLoggingOn,ns.logAdTrackingEvents=e.logAdTrackingEvents,ns.maxInProgressRequests=e.maxInProgressRequests)},cacheInProgressRequests:function(e){var t,n;Object.keys(Qa).length>=ns.maxInProgressRequests&&delete Qa[Object.keys(Qa)[0]];var r=null!==(t=null===e||void 0===e?void 0:null===(n=e.request)||void 0===n?void 0:n.url)&&void 0!==t?t:"NONE";Qa[r]=r},cacheDownloadedFinishedEvents:function(e){if(delete Qa[e.url],ts.includes(null===e||void 0===e?void 0:e.downloadType))return Ka.length>=ns.maxDownloadedLicenseRequests&&Ka.shift(),void Ka.push(e);200===e.httpStatus?(Ba.length>=ns.maxDownloadedFinishedEvents&&Ba.shift(),Ba.push(e)):(Ha.length>=ns.maxFailToDownloadEvents&&Ha.shift(),Ha.push(e))},cachePlayedSegment:function(e){Wa.length>=ns.maxPlayedSegments&&Wa.shift(),Wa.push(e)},cachePlayerWarnings:function(e){Ga.length>=ns.maxPlayerWarnings&&Ga.shift(),Ga.push(e)},cachePlayerErrors:function(e){qa.length>=ns.maxPlayerErrors&&qa.shift(),qa.push(e)},cacheDownloadedSegments:function(e){Ya.length>=ns.maxDownloadedSegments&&Ya.shift(),Ya.push(e)},getCachedData:function(){return{downloadedFinishedEvents:Ba,downloadedLicenseRequests:Ka,playedSegments:Wa,failToDownloadEvents:Ha,adTrackingEvents:za,playerWarnings:Ga,playerErrors:qa,downloadedSegments:Ya,postLoadPlayerSource:Xa,postLoadPlayerConfig:Ja,inProgressRequests:Qa,supportedDrm:Za,supportedTech:es}},clearCachedSegmentsInfo:function(){Ba=[],Wa=[],Ha=[],Ga=[],qa=[],Ya=[],Ja=[],Xa=[],Za=[],es=[],Ka=[],za=[],Qa={}},cachePostLoadPlayerConfig:function(e){ns.playerConfigLoggingOn&&Ja.push(e)},cachePostLoadPlayerSource:function(e){ns.playerConfigLoggingOn&&Xa.push(e)},cacheSupportedDrm:function(e){ns.playerConfigLoggingOn&&Za.push(e)},cacheSupportedTech:function(e){ns.playerConfigLoggingOn&&es.push(e)},cacheAdTrackingEvents:function(e){ns.logAdTrackingEvents&&(za.length>=ns.maxAdTrackingEvents&&za.shift(),za.push(e))}},is=n("YPdk"),os={LINEAR:"LINEAR",CDVR:"CDVR",VOD:"VOD",TVOD:"TVOD",TVOD_TRAILER:"TVOD_TRAILER"};function as(){var e=C.a.getItem(k.b.drmSessionKey);return e&&!function(e){var t=1e3*e.expirationTimeSeconds-l.a.getSelectorValue(u.kb);return ls(t)}(e)?Promise.resolve(e):function(){var e={url:l.a.getSelectorValue(u.Eb),withCredentials:!0,includeDeviceId:!0,params:{drm:"cenc"}};return $e.default.get(e).then(function(e){var t=e.data;return C.a.setItem(k.b.drmSessionKey,t),t})}()}function ss(e){return cs.apply(this,arguments)}function cs(){return(cs=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:us(t),withCredentials:!0,includeDeviceId:!0},e.abrupt("return",$e.default.get(n).then(function(e){return e.data.jwtToken}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ls=function(e){return Date.now()>=e};function us(e){return l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.jb)[e]}function ds(e){var t=e.streamType,n=e.isTvod,r=e.isTrailer;return t===Eo.g.LINEAR?os.LINEAR:t===Eo.g.CDVR?os.CDVR:r?os.TVOD_TRAILER:n&&!r?os.TVOD:os.VOD}var ps=n("0Mdl"),hs=n("hIh8"),vs=n("06qP");function fs(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=function(t){return n.isResolved=!0,e(t)},n.reject=function(e){return n.isRejected=!0,t(e)},n.isResolved=!1,n.isRejected=!1,n}angular.module("ovpApp.player",["ovpApp.analytics.analyticsService","ovpApp.player.playerService","ovpApp.player.streamService","ovpApp.parentalControlsDialog","ovpApp.components.ovp.ccSettings","ovpApp.components.vast","ovpApp.components.insecure","ovpApp.directives.ovp-fullscreen","ovpApp.product.service","ovpApp.messages","ovpApp.services.rxUtils","ovpApp.services.connectivityService","ovpApp.services.playerOverlayTimer","ovpApp.player.streamService","ovpApp.src-service","lib.platform","rx","ovpApp.player.blockingScreen","ovpApp.player.playOverlay","ovpApp.miniGuide.miniGuideData","ovpApp.version","ovpApp.services.streamTimeoutCoordinator","ovpApp.playerControls.skipButton","ovpApp.player.playerFactory","ovpApp.player.streamInitRetryCoordinator","ovpApp.services.abrStrategy","ovpApp.services.kiteModal","ovpApp.infoBanner","ovpApp.miniPlayerTooltip","ovpApp.player.stillWatchingTimer"]).constant("playerErrors",{unentitled:"unentitled",blocked:"blocked",adBlocker:"adBlocker",outOfHome:"outOfHome",notFound:"notFound",notRented:"notRented",tunedAway:"tunedAway",unknown:"unknown",oohFraudDetection:"oohFraudDetection",drmSessionError:"drmSessionError",cdvrStreamFetchError:"cdvrStreamFetchError",cancelled:"cancelled",inprogressCdvrStreamFetchError:"inprogressCdvrStreamFetchError"}).component("player",{templateUrl:"js/components/player/player.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g,b,y,S,w,k,C,$,T,O,E,A,P,I,x,_,D,R,j,N,M,V){we()(this,e),angular.extend(this,{$scope:t,$rootScope:n,$q:r,$controller:i,rx:o,createObservableFunction:a,playerService:s,$timeout:c,VastParser:u,LegacyAdParser:d,$http:p,$log:h,InsecureService:v,$location:f,ovpFullscreen:m,parentalControlsDialog:g,parentalControlsContext:b,connectivityService:y,playerStreamService:S,$state:w,$transitions:k,blockingScreenService:C,$document:$,miniGuideData:T,streamTimeoutCoordinator:O,platform:I,$window:A,version:P,chromecastService:E,playerOverlayTimer:_,streamInitRetryCoordinator:D,kiteModalService:R,playerErrors:x,abrStrategyService:l,sapService:j,stillWatchingTimer:N,CDVR_STATE:M,analyticsService:V}),this.PLAYER_TYPES=Eo.f,this.translateX=0,this.translateY=0,this.movingPipWithKeyboard=!1,this.showPipTooltip=!1,this.packager404Detected=!1,this.packager404Expiration}return e.$inject=["$scope","$rootScope","$q","$controller","rx","createObservableFunction","playerService","$timeout","abrStrategyService","VastParser","LegacyAdParser","$http","$log","InsecureService","$location","ovpFullscreen","parentalControlsDialog","parentalControlsContext","connectivityService","playerStreamService","$state","$transitions","blockingScreenService","$document","miniGuideData","streamTimeoutCoordinator","chromecastService","$window","version","platform","playerErrors","playerOverlayTimer","streamInitRetryCoordinator","kiteModalService","sapService","stillWatchingTimer","CDVR_STATE","analyticsService"],e.$inject=["$scope","$rootScope","$q","$controller","rx","createObservableFunction","playerService","$timeout","abrStrategyService","VastParser","LegacyAdParser","$http","$log","InsecureService","$location","ovpFullscreen","parentalControlsDialog","parentalControlsContext","connectivityService","playerStreamService","$state","$transitions","blockingScreenService","$document","miniGuideData","streamTimeoutCoordinator","chromecastService","$window","version","platform","playerErrors","playerOverlayTimer","streamInitRetryCoordinator","kiteModalService","sapService","stillWatchingTimer","CDVR_STATE","analyticsService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.debug="true"===this.$location.search().debug,this.droppedFramesCount=0,this.channel=null,this.adPlaying=!1,this.$rootScope.isShowingPip=!1,this.isBlocked=!1,this.isPlaying=!1,this.isVod=!1,this.isLinear=!1,this.returnPathName="Live TV",this.previousState=null,this.previousStateParams={},this.watchNextFeatureActive=!1,this.isOnline=!0,rs.init(),this.chromecastService.isEnabled()&&(this.isCasting=this.chromecastService.isCasting(),this.chromecastMetadata=this.chromecastService.getMetadata(),this.isCastIdle=this.isCasting&&!this.chromecastMetadata,this.castBackgroundImageSrc=this.getCastBackgroundImageSrc(),this.updateCastMessage(),this._addChromecastListeners()),this.skipSeconds=parseInt(l.a.getSelectorValue(u.ge)),this.streamType=null,this.tooltipDismissFunction=this.dismissPipTooltip.bind(this),this.hidePlayer=!0,this.preloading=!this.isCasting,this.onPlayOverlayClicked=a()(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playerService.getPlayerInstance();case 2:(n=t.sent).play().then(function(){e.isLinear&&n.seekToLiveEdge()}).catch(function(t){["SOURCE_INVALID","AbortError"].includes(t.name)&&(l.a.dispatch(Object(Pa.h)()),e.playerService.handleHDCPFailure())});case 4:case"end":return t.stop()}},t)})),this.subscribeToBlockingService(),this.playerStreamService.removeAllStoredAegisData(),this.$transitions.onBefore({},function(){e.isValidPlayRoute()||(e.playerStreamService.playbackStoppedHandler(),aa(),e.player=null,e.playerService.destroyPlayer())}),this.preloading=!1,this.onAfterPlayerInit()}},{key:"onAfterPlayerInit",value:function(){var e=this;this.playerService.assetLoadedSource.subscribe(function(t){e._updatePlayerAfterAssetChange(t)}),this.isMiniPlayerEnabled()&&this.initMiniPlayer(),this.$scope.$on("stream-uri-obtained",function(t,n,r){e._onStreamURIObtained(t,n,r)}),this.$scope.$on("connectivityService:statusChanged",this.onConnectionChange.bind(this)),this.$rootScope.$on("playerService:stop",function(){e.playbackStop&&e.playbackStop(),e.streamType&&e.streamType.toUpperCase()===Eo.g.LINEAR&&e.stillWatchingTimer.clearTimer()}),this.$rootScope.$on("watch-next:show",function(){e.ovpFullscreen.exitFullscreen(),e.watchNextDisplayed=!0,e.watchNextFeatureActive=!0}),this.$rootScope.$on("watch-next:hide",function(t,n){e.watchNextDisplayed=!1,n?e.$timeout(function(){e.watchNextFeatureActive=!1},1e3,!0):e.watchNextFeatureActive=!1}),this.$rootScope.$on("player:handleStreamFailure",function(t,n){var r=n.errorCode,i=n.errorMessage,o=n.error;e.handleStreamFailure(r,i,o)})}},{key:"_updatePlayerAfterAssetChange",value:function(){var e=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}if(this.isVod=t.streamType===Eo.g.VOD||t.streamType===Eo.g.CDVR,this.isLinear=t.streamType===Eo.g.LINEAR,this.returnPathName=this.isVod?"Video Player":"Live TV",this.isPlaying=!1,this.teardown=this.createObservableFunction(),this.playbackStop=this.createObservableFunction(),this.teardown(),this.chromecastService.isCasting()){e.next=12;break}return e.next=11,this.playerService.getPlayerInstance();case 11:this.player=e.sent;case 12:this.$rootScope.$broadcast("player-control:playerChanged"),this.$rootScope.$emit("sap:update"),this.preloading=!1,this.registerPlayerEvents(),this.isMiniPlayerEnabled()&&this.initializeDraggability(),this.$rootScope.$emit("player:updated",this.player),this.$scope.$evalAsync();case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_onStreamURIObtained",value:function(e,t,n){this.streamType="VOD"===t?t:"Linear",this.applyInitialBitrate();var r="";n||(n={}),n.stream&&(r=n.stream.streamUrlWithDAIScheme||n.stream.stream_url),n.type=t,r.indexOf("?")>0?n.parts=r.split("?")[1].split("&").map(function(e){return e.split("=")}).reduce(function(e,t){return e[t[0]]=t[1],e},{}):n.parts={},this.streamInfo=n,this.debug="true"===this.$location.search().debug}},{key:"_onSourceLoaded",value:function(){var e=this.player.play();this.playerService.handleHDCPFailure(),e.catch(function(e){["NotAllowedError","AbortError"].includes(e.name)&&(l.a.getSelectorValue(u.kg)&&(l.a.dispatch(Object(Oa.f)()),l.a.dispatch(ps.a.autoplayFailed())),Object(S.a)({customLevel:"player",customName:"autoplay",customMessage:{error:e.name,autoplayTactic:l.a.getSelectorValue(u.s)}}))})}},{key:"_pauseIfComingFromChromecast",value:function(){var e=l.a.getStatePath("player.currentAsset",{});e.wasCasting&&e.playbackType!==Eo.g.LINEAR&&(this.player.pause(),this.isPlaying=!1,l.a.dispatch(Object(Fa.c)(!1)))}},{key:"_addChromecastListeners",value:function(){var e=this;this.$rootScope.$on("chromecast:connection-changed",function(t,n){e.isCasting=n.connected,e.isCasting?(e.preloading=!1,e.player&&(e.player.stop(),e.playerStreamService.playbackStoppedHandler()),e.isPlaying=!1,e.isCastIdle=!0,e.ovpFullscreen.exitFullscreen()):(e.castBackgroundImageSrc=null,e.chromecastMetadata=null,e.isCastIdle=!1,e.isValidPlayState()&&l.a.dispatch(Object(Fa.c)(!0))),e.updateCastMessage(null)}),this.$rootScope.$on("chromecast:loading-media",function(){e.chromecastMetadata=null,e.castMessage=null,e.castBackgroundImageSrc=null,e.isCastIdle=!0}),this.$rootScope.$on("chromecast:load-media-failure",function(){var t=e.chromecastService.getDeviceName();e.castMessage="Connected to ".concat(t)}),this.$rootScope.$on("chromecast:media-info-changed",function(t,n){if(!e.chromecastService.hasRequestInProgress()){e.chromecastMetadata=n.metadata,e.updateCastMessage(n);var r=e.getCastBackgroundImageSrc();r!==e.castBackgroundImageSrc&&(e.castBackgroundImageSrc=r),e.isPlaying=e.chromecastService.isPlaying(),e.isCastIdle=!1}})}},{key:"subscribeToBlockingService",value:function(){var e=this;this.stateSubscription=this.blockingScreenService.getSource().subscribe(function(t){if(e.isBlocked=t.visible,e.isBlocked&&e.player&&e.$rootScope.isShowingPip&&!e.hidePlayer)try{e.playerService.stop({triggeredBy:lt.m.APPLICATION}),e.isPlaying=!1}catch(e){}})}},{key:"getCastBackgroundImageSrc",value:function(){return this.chromecastMetadata?Object(b.c)(this.chromecastMetadata,["images",0,"url"])+"?twccategory=Iconic&sourceType=colorHybrid&default=true":null}},{key:"updateCastMessage",value:function(e){if(this.chromecastService.isCasting()){var t=this.chromecastService.getDeviceName(),n=e||this.chromecastService.getMediaData();this.castMessage=n&&n.metadata?"Casting to ".concat(t):"Connected to ".concat(t)}else this.castMessage=null}},{key:"initializeDraggability",value:function(){var e=this;wa()("#playerWrapper").origin("self").draggable({}).on("dragstart",function(){e.$rootScope.isShowingPip&&(e.calculatePipBoundaries(),e.playerWrapper.classList.add("dragging"),e.dismissPipTooltip("application"),document.addEventListener("mousemove",e.mouseDragListener),e.$document.find(".main-container")[0].classList.add("prevent-user-selection"))}).on("dragend",function(){e.$rootScope.isShowingPip&&(e.playerWrapper.classList.remove("dragging"),document.removeEventListener("mousemove",e.mouseDragListener),e.$document.find(".main-container")[0].classList.remove("prevent-user-selection"))})}},{key:"setMiniPlayerTranslation",value:function(e,t){this.translateX=Math.min(e,this.translateBoundaries.maxX),this.translateX=Math.max(this.translateX,this.translateBoundaries.minX),this.translateY=Math.min(t,this.translateBoundaries.maxY),this.translateY=Math.max(this.translateY,this.translateBoundaries.minY),this.playerWrapper.style.webkitTransform=this.playerWrapper.style.transform="translate("+this.translateX+"px, "+this.translateY+"px)"}},{key:"resetPlayerPosition",value:function(){this.playerWrapper.style.webkitTransform=this.playerWrapper.style.transform="translate(0px, 0px)"}},{key:"closePip",value:function(e){this.dismissPipTooltip(e),this.resetPlayerPosition(),this.playerWrapper.classList.remove("draggable"),this.$rootScope.$emit("pip-closed"),this.$rootScope.isShowingPip=!1,this.$document[0].getElementById("moveMiniPlayerLiveAriaStatus").innerHTML=""}},{key:"isMiniPlayerEnabled",value:function(){var e=C.a.getItem(k.b.miniPlayerEnabled)&&l.a.getSelectorValue(u.Mc);return void 0!==e&&e}},{key:"updateMiniPlayerControlVisibility",value:function(e){if(this.$rootScope.isShowingPip){var t=this.playerWrapper.classList.contains("dragging");if("mouseleave"!=e.type||t){if("mouseenter"==e.type)this.mpcVisible=!0;else if("keydown"==e.type){if("mpcGoFullScreen"===e.target.id)return void("Tab"===e.key&&(this.mpcVisible=!!e.shiftKey));if("mpcDismiss"===e.target.id)return void("Tab"===e.key&&(this.mpcVisible=!e.shiftKey));this.mpcVisible=!0}}else this.mpcVisible=!1}}},{key:"initMiniPlayer",value:function(){return this.closePip("application"),null}},{key:"updateMiniPlayerControls",value:function(e){this.scrubbingDisabled=e.stream&&e.stream.streamProperties.tricks_mode&&void 0!==e.stream.streamProperties.tricks_mode.FASTFORWARD&&!(e.adBreaks&&e.adBreaks.length)}},{key:"toggleMiniGuide",value:function(){this.$rootScope.isShowingPip||this.$rootScope.$emit("mini-guide:toggle")}},{key:"dismissPipTooltip",value:function(e){return this.showPipTooltip=!1,C.a.setItem(k.b.hidePipSettingTooltip,!0),this.$document.find("#showPipTooltip").css("display","none"),"user"===e?this.$rootScope.$emit("Analytics:miniplayer-tooltip-dismiss"):"pip-settings"===e&&this.$rootScope.$emit("Analytics:miniplayer-tooltip-go-to-settings"),!0}},{key:"miniPlayerDragMoveMouse",value:function(e){e.preventDefault(),this.setMiniPlayerTranslation(this.translateX+e.movementX,this.translateY+e.movementY)}},{key:"toggleMute",value:function(){this.player.isMuted()?this.player.setMuted(!1):this.player.setMuted(!0),this.isMuted=this.player.isMuted(),this.$rootScope.$emit("Analytics:selectAction-toggleMute",{muted:this.isMuted})}},{key:"togglePlay",value:function(){this.player.isPaused()?this.player.play():this.player.pause(),this.player.trigger("playback-pause-toggled",this.isPlaying)}},{key:"togglePipMovement",value:function(){this.dismissPipTooltip("application");var e=this.$document[0].getElementById("moveMiniPlayerLiveAriaStatus");this.movePipButton=this.$document[0].getElementById("togglePipMovement"),this.movingPipWithKeyboard?(this.movePipButton.removeEventListener("keydown",this.movePipAccessibleListener),this.movingPipWithKeyboard=!1,e.innerHTML="Move mini player"):(this.movePipButton.addEventListener("keydown",this.movePipAccessibleListener),this.movingPipWithKeyboard=!0,e.innerHTML="Use arrow keys to reposition"),this.movePipButton.setAttribute("aria-pressed",this.movingPipWithKeyboard)}},{key:"locateMiniPlayer",value:function(){var e=this.playerWrapper.getBoundingClientRect(),t=e.left+e.width/2,n=e.top+e.height/2,r=this.$window.innerWidth/2;return{topHalf:n<=this.$window.innerHeight/2,leftHalf:t<=r,screenWidth:this.$window.innerWidth,screenHeight:this.$window.innerHeight,playerWidth:e.width,playerHeight:e.height}}},{key:"miniPlayerMoveKeyListener",value:function(e){var t=this;e.preventDefault(),this.calculatePipBoundaries();var n=this.locateMiniPlayer(),r=this.$document[0].getElementById("moveMiniPlayerLiveAriaStatus"),i=-1*n.screenWidth+n.playerWidth+20,o=-1*n.screenHeight+n.playerHeight+20;if(this.$rootScope.isShowingPip&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)){switch(e.key){case"ArrowUp":n.leftHalf?(this.setMiniPlayerTranslation(i,o),r.innerHTML="Positioned: Top Left"):(this.setMiniPlayerTranslation(0,o),r.innerHTML="Positioned: Top Right");break;case"ArrowDown":n.leftHalf?(this.setMiniPlayerTranslation(i,0),r.innerHTML="Positioned: Bottom Left"):(this.setMiniPlayerTranslation(0,0),r.innerHTML="Positioned: Bottom Right");break;case"ArrowLeft":n.topHalf?(this.setMiniPlayerTranslation(i,o),r.innerHTML="Positioned: Top Left"):(this.setMiniPlayerTranslation(i,0),r.innerHTML="Positioned: Bottom Left");break;case"ArrowRight":n.topHalf?(this.setMiniPlayerTranslation(0,o),r.innerHTML="Positioned: Top Right"):(this.setMiniPlayerTranslation(0,0),r.innerHTML="Positioned: Bottom Right")}this.movePipButton.focus(),this.mpcVisible=!0,setTimeout(function(){t.$document[0].getElementById("togglePipMovement").focus()},0)}this.$rootScope.isShowingPip&&"Tab"===e.key&&(this.togglePipMovement(),this.findNextTabStop(this.movePipButton).focus())}},{key:"skip",value:function(e){this.$rootScope.isShowingPip?this.chromecastService.skip(e):this.$rootScope.$broadcast("playerControls: skip",{multiplier:e})}},{key:"findNextTabStop",value:function(e){var t=this.$window.document.querySelectorAll("input, button, select, textarea, a[href], span.si, span.restore"),n=Array.prototype.filter.call(t,function(e){return e.tabIndex>="0"});return n[n.indexOf(e)+1]||n[0]}},{key:"hidePip",value:function(e){"user"===e&&this.$rootScope.$emit("Analytics:select-pip-close"),this.$rootScope.isShowingPip&&this.closePip(e),!this.chromecastService.isCasting()&&this.player&&this.player.isPlaying()&&(this.playerService.stop({triggeredBy:e}),this.isPlaying=!1),this.$rootScope.$emit("mini-player:hide",this.$rootScope.isShowingPip),this.hidePlayer=!0,this.miniGuideData.onPlayerDestroyed()}},{key:"calculatePipBoundaries",value:function(){var e=this.locateMiniPlayer(),t=this.$window.getComputedStyle(this.playerWrapper);this.translateBoundaries={},this.translateBoundaries.minX=Math.round(-1*(e.screenWidth-e.playerWidth)+this.getIntegerFromString(t.getPropertyValue("right"))),this.translateBoundaries.maxX=Math.round(this.getIntegerFromString(t.getPropertyValue("right"))),this.translateBoundaries.minY=Math.round(-1*(e.screenHeight-e.playerHeight)+this.getIntegerFromString(t.getPropertyValue("bottom"))),this.translateBoundaries.maxY=Math.round(this.getIntegerFromString(t.getPropertyValue("bottom")))}},{key:"getIntegerFromString",value:function(e){return e.match(/\d+/).map(Number)[0]}},{key:"goBack",value:function(){this.$rootScope.$emit("Analytics:selectAction-returnFromMiniPlayer"),this.$state.go(this.previousState,this.previousStateParams)}},{key:"$onDestroy",value:function(){this.teardown()}},{key:"registerPlayerEvents",value:function(){var e=this;if(this.player&&this.player.initialized){this.observableFromPlayerEvent("post-load-player-config").subscribe(function(e){return rs.cachePostLoadPlayerConfig(e)}),this.observableFromPlayerEvent("post-load-player-source").subscribe(function(e){return rs.cachePostLoadPlayerSource(e)}),this.observableFromPlayerEvent("supported_drm").subscribe(function(e){return rs.cacheSupportedDrm(e)}),this.observableFromPlayerEvent("supported_tech").subscribe(function(e){return rs.cacheSupportedTech(e)}),this.observableFromPlayerEvent("segment-playback-started").subscribe(function(e){return rs.cachePlayedSegment(e)}),this.observableFromPlayerEvent("download-finished").subscribe(function(e){return rs.cacheDownloadedFinishedEvents(e)}),this.observableFromPlayerEvent("in-progress-request").subscribe(function(e){return rs.cacheInProgressRequests(e)}),this.observableFromPlayerEvent("segment-request-ended").subscribe(function(e){return rs.cacheDownloadedSegments(e)}),this.observableFromPlayerEvent("ad-twc-tracking-request").subscribe(function(t){return e.onTrackingRequest(t)}),this.observableFromPlayerEvent("ad-break-started").subscribe(function(t){return e.adPlaying=!0}),this.observableFromPlayerEvent("ad-break-stopped").subscribe(function(t){return e.adPlaying=!1}),this.observableFromPlayerEvent("unblock-stream-request").subscribe(function(t){return e.onUnblockStreamRequest(t)}),this.observableFromPlayerEvent("ad-metadata-received").subscribe(function(t){return e.onAdMetadataReceived(t)}),this.observableFromPlayerEvent("ad-metadata-event-received").subscribe(function(t){return e.onAdMetadataEventReceived(t)}),this.observableFromPlayerEvent("player-position-changed").subscribe(function(t){return e.onPlayerPositionChanged(t)}),this.observableFromPlayerEvent("bitrate-changed").subscribe(function(t){return e.onBitRateChanged(t)}),this.observableFromPlayerEvent("channel-changed").subscribe(function(t){return e.onChannelChanged(t)}),this.observableFromPlayerEvent("error").subscribe(function(t){return e.onVideoPlayerError(t)}),this.observableFromPlayerEvent("warning").subscribe(function(e){return rs.cachePlayerWarnings(e)}),this.observableFromPlayerEvent("buffering-began").subscribe(function(t){return e.streamTimeoutCoordinator.bufferingStart(t)}),this.observableFromPlayerEvent("buffering-ended").subscribe(function(t){return e.streamTimeoutCoordinator.bufferingEnd(t)}),this.observableFromPlayerEvent("playback-stopped").subscribe(function(){e.$rootScope.isShowingPip&&e.hidePip("application")}),this.observableFromPlayerEvent("playback-pause-toggled").subscribe(function(t){e.isPlaying=!t});var t=this.observableFromPlayerEvent("playback-started");this.teardown.merge(this.playbackStop).skipUntil(t).subscribe(function(){e.player&&e.player.trigger("playback-stopped",{TriggeredBy:"exitPlayer"}),t=!1,e.isPlaying=!1,l.a.dispatch(ps.a.playbackStopped()),Object(is.b)()}),t.subscribe(function(){e.isPlaying=!0,e._pauseIfComingFromChromecast(),l.a.dispatch(ps.a.playbackStarted()),e.streamTimeoutCoordinator.cancelTimer(),e.applyInitialPlayerSettings(),e.streamType&&e.streamType.toUpperCase()===Eo.g.LINEAR&&e.stillWatchingTimer.startTimer(),Object(is.a)()}),this.subscribeToCCEvents(),this.subscribeToSAPEvents(),this.subscribeToVolumeEvents(),this.player.on("source-set",function(){e._onSourceLoaded()}),this.player.on("download-finished",function(t){if("downloadfinished"===t.type){if(!e.streamInfo||"LIVE"!==e.streamInfo.type)return;if(t.success&&e.packager404Detected&&Date.now()>e.packager404Expiration)return e.packager404Detected=!1,void(e.packager404Expiration=void 0);if(e.packager404Detected&&Date.now()<=e.packager404Expiration&&!e.player.isPlaying()){var n=te.a.getErrorInfo("WLP-1003");return e.packager404Detected=!1,e.packager404Expiration=void 0,void e.handleStreamFailure("WLP-1003",n.message,{message:"packager 404 + player freeze error"})}404===t.httpStatus&&e.player.isPlaying()&&Object(y.i)()===hs.b.PLAYING&&(e.packager404Detected=!0,e.packager404Expiration=Date.now()+6e4)}}),this.$rootScope.$eventToObservable("EAS:start").takeUntil(this.teardown).subscribe(function(){return e.onEAS()}),this.$rootScope.$eventToObservable("player:minimize").takeUntil(this.teardown).subscribe(function(){return e.onMinimize()}),l.a.getSelectorValue(u.lf)&&this.player.on("drm-authorization-expired",function(t){ss(e.playerService.getIrdetoDrmType()).then(function(e){t.onNewAuthorizationHeader("Bearer "+e)})}),this.$document.on(Eo.c.ENTER,function(){var t,n,r,i,o;e.$rootScope.$emit("pip-opened"),(null===(t=e.$window.navigator)||void 0===t?void 0:null===(n=t.mediaSession)||void 0===n?void 0:n.playbackState)===Eo.d.PAUSED&&(e.$window.navigator.mediaSession.playbackState=Eo.d.PLAYING,e.$rootScope.$emit("toggle-playback")),"LIVE"!==(null===e||void 0===e?void 0:null===(r=e.streamInfo)||void 0===r?void 0:r.type)&&(null===(i=e.$window.navigator)||void 0===i?void 0:null===(o=i.mediaSession)||void 0===o?void 0:o.setActionHandler)&&(e.$window.navigator.mediaSession.setActionHandler(Eo.c.PLAY,function(){e.$window.navigator.mediaSession.playbackState=Eo.d.PLAYING,e.$rootScope.$emit("toggle-playback")}),e.$window.navigator.mediaSession.setActionHandler(Eo.c.PAUSE,function(){e.$window.navigator.mediaSession.playbackState=Eo.d.PAUSED,e.$rootScope.$emit("toggle-playback")}))}),this.$document.on(Eo.c.EXIT,function(){var t,n,r,i;null===(t=e.$window.navigator)||void 0===t||null===(n=t.mediaSession)||void 0===n||n.setActionHandler(Eo.c.PLAY,null),null===(r=e.$window.navigator)||void 0===r||null===(i=r.mediaSession)||void 0===i||i.setActionHandler(Eo.c.PAUSE,null),e.$rootScope.$emit("pip-closed"),e.$timeout(function(){var t,n,r;(null===(t=e.$window.navigator)||void 0===t?void 0:null===(n=t.mediaSession)||void 0===n?void 0:n.playbackState)===Eo.d.PAUSED?(e.$window.navigator.mediaSession.playbackState=Eo.d.PLAYING,e.$rootScope.$emit("toggle-playback")):(null===e||void 0===e?void 0:null===(r=e.player)||void 0===r?void 0:r.isPaused())&&e.$rootScope.$emit("toggle-playback")})})}}},{key:"applyInitialPlayerSettings",value:function(){this.disablePictureInPicture(),this.disableTabFocus(),this.applyCCEnabled(),this.applyCCSettings(),this.applySAPEnabled()}},{key:"disableTabFocus",value:function(){this.player.disableTabFocus()}},{key:"applyInitialBitrate",value:function(){var e=this.abrStrategyService.getAbrConfiguration(this.streamType),t={initialBitrateInBitsPerSec:e.initial,minimumBitrateInBitsPerSec:e.min,maximumBitrateInBitsPerSec:e.max,bitrateControlPolicy:e.bitrateControlPolicy};this.$rootScope.$emit("Analytics:playbackBitrateConfig",t),this.player.setBitrateControlParameters(t)}},{key:"subscribeToCCEvents",value:function(){var e=k.b.ccSettings;this.observableFromPlayerEvent("cc-settings-changed").subscribe(function(t){return C.a.setItem(e,t)})}},{key:"subscribeToSAPEvents",value:function(){var e=k.b.sapEnabled;this.observableFromPlayerEvent("sap-toggled").subscribe(function(t){return C.a.setItem(e,t)})}},{key:"subscribeToVolumeEvents",value:function(){var e=k.b.volumeLevel,t=k.b.muted;this.observableFromPlayerEvent("volume-level-changed").debounce(1e3).subscribe(function(t){return C.a.setItem(e,t)}),this.observableFromPlayerEvent("mute-toggled").subscribe(function(e){C.a.setItem(t,e)})}},{key:"applyCCEnabled",value:function(){var e=k.b.ccEnabled,t=C.a.getItem(e);void 0!==t&&this.player.setCCEnabled(t)}},{key:"applyCCSettings",value:function(){var e=k.b.ccSettings,t=C.a.getItem(e)||{backgroundColorSelectedIndex:0,backgroundOpacitySelectedIndex:0,edgeSelectedIndex:0,fontSelectedIndex:0,fontSizeSelectedIndex:0,textColorSelectedIndex:0,textOpacitySelectedIndex:0,windowColorSelectedIndex:0,windowOpacitySelectedIndex:0};this.player.setCCSettings(t)}},{key:"applySAPEnabled",value:function(){var e=k.b.sapEnabled,t=C.a.getItem(e);void 0!==t&&this.player.setSAPEnabled(t)}},{key:"disablePictureInPicture",value:function(){l.a.getSelectorValue(u.Xf)||this.player.setDisablePictureInPicture(!0)}},{key:"onMinimize",value:function(){this.ovpFullscreen.exitFullscreen()}},{key:"onEAS",value:function(){var e=this,t=C.a.getItem(k.b.muted);this.player.setMuted(!0),this.$rootScope.$eventToObservable("EAS:end").first().takeUntil(this.teardown).subscribe(function(){return e.player.setMuted(t)})}},{key:"onConnectionChange",value:function(e,t){t&&this.player&&!this.player.isPlaying()&&this.playerService.isValidLiveRoute()&&(this.playerStreamService.playChannel({player:this.player,channel:this.channel,triggeredBy:"application"}),this.$rootScope.$broadcast("playback-resumed"))}},{key:"onVideoPlayerError",value:function(){var e=a()(i.a.mark(function e(t){var n,r,o,a,s,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(rs.cachePlayerErrors(t),n=Object(b.c)(t,"code"),![1303].includes(n)){e.next=4;break}return e.abrupt("return");case 4:return t.ECDBCode=Object(is.d)(null===t||void 0===t?void 0:t.code)?"3036":t.ECDBCode,r=l.a.getStatePath("player.currentAsset",{}),o=r.playbackType,a=r.asset,s=this.playerService.determineErrorCodeFromError(o,t),c=te.a.getErrorInfo(s).message,c=o.toUpperCase()===Eo.g.LINEAR?c.replace("{{CHANNEL}}",Object(b.c)(a,["channel","networkName"])):c.replace("{{PRM}}",Object(b.c)(a,["title"])),"WVP-3304"===s&&this.$rootScope.$emit("Analytics:error",{errorCode:String(s),errorMessage:te.a.getErrorInfo(s).message,clientErrorCode:String(t.flashAuthError),errorType:"application"}),e.next=12,Object(vs.a)();case 12:this.handleStreamFailure(s,c,t);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleStreamFailure",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(b.g)(r)&&(r={cause:r}),this.packager404Detected=!0,this.packager404Expiration=void 0,this.streamTimeoutCoordinator.cancelTimer(),r=Object(b.i)(r,"errorExtras.message",r.message),(r=Object(b.i)(r,"errorExtras.name",r.name)).errorID&&(r=Object(b.i)(r,"errorExtras.errorID",String(r.errorID))),r.mediaPlayerErrorRuntimeCode&&(r=Object(b.i)(r,"errorExtras.mediaPlayerErrorRuntimeCode",String(r.mediaPlayerErrorRuntimeCode))),r.mediaPlayerErrorCode&&(r=Object(b.i)(r,"errorExtras.mediaPlayerErrorCode",String(r.mediaPlayerErrorCode))),r.mediaPlayerErrorDescription&&(r=Object(b.i)(r,"errorExtras.mediaPlayerErrorDescription",r.mediaPlayerErrorDescription)),r.cause&&(r=Object(b.i)(r,"errorExtras.cause",r.cause)),r=Object(b.i)(r,"errorExtras.streamInitWaitingForRetry",this.streamInitRetryCoordinator.isWaitingForRetry()||!1),r=Object(b.i)(r,"errorExtras.isPlaying",String(this.isPlaying)),!this.streamInitRetryCoordinator.isWaitingForRetry())if(aa(),this.isPlaying){if(r.cause===this.playerErrors.tunedAway)return;Va(e,t,r).then(function(){return n.playerStreamService.forceStreamResume()}).catch(function(e){var t=e.errorCode,r=e.errorMessage,i=e.error;return n.failStream(t,r,i)})}else this.streamInitRetryCoordinator.reportErrorAndDetermineRetry(e,t,r,function(e){n.playerStreamService.attemptStreamInit()},function(e){var t=e.errorCode,r=e.errorMessage,i=e.error;return n.failStream(t,r,i)})}},{key:"setNativeErrorCode",value:function(e,t){var n,r;if((null===e||void 0===e?void 0:e.playbackType)&&t){var i=null;switch(e.playbackType){case Eo.g.LINEAR:i="L-".concat(t);break;case Eo.g.VOD:i="V-".concat(t);break;case Eo.g.CDVR:i=(null===e||void 0===e?void 0:null===(n=e.asset)||void 0===n?void 0:null===(r=n.cdvrRecording)||void 0===r?void 0:r.cdvrState)===this.CDVR_STATE.IN_PROGRESS?"DI-".concat(t):"D-".concat(t);break;default:i=t}return this.adPlaying?"".concat(i,"-AD_PLAYING"):"".concat(i,"-AD_NOT_PLAYING")}}},{key:"failStream",value:function(e,t){var n,r,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=new Error;s.stack&&(a=Object(b.i)(a,"errorExtras.stack",s.stack)),a=Object(b.i)(a,"errorExtras.nativeErrorCode",this.setNativeErrorCode(l.a.getStatePath("player.currentAsset",{}),null===(n=a)||void 0===n?void 0:n.code)),Object(is.d)(null===(r=a)||void 0===r?void 0:r.code)?this.analyticsService.event("playbackExitBeforeStart",{triggeredBy:"user",retryAttempts:0}):this.$rootScope.$emit("Analytics:playbackFailure",{asset:this.playerStreamService.getCurrentAsset(),clientErrorCode:(null===(i=a)||void 0===i?void 0:i.code)||(null===(o=a)||void 0===o?void 0:o.clientErrorCode),cause:a.errorID||a.cause,errorCode:e,errorMessage:t,errorExtras:a.errorExtras}),this.player&&this.player.stop(),this.hidePip("application");var c,u=this.playerStreamService.getCurrentAsset();this.isVod&&u&&u.clickRoute&&(c=this.$state).go.apply(c,on()(u.clickRoute));var d=te.a.getErrorInfo(e);return this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,doNotCloseAutomatically:!0,resolve:{title:d.title,description:t,errorCode:e},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}},{key:"onAdMetadataReceived",value:function(e){try{e.name&&(e=[e]);var t=[];t=l.a.getSelectorValue(u.rf)?this.VastParser.parseAdBreaks(e,this.streamInfo):this.LegacyAdParser.parseAdEvents(e),this.player.setAdBreakData(t)}catch(e){this.$log.error("Error parsing ads",e)}}},{key:"onAdMetadataEventReceived",value:function(e){try{var t=null;t=l.a.getSelectorValue(u.rf)?this.VastParser.parseAdEvent(e,this.streamInfo):this.LegacyAdParser.parseAdEvents(e),this.player.setAdInstanceData(t)}catch(e){this.$log.error("Error parsing ad event",e)}}},{key:"onTrackingRequest",value:function(e){var t=this;rs.cacheAdTrackingEvents(e),this.VastParser.getTrackingUrls(e).forEach(function(e){return t.sendTrackingRequest(e)})}},{key:"sendTrackingRequest",value:function(e){var t=new URL(e),n=!0;l.a.getSelectorValue(u.Zb)&&("http:"===t.protocol&&(t.protocol="https:",n=!1),e=t.toString()),"https:"===t.protocol&&l.a.getSelectorValue(Object(u.Pf)(t.hostname))?this.$http({method:"GET",url:e,withCredentials:n}):this.InsecureService.get(e)}},{key:"onPlayerPositionChanged",value:function(e){this.droppedFramesCount!==e.DroppedFramesCount&&(this.droppedFramesCount=e.DroppedFramesCount,this.player.trigger("dropped-frame-count-changed",{NewDroppedFramesCount:this.droppedFramesCount,PlaybackTimestamp:e.PlaybackTimestamp}))}},{key:"onBitRateChanged",value:function(e){e&&e.event&&this.abrStrategyService.handleBitrateShift(e.event.profile,this.streamType)}},{key:"onChannelChanged",value:function(e){e.channel&&(this.channel=e.channel)}},{key:"observableFromPlayerEvent",value:function(e){var t=this;return this.rx.Observable.fromEventPattern(function(n){return t.player.on(e,n)},function(n){var r;return null===(r=t.player)||void 0===r?void 0:r.off(e,n)}).takeUntil(this.teardown)}},{key:"onUnblockStreamRequest",value:function(){var e=this;this.parentalControlsDialog.withContext(this.parentalControlsContext.PLAYBACK).unlock().then(function(){return e.$rootScope.$broadcast("player:parentalControlsUnblocked")})}},{key:"isValidPlayRoute",value:function(){return this.playerService.isValidPlayRoute()}},{key:"isValidPlayState",value:function(){return this.playerService.isValidPlayState()}}]),e}()}),angular.module("ovpApp.remotePlayer",["ovpApp.remotePlayer.controls","ovpApp.product.productActionService","rx","ovpApp.directives.focus"]).factory("remotePlayService",["rx",function(e){var t=new e.BehaviorSubject({});return{remotePlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.onNext(e)},stopRemotePlay:function(){t.onNext({})},getSource:function(){return t.asObservable().distinctUntilChanged()}}}]).component("remotePlayer",{templateUrl:"js/components/player/remote-player.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$state:t,remotePlayService:n,productActionService:r,$transitions:i,$timeout:o})}return e.$inject=["$state","remotePlayService","productActionService","$transitions","$timeout"],e.$inject=["$state","remotePlayService","productActionService","$transitions","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.selectedStb=null,this.asset=null,this.ariaLiveMessage="",this.buttonText="Switch Playback to This Device",this.remotePlaySubscription=this.remotePlayService.getSource().subscribe(function(t){t.asset&&(e.selectedStb=t.stb,e.asset=t.asset,e.tvAction=t.tvAction,e.ipAction=t.ipAction)}),this.$transitions.onEnter({},function(t){t.to().name.startsWith("ovp.playRemote")&&e.$timeout(function(){e.ariaLiveMessage="This title has been sent to play on TV named\n                                ".concat(e.selectedStb.name||e.selectedStb.macAddress,",\n                                Use your TV remote or device for player controls.")},100)})}},{key:"isVisible",value:function(){return this.$state.current.name.startsWith("ovp.playRemote")}},{key:"$onDestroy",value:function(){this.remotePlaySubscription&&this.remotePlaySubscription.dispose()}},{key:"switchPlayBack",value:function(){this.remotePlayService.stopRemotePlay(),this.ipAction?this.productActionService.executeAction(this.ipAction,this.asset):this.$state.go("ovp.livetv")}}]),e}()}),function(){function e(e,t){var n={available:!1,enabled:!1};return{init:function(r){var i=new e.BehaviorSubject(n);return t.$on("sap-reset",function(){i.onNext(n)}),r.on("sap-init",function(e){e.audio.length>1?i.onNext({available:!0,enabled:!!C.a.getItem(k.b.sapEnabled)}):i.onNext(n)}),{stream:i.asObservable().distinctUntilChanged(),toggle:function(){var e=i.getValue(),t=!e.enabled;C.a.setItem(k.b.sapEnabled,t),r.setSAPEnabled(t),i.onNext(angular.extend({},e,{enabled:t})),Object(y.j)(t?"OneApp_selectAction_sapToggle_on":"OneApp_selectAction_sapToggle_off",{msgCategory:"navigation",currPageElemType:"toggle",msgTriggeredUsing:Object(Li.c)()})}}}}}e.$inject=["rx","$rootScope"],e.$inject=["rx","$rootScope"],angular.module("ovpApp.player.sapService",["rx"]).factory("sapService",e)}();var ms=n("Aa8z"),gs=n("cEu+");function bs(e){return ys.apply(this,arguments)}function ys(){return(ys=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.h)();case 2:ct.a.set(lt.d.PERMISSION_SETTINGS,{limitAdTracking:ws(t)});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ss={true:"true",false:"false"};function ws(e){var t;return null!==(t=null===Ss||void 0===Ss?void 0:Ss[e])&&void 0!==t?t:"unknown"}var ks=n("eOGt");function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){function e(e,t,n,r,o,s,c,d,p,h,v,m,g,S,w,$,T,O,E,A,P){var I,x,_,D,j,N,M,V,L=null,F=null,U={attemptStreamInit:H,forceStreamResume:function(){try{if(D.channel)return z(D);var e=$s({},D),t=Object(b.c)(D,["asset","tmsProgramIds",0]),n=A.getBookmarkByTmsProgramId(t);return n&&(e=$s($s({},D),{},{startTime:n.playMarker,eptTime:n.entertainmentPlayMarker})),Q(e)}catch(e){return console.error("Error",e),Promise.reject(e)}},getCurrentAsset:function(){return F},playChannel:function(e){if(v.isCasting())return function(e){var t=Eo.g.LINEAR,n=e.isTrailer||e.isSeriesTrailer,r=e.channel;return F=r.asset,p.now(r).then(function(e){return Y(r,e)}).then(function(e){if(l.a.dispatch(Object(Fa.d)({asset:F,playbackType:t})),!e){var r=he(t,n);v.updateMediaInfo(r.streamType,r.contentIdentifier,F)}}).catch(function(e){return Promise.reject(e)})}(e);var t=new Promise(function(n,r){G().then(function(){return L=t,D=e,O.prepareRetry(Eo.g.LINEAR),ja(),_=fs(),j=function(){return z(e)},H().then(function(){return n()}).catch(function(e){return Promise.reject(e)})}).catch(function(e){return q(e,Object(b.c)(D,"channel.asset"),D.player),r(e)}).finally(function(){_=null,L=null,x=null})});return t},playEAN:function(e){var t=e.player,n=e.eanUrl;return s.$broadcast("player:assetSelected",d),ve({player:t,uri:n,mode:"LIVE",isTvod:!1,streamType:Eo.g.LINEAR}),r.resolve()},playVodAsset:function(e){if(v.isCasting())return function(e){var t=e.isCdvr?Eo.g.CDVR:Eo.g.VOD,n=e.isTrailer||e.isSeriesTrailer;return F=e.asset,s.$broadcast("player:assetSelected",e.asset),S.hide(),ae(e).then(function(){return pe(e)}).then(function(e){if(S.hide(),!e){var r=he(t,n);v.updateMediaInfo(r.streamType,r.contentIdentifier,F)}l.a.dispatch(Object(Fa.d)({asset:F,playbackType:t}))}).catch(function(e){return Promise.reject(e)})}(e);var t=new Promise(function(n,r){G().then(function(){return L=t,D=e,O.prepareRetry(Eo.g.VOD),ja(),_=fs(),j=function(){return Q(e)},H().then(function(){return n()}).catch(function(e){return Promise.reject(e)})}).catch(function(e){return q(e,D.asset,D.player),r(e)}).finally(function(){_=null,L=null,x=null})});return t},removeAllStoredAegisData:ee,playbackStoppedHandler:function(){ie(),N&&(X(N),N=null)},teardownOngoingStreamInit:G,flickToTV:function(e){var t,n;(null===(t=F)||void 0===t?void 0:null===(n=t.channel)||void 0===n?void 0:n.localChannelNumber)?P.tuneToChannelNumber(F.channel.localChannelNumber,e).then(function(){var t=F.title+" on "+(e.name?e.name:"Spectrum Receiver");Vi.showToastMessage("Playing: "+t)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Vi.showToastMessage(e.errorMessage+" ("+e.errorCode+")")}):F.providerAssetIdForVod&&P.flickToVodQam(F.providerAssetIdForVod,0,e).then(function(){var t=F.title+" on "+(e.name?e.name:"Spectrum Receiver");Vi.showToastMessage("Playing: "+t)},function(){var t=te.a.getErrorInfo("WCM-1001",{TITLE:F.title,STB:e.name||"Spectrum Receiver"}).message;Vi.showToastMessage(t+" (WCM-1001)")})}};return l.a.subscribe(l.a.watch("location.data")(function(){return M=l.a.getSelectorValue(ge.h)})),s.$on("player:parentalControlsUnblocked",ce),s.$on("player:transition-off-playRoute",le),E.addEventListener("beforeunload",W),U;function B(){return!!_&&_.isRejected}function W(){N&&(X(N),function(e){var t=Z();t.push(e),C.a.setItem(k.b.aegis,t)}(N))}function H(){return new Promise(function(e,t){!function n(r){j().then(function(){return e(r)}).catch(function(e){O.reportErrorAndDetermineRetry(e.errorCode,e.errorMessage,e,function(e){n(e)},function(e){t(e)})})}(O.getAttemptNumber())}).catch(function(e){return angular.isString(e)&&e in o&&h.stop({triggeredBy:lt.m.APPLICATION}),Promise.reject(e)})}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.tunedAway;return angular.isString(e)&&e in o||(e=o.cancelled),_&&_.reject(e),x&&x.resolve(e),S.hide(),$.cancelTimer(),O.cancelRetries(),h.stop({triggeredBy:lt.m.USER}),ee(),L?new Promise(function(e){L.finally(function(){e()})}):(x=void 0,_=void 0,Promise.resolve())}function q(e,t){var n={asset:t,clientErrorCode:Object(b.c)(e,"error.clientErrorCode"),cause:e.errorID||e.cause,errorCode:e.errorCode,errorMessage:e.errorMessage,errorExtras:Object(b.c)(e,"error.errorExtras")};n.errorExtras||(n=Object(b.i)(n,"errorExtras.errorJson",JSON.stringify(e.error||e))),e!==o.notRented&&s.$emit("Analytics:playbackFailure",n),h.stop({triggeredBy:lt.m.APPLICATION}),s.$emit("player:hidePip"),Object(b.g)(e)||T.errorAlert(e.errorCode,{PRM:Object(b.c)(t,"title")},{doNotCloseAutomatically:!0})}function z(e){var t,n=e.channel,i=e.triggeredBy;l.a.getSelectorValue(u.bd)&&(n.nielsenReporting=null!==(t=null===n||void 0===n?void 0:n.nielsenReporting)&&void 0!==t?t:{},n.nielsenReporting.metrics=l.a.getSelectorValue(u.dd),n.nielsenReporting.locations=l.a.getSelectorValue(u.cd));l.a.getStatePath("player.streamInfo.HDCPFailure")||l.a.dispatch(Object(Pa.i)({channel:n,triggeredBy:i,mode:"LIVE"}));var a=Io.getDRMEncodingsForStreamType(Eo.g.LINEAR).encoding;n.streamingFormat=a,n.drmType=Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR);var c=n.streamUri,d={dai:l.a.getSelectorValue(u.hf),streamType:Eo.g.LINEAR};F=n.asset,s.$broadcast("sap-reset");var v=null;return r.all([p.now(n),h.getPlayerInstance(),Ue()]).then(function(e){var t=Oe()(e,2),r=t[0],o=t[1];return v=o,r&&(n.asset=r,F=r),v.trigger("channel-changed",{channel:n,triggeredBy:i}),Y(n,r)}).then(function(){return B()?_:J(c,d)}).then(function(e){var t=l.a.getSelectorValue(u.lf)&&l.a.getSelectorValue(u.mf),n=O.getAttemptNumber()+Na();return t&&n>0?ss(h.getIrdetoDrmType()).then(function(t){return e.jwtToken=t,e}):e}).then(function(e){if(!e.drm&&l.a.getSelectorValue(u.Dd))return r.reject();e.streamUrlWithDAIScheme=function(e){var t=e.stream_url;e.dai&&l.a.getSelectorValue(u.gf)&&(t+=-1!==t.indexOf("?")?"&":"?",t+="imptoken=1");return t}(e);var t,i,o=Object.assign({},{stream:e});return l.a.getSelectorValue(u.Zc)&&(e.streamableLocations=null===n||void 0===n?void 0:null===(t=n.nielsenReporting)||void 0===t?void 0:t.locations,e.nielsenMetrics=null===n||void 0===n?void 0:null===(i=n.nielsenReporting)||void 0===i?void 0:i.metrics),o}).then(function(e){var t,r,i;if(B())return _;!function(e,t){var n=t.player,r=t.channel;s.$broadcast("stream-uri-obtained","LIVE",e),V=e,n.trigger("stream-uri-obtained",{stream:e.stream,scrubbingEnabled:!1,playerType:"linear",contentMetadata:{channelId:r.tmsId,channelIdType:"TMS",tmsProgramId:Object(b.c)(r,["asset","tmsProgramIds",0])}}),be(M,e,{isBlocked:!1})}(e,{player:v,channel:n});var o={player:v,uri:e.stream.streamUrlWithDAIScheme,drm:e.stream.drmSession,drmContentId:e.stream.drmContentId,drmJwtToken:e.stream.jwtToken,mode:"LIVE",isTvod:!1,streamType:Eo.g.LINEAR,aegis:e.stream.aegis,tokenRefreshSeconds:e.stream.token_refresh_seconds},a=Object(b.a)(me.a.getDeviceLocation()).replace(/_/g,"");return l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)&&(null===n||void 0===n?void 0:null===(t=n.nielsenReporting)||void 0===t?void 0:t.metrics)&&(null===n||void 0===n?void 0:null===(r=n.nielsenReporting)||void 0===r?void 0:null===(i=r.locations)||void 0===i?void 0:i.includes(a))&&(o.metrics=n.nielsenReporting.metrics,o.contentMetadata=ia(null===n||void 0===n?void 0:n.asset),oa(v)),ve(o),e}).then(function(e){return B()?_:ue(e)}).catch(function(e){return e===o.blocked?se(e,n.asset).then(function(){return z({channel:n,triggeredBy:i})}).catch(function(){return Promise.reject(e)}):"oohFraudDetection"===e?oe(e):Promise.reject(e)})}function Y(e,t){return function(e){if(e.channel.available)return Promise.resolve(!0);return Promise.reject(o.outOfHome)}({channel:e}).then(function(){return s.$broadcast("player:assetSelected",t),pe({asset:t})})}function K(e,n,i){var o={csid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=w.isSpecU()?"SPECU-OVP":Object(ks.a)(l.a.getInstance().getState()),n=Object(u.L)(l.a.getInstance().getState()),r=Io.getDRMEncodingsForStreamType(e).encoding;return n[t][e.toLowerCase()][r]}(i),"dai-supported":n,"drm-supported":!!e,"vast-supported":l.a.getSelectorValue(u.rf),adID:Object(R.a)(),secureTransport:!0};return l.a.getSelectorValue(u.lf)&&(o.use_token=!0,o["drm-supported"]=!0),N&&(o.aegis=N.token),e&&(o.sessionId=e.sessionId),r.all([t.isParentalControlsDisabledForClient(),t.getLocalPin()]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return n&&(o.parentalControlPIN=r),o})}function J(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.dai,s=i.streamType,c=l.a.getSelectorValue(u.Cd)+n;return s===Eo.g.LINEAR?t=l.a.getSelectorValue(u.h):s===Eo.g.VOD&&(t=l.a.getSelectorValue(u.i)),function(e){return l.a.getSelectorValue(u.lf)?r.resolve(null):e==Eo.g.LINEAR&&l.a.getSelectorValue(u.jf)||e==Eo.g.VOD&&l.a.getSelectorValue(u.kf)||l.a.getSelectorValue(u.Dd)?as():r.resolve(null)}(s).catch(function(e){return e.cause=o.drmSessionError,e.errorCode="WLP-1025",e.errorMessage=te.a.getErrorInfo(e.errorCode,{PRM:Object(b.c)(F,"title")}).message,Promise.reject(e)}).then(function(t){return t&&(e=t),K(t,a,s)}).then(function(n){var r=l.a.getSelectorValue(u.ib);if(r&&(n=$s($s({},n),{},{dlc:r})),t){var i=t.split("=");2==i.length&&(n=$s($s({},n),{},f()({},i[0],"true"===i[1])))}var a={params:n,data:function(e){var t=Io.getDRMEncodingsForStreamType(e),n=t.drm,r=t.encoding;return JSON.stringify({drmEncodings:[{drm:n,encoding:r}]})}(s),url:c,headers:{"Content-Type":"application/json"},withCredentials:!0};return $e.default.post(a).then(function(t){return t.data?(t.data.drmSession=e,Promise.resolve(t.data)):Promise.reject("stream2")}).catch(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(b.c)(e,"data"),r=Object(b.c)(e,"status");switch(e.cause=function(e,t){var n=Object(b.c)(e,"context");if(n){if(n.InUSAOnly||n.blockedOOH)return o.outOfHome;if(n.blockedByPCChannel||n.blockedByPCRating||n.incorrectPin)return o.blocked;if(n.unentitled)return o.unentitled;if(403===t&&n.unknownError)return o.notRented}return 404===t?o.notFound:429===t?o.oohFraudDetection:o.unknown}(n,r),e.cause){case o.oohFraudDetection:be(M,n,{isBlocked:!0}),e=e.cause;break;case o.outOfHome:case o.blocked:e=e.cause;break;case o.unentitled:var i=Object(re.L)(l.a.getInstance().getState());i&&E.location.reload();break;case o.notRented:e=e.cause;break;default:e.errorCode=t===Eo.g.LINEAR?"WLP-1035":"WVP-1035"}return Promise.reject(e)}(e.response,s)})})}function Q(e){var t=e.isCdvr?Eo.g.CDVR:Eo.g.VOD;F=e.asset,s.$broadcast("sap-reset"),s.$broadcast("player:assetSelected",e.asset);var n="playbackPlaySelected",i=e.isCdvr?"cdvrWatch":"onDemandWatch";if(0!==e.startTime&&(n="playbackResumeSelected",i=e.isCdvr?"cdvrResume":"onDemandResume"),!0===e.isStartOver&&(n="playbackRestartSelected",i=e.isCdvr?"cdvrRestart":"onDemandRestart"),e.isCdvr){var a=Io.getDRMEncodingsForStreamType(Eo.g.VOD).encoding;e.player.trigger("cdvr-content-selected",{asset:e.asset,operationType:n,elementStandardizedName:i,type:a,drmType:Io.getDRMCapabilityForAnalytics(Eo.g.CDVR),stream:e.stream})}else{var d=Io.getDRMEncodingsForStreamType(Eo.g.VOD).encoding;e.player.trigger("vod-content-selected",{asset:e.asset,runtimeInSeconds:e.stream.duration,elementStandardizedName:i,contentBookmark:e.startTime,operationType:n,type:d,drmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),stream:e.stream})}return ae(e).then(function(){return B()?_:pe(e)}).then(function(){return B()?_:function(e){var t,n=e.stream,i=e.isTrailer,a=e.isCdvr,d=F;t=i?n.streamProperties.ipvsTrailerUrl:a?n.streamProperties.mediaUrl?n.streamProperties.mediaUrl:n.streamProperties.cdvrRecording.playUrl:n.streamProperties.mediaUrl;var p=l.a.getSelectorValue(u.if),h=a?Eo.g.CDVR:Eo.g.VOD;return J(t,{dai:p,streamType:h}).then(function(e){if(!e.drm&&l.a.getSelectorValue(u.Dd))return r.reject();var t=Object.assign({},{isTrailer:i,drm:e.drmSession,drmJwtToken:e.jwtToken},{stream:e});return t}).catch(function(e){var t=!(s.isValidPlayRoute||s.isShowingPip),i=F!==d;return Object(b.g)(e)?Promise.reject(e):(e.errorCode||(a&&n.cdvrState===c.COMPLETED?(e.errorCode="WCD-1004",e.cause=o.cdvrStreamFetchError):a&&n.cdvrState===c.IN_PROGRESS?(e.errorCode="WCD-1005",e.cause=o.inprogressCdvrStreamFetchError):t||i?e.cause=o.tunedAway:e.errorCode="WVP-1035"),e.errorMessage=te.a.getErrorInfo(e.errorCode,{PRM:d.title}).message,r.reject(e))})}(e)}).then(function(e){var t=l.a.getSelectorValue(u.lf)&&l.a.getSelectorValue(u.mf),n=O.getAttemptNumber()+Na();return t&&n>0?ss(h.getIrdetoDrmType()).then(function(t){return e.stream&&(e.stream.jwtToken=t),e.jwtToken=t,e.drmJwtToken=t,e}):e}).then(function(n){var r,i,o,a;if(B())return _;!function(e,t){s.$broadcast("stream-uri-obtained",Eo.g.VOD,e,t),V=e;var n=t.player,r=t.asset,i=t.stream,o=t.isTrailer,a=t.isSeriesTrailer;t.stream.isCDVRRecorded?$.startCdvrStreamInitTimer():$.startVodStreamInitTimer();var c=r.network?r.network.product_provider:"",l=(c=c||"").indexOf(":"),u=c.substring(l+1),d=c.substring(0,l),p=Object(b.c)(r,["providerAssetIds",0]),h=Object(b.c)(r,["tmsProgramIds",0]);n.trigger("stream-uri-obtained",{stream:e.stream,isTrailer:o,isSeriesTrailer:a,scrubbingEnabled:!function(e){return e&&e.streamProperties.tricks_mode&&void 0!==e.streamProperties.tricks_mode.FASTFORWARD}(i),playerType:t.isCdvr?"cdvr":"onDemand",contentBookmark:t.startTime,contentMetadata:{product:d,provider:u,contentIdType:"thePlatform",contentId:String(p),providerAssetId:p,tmsProgramId:h,contentClass:t.stream?function(e){return"CDVR"===e.type?"cdvr":Object(b.c)(e,"streamProperties.ondemandStreamType","").toLowerCase()}(t.stream):r.contentClass,seriesIdType:(r.isSeries||r.isEpisode)&&"thePlatform",seriesId:(r.isSeries||r.isEpisode)&&r.tmsSeriesId,cdvrRecording:i.cdvrRecording}}),be(M,e,{isBlocked:!1})}(n,e);var c={player:e.player,uri:n.stream.stream_url,drm:n.stream.drmSession,drmContentId:n.stream.drmContentId,startTime:e.startTime,eptTime:e.eptTime,mode:Eo.g.VOD,isTvod:"TOD"===Object(b.c)(e,"stream.streamProperties.ondemandStreamType"),isTrailer:e.isTrailer,isCdvr:e.isCdvr,streamType:t,aegis:n.stream.aegis,tokenRefreshSeconds:n.stream.token_refresh_seconds};l.a.getSelectorValue(u.lf)&&(c.drmJwtToken=n.drmJwtToken),l.a.getSelectorValue(u.bd)&&(e.asset.nielsenReporting.metrics=l.a.getSelectorValue(u.dd),e.asset.nielsenReporting.locations=l.a.getSelectorValue(u.cd));var d=Object(b.a)(me.a.getDeviceLocation()).replace(/_/g,""),p=l.a.getSelectorValue(u.Zc),h=null===(r=e.asset)||void 0===r?void 0:null===(i=r.nielsenReporting)||void 0===i?void 0:i.metrics,v=null===(o=e.asset)||void 0===o?void 0:null===(a=o.nielsenReporting)||void 0===a?void 0:a.locations;return p&&(null===h||void 0===h?void 0:h.length)&&(null===v||void 0===v?void 0:v.length)&&l.a.getSelectorValue(ge.f)&&(null===v||void 0===v?void 0:v.includes(d))&&(c.metrics=h,c.contentMetadata=ia(e.asset,e.stream),oa(e.player)),ve(c),n}).then(function(e){return B()?_:ue(e)}).catch(function(t){return t===o.blocked?se(t,e.asset).then(function(){return Q(e)}).catch(function(){return Promise.reject(t)}):"oohFraudDetection"===t?oe(t):Promise.reject(t)})}function X(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!function(e){return e.expiry<=Date.now()}(e)){!function(e){var t=Z();C.a.setItem(k.b.aegis,t.filter(function(t){return t.token!==e.token}))}(e),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={eventCaseId:"OneApp_concurrencyChange_delete",plbkConcurrencyEvent:"delete",plbkConcurrencyBlocked:Object(b.c)(t,"isBlocked",!1),plbkConcurrencyPolicyNetworkIds:Object(b.c)(e,"networkLimitIds",[]),plbkConcurrencyPolicyContentTypes:Object(b.c)(e,"contentTypes",[]),plbkConcurrencyPolicyMaxAegisLimit:Object(b.c)(e,"sessionLimit"),plbkConcurrencyPolicyName:Object(b.c)(e,"limitName"),plbkConcurrencyPolicyType:Object(b.c)(e,"limitType"),plbkConcurrencyToken:Object(b.c)(e,"aegis","")};Object(y.j)("OneApp_concurrencyChange_delete",n)}(Object(b.c)(V,"stream",{aegis:Object(b.c)(e,"token")}));var r=l.a.getSelectorValue(ms.b)+"?aegis=".concat(e.token),i=n.getOAuthHeadersForApi(r,"DELETE"),o=new XMLHttpRequest;o.open("DELETE",r,t),o.setRequestHeader("Authorization",i.Authorization),o.setRequestHeader("device_id",Object(R.a)()),o.send(null)}}function Z(){var e=C.a.getItem(k.b.aegis)||[];return e=Array.isArray(e)?e:[e]}function ee(){Z().forEach(function(e){return X(e)})}function ne(t,n){t&&n&&(N={token:t,expiry:Date.now()+1e3*n},Object(b.c)(V,"stream.aegis")&&(V.stream.aegis=N.token),ie(),function t(n){I=g(function(){(function(t){return e({url:l.a.getSelectorValue(ms.a),params:t,method:"GET",withCredentials:!0,ignoreStatus:[400]})})({aegis:N.token}).then(function(e){var n=e.data,r=1e3*n.token_refresh_seconds;N={token:n.aegis,expiry:Date.now()+r},Object(b.c)(V,"stream.aegis")&&(V.stream.aegis=N.token),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={eventCaseId:"OneApp_concurrencyChange_refresh",plbkConcurrencyAegisCount:Object(b.c)(e,"aegisCount"),plbkConcurrencyEvent:"refresh",plbkConcurrencyBlocked:Object(b.c)(t,"isBlocked",!1),plbkConcurrencyPolicyNetworkIds:Object(b.c)(e,"networkLimitIds",[]),plbkConcurrencyPolicyContentTypes:Object(b.c)(e,"contentTypes",[]),plbkConcurrencyPolicyMaxAegisLimit:Object(b.c)(e,"sessionLimit"),plbkConcurrencyPolicyName:Object(b.c)(e,"limitName"),plbkConcurrencyPolicyType:Object(b.c)(e,"limitType"),plbkConcurrencyToken:Object(b.c)(e,"aegis","")};Object(y.j)("OneApp_concurrencyChange_refresh",n)}(Object(b.c)(V,"stream",{})),t(r)}).catch(function(e){return oe(e)})},n)}(1e3*n))}function ie(){I&&(g.cancel(I),I=null)}function oe(e){return"oohFraudDetection"===e&&ie(),r.reject(e)}function ae(e){var t=e.asset,n=e.stream,i=e.isTrailer,a=e.isSeriesTrailer,s=e.isCdvr;return me.a.getLocation().then(function(){if(i||a||s)return!0;if("TOD"===n.streamProperties.ondemandStreamType){var e=n.streamProperties.tvodEntitlement,c=Math.round(Date.now()/1e3);return!(e&&c>e.rentalEndTimeUtcSeconds)||r.reject(o.notRented)}return t.isEntitled||n.streamProperties.entitled?!(l.a.getSelectorValue(ge.h)&&!t.availableOutOfHome)||r.reject(o.outOfHome):r.reject(o.unentitled)})}function se(e,t){return ea.a.resetCache(),e===o.blocked||e===o.adBlocker?(S.show({asset:t,type:e}),(x=r.defer()).promise.then(function(e){S.hide()}),x.promise):r.reject(e)}function ce(){x&&(x.resolve(),x=void 0)}function le(){v.isCasting()||G(o.tunedAway)}function ue(e){return de.apply(this,arguments)}function de(){return(de=a()(i.a.mark(function e(t){var n,r,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(vs.a)();case 2:if(!e.sent){e.next=10;break}if(r=l.a.getSelectorValue(gs.b),a=l.a.getSelectorValue(gs.c),s=null===t||void 0===t?void 0:null===(n=t.stream)||void 0===n?void 0:n.dai,!(r||a&&s)){e.next=10;break}throw S.show({type:"adBlocker"}),o.adBlocker;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e){var n=e.asset,i=e.stream,a=e.isTrailer,s=e.isSeriesTrailer;if(x&&(x.resolve(o.tunedAway),x=void 0),a||s)return r.resolve();var c=Object(b.c)(i,"streamProperties.rating",""),l=n?n.isBlocked:r.resolve(!1);return r.all([l,t.isBlockedByRating(c),t.isParentalControlsDisabledForClient()]).then(function(e){var t=Oe()(e,3),n=t[0],i=t[1],a=t[2];return!n&&!i||a?r.resolve():(x=r.defer(),S.show({type:o.blocked}),x.promise.then(function(e){S.hide()}),x.promise)})}function he(e,t){var n,r;return e===Eo.g.LINEAR?(r=Object(b.c)(F,"channel.entitlementId"),n=chrome.cast.media.StreamType.LIVE):e===Eo.g.CDVR?(r=Object(b.c)(F,"cdvrRecording.recordingId"),n=Object(b.c)(F,"cdvrRecording.cdvrState")===c.IN_PROGRESS?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED):(r=t?Object(b.c)(F,"providerAssetIdForVodTrailer",null):Object(b.c)(F,"providerAssetIdForVod",null),n=chrome.cast.media.StreamType.BUFFERED),{streamType:n,contentIdentifier:r}}function ve(e){return fe.apply(this,arguments)}function fe(){return(fe=a()(i.a.mark(function e(t){var n,r,o,a,c,d,p,v,f,g,b,S,w,k,C,T,O,E,A,P,I,x;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uri,r=t.drm,o=t.drmContentId,a=t.startTime,c=t.eptTime,d=t.mode,p=t.isTvod,v=t.isTrailer,t.isCdvr,f=t.streamType,g=t.aegis,b=t.tokenRefreshSeconds,S=t.drmJwtToken,w=t.metrics,k=t.contentMetadata,h.isValidPlayRoute()||l.a.getSelectorValue(u.Mc)){e.next=3;break}return e.abrupt("return");case 3:return h.setIrdetoDrmType(ds({streamType:f,isTvod:p,isTrailer:v})),e.prev=4,e.next=7,h.getPlayerInstance();case 7:if(!(C=e.sent)){e.next=30;break}r=r||null,a=a||0,O=r?[{sessionId:r.sessionId,ticketId:r.ticketId}]:null,C.setMediaKeys(O),(E="spectrum-player"===C.elementId)?(A={CrmId:"twc",AccountId:"twc",ContentId:o},l.a.getSelectorValue(u.lf)||(A.Ticket=r.ticketId,A.sessionId=r.sessionId),Object(is.c)(),C.setAppStreamSessionId(Object(y.g)("state.content.stream.playbackId")),P="?"+Object.keys(A).map(function(e){return e+"="+A[e]}).join("&"),T={manifestUrl:n,isDrm:!0,streamType:Io.getDRMEncodingsForStreamType(f).encoding,additionalParams:{drm:{widevine:{mediaKeySystemConfig:l.a.getSelectorValue(u.If)}}}},l.a.getSelectorValue(u.Zc)&&w&&k&&(T.nielsen={metrics:w},T.contentMetadata=k),(I=l.a.getSelectorValue(u.Hd))&&(T.additionalParams.drm=$s($s({},T.additionalParams.drm),{},{playready:{mediaKeySystemConfig:I}})),l.a.getSelectorValue(u.lf)?(T.LAUrls={widevine:l.a.getSelectorValue(u.Jf)+P,playready:l.a.getSelectorValue(u.Id)+P,fairplay:"",fairplayReplaceUrl:l.a.getSelectorValue(u.Kf),fairplayCertificateURL:l.a.getSelectorValue(u.Pb),fairplayQueryString:""},T.drmAuthorizationHeaders={Authorization:"Bearer "+S},T.refreshDrmAuthorizationHeader=!0,T.drmAuthHeaderExpirationIntervalMs=l.a.getSelectorValue(u.Db)):T.LAUrls={widevine:l.a.getSelectorValue(u.Jf)+P,playready:l.a.getSelectorValue(u.Id)+P,fairplayQueryString:"&Ticket=".concat(r.ticketId,"&sessionId=").concat(r.sessionId),fairplay:"",fairplayCertificateURL:l.a.getSelectorValue(u.Pb)}):T=[n];try{E||(x=l.a.getSelectorValue(u.Fd)).overrideDefaults&&("LIVE"===d?C.setBufferControlParameters({initial:x.initialBufferLengthInMilliSec,current:x.defaultPlaybackBufferLengthInMilliSec}):d===Eo.g.VOD&&C.setBufferControlParameters({initial:x.initialBufferLengthInMilliSec,current:x.vodPlaybackBufferLengthInMilliSec}))}catch(e){m.error("Error parsing playerBufferControlParameters",e)}return void 0!==c&&c>=0?C.setEptTime(c):C.setCurrentTime(a),rs.clearCachedSegmentsInfo(),l.a.dispatch(Object(Fa.d)({asset:F,playbackType:f})),e.prev=19,e.next=22,C.setSrc(T);case 22:bs(null===C||void 0===C?void 0:C.getNielsenOptOutStatus()),$.startLinearStreamInitTimer(),ne(g,b),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(19),m.error(e.t0);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(4),s.$emit("Analytics:error",{errorCode:"WPI-1004",errorMessage:"playStream intialization encountered an issue with the message ".concat(e.t1),clientErrorCode:"",errorType:"Application"});case 35:case"end":return e.stop()}},e,null,[[4,32],[19,27]])}))).apply(this,arguments)}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={eventCaseId:"OneApp_concurrencyChange_start",plbkConcurrencyAegisCount:Object(b.c)(e,"aegisCount"),plbkConcurrencyEvent:"start",plbkConcurrencyBlocked:Object(b.c)(t,"isBlocked",!1),plbkConcurrencyPolicyNetworkIds:Object(b.c)(e,"networkLimitIds",[]),plbkConcurrencyPolicyContentTypes:Object(b.c)(e,"contentTypes",[]),plbkConcurrencyPolicyMaxAegisLimit:Object(b.c)(e,"sessionLimit"),plbkConcurrencyPolicyName:Object(b.c)(e,"limitName"),plbkConcurrencyPolicyType:Object(b.c)(e,"limitType"),plbkConcurrencyToken:Object(b.c)(e,"aegis","")};Object(y.j)("OneApp_concurrencyChange_start",n)}(Object(b.c)(t,"stream",Object(b.c)(t,"networkLimits",{})),n)}}e.$inject=["$http","parentalControlsService","OauthHeaderService","$q","playerErrors","$rootScope","CDVR_STATE","dummyEANAsset","whatsOn","playerService","chromecastService","$log","$timeout","blockingScreenService","capabilitiesService","streamTimeoutCoordinator","kiteModalService","streamInitRetryCoordinator","$window","BookmarkService","flickToService"],e.$inject=["$http","parentalControlsService","OauthHeaderService","$q","playerErrors","$rootScope","CDVR_STATE","dummyEANAsset","whatsOn","playerService","chromecastService","$log","$timeout","blockingScreenService","capabilitiesService","streamTimeoutCoordinator","kiteModalService","streamInitRetryCoordinator","$window","BookmarkService","flickToService"],angular.module("ovpApp.player.streamService",["ovpApp.services.parentalControlsService","ovpApp.player","ovpApp.miniGuide.miniGuideData","ovpApp.player.whatsOn","ovpApp.components.alert","ovpApp.player.blockingScreen","ovpApp.services.chromecast","ovpApp.services.streamTimeoutCoordinator","ovpApp.services.kiteModal","ovpApp.player.streamInitRetryCoordinator","ovpApp.player.playerService","ovpApp.oauth","ovpApp.services.bookmark","ovpApp.services.flickTo"]).factory("playerStreamService",e).run(["playerStreamService",function(e){return e}])}(),function(){function e(e,t,n){var r,i;return{startTimer:function e(){o();var s=l.a.getStatePath("config.data.stillWatchingTimerInMs");r=setTimeout(function(){!function(){var e=l.a.getStatePath("config.data.stillWatchingModalTimeoutInMs");i=setTimeout(a,e)}(),(t.exitFullscreen(),n.errorAlert("WVP-1003",void 0,{resolve:{buttonText:"Continue"}})).promise.finally(e)},s)},clearTimer:o};function o(){n.closeAll(),clearTimeout(i),clearTimeout(r)}function a(){o(),e.go("ovp.guide")}}e.$inject=["$state","ovpFullscreen","kiteModalService"],e.$inject=["$state","ovpFullscreen","kiteModalService"],angular.module("ovpApp.player.stillWatchingTimer",["ovpApp.directives.ovp-fullscreen","ovpApp.services.kiteModal"]).service("stillWatchingTimer",e)}();n("rNhl");var Ts=n("az9b"),Os=n.n(Ts),Es=n("EPg4"),As=n.n(Es),Ps=n("PiYh");function Is(e,t,n){var r,i,o,a,s={feature_retryOnVidInitFailure:!1};return{cancelRetries:function(){a=!0},getAttemptNumber:function(){return i},isWaitingForRetry:function(){return o},prepareRetry:function(e){r=e===Eo.g.LINEAR?l.a.getSelectorValue(u.vf)||s:l.a.getSelectorValue(u.wf)||s;o&&(clearTimeout(o),o=void 0);i=0,a=!1},reportErrorAndDetermineRetry:function(){var s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};if(u=u||{},a)return void p(t.tunedAway);if(angular.isString(u)&&u in t)return void p(u);var h="WVP-3036"===c,v=c.endsWith("-3999"),f=function(e){return e.status&&e.status>=400&&e.status<500}(u),m=!r.feature_retryOnVidInitFailure||i>=r.retryVidInitMaxAttempts;f?u=Object(b.i)(u,"errorExtras.reason","Stream Init Retry prevented by error status: "+u.status):m&&(u=r.feature_retryOnVidInitFailure?Object(b.i)(u,"errorExtras.reason","Stream Init Retries exhausted"):Object(b.i)(u,"errorExtras.reason","Stream Init Retry disabled"));if(f||m||h||Object(is.d)(null===(s=u)||void 0===s?void 0:s.code))return u=Object(b.i)(u,"errorExtras.attemptNumber",String(i)),void p({errorCode:c,errorMessage:l,attemptNumber:i,error:u});if(++i,u=Object(b.i)(u,"errorExtras.attemptNumber",String(i)),e.$emit("Analytics:playbackFailureBeforeRetry",{attemptNumber:i,clientErrorCode:u.clientErrorCode,errorCode:c,errorType:"playbackRestartAttempt",errorMessage:l,errorExtras:u.errorExtras}),v)return n.cancelTimer(),u=Object(b.i)(u,"errorExtras.attemptNumber",String(i)),void e.$emit("Analytics:playbackFailureBeforeRetry",{attemptNumber:i,clientErrorCode:"browserBlockedAutoplay",errorCode:c,errorType:"playbackRestartAttempt",errorMessage:l,errorExtras:u.errorExtras,retryMethod:"AwaitUserDismissalOfAutoplayIcon"});return new Promise(function(e){o=setTimeout(function(){o=void 0,e()},r.vidTimeoutBeforeRetryMS)}).then(function(){e.$emit("Analytics:playbackRetryAttemptRestart",{attemptNumber:i}),d&&d(i)})}}}!function(){function e(e,t,n,r,o,s,c,d,p){var h,v=null,m=!1,g=new t.BehaviorSubject,y={getPlayerInstance:function(){return T.apply(this,arguments)},playStream:function(e){return O.apply(this,arguments)},assetLoadedSource:g.filter(function(e){return!!e}),stop:function(e){n.isCasting()||(s.$emit("player:stop",e),s.$broadcast("playerService:stop"))},isValidPlayRoute:function(){var e=o.current;o.transition&&!S.includes(o.transition.to().name)&&(e=o.transition.to());return w.includes(e.name)},isValidPlayState:function(){return o.current&&w.includes(o.current.name)},isValidLiveRoute:function(){var e=o.current;o.transition&&!S.includes(o.transition.to().name)&&(e=o.transition.to());return["ovp.livetv"].includes(e.name)},determineErrorCodeFromError:function(e,t){var n,r,i=null!==(n=null===t||void 0===t?void 0:t.ECDBCode)&&void 0!==n?n:"3305";switch(e.toUpperCase()){case Eo.g.LINEAR:r="WLP";break;case Eo.g.VOD:r="WVP";break;case Eo.g.CDVR:r="WRP";break;default:r="WUP"}return"".concat(r,"-").concat(i)},showMoreInfo:function(e){r.exitFullscreen();var t=function(e){return Object(b.c)(e,"channel")?Object(b.c)(e,"title"):Object(b.c)(e,"seriesTitle",Object(b.c)(e,"title"))}(e),n=function(e){return Object(b.c)(e,"channel")?Object(b.c)(e,"episodeTitle",""):Object(b.c)(e,"seriesTitle")?Object(b.c)(e,"title"):""}(e);d.open({component:"infoBanner",windowClass:"info-banner-dialog-window",showCloseIcon:!0,resolve:{analyticsModalName:"playerTvInfo",options:{assetTitle:t,actors:Object(b.c)(e,"actors",[]).map(function(e){return e.name}),directors:Object(b.c)(e,"directors",[]).map(function(e){return e.name}),expiryTime:e.expires,description:e.longDescription||e.shortDescription,runtime:e.runtimeDisplay,year:e.year&&+e.year,ratings:Object(b.c)(e,"allRatings",[]).filter(function(e){return Object(b.g)(e)}),imageUri:e.imageUri({width:"600",orientation:"hero",default:!1}),seasonNumber:e.seasonNumber,episodeNumber:e.episodeNumber,assetSubtitle:n}},ariaLabelledBy:"info-banner-heading"}).promise.finally(function(){p.startOverlayTimer()})},initializePlayer:$,handleHDCPFailure:function(){l.a.getStatePath("player.streamInfo.HDCPFailure")&&(l.a.dispatch(Object(Pa.g)()),l.a.dispatch(Object(Pa.f)()))},getVodDuration:function(){return v},setVodDuration:function(e){v=e},startOver:function(e){var t=Object(b.c)(e,"localChannelNumber");t||C.a.setItem("twctv:startOverChannelInfo",JSON.stringify({channelNumber:t,channelID:Object(b.c)(e,"channelId")}));var n=Object(b.c)(e,"asset");if(!n)return void d.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Missing asset on channel for playerService startOver",channel:JSON.stringify(e,Object(b.b)())}});var r=Object(b.c)(n,"vodTmsSeriesId"),i=Object(b.c)(n,"vodProviderAssetId");r?o.go("ovp.ondemand.playEpisodeWithDetails",{seriesID:r,episodeID:i,startOver:!0}):o.go("ovp.ondemand.playProduct",{productID:i,startOver:!0})},destroyPlayer:function(){return c.destroyPlayer()},setIrdetoDrmType:function(e){h=e},getIrdetoDrmType:function(){return h},userUnmutedPlayer:function(){m||(m=!0)},hasUserUnmutedPlayer:function(){return m}},S=["root","ovp.ondemand.**"],w=["ovp.ondemand.playProduct","ovp.ondemand.playEpisodeWithDetails","ovp.ondemand.playCdvr","ovp.livetv"];return y;function $(e){return l.a.dispatch(Object(Ps.b)({playerType:e.playerType})),c.initializePlayer(e)}function T(){return(T=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getPlayer();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return(O=a()(i.a.mark(function e(t){var r,o,a,s,c,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.a.getSelectorValue(u.nf),r={},f()(r,Eo.g.LINEAR,o?ie.l:ie.k),f()(r,Eo.g.VOD,o?ie.p:ie.o),f()(r,Eo.g.CDVR,o?ie.p:ie.o),a=r,t.playerType=Eo.f.BITMOVIN,t.playerConfig=l.a.getSelectorValue(a[t.streamType]),o?(t.playerConfig.volume=E()/100,t.playerConfig.muted=A()):(l.a.getSelectorValue(u.b)&&(null===(s=t.playerConfig)||void 0===s?void 0:null===(c=s.location)||void 0===c?void 0:c.serviceworker)&&(t=Ke()({playerConfig:{location:{serviceworker:As()(Os.a,"?t=".concat(Date.now()))}}},t)),t.playerConfig.playback.volume=E(),t.playerConfig.playback.muted=A()),t.playerConfig.nielsen={enabled:l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)},(d=t.playerConfig.nielsen).enabled&&(d.optOut=!1,d.debug=l.a.getSelectorValue(u.ed),d.apid=l.a.getSelectorValue(u.Yc)),n.isCasting()){e.next=11;break}return e.next=11,$(t);case 11:return l.a.getStatePath("player.streamInfo.HDCPFailure")||l.a.dispatch(Object(Pa.i)(t)),g.onNext(t),e.abrupt("return",!0);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){var e=C.a.getItem(k.b.volumeLevel);return null!==e&&void 0!==e||(e=.4),100*parseFloat(e)}function A(){return!(!l.a.getSelectorValue(u.jg)||m)||!!C.a.getItem(k.b.muted)}}e.$inject=["platform","rx","chromecastService","ovpFullscreen","$state","$rootScope","playerFactory","kiteModalService","playerOverlayTimer"],e.$inject=["platform","rx","chromecastService","ovpFullscreen","$state","$rootScope","playerFactory","kiteModalService","playerOverlayTimer"],angular.module("ovpApp.player.playerService",["lib.platform","rx","ovpApp.directives.ovp-fullscreen","ovpApp.player.playerFactory","ovpApp.services.kiteModal","ovpApp.services.playerOverlayTimer"]).factory("playerService",e)}(),Is.$inject=["$rootScope","playerErrors","streamTimeoutCoordinator"],Is.$inject=["$rootScope","playerErrors","streamTimeoutCoordinator"],angular.module("ovpApp.player.streamInitRetryCoordinator",["ovpApp.player","ovpApp.services.streamTimeoutCoordinator"]).factory("streamInitRetryCoordinator",Is,["streamTimeoutCoordinator"]),function(){var e,t;function r(r,o){var s=null,c=null,d=null;return{getPlayer:function(){return f.apply(this,arguments)},getPlayerImmediate:function(){return s},initializePlayer:function(e){return v.apply(this,arguments)},destroyPlayer:p};function p(){return h.apply(this,arguments)}function h(){return(h=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return",d);case 2:return(null===(t=document)||void 0===t?void 0:t.pictureInPictureElement)&&(r.$emit("pip-closed"),document.exitPictureInPicture()),d=new Promise(function(e){s&&s.destroy?s.destroy().finally(function(){s=null;for(var t=document.getElementById(Eo.e.SPECTRUM_PLAYER);null===t||void 0===t?void 0:t.firstChild;)t.removeChild(t.firstChild);e()}):e(),c=new Promise(function(e){})}).finally(function(){d=null}),e.abrupt("return",d);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return c=b(t.playerConfig),e.next=5,c;case 5:return c.then(function(e){sa(e)}),e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c;case 2:return s||o.error("getPlayer NULL INSTANCE"),e.abrupt("return",s);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistrations();case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(e){return e.unregister()}));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=a()(i.a.mark(function r(o){var a,c;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!l.a.getSelectorValue(u.sg)){r.next=3;break}return r.next=3,m();case 3:if(!l.a.getSelectorValue(u.nf)){r.next=17;break}if(a=l.a.getSelectorValue(u.de),c=l.a.getSelectorValue(u.ee),t){r.next=11;break}return r.next=10,n.e(2).then(n.bind(null,"0TlR"));case 10:t=r.sent;case 11:if(!a){r.next=14;break}return r.next=14,t.loadShaka(a,c);case 14:s=new t.SpectrumPlayerShaka("spectrum-player"),r.next=22;break;case 17:if(e){r.next=21;break}return r.next=20,n.e(0).then(n.bind(null,"SEKr"));case 20:e=r.sent.default;case 21:s=new e("spectrum-player");case 22:return s.playerType=Eo.f.BITMOVIN,r.next=25,s.initialize(o);case 25:return r.abrupt("return",s);case 26:case"end":return r.stop()}},r)}))).apply(this,arguments)}}r.$inject=["$rootScope","$log"],r.$inject=["$rootScope","$log"],angular.module("ovpApp.player.playerFactory",["lib.platform","ovpApp.player.sapService"]).factory("playerFactory",r)}();var xs=n("EyQl"),_s=n.n(xs),Ds=n("+dcq"),Rs=n.n(Ds),js=n("m7Js"),Ns=n.n(js),Ms=n("PQpl"),Vs=n.n(Ms),Ls=n("vXFI"),Fs=n.n(Ls),Us=n("Z+xY"),Bs=n.n(Us),Ws=n("fVfw"),Hs=n.n(Ws),Gs=n("2QjZ"),qs=n.n(Gs),zs=n("RvjR"),Ys=n.n(zs),Ks=n("TD0+"),Js=n.n(Ks),Qs=n("SK8o"),Xs=n.n(Qs),Zs=n("7e6P"),ec=n.n(Zs),tc=60,nc=3600;function rc(){var e=l.a.getSelectorValue(Dr,{}),t=Date.now()/1e3;Rs()(function(n,r){e[r]=Js()(function(e){return e.startTimeSec+e.durationMinutes*tc>t},n||[])},e),l.a.dispatch(Object(Go.j)(e))}var ic={fetchGuideData:function(e,t,n){var r=ee()(e).utc(),i=function(e,t,n){var r=t*nc,i=e.unix(),o=i+r,a=l.a.getSelectorValue(Dr);return Xs()(function(e,t){var n=Js()(function(e){var t=e.startTimeSec,n=t+e.durationMinutes*tc;return t>=i&&n<=o||t<i&&n>i||t<o&&n>o||t<=i&&n>=o},a[t]||[]);return n.length>0&&function(e,t){var n=Ys()(e),r=qs()(e),i=Xs()(function(e,t){return e+t.durationMinutes*tc},0,e);return i>=t&&n.startTimeSec+i===r.startTimeSec+r.durationMinutes*tc}(n,r)&&(e[t]=n),e},{},n)}(r,t,n);return ec()(i).length===n.length?Promise.resolve(i):function(e,t,n){var r=l.a.getSelectorValue(u.jc),i=l.a.getSelectorValue(u.Cd)+r+"?startDateTime=".concat(e.format("YYYYMMDDTHHmmss"),"Z&hours=").concat(t);return $e.default.post({url:i,method:"POST",data:{tmsIds:n}}).then(function(e){var t=function(e){var t=l.a.getSelectorValue(Dr,{}),n=Hs()(Bs()("startTimeSec"));return Fs()(function(e,r){t[r]=n(Vs()(Ns()(Bs()("startTimeSec")),t[r]||[],e))},e),t}(e.data);return l.a.dispatch(Object(Go.j)(t)),e.data})}(r,t,n)},startClearCacheTimer:function(){var e=l.a.getSelectorValue(u.hc)*nc*1e3;setInterval(rc,e)}};function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(){function e(e){var t={now:function(e){return r(e,Date.now())},nowOrImminent:function(e){return r(e,Date.now()+n)}},n=60*parseInt(l.a.getSelectorValue(u.Pe))*1e3;return t;function r(t,n){var r=angular.isArray(t);return r||(t=[t]),function(e,t){var n=_s()(function(e){return e.tmsGuideId||e.tmsId},e);return ic.fetchGuideData(t,1,n)}(t,n).then(function(i){var o=t.map(function(e){var t=(i[e.tmsId]||[]).find(function(e){var t=1e3*e.startTimeSec,r=t+6e4*e.durationMinutes;return n>=t&&n<r});return t&&(t.channel=e),t}).map(function(t){return t?e.createInstance(t):void 0});return r?o:o[0]})}}e.$inject=["whatsOnViewModelDefinition"],e.$inject=["whatsOnViewModelDefinition"],angular.module("ovpApp.player.whatsOn",["ovpApp.player.whatsOnDelegate","ovpApp.services.rxUtils"]).factory("whatsOn",e)}(),function(){function e(e,t,n,r){var i=t.cached;return new e({title:"title",tmsProgramIds:function(e){return[e.tmsProgramId]},tmsGuideId:"tmsGuideId",isSeries:function(){return!1},isEpisode:function(e){return e.tmsProgramId.startsWith("EP")},isMovie:function(e){return e.tmsProgramId.startsWith("MV")},allRatings:function(e){return e.allRatings||[e.rating]},rating:"rating",genres:"genres",isBlocked:function(e){var t=[e.rating],i=Object(b.c)(e,"channel.tmsGuideId");return r.isParentalControlsDisabledForClient().then(function(e){return!e&&n.all([r.isBlockedByRating(t),ea.a.getChannels({tmsGuideId:i})]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return Object(b.c)(r[0],"blocked",!1)||n})})},channel:"channel",isBlockedByParentalControls:t.promiseCached(function(){return this.isBlocked},"ParentalControls:updated"),longDescription:"shortDesc",shortDescription:"shortDesc",year:"metadata.year",scheduledStartTimeSec:"startTimeSec",scheduledEndTimeSec:function(e){return e.startTimeSec+60*e.durationMinutes},durationSec:function(e){return 60*e.durationMinutes},runtimeDisplay:function(e){var t=Math.floor(e.durationMinutes/60),n=Math.floor(e.durationMinutes%60),r=[];return t>0&&r.push(t+" hr"),n>0&&r.push(n+" min"),r.join(" ")||"N/A"},isOnNow:function(e){var t=Date.now()/1e3;return t>=e.startTimeSec&&t<e.startTimeSec+60*e.durationMinutes},episodeNumber:"metadata.episode",seasonNumber:"metadata.season",episodeTitle:"metadata.title",networkImage:i(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fn(e.channel.logoUri,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({imageCategory:"deluxe",sourceType:"colorHybrid"},t))}}),imageUri:i(t.createProductImageFunction()),vodProviderAssetId:"vodProviderAssetId",productProviders:"productProviders",vodTmsSeriesId:"vodTmsSeriesId"})}e.$inject=["DataDelegate","delegateUtils","$q","parentalControlsService"],e.$inject=["DataDelegate","delegateUtils","$q","parentalControlsService"],angular.module("ovpApp.player.whatsOnDelegate",["dataDelegate","ovpApp.dataDelegate"]).factory("whatsOnViewModelDefinition",e)}(),angular.module("ovpApp.playerControls.skipButton",[]).component("skipButton",{templateUrl:"js/components/player/skip-button.html",bindings:{seconds:"<",ovpDisabled:"<",direction:"<",player:"<",onSkip:"&",ffDisabled:"<",isCasting:"<",enlargeIcon:"=",alwaysShowSeconds:"<"},controller:function(){function e(t,n){we()(this,e),this.version=t,this.$element=n}return e.$inject=["version","$element"],e.$inject=["version","$element"],Ce()(e,[{key:"getAriaLabel",value:function(){return this.ffDisabled?"Jump forward disabled for this program":"Jump "+this.directionText+" "+this.seconds+" seconds"}},{key:"$onInit",value:function(){var e=this;this.appVersion=this.version.appVersion,this.disableSeeking=function(){return e.onSeekBegin()},this.enableSeeking=function(){return e.onSeekEnd()},this.isCasting||(this.player.on("seekBegin",this.disableSeeking),this.player.on("seekEnd",this.enableSeeking))}},{key:"$onChanges",value:function(e){e.direction&&(this.directionText=this.direction<0?"backward":"forward"),(e.ffDisabled||e.direction||e.seconds)&&(this.ariaLabel=this.getAriaLabel()),(e.ffDisabled||e.ovpDisabled)&&(this.ffDisabled||this.ovpDisabled)?this.$element.attr("aria-disabled",!0):this.$element.removeAttr("aria-disabled")}},{key:"$onDestroy",value:function(){this.player&&(this.player.off("seekBegin",this.disableSeeking),this.player.off("seekEnd",this.enableSeeking))}},{key:"skip",value:function(){this.ovpDisabled||this.onSkip({direction:this.direction})}},{key:"image",value:function(){return this.appVersion+"/images/skip-"+this.directionText+(this.enlargeIcon?"-enlarge":"")+(this.skipHover?"-active.svg":".svg")}},{key:"onSeekBegin",value:function(){this.seeking=!0}},{key:"onSeekEnd",value:function(){this.seeking=!1}}]),e}()});var ac=n("pu9X"),sc=n.n(ac),cc=n("PxiN"),lc=n.n(cc),uc=function(e){var t={dismissFunction:e.dismissFunction,title:"Chromecast Available",description:"Select to cast videos to your TV",ariaLabel:"Chromecast available"};return React.createElement(Ca,{tooltipOptions:t})};uc.propTypes={dismissFunction:At.a.func.isRequired},angular.module("ovpApp.chromecastTooltip",[]).component("chromecastTooltip",Object(Ct.react2angular)(uc,["dismissFunction"],[]));var dc=function(e){var t=l.a.getSelectorValue(u.t),n={dismissFunction:e.dismissFunction,title:null===t||void 0===t?void 0:t.title,description:null===t||void 0===t?void 0:t.description,ariaLabel:null===t||void 0===t?void 0:t.ariaLabel,className:"autoplay-tooltip-container"};return React.createElement(Ca,{tooltipOptions:n})};dc.propTypes={dismissFunction:At.a.func.isRequired},angular.module("ovpApp.autoplayMutedTooltip",[]).component("autoplayMutedTooltip",Object(Ct.react2angular)(dc,["dismissFunction"],[]));var pc=function(e){var t=l.a.getSelectorValue(u.Te),n={dismissFunction:e.dismissFunction,title:t.title,description:t.description,ariaLabel:t.ariaLabel};return React.createElement(Ca,{tooltipOptions:n})};function hc(e){var t=e.device,n=e.version,r=e.showList,i=e.hideList,o=Object(Q.useRef)(null);return React.createElement("li",null,React.createElement("button",{ref:o,className:"device",tabIndex:"0",onClick:function(){t.onClick(),o.current.blur()},onFocus:function(){return r()},onBlur:function(){return i()}},React.createElement("img",{"aria-hidden":"true",src:"".concat(n,"/images/").concat(t.icon),alt:""}),React.createElement("div",{className:"title-container"},React.createElement("div",{className:"title"},t.title),React.createElement("div",{className:"subTitle"},t.subTitle))))}pc.propTypes={dismissFunction:At.a.func.isRequired},angular.module("ovpApp.devicePickerTooltip",[]).component("devicePickerTooltip",Object(Ct.react2angular)(pc,["dismissFunction"],[])),angular.module("ovpApp.toggleDevicePickerBridge",["ovpApp.services.chromecast","ovpApp.services.stbService","ovpApp.player.streamService"]).component("toggleDevicePicker",Object(Ct.react2angular)(function(e){var t,n=e.hideStb,r=void 0!==n&&n,i=e.onFocusCallback,o=e.chromecastService,a=e.stbService,s=e.playerStreamService,c=e.$rootScope,l=e.version.appVersion,u=Object(Q.useState)(!1),d=Oe()(u,2),p=d[0],h=d[1],v=Object(Q.useState)([]),f=Oe()(v,2),m=f[0],g=f[1],b=500;function y(){clearTimeout(t),h(!0),c.$broadcast("devicePickerTooltip:hide")}function S(){clearTimeout(t),t=setTimeout(function(){h(!1)},b)}function w(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.getSTBs().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e?[]:t.filter(function(e){return!0===e.flickable}).map(function(e){return{title:e.name||e.macAddress,subTitle:"Spectrum Receiver",icon:"ki-tv-send.svg",key:e.macAddress,onClick:function(){s.flickToTV(e),S()}}});o.castDevicesAvailable()&&n.unshift({title:"Chromecast",subTitle:"Show Devices",icon:"ki-cast.svg",key:"chromecast",onClick:function(){chrome.cast.requestSession(),S()}}),g(n)})}return Object(Q.useEffect)(function(){if(w(r),o.isEnabled()){var e=c.$on("chromecast:cast-state-changed",w);return function(){return e()}}},[]),Object(Q.useEffect)(function(){w(r)},[r]),React.createElement(React.Fragment,null,React.createElement("div",{onMouseOver:function(){return y()},onMouseLeave:function(){return S()},className:"device-list-toggle-button","aria-label":"Send to TV"},React.createElement("img",{alt:"Send to TV",src:"".concat(l,"/images/ki-tv-send").concat(p?"-active":"",".svg")})),React.createElement("ul",{role:"list","aria-label":"Send to TV",className:"device-list ".concat(p?"visible":""),onFocus:function(){"function"==typeof i&&i()},onMouseOver:function(){return p&&y()},onMouseLeave:function(){return S()}},function(e,t,n,r){return e.map(function(e,i){return React.createElement(hc,{device:e,version:t,showList:n,hideList:r,key:i})})}(m,l,y,S)))},["hideStb","onFocusCallback"],["version","$rootScope","chromecastService","stbService","playerStreamService"]));var vc=n("acdo");!function(){function e(e,t,n,r,i,o,a,s,c,d,p,h,v,f,m,g,S,w,$,T){var O=this;O.isFullScreen=!1,O.seekToPosition=U,O.loadingMessage=q,O.ariaLoadingMessage=function(){var e=q(),t="";if(O.asset!=p&&O.isLiveMode){var n=e||"",r=O.asset.episodeTitle?O.asset.episodeTitle:"",i=O.asset.title?O.asset.title:"";t+=n+" "+i+" "+r}else t=e;return t},O.ariaAutoplayMessage="",O.appVersion=n.appVersion,O.skip=function(e){O.throttledSkip(e)},O.skipSeconds=parseInt(l.a.getSelectorValue(u.ge)),O.remoteSessionControlEnabled=l.a.getSelectorValue(u.Td),O.pipEnabled=l.a.getSelectorValue(u.Xf),O.prepareToSetBookmark=B,O.onFullScreenToggled=function(e){t.$broadcast("player:fullscreen-toggled",{isEnabled:e}),O.controllerBarVisible=!e,O.isFullScreen=e,function(e){try{var t;switch(Object(y.f)()){case"playerLiveTv":case"playerLiveTvFullScreen":t=e?"fake.livetv.fullScreen":"fake.livetv";break;case"liveTvMiniGuide":case"liveTvMiniGuideFullScreen":t=e?"fake.livetv.fullScreen":"fake.livetv";break;case"playerOnDemand":case"playerOnDemandFullScreen":t=e?"fake.playerOnDemand.fullScreen":"ovp.ondemand.playProduct";break;default:return}var n=ti(t);Object(Lr.a)(n)}catch(e){console.error("Error",e)}}(e)},O.onKeyUp=function(e){("Escape"===e.key?O.playerOverlayTimer.hideOverlays:O.playerOverlayTimer.startOverlayTimer)()},O.isCDVRSeriesEpisode=function(){return O.asset.isEpisode&&O.asset.cdvrRecording&&O.asset.cdvrRecording.cdvrSeriesRecording},O.disableCDVRInProgressScrubbing=l.a.getSelectorValue(ie.m),O.playerElement=angular.element("#playerWrapper")[0],O.closeCastTooltip=function(){O.showCastTooltip=!1,O.chromecastTooltipClosed=!0,C.a.setItem(k.b.chromecastTooltipShown,!0)},O.closeDevicePickerTooltip=Y,O.closeAutoplayTooltip=function(){if(O.autoplayTooltipClosed)return;O.showAutoplayMutedTooltip=!1,O.autoplayTooltipClosed=!0,l.a.dispatch(Object(Oa.d)())},O.showAutoplayMutedTooltip=!1,O.autoplayTooltipClosed=l.a.getSelectorValue(vc.f),O.onCastClicked=function(){O.showCastTooltip&&O.closeCastTooltip();O.playerOverlayTimer.clearOverlayTimer()},O.startOver=function(e,t){t.stopPropagation(),f.startOver(e)},O.unsubscribeAssetLoaded=null,O.hideChannelNumber=function(){return!Object(b.c)(O,["asset","channel","localChannelNumber"],!1)||l.a.getSelectorValue(u.Zf)},O.hasFlickableSTBs=!1,O.castDevicesAvailable=g.castDevicesAvailable(),O.toggleDevicePickerEnabled=l.a.getSelectorValue(u.rg),O.showMoreInfo=function(){e.$emit("Analytics:selectAction-toggle-infoPanel",{isLive:"LIVE"===O.controls}),f.showMoreInfo(O.asset)},O.throttledSkip=function(t){O.cdvrScrubbingDisabled||e.$broadcast("playerControls: skip",{multiplier:t})},O.seekQueue=[];var E=function(){return o(O.asset)},A={"source-set":function(){O.loading=!0,c.setContentLoading(O.loading);var e=Object(b.c)(O,"stream.bookmark");e&&!e.complete&&e.playMarkerSeconds&&O.player.seekToPosition(1e3*e.playMarkerSeconds,"scrubber")},"playback-playing":function(){O.buffering=!1,O.loading=!1,c.setContentLoading(O.loading)},"playback-started":function(){var e=l.a.getSelectorValue(u.Ac);O.loading=!1,O.stopped=!1,c.setContentLoading(O.loading),function(){O.castDevicesAvailable=g.castDevicesAvailable();var e=C.a.getItem(k.b.chromecastTooltipShown);O.showCastTooltip=O.castDevicesAvailable&&!e}(),function(){var e=C.a.getItem(k.b.devicePickerTooltipShown);O.showDevicePickerTooltip=!e}(),l.a.getSelectorValue(u.jg)&&(f.hasUserUnmutedPlayer()||O.autoplayTooltipClosed?(O.showAutoplayMutedTooltip=!1,O.ariaAutoplayMessage=""):(O.showAutoplayMutedTooltip=!0,O.ariaAutoplayMessage="Your video is currently muted.",r(function(){O.ariaAutoplayMessage=""},500)));O.isVodMode||O.miniGuideOpen?P.promise.then(function(){O.controllerBarVisible=!0,c.startOverlayTimer(e)}):(O.controllerBarVisible=!0,c.startOverlayTimer(e))},"playback-stopped":function(e){O.stopped=!0,O.buffering=!1,O.seeking=!1,O.isVodMode&&("streamEnd"===e.TriggeredBy?(e={PlaybackTimestamp:1e3*O.duration,Runtime:1e3*O.duration},O.playbackTime=O.duration,O.watchNextMode||r(E,200)):"exitPlayer"===e.TriggeredBy&&(e={PlaybackTimestamp:1e3*O.playbackTime,Runtime:1e3*O.duration}),B(e,"stopped"))},seekBegin:function(){O.seeking=!0,O.slider.options.isAdPlaying=!1},seekEnd:function(){O.seeking=!1,O.buffering=!1},"player-position-changed":function(e){if(O.stopped)return;if(O.playbackTime=e.position,M(),B({PlaybackTimestamp:1e3*O.playbackTime,Runtime:1e3*O.duration},!!O.seeking&&"seeking"),O.seekQueue.length&&!O.seeking){var t=O.seekQueue.shift(),n=t.positionSec,r=t.sourceElement;U(n,r)}},"stream-scrubbed":function(e){B(e,"scrubbed")},"buffering-began":function(){O.buffering=!0},"buffering-ended":function(){O.buffering=!1},error:function(e){if(e.errorID&&(1000006===e.errorID||1000005===e.errorID))return;O.buffering=!1,O.seeking=!1,O.loading=!1,c.setContentLoading(O.loading)},"ad-breaks-created":function(e){O.isVodMode&&(O.slider.options.adBreaks=[],O.adBreaks=[],e&&e.source&&e.source.forEach(function(e){O.adBreaks.push(e),O.slider.options.adBreaks.push({startTime:e.startTime,duration:e.duration,viewed:!1})}),V())},"player-end-position-changed":Object(Di.b)(1e3,function(e){O.bufferLenMsec!==e.endPosition&&(O.bufferLenMsec=e.endPosition,M())}),"player-mouse-down":F,"ad-break-started":function(e){O.slider.options.isAdPlaying=!0,O.slider.options.hasViewedAd=!1;var t,n=H(e,O.slider.options.adBreaks);n>-1&&(O.slider.options.hasViewedAd=!!(null===(t=O.slider.options.adBreaks[n])||void 0===t?void 0:t.viewed))},"ad-break-stopped":function(e){O.slider.options.isAdPlaying=!1,O.slider.options.hasViewedAd=!1;var t,n,r=H(e,O.slider.options.adBreaks);r>-1&&(O.slider.options.adBreaks=lc()(r,sc()({viewed:null!==(t=null===e||void 0===e?void 0:null===(n=e.currentAdBreak)||void 0===n?void 0:n.viewed)&&void 0!==t&&t}),O.slider.options.adBreaks))},"js-bridge-error":function(t){t.message&&t.message.indexOf("ad-")>-1&&e.$emit("Analytics:error",{errorCode:"WDAI-1000",clientErrorCode:t.clientErrorCode,errorType:"api",errorMessage:t.message})}},P=S.defer();function I(e){angular.isUndefined(e.stream)?$.errorAlert("WGU-1002").result.then(E):(O.asset=e.asset,O.isTrailer=e.isTrailer,O.isSeriesTrailer=e.isSeriesTrailer,O.stream=e.stream,O.isCdvr=e.isCdvr,function(e){O.playbackTime=j(),O.duration=R()&&f.getVodDuration()>0?f.getVodDuration():parseInt(e.duration),f.setVodDuration(null),O.bufferLenMsec=1e3*O.duration,V(),M()}(O.stream),O.slider.options.isAdPlaying=!1,O.asset&&O.stream.cdvrState===h.IN_PROGRESS&&(O.slider.options.showBuffer=!0),O.stream.isCDVRRecorded?d.setCdvrToBookmark(O.stream.streamProperties.cdvrRecording.recordingId):d.setAssetToBookmark(O.stream.streamProperties.providerAssetID),i.playVodAsset({player:O.player,asset:O.asset,stream:O.stream,isTrailer:O.isTrailer,isSeriesTrailer:O.isSeriesTrailer,isCdvr:O.isCdvr,eptTime:N("entertainmentPlayMarkerSeconds"),startTime:j()}).catch(z))}function x(e){if(e.asset&&(O.asset=e.asset,G(O.asset)),O.stream=e.stream,O.loading=!1,c.setContentLoading(O.loading),O.liveTmsId=e.liveTmsId,O.displayChannel=e.displayChannel,O.eanUrl=e.eanUrl,O.controls=e.streamType&&e.streamType===Eo.g.LINEAR?"LIVE":e.mode,function(){var e;e=w.getSource().subscribe(function(e){var t=e.visible;O.pcBlockedScreen=t,O.loading=!1,O.buffering=!1,O.seeking=!1}),t.$on("player:parentalControlsUnblocked",function(){O.pcBlockedMessage=""}),t.$on("player:showBlockingScreen",function(){O.pcBlockedMessage="This show is blocked by parental controls. Press unblock button to play the video"}),t.$on("$destroy",function(){e.dispose()})}(),O.isLiveMode="LIVE"===O.controls,O.isVodMode=["VOD","CDVR"].includes(O.controls),O.isVodMode){var n=!!Object(b.c)(e,"asset.cdvrRecording"),r=!!Object(b.c)(e,"asset.isEpisode"),i=!!Object(b.c)(e,"asset.cdvrRecording.cdvrSeriesRecording");O.isCDVRMovie=!r&&n,O.isCDVREpisode=r&&n&&!i,g.isPlayBackCompleted()?(v.go.apply(v,on()(e.asset.clickRoute)),g.setPlaybackCompleteToFalse()):I(e)}else O.isCDVRMovie=!1,O.isCDVREpisode=!1}function _(e){switch(s[e.keyCode]){case"j":O.throttledSkip(-1);break;case"l":O.slider.options.ffDisabled||O.throttledSkip(1)}}function D(){O.unsubscribeAssetLoaded&&(W(),O.unsubscribeAssetLoaded.dispose(),O.unsubscribeAssetLoaded=null),O.unsubscribeAssetLoaded=f.assetLoadedSource.subscribe(function(e){!function(){for(var e in A)Object.prototype.hasOwnProperty.call(A,e)&&function(){var n=A[e];A[e]=function(){n.apply(void 0,arguments),t.$evalAsync()},O.player.on(e,A[e])}()}(),t.$evalAsync(function(){x(e)})})}function R(){var e,t=g.getSavedPlayerState();return t&&(null===t||void 0===t?void 0:null===(e=t.mediaInfo)||void 0===e?void 0:e.entity)===function(){if(O.isCdvr)return Object(b.c)(O.stream,"streamProperties.cdvrRecording.playUrl");return"true"===v.params.trailer||"true"===v.params.seriesTrailer?Object(b.c)(O.stream,"streamProperties.ipvsTrailerUrl"):Object(b.c)(O.stream,"streamProperties.mediaUrl")}()}function j(){return N("playMarkerSeconds")}function N(e){if(O.isTrailer||O.isStartOver)return 0;if(R())return g.getSavedPlayerState().currentTime;var t=O.stream.bookmark;return!t||t.complete||t.playMarkerSeconds>=t.runtimeSeconds?0:t[e]}function M(){O.stream&&O.stream.cdvrState===h.IN_PROGRESS?O.slider.options.max=Math.ceil(Math.max(O.bufferLenMsec/1e3,O.duration)):O.slider.options.max=Math.ceil(O.bufferLenMsec/1e3),O.slider.options.max>0&&P.resolve(),O.slider.options.value=O.playbackTime,O.slider.options.ffDisabled=O.scrubbingDisabled,O.slider.options.cdvrScrubbingDisabled=O.cdvrScrubbingDisabled,O.scrubberBarVisible=O.duration>0}function V(){O.scrubbingDisabled=O.stream&&O.stream.streamProperties.tricks_mode&&void 0!==O.stream.streamProperties.tricks_mode.FASTFORWARD&&!(O.adBreaks&&O.adBreaks.length),O.cdvrScrubbingDisabled=O.disableCDVRInProgressScrubbing&&O.isCdvr&&O.stream.cdvrState!==h.COMPLETED}function L(e){var t=0;return O.adBreaks.find(function(n){if(!(e>n.endTime))return!(e>n.startTime&&e<n.endTime)||(t+=e-n.startTime,!0);t+=n.duration}),e-t}function F(){O.isVodMode||c.toggleMiniGuide()}function U(e,t){var n=Math.max(0,Math.min(e,O.bufferLenMsec/1e3-5));if(O.seeking||O.seekQueue.length)return function(e,t){var n={positionSec:e,sourceElement:t};O.seekQueue.length&&O.seekQueue.pop();O.seekQueue.push(n)}(e,t);(!O.scrubbingDisabled||n<O.playbackTime)&&(O.player.trigger("stream-scrubbed",{PlaybackTimestamp:1e3*n,Runtime:1e3*O.duration,sourceElement:t}),O.player.seekToPosition(1e3*n,t),O.playbackTime=n,M())}function B(e,t){var n,r,i;!O.isVodMode||e.Blocked||O.isTrailer||null!==(n=null===O||void 0===O?void 0:null===(r=O.slider)||void 0===r?void 0:null===(i=r.options)||void 0===i?void 0:i.isAdPlaying)&&void 0!==n&&n||d.setBookmark(t,Math.floor(e.PlaybackTimestamp/1e3),Math.floor(L(e.PlaybackTimestamp)/1e3),Math.floor(e.Runtime/1e3))}function W(){for(var e in A)Object.prototype.hasOwnProperty.call(A,e)&&O.player.off(e,A[e])}function H(e,t){return t.findIndex(function(t){var n;return t.startTime===(null===e||void 0===e?void 0:null===(n=e.currentAdBreak)||void 0===n?void 0:n.startTimeMs)})}function G(e){O.asset=e,O.isSAPAvailable=!1,O.isSAPEnabled=!1,function(e){var t=Object(b.c)(e,"title"),n=Object(b.c)(e,"seriesTitle",t);if(Object(b.c)(e,"channel")){var r;O.assetTitle=t,O.assetSubtitle=Object(b.c)(e,"episodeTitle",""),O.networkLogo=null===(r=O.asset)||void 0===r?void 0:r.networkImage(),O.networkAltText="Channel ".concat(O.asset.channel.localChannelNumber,", ").concat(O.asset.channel.networkName)}else{var i,o,a,s;O.assetTitle=n,O.assetSubtitle=Object(b.c)(e,"seriesTitle")?t:"",O.networkLogo=null===(i=O.stream)||void 0===i?void 0:i.networkImage(),O.networkAltText=null!==(o=null===(a=O.stream)||void 0===a?void 0:null===(s=a.network)||void 0===s?void 0:s.name)&&void 0!==o?o:""}}(e)}function q(){if(O.loading&&O.asset){if(O.asset===p)return"Please wait for important emergency alert message...";if(O.isVodMode)return"Loading ".concat(O.asset.title);if(O.isLiveMode)return"Loading ".concat(O.asset.channel?O.asset.channel.networkName:O.asset.title)}else{if(O.buffering)return"Buffering";if(O.seeking)return"Seeking"}}function z(e){e!==m.tunedAway&&(e===m.outOfHome?(me.a.trigger(),$.errorAlert("WLC-1012").promise.then(E)):e===m.unentitled?$.errorAlert("WEN-1004",{IVR_NUMBER:l.a.getSelectorValue(u.ff)}).promise.then(E):e===m.notFound?$.errorAlert("WGU-1002").promise.then(E):e===m.oohFraudDetection?$.errorAlert("WCD-1009").promise.then(E):e===m.cdvrStreamFetchError?$.errorAlert("WCD-1004").promise.then(E):e===m.inprogressCdvrStreamFetchError?$.errorAlert("WCD-1005").promise.then(E):e===m.notRented?$.errorAlert("WDP-1037").promise.then(E):$.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for playerControls onPlayVodError",error:JSON.stringify(e,Object(b.b)())}}).promise.then(E))}function Y(){O.showDevicePickerTooltip=!1,O.devicePickerTooltipClosed=!0,C.a.setItem(k.b.devicePickerTooltipShown,!0)}function K(e,t){if(O.isVodMode&&t.castState===cast.framework.CastState.CONNECTING){var n=1e3*O.playbackTime,r={PlaybackTimestamp:n,Runtime:1e3*O.duration};f.setVodDuration(O.bufferLenMsec/1e3),B(r,!0);var i=Math.floor(L(n)/1e3);g.setCurrentTime(i)}}!function(){O.bufferLenMsec=0,O.options={},O.pcBlockedScreen=!1,O.controls="",O.asset=void 0,O.scrubberBarVisible=!1,O.menuVisible=!1,O.playbackTime=0,O.seeking=!1,O.stopped=!0,O.loading=!1,O.buffering=!1,O.duration=0,O.scrubbingDisabled=!0,O.adBreaks=[],O.liveTmsId="",O.eanUrl="",O.enlarge=!1,O.isLiveMode=!1,O.isVodMode=!1,O.isCDVRMovie=!1,O.isCDVREpisode=!1,O.miniGuideOpen=c.isMiniGuideOpen(),O.controllerBarVisible=!1,O.playerOverlayTimer=c,O.showCastTooltip=!1,O.showDevicePickerTooltip=!1,O.chromecastTooltipClosed=!1,O.devicePickerTooltipClosed=!1,O.chromecastEnabled=g.isEnabled(),O.isTrailer=!1,t.$watch(function(){return O.miniGuideOpen},function(e){!function(e){try{var t=e.isVisible,n=e.isFullScreen;if(!xr.includes(Object(y.f)()))return;var r=ti(t?n?"fake.miniguide.fullScreen":"fake.miniguide":n?"fake.livetv.fullScreen":"fake.livetv");if(t&&(r.currPageAppliedSorts=l.a.getSelectorValue(jr),r.currPageAppliedFilters=l.a.getSelectorValue(Mr)),Object(y.f)()===r.expectedPageName)return;Object(Lr.a)(r)}catch(e){console.error("Error",e)}}({isVisible:e,isFullScreen:O.isFullScreen})}),t.$on("seek-to-position",function(e,t){O.seekToPosition(t.positionSec,t.sourceElement)}),e.$on("player-control:click",function(){return F()}),e.$on("devicePickerTooltip:hide",function(){return Y()}),t.$on("player:assetSelected",function(e,t){return G(t)}),D();var n,r,i=e.$on("playerOverlayTimer:hide",function(){O.controllerBarVisible=!1}),o=e.$on("playerOverlayTimer:show",function(){O.controllerBarVisible=!0}),s=e.$on("playerOverlayTimer:miniGuideToggled",function(){O.miniGuideOpen=c.isMiniGuideOpen()}),u=a.observable.filter(function(e){return O.isValidPlayRoute()&&O.isVodMode&&!O.slider.options.isAdPlaying&&!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}).subscribe(_);O.chromecastEnabled&&(n=e.$on("chromecast:cast-state-changed",K),r=e.$on("chromecast:session-state-changed",function(e,t){t.sessionState===cast.framework.SessionState.SESSION_START_FAILED&&t.errorCode===chrome.cast.ErrorCode.CANCEL&&O.playerOverlayTimer.startOverlayTimer()}));t.$on("$destroy",function(){O.unsubscribeAssetLoaded&&O.unsubscribeAssetLoaded.dispose(),u.dispose(),W(),i(),o(),s(),O.chromecastEnabled&&(r(),n())}),T.getSTBs().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];O.hasFlickableSTBs=void 0!==e.find(function(e){return e.flickable})}),O.scrubbingDisabled=!0,O.slider={options:{max:0,step:0,value:0,ffDisabled:!1,cdvrScrubbingDisabled:!1,adBreaks:[]}}}(),t.$on("player-control:playerChanged",function(){return r(function(){return D()})}),O.isValidPlayRoute=function(){return f.isValidPlayRoute()}}e.$inject=["$rootScope","$scope","version","$timeout","playerStreamService","ondemandGoBack","globalKeydown","keyMap","playerOverlayTimer","BookmarkService","dummyEANAsset","CDVR_STATE","$state","playerService","playerErrors","chromecastService","$q","blockingScreenService","kiteModalService","stbService"],e.$inject=["$rootScope","$scope","version","$timeout","playerStreamService","ondemandGoBack","globalKeydown","keyMap","playerOverlayTimer","BookmarkService","dummyEANAsset","CDVR_STATE","$state","playerService","playerErrors","chromecastService","$q","blockingScreenService","kiteModalService","stbService"],angular.module("ovpApp.playerControls",["ovpApp.player.blockingScreen","ovpApp.product.service","ovpApp.components.ovp.rating","ovpApp.miniGuide.miniGuide","ovpApp.miniGuide.miniGuideData","ovpApp.playerControls.skipButton","ovpApp.player.streamService","ovpApp.services.kiteModal","ovpApp.services.parentalControlsService","ovpApp.directives.draggable","ovpApp.dataDelegate","dibari.angular-ellipsis","ovpApp.directives.focus","ovpApp.services.dateFormat","rx","ovpApp.services.rxUtils","selectn","ovpApp.directives.ovp-fullscreen","ovpApp.playerControls.ovpScrubber","ovpApp.playerControls.playerStatusBar","ovpApp.player","ovpApp.product.productActionService","ovpApp.components.modal","ovpApp.components.ovp.ccSettings","ovpApp.toggleDevicePickerBridge","ovpApp.services.chromecast","ovpApp.services.stbService","ovpApp.services.flickTo","ovpApp.services.windowFocus","ovpApp.services.playerOverlayTimer","ovpApp.services.chromecast","ovpApp.components.ovp.remotePlayerCCSettings","ajoslin.promise-tracker","ovpApp.player.sapService","ovpApp.directives.keydown","ovpApp.ondemand.goback","ovpApp.infoToggle","ovpApp.player.playerService","ovpApp.devicePickerTooltip","ovpApp.chromecastTooltip","ovpApp.autoplayMutedTooltip"]).directive("playerControls",function(){return{bindToController:!0,controllerAs:"vm",controller:e,templateUrl:"js/components/player/player-controls.html",scope:{player:"<",watchNextMode:"="}}}).directive("preventDefault",function(){return{link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}})}(),angular.module("ovpApp.remotePlayer.controls",["ovpApp.components.ovp.remotePlayerCCSettings","ovpApp.components.modal"]).component("remotePlayerControls",{bindings:{asset:"<",stb:"<"},templateUrl:"js/components/player/remote-player-controls.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{version:t,modal:n,StbSettingsService:r})}return e.$inject=["version","modal","StbSettingsService"],e.$inject=["version","modal","StbSettingsService"],Ce()(e,[{key:"$onChanges",value:function(){this.getCCSettings()}},{key:"getCCSettings",value:function(){var e=this;this.stb&&this.StbSettingsService.getSTBProperties(this.stb).then(function(t){e.allowedCCOptions=t.closedCaptioning,e.allowedSAPOptions=t.secondaryAudio,e.isCCEnabled="Off"!==e.allowedCCOptions.selection.defaultValue,e.isSAPAvailable=!!e.allowedSAPOptions.selection,e.isSapEnabled=!(!e.isSAPAvailable||"Off"===e.allowedSAPOptions.selection.defaultValue),e.StbSettingsService.getPreferences(e.stb).then(function(t){e.ccSettings=t.closedCaptioning||{},e.sapSettings=t.secondaryAudio||{},e.isCCEnabled="Off"!==e.ccSettings.selection,e.isSapEnabled=!!(e.isSAPAvailable&&e.sapSettings&&e.sapSettings.selection&&"Off"!==e.sapSettings.selection)})})}},{key:"showStbCcSettings",value:function(){var e=this;this.modal.open({component:"ovp-remote-player-caption-settings",windowClass:"ovp-player-caption-settings",showCloseIcon:!1,resolve:{stb:this.stb,allowedCCOptions:this.allowedCCOptions,ccSettings:this.ccSettings}}).result.then(function(){return e.getCCSettings()})}},{key:"ccToggle",value:function(){var e=this;this.isCCEnabled=!this.isCCEnabled;var t=this.isCCEnabled?"On":"Off";this.StbSettingsService.updateCCSettings(this.stb,{selection:t}).then(function(t){e.isCCEnabled="Off"!==t.closedCaptioning.selection},function(){e.isCCEnabled=!e.isCCEnabled})}},{key:"sapToggle",value:function(){var e=this;this.isSapEnabled=!this.isSapEnabled,this.StbSettingsService.toggleSAP(this.stb,this.isSapEnabled?"On":"Off").then(function(t){e.isSapEnabled=!(!t.secondaryAudio||"Off"===t.secondaryAudio.selection)},function(){e.isSapEnabled=!e.isSapEnabled})}},{key:"ccToggleImage",value:function(){return this.ccHovered?this.version.appVersion+"/images/cc-active.svg":this.isCCEnabled?this.version.appVersion+"/images/cc-active.svg":this.version.appVersion+"/images/cc.svg"}},{key:"sapToggleImage",value:function(){return this.sapIconHovered?this.version.appVersion+"/images/sap-dvs-active.svg":this.isSapEnabled?this.version.appVersion+"/images/sap-dvs-active.svg":this.version.appVersion+"/images/sap-dvs.svg"}},{key:"ccSettingsImage",value:function(){return this.ccSettingsHovered?this.version.appVersion+"/images/settings-active.svg":this.version.appVersion+"/images/settings.svg"}}]),e}()});var fc=n("+v9g"),mc=n.n(fc),gc=n("C6kf"),bc=n.n(gc);angular.module("ovpApp.components.chromecastPlayerControls",["ovpApp.services.chromecast","ovpApp.miniGuide.chromecastMiniGuide","ovpApp.services.kiteModal","ovpApp.directives.keydown","ovpApp.ondemand.goback","ovpApp.player.streamService","ovpApp.playerControls.ovpScrubber","ovpApp.services.rxUtils","ovpApp.player.playerService","ovpApp.toggleDevicePickerBridge"]).component("chromecastPlayerControls",{templateUrl:"js/components/player/chromecast-player-controls.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g,b){we()(this,e),angular.extend(this,{$window:t,$rootScope:n,$scope:r,$state:i,playerStreamService:o,ondemandGoBack:a,globalKeydown:s,keyMap:c,playerService:l,chromecastService:u,$q:d,blockingScreenService:p,delegateUtils:h,BookmarkService:v,CDVR_STATE:f,playerErrors:m,kiteModalService:g,playerOverlayTimer:b})}return e.$inject=["$window","$rootScope","$scope","$state","playerStreamService","ondemandGoBack","globalKeydown","keyMap","playerService","chromecastService","$q","blockingScreenService","delegateUtils","BookmarkService","CDVR_STATE","playerErrors","kiteModalService","playerOverlayTimer"],e.$inject=["$window","$rootScope","$scope","$state","playerStreamService","ondemandGoBack","globalKeydown","keyMap","playerService","chromecastService","$q","blockingScreenService","delegateUtils","BookmarkService","CDVR_STATE","playerErrors","kiteModalService","playerOverlayTimer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.setDefaults(),this.registerChromecastEvents(),this.assetLoadedSource=this.playerService.assetLoadedSource.subscribe(function(t){e.$scope.$evalAsync(function(){e.updateControls(t)})}),this.rootScopeEvents.push(this.$rootScope.$on("playerOverlayTimer:miniGuideToggled",function(){e.miniGuideOpen=e.playerOverlayTimer.isMiniGuideOpen(),e.controllerBarVisible=!e.miniGuideOpen})),this.$scope.$on("seek-to-position",function(t,n){e.seekToPosition(n.positionSec,!0)}),this.$scope.$on("player:assetSelected",function(t,n){e.asset=n,e.setTitleInfo(n)}),this.rootScopeEvents.push(this.$rootScope.$on("mini-guide:toggle",function(){e.isVodMode||e.playerOverlayTimer.toggleMiniGuide()})),this.keydownHandler=this.globalKeydown.observable.filter(function(t){return e.playerService.isValidPlayRoute()&&e.isVodMode&&!e.slider.options.isAdPlaying&&!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)}).subscribe(this.globalKeydownHandler.bind(this))}},{key:"$onDestroy",value:function(){if(this.keydownHandler.dispose(),this.assetLoadedSource&&this.assetLoadedSource.dispose(),!this.chromecastService.isCasting()&&this.duration>0){var e={PlaybackTimestamp:this.chromecastService.getSavedPlayerState().currentTime,Runtime:this.duration};this.prepareToSetBookmark(e,!0)}this.rootScopeEvents.forEach(function(e){return e()})}},{key:"setDefaults",value:function(){var e,t,n=this,r=this.chromecastService.getMediaSession();if(this.loading=this.chromecastService.hasRequestInProgress(),this.playbackTime=Object(b.c)(r,"currentTime",0),this.skipSeconds=parseInt(l.a.getSelectorValue(u.ge)),this.controllerBarVisible=!0,this.media=this.chromecastService.getMediaData(),this.options={},this.pcBlockedScreen=!1,this.asset=this.playerStreamService.getCurrentAsset(),this.seeking=!1,this.buffering=!1,this.currentTime=0,this.duration=null!==(e=null===(t=this.media)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,this.adBreaks=[],this.scrubberReadyDefer=this.$q.defer(),this.rootScopeEvents=[],this.isLiveMode=!1,this.isVodMode=!1,this.isInProgressCdvr=!1,this.goBack=function(){return n.ondemandGoBack(n.asset)},this.toggleDevicePickerEnabled=l.a.getSelectorValue(u.rg),this.isTrailer=!1,this.isCCEnabled=!1,this.media?(this.setLocalChannelNumber(this.media.metadata),this.setTimeInfoUsingMedia(this.media.metadata),this.adBreaks=this.chromecastService.handleCastAdBreaksForOvp(bc()([],["breaks"],this.media),this.duration)):this.asset&&(this.localChannelNumber=Object(b.c)(this.asset,"channel.localChannelNumber"),this.setTimeInfoUsingAsset(this.asset)),this.loading){var i=this.chromecastService.getDeviceName(),o=this.isLiveMode?Object(b.c)(this.asset,"channel.networkName","media"):Object(b.c)(this.asset,"title","media");this.loadingMessage="Loading ".concat(o," on ").concat(i)}var a=this.media?this.media.metadata:this.asset;this.setTitleInfo(a),this.networkImage=this.getNetworkImage(a),this.showCastTooltip=!1,this.chromecastTooltipClosed=!1,this.setScrubbingDisabled(),this.slider={options:{max:0,step:0,value:0,ffDisabled:!1,cdvrScrubbingDisabled:!1,adBreaks:[]}}}},{key:"globalKeydownHandler",value:function(e){switch(this.keyMap[e.keyCode]){case"j":this.skip(-1);break;case"l":this.slider.options.ffDisabled||this.skip(1)}}},{key:"setTitleInfo",value:function(e){e&&(e.channel?(this.assetTitle=e.title,this.assetSubtitle=e.episodeTitle?e.episodeTitle:""):(this.assetTitle=e.seriesTitle?e.seriesTitle:e.title,this.assetSubtitle=e.seriesTitle?e.title:""))}},{key:"registerChromecastEvents",value:function(){var e=this;this.rootScopeEvents.push(this.$rootScope.$on("chromecast:loading-media",function(t,n,r){e.asset=r,e.media=null,e.networkImage=e.getNetworkImage(e.asset),e.loading=!0,e.isLiveMode=!1,e.isVodMode=!1,e.isInProgressCdvr=!1;var i,o=e.chromecastService.getDeviceName();"LIVE"===n.media.streamType?(i=Object(b.c)(r,"channel.networkName","media"),e.localChannelNumber=Object(b.c)(r,"channel.localChannelNumber"),e.setTimeInfoUsingAsset(e.asset)):i=Object(b.c)(r,"title","media"),e.loadingMessage="Loading ".concat(i," on ").concat(o)})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:session-state-changed",function(t,n){(n.sessionState===cast.framework.SessionState.SESSION_ENDING||n.sessionState===cast.framework.SessionState.SESSION_ENDED)&&e.assetLoadedSource&&(e.assetLoadedSource.dispose(),e.assetLoadedSource=null)})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:player-state-changed",function(t,n){e.buffering="BUFFERING"===n})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:is-playing-break-changed",function(t,n){n?e.onAdBreakStarted():e.onAdBreakStopped()})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:break-clip-id-changed",function(t,n){if(n&&e.slider.options.isAdPlaying){var r=Object(b.c)(e,"media.breaks",[]),i=nt()(function(e){var t=bc()([],["breakClipIds"],e);if(mc()(n,t))return e})(r);e.slider.options.value=bc()(e.slider.options.value,["position"],i)}})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:load-media-failure",function(){e.loading=!1})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:time-changed",function(t,n){e.seekToPosition(n,!1)})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:media-finished",function(){var t;e.isVodMode&&((t=e.$state).go.apply(t,on()(e.asset.clickRoute)),e.chromecastService.setPlaybackCompleteToFalse())})),this.rootScopeEvents.push(this.$rootScope.$on("chromecast:media-info-changed",function(t,n){e.isCCEnabled=e.chromecastService.isCCEnabled(),e.duration=Object(b.c)(e.media,"duration",0);var r=e.chromecastService.handleCastAdBreaksForOvp(bc()([],["breaks"],n),e.duration);e.adBreaks=r,e.slider.options.adBreaks=r;var i=Object(b.c)(n,"customData.isCDVR");e.isLiveMode="LIVE"===n.streamType&&!i,e.isVodMode="BUFFERED"===n.streamType||i,e.isInProgressCdvr="LIVE"===n.streamType&&i;var o=Object(b.c)(e.media,"entity");if(e.loading=e.chromecastService.hasRequestInProgress(),!e.loading&&e.loadingMessage&&(e.loadingMessage="",e.$scope.$applyAsync()),!e.isVodMode||o!==n.entity){e.media=n;var a=Object(b.c)(e.media,"metadata",{});e.setTitleInfo(a),e.setLocalChannelNumber(a);var s=e.getNetworkImage(a);s!==e.networkImage&&(e.networkImage=s),e.isVodMode&&!e.isInProgressCdvr&&e.initPlaybackTime(e.duration),e.setTimeInfoUsingMedia(a)}}))}},{key:"setLocalChannelNumber",value:function(e){var t=this,n=Object(b.c)(e,"tmsGuideId");n&&!this.isVodMode?ea.a.getChannels({tmsGuideId:n}).then(function(e){t.localChannelNumber=Object(b.c)(e[0],["channels",0])}):this.localChannelNumber=null}},{key:"getNetworkImage",value:function(e){return e?Object(b.d)(e&&e.networkImage)?e.networkImage():Object(b.c)(e,["images",1,"url"]):null}},{key:"setTimeInfoUsingMedia",value:function(e){if(this.isLiveMode){var t=Object(b.c)(e,"sectionStartAbsoluteTime"),n=t+Object(b.c)(e,"sectionDuration");t&&n&&(this.assetTimeInfo={scheduledStartTimeSec:t,scheduledEndTimeSec:n})}}},{key:"setTimeInfoUsingAsset",value:function(e){this.assetTimeInfo={scheduledStartTimeSec:Object(b.c)(e,"scheduledStartTimeSec"),scheduledEndTimeSec:Object(b.c)(e,"scheduledEndTimeSec")}}},{key:"skip",value:function(e){this.$rootScope.$broadcast("playerControls: skip",{multiplier:e})}},{key:"updatePlaybackTimeMarkerPosition",value:function(){this.duration&&(this.slider.options.max=Math.ceil(this.duration),this.slider.options.max>0&&(this.controllerBarVisible=!0,this.scrubberReadyDefer.resolve()),this.playbackTime&&(this.slider.options.value=this.playbackTime),this.slider.options.ffDisabled=this.scrubbingDisabled,this.slider.options.cdvrScrubbingDisabled=this.isInProgressCdvr)}},{key:"initPlaybackTime",value:function(e){this.duration=parseInt(e)||0,this.setScrubbingDisabled(),this.updatePlaybackTimeMarkerPosition()}},{key:"setScrubbingDisabled",value:function(){var e,t,n;this.scrubbingDisabled=(null===(e=this.media)||void 0===e?void 0:null===(t=e.customData)||void 0===t?void 0:t.seekDisabled)&&!(null===(n=this.adBreaks)||void 0===n?void 0:n.length)}},{key:"seekToPosition",value:function(e,t){var n=Math.max(0,Math.min(e,this.duration));(!this.scrubbingDisabled||!t||n<this.playbackTime)&&(this.playbackTime=n,this.updatePlaybackTimeMarkerPosition())}},{key:"onAdBreakStarted",value:function(){this.slider.options.isAdPlaying=!0}},{key:"onAdBreakStopped",value:function(){this.slider.options.isAdPlaying=!1}},{key:"updateControls",value:function(e){this.asset=e.asset,this.registerBlockingListeners(),(e.streamType===Eo.g.VOD||e.streamType===Eo.g.CDVR)&&this.playVodAsset(e)}},{key:"registerBlockingListeners",value:function(){var e,t=this;e=this.blockingScreenService.getSource().subscribe(function(e){var n=e.visible;t.pcBlockedScreen=n,t.pcBlockedScreen&&(t.loading=!1),t.seeking=!1}),this.$scope.$on("player:parentalControlsUnblocked",function(){t.pcBlockedMessage=""}),this.$scope.$on("player:showBlockingScreen",function(){t.pcBlockedMessage="This show is blocked by parental controls. Press unblock button to play the video"}),this.$scope.$on("$destroy",function(){e.dispose()})}},{key:"playVodAsset",value:function(e){var t;angular.isUndefined(e.stream)?this.kiteModalService.errorAlert("WGU-1002").promise.then(this.goBack.bind(this)):(this.isTrailer=e.isTrailer||e.isSeriesTrailer,this.isStartOver=e.isStartOver,this.initPlaybackTime(null===(t=e.stream)||void 0===t?void 0:t.duration),this.slider.options.isAdPlaying=!1,this.BookmarkService.setAssetToBookmark(e.stream.streamProperties.providerAssetID),this.playerStreamService.playVodAsset({asset:e.asset,stream:e.stream,isTrailer:e.isTrailer,isCdvr:e.isCdvr}).catch(this.onPlayVodError.bind(this)))}},{key:"prepareToSetBookmark",value:function(e,t){!this.isVodMode||e.Blocked||this.isTrailer||this.BookmarkService.setBookmark(t,Math.floor(e.PlaybackTimestamp/1e3),Math.floor(this.calculateEpt(e.PlaybackTimestamp)/1e3),Math.floor(e.Runtime/1e3))}},{key:"calculateEpt",value:function(e){var t=0;return this.adBreaks.find(function(n){if(!(e>n.endTime))return!(e>n.startTime&&e<n.endTime&&(t+=e-n.startTime,0));t+=n.duration}),e-t}},{key:"onPlayVodError",value:function(e){if(e!=this.playerErrors.tunedAway&&e!=this.playerErrors.oohFraudDetection){var t;switch(e){case this.playerErrors.outOfHome:me.a.trigger(),t="WLC-1012";break;case this.playerErrors.unentitled:t="WEN-1004";break;case this.playerErrors.notFound:t="WGU-1002";break;case this.playerErrors.cdvrStreamFetchError:t="WCD-1004";break;case this.playerErrors.inprogressCdvrStreamFetchError:t="WCD-1005";break;default:t="WGE-1001"}this.kiteModalService.errorAlert(t,void 0,{errorExtras:{cause:"Unhandled error for chromecast onPlayVodError",error:JSON.stringify(e,Object(b.b)())}}).promise.then(this.goBack.bind(this))}}},{key:"startOver",value:function(e,t){t.stopPropagation(),this.playerService.startOver(e)}}]),e}()}),angular.module("ovpApp.remotePlayer.setTopConnection",["ovpApp.remotePlayer"]).component("setTopConnection",{templateUrl:"js/components/player/set-top-connection.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{remotePlayService:t,$state:n,$transitions:r,$timeout:i})}return e.$inject=["remotePlayService","$state","$transitions","$timeout"],e.$inject=["remotePlayService","$state","$transitions","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.remotePlaySubscription=this.remotePlayService.getSource().subscribe(function(t){e.options=t,e.asset=t.asset,e.stb=t.stb,e.stbTitle=t.stb&&(t.stb.name||t.stb.macAddress),e.programTitle=t.asset&&t.asset.title}),this.$transitions.onSuccess({},function(){e.canShow()?e.$timeout(function(){e.ariaLiveMessage="Watching ".concat(e.programTitle," on ").concat(e.stbTitle)},100):e.ariaLiveMessage=""})}},{key:"$onDestroy",value:function(){this.remotePlaySubscription&&this.remotePlaySubscription.dispose()}},{key:"canShow",value:function(){return!this.$state.includes("ovp.playRemote")&&!!this.asset&&!!this.stb}},{key:"reconnect",value:function(){this.$state.go("ovp.playRemote",this.options)}}]),e}()}),angular.module("ovpApp.playerControls.ovpScrubber",["ovpApp.directives.draggable"]).component("ovpScrubber",{templateUrl:"js/components/player/ovp-scrubber.html",bindings:{seconds:"<",adBreaks:"<",max:"<",value:"<",ffDisabled:"<",cdvrScrubbingDisabled:"<",isAdPlaying:"<",hasViewedAd:"<",showBuffer:"<",player:"<"},controller:function(){function e(t,n,r,i,o,a){we()(this,e),this.$scope=t,this.$element=n,this.$timeout=r,this.$interval=o,this.$rootScope=i,this.chromecastService=a}return e.$inject=["$scope","$element","$timeout","$rootScope","$interval","chromecastService"],e.$inject=["$scope","$element","$timeout","$rootScope","$interval","chromecastService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.chromecastService.isCasting()||this.registerPlayerEvents(),this.disableSeeking=function(){return e.onSeekBegin()},this.enableSeeking=function(){return e.onSeekEnd()},this.updatePlayerPosition=function(){return e.onPlayerEndPositionChanged()},this.adBreaks=this.adBreaks||[],this.mousePosition=null,this.sliderDragging=!1,this.skipSeconds=parseInt(l.a.getSelectorValue(u.ge)),this.mouseOverSlider=!1,this.sliderElem=angular.element(this.$element[0]).find(".slider-track")[0],this.sliderHandlePosition={left:this.value/this.max*100+"%"},this.calcSliderHandlePosition(),"true"===this.$element.focusOn&&this.$timeout(function(){return e.sliderElem.focus()}),this.$scope.$on("slider-handle-position-changed",function(t,n){e.unscrubableAd()||e.cdvrScrubbingDisabled||(e.mousePosition=Math.max(0,Math.min(n.position,e.sliderElem.offsetLeft+e.sliderElem.offsetWidth)),e.sliderDragging&&e.calcSliderHandlePosition())}),this.$scope.$on("slider-handle-drag-start",function(t,n){e.sliderDragging=!0,e.mousePosition=n.position}),this.$scope.$on("slider-handle-drag-end",function(){var t=e.calcSliderSelectionWidthFraction();e.sliderDragging=!1,e.mouseOverSlider||(e.sliderFocused=!1),e.seekToPosition(t,"scrubber")}),this.$scope.$on("playerControls: skip",function(t,n){e.skip(n.multiplier)})}},{key:"$onDestroy",value:function(){this.player&&(this.player.off("seekBegin",this.disableSeeking),this.player.off("seekEnd",this.enableSeeking),this.player.off("player-end-position-changed",this.updatePlayerPosition)),this.sliderInterval&&(this.$interval.cancel(this.sliderInterval),this.sliderInterval=void 0)}},{key:"$doCheck",value:function(){this.mousePosition&&(this.mousePositionAsFraction=this.mousePosition/this.sliderElem.offsetWidth)}},{key:"unscrubableAd",value:function(){return this.isAdPlaying&&!this.hasViewedAd}},{key:"registerPlayerEvents",value:function(){this.player.on("player-end-position-changed",this.updatePlayerPosition),this.player.on("seekBegin",this.disableSeeking),this.player.on("seekEnd",this.enableSeeking)}},{key:"onSeekBegin",value:function(){this.seeking=!0}},{key:"onSeekEnd",value:function(){this.seeking=!1}},{key:"onSliderClick",value:function(e){if(!this.seeking&&!this.cdvrScrubbingDisabled)if("keypress"===e.type)this.$rootScope.$emit("toggle-playback"),e.preventDefault();else{var t=(e.target.offsetLeft+e.offsetX)/this.sliderElem.offsetWidth;if(this.unscrubableAd()&&t*this.max>this.value)return;if(this.chromecastService.isCasting()&&this.unscrubableAd())return;this.$element[0].querySelector(".slider-handle").style.left=e.target.offsetLeft+e.offsetX+"px",this.seekToPosition(t,"scrubber")}}},{key:"calcAdBreakStyle",value:function(e){return{left:100*e.startTime/(1e3*this.max)+"%",width:100*e.duration/(1e3*this.max)+"%"}}},{key:"onKeyUp",value:function(e){this.mousePosition=null,39===e.keyCode||38===e.keyCode?this.skip(1):37!==e.keyCode&&40!==e.keyCode||this.skip(-1)}},{key:"valueMax",value:function(){return Math.round(this.max/60)}},{key:"valueNow",value:function(){return Math.round(this.value/60)}},{key:"getTooltipMessage",value:function(){return this.cdvrScrubbingDisabled?"This action is temporarily unavailable on this device.":this.ffDisabled&&(!this.mousePosition||!this.isMouseOnSelectedSlider)||this.unscrubableAd()&&this.mousePosition?"Fast forward is disabled for the duration of this content.":"Use arrow keys to go forward or back in time."}},{key:"calcSliderHandlePosition",value:function(){var e=this;this.sliderInterval=this.$interval(function(){e.sliderDragging?e.sliderHandlePosition={left:e.mousePosition}:e.sliderHandlePosition={left:e.value/e.max*100+"%"}},1e3)}},{key:"calcStartTime",value:function(){return this.mousePosition?this.startTime=parseInt(this.mousePosition/this.sliderElem.offsetWidth*this.max):this.startTime=this.value,this.startTime}},{key:"calcSliderSelectionWidthFraction",value:function(){var e=this.value/this.max;return this.sliderDragging&&!this.unscrubableAd()&&(e=this.isPastBuffer(this.mousePositionAsFraction)?this.bufferTime/this.max:this.mousePositionAsFraction),e}},{key:"calcSliderSelectionStyle",value:function(){return{left:"0px",width:100*this.calcSliderSelectionWidthFraction()+"%"}}},{key:"calcSliderBufferStyle",value:function(){var e=this.calcSliderSelectionStyle().width,t=(this.bufferTime-this.value)/this.max*100+"%";return this.sliderDragging&&(t=this.isPastBuffer(this.mousePositionAsFraction)?0:100*(this.bufferTime/this.max-this.mousePositionAsFraction)+"%"),{left:e,width:t}}},{key:"calcSliderHighStyle",value:function(){var e=100-this.value/this.max*100+"%";return this.sliderDragging&&!this.unscrubableAd()&&(e=this.isPastBuffer(this.mousePositionAsFraction)?100-this.bufferTime/this.max*100+"%":this.sliderElem.offsetWidth-this.mousePosition+"px"),{right:"0px",width:e}}},{key:"calcTooltipPosition",value:function(){var e={tooltip:{},tooltipArrow:{left:this.$element[0].querySelector(".slider-tooltip").offsetWidth/2-10+"px"}};if(this.mousePosition)e.tooltip.left=this.mousePosition+"px";else{var t=this.value/this.max;e.tooltip.left=100*t+"%"}return e}},{key:"onMouseMove",value:function(e){if(!this.sliderDragging){var t=this.sliderElem.offsetWidth;this.mousePosition=e.target.offsetLeft+e.offsetX,this.isMouseOnSelectedSlider=this.$element[0].querySelector(".slider-handle").offsetLeft>this.mousePosition,this.mousePosition<0?this.mousePosition=0:this.mousePosition>t&&(this.mousePosition=t)}}},{key:"onMouseEnter",value:function(){this.sliderFocused=!0,this.mouseOverSlider=!0}},{key:"onMouseLeave",value:function(){this.mouseOverSlider=!0,this.sliderDragging||(this.sliderFocused=!1,this.mousePosition=null)}},{key:"onPlayerEndPositionChanged",value:function(e){this.showBuffer&&(this.bufferTime=e.endPosition/1e3,this.calcSliderBufferStyle())}},{key:"isPastBuffer",value:function(e){var t=e*this.max;return this.showBuffer&&t>this.bufferTime}},{key:"seekToPosition",value:function(e,t){if(!this.cdvrScrubbingDisabled){e=Math.min(1,e);var n=Math.floor(e*this.max);this.chromecastService.isCasting()&&this.chromecastService.seek(n),this.$scope.$emit("seek-to-position",{positionSec:n,sourceElement:t})}}},{key:"skip",value:function(e){this.seeking||this.cdvrScrubbingDisabled||(this.value=pa()(0,this.max,this.value+this.skipSeconds*e),this.seekToPosition(this.value/this.max,"skipButton"))}}]),e}()}),angular.module("ovpApp.playerControls.playerStatusBar",[]).component("playerStatusBar",{bindings:{asset:"<",isLiveTv:"<",currentProgress:"<",adBreaks:"<",activeAdMeta:"<",isAdPlaying:"<",showBuffer:"<"},templateUrl:"js/components/player/player-status-bar.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$element:t,$scope:n,$document:r,$rootScope:i,$interval:o})}return e.$inject=["$element","$scope","$document","$rootScope","$interval"],e.$inject=["$element","$scope","$document","$rootScope","$interval"],Ce()(e,[{key:"$onInit",value:function(){this.adBreaks=this.adBreaks||[];var e=new Date(0),t=new Date(0);if(this.startTime=e.setUTCSeconds(this.asset.scheduledStartTimeSec),this.endTime=t.setUTCSeconds(this.asset.scheduledEndTimeSec),this.endTime&&this.startTime){var n=this.endTime-this.startTime,r=(Date.now()-this.startTime)/n*100;this.sliderHandlePosition=r<=100?{left:r+"%"}:{opacity:0}}this.calcSliderHandlePosition()}},{key:"$onChanges",value:function(){this.adBreaks=this.adBreaks||[];var e=new Date(0),t=new Date(0);this.startTime=e.setUTCSeconds(this.asset.scheduledStartTimeSec),this.endTime=t.setUTCSeconds(this.asset.scheduledEndTimeSec)}},{key:"$onDestroy",value:function(){this.sliderInterval&&(this.$interval.cancel(this.sliderInterval),this.sliderInterval=void 0)}},{key:"calcSliderHandlePosition",value:function(){var e=this;this.sliderInterval=this.$interval(function(){if(e.endTime&&e.startTime){var t=e.endTime-e.startTime,n=(Date.now()-e.startTime)/t*100;e.sliderHandlePosition=n<=100?{left:n+"%"}:{opacity:0}}},1e3)}},{key:"calcCurrentTime",value:function(){return new Date}}]),e}()});n("Xtao");angular.module("ovpApp.stbPicker",[]).component("stbPicker",{templateUrl:"js/components/stb-picker/stb-picker.html",bindings:{resolve:"<",modalInstance:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{stbService:t,version:n,promiseTracker:r,$q:i})}return e.$inject=["stbService","version","promiseTracker","$q"],e.$inject=["stbService","version","promiseTracker","$q"],Ce()(e,[{key:"$onInit",value:function(){this.loadingTracker=this.promiseTracker()}},{key:"$onChanges",value:function(e){e.resolve&&(this.title=this.resolve.title,this.stbs=this.resolve.stbs,this.callback=this.resolve.callback,this.ariaDescription=this.resolve.ariaDescription)}},{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x"+(this.activeCloseIcon?"-active":"")+".svg"}},{key:"onSelect",value:function(e){var t=this;if(angular.isFunction(this.callback)){var n=this.$q.when(this.callback(e)).then(function(){return t.modalInstance.close(e)},function(n){return t.modalInstance.dismiss({error:n,stb:e})});this.loadingTracker.addPromise(n)}else this.modalInstance.close(e)}}]),e}()}),function(){function e(e){return{open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.open({size:"md",showCloseIcon:t.showCloseIcon||!1,windowClass:t.windowClass||"generic-alert",component:"alertComponent",ariaLabelledBy:"alert-title",ariaDescribedBy:"alert-error-message",options:t,resolve:{title:function(){return t.title},message:function(){return t.message},buttonText:function(){return t.buttonText},openTime:function(){return Date.now()}}})}}}e.$inject=["modal"],e.$inject=["modal"],angular.module("ovpApp.components.alert",["ui.bootstrap","ovpApp.components.modal","ovpApp.directives.focus"]).factory("alert",e).component("alertComponent",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/alert/alert.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{$rootScope:t})}return e.$inject=["$rootScope"],e.$inject=["$rootScope"],Ce()(e,[{key:"$onChanges",value:function(e){e.resolve&&(this.title=this.resolve.title,this.message=this.resolve.message,this.buttonText=this.resolve.buttonText,this.openTime=this.resolve.openTime)}},{key:"close",value:function(){this.modalInstance.close("closed by user"),this.$rootScope.$broadcast("Analytics:select",{elementStandardizedName:"ok"})}}]),e}()})}(),function(){function e(e,t){e.onSuccess({},function(){t.hide({all:!0})})}function t(e,t,n,r,i,o,a,s){var c,l,u,d=[],p=[],h=[];return c={show:function(m,g){r.warn("popup.js is deprecated. Migrate this dialog over to modal.js");var b=g||o.$new();return angular.extend(b,m),s.all([b.parentContainer(),t("js/components/popup/popup.html")]).then(function(t){var r=Oe()(t,2),o=r[0],s=r[1],c={scope:b,windowClass:"",appendTo:o||angular.element("body"),openedClass:"popup-open",windowTemplateUrl:"js/components/popup/window-frame.html",backdrop:!1,keyboard:!1,controller:"PopupController as vm"},f=n(s)(b);f.find(".content").append(b.template),c.template=f[0],c.windowClass+=" "+b.className,c.scope.isVisible="hidden",c.scope.popupCss="defaultPosition",h.push(i[0].activeElement),b.config&&"ALERT"===b.config.type?(0===d.length&&((l=e.open(c)).scope=b),d.push(c)):b.config&&b.config.type||((u=e.open(c)).scope=b,p.push(u)),a(function(){v(),c.scope.popupCss="default",c.scope.isVisible="visible"})}),i.on("keyup",f),i.on("click",f),c},addClass:function(e){i.find(".window-splash").addClass(e)},removeClass:function(e){i.find(".window-splash").removeClass(e)},hide:m,close:m};function v(){i.find(".background-frame").css({left:Math.abs((i.find("body").outerWidth()-i.find("#alertBox").outerWidth())/2),top:Math.abs((i.find("body").outerHeight()-i.find("#alertBox").outerHeight())/2)})}function f(e){if(0!==p.length||l){var t=p.length-1,n=e.target&&angular.isFunction(e.target.className.search);n&&(n&&27!==e.keyCode&&e.target.className.search("popUp popupHolder")<0||p.length>0&&p[t].scope&&!p[t].scope.overlayClickClosesPopup||m())}}function m(t){if(l){l.close(),l.scope&&l.scope.deferred&&(t&&t.all?(l.scope.deferred.reject(),d=[]):l.scope.deferred.resolve());var n=l.scope&&l.scope.config;l=null,d.splice(0,1),d.length>0&&!angular.equals(n,d[0].scope.config)&&(d[0].scope.isVisible="hidden",a(function(){(l=e.open(d[0])).scope=d[0].scope,a(function(){v(),d[0].scope.isVisible="visible"})},0))}else{var r=p[p.length-1];r&&(r.close(),r.scope&&r.scope.deferred&&r.scope.deferred.resolve(),p.pop())}h.length>0&&(angular.element(h[h.length-1]).focus(),h.pop()),l||0!==p.length||(i.off("keyup",f),i.off("click",f))}}function n(e){return this.hide=function(){e.hide()},this}n.$inject=["popUpService"],t.$inject=["$uibModal","$templateRequest","$compile","$log","$document","$rootScope","$timeout","$q"],e.$inject=["$transitions","popUpService"],n.$inject=["popUpService"],t.$inject=["$uibModal","$templateRequest","$compile","$log","$document","$rootScope","$timeout","$q"],e.$inject=["$transitions","popUpService"],angular.module("ovpApp.components.popup",["ui.bootstrap","ui.router"]).factory("popUpService",t).controller("PopupController",n).run(e)}(),function(){function e(e,t,n,r,i){var o=[],a={open:function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.$emit("Analytics:modal2-opening",a),!a.windowTemplateUrl){var s=!1!==a.showCloseIcon?"-with-close-icon":"";a.windowTemplateUrl="js/components/modal/classic".concat(s,".html")}t=r.isEnabled()?n.find("#playerWrapper").eq(0):n.find("#modal").eq(0);a.appendTo=t.length>0&&t;var c=e.open(a);return o.push(c),c.opened.then(function(){i.$emit("Analytics:modal2-opened",a)}),c.rendered.then(function(){i.$emit("Analytics:modal2-rendered",a)}),c.result.then(function(e){i.$emit("Analytics:modal2-resolved",a,e)},function(e){i.$emit("Analytics:modal2-rejected",a,e)}),c.closed.then(function(){var e=o.indexOf(c);e>-1&&o.splice(e,1),i.$emit("Analytics:modal2-closed",a)}),c}};return t.onSuccess({},function(){o.forEach(function(e){return e.dismiss("navigated away")}),o=[]}),a}e.$inject=["$uibModal","$transitions","$document","ovpFullscreen","$rootScope"],e.$inject=["$uibModal","$transitions","$document","ovpFullscreen","$rootScope"],angular.module("ovpApp.components.modal",["ovpApp.directives.ovp-fullscreen","ovpApp.directives.keydown","ui.bootstrap"]).factory("modal",e)}(),function(){function e(e,t){var n=null;return{open:function(){var r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.animation=!0,i.ariaLabelledBy="modal-title",i.ariaDescribedBy="modal-body",i.component="modalKiteComponent",i.openedClass="modal-kite-open",i.resolve={title:function(){return i.title},body:function(){return i.body},primaryButtonText:function(){return i.primaryButtonText},onPrimaryButton:function(){return i.onPrimaryButton},secondaryButtonText:function(){return i.secondaryButtonText},onSecondaryButton:function(){return i.onSecondaryButton},tertiaryButtonText:function(){return i.tertiaryButtonText},onTertiaryButton:function(){return i.onTertiaryButton},onClose:function(){return i.onClose}};var o=t.find("#modal").eq(0);return i.appendTo=o.length>0&&o,(n=e.open(i)).result.then(function(){i.onClose&&i.onClose.call(r)}),n},close:function(){n.close()}}}e.$inject=["$uibModal","$document"],e.$inject=["$uibModal","$document"],angular.module("ovpApp.components.modalKite",["ui.bootstrap"]).factory("modalKite",e).component("modalKiteComponent",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/modal-kite/modal-kite.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onChanges",value:function(e){e.resolve&&(this.title=this.resolve.title,this.body=this.resolve.body,this.primaryButtonText=this.resolve.primaryButtonText,this.onPrimaryButton=this.resolve.onPrimaryButton,this.secondaryButtonText=this.resolve.secondaryButtonText,this.onSecondaryButton=this.resolve.onSecondaryButton,this.tertiaryButtonText=this.resolve.tertiaryButtonText,this.onTertiaryButton=this.resolve.onTertiaryButton,this.onClose=this.resolve.onClose)}}]),e}()})}(),angular.module("ovpApp.components.kiteAlert",["ovpApp.directives.keydown"]).component("kiteAlert",{bindings:{modalInstance:"<"},templateUrl:"js/components/kite-modal/kite-alert/kite-alert.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{kiteModalService:t,$element:n,$document:r,ARIA_HIDDEN_ATTRIBUTE_NAME:i})}return e.$inject=["kiteModalService","$element","$document","ARIA_HIDDEN_ATTRIBUTE_NAME"],e.$inject=["kiteModalService","$element","$document","ARIA_HIDDEN_ATTRIBUTE_NAME"],Ce()(e,[{key:"$onInit",value:function(){switch(this.modalInstance.options.type){case"info":this.modalInstance.options.resolve.iconClass={"si-circle-info-f":!0}}}}]),e}()}),angular.module("ovpApp.components.kiteGrowl",[]).component("kiteGrowl",{bindings:{modalInstance:"<"},templateUrl:"js/components/kite-modal/kite-growl/kite-growl.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{$timeout:t})}return e.$inject=["$timeout"],e.$inject=["$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.$timeout(function(){e.modalInstance.close()},l.a.getSelectorValue(u.X))}}]),e}()}),angular.module("ovpApp.components.kiteConfirm",[]).component("kiteConfirm",{bindings:{modalInstance:"<"},templateUrl:"js/components/kite-modal/kite-confirm/kite-confirm.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onInit",value:function(){this.primaryButtonLabel=this.modalInstance.options.resolve.primaryButtonLabel||"Confirm",this.secondaryButtonLabel=this.modalInstance.options.resolve.secondaryButtonLabel||"Cancel"}}]),e}()});var yc=n("3ASB"),Sc=n.n(yc);function wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var kc={SHOW:"show",FOCUS:"focus",RESOLVED:"resolved",DISMISSED:"dismissed",HIDE:"hide"};!function(){function e(e,t,n,r,i,o){return new(function(e){In()(a,e);var t=wc(a);function a(){var e;return we()(this,a),(e=t.call(this,{isVisible:!1})).modals=[],e.modalCount=0,e.lastFocusedElement=null,i.onBefore({},function(t){var n=t.from();n.name&&"login"!==n.name&&e.closeAll()}),e}return Ce()(a,[{key:"resolve",value:function(e){var t=[];return angular.forEach(e,function(e){angular.isFunction(e)?t.push(n.resolve(e())):t.push(n.resolve(e))}),n.all(t).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}},{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0===this.modals.length&&(this.lastFocusedElement=r[0].activeElement),t.resolve=t.resolve||{};var n=this.createModalInstance(t);return this.resolve(t.resolve).then(function(t){n.options.resolve=t,e.onNext({action:kc.SHOW,modalInstance:n})}),n}},{key:"createModalInstance",value:function(e){var t=this,r=n.defer(),i={options:e,timestampOpen:Date.now(),promise:r.promise,focus:function(){t.onNext({action:kc.FOCUS,modalInstance:t,focus:!0})},close:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt.m.USER;r.resolve(e),t.onNext({action:kc.RESOLVED,modalInstance:i,triggeredBy:n,reason:e})},dismiss:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt.m.USER;r.reject(e),t.onNext({action:kc.DISMISSED,modalInstance:i,triggeredBy:n,reason:e})}};return r.promise.finally(function(){t.onNext({action:kc.HIDE,modalInstance:i}),t.modals.splice(t.modals.indexOf(i),1),t.modals.length>0?t.onNext({action:kc.SHOW,modalInstance:t.modals[t.modals.length-1]}):t.lastFocusedElement&&t.lastFocusedElement.focus()}),this.modals.push(i),i}},{key:"errorAlert",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=te.a.getErrorInfo(e,i),s=null===o||void 0===o?void 0:null===(t=o.resolve)||void 0===t?void 0:null===(n=t.options)||void 0===n?void 0:null===(r=n.analytics)||void 0===r?void 0:r.modal;(null===s||void 0===s?void 0:s.show)&&(s.payload=s.payload||{},s.payload.modalText=a.message);var c=Sc()({errorCode:a.errorCodeWithPrefix,resolve:{analyticsModalName:"errorNotification"}},o);return o.errorExtras&&(c.errorExtras=o.errorExtras),this.alert(a.title,a.message,c)}},{key:"messageAlert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o.getAlertForCode(e,t),i=r.title,a=r.message;return this.alert(i,a,n)}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={component:"kite-alert",showCloseIcon:!0,resolve:{title:e,description:t},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"};return this.open(Sc()(r,n))}},{key:"updateLastFocusedElement",value:function(e){this.lastFocusedElement=e}},{key:"isShowingDialog",value:function(){return this.modals.length>0}},{key:"closeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.modals.forEach(function(t){!e&&t.options.doNotCloseAutomatically||t.dismiss("navigated away",lt.m.APPLICATION)})}}]),a}(t.BehaviorSubject))}e.$inject=["$rootScope","rx","$q","$document","$transitions","messages"],e.$inject=["$rootScope","rx","$q","$document","$transitions","messages"],angular.module("ovpApp.services.kiteModal",["ovpApp.kiteError","ovpApp.featuredContentAlertV1","ovpApp.featuredContentAlertV2","ovpApp.genericContentAlert","ovpApp.kiteFreePreviewReminder","ovpApp.kiteAppRatingsFeedbackPromptBridge","ovpApp.messages"]).factory("kiteModalService",e)}(),angular.module("ovpApp.components.kiteModal",["ovpApp.directives.keydown","ovpApp.services.kiteModal"]).directive("kiteModalContent",["$compile","$sce",function(e,t){return{compile:function(){var n;return function(r,i){var o=r.$parent.$ctrl.modalInstance;if(o.options.component){n=document.createElement(function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})}(o.options.component)),n=angular.element(n),r.modalInstance=o,angular.isString(o.options.resolve.description)&&(o.options.resolve.description=t.trustAsHtml(o.options.resolve.description)),r.resolve=o.options.resolve,n.attr({resolve:"resolve","modal-instance":"modalInstance"});var a=e(n)(r);i.replaceWith(a)}}}}}]).constant("ARIA_HIDDEN_ATTRIBUTE_NAME","data-kite-modal-aria-hidden-count").component("kiteModal",{templateUrl:"js/components/kite-modal/kite-modal.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{kiteModalService:t,$element:n,$document:r,$timeout:i,ARIA_HIDDEN_ATTRIBUTE_NAME:o})}return e.$inject=["kiteModalService","$element","$document","$timeout","ARIA_HIDDEN_ATTRIBUTE_NAME"],e.$inject=["kiteModalService","$element","$document","$timeout","ARIA_HIDDEN_ATTRIBUTE_NAME"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.isVisible=!1,this.modalTabIndex=0,this.modalOptions={},this.kiteModalService.subscribe(function(t){t&&t.action===kc.HIDE&&t.modalInstance.id===e.modalInstance.id?(e.isVisible=!1,e.unhideBackgroundElements()):t&&t.action===kc.SHOW?(e.isVisible=!1,e.$timeout(function(){e.isVisible=!0,e.showCloseIcon=t.modalInstance.options.showCloseIcon,e.escapeToClose=t.modalInstance.options.escapeToClose||!0,e.modalInstance=t.modalInstance,e.applyAriaHidden(e.$element)})):t&&t.focus&&e.$element.children()[0].focus()})}},{key:"onKeyDown",value:function(e){var t=e.which||e.keyCode;this.escapeToClose&&this.modalInstance&&27===t&&this.modalInstance.dismiss()}},{key:"unhideBackgroundElements",value:function(){var e=this;Array.prototype.forEach.call(this.$document[0].querySelectorAll("["+this.ARIA_HIDDEN_ATTRIBUTE_NAME+"]"),function(t){var n=parseInt(t.getAttribute(e.ARIA_HIDDEN_ATTRIBUTE_NAME),10)-1;t.setAttribute(e.ARIA_HIDDEN_ATTRIBUTE_NAME,n),n||(t.removeAttribute(e.ARIA_HIDDEN_ATTRIBUTE_NAME),t.removeAttribute("aria-hidden"))})}},{key:"applyAriaHidden",value:function(e){var t=this;if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var n="true"===e.getAttribute("aria-hidden"),r=parseInt(e.getAttribute(t.ARIA_HIDDEN_ATTRIBUTE_NAME),10);r||(r=n?1:0),e.setAttribute(t.ARIA_HIDDEN_ATTRIBUTE_NAME,r+1),e.setAttribute("aria-hidden","true")}),this.applyAriaHidden(e.parent())}},{key:"clickOutSideModal",value:function(e){e.target===e.currentTarget&&this.modalInstance.dismiss()}},{key:"closeIcon",value:function(){this.modalInstance.dismiss()}}]),e}()});var Cc=function(e){var t=e.redirectToBuyflow,n=e.continuePreview,r=e.title,i=e.description,o=e.subscribeButtonText,a=e.continueButtonText;return React.createElement(React.Fragment,null,React.createElement("h1",{id:"kite-free-preview-reminder-title",className:"kite-modal-title kite-h2"},r),React.createElement("p",{id:"kite-free-preview-reminder-description"},i),React.createElement("button",{className:"kite-btn kite-btn-outline-primary kite-btn-lg",onClick:n},a),React.createElement("button",{className:"kite-btn kite-btn-primary kite-btn-lg",onClick:t},o))};angular.module("ovpApp.kiteFreePreviewReminder",[]).component("kiteFreePreviewReminder",Object(Ct.react2angular)(function(e){var t=e.store,n=e.modalInstance,r=e.$state,i=Object(b.c)(n,["options","resolve"]),o=i.modalDetails,a=i.primaryButtonLabel,s=i.secondaryButtonLabel,c=i.analyticsModalName,l=o.title,u=o.description,d=function(){n.close("click")};return React.createElement($t.Provider,{store:t},React.createElement(Cc,{continuePreview:function(){Object(ye.a)("OneApp_selectAction_freePreview_continuePreview",{modalName:c}),d()},redirectToBuyflow:function(){Object(ye.a)("OneApp_selectAction_freePreview_subscribeNow",{modalName:c}),r.go("ovp.offers").then(d)},title:l,description:u,subscribeButtonText:a,continueButtonText:s}))},["modalInstance"],["store","$state"]));var $c=n("GmBL"),Tc=function(){return React.createElement("svg",{className:"star-icon",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 32 32",viewBox:"0 0 32 32"},React.createElement("g",null,React.createElement("path",{fill:"none",d:"M0 0H32V32H0z"}),React.createElement("path",{fill:"#f8f8f8",d:"M16 8.171l2.097 6.453h6.785l-5.489 3.988 2.097 6.453L16 21.077l-5.489 3.988 2.097-6.453-5.489-3.988h6.785L16 8.171m0-6.473l-3.55 10.925H.962l9.294 6.752L6.706 30.3 16 23.549l9.294 6.752-3.55-10.925 9.294-6.752H19.55L16 1.698z"})))};var Oc=function(){return React.createElement("svg",{className:"star-icon",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 32 32",viewBox:"0 0 32 32"},React.createElement("g",null,React.createElement("path",{fill:"none",d:"M0 0H32V32H0z"}),React.createElement("path",{fill:"#FFD400",d:"M16 1.75L19.541 12.636 31 12.636 21.729 19.364 25.271 30.25 16 23.522 6.729 30.25 10.271 19.364 1 12.636 12.459 12.636z"})))},Ec=function(e){var t=e.value,n=e.hoveredStarValue,r=e.updateStateValue,i=e.selectedStarValue,o=(e.setSelectedStarValue,Object(Q.useState)(!1)),a=Oe()(o,2),s=a[0],c=a[1],l=parseInt(i),u=t===l,d=t<=l;return Object(Q.useEffect)(function(){c(t<=n)},[n]),React.createElement("div",{className:"star-".concat(t),onMouseEnter:function(){return r("hoveredStarValue",t)},onMouseLeave:function(){return r("hoveredStarValue",0)}},React.createElement("input",{value:t,id:"star".concat(t),type:"radio",name:"rating",className:"visuallyhidden",onChange:function(e){return r("selectedStarValue",e.target.value)},"aria-checked":u,checked:u}),React.createElement("label",{className:t?"":"sr-only",htmlFor:"star".concat(t)},React.createElement("span",{className:"sr-only ".concat(t?"":"visuallyhidden")},"".concat(t," Stars")),s||d?React.createElement(Oc,null):React.createElement(Tc,null)))};var Ac=function(e){var t=e.dropdownCategories,n=e.dropdownLabel,r=e.updateStateValue,i=Object(Q.useState)(""),o=Oe()(i,2),a=o[0],s=o[1];return X.a.createElement("fieldset",{className:"dropdown-menu-container__inner"},X.a.createElement("label",{htmlFor:"dropdown-select",className:"prompt-label"},n),X.a.createElement("div",{className:"dropdown-select__inner"},X.a.createElement("select",{id:"dropdown-select",value:a,onChange:function(e){s(e.target.value),r("selectedCategory",e.target.value)}},function(){var e=t.map(function(e){return X.a.createElement("option",{key:e,value:e},e)});return e.unshift(X.a.createElement("option",{key:"blank",value:""})),e}())))};function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xc=function(e){var t=e.inputLabel,n=e.dropdownLabel,r=e.userErrorMsg,i=e.modalInstance,o=e.primaryButtonLabel,a=e.feedbackCategories,s=Object(Q.useState)({textAreaValue:"",hoveredStarValue:0,selectedStarValue:0,selectedCategory:"",formSubmitted:!1}),c=Oe()(s,2),l=c[0],u=c[1],d=function(e,t){u(Ic(Ic({},l),{},f()({},e,t)))};return React.createElement("form",{id:"star-rating",onSubmit:function(e){if(e.preventDefault(),u(Ic(Ic({},l),{},{formSubmitted:!0})),l.selectedStarValue){var t=window.location.href.split("?")[1],n=new URLSearchParams(t).get("applicationType");i.promise.then(function(){Object(y.j)("OneApp_userFeedback_settingsFeedback_answer",{opUserCat:l.selectedCategory,opUserEntryNumeric:l.selectedStarValue,opUserFeedback:l.textAreaValue,questionType:"starRating",userName:"userFeedbackPopUp",feedbackTarget:null!==n&&void 0!==n?n:"OVP"})}),u(Ic(Ic({},l),{},{selectedCategory:"",textAreaValue:"",hoveredStarValue:0,selectedStarValue:0})),i.close("click")}}},React.createElement("div",{className:"star-rating-group"},function(){for(var e=[],t=0;t<=5;)e.push(React.createElement(Ec,{key:t,value:t,hoveredStarValue:l.hoveredStarValue,updateStateValue:d,selectedStarValue:l.selectedStarValue})),t++;return e}()),!l.selectedStarValue&&l.formSubmitted&&React.createElement("p",{className:"submit-error-message","aria-live":"assertive","aria-atomic":!0,role:"alert"},r),React.createElement("div",{className:"dropdown-menu-container"},React.createElement(Ac,{dropdownCategories:a,dropdownLabel:n,updateStateValue:d})),React.createElement("div",{className:"feedback-container"},React.createElement("div",{className:"feedback-text-area-container"},React.createElement("label",{className:"prompt-label",htmlFor:"feedback-text-area"},t),React.createElement("textarea",{rows:"5",id:"feedback-text-area",name:"feedback-text",value:l.textAreaValue,onChange:function(e){return d("textAreaValue",e.target.value)}})),React.createElement("button",{id:"app-ratings-submit-btn",className:"kite-btn kite-btn-primary kite-btn-lg"},o)))};var _c=Object($t.connect)(function(e){return{feedbackCategories:Object($c.c)(e),inputLabel:Object($c.d)(e),dropdownLabel:Object($c.b)(e),userErrorMsg:Object($c.g)(e)}},null)(function(e){var t,n,r,i=e.inputLabel,o=e.dropdownLabel,a=e.userErrorMsg,s=e.modalInstance,c=e.feedbackCategories,l=null===s||void 0===s?void 0:null===(t=s.options)||void 0===t?void 0:null===(n=t.resolve)||void 0===n?void 0:n.modalDetails,u=l.title,d=l.description,p=(null===s||void 0===s?void 0:null===(r=s.options)||void 0===r?void 0:r.resolve).primaryButtonLabel;return React.createElement(React.Fragment,null,u&&React.createElement("h2",{className:"kite-modal-title kite-h2"},u),d&&React.createElement("p",null,d),React.createElement(xc,{inputLabel:i,dropdownLabel:o,userErrorMsg:a,modalInstance:s,primaryButtonLabel:p,feedbackCategories:c}))});function Dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}angular.module("ovpApp.kiteAppRatingsFeedbackPromptBridge",[]).component("kiteAppRatingsFeedbackPrompt",Object(Ct.react2angular)(function(e){var t=e.store,n=e.modalInstance;return React.createElement($t.Provider,{store:t},React.createElement(_c,{modalInstance:n}))},["modalInstance"],["store"]));var Rc=function(e){In()(n,e);var t=Dc(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"onClick",function(){r.props.onClick()}),r.state={hover:!1},r}return Ce()(n,[{key:"render",value:function(){var e=this;return React.createElement("button",{className:"info-toggle-button","aria-label":"Program info",onClick:this.props.onClick,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})}},React.createElement("span",{className:"si si-circle-info-f info-icon","aria-hidden":"true"}))}}]),n}(Q.Component);function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}Rc.propTypes={onClick:At.a.func},angular.module("ovpApp.infoToggle",[]).component("infoToggle",Object(Ct.react2angular)(Rc,["onClick"]));var Nc=function(e){In()(n,e);var t=jc(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"onLoad",function(){r.setState({loading:!1})}),f()(Ui()(r),"onError",function(){r.setState({error:!0})}),f()(Ui()(r),"renderImage",function(){return React.createElement(Q.Fragment,null,r.state.loading&&React.createElement(Mc,null),React.createElement("img",{alt:"","aria-hidden":"true",className:"banner",src:r.props.options.imageUri,onLoad:r.onLoad,onError:r.onError}))}),r.state={error:!1,loading:!0},r}return Ce()(n,[{key:"render",value:function(){return this.props.options.imageUri&&!this.state.error?this.renderImage():null}}]),n}(Q.Component),Mc=function(){return React.createElement("svg",{className:"image-loader",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},React.createElement("g",null,React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;270 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("circle",{fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30",strokeDasharray:"187",strokeDashoffset:"610"},React.createElement("animate",{attributeName:"stroke",values:"#ffffff",begin:"0s",dur:"5.6s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;135 33 33;450 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"stroke-dashoffset",values:"187;46.75;187",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}))))},Vc=function(e){var t=e.options;return t.assetSubtitle?React.createElement("p",{className:"kite-h3"},t.assetSubtitle):null},Lc=function(e){var t=e.options;return t.seasonNumber&&t.episodeNumber?React.createElement("div",{className:"season-episode kite-h5"},"S".concat(t.seasonNumber,", E").concat(t.episodeNumber)):null},Fc=function(e){var t=e.options;return!kt()(t.ratings)||t.year?React.createElement("div",{className:"ratings-year"},!kt()(t.ratings)&&React.createElement(Uc,{data:t.ratings}),t.year&&React.createElement("div",{className:"year kite-h5"},t.year)):null},Uc=function(e){return React.createElement("div",{className:"ratings"},e.data.map(function(e){var t=e.replace(/\W/g,"").toLowerCase();return React.createElement("div",{key:e,className:"rating-icon twcicon-rating twcicon-rating-".concat(t)},React.createElement("span",{className:"sr-only"},t))}))},Bc=function(e){var t=e.options;return t.description?React.createElement("p",{className:"description"},t.description):null},Wc=function(e){var t=e.options;return!kt()(t.actors)||!kt()(t.directors)||t.runtime||t.expiryTime?React.createElement("ul",null,!kt()(t.actors)&&React.createElement(Hc,{label:"Actors",data:t.actors.join(", ")}),!kt()(t.directors)&&React.createElement(Hc,{label:"Directors",data:t.directors.join(", ")}),t.runtime&&React.createElement(Hc,{label:"Runtime",data:t.runtime}),t.expiryTime&&React.createElement(Hc,{label:"Expires",data:t.expiryTime})):null},Hc=function(e){return React.createElement("li",{className:"label-value"},React.createElement("b",{className:"label"},e.label),React.createElement("span",{id:e.label,className:"data"},e.data))},Gc=function(e){In()(n,e);var t=jc(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"render",value:function(){var e=this.props.options||this.props.resolve.options;return React.createElement("div",{className:"info-banner-container"},React.createElement(Nc,{options:e}),React.createElement("h1",{id:"info-banner-heading",className:"kite-h2"},e.assetTitle),React.createElement(Vc,{options:e}),React.createElement(Lc,{options:e}),React.createElement(Fc,{options:e}),React.createElement(Bc,{options:e}),React.createElement("div",{className:"divider"}),React.createElement(Wc,{options:e}))}}]),n}(Q.Component),qc=At.a.shape({imageUri:At.a.string,assetTitle:At.a.string,ratings:At.a.arrayOf(At.a.string),year:At.a.number,actors:At.a.arrayOf(At.a.string),directors:At.a.arrayOf(At.a.string),runtime:At.a.string,expiryTime:At.a.string,assetSubtitle:At.a.string,seasonNumber:At.a.number,episodeNumber:At.a.number});function zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}Gc.propTypes={options:qc,resolve:At.a.shape({options:qc})},angular.module("ovpApp.infoBanner",[]).component("infoBanner",Object(Ct.react2angular)(Gc,["resolve","options"]));var Yc=function(e){In()(n,e);var t=zc(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"render",value:function(){var e=Object(b.c)(this.props,"resolve",Object(b.c)(this.props,"options")),t=Object(b.c)(e,"onClick",Object(b.c)(this.props,"modalInstance.close")),n=Object(b.c)(e,"buttonText","OK");return React.createElement("div",{className:"kite-error-container"},React.createElement("h1",{id:"kite-error-header",className:"kite-modal-title kite-h2"},e.title),React.createElement("p",{id:"kite-error-description"},e.description),e.errorCode&&React.createElement("span",{className:"error-code"},"Reference Code: ",e.errorCode),React.createElement("button",{className:"kite-btn kite-btn-primary kite-modal-accept-btn kite-btn-xl",onClick:t},n))}}]),n}(Q.Component),Kc=At.a.shape({title:At.a.string,description:At.a.string,errorCode:At.a.string,buttonText:At.a.string,onClick:At.a.func,modalInstance:At.a.object});Yc.propTypes={options:Kc,resolve:Kc},angular.module("ovpApp.kiteError",[]).component("kiteError",Object(Ct.react2angular)(Yc,["resolve","modalInstance"]));var Jc="toast-message popped",Qc="toast-message",Xc=function(e){var t,n=Object(Q.useState)({visible:!1}),r=Oe()(n,2),i=r[0],o=r[1];return Object(Q.useEffect)(function(){e.message&&(o({visible:!0}),clearTimeout(t),t=setTimeout(function(){o({visible:!1}),e.clearMessage()},e.timeoutMs))},[e.message]),X.a.createElement("div",{role:"status","aria-live":"polite",className:i.visible?Jc:Qc},e.message)};Xc.propTypes={message:At.a.string};function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}function el(e){var t=e.actions.map(function(t){var n={reason:"selectAction",elementStandardizedName:t.analyticsName};return React.createElement("a",{onClick:function(){return e.onClick(n)},key:t.title,className:"alert-action "+t.class,href:t.link},t.title)});return React.createElement("div",{className:"alert-actions"},t)}function tl(e){var t=e.bannerInfo,n=t.image,r=t.imageAlt,i=t.imageSubtext,o=t.subTitle,a=t.title,s=t.logo,c=t.description,u=t.actions,d=t.onClick,p=l.a.getStatePath("config.data.imageServerEndpoint"),h=p+n,v=p+s,f=s?React.createElement("img",{"aria-hidden":"true",src:v,alt:"",className:"banner-logo"}):"";return React.createElement("div",{className:"alert-content"},React.createElement("div",{className:"image-container"},React.createElement("img",{src:h,alt:r,className:"banner-image"}),i&&React.createElement("p",{className:"image-subtext kite-h4"},i)),React.createElement("div",{className:"banner-info"},React.createElement("h2",{className:"banner-title kite-h1"},f," ",a),o&&React.createElement("p",{className:"banner-subtitle kite-h4"},o),React.createElement("p",{className:"banner-description"},c),u&&React.createElement(el,{actions:u,onClick:d})))}angular.module("ovpApp.toastMessage",[]).component("toastMessage",Object(Ct.react2angular)(Object($t.connect)(function(e){return{message:function(e){var t;return null===e||void 0===e?void 0:null===(t=e.toast)||void 0===t?void 0:t.message}(e),timeoutMs:Object(u.Se)(e)}},function(e){return{clearMessage:function(){return e(Object(Ri.b)(""))}}})(Xc),[],["store"]));var nl=function(e){In()(n,e);var t=Zc(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).containerRef=Object(Q.createRef)(),r}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t,n,r,i,o,a=e.containerRef?e.containerRef.current:{},s=a.clientWidth,c=a.clientHeight;Object(y.j)("OneApp_impressionStart_appLaunch",{impressionId:null===(t=e.props)||void 0===t?void 0:null===(n=t.modalInstance)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:null===(i=r.resolve)||void 0===i?void 0:null===(o=i.modalDetails)||void 0===o?void 0:o.promoId,impressionHeight:c,impressionLocation:Object(y.f)(),impressionWidth:s})})}},{key:"render",value:function(){var e=this.props.modalInstance.options.resolve.modalDetails,t=e.title,n=e.subtitle,r={image:e.bannerImage,imageAlt:e.bannerImageAlt,imageSubtext:e.bannerImageSubtext,title:e.bannerTitle,subTitle:e.bannerSubtitle,logo:e.bannerTitleLogo,description:e.bannerDescription,actions:e.bannerActions,onClick:this.props.modalInstance.close};return React.createElement("div",{ref:this.containerRef,className:"generic-feature-alert"},React.createElement("h1",{id:"generic-feature-alert-title",className:"title"},t),n&&React.createElement("p",{id:"generic-feature-alert-subtitle",className:"sub-title"},n),React.createElement(tl,{bannerInfo:r}))}}]),n}(Q.Component);nl.propTypes={modalInstance:At.a.shape({options:At.a.shape({resolve:At.a.shape({modalDetails:At.a.shape({title:At.a.string,bannerImage:At.a.string,bannerTitle:At.a.string,bannerDescription:At.a.string,promoId:At.a.string}).isRequired})})})},angular.module("ovpApp.genericContentAlert",[]).component("genericFeatureAlert",Object(Ct.react2angular)(nl,["modalInstance"],[]));var rl=function(e){e.style;var t=e.width,n=void 0===t?"16":t,r=e.height,i=void 0===r?"18":r,o=e.viewbox,a=void 0===o?"0 0 16 18":o,s=e.strokeWidth,c=void 0===s?"1":s,l=e.fill,u=void 0===l?"#FFFFFF":l;return React.createElement("svg",{focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("defs",null,React.createElement("polygon",{id:"path-1",points:"0.125 17.75 0.125 0.25 15.125 9"})),React.createElement("g",{id:"play_basic_icon",stroke:"none",strokeWidth:c,fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Alert---Option-1-Copy-2",transform:"translate(-972.000000, -526.000000)"},React.createElement("g",{id:"Group-3",transform:"translate(391.000000, 148.000000)"},React.createElement("g",{id:"Buttons/Tertiary/Medium-Dark-UI-Copy",transform:"translate(557.000000, 366.000000)"},React.createElement("g",{id:"icon",transform:"translate(32.000000, 21.000000) rotate(360.000000) translate(-32.000000, -21.000000) translate(24.000000, 12.000000)"},React.createElement("mask",{id:"mask-2",fill:u},React.createElement("use",{xlinkHref:"#path-1"})),React.createElement("use",{id:"ki-play-f",fill:u,xlinkHref:"#path-1"})))))))};function il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var ol=function(e){return React.createElement("div",{className:"header-container"},React.createElement("h1",{className:"feature-title"},e.title),React.createElement("p",{className:"feature-subtitle"},e.subtitle))},al=function(e){return React.createElement("ul",{className:"series-details","aria-hidden":"true"},React.createElement("li",{className:"details-item new-tag"},"NEW"),React.createElement("li",{className:"details-item"},e.rating),React.createElement("li",{className:"details-item"},e.totalEpisodes," Episodes"))},sl=function(e){var t=e.modalInstance.options.resolve.assetDetails,n=t.episode,r=t.titleImage?React.createElement("h2",null,React.createElement("img",{alt:t.title,src:t.titleImage,className:"title-img"})):React.createElement("h2",null,t.title);return React.createElement("div",{className:"episode-details-container"},t.networkImage&&React.createElement("img",{alt:t.networkName,src:t.networkImage,className:"network-img"}),r,React.createElement("div",{className:"sr-only"},"New, ",t.rating,", ",t.totalEpisodes," Episodes"),React.createElement("div",{className:"episode-details"},React.createElement("p",{className:"sr-only"},"episode ",n.episodeNumber,", ",n.title),React.createElement("p",{className:"episode-title kite-h4","aria-hidden":"true"},"E",n.episodeNumber,": ",n.title),React.createElement("p",null,n.runtime," Mins")),React.createElement("p",null,n.description))},cl=function(e){return React.createElement("div",{className:"poster-art-container"},React.createElement("img",{alt:"","aria-hidden":"true",src:e.image,className:"poster-art"}),React.createElement(al,e))},ll=function(e){In()(n,e);var t=il(n);function n(){var e;we()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),f()(Ui()(e),"getMoreInfo",function(t){var n;e.props.modalInstance.close("moreInfo"),(n=e.props.$state).go.apply(n,on()(t.clickRoute))}),f()(Ui()(e),"playAction",function(t){e.props.modalInstance.close({reason:"selectAction",asset:t}),t.episode.playAction()}),e}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t,n,r,i,o,a,s,c,l,u,d=e.contentContainer,p=d.clientWidth,h=d.clientHeight;Object(y.j)("OneApp_impressionStart_appLaunch",{impressionId:null===(t=e.props)||void 0===t?void 0:null===(n=t.modalInstance)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:null===(i=r.resolve)||void 0===i?void 0:null===(o=i.modalDetails)||void 0===o?void 0:o.promoId,impressionHeight:h,impressionWidth:p,impressionLocation:Object(y.f)(),impressionSeriesId:null===(a=e.props)||void 0===a?void 0:null===(s=a.modalInstance)||void 0===s?void 0:null===(c=s.options)||void 0===c?void 0:null===(l=c.resolve)||void 0===l?void 0:null===(u=l.assetDetails)||void 0===u?void 0:u.tmsSeriesId})},0)}},{key:"getModalLabel",value:function(e){return"Spectrum Originals: ".concat(e.title)}},{key:"render",value:function(){var e=this,t=this.props.modalInstance.options.resolve,n=t.modalDetails,r=t.assetDetails,i=this.getModalLabel(r);return React.createElement("div",{ref:function(t){return e.contentContainer=t},className:"feature-content-container","aria-label":i},React.createElement(ol,n),React.createElement("div",{className:"spec-original-content"},React.createElement(cl,r),React.createElement("div",{className:"metadata-container"},React.createElement(sl,this.props),React.createElement("div",{className:"button-container"},React.createElement("a",{href:"#",onClick:function(){return e.playAction(r)},className:"kite-btn kite-btn-primary kite-btn-lg"},React.createElement(rl,null)," Watch Now"),React.createElement("a",{href:"#",onClick:function(){return e.getMoreInfo(r)},className:"kite-btn kite-btn-outline-primary kite-btn-lg"},"More Info")))))}}]),n}(Q.Component);function ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}ll.propTypes={modalInstance:At.a.shape({options:At.a.shape({resolve:At.a.shape({assetDetails:At.a.object,modalDetails:At.a.shape({title:At.a.string,subtitle:At.a.string,promoId:At.a.string})}).isRequired})})},angular.module("ovpApp.featuredContentAlertV1",["ovpApp.src-service"]).component("featuredContentAlertV1",Object(Ct.react2angular)(ll,["modalInstance"],["OvpSrcService","$state"]));var dl=function(e){return React.createElement("div",{className:"header-container"},React.createElement("h1",{className:"feature-title"},e.title),React.createElement("p",{className:"feature-subtitle"},e.subtitle))},pl=function(e){return React.createElement("ul",{className:"series-details","aria-hidden":"true"},React.createElement("li",{className:"details-item new-tag"},"NEW"),React.createElement("li",{className:"details-item"},e.rating),React.createElement("li",{className:"details-item"},e.totalEpisodes," Episodes"))},hl=function(e){var t=e.modalInstance.options.resolve.assetDetails,n=t.episode,r=t.titleImage?React.createElement("h2",null,React.createElement("img",{alt:t.title,src:t.titleImage,className:"title-img"})):React.createElement("h2",null,t.title);return React.createElement("div",{className:"episode-details-container"},t.networkImage&&React.createElement("img",{alt:t.networkName,src:t.networkImage,className:"network-img"}),r,React.createElement("div",{className:"sr-only"},"New, ",t.rating,", ",t.totalEpisodes," Episodes"),React.createElement("div",{className:"episode-details"},React.createElement("p",{className:"sr-only"},"episode ",n.episodeNumber,", ",n.title),React.createElement("p",{className:"episode-title kite-h4","aria-hidden":"true"},"E",n.episodeNumber,": ",n.title),React.createElement("p",null,n.runtime," Mins")),React.createElement("p",null,n.description))},vl=function(e){return React.createElement("div",{className:"poster-art-container"},React.createElement("img",{alt:"","aria-hidden":"true",src:e.image,className:"poster-art"}),React.createElement(pl,e))},fl=function(e){return React.createElement("svg",{focusable:"false",className:"svg-icon","aria-hidden":"true"},React.createElement("use",{xlinkHref:e.buttonIcon}))},ml=function(e){In()(n,e);var t=ul(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"toggleWatchList",function(e){var t=r.state.addToWatchList?"Analytics:selectAction_promos_add_to_watchList":"Analytics:selectAction_promos_remove_from_watchList";r.state.addToWatchList?r.props.BookmarkService.addToWatchlist(e,!0):r.props.BookmarkService.deleteFromWatchlist(e,!0),r.setState({addToWatchList:!r.state.addToWatchList}),r.props.$rootScope.$emit(t)}),f()(Ui()(r),"playAction",function(e){r.props.modalInstance.close({reason:"selectAction",asset:e}),e.episode.playAction()}),r.state={addToWatchList:r.props.modalInstance.options.resolve.assetDetails.addToWatchList},r}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t,n,r,i,o,a,s,c,l,u,d=e.contentContainer,p=d.clientWidth,h=d.clientHeight;Object(y.j)("OneApp_impressionStart_appLaunch",{impressionId:null===(t=e.props)||void 0===t?void 0:null===(n=t.modalInstance)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:null===(i=r.resolve)||void 0===i?void 0:null===(o=i.modalDetails)||void 0===o?void 0:o.promoId,impressionHeight:h,impressionWidth:p,impressionLocation:Object(y.f)(),impressionSeriesId:null===(a=e.props)||void 0===a?void 0:null===(s=a.modalInstance)||void 0===s?void 0:null===(c=s.options)||void 0===c?void 0:null===(l=c.resolve)||void 0===l?void 0:null===(u=l.assetDetails)||void 0===u?void 0:u.tmsSeriesId})},0)}},{key:"getModalLabel",value:function(e){return"Spectrum Originals: ".concat(e.title)}},{key:"render",value:function(){var e=this,t=this.props.modalInstance.options.resolve,n=t.modalDetails,r=t.assetDetails,i=this.getModalLabel(r),o=r.icons[this.state.addToWatchList?"addToWatchList":"removeFromWatchList"];return React.createElement("div",{ref:function(t){return e.contentContainer=t},className:"feature-content-container","aria-label":i},React.createElement(dl,n),React.createElement("div",{className:"spec-original-content"},React.createElement(vl,r),React.createElement("div",{className:"metadata-container"},React.createElement(hl,this.props),React.createElement("div",{className:"button-container"},React.createElement("a",{href:"#",onClick:function(){return e.playAction(r)},className:"kite-btn kite-btn-primary kite-btn-lg"},React.createElement(rl,null)," Watch Now"),React.createElement("a",{href:"#",onClick:function(){return e.toggleWatchList(r)},className:"kite-btn kite-btn-outline-primary kite-btn-lg watch-list-btn"},React.createElement(fl,{buttonIcon:o}),"Watchlist")))))}}]),n}(Q.Component);function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}ml.propTypes={modalInstance:At.a.shape({options:At.a.shape({resolve:At.a.shape({assetDetails:At.a.object,modalDetails:At.a.shape({title:At.a.string,subtitle:At.a.string,promoId:At.a.string})}).isRequired})})},angular.module("ovpApp.featuredContentAlertV2",["ovpApp.src-service","ovpApp.services.bookmark"]).component("featuredContentAlertV2",Object(Ct.react2angular)(ml,["modalInstance"],["OvpSrcService","$state","$rootScope","BookmarkService"]));var bl={primary:{default:"#ffffff",hover:"#ffffff"},"outline-primary":{default:"#ffffff",hover:"#004366"},secondary:{default:"#004366",hover:"#ffffff"}},yl=function(e){In()(n,e);var t=gl(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"onClickHandler",function(e){r.props.isBusy&&r.props.onBusyClick?r.props.onBusyClick(e):r.props.onClick&&r.props.onClick(e)}),r.state={hover:!1},r}return Ce()(n,[{key:"render",value:function(){var e=this,t=Object(b.c)(this.props,"isBusy",!1),n=Object(b.c)(this.props,"buttonType","primary"),r="kite-btn kite-btn-".concat(n),i="spinner-button-container"+(t&&" busy"),o=t?Object(b.c)(this.props,"busyText",""):Object(b.c)(this.props,"buttonText",""),a=Object(b.c)(this.props,"ariaStatusText",""),s=bl[n][this.state.hover?"hover":"default"];return React.createElement("div",{className:i},React.createElement("span",{role:"status",className:"sr-only"},a),React.createElement("button",{className:r,onClick:this.onClickHandler,onMouseEnter:function(){return e.setState({hover:!0})},onMouseLeave:function(){return e.setState({hover:!1})}},o,t&&React.createElement(Sl,{strokeColor:s})))}}]),n}(Q.Component),Sl=function(e){In()(n,e);var t=gl(n);function n(){return we()(this,n),t.apply(this,arguments)}return Ce()(n,[{key:"render",value:function(){var e=Object(b.c)(this.props,"strokeColor","#ffffff");return React.createElement("svg",{className:"newspinner",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},React.createElement("g",null,React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;270 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("circle",{fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30",strokeDasharray:"187",strokeDashoffset:"610"},React.createElement("animate",{attributeName:"stroke",values:e,begin:"0s",dur:"5.6s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animateTransform",{attributeName:"transform",type:"rotate",values:"0 33 33;135 33 33;450 33 33",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}),React.createElement("animate",{attributeName:"stroke-dashoffset",values:"187;46.75;187",begin:"0s",dur:"2s",fill:"freeze",repeatCount:"indefinite"}))))}}]),n}(Q.Component);yl.propTypes={isBusy:At.a.bool,onClick:At.a.func,onBusyClick:At.a.func,buttonText:At.a.string,busyText:At.a.string,ariaStatusText:At.a.string,buttonType:At.a.oneOf(["primary","secondary","outline-primary"])},angular.module("ovpApp.loadingButton",[]).component("loadingButton",Object(Ct.react2angular)(yl,["isBusy","onClick","onBusyClick","buttonText","busyText","ariaStatusText","className"]));var wl=function(e){var t=e.width,n=void 0===t?"30":t,r=e.height,i=void 0===r?"30":r,o=e.viewbox,a=void 0===o?"0 0 17 17":o,s=e.fill,c=void 0===s?"#FFFFFF":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{fill:"",d:"M0 0h17v17H0z"}),React.createElement("path",{fill:c,d:"M9 1.441V0L6.63 2.305 9 4.61V3.17c3.431 0 6.223 2.713 6.223 6.05 0 3.337-2.792 6.051-6.223 6.051-3.408 0-6.187-2.68-6.216-5.993l-1.63-1.579A7.528 7.528 0 0 0 1 9.22C1 13.508 4.59 17 9 17s8-3.492 8-7.78c0-4.287-3.59-7.779-8-7.779"})))},kl=function(e){var t=e.width,n=void 0===t?"30":t,r=e.height,i=void 0===r?"30":r,o=e.viewbox,a=void 0===o?"0 0 17 17":o,s=e.fill,c=void 0===s?"#FFFFFF":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a},React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{fill:"",d:"M0 0h17v17H0z"}),React.createElement("path",{fill:c,d:"M8 1.441V0l2.37 2.305L8 4.61V3.17c-3.431 0-6.223 2.713-6.223 6.05 0 3.337 2.792 6.051 6.223 6.051 3.408 0 6.186-2.68 6.216-5.993l1.63-1.579c.1.49.154 1.003.154 1.521C16 13.508 12.41 17 8 17s-8-3.492-8-7.78c0-4.287 3.59-7.779 8-7.779"})))};function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var $l={ACTIVE:"#0d92ff",INACTIVE:"#fff"},Tl=function(e){In()(n,e);var t=Cl(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={svgFill:$l.INACTIVE},r}return Ce()(n,[{key:"getAriaLabel",value:function(){var e=this.props.direction<0?"backward":"forward";return this.props.seekDisabled?"Seek disabled for this program":"Jump ".concat(e," ").concat(this.props.seconds," seconds")}},{key:"updateSvgFill",value:function(e){this.setState({svgFill:e})}},{key:"render",value:function(){var e=this.props.direction<0?"j":"l",t=this.getAriaLabel();return React.createElement("button",{className:"btn-reset skip-button","aria-label":t,onMouseEnter:this.updateSvgFill.bind(this,$l.ACTIVE),onMouseLeave:this.updateSvgFill.bind(this,$l.INACTIVE),onClick:this.props.onClick,accessKey:e},React.createElement("span",{className:"skip-seconds",role:"presentation"},this.props.seconds),this.props.direction<0?React.createElement(wl,{fill:this.state.svgFill}):React.createElement(kl,{fill:this.state.svgFill}))}}]),n}(Q.Component);Tl.propTypes={direction:At.a.string.isRequired,onClick:At.a.func,seconds:At.a.number.isRequired,seekDisabled:At.a.bool};var Ol=n("01jY"),El=n.n(Ol);function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var Pl={LIVE:"LIVE",VOD:"BUFFERED"},Il=function(e){In()(n,e);var t=Al(n);function n(e){var r;we()(this,n),r=t.call(this,e),f()(Ui()(r),"endCastSession",function(){r.props.chromecastService.disconnect(),r.setState({isDisconnected:!0})}),f()(Ui()(r),"skip",function(e){r.props.chromecastService.skip(e)}),f()(Ui()(r),"updateCurrentLocation",function(){var e=window.innerWidth/2,t=window.innerHeight/2,n=r.containerRef.current.getBoundingClientRect(),i=n.x>e?"R":"L",o=n.y>t?"B":"T";r.containerPosition=o+i}),f()(Ui()(r),"moveTo",function(e){if("Enter"!==e.key&&" "!==e.key){if(r.state.isMoveButtonActivated)if("Tab"!==e.key){e.preventDefault();var t={TL:{ArrowRight:"TR",ArrowDown:"BL"},TR:{ArrowLeft:"TL",ArrowDown:"BR"},BL:{ArrowUp:"TL",ArrowRight:"BR"},BR:{ArrowUp:"TR",ArrowLeft:"BL"}}[r.containerPosition][e.key];t&&(r.containerPosition=t,r.setState({containerStyle:{TL:{left:"20px",top:"20px",right:"auto",bottom:"auto"},TR:{left:"auto",top:"20px",right:"20px",bottom:"auto"},BL:{left:"20px",top:"auto",right:"auto",bottom:"20px"},BR:{left:"auto",top:"auto",right:"20px",bottom:"20px"}}[t],ariaLiveAnnouncement:{TL:"Positioned: Top Left",TR:"Positioned: Top Right",BL:"Positioned: Bottom Left",BR:"Positioned: Bottom Right"}[t]})),r.moveButton.focus()}else r.setState({isMoveButtonActivated:!1})}else{var n=!r.state.isMoveButtonActivated,i=n?"Use arrow keys to reposition":"";r.setState({isMoveButtonActivated:n,ariaLiveAnnouncement:i})}}),f()(Ui()(r),"openDevicesDialog",function(e){"Enter"!==e.key&&" "!==e.key||r.chromecastButton.click()}),f()(Ui()(r),"CastBackgroundImage",function(){var e={backgroundImage:r.state.backgroundImage&&"url('".concat(r.state.backgroundImage,"')")},t="cast-background-image";return r.state.isCastIdle&&(t+=" cast-idle"),React.createElement("div",{className:t,style:e,tabIndex:"-1"})}),f()(Ui()(r),"CastDisplayMessage",function(){var e=r.props.Utils.decodeHtmlString(r.state.castMessage);return React.createElement("span",{role:"presentation",className:"cast-display-message",title:e},e)}),f()(Ui()(r),"CloseButton",function(){return React.createElement("button",{accessKey:"p","aria-label":"Disconnect from cast",className:"btn-reset si si-x close",onClick:function(){return r.endCastSession()}})}),f()(Ui()(r),"MoveButton",function(){return React.createElement("div",{className:"move-button-container",role:"application"},React.createElement("button",{className:"move-button",ref:function(e){return r.moveButton=e},"aria-pressed":r.isMoveButtonActivated,"aria-label":"Move Chromecast Remote",onKeyDown:r.moveTo,onFocus:r.updateCurrentLocation}))}),f()(Ui()(r),"getPlayButton",function(){var e,t="btn-reset si pause";return r.state.isPlaying?(e="pause",t+=" si-pause-f"):(e="play",t+=" si-play-f"),React.createElement("button",{accessKey:"k","aria-label":e,className:t,onClick:function(){return r.togglePlay()}})}),f()(Ui()(r),"VolumeButton",function(){var e=r.state.isMuted?"btn-reset si mute si-speaker-mute-f":"btn-reset si mute si-speaker-sound-f";return React.createElement("button",{accessKey:"m","aria-pressed":r.state.isMuted,"aria-label":"Mute",className:e,onClick:function(){return r.toggleMute()}})}),f()(Ui()(r),"TrickPlayControls",function(){var e=parseInt(r.props.skipSeconds);return r.state.streamType!==Pl.VOD||r.state.isCastIdle?null:React.createElement(Q.Fragment,null,React.createElement(Tl,{direction:"-1",seconds:e,onClick:function(){return r.skip(-1)}}),r.getPlayButton(),React.createElement(Tl,{direction:"1",seconds:e,onClick:function(){return r.skip(1)}}))});var i=r.props.chromecastService.getMetadata(),o=r.props.chromecastService.getMediaData();return r.state={backgroundImage:r.getBackgroundImage(i),duration:Object(b.c)(o,"duration",null),isCastIdle:!i,isMuted:r.props.chromecastService.isMuted(),isPlaying:r.props.chromecastService.isPlaying(),streamType:Object(b.c)(o,"streamType",null),castMessage:r.getCastMessage(o),containerStyle:{},ariaLiveAnnouncement:null,isMoveButtonActivated:!1,isDisconnected:!1},r.chromecastButton=null,r.moveButton=null,r.rootScopeEvents=[],r.containerRef=Object(Q.createRef)(),r.containerPosition="BR",r}return Ce()(n,[{key:"componentDidMount",value:function(){this.addRootScopeListeners()}},{key:"componentWillUnmount",value:function(){this.rootScopeEvents.forEach(function(e){return e()})}},{key:"addRootScopeListeners",value:function(){var e=this;this.rootScopeEvents.push(this.props.$rootScope.$on("chromecast:media-info-changed",function(t,n){var r={duration:n.duration,isCastIdle:!1,castMessage:e.getCastMessage(n),streamType:n.streamType,isPlaying:e.props.chromecastService.isPlaying()},i=e.getBackgroundImage(n.metadata);i!==e.state.backgroundImage&&(r.backgroundImage=i),e.setState(r)})),this.rootScopeEvents.push(this.props.$rootScope.$on("chromecast:toggle-mute",function(t,n){e.setState({isMuted:n})})),this.rootScopeEvents.push(this.props.$rootScope.$on("chromecast:toggle-pause",function(t,n){e.setState({isPlaying:n})})),this.rootScopeEvents.push(this.props.$rootScope.$on("chromecast:media-finished",function(){e.state.streamType===Pl.VOD&&(e.props.chromecastService.setPlaybackCompleteToFalse(),e.endCastSession())}))}},{key:"getBackgroundImage",value:function(e){return e?Object(b.c)(e,["images",0,"url"],"")+"?twccategory=Iconic&sourceType=colorHybrid&default=true":null}},{key:"getCastMessage",value:function(e){var t=this.props.chromecastService.getDeviceName(),n=e||this.props.chromecastService.getMediaData();if(!n||!n.metadata)return"Connected to ".concat(t);var r=n.metadata;if(!r.seriesTitle)return r.title;var i="";return r.season&&r.episode&&(i+="S".concat(r.season," E").concat(r.episode," ")),i+="".concat(r.seriesTitle,": ").concat(r.title)}},{key:"toggleMute",value:function(){this.props.chromecastService.toggleMute(),this.setState({isMuted:this.props.chromecastService.isMuted()})}},{key:"togglePlay",value:function(){this.props.chromecastService.togglePlay(),this.setState({isPlaying:this.props.chromecastService.isPlaying()})}},{key:"render",value:function(){var e=this;return this.state.isDisconnected?null:React.createElement(El.a,null,React.createElement("section",{"aria-label":"chromecast remote",style:this.state.containerStyle,ref:this.containerRef,className:"chromecast-remote-container"},this.state.castMessage&&React.createElement(this.CastBackgroundImage,null),this.state.castMessage&&React.createElement(this.CastDisplayMessage,null),React.createElement("span",{id:"chromecast_status",className:"sr-only","aria-live":"polite"},this.state.castMessage),React.createElement("div",{className:"mini-player-controls"},React.createElement("google-cast-launcher",{onKeyDown:this.openDevicesDialog,class:"cast-button","aria-label":"Chromecast","aria-describedby":"cast_btn_desc",tabindex:"0",role:"button",ref:function(t){return e.chromecastButton=t}}),React.createElement(this.CloseButton,null),React.createElement(this.MoveButton,null),React.createElement(this.TrickPlayControls,null),React.createElement(this.VolumeButton,null),React.createElement("span",{id:"cast_btn_desc",hidden:!0},"Open Chromecast dialog."),React.createElement("span",{id:"chromecast-remote-position",className:"sr-only",role:"status","aria-live":"polite"},this.state.ariaLiveAnnouncement))))}}]),n}(Q.Component);angular.module("ovpApp.components.chromecastRemote",["ovpApp.services.chromecast","ovpApp.playerControls.skipButton","ovpApp.services.utils"]).component("chromecastRemote",Object(Ct.react2angular)(Object($t.connect)(function(e){return{skipSeconds:Object(u.ge)(e)}})(Il),[],["$rootScope","chromecastService","Utils","store"]));n("x7Iy");angular.module("ovpApp.components.editConflict",["ovpApp.rdvr.rdvrService","ovpApp.components.ovp.button","ovpApp.components.ovp.channel","ovpApp.services.epgsService"]).constant("STATUS",{conflict:"conflict",resolving:"resolving",success:"success",error:"error"}).component("editConflict",{templateUrl:"js/components/edit-conflict/edit-conflict.html",bindings:{resolve:"<",modalInstance:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{stbService:t,rdvrService:n,epgsService:r,STATUS:i})}return e.$inject=["stbService","rdvrService","epgsService","STATUS"],e.$inject=["stbService","rdvrService","epgsService","STATUS"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.conflictStatus=this.STATUS.conflict,this.recordings=this.resolve&&this.resolve.conflictingRecordings||[],this.selectedConflictItem=this.recordings[0],this.recordings.map(function(t){return e.epgsService.getChannelByMystroSvcId(t.mystroServiceId,t.displayChannel).then(function(e){t.callSign=e.callSign})}),this.dayDisplay=this.stbService.formatUnix(this.recordings[0].startTime,"eeee, mmm ddx")+" at "+this.stbService.formatUnix(this.recordings[0].startTime,"hh:nn a")}},{key:"close",value:function(e){this.modalInstance.close(e)}},{key:"cancelRecording",value:function(){var e=this;this.selectedConflictItem&&(this.stbService.getCurrentStb().then(function(t){return e.rdvrService.cancelScheduled(t,e.selectedConflictItem,!0)}).then(function(){e.conflictStatus=e.STATUS.success,e.modalInstance.focus()},function(){e.conflictStatus=e.STATUS.error,e.modalInstance.focus()}),this.conflictStatus=this.STATUS.resolving,this.modalInstance.focus())}},{key:"getRecordingAriaLabel",value:function(e){var t=e.title+".";return e.seasonNumber&&(t=t+" Season "+e.seasonNumber+", Episode "+e.episodeNumber+": "+e.episodeTitle+"."),t=t+" on "+e.callSign+" "+e.displayChannel}}]),e}()}),angular.module("ovpApp.components.conflictItem",[]).component("conflictItem",{bindings:{recording:"<",state:"<",onStateChanged:"&"},templateUrl:"js/components/edit-conflict/conflict-item.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{OvpSrcService:t,rdvrService:n,stbService:r})}return e.$inject=["OvpSrcService","rdvrService","stbService"],e.$inject=["OvpSrcService","rdvrService","stbService"],Ce()(e,[{key:"$onChanges",value:function(e){e.state&&void 0===this.state&&(this.state="undecided"),e.recording&&(this.genre=this.recording.genres[0]||"",this.startTime=this.stbService.formatUnix(this.recording.startTime,"h:nn a"))}},{key:"toggleSelection",value:function(){"save"!==this.state?this.state="save":this.state="delete",this.onStateChanged({recording:this.recording,state:this.state})}},{key:"isMovie",value:function(){return this.rdvrService.isMovie(this.recording.tmsProgramId)}},{key:"checkboxImage",value:function(){var e;return e="save"===this.state?"/images/rdvr_checkBoxes_check.png":"delete"===this.state?"/images/rdvr_checkBoxes_x.png":"/images/rdvr_checkBoxes_justbox.png",this.OvpSrcService.versionPath(e)}}]),e}()}),angular.module("ovpApp.components.templatePopup.editScheduled",["ovpApp.components.ovp.channel","ovpApp.services.stbService","ovpApp.rdvr.rdvrService","ovpApp.messages","ovpApp.components.alert","ovpApp.components.templatePopup","ovpApp.components.ovp.button","ovpApp.components.ovp.channel","ovpApp.components.ovp.clickConfirm","ovpApp.components.modal","ovpApp.components.editConflict","ovpApp.rdvr.cacheService","ovpApp.services.dateFormat","ovpApp.directives.dropdownList","ajoslin.promise-tracker","ovpApp.services.kiteModal"]).component("editScheduled",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/template-popup/edit-scheduled/edit-scheduled.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p,h){we()(this,e),angular.extend(this,{$rootScope:t,$element:n,stbService:r,rdvrService:i,$q:o,messages:a,dateFormat:s,promiseTracker:c,kiteModalService:l,$timeout:u,recordingViewModelDefinition:d,alert:p,modal:h})}return e.$inject=["$rootScope","$element","stbService","rdvrService","$q","messages","dateFormat","promiseTracker","kiteModalService","$timeout","recordingViewModelDefinition","alert","modal"],e.$inject=["$rootScope","$element","stbService","rdvrService","$q","messages","dateFormat","promiseTracker","kiteModalService","$timeout","recordingViewModelDefinition","alert","modal"],Ce()(e,[{key:"$onChanges",value:function(e){var t=this;if(e.resolve){this.scheduledRecording=this.resolve.scheduledRecording,this.seriesOnly=this.resolve.seriesOnly;var n=this.rdvrService.isMovie(this.scheduledRecording.tmsProgramId);this.dvrTracker=this.promiseTracker(),this.displayDate=this.dateFormat.absolute.expanded.atTime(new Date(parseInt(1e3*this.scheduledRecording.startTime))),this.model={availableTabs:{SERIES:"series",EPISODE:"episode"},isSeries:!1,isMovie:n,updateDisabled:!0,recordSeries:this.scheduledRecording.recordSeries,showKeepUntil:!1,showSaveAtMost:!1,showRecord:!1,showStartTime:!0,showStopTime:!0,showAirTime:!1,isNew:this.scheduledRecording.isNew},this.model.isNew&&(this.model.updateDisabled=!1),this.options={deleteWhenSpaceIsNeeded:[{label:"Until Space Needed",value:!0},{label:"Do Not Delete",value:!1}],numEpisodesToKeep:[{label:"1 Episode",value:1},{label:"3 Episodes",value:3},{label:"5 Episodes",value:5},{label:"7 Episodes",value:7},{label:"All Episodes",value:-1}],recordOnlyNewEpisodes:[{label:"All Episodes",value:!1},{label:"New Episodes",value:!0}],startAdjustMinutes:[{label:"Original Start Time",value:0},{label:"1 minute earlier",value:-1},{label:"2 minutes earlier",value:-2},{label:"3 minutes earlier",value:-3},{label:"4 minutes earlier",value:-4},{label:"5 minutes earlier",value:-5},{label:"15 minutes earlier",value:-15},{label:"30 minutes earlier",value:-30},{label:"1 minute later",value:1},{label:"2 minutes later",value:2},{label:"3 minutes later",value:3},{label:"4 minutes later",value:4},{label:"5 minutes later",value:5},{label:"15 minutes later",value:15}],stopAdjustMinutes:[{label:"Original End Time",value:0},{label:"1 minute later",value:1},{label:"2 minutes later",value:2},{label:"3 minutes later",value:3},{label:"4 minutes later",value:4},{label:"5 minutes later",value:5},{label:"15 minutes later",value:15},{label:"30 minutes later",value:30},{label:"60 minutes later",value:60},{label:"120 minutes later",value:120},{label:"1 minute earlier",value:-1},{label:"2 minutes earlier",value:-2},{label:"3 minutes earlier",value:-3},{label:"4 minutes earlier",value:-4},{label:"5 minutes earlier",value:-5},{label:"15 minutes earlier",value:-15}],recordOnlyAtThisAirTime:[{label:"All Showings",value:!1},{label:"Within Selected Time Slot",value:!0}]},this.form={},this.settings=angular.copy(this.scheduledRecording.settings),angular.forEach(this.scheduledRecording.settings,function(e,n){t.options[n]&&(t.form[n]=t.options[n].find(function(t){return t.value===e}))}),this.updateOptions()}}},{key:"updateOptions",value:function(){this.model.showKeepUntil=this.model.isMovie||!this.model.recordSeries,this.model.showSaveAtMost=this.model.showRecord=this.model.showAirTime=this.model.recordSeries,this.model.isMovie?this.cancelLabel="Cancel Recording":this.cancelLabel="Cancel "+(this.model.recordSeries?"Series":"Episode")}},{key:"isSeries",value:function(){return this.model.recordSeries}},{key:"onSelect",value:function(){var e=this;angular.forEach(this.form,function(t,n){e.settings[n]=t.value}),this.model.updateDisabled=angular.equals(this.settings,this.scheduledRecording.settings)&&!this.model.isNew}},{key:"cancelSchedule",value:function(){var e=this;this.stbService.getCurrentStb().then(function(t){e.$rootScope.$emit("Analytics:rdvr-cancel");var n=e.rdvrService.cancelScheduled(t,e.scheduledRecording,!e.isSeries()).then(function(){e.modalInstance.close({reason:"cancel-schedule",recording:e.scheduledRecording}),e.$rootScope.$broadcast("Analytics:rdvr-cancel-recording-succeeded",e.scheduledRecording,e.action)});e.dvrTracker.addPromise(n)})}},{key:"unknownCancelFailure",value:function(){this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{iconClass:"si si-circle-info-f",title:te.a.getErrorInfo("WCM-9000").title,description:te.a.getErrorInfo("WCM-9000").message,errorCode:"WCM-9000"},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}},{key:"openConfirmCancelModal",value:function(){var e="Are you sure you want to cancel ";this.model.recordSeries?e+="all recordings for this series":(e+=(this.model.isMovie?"the recording":"this episode")+" of ",e+=this.scheduledRecording.title),e+="?",this.kiteModalService.open({component:"kite-confirm",showCloseIcon:!0,resolve:{title:"Cancel Recording",description:e,analyticsModalName:"rdvrConfirmCancellation"},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(this.cancelSchedule.bind(this))}},{key:"updateSchedule",value:function(){var e=this,t=this;this.stbService.getCurrentStb().then(function(n){e.$rootScope.$emit("Analytics:rdvr-confirm");var r=angular.copy(e.scheduledRecording._context.data);r.settings=e.settings,r.recordSeries=e.model.recordSeries;var i=function(i){r.isNew=i;var a=e.recordingViewModelDefinition.createInstance(r),s=e.rdvrService.scheduleRecording(n,a).then(function(){e.modalInstance.close({reason:"update-schedule",recording:a})},function(n){var r="WRDV-1006";switch(n.status){case 400:r="WRDV-1001";break;case 403:r="WRDV-1002";break;case 439:r="WRDV-1003";break;case 474:r="WRDV-1004";break;case 475:r="WRDV-1005"}e.$rootScope.$emit("Analytics:rdvr-record-failed",t.scheduledRecording,e.action,{recordOnlyNew:t.settings.recordOnlyNewEpisodes,tmsGuideId:t.settings.tmsGuideId},{error:n,errorCode:String(r),clientErrorCode:n.clientErrorCode,errorMessage:te.a.getErrorInfo(r,{TITLE:t.scheduledRecording.title}).message}),409===n.status?o(n.data.conflictingRecordings.map(function(t){return e.recordingViewModelDefinition.createInstance(t)})):e.unknownUpdateFailure(r)});e.dvrTracker.addPromise(s)};function o(e){e.splice(0,0,t.scheduledRecording),t.kiteModalService.open({component:"editConflict",showCloseIcon:!0,resolve:{conflictingRecordings:e},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}).promise.then(function(e){"success"===e&&i()}).finally(function(){t.$timeout(function(){return t.modalInstance.close({})})})}if(e.model.isNew)i(!0);else{var a=e.rdvrService.cancelScheduled(n,e.scheduledRecording).then(function(){return i(!1)},function(){return e.unknownUpdateFailure("WRDV-1006")});e.dvrTracker.addPromise(a)}})}},{key:"unknownUpdateFailure",value:function(e){var t=te.a.getErrorInfo(e,{TITLE:this.scheduledRecording.title});this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{iconClass:"si si-circle-info-f",title:t.title,description:t.message,errorCode:e},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}}]),e}()});var xl=n("Y4u4"),_l=n.n(xl),Dl=n("x2Vv");function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}angular.module("ovpApp.components.recordCdvr",["ovpApp.components.ovp.channel","ovpApp.services.kiteModal"]).component("recordCdvr",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/record-cdvr/record-cdvr.html",controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),angular.extend(this,{cdvrService:t,$rootScope:n,dateFormat:r,delegateUtils:i,promiseTracker:o,messages:a,kiteModalService:s,moment:c})}return e.$inject=["cdvrService","$rootScope","dateFormat","delegateUtils","promiseTracker","messages","kiteModalService","moment"],e.$inject=["cdvrService","$rootScope","dateFormat","delegateUtils","promiseTracker","messages","kiteModalService","moment"],Ce()(e,[{key:"$onInit",value:function(){var e,t,n=this;l.a.dispatch(Dl.quotaActions.request({requestUrl:l.a.getSelectorValue(u.J)}));var r=l.a.watch(["cdvr","quotas","data","retentionDays"]);this.storeUnsub=l.a.subscribe(r(function(){return n.getSaveDuration()})),this.asset=this.resolve.asset,this.action=this.resolve.action,this.stream=this.resolve.stream,this.channels=this.resolve.channels,this.isSeries=this.resolve.isSeries,this.initialOptions=this.resolve.initialOptions,this.loadingTracker=this.promiseTracker(),this.isEdit="cdvrEditSeriesRecording"===this.action.actionType||"cdvrEditRecording"===this.action.actionType,this.initPossibleOptions(),this.initStartingOptions(),this.initChannelIndicator(),this.helixPayload=jl(jl({msgTriggeredUsing:Object(Li.c)()},Ci(this.asset)),{},{ctntStrmEntitled:null===(e=this.asset)||void 0===e?void 0:e.isEntitled,ctntStrmParntllyBlocked:!!(null===(t=this.asset)||void 0===t?void 0:t.isBlockedByParentalControls),currPageSecName:"conversionArea",opType:"buttonClick",opRecOptions:jl(jl({},this.initialOptions),$i(this.asset))})}},{key:"$onDestroy",value:function(){Object(b.d)(this.storeUnsub)&&this.storeUnsub()}},{key:"isDisabled",value:function(e){return Date.now()>=e}},{key:"getBaseUri",value:function(){if(this.action.ipvsAction.baseUri.indexOf("{tmsGuideServiceId}")>=0)return this.action.ipvsAction.baseUri.replace("{tmsGuideServiceId}",this.tmsGuideId);var e=this.action.ipvsAction.baseUri.split("/");return e[e.indexOf("series")+1]=this.tmsGuideId,e.join("/")}},{key:"initPossibleOptions",value:function(){var e,t=this;this.possibleOptions={},this.isSeries&&(this.possibleOptions.recordOnlyNew=[{label:"All episodes",value:!1},{label:"New only",value:!0,default:!0}],void 0!==this.action.seasonIndex&&void 0!==this.action.episodeIndex&&void 0!==this.action.streamIndex&&(e=this.asset.seasons[this.action.seasonIndex].episodes[this.action.episodeIndex].streamList[this.action.streamIndex].streamProperties.tmsGuideServiceId),this.possibleOptions.channel=this.resolve.channels.map(function(n,r){var i,o,a,s=(null===n||void 0===n?void 0:n.channelNumber)?(null===n||void 0===n?void 0:n.channelNumbers.includes(t.asset.displayChannel))?t.asset.displayChannel:null===n||void 0===n?void 0:null===(i=n.channelNumbers)||void 0===i?void 0:i[0]:null!==(o=null===n||void 0===n?void 0:null===(a=n.channelNumbers)||void 0===a?void 0:a[0])&&void 0!==o?o:"";return{channelNumber:s,label:l.a.getSelectorValue(u.Zf)?n.callSign:s?"".concat(s," | ").concat(n.callSign):"".concat(n.callSign),value:n.tmsGuideId,default:void 0!==e?e===+n.tmsGuideId:0===r}}));var n=function(e){return+e};this.possibleOptions.startAdjustMinutes=[{label:"Original start time",value:"0",map:n,default:!0},{label:"1 minute early",value:"1",map:n},{label:"3 minutes early",value:"3",map:n},{label:"5 minutes early",value:"5",map:n}],this.possibleOptions.stopAdjustMinutes=[{label:"Original stop time",value:"0",map:n,default:!0},{label:"3 minutes late",value:"3",map:n},{label:"5 minutes late",value:"5",map:n},{label:"30 minutes late",value:"30",map:n}],l.a.getSelectorValue(u.I)&&this.possibleOptions.stopAdjustMinutes.push({label:"1 hour late",value:"60",map:n},{label:"2 hours late",value:"120",map:n}),this.getSaveDuration()}},{key:"getSaveDuration",value:function(){var e=l.a.getSelectorValue(Dl.getQuotaRetentionDays);this.possibleOptions.deleteWhenSpaceIsNeeded=[{label:"Until space is needed",value:!0,default:!0}],e&&(this.possibleOptions.deleteWhenSpaceIsNeeded=_l()({label:"For ".concat(e," days"),value:!1},this.possibleOptions.deleteWhenSpaceIsNeeded))}},{key:"initStartingOptions",value:function(){var e=this;this.selectedOptions={},Object.keys(this.possibleOptions).forEach(function(t){void 0!==e.initialOptions[t]&&(e.selectedOptions[t]=e.possibleOptions[t].find(function(n){return(n.map?n.map(n.value):n.value)===e.initialOptions[t]})),e.selectedOptions[t]||(e.selectedOptions[t]=e.possibleOptions[t].find(function(e){return e.default}))})}},{key:"initChannelIndicator",value:function(){this.isSeries?this.channelSelected(!0):(this.displayChannel=Object(b.c)(this,["stream","streamProperties","allChannelNumbers",0]),void 0===this.displayChannel&&(this.displayChannel=this.asset.displayChannel),this.tmsGuideId=this.stream.streamProperties.tmsGuideServiceId)}},{key:"schedule",value:function(){var e,t,n=this,r=this.collectSelectedOptions();this.isSeries?(this.action.ipvsAction.baseUri=this.getBaseUri(),e=this.cdvrService.scheduleSeriesRecording,t=[this.action,r]):(e=this.cdvrService.scheduleRecording,t=[this.action,this.stream,r]),this.helixPayload.opRecOptions=jl(jl({},this.helixPayload.opRecOptions),r),Object(y.j)(this.isEdit?"OneApp_selectAction_cdvrEditRecording_confirm":"OneApp_selectAction_cdvrRecord_confirm",jl(jl({},this.helixPayload),{},{msgTriggeredUsing:Object(Li.c)()}));var i=e.apply(void 0,on()(t)).then(function(){return n.onSuccess(r)},function(e){return n.onError(r,e)});this.loadingTracker.addPromise(i)}},{key:"collectSelectedOptions",value:function(){var e=this;return Object.keys(this.selectedOptions).filter(function(t){if(e.isSeries)return!0;switch(t){case"startAdjustMinutes":return!e.isDisabled(e.stream.streamProperties.startTime);case"stopAdjustMinutes":return!e.isDisabled(e.stream.streamProperties.endTime);default:return!0}}).reduce(function(t,n){return t[n]=e.selectedOptions[n].value,e.selectedOptions[n].map&&(t[n]=e.selectedOptions[n].map(t[n])),t},{})}},{key:"onSuccess",value:function(e){if(this.$rootScope.$broadcast("update-dvr",e,this.asset,this.action),this.isEdit){var t=this.isSeries?"OneApp_cdvrRequestToEditRecording_series_success":"OneApp_cdvrRequestToEditRecording_success";Object(y.j)(t,this.helixPayload)}else{var n=this.isSeries?"OneApp_requestToRecord_series_success":"OneApp_cdvrRequestToRecord_single_success";Object(y.j)(n,this.helixPayload)}Vi.showToastMessage(this.messages.getMessageForCode("MSG-9114")),this.modalInstance.close("success")}},{key:"onError",value:function(e,t){var n,r,i,o=412===t.status?"WCD-1007":"WCD-1400",a=412===t.status?"si si-circle-info-f":void 0,s=te.a.getErrorInfo(o,{TITLE:(null===(n=this.asset)||void 0===n?void 0:n.title)||(null===(r=this.asset)||void 0===r?void 0:r.seriesTitle)}),c=s.message,l=s.title;i=this.isEdit?this.isSeries?"OneApp_cdvrRequestToEditRecordingSeries_failure":"OneApp_cdvrRequestToEditRecording_single_failure":this.isSeries?"OneApp_requestToRecord_series_failure":"OneApp_cdvrRequestToRecord_single_failure",Object(y.j)(i,jl(jl({},this.helixPayload),{},{appErrorCode:o,appErrorMessage:c,appClientErrorCode:t.clientErrorCode})),this.modalInstance.dismiss(t),this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{iconClass:a,title:l,description:c,errorCode:o},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}},{key:"airtime",value:function(){var e=this;if(!this.stream)return"";var t=parseInt(Object(b.c)(this.stream,"streamProperties.startTime"));return parseInt(Object(b.c)(this.stream,"streamProperties.endTime")),function(t){return e.moment(t).calendar(null,{sameDay:"[Today] h:mm A",nextDay:"[Tomorrow] h:mm A",nextWeek:"ddd. M/DD, h:mm A",sameElse:"ddd. M/DD, h:mm A"})}(t)}},{key:"cancel",value:function(){Object(y.j)(this.isEdit?"OneApp_selectAction_cdvrEditRecording_cancel":"OneApp_selectAction_cdvrRecord_cancel",jl(jl({},this.helixPayload),{},{msgTriggeredUsing:Object(Li.c)()})),this.modalInstance.dismiss("cancelled")}},{key:"channelSelected",value:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];("cdvrEditSeriesRecording"===this.action.actionType||"cdvrEditRecording"===this.action.actionType)&&!i||(this.displayChannel=null===(e=this.selectedOptions)||void 0===e?void 0:null===(t=e.channel)||void 0===t?void 0:t.channelNumber,this.tmsGuideId=null===(n=this.selectedOptions)||void 0===n?void 0:null===(r=n.channel)||void 0===r?void 0:r.value)}},{key:"isUpdate",value:function(){var e;return null===this||void 0===this?void 0:null===(e=this.initialOptions)||void 0===e?void 0:e.isEdit}}]),e}()}),angular.module("ovpApp.components.error.cdvrStorage",["ovpApp.messages"]).component("cdvrStorageFullError",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/record-cdvr/cdvr-storage-full-error.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{version:t})}return e.$inject=["version"],e.$inject=["version"],Ce()(e,[{key:"$onInit",value:function(){this.message=this.resolve.message}},{key:"$onChanges",value:function(){this.message=this.resolve.message}},{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x"+(this.activeCloseIcon?"-active":"")+".svg"}}]),e}()}),angular.module("ovpApp.components.authForm",["ovpApp.components.templatePopup","ajoslin.promise-tracker","ovpApp.services.parentalControlsService","ovpApp.messages"]).component("authForm",{templateUrl:"js/components/template-popup/auth/auth-form.html",bindings:{modalInstance:"<"},controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{promiseTracker:t,parentalControlsService:n,messages:r})}return e.$inject=["promiseTracker","parentalControlsService","messages"],e.$inject=["promiseTracker","parentalControlsService","messages"],Ce()(e,[{key:"$onInit",value:function(){this.isValidationError=!1,this.loadingTracker=this.promiseTracker(),this.headerMessage=this.messages.getMessageForCode("MSG-9051"),this.user={password:""},this.ivrNumber=l.a.getSelectorValue(u.Je),this.ivrNumberTelUri=this.messages.getMessageForCode("MSG-9101",{IVR_NUMBER:this.ivrNumber.replace(/-/g,"")})}},{key:"authenticate",value:function(){var e=this;this.isValidationError=!1;var t=this.parentalControlsService.validateAdminPassword(this.user.password).then(function(){e.modalInstance.close(e.user.password)},function(){e.errorMessage=te.a.getErrorInfo("WPC-1001").message,e.isValidationError=!0});this.loadingTracker.addPromise(t)}},{key:"forgotHost",value:function(){return l.a.getSelectorValue(u.ac)+l.a.getSelectorValue(u.Rd)}}]),e}()});n("aX2P");!function(){function e(e,n,r){return{parseAdBreaks:function(e,n){var r=[],o=0,a=0,s=null,c=null;return angular.forEach(e,function(e){if(null!==e.name)if("#EXT-X-AD-BREAK-START"==e.name){if(null!==s){var l=on()(s.adArray).pop();l&&l.endTime&&(s.endTime=l.endTime,s.duration=s.endTime-s.startTime,a=0),s=null}s=new t(++o,e.time),r.push(s),c&&s.adArray.push(c)}else"#EXT-X-AD-START"==e.name?(c&&(c.endTime=e.time,c.duration=e.time-c.startTime),(c=i(e.content,e.time,++a)).streamInfo=n,s&&s.adArray.push(c)):"#EXT-X-AD-END"==e.name&&c?(c.endTime=e.time,c.duration=e.time-c.startTime,c=null):"#EXT-X-AD-BREAK-END"==e.name&&(s&&(s.endTime=e.time,s.duration=s.endTime-s.startTime,a=0),c&&(c.endTime=e.time,c.duration=e.time-c.startTime,c=null),s=null)}),r.filter(function(e){return e&&e.adArray&&e.adArray.length>0})},parseAdEvent:function(e,t){if("#EXT-X-AD-START"==e.name){var n=i(e.content,e.time,null);return n.streamInfo=t,n}},macroMapper:a,getTrackingUrls:function(e){var t=e.type;t&&r[t]&&(t=r[t]);if(e&&e.type&&e.adInstance&&e.adInstance.trackingEvents){var n=e.adInstance.trackingEvents.find(function(e){return e.eventType===t});if(n)return n.trackingUrls.map(function(t){return a(t,e)})}return[]}};function i(e,t,n){var r=atob(e),i=$.parseXML(r).getElementsByTagName("Ad"),a="",s="",c="",l=[],u=[],d=new function(){this.trackingEvents=[],this.duration=null};return 0!==i.length&&angular.forEach(i,function(e){if(0!==e.getElementsByTagName("InLine").length){a=e.getAttribute("id");var t=e.getElementsByTagName("AdSystem");0!==t.length&&(s=t[0].textContent);var n=e.getElementsByTagName("AdTitle");0!==n.length&&(c=n[0].textContent);var r=e.getElementsByTagName("Duration");0!==r.length&&(d.duration=function(e){var t=e.split(":"),n=0,r=1;for(;t.length>0;)n+=r*parseInt(t.pop(),10),r*=60;return n}(r[0].textContent))}var i=e.getElementsByTagName("Error");l=function(e,t){for(var n=0;n<e.length;n++)t.push(e[n].textContent.replace(/\s/g,""));return t}(i,l);var p=e.getElementsByTagName("Impression");u=function(e,t){for(var n=0;n<e.length;n++)t.push(e[n].textContent.replace(/\s/g,""));return t}(p,u);var h=e.getElementsByTagName("TrackingEvents");0!==h.length&&$.each(h,function(e,t){d.trackingEvents=function(e,t,n){if(t&&"vmap:AdBreak"!==e.parentNode.tagName)return null;for(var r=e.getElementsByTagName("Tracking"),i=0;i<r.length;i++){var a=r.item(i).getAttribute("event"),s=r[i].textContent.replace(/\s/g,""),c=new o(a,s);n.push(c)}return n}(t,!1,d.trackingEvents)})}),new function(e,t,n,r,i,o,a,s){this.index=e||null,this.startTime=t||null,this.id=n||null,this.adSystem=i||null,this.adTitle=r||null,this.errorTrackUrls=o||[],this.impressionUrls=a||[],this.linear=s||null,this.endTime=null,this.duration=null,this.linear&&this.linear.duration&&!this.duration&&(this.duration=1e3*this.linear.duration);this.duration&&!this.endTime&&(this.endTime=this.startTime+this.duration)}(n,t,a,c,s,l,u,d)}function o(e,t){this.event=e,this.url=t}function a(e,t){var r,i,o=e.split("?");if(o.length<2)return e;if(o=o[1],r=n.getPairsFromQueryString(o),i=t.adInstance,r){if(Object.prototype.hasOwnProperty.call(r,"status")&&(r.status=0),Object.prototype.hasOwnProperty.call(r,"prog")&&(r.prog=0),Object.prototype.hasOwnProperty.call(r,"note")&&(r.note="null"),["[NOTE]","[NPT]","[STATUS]"].forEach(function(e){var t=c(r,e);t&&(r[t]=0)}),e.indexOf("[ASSETURI]")>=0){var a=c(r,"[ASSETURI]");r[a]=i.caid}if(e.indexOf("[CACHEBUSTING]")>=0){var l=c(r,"[CACHEBUSTING]");r[l]=Math.floor(1e7*(Math.random()+1))}if(e.indexOf("[CONTENTPLAYHEAD]")>=0){var u=c(r,"[CONTENTPLAYHEAD]");if("LIVE"==i.streamInfo.type)r[u]=i.startTime;else{var d=Math.floor(i.startTime/1e3),p=Math.floor(d/3600);d-=3600*p;var h=s(p),v=Math.floor(d/60);d-=60*v;var f=s(v),m=s(d);r[u]=h+":"+f+":"+m+".000"}}return e.split("?")[0]+"?"+Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&")}return e}function s(e){return("00"+e).slice(-2)}function c(e,t){return Object.keys(e).find(function(n){return e[n]===t})}}function t(e,t,n,r){this.index=e,this.startTime=t,this.endTime=n,this.adArray=r||[]}function n(e,n,r){return{parseAdEvents:function(e){var i=[],o=null,a=null,s=-1,c=0,l=0;angular.forEach(e,function(e){if("#[ADEVENT]"===e.name){var u=atob(e.content),d=r.getPairsFromQueryString(u);if(d.assetid1&&d.percentile1){var p=parseInt(d.percentile1);if(0===p)e.time!=s&&(null!==o&&o.adArray.length>0&&(i.push(o),o.index=l,l++),(o=new t).startTime=e.time,c=0),(a=new function(){this.startTime=null,this.endTime=null,this.duration=null,this.id=null,this.index=null,this.assetId=null,this.serverId=null,this.providerId=null,this.spotTrackingEventUrl=null,this.adStartTrackingUrl=null,this.trackingEventUrl=null,this.messageRef=null,this.linear={trackingEvents:[]},this.adEndTrackingUrl=null,this.index=null,this.getEvent=function(e){return this.trackingEvent.find(function(t){return t.eventType===e})}}).impressionUrls=[u],a.startTime=e.time,a.assetId=d.assetid1,a.serverId=d.adsid1,a.providerId=d.providerid1,a.spotTrackingEventUrl=d.spottracking1,a.trackingEventUrl=d.tracking1,a.messageRef=d.messageref1;else if(100==p)if(null===a)n.error("Unexpected ad TAG of percentile 100");else if(a.assetId!==d.assetid1)n.debug("Assetid missmatch",a.assetId,d.adtime1),a=null;else{a.endTime=e.time,a.duration=a.endTime-a.startTime;var h={event:"complete",url:u};a.linear.trackingEvents.push(h),s=a.endTime,a.index=c,o.adArray.push(a),o.endTime=e.time,c++,a=null}}}}),null!==o&&o.adArray.length>0&&(o.index=l,i.push(o));return n.debug("Adbreaks",i),i}}}n.$inject=["stringUtil","$log","httpUtil"],e.$inject=["stringUtil","httpUtil","VAST_EVENT_MAP"],n.$inject=["stringUtil","$log","httpUtil"],e.$inject=["stringUtil","httpUtil","VAST_EVENT_MAP"],angular.module("ovpApp.components.vast",["ovpApp.legacy.stringUtil","ovpApp.legacy.httpUtil"]).constant("VAST_EVENT_MAP",{adImpressionTracking:"impression",adStartTracking:"start",adEndTracking:"complete",adFirstQuartileTracking:"firstQuartile",adMidPointTracking:"midpoint",adThirdQuartileTracking:"thirdQuartile","ad-started":"ad-started","ad-stopped":"ad-stopped"}).service("VastParser",e).service("LegacyAdParser",n)}();n("uqXc");var Nl=n("aANo"),Ml=n("2UTf"),Vl=!1,Ll=!1,Fl=!1;function Ul(e){Fl=e}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt.m.USER;try{if(Object(y.l)()&&console.log("Analytics: logout",{isLoggedIn:Vl,triggeredBy:e}),!Vl)return;Vl=!1,angular.element(document.body).injector().get("analyticsPlayback").playbackStopped(),lt.m.APPLICATION===e?Object(y.j)("OneApp_Logout_Application"):Object(y.j)("OneApp_Logout_User"),Object(Nl.b)(),Object(Ml.b)()}catch(e){console.error("Error:",e)}}function Wl(e){return Hl.apply(this,arguments)}function Hl(){return(Hl=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.h)();case 3:if(n=Object(y.g)("visit.account.timeZone"),Object(y.l)()&&console.log("Analytics: loginStart",{data:t,isLoggedIn:Vl,loggingIn:Ll,quantumAccountInfo:n}),!Ll&&!Fl){e.next=7;break}return e.abrupt("return");case 7:(n||Vl)&&(Vl=!0,Bl(lt.m.APPLICATION),Object(y.a)(!0)),Ll=!0,Object(y.j)("generic_video_loginStart",{opType:t.opType,opUserText:t.opUserText}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Analytics Login Error:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}function Gl(e){return ql.apply(this,arguments)}function ql(){return(ql=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(y.l)()&&console.log("Analytics: loginStop, loggingIn="+Ll,t),e.next=4,Object(y.h)();case 4:if(Ll){e.next=6;break}return e.abrupt("return");case 6:Ll=!1,t.opSuccess?(Vl=!0,Object(y.j)("generic_video_loginStop",{opSuccess:!0,loginCompletedTs:t.loginCompletedTs,trustedAuthId:t.trustedAuthId,loginAttemptId:t.loginAttemptId,accountOauthToken:t.accountOauthToken})):Object(y.j)("generic_video_loginStop",{opSuccess:!1,appErrorType:"authentication",loginAttemptId:t.loginAttemptId,appErrorCode:t.appErrorCode,appClientErrorCode:t.appClientErrorCode}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Analytics Login Error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function zl(e){try{Object(y.l)()&&console.log("Analytics: receivedOauthToken, loggingIn="+Ll+", authRefreshInProgress="+Fl,e);var t={opSuccess:e.opSuccess,loginAttemptId:e.loginAttemptId};e.opSuccess&&e.accountOauthToken?(t.accountOauthToken=e.accountOauthToken,t.trustedAuthId=e.trustedAuthId,t.loginCompletedTs=e.loginCompletedTs):(t.opSuccess=!1,t.appErrorCode=e.appErrorCode,t.appClientErrorCode=e.appClientErrorCode),Ll?Gl(t):Fl&&function(e){Object(y.l)()&&console.log("Analytics: inVisitOauthRefresh, loggingIn="+Ll,e);e.opSuccess?(Object(y.j)("OneApp_inVisitOauthRefresh_Success",e),Object(y.c)()):Object(y.j)("OneApp_inVisitOauthRefresh_Failure",e)}(t)}catch(e){console.error("Analytics Login Error:",e)}}!function(){function e(e,t,n,r,o){var s;return{cleanUp:d,logout:function(){return p.apply(this,arguments)},getQueryStringValue:function(e){return c()[e]},getPairsFromQueryString:function(e){var t,n;if(!e)return c();(n=e.match(/.*\?(.*)/))&&n.length>1?t=n[1]:e.indexOf("://")<0&&(t=e);return t?t.split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{}):{}},toString:function(){return"HttpUtil"},updateQueryStringParameter:function(e,t,n){var r=e.indexOf("#"),i=-1===r?"":e.substr(r);e=-1===r?e:e.substr(0,r);var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";n?e=e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+a+t+"="+n:"?"===(e=e.replace(new RegExp("([&]?)"+t+"=.*?(&|$)","i"),"")).slice(-1)&&(e=e.slice(0,-1));return e+i},removeURLParameter:function(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",i=n[1].split(/[&;]/g),o=i.length;o-- >0;)-1!==i[o].lastIndexOf(r,0)&&i.splice(o,1);return e=n[0]+(i.length>0?"?"+i.join("&"):"")}return e},redirectToURL:function(e){Object(y.c)().finally(function(){Object(y.a)(!1),o.location.href=e})}};function c(){return s||(s=e.search()),angular.copy(s)}function d(){ut.a.reset(),C.a.removeItem(k.b.drmSessionKey),t.disconnect()}function p(){return(p=a()(i.a.mark(function e(){var t,a,s,c,p=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{allowAutoLogin:!1},a=n.getAccountType(),d(),(s=!angular.isDefined(t.allowAutoLogin)||!1===t.allowAutoLogin)&&C.a.setItem(k.b.autoAuthSignOutTime,Date.now()),Bl(s?"user":"application"),e.next=8,me.a.resetCache();case 8:return e.next=10,Object(y.c)();case 10:r.includes("login")||r.current&&""===r.current.name?l.a.getSelectorValue(u.bg)?(c=l.a.getSelectorValue(u.md),r.go("ovp.oohLoginErrorScreen".concat(c),void 0,{reload:!0})):r.go("login",void 0,{reload:!0}):(C.a.cleanUp(),o.location.href=(l.a.getSelectorValue(u.Jc)||"/")+"?accountType=".concat(a));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}}e.$inject=["$location","chromecastService","capabilitiesService","$state","$window"],e.$inject=["$location","chromecastService","capabilitiesService","$state","$window"],angular.module("ovpApp.legacy.httpUtil",["ui.router","ovpApp.services.chromecast","ovpApp.services.capabilitiesService"]).factory("httpUtil",e).run(["httpUtil",function(e){$.ajaxSetup({statusCode:{401:e.logout}})}])}(),function(){function e(e,t,n){var r={};function i(e,t,n){for(var r=e.toString(n||10);r.length<t;)r="0"+r;return r}return r.formatDate=function(r,o){return o.replace(/(yyyy|yy|mmmm|mmm|mm|m|eeee|eee|ee|e|dd|d|x|tttt|ttt|jj|j|hh|h|nn|n|ss|s|_|a)/gi,function(o){switch(o.toLowerCase()){case"yyyy":return r.getFullYear();case"yy":return r.getFullYear().toString().substring(2);case"mmmm":return t[r.getMonth()];case"mmm":return t[r.getMonth()].substr(0,3);case"mm":return i(r.getMonth()+1,2);case"m":return r.getMonth()+1;case"eeee":return n[r.getDay()];case"eee":return n[r.getDay()].substr(0,3);case"ee":return i(r.getDay(),2);case"e":return r.getDay();case"dd":return i(r.getDate(),2);case"d":return r.getDate();case"x":return e[r.getDate()-1];case"jj":return i(r.getHours(),2);case"j":return r.getHours();case"hh":return i(r.getHours()%12||12,2);case"h":return r.getHours()%12||12;case"nn":return i(r.getMinutes(),2);case"n":return r.getMinutes();case"ss":return i(r.getSeconds(),2);case"s":return r.getSeconds();case"_":return" ";case"a":return r.getHours()<12?"am":"pm"}})},r.isToday=function(e,t){var n=e;n.setHours(23,59,59,999);var r=n.getTime()-t.getTime();return r>0&&r<864e5},r.isTomorrow=function(e,t){var n=new Date(e.getTime());n.setHours(23,59,59,999);var r=new Date(e.getTime());return r.setTime(r.getTime()+864e5),r.setHours(23,59,59,999),t.getTime()>n.getTime()&&t.getTime()<=r.getTime()},r.isYesterday=function(e,t){var n=new Date(e.getTime());n.setHours(0,0,0,0);var r=new Date(e.getTime());return r.setHours(0,0,0,0),r.setDate(r.getDate()-1),t.getTime()>r.getTime()&&t.getTime()<=n},r.copy=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},r.addDays=function(e,t){return this.addHours(e,24*t)},r.addHours=function(e,t){return this.addMinutes(e,60*t)},r.addMinutes=function(e,t){return this.addSeconds(e,60*t)},r.addSeconds=function(e,t){return this.addMilliseconds(e,1e3*t)},r.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},r.roundHalfHour=function(e){return e.getMinutes()>=30?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),30):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},r.roundHour=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours())},r.parseDateTime=function(e){var t,n,r=parseInt(e.substr(0,4),10),i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10);if(e.length>8?(t=parseInt(e.substr(8,2),10),n=parseInt(e.substr(10,2),10)):(t=0,n=0),isNaN(r)||isNaN(i)||isNaN(o)||isNaN(t)||isNaN(n))throw new Error("Invalid date format: "+e);return new Date(r,i-1,o,t,n)},r.parseDateTimeFeedLiteral=function(e){var t=new Date,n=e.split(" "),r=parseInt(n[1].split("/")[0],10),i=parseInt(n[1].split("/")[1],10),o=n[2].split(":"),a=parseInt(o[0],10)+(o[1].toLowerCase().indexOf("pm")>-1?12:0),s=parseInt(o[1],10),c=r<t.getMonth()+1?t.getFullYear()+1:t.getFullYear();if(isNaN(c)||isNaN(r)||isNaN(i)||isNaN(a)||isNaN(s))throw new Error("Invalid date format: "+e);return new Date(c,r-1,i,a,s)},r.dateDiff=function(e,t,n){var r=t.getTime()-e.getTime();switch(n){case"d":return Math.round(r/1e3/60/60/24);case"h":return Math.round(r/1e3/60/60);case"n":return Math.round(r/1e3/60);case"s":return Math.round(r/1e3);default:return r}},r.getTimeFromGmt=function(e,t){if(e&&"number"==typeof t&&!isNaN(e)&&!isNaN(t))return e+(60*t*60+60*(new Date).getTimezoneOffset())},r.getAirDate=function(e,t){var n=1e3*this.getTimeFromGmt(e,t);return new Date(n)},r.getFormattedAirDate=function(e,t){var n=this.getAirDate(e,t);return this.formatDate(n,"yyyymmddjjnn")},r}e.$inject=["DATE_EXTENTION","MONTH_NAMES","DAY_NAMES"],e.$inject=["DATE_EXTENTION","MONTH_NAMES","DAY_NAMES"],angular.module("ovpApp.legacy.DateUtil",[]).factory("dateUtil",e).constant("DATE_EXTENTION",["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"]).constant("DAY_NAMES",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]).constant("MONTH_NAMES",["January","February","March","April","May","June","July","August","September","October","November","December"])}();n("wryA"),n("tYxH");angular.module("ovpApp.components.specu.signout",["ovpApp.legacy.httpUtil"]).component("specuSignout",{bindings:{modalInstance:"<"},templateUrl:"js/components/specu/signout.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$rootScope:t,$state:n,httpUtil:r,version:i})}return e.$inject=["$rootScope","$state","httpUtil","version"],e.$inject=["$rootScope","$state","httpUtil","version"],Ce()(e,[{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x-22-x-22"+(this.activeCloseIcon?"-active":"")+".svg"}},{key:"signOut",value:function(){this.httpUtil.logout()}}]),e}()});n("QA9e");!function(){t.$inject=["$timeout"],t.$inject=["$timeout"],angular.module("ovpApp.directives.arrowNav",[]).directive("arrowNav",t);var e={left:37,up:38,right:39,down:40,tab:9};function t(t){return{restrict:"A",link:function(n,r,i){var o,a={};try{a=JSON.parse(i.arrowNavOptions||"{}")}catch(e){}function s(){o=angular.element(r[0]).find("."+i.arrowNav);for(var e=0;e<o.length;e++)o[e].hasAttribute("arrow-nav-ignore-tabindex")||o[e].setAttribute("tabindex",0===e?"0":"-1");o.off("keydown",c),o.on("keydown",c)}function c(t){if(t.keyCode===e.right||t.keyCode===e.down){var n=l(t.target);o[n+1]&&o[n+1].focus(),t.preventDefault(),t.stopPropagation()}else if(t.keyCode===e.left||t.keyCode===e.up){var r=l(t.target);o[r-1]&&o[r-1].focus(),t.preventDefault(),t.stopPropagation()}else t.keyCode===e.tab&&!1!==a.noShiftTabExit&&o[0].focus()}function l(e){return Array.prototype.indexOf.call(o,e)}t(s,0,!1),i.ngModel&&n.$watch(i.ngModel,function(){t(s,0,!1)}),n.$on("$destroy",function(){o&&o.off("keydown",c)})}}}}();n("+Toi"),n("FNR7"),n("JHq4"),n("pjDv"),n("9N29");!function(){function e(e){var t;return{setTimeoutZero:function(n){t||(t=e(angular.noop,0)).then(function(){return t=void 0});t.then(n)}}}e.$inject=["$timeout"],e.$inject=["$timeout"],angular.module("ovpApp.directives.carousel",[]).factory("carouselCoordinator",e).component("ovpCarousel",{bindings:{items:"<",options:"<",onLimitChanged:"&?"},transclude:!0,templateUrl:"js/directives/ovp-carousel-template.html",controller:function(){function t(e,n,r,i,o,a,s,c){we()(this,t),angular.extend(this,{$rootScope:e,$element:n,$window:r,$log:i,carouselCoordinator:o,$q:a,$document:s,$timeout:c})}return t.$inject=["$rootScope","$element","$window","$log","carouselCoordinator","$q","$document","$timeout"],t.$inject=["$rootScope","$element","$window","$log","carouselCoordinator","$q","$document","$timeout"],Ce()(t,[{key:"$onInit",value:function(){this.transformation={},this.elements=[],this.elementWidths=[],this.scrollIndex=0,this.items=this.items||[],this.boundMeasureViewport=this.measureViewport.bind(this),angular.element(this.$window).on("resize",this.boundMeasureViewport)}},{key:"$onChanges",value:function(e){var t=this;e.options&&this.applyDefaultOptions(e.options.currentValue),e.items&&!e.items.isFirstChange()&&(this.waitUntilVisibleDefer||this.waitUntilVisible().then(function(){return t.measureElements()}))}},{key:"$postLink",value:function(){var e=this;this.carouselCoordinator.setTimeoutZero(function(){e.waitUntilVisible().then(function(){e.measureElements(),e.measureViewport(),e.updateCss(),e.updateLimit()}),e.$element.find(".carousel-layout").on("scroll",e.onLayoutScrolled)})}},{key:"$doCheck",value:function(){this.waitUntilVisibleDefer&&!1===this.$element.hasClass("ng-hide")&&(this.waitUntilVisibleDefer.resolve(),this.waitUntilVisibleDefer=void 0)}},{key:"$onDestroy",value:function(){angular.element(this.$window).off("resize",this.boundMeasureViewport),this.$element.find(".carousel-layout").off("scroll",this.onLayoutScrolled)}},{key:"leftClick",value:function(e){e.stopPropagation(),this.scrollIndex=this.prevIndex(this.elementWidths,this.viewportWidth,this.scrollIndex),this.updateCss(),this.updateLimit()}},{key:"rightClick",value:function(e){e.stopPropagation();var t=this.scrollIndex;this.scrollIndex=this.nextIndex(this.elementWidths,this.viewportWidth,this.scrollIndex),t===this.scrollIndex&&this.options.showReturnArrow&&(this.scrollIndex=0),this.updateCss(),this.updateLimit()}},{key:"leftArrowClass",value:function(){var e=this.scrollIndex===this.prevIndex(this.elementWidths,this.viewportWidth,this.scrollIndex),t={hidden:this.isSinglePage(),"arrow-hidden":e,"arrow-left":!0};return t[this.options.arrowIconClass]=!0,t}},{key:"rightArrowClass",value:function(){var e={hidden:this.isSinglePage()};return e[this.options.arrowIconClass]=!0,this.scrollIndex===this.nextIndex(this.elementWidths,this.viewportWidth,this.scrollIndex)?this.options.showReturnArrow?e["return-arrow"]=!0:(e["arrow-hidden"]=!0,e["arrow-right"]=!0):e["arrow-right"]=!0,e}},{key:"onKeydown",value:function(e){var t=this,n=37,r=38,i=39,o=40,a=9;if(this.options.useArrows)if(e.keyCode==n||e.keyCode==r){var s=this.findIndex(e.target);this.focus(s-1),e.preventDefault()}else if(e.keyCode==i||e.keyCode==o){var c=this.findIndex(e.target);this.focus(c+1),e.preventDefault()}else e.keyCode==a&&(this.updateTabIndexes(),this.focus(0));else e.keyCode==a&&this.$timeout(function(){var e=t.findIndex(t.$document[0].activeElement);e>=0&&t.focus(e)},0)}},{key:"updateTabIndexes",value:function(){if(Array.isArray(this.items)&&this.options.useArrows)for(var e=0;e<this.items.length;e++){var t=0===this.items.indexOf(this.items[e])?"0":"-1";angular.element(this.elements[e]).find("a, .carousel-selectable").attr("tabindex",t)}}},{key:"waitUntilVisible",value:function(){return this.$element.hasClass("ng-hide")?(this.waitUntilVisibleDefer=this.waitUntilVisibleDefer||this.$q.defer(),this.waitUntilVisibleDefer.promise):this.$q.resolve()}},{key:"applyDefaultOptions",value:function(t){var n=this;this.options=angular.extend({},{showReturnArrow:!0,title:"",showTitle:!0,arrowIconClass:"default-arrow-icon",useArrows:!0,supportVariableWidth:!1,describedby:null},t),this.limit=this.options.initialLimit,angular.isNumber(this.options.initialFocus)&&e.setTimeoutZero(function(){return n.focus(n.options.initialFocus)}),this.setLabelInstructions()}},{key:"setLabelInstructions",value:function(){this.options.description?this.options.ariaLabel=this.options.title+", "+this.options.description:this.options.ariaLabel=this.options.title+(this.options.useArrows?", Navigate items with arrow keys. Use tab key to exit.":"")}},{key:"measureElements",value:function(){if(this.elements=this.$element.find(".carousel-items").children(),this.elementCountDirty=!1,0===this.elements.length&&this.items.length>0&&this.$log.warn("carousel unexpectedly found no child this.elements. If using a limitTo filter, make sure it starts > 0"),this.options.supportVariableWidth)this.elementWidths=Array.from(this.elements).map(function(e){return angular.element(e).outerWidth(!0)});else{var e=this.elements.outerWidth(!0);this.elementWidths=this.items.map(function(){return e})}}},{key:"measureViewport",value:function(){this.viewportWidth=this.$element.find(".carousel-layout").innerWidth()}},{key:"isSinglePage",value:function(){return this.elementWidths.reduce(function(e,t){return e+t},0)-1<=this.viewportWidth}},{key:"lastVisibleIndex",value:function(e,t,n){for(var r=0,i=n;i<this.elementWidths.length;i++)if((r+=this.elementWidths[i])>this.viewportWidth)return i-1;return this.elementWidths.length-1}},{key:"nextIndex",value:function(e,t,n){var r=[];e.reduceRight(function(e,t,n){return r[n]=e+t},0);for(var i=0,o=n;o<e.length;o++){i+=e[o];var a=r[o]<=t;if(i>t)return Math.max(0,o-1);if(a)return o}return n}},{key:"prevIndex",value:function(e,t,n){for(var r=0,i=n;i>=0;i--){if((r+=e[i])>t)return Math.min(e.length-1,i+1)}return 0}},{key:"updateCss",value:function(){var e=this,t="translateX("+-this.elementWidths.reduce(function(t,n,r){return r>=e.scrollIndex?t:t+n},0)+"px)";this.transformation={transform:t,"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t}}},{key:"updateLimit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scrollIndex;if(this.onLimitChanged){if(this.options.supportVariableWidth)return this.$log.warn("you registered for limit changes, but that isn't supported in variable width mode"),void this.onLimitChanged({limit:this.elementWidths.length});var t,n=0;for(t=this.nextIndex(this.elementWidths,this.viewportWidth,e);t<this.elementWidths.length&&!(n>this.viewportWidth);t++)n+=this.elementWidths[t];var r=Math.min(t,this.elementWidths.length);this.onLimitChanged({limit:r}),this.elementCountDirty=!0}}},{key:"findIndex",value:function(e){for(var t,n=Array.from(this.elements),r=0;r<10;r++){if((t=n.indexOf(e))>-1)return t;if(!(e=e.parentElement))break}return-1}},{key:"focus",value:function(e){this.elementCountDirty&&this.measureElements();var t=this.elements[e];t&&angular.element(t).find("a, .carousel-selectable").focus(),e>this.lastVisibleIndex(this.elementWidths,this.viewportWidth,this.scrollIndex)?(this.scrollIndex=this.nextIndex(this.elementWidths,this.viewportWidth,this.scrollIndex),this.updateCss()):e<this.scrollIndex&&(this.scrollIndex=this.prevIndex(this.elementWidths,this.viewportWidth,this.scrollIndex),this.updateCss()),this.updateLimit(e)}},{key:"onLayoutScrolled",value:function(e){e.target.scrollLeft=0}},{key:"viewAll",value:function(){this.$rootScope.$emit("Analytics:viewAllClick",{pageSubSectionName:this.options.title})}}]),t}()})}(),function(){function e(e,t){var n=this;function r(){return n.items[n.activeIndex]}n.status={isOpen:!1},n.getTitle=function(){var e=r();return n.config.title?angular.isFunction(n.config.title)?n.config.title(e):n.config.title:e&&e.text||""},n.config=n.config||{},n.items=n.items||[],n.activeIndex=void 0!==n.config.startingIndex?n.config.startingIndex:-1,n.getActiveItem=r,n.click=function(t){var r=n.items.indexOf(t);r!==n.activeIndex&&(n.activeIndex=r,e.$emit("dropdown:itemclicked",t));t.clickCallback&&t.clickCallback();n.focusButton=!0},angular.extend(this,t("BaseDropdownController",{$scope:e}))}e.$inject=["$scope","$controller"],e.$inject=["$scope","$controller"],angular.module("ovpApp.directives.dropdown",["ovpApp.components.baseDropdown","ovpApp.directives.focus"]).directive("ovpDropdown",function(){return{bindToController:!0,templateUrl:"js/directives/ovp-dropdown.html",controller:e,controllerAs:"vm",link:function(e){e.vm.focusButton=e.vm.config.focusOnLoad||!1},restrict:"EA",scope:{items:"=",config:"="}}})}(),function(){angular.module("ovpApp.directives.dropdownList",["ovpApp.directives.arrowNav","ovpApp.directives.keydown"]).directive("ovpDropdownList",function(){return e.$inject=["$element","$document","$timeout"],e.$inject=["$element","$document","$timeout"],{bindToController:!0,templateUrl:"js/directives/ovp-dropdown-list.html",controller:e,controllerAs:"vm",link:function(e){e.vm.focusButton=e.vm.config.focusOnLoad||!1},restrict:"EA",scope:{items:"=",config:"="}};function e(e,t,n){var r=this;function i(){n(function(){var e=angular.element(t[0].activeElement);e.hasClass("listitem")||e.hasClass("ovp-dropdown-list-container")||(r.showDropdown=!1)},0)}function o(){return r.items[r.config.activeIndex]}r.getTitle=function(){var e=o();return r.config.title?angular.isFunction(r.config.title)?r.config.title(e):r.config.title:e&&(e.text||e.label)||""},r.config=r.config||{},r.items=r.items||[],r.config.activeIndex=r.config.activeIndex?r.config.activeIndex:0,r.getActiveItem=o,r.click=function(e){e!==r.config.activeIndex&&(r.config.activeIndex=e);r.config.onSelect?r.config.onSelect(r.items[e]):r.items[e].clickCallback&&r.items[e].clickCallback()},r.onButtonKeydown=function(t){40===t.keyCode||39===t.keyCode?(t.preventDefault(),t.stopPropagation(),angular.element(e[0]).find(".listitem")[0].focus()):9===t.keyCode&&(r.showDropdown=!1)},r.onDropdownListKeydown=function(e){9===e.keyCode&&(r.showDropdown=!1)},r.onListItemBlur=i,r.onButtonBlur=i,r.onKeydown=function(e){27===e.keyCode&&r.showDropdown&&(e.preventDefault(),e.stopPropagation())},r.onKeyup=function(e){27===e.keyCode&&r.showDropdown&&(r.showDropdown=!1,r.focusButton=!0,e.preventDefault(),e.stopPropagation())},r.toggleDropdown=function(e){r.items.length>1&&(r.showDropdown=!r.showDropdown);"click"===e.type&&e.target.focus()}}})}(),function(){function e(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,o=t[0].parentElement,a="next"===e?n.focusNext:n.focusPrevious;if(void 0!==a&&""!==a){for(;i>0&&o&&!r;)r=angular.element(o).find(a)[0],o=o.parentElement,i-=1;return r}}function t(t){return{restrict:"A",link:function(n,r,i){var o;t(function(){angular.element(r[0]).on("keydown",function(t){o=e("next",r,i),9===t.keyCode&&!t.shiftKey&&o&&(o.focus(),t.preventDefault())})},0,!1)}}}function n(t){return{restrict:"A",link:function(n,r,i){var o;t(function(){angular.element(r[0]).on("keydown",function(t){o=e("prev",r,i),9===t.keyCode&&t.shiftKey&&o&&(o.focus(),t.preventDefault())})},0,!1)}}}function r(e){return{link:function(t,n,r){t.$watch(r.focusWhen,function(t){!0===t&&e(function(){return n[0].focus()},0,!1)})},restrict:"A"}}function i(e,t,n){return{link:function(r,i,o){o.$observe("focusOn",function(o){var a,s,c=n(o)(r),l=!0;angular.isString(c)?(s=c,l=!0):(s=c.event,a=c.predicate,c.predicate?(a=c.predicate,l=!1):l=!0);var u=t.$on(s,function(t,o){(l||a&&n(a)(r,{$event:t,$data:o}))&&e(function(){return i[0].focus()},0,!1)});r.$on("$destroy",u)})},restrict:"A"}}function o(e){return{restrict:"A",link:function(t,n,r){var i;t.disabled||e(function(){r.focusOnce?angular.element(n[0]).find(r.focusOnce)[0].focus():n[0].focus(),n.is("input[type=text]")&&(i=n.val(),n.val(""),n.val(i),n[0].click())},0,!1)}}}o.$inject=["$timeout"],i.$inject=["$timeout","$rootScope","$parse"],r.$inject=["$timeout"],n.$inject=["$timeout"],t.$inject=["$timeout"],e.$inject=["type","ele","attr"],o.$inject=["$timeout"],i.$inject=["$timeout","$rootScope","$parse"],r.$inject=["$timeout"],n.$inject=["$timeout"],t.$inject=["$timeout"],e.$inject=["type","ele","attr"],angular.module("ovpApp.directives.focus",[]).directive("focusWhen",r).directive("focusOn",i).directive("focusOnce",o).directive("focusNext",t).directive("focusPrevious",n)}();n("SYor");!function(){function e(e){return{link:function(t,n,r){angular.isUndefined(r.tabindex)&&n.attr("tabindex","0");var i=e(r.ovpClick),o=function(e){e.preventDefault(),e.stopPropagation(),t.$apply(function(){i(t,{$event:e})})},a=function(e){var n=13,r=32,o=e.which||e.keyCode;o!==n&&o!==r||(e.preventDefault(),e.stopPropagation(),t.$apply(function(){i(t,{$event:e})}))};n.on("click",o),n.on("keydown",a),t.$on("$destroy",function(){n.off("click",o),n.off("keydown",a)})}}}function t(e){return{link:function(t,n,r){angular.isUndefined(r.tabindex)&&n.attr("tabindex","0");var i=e(r.ovpLinkClick),o=function(e){e.preventDefault(),e.stopPropagation(),t.$apply(function(){i(t,{$event:e})})},a=function(e){var n={enter:13},r=e.which||e.keyCode;r!==n.enter&&r!==n.space||(e.preventDefault(),e.stopPropagation(),t.$apply(function(){i(t,{$event:e})}))};n.on("click",o),n.on("keydown",a),t.$on("$destroy",function(){n.off("click",o),n.off("keydown",a)})}}}function n(e,t){return{link:function(n,r,i){var o={};function a(e){angular.isDefined(i.ovpPreventDefault)&&e.preventDefault(),angular.isDefined(i.ovpStopPropagation)&&e.stopPropagation()}e(function(){angular.forEach(n.ovpKeydown,function(e,t){var n=t.split("+").map(function(e){return e.trim().toLowerCase()});1===n.length?o[n[0]]=e:2===n.length&&(o[n[1]]={key:n[0],callback:e})})}),angular.element(r).on("keydown",function(e){var n=null,r=e.key;"Esc"===e.key&&(r="escape"),n=r?o[r.toLowerCase()]:o[t[e.keyCode].toLowerCase()],!angular.isFunction(n)||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey?angular.isObject(n)&&angular.isFunction(n.callback)&&!0===e[n.key+"Key"]&&(n.callback(e),a(e)):(n(e),a(e))}),n.$on("$destroy",function(){angular.element(r).off("keydown","**")})},restrict:"A",scope:{ovpKeydown:"="}}}function r(e,t){return{observable:t.Observable.fromEvent(e[0].body,"keydown")}}r.$inject=["$document","rx"],n.$inject=["$timeout","keyMap"],t.$inject=["$parse"],e.$inject=["$parse"],r.$inject=["$document","rx"],n.$inject=["$timeout","keyMap"],t.$inject=["$parse"],e.$inject=["$parse"],angular.module("ovpApp.directives.keydown",["rx"]).factory("globalKeydown",r).directive("ovpKeydown",n).directive("ovpClick",e).directive("ovpLinkClick",t).constant("keyMap",{3:"break",8:"delete",9:"tab",12:"clear",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",27:"escape",32:"spacebar",33:"pageup",34:"pagedown",35:"end",36:"home ",37:"arrowleft",38:"arrowup",39:"arrowright",40:"arrowdown",41:"select",42:"print",43:"execute",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",60:"<",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"})}(),angular.module("ovpApp.directives.gridList.toggler",["ovpApp.directives.focus"]).component("gridListToggler",{bindings:{id:"<",tabIndex:"<"},templateUrl:"js/directives/grid-list-toggler.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{gridListTogglerService:t})}return e.$inject=["gridListTogglerService"],e.$inject=["gridListTogglerService"],Ce()(e,[{key:"$onInit",value:function(){var e=this,t=this.gridListTogglerService.register(void 0,this.id);this.state=t.state,this.subscription=t.source.subscribe(function(t){return e.toggle(t)})}},{key:"$onDestroy",value:function(){this.subscription.dispose()}},{key:"toggle",value:function(e){e!==this.state&&(this.state=e,this.gridListTogglerService.setState(e,this.id))}},{key:"hasPagination",value:function(){return 0!==angular.element(".pagination").length}}]),e}()}),function(){function e(e,t,n){var r="__default",i=!1,o={};return{register:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;a(">> enter register(".concat(t,", ").concat(n,")")),o[n]?a('context "'.concat(n,'" already eists, with state = ').concat(o[n].state)):(a('context "'.concat(n,"\" doesn't yet exist. Creating it")),o[n]={state:null,source:null,observers:[]});t&&!o[n].state&&(a("accepting proposed state: ".concat(t)),s(t,n));o[n].source||(o[n].source=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return a("creating a new observable for context ".concat(t)),e.Observable.create(function(n){return o[t].observers.push(n),e.Disposable.create(function(){a("disposing one observer for ".concat(t)),o[t].observers.splice(o[t].observers.indexOf(n),1),0===o[t].observers.length&&(a("".concat(t," has no more observers; clearing state")),o[t].state=null)})})}(n));return a("<< exit register(".concat(t,", ").concat(n,")")),{state:o[n].state,source:o[n].source}},setState:s};function a(e){i&&n.debug(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;a(">> enter setState(".concat(e,", ").concat(t,")")),o[t]||(a('context "'.concat(t,"\" doesn't yet exist. Creating it")),o[t]={state:null,source:null,observers:[]}),o[t].state=e,a("notifying ".concat(o[t].observers.length," observers")),o[t].observers.forEach(function(t){return t.onNext(e)}),a("<< exit setState(".concat(e,", ").concat(t,")"))}}e.$inject=["rx","$rootScope","$log"],e.$inject=["rx","$rootScope","$log"],angular.module("ovpApp.directives.gridList.togglerService",["rx"]).factory("gridListTogglerService",e)}(),function(){function e(e){return{link:function(t,n){n.on("scroll",function(){return e.$emit("scrollable:scrolled",n)}),t.$on("$destroy",function(){return n.off("scroll")})}}}function t(e,t){return{link:function(n,r,i){var o=new function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.defer(),i=n.fallback,o=null,a=!1,s=null;return e.on("error",function(){"display:none"==i?(e[0].style.display="none",r.resolve()):i&&(e[0].src=i),e.off("error")}),{isVisible:function(t,n){null===s&&(s=e.height());var r=e.offset().top;return r<=n&&r+s>=t},render:function(){return a=!0,c(),r.promise},setSource:function(e){o=e,a&&o&&c()}};function c(){o&&(e[0].src=o)}}(r,angular.fromJson(i.lazyConfig));e.addImage(o),i.$observe("lazySrc",o.setSource),n.$on("$destroy",function(){return e.removeImage(o)})},restrict:"A"}}function n(e,t,n,r){var i,o,a=[],s=100,c=100,l=angular.element(e),u=!1;return{addImage:function(e){a[a.length]=e,i||h(0);u||(u=!0,l.on("resize",f),l.on("scroll",f),o=r.$on("scrollable:scrolled",f))},removeImage:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1);0===a.length&&(p(),v())}};function d(){var e=l.height(),n=l.scrollTop(),r=n+e+c,i=a.filter(function(e){return e.isVisible(n,r)}).map(function(e){return e.render()});return a=a.filter(function(e){return!e.isVisible(n,r)}),p(),0===a.length&&v(),t.all(i)}function p(){clearTimeout(i),i=null}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return i=n(d,e)}function v(){u=!1,l.off("resize",f),l.off("scroll",f),o()}function f(){i||h()}}n.$inject=["$window","$q","$timeout","$rootScope"],t.$inject=["lazyImageLoader","$q"],e.$inject=["$rootScope"],n.$inject=["$window","$q","$timeout","$rootScope"],t.$inject=["lazyImageLoader","$q"],e.$inject=["$rootScope"],angular.module("ovpApp.directives.lazySrc",[]).directive("lazySrc",t).directive("scrollable",e).factory("lazyImageLoader",n)}(),function(){function e(e){var t,n=e[0],r=n.link;return n.compile=function(){return function(e,n,i){r.apply(this,arguments),e.position=i.position,e.focusedElement=t,e.setPosition=function(n,r){t=r+n,e.focusedElement=t}}},e}e.$inject=["$delegate"],e.$inject=["$delegate"],angular.module("ovpApp.directives.gridList",["ovpApp.directives.gridList.toggler","ovpApp.directives.gridList.togglerService","ovpApp.directives.dropdown","angularUtils.directives.dirPagination","rx"]).decorator("dirPaginationControlsDirective",e).component("ovpGridList",{bindings:{items:"<",options:"<",onPageChanged:"&?",onViewChanged:"&"},transclude:{grid:"?gridItems",list:"?listItems"},templateUrl:"js/directives/ovp-grid-list.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{$scope:t,$element:n,$timeout:r,gridListTogglerService:i,$log:o,$window:a,$state:s})}return e.$inject=["$scope","$element","$timeout","gridListTogglerService","$log","$window","$state"],e.$inject=["$scope","$element","$timeout","gridListTogglerService","$log","$window","$state"],Ce()(e,[{key:"$onInit",value:function(){this.gridCalculationComplete=!1,angular.element(this.$window).on("resize",this.onResize.bind(this)),this.viewallPage=!1,-1!==this.$state.current.name.indexOf("viewall")&&(this.viewallPage=!0)}},{key:"$onChanges",value:function(e){e.options&&this.applyDefaultOptions(e.options.currentValue),e.items&&this.recalculateGrid()}},{key:"$onDestroy",value:function(){angular.element(this.$window).off("resize",this.onResize),this.toggleSubscription&&this.toggleSubscription.dispose()}},{key:"applyDefaultOptions",value:function(e){this.options=angular.extend({},{title:"",defaultState:"grid",showHeader:!0,showToggle:!0,showFilter:!1,showPagination:!0,showTotal:!1,minimumGridItemSeparation:15,clearListAvailable:!1,clearListText:"Clear List"},e),this.chooseDefaultState(),(this.options.listOnly||this.options.gridOnly)&&(this.options.showToggle=!1),this.options.filters&&0!==this.options.filters.length||(this.options.showFilter=!1),this.filterConfig={activeIndex:this.options.filterStartingIndex,buttonLabel:"Filter",showLabel:!0,focusOnLoad:this.options.focusFilter}}},{key:"chooseDefaultState",value:function(){var e,t=this;if(this.options.listOnly)e="list",this.state=e;else if(this.options.gridOnly)e="grid",this.state=e;else{var n;this.options.useLocalStorage&&(this.options.id?n=C.a.getItem(this.options.id):this.$log.warn("id not supplied; gridlist state can neither be loaded nor saved")),e=n||this.options.defaultState}var r=this.gridListTogglerService.register(e,this.options.id);this.options.listOnly||this.options.gridOnly||(this.state=r.state,this.onViewChanged({view:r.state}),this.toggleSubscription=r.source.subscribe(function(e){return t.toggle(e)}))}},{key:"recalculateGrid",value:function(){var e=this;"grid"===this.state&&(this.gridCalculationComplete=!1,this.$timeout(function(){e.measureItems(),e.onResize()}))}},{key:"measureItems",value:function(){this.itemWidth=this.$element.find("grid-items").children().outerWidth(!0)}},{key:"onResize",value:function(){if("grid"===this.state){var e=this.$element.find(".grid-container"),t=e.children().children(),n=this.itemWidth+2*this.options.minimumGridItemSeparation,r=e.innerWidth(),i=Math.max(1,Math.floor(r/n)),o=0;if(t.length<=i)o=this.options.minimumGridItemSeparation;else{var a=r-i*this.itemWidth;o=Math.floor(a/(2*i))}t.css("padding","0 "+o+"px"),this.gridCalculationComplete=!0,this.$scope.$apply()}}},{key:"toggle",value:function(e){this.state==e||this.listOnly||this.gridOnly||(this.state=e,"grid"==this.state&&this.recalculateGrid(),this.options.useLocalStorage&&this.options.id&&C.a.setItem(this.options.id,e),this.onViewChanged({view:e}))}},{key:"pageChanged",value:function(e){this.onPageChanged&&this.onPageChanged(e),this.gridCalculationComplete=!1}},{key:"hasPagination",value:function(){return!0===this.options.showPagination}}]),e}()})}(),angular.module("ovpApp.directives.quiet-loading-tracker",[]).component("quietLoadingTracker",{bindings:{track:"<",message:"@"},template:"\n                <div>\n                    <div class=\"quiet-loading-tracker\" ng-show=\"$ctrl.loading\">\n                        <div class=\"spinner\"></div>\n                        {{$ctrl.message}}\n                    </div>\n                    <div class='sr-only' role='status' aria-live='polite' aria-atomic='true' ng-bind=\"$ctrl.srMessage\">\n                    </div>\n                </div>",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$q:t,$timeout:n})}return e.$inject=["$q","$timeout"],e.$inject=["$q","$timeout"],Ce()(e,[{key:"$onInit",value:function(){this.loading=this.activePromises>0,this.srMessage=this.srMessage||""}},{key:"$onChanges",value:function(e){var t=this;e.message&&!this.message&&(this.message="Loading ..."),e.track&&this.track&&(this.loading=!0,this.srMessage=this.message,this.activePromises=this.activePromises?this.activePromises+1:1,this.debounceTimeout&&this.$timeout.cancel(this.debounceTimeout),this.track.finally(function(){t.activePromises--,t.debounceTimeout&&t.$timeout.cancel(t.debounceTimeout),t.debounceTimeout=t.$timeout(function(){return t.debounce()},50)}))}},{key:"debounce",value:function(){this.activePromises<1&&(this.loading=!1,this.srMessage=""),this.debounceTimeout=null}}]),e}()}),function(){function e(e){return{link:function(t,n){var r=9,i="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";function o(e){if(e.isDefaultPrevented())return e;var t=!1;if(e.which===r){var o=function(){var e=n.find(i);return e?Array.prototype.filter.call(e,function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}):e}();e.shiftKey&&a(o[0])?t=s(o[o.length-1]):!e.shiftKey&&a(o[o.length-1])&&(t=s(o[0])),t&&(e.preventDefault(),e.stopPropagation())}}function a(t){return t===e[0].activeElement}function s(e){return!!e&&(e.focus(),!0)}n.on("keydown",o),t.$on("$destroy",function(){return n.off("keydown",o)})},restrict:"A"}}e.$inject=["$document"],e.$inject=["$document"],angular.module("ovpApp.directives.trapFocus",[]).directive("trapFocus",e)}();n("+Lm1");!function(){function e(e){return function(t,n,r){var i=0,o=0,a=0,s=0,c=!1;function l(){n.on("mousedown",function(r){r.preventDefault(),i=r.pageX,o=n[0].offsetLeft,a=n[0].offsetWidth,s=o+a/2+r.pageX-i,t.$emit("slider-handle-drag-start",{position:s}),e.on("mousemove",u),e.on("mouseup",d),c=!0})}function u(e){c&&(s=o+a/2+e.pageX-i,t.$emit("slider-handle-position-changed",{position:s}))}function d(){c&&(c=!1,t.$emit("slider-handle-drag-end",{position:s}),e.off("mousemove",u),e.off("mouseup",d))}r.$observe("disabled",function(e){"true"===e?n.off("mousedown"):l()}),l()}}function t(e){return e.hhmmss}function n(e){return e.hhmm}n.$inject=["dateFormat"],t.$inject=["dateFormat"],e.$inject=["$document"],n.$inject=["dateFormat"],t.$inject=["dateFormat"],e.$inject=["$document"],angular.module("ovpApp.directives.draggable",[]).filter("hhmmss",t).filter("hhmm",n).directive("draggable",e)}(),angular.module("ovpApp.directives.featureTourBackground",[]).directive("featureTourBackground",function(){return{restrict:"A",controller:["$element",function(e){e.css({"background-image":"url(".concat(l.a.getSelectorValue(u.Wb),")")})}]}}),angular.module("ovpApp.eas",["ngAudio","ovpApp.directives.svgPath","ovpApp.service.vpns","selectn"]).component("eas",{templateUrl:"js/eas/eas.html",controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{$rootScope:t,$http:n,selectn:r,$state:i,$timeout:o,ngAudio:a,$element:s,$window:c,vpnsService:l})}return e.$inject=["$rootScope","$http","selectn","$state","$timeout","ngAudio","$element","$window","vpnsService"],e.$inject=["$rootScope","$http","selectn","$state","$timeout","ngAudio","$element","$window","vpnsService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.easData={},this.vpnsListener=this.$rootScope.$on("VpnsAlert",function(t,n){var r,i=e.easDataCallback.bind(e),o=new XMLHttpRequest,a=null===n||void 0===n?void 0:null===(r=n.SecureContent)||void 0===r?void 0:r.Location;a&&(o.open("GET",a),o.send(),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status)try{i(JSON.parse(o.responseText||"{}"))}catch(e){}})})}},{key:"$onDestroy",value:function(){this.vpnsListener()}},{key:"exit",value:function(){this.easTimer&&(this.$timeout.cancel(this.easTimer),this.easTimer=null,this.clearEASMessage("user"))}},{key:"easDataCallback",value:function(e){var t=this;if("EAN"===this.selectn("info.eventCode.value",e)){var n=this.readEANData(e);n.mediaUrl&&("ovp.livetv"===this.$state.current.name?this.$rootScope.$emit("EAN:start",{eanUrl:n.mediaUrl}):this.$state.go("ovp.livetv",{eanUrl:n.mediaUrl}))}else this.easTimer&&(this.$timeout.cancel(this.easTimer),this.clearEASMessage("user")),this.easData=this.readEASData(e),this.easAudio=this.ngAudio.play(this.easData.audioUri),this.easAudio.loop=!0,this.$rootScope.$broadcast("player:minimize",this.easData),this.$rootScope.$broadcast("EAS:start",this.easData),this.easTimer=this.$timeout(function(){t.easTimer=null,t.clearEASMessage("application")},12e4)}},{key:"readEASData",value:function(e){var t,n,r="",i="",o=[];if(angular.isString(e)&&(e=JSON.parse(e)),e&&e.info){var a=e.info;if(a.event&&(r=r+a.event+"..."),angular.isArray(a.parameter)){var s=a.parameter.filter(function(e){return"EASText"==e.valueName});if(angular.isArray(s)){var c=s.map(function(e){return e.value});angular.isArray(c)&&(r+=c.join(" "))}}a.area&&a.area.geocode&&(o=this.extractFipsCodes(a.area.geocode)),angular.isArray(a.resource)?a.resource.forEach(function(e){e.uri&&e.mimeType&&-1!==e.mimeType.indexOf("audio-mp3")&&(i=e.uri)}):angular.isObject(a.resource)&&a.resource.uri&&a.resource.mimeType&&-1!==a.resource.mimeType.indexOf("audio-mp3")&&(i=a.resource.uri),t=a.effective?new Date(a.effective):new Date,n=a.expires?new Date(a.expires):new Date}return{message:r,audioUri:i,effective:t,expires:n,geocode:o}}},{key:"clearEASMessage",value:function(e){this.easAudio.pause(),this.easAudio.unbind(),this.easData={},this.$rootScope.$broadcast("EAS:end",e)}},{key:"readEANData",value:function(e){var t,n=e.info||{};return angular.isArray(n.resource)?n.resource.forEach(function(e){e.uri&&e.mimeType&&-1!==e.mimeType.indexOf("video/HLS")&&(t=e.uri)}):angular.isObject(n.resource)&&(t=this.selectn("resource.uri",n)),{mediaUrl:t}}},{key:"extractFipsCodes",value:function(e){return e.map(function(e){return e.value})}}]),e}()});n("VAwR"),n("0oug");function Yl(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){function e(e,t,n,r,i,o,a,s,c,l,u,d,p,h,v,f,m,g,b){var y=null,S=[{name:"player:updated",listener:function(t,n){n&&y!==n&&(function(){v.isDebug()&&e.debug("Analytics: detachPlayerListeners (analytics)");if(y){var t,n=Yl(w);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.listener||e.error("Analytics: missing listener for "+r.name,r),y.off(r.name,r.listener)}}catch(e){n.e(e)}finally{n.f()}}}(),function(t){v.isDebug()&&e.debug("Analytics: attachPlayerListeners",t);ct.a.set(lt.d.IS_ONLINE,!0),v.state.setPlayer(t);var n,r=Yl(w);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.listener)throw Error("Analytics: missing listener for "+i.name,i);t.on(i.name,i.listener)}}catch(e){r.e(e)}finally{r.f()}}(y=n))}},{name:"Session:profileRefreshed",listener:function(){try{v.isEnabled()||(l.playbackStopped(),function(){var e,t=Yl(k);try{for(t.s();!(e=t.n()).done;){var n=e.value;n()}}catch(e){t.e(e)}finally{t.f()}}())}catch(t){e.error(t)}}},{name:"Analytics:appActivity",listener:r.reinitialize},{name:"Analytics:clearSwimlaneItem",listener:p.clearSwimlaneItem},{name:"Analytics:guide:updateFilter",listener:p.guideUpdateFilters},{name:"Analytics:guide:updateSort",listener:p.guideUpdateSort},{name:"Analytics:rdvr-cancel",listener:p.selectActionRdvrCancel},{name:"Analytics:rdvr-confirm",listener:p.selectActionRdvrConfirm},{name:"Analytics:rdvr-higher-priority",listener:p.rdvrPrioritization},{name:"Analytics:rdvr-lower-priority",listener:p.rdvrPrioritization},{name:"Analytics:select",listener:p.selectAction},{name:"Analytics:selectDownloadApp",listener:p.selectDownloadApp},{name:"Analytics:select-channel",listener:p.selectChannel},{name:"Analytics:select-channel-card",listener:p.selectChannelCard},{name:"Analytics:select-banner-ooh",listener:p.selectBannerOoh},{name:"Analytics:selectHeroBannerAsset",listener:p.selectHeroBannerAsset},{name:"Analytics:viewAllClick",listener:p.viewAllClick},{name:"Analytics:select-pip-close",listener:p.selectPipClose},{name:"Analytics:selectAction-returnFromMiniPlayer",listener:p.selectReturnFromMiniPlayer},{name:"Analytics:selectAction-toggleMute",listener:p.selectToggleMute},{name:"Analytics:selectAction-togglePause",listener:p.selectTogglePause},{name:"Analytics:selectAction-toggle-infoPanel",listener:p.selectToggleInfoPanel},{name:"Analytics:selectAction-toggle-cc-settings",listener:p.selectToggleCcSettings},{name:"Analytics:OneApp_selectAction_play_overlay_play",listener:p.selectPlayerAutoPlayOverlay},{name:"goToDesktopVersionClicked",listener:p.goToDesktopVersionClicked},{name:"Analytics:miniplayer-tooltip-dismiss",listener:p.miniPlayerTooltipDismiss},{name:"Analytics:miniplayer-tooltip-go-to-settings",listener:p.miniPlayerTooltipGoToSettings},{name:"Analytics:selectAction-toggleFullScreen",listener:p.selectToggleFullScreen},{name:"Analytics:selectAction-OneApp_selectAction_cdvr_seriesRecordingDetails_moreInfo",listener:p.selectCDVRGetMoreInfo},{name:"Analytics:selectContent-OneApp_dvrSeriesRecordings_selectContent_recordings",listener:h.selectCDVRSeriesRecording},{name:"Analytics:selectAction-OneApp_selectAction_cdvr_seriesRecordingDetail_returnToRecordings",listener:p.selectCDVRBackToRecordings},{name:"Analytics:selectAction_activateDevice",listener:p.trustedAuthActivateDevice},{name:"Analytics:selectAction_activateDeviceRetry",listener:p.trustedAuthRetryActivation},{name:"Analytics:selectAction_stream2SignUp_confirm",listener:p.selectStream2SignUpConfirm},{name:"Analytics:selectAction_stream2PackageDescription_otherSections",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2PackageDescription_confirm",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2PackageDescription_cancel",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2PackageDescription_networkList",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2AddOns_otherSections",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2AddOns_confirm",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2AddOns_cancel",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2AddOns_back",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2Premiums_otherSections",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2Premiums_confirm",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2Premiums_back",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2Premiums_cancel",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2FinalPrice_otherSections",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2FinalPrice_confirm",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2FinalPrice_cancel",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2FinalPrice_back",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2welcomeToStream_watchTvNow",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_stream2welcomeToStream_registerNow",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction_viewOffers",listener:p.selectBuyFlowAction},{name:"Analytics:selectAction-globalMenu-signOut",listener:p.selectGlobalMenuSignout},{name:"Analytics:selectAction-globalMenu-watchTv",listener:p.selectGlobalMenuWatchTv},{name:"Analytics:selectAction-globalMenu-getSupport",listener:p.selectGlobalMenuGetSupport},{name:"Analytics:selectAction-globalMenu-manageAccount",listener:p.selectGlobalMenuManageAccount},{name:"Analytics:selectAction-navigationClick-signOut",listener:p.selectNavigationClickSignOut},{name:"Analytics:selectAction-navigationClick-globalMenu",listener:p.selectNavigationClickGlobalMenu},{name:"Analytics:selectAction-navigationClick-support",listener:p.selectNavigationClickSupport},{name:"Analytics:specu-selectAction-newDomainSearch",listener:p.selectAction},{name:"Analytics:specu-selectAction-submitDomain",listener:p.selectAction},{name:"Analytics:selectAction_promos_add_to_watchList",listener:p.selectPromoAddToWatchlist},{name:"Analytics:selectAction_promos_remove_from_watchList",listener:p.selectPromoRemoveFromWatchlist},{name:"Analytics:selectContent",listener:h.selectContent},{name:"Analytics:selectEpisode",listener:h.selectEpisode},{name:"Analytics:switchScreen",listener:g.switchScreen},{name:"Analytics:pinEntry",listener:c.pinEntry},{name:"Analytics:pageChangeComplete",listener:Xr},{name:"pageChangeComplete",listener:Xr},{name:"Analytics:tvod-purchase-stop",listener:d.tvodPurchaseStop},{name:"Analytics:tvod-purchase-start",listener:d.tvodPurchaseStart},{name:"Analytics:error",listener:o.processError},{name:"Analytics:sadTv",listener:o.sadTv},{name:"Analytics:click-confirm-cancelled",listener:s.showEvent},{name:"Analytics:click-confirm-confirmed",listener:s.showEvent},{name:"Analytics:click-confirm-ctor",listener:s.showEvent},{name:"Analytics:click-confirm-ctor",listener:s.showEvent},{name:"Analytics:click-confirm-destroyed",listener:s.clickConfirmDestroyed},{name:"Analytics:click-confirm-showing",listener:s.clickConfirmShowing},{name:"Analytics:click-confirm-triggered",listener:s.clickConfirmTriggered},{name:"Analytics:modal-start",listener:s.modalStart},{name:"Analytics:modal-view",listener:s.modalView},{name:"Analytics:modal2-closed",listener:s.modalClosed},{name:"Analytics:modal2-opened",listener:s.modalOpened},{name:"Analytics:modal2-opening",listener:s.modalOpening},{name:"Analytics:modal2-rejected",listener:s.modalRejected},{name:"Analytics:modal2-rendered",listener:s.modalRendered},{name:"Analytics:modal2-resolved",listener:s.modalResolved},{name:"Analytics:prep-click-confirm",listener:s.prepClickConfirm},{name:"Analytics:show-miniplayer-tooltip",listener:s.showMiniPlayerToolTip},{name:"Analytics:modalView-player-info-panel",listener:s.playerInfoPanel},{name:"Analytics:OneApp_play_overlay_button_modalView",listener:s.playerAutoPlayOverlay},{name:"Analytics:modalView-player-cc-settings",listener:s.playerCcSettings},{name:"Analytics:haltPlaybackFromLogout",listener:l.haltPlaybackFromLogout},{name:"Analytics:initiateNewStream",listener:l.initiateNewStream},{name:"Analytics:playbackFailure",listener:l.playbackFailure},{name:"playback-resumed",listener:l.resumeStream},{name:"pip-opened",listener:l.pipStatusChange},{name:"pip-closed",listener:l.pipStatusChange},{name:"Analytics:playbackFailureBeforeRetry",listener:l.playbackFailureBeforeRetry},{name:"Analytics:playbackRetryAttemptRestart",listener:l.playbackRetryAttemptRestart},{name:"player:stop",listener:l.playbackStopped},{name:"Analytics:playbackBitrateConfig",listener:l.setPlaybackBitrateConfig},{name:"product:action",listener:u.handleProductAction},{name:"Analytics:specu-selectAction-newDomainSearch",listener:f.newSearch},{name:"Analytics:specu-searched-domains",listener:m.searched},{name:"Analytics:locationRetrieved",listener:b.locationRetrieved},{name:"Session:lineup",listener:b.sessionLineup},{name:"Session:profileRefreshed",listener:b.receiveProfileData},{name:"streamplus:eligibility",listener:b.streamPlusEligibility},{name:"Analytics:checkUserConfigSet",listener:b.updateUserConfigIfNeeded},{name:"update-dvr",listener:i.handleUpdateDvr},{name:"Analytics:rdvr-cancel-recording-failed",listener:i.rdvrRequestToCancel},{name:"Analytics:rdvr-cancel-recording-succeeded",listener:i.rdvrRequestToCancel},{name:"Analytics:rdvr-delete-recording-failed",listener:i.rdvrRequestToDelete},{name:"Analytics:rdvr-delete-recording-succeeded",listener:i.rdvrRequestToDelete},{name:"Analytics:rdvr-record-failed",listener:i.rdvrRequestToRecord},{name:"chromecast:connection-changed",listener:g.chromecastConnectionChanged},{name:"chromecast:session-start-Failed",listener:g.chromecastSessionStartFailed},{name:"chromecast:receiver-info-received",listener:g.chromecastCustomInfoReceived},{name:"Analytics:stream2-purchaseStart",listener:d.buyFlowPurchaseStart},{name:"Analytics:stream2-purchaseStop-triggeredByUser",listener:d.buyFlowPurchaseStop},{name:"Analytics:stream2-purchaseStop-triggeredByApplicationError",listener:d.buyFlowPurchaseStop},{name:"Analytics:stream2-purchaseStop-triggeredByApplicationSuccess",listener:d.buyFlowPurchaseStop},{name:"Analytics:applicationPerformance-launchTime",listener:r.appLaunchTime},{name:"Analytics:deeplink-start",listener:a.deepLinkStart},{name:"Analytics:deeplink-stop-success",listener:a.deepLinkStopSuccess},{name:"Analytics:deeplink-stop-failure-user",listener:a.deepLinkStopFailureUser},{name:"Analytics:deeplink-stop-failure-application",listener:a.deepLinkStopFailureApplication}],w=[{name:"ad-break-started",listener:l.adBreakStarted},{name:"ad-break-stopped",listener:l.adBreakStopped},{name:"ad-started",listener:l.adStartedHandler},{name:"ad-stopped",listener:l.adStoppedHandler},{name:"bitrate-changed",listener:l.bitrateChanged},{name:"buffering-began",listener:l.bufferingStarted},{name:"buffering-ended",listener:l.bufferingStopped},{name:"cdvr-content-selected",listener:l.cdvrContentSelected},{name:"channel-changed",listener:l.channelChanged},{name:"playback-pause-toggled",listener:l.pauseToggled},{name:"playback-started",listener:l.playbackStarted},{name:"playback-stopped",listener:l.playbackStopped},{name:"player-end-position-changed",listener:l.endPositionChanged},{name:"player-position-changed",listener:l.playerPositionChanged},{name:"stream-scrubbed",listener:l.scrubJump},{name:"stream-uri-obtained",listener:l.streamUriObtained},{name:"vod-content-selected",listener:l.vodContentSelected},{name:"status-changed",listener:l.playerStatusChanged}],k=[];return function(){try{v.isEnabled()&&function(){for(var e=0,r=S;e<r.length;e++){var i=r[e];if(!i.listener)throw Error("Analytics: missing listener for "+i.name,i);k.push(t.$on(i.name,i.listener))}k.push(n.onSuccess({},Qr))}()}catch(t){e.error("Error",t)}}(),{}}function t(e){return e}t.$inject=["Analytics"],e.$inject=["$log","$rootScope","$transitions","analyticsAppActivity","analyticsDvr","analyticsError","analyticsDeepLink","analyticsModalView","analyticsPinEntry","analyticsPlayback","analyticsProductAction","analyticsPurchase","analyticsSelectAction","analyticsSelectContent","analyticsService","analyticsSearchIdTracker","analyticsSpecUTASearch","analyticsSwitchScreen","analyticsUserConfigSet"],t.$inject=["Analytics"],e.$inject=["$log","$rootScope","$transitions","analyticsAppActivity","analyticsDvr","analyticsError","analyticsDeepLink","analyticsModalView","analyticsPinEntry","analyticsPlayback","analyticsProductAction","analyticsPurchase","analyticsSelectAction","analyticsSelectContent","analyticsService","analyticsSearchIdTracker","analyticsSpecUTASearch","analyticsSwitchScreen","analyticsUserConfigSet"],angular.module("ovpApp.analytics",["ovpApp.analytics.events.appActivity","ovpApp.analytics.events.dvr","ovpApp.analytics.events.error","ovpApp.analytics.events.deepLink","ovpApp.analytics.events.modalView","ovpApp.analytics.events.modalViewKite","ovpApp.analytics.events.pinEntry","ovpApp.analytics.events.playback","ovpApp.analytics.events.productAction","ovpApp.analytics.events.purchase","ovpApp.analytics.events.searchIdTracker","ovpApp.analytics.events.selectAction","ovpApp.analytics.events.selectContent","ovpApp.analytics.events.specUTASearch","ovpApp.analytics.events.switchScreen","ovpApp.analytics.events.userConfigSet","ovpApp.analytics.analyticsService","ovpApp.analytics.analyticsEnums","rx"]).factory("Analytics",e).run(t)}();var Jl,Ql;n("YPdE");function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){function e(e,t){var n=!1;return{deepLinkStart:function(){try{var e={instanceLink:document.referrer,instanceLocation:document.location.href};Object(y.j)("OneApp_deeplinkStart",e)}catch(e){t.error("Analytics:",e)}},deepLinkStopSuccess:function(){try{n||Object(y.j)("OneApp_deeplinkStop_successful",{msgTriggeredBy:"application",opSuccess:!0}),n=!0}catch(e){t.error("Analytics:",e)}},deepLinkStopFailureUser:function(){try{n||Object(y.j)("OneApp_deeplinkStop_failure_user",{msgTriggeredBy:"user",opSuccess:!1,appErrorType:"generic",appErrorMessage:"UserNavigatedAway"}),n=!0}catch(e){t.error("Analytics:",e)}},deepLinkStopFailureApplication:function(){try{n||Object(y.j)("OneApp_deeplinkStop_failure_application",{msgTriggeredBy:"application",opSuccess:!1,appErrorType:"application",appErrorMessage:"failed to navigate to deeplink"}),n=!0}catch(e){t.error("Analytics:",e)}}}}e.$inject=["analyticsService","$log"],e.$inject=["analyticsService","$log"],angular.module("ovpApp.analytics.events.deepLink",["ovpApp.analytics.analyticsService"]).factory("analyticsDeepLink",e).run(["analyticsDeepLink",function(e){return e}])}(),function(){function e(e,t,n,r,i,o){var a,s,c=t.state,d=!1,p=0,h=0,v=!1,f=!1,m=null;return ct.a.set(lt.d.PICTURE_IN_PICTURE,{pictureInPicture:!1}),{adBreakStarted:function(){try{var e={adBreakNumber:p};if(h=1,p+=1,!_())return void c.setDeferredEvent("adBreakStart",e);t.event("adBreakStart",e)}catch(e){n.error(e)}},adBreakStopped:P,adStarted:I,adStopped:x,adStartedHandler:function(e){try{I(e.currentAd||e)}catch(e){n.error(e)}},adStoppedHandler:function(e){try{x(e.currentAd||e)}catch(e){n.error(e)}},bitrateChanged:function(e){t.isDebug()&&n.debug("Analytics: bitrateChanged",e);var r,i;try{if(!_()&&"undefined"==typeof deferredPlaybackStartEvent)return;if(e.NewBitRate?i=e.NewBitRate:e.event&&e.event.profile&&(i=e.event.profile),!i||i===c.getBitrate())return;c.setBitrate(i),r=c.getBitrate()>c.previousBitrate?"playbackBitRateUpshift":"playbackBitRateDownshift";var o={currentBitRateBps:c.getBitrate()};t.event(r,o)}catch(e){n.error(e)}},bufferingStarted:O,bufferingStopped:E,cdvrContentSelected:C,channelChanged:S,endPositionChanged:function(e){c.setActualRuntimeMs(e.endPosition)},exitPlaybackPages:function(){t.isDebug()&&n.debug("Analytics: exitPlaybackPages");try{D(!1),R(o.TriggeredBy.USER)}catch(e){n.error(e)}},getNextPlaybackIsFromWatchNext:function(){return f},getNextPlaybackTriggeredBy:function(){return a},haltPlaybackFromLogout:function(){try{t.isDebug()&&n.debug("Analytics: haltPlaybackFromLogout"),A()}catch(e){n.error(e)}},initiateNewStream:function(e,r){try{t.isDebug()&&n.debug("Analytics: initiateNewStream",r),c.setExpectedStream(r.stream)}catch(e){n.error(e)}},isPlaying:_,pauseToggled:g,pipStatusChange:function(e){t.isDebug()&&n.debug("Analytics: pipStatusChange",e);var r="pip-opened"===e.name;c.setIsPipOpen(r),ct.a.set(lt.d.PICTURE_IN_PICTURE,{pictureInPicture:r})},playbackFailure:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i=Object(y.i)();if(t.isDebug()&&n.debug("Analytics: playbackFailure, state="+i,e,r),i===hs.b.FAILED||i===hs.b.NAVIGATING)return;if("outOfHome"===r.cause)return;var o=c.getSelectedContent();if(r.channel&&"playerOnDemand"===Object(y.f)())return;if(void 0!==r.cause&&("string"==typeof r.cause?r.clientErrorCode=String(r.cause):void 0!==r.cause.errorID?r.clientErrorCode=String(r.cause.errorID):void 0!==r.cause.mediaPlayerErrorCode&&(r.clientErrorCode=String(r.cause.mediaPlayerErrorCode))),r.errorType="playback",r.asset&&o&&c.getSelectedContent().tmsProgramId!==Ti(r.asset))return void n.warn("Analytics: 1047: Discarding this failure event, since it is either for a different asset, or one isn't currently playing");delete r.asset,o&&(r.retryAttempts=o.retryAttempts),Na()>0&&(r.playbackRetryMethod=Ma()),"paused"===Object(y.i)()&&(t.isDebug()&&n.debug("Analytics: Unpausing to allow playbackFailure event"),g(!1)),r=Object(b.i)(r,"errorExtras.initRetryConfigLinear",JSON.stringify(l.a.getSelectorValue(u.vf))),r=Object(b.i)(r,"errorExtras.initRetryConfigVod",JSON.stringify(l.a.getSelectorValue(u.wf))),r=Object(b.i)(r,"errorExtras.brokenStreamSettingsLinear",JSON.stringify(l.a.getSelectorValue(u.w))),r=Object(b.i)(r,"errorExtras.brokenStreamSettingsVOD",JSON.stringify(l.a.getSelectorValue(u.x)));var a=l.a.getSelectorValue(vc.a);a&&(r=Object(b.i)(r,"errorExtras.brokenStreamWindow",JSON.stringify(a)));try{r=Object(b.i)(r,"errorExtras.segmentInfo",JSON.stringify(rs.getCachedData()))}catch(e){}c.stopPlayback(),c.resetContent(),t.event("playbackFailure",r)}catch(e){n.error(e)}},playbackFailureBeforeRetry:function(e,n){n=Object(b.i)(n,"errorExtras.initRetryConfigLinear",JSON.stringify(l.a.getSelectorValue(u.vf))),n=Object(b.i)(n,"errorExtras.initRetryConfigVod",JSON.stringify(l.a.getSelectorValue(u.wf))),n=Object(b.i)(n,"errorExtras.brokenStreamSettingsLinear",JSON.stringify(l.a.getSelectorValue(u.w))),n=Object(b.i)(n,"errorExtras.brokenStreamSettingsVOD",JSON.stringify(l.a.getSelectorValue(u.x)));var r=l.a.getSelectorValue(vc.a);r&&(n=Object(b.i)(n,"errorExtras.brokenStreamWindow",JSON.stringify(r)));try{n=Object(b.i)(n,"errorExtras.segmentInfo",JSON.stringify(rs.getCachedData()))}catch(e){}if(!["playing","initiating","buffering","paused","scrubbing","restarting"].includes(Object(y.i)()))return;t.event("playbackFailureBeforeRetry",{errorCode:n.errorCode,clientErrorCode:n.clientErrorCode,errorMessage:n.errorMessage,errorType:"playbackRestartAttempt",errorExtras:n.errorExtras,playbackRetryMethod:n.retryMethod,playbackRetryAttempts:n.attemptNumber})},playbackRetryAttemptRestart:function(e,n){t.event("attemptRestart",{playbackRetryAttempts:n.attemptNumber,operationType:"playbackRestartSelected"}),!0,c.setLastStreamUriEvent(null),c.setLastPlaybackStartedEvent(null);var r=c.getSelectedContent();r&&(r.retryAttempts=n.attemptNumber,c.setSelectedContent(r))},playbackStarted:T,playbackStopped:A,playerPositionChanged:function(e){try{var r={},i=0;t.setPlayerPosition(Math.floor(e.PlaybackTimestamp)),e.DroppedFramesCount&&(r.droppedFrames=e.DroppedFramesCount),e.BufferLength&&(i=e.BufferLength<1e3?1e3*e.BufferLength:e.BufferLength,r.bufferLengthMs=i),0!==Object.entries(r).length&&t.setPlayerTestFields(r)}catch(e){n.error(e)}},playerStatusChanged:function(e){t.isDebug()&&n.debug("Analytics: playerStatusChanged",e);if(c.setPlayerStatus(e.status),null!==m&&"scrubbing"==Object(y.i)()&&"playing"===e.status)return t.event("playbackTrickPlayStop",{endPositionSec:m}),void(m=null);var r=c.getSelectedContent();"paused"===e.status&&r&&"linear"===r.type&&A({TriggeredBy:"exitPlayer"})},resumeStream:function(){t.isDebug()&&n.debug("Analytics: Resuming previous stream");var e=c.getLastSelectEvent(),r=c.getLastStreamUriEvent(),i={bitrate:c.getBitrate()},o=c.getLastPlaybackType();null!==e&&null!==r&&null!==o?("linear"===o?S(e):"vod"===o?w(e):"dvr"===o?C(e):n.error("Analytics: unrecognized playbackType:"+o),$(r),T(i)):n.error("Analytics: Cannot resume stream due to missing events or playbackType",e,r,o)},scrubJump:function(e){t.isDebug()&&n.debug("Analytics: scrubJump, contentElapsed="+c.contentElapsedMs,e);try{var r=c.contentElapsedMs,i=Math.floor(parseInt(r)/1e3),o=Math.floor(parseInt(e.PlaybackTimestamp)/1e3);if(i===o)return void(t.isDebug()&&n.debug("Analytics: Ignoring scrub event to original position, after rounding to nearest second"));var a=null;if(a="skipButton"===e.sourceElement?o>i?"jumpForward":"jumpBack":o>i?"fastForward":"rewind",t.isDebug()&&n.debug("Analytics: scrubJump, from="+i+" to="+o+" type="+a,e),"buffering"===Object(y.i)()&&E(),"scrubbing"===Object(y.i)())return;t.event("playbackTrickPlayStart",{scrubSpeed:"1",scrubType:a,startPositionSec:Math.floor(parseInt(r)/1e3)}),m=Math.floor(parseInt(e.PlaybackTimestamp)/1e3)}catch(e){n.error(e)}},setNextPlaybackIsFromWatchNext:D,setNextPlaybackTriggeredBy:R,setPlaybackBitrateConfig:function(e,t){s=t},streamUriObtained:$,vodContentSelected:w};function g(e){try{t.isDebug()&&n.debug("Analytics: pauseToggled enabled="+e+", resumeBufferingAfterUnpause="+d+", state="+Object(y.i)());var r=e?"playbackPause":"playbackUnpause",i=c.getSelectedContent();if(i&&"linear"===i.type)return;if("buffering"===Object(y.i)()&&(E(),d="playbackPause"===r),"playbackUnpause"===r&&"paused"!==Object(y.i)())return;if("playbackPause"===r&&"playing"!==Object(y.i)())return;t.event(r,{triggeredBy:o.TriggeredBy.USER}),"playbackUnpause"===r&&d&&(d=!1,O())}catch(e){n.error(e)}}function S(e){try{var i,a;if(t.isDebug()&&n.debug("Analytics: channelChanged (select). Playing="+_(),e),!1,_())A({TriggeredBy:"channelChange"});else if(c.getLastSelectEvent()&&c.getSelectedContent()&&(!c.getLastStreamUriEvent()||!c.getLastPlaybackStartedEvent())&&"linear"===c.getLastPlaybackType()&&c.getSelectedContent().tmsProgramId===Ti(e.channel.asset))return void n.debug("Analytics: Dropping duplicate linear select event",e);var s=c.getLastSelectEvent()&&!c.getLastPlaybackStartedEvent(),d=c.getSelectedContent();s&&"failed"!==Object(y.i)()&&t.event("playbackExitBeforeStart",{triggeredBy:o.TriggeredBy.USER,retryAttempts:d?d.retryAttempts:0}),c.setLastPlaybackType("linear"),c.setLastSelectEvent(e),c.setLastStreamUriEvent(null),c.setLastPlaybackStartedEvent(null),e.channel.asset=e.channel.asset||{},c.setSelectedContent({type:"linear",daiEnabled:!1,retryAttempts:0,channelId:Object(b.c)(e,"channel.channelId"),tmsGuideId:Object(b.c)(e,"channel.tmsId"),tmsProgramIds:Object(b.c)(e,"channel.asset.tmsProgramIds"),tmsProgramId:Ti(e.channel.asset)});var p={contentClass:"linear",playbackType:"linear",elementStandardizedName:"watch",pageSectionName:"conversionArea",triggeredBy:o.TriggeredBy.USER,drmType:Object(b.c)(e,"channel.drmType"),scrubbingCapability:"none",closedCaptioningCapable:!0,sapCapable:!1,entitled:!!(null===e||void 0===e?void 0:null===(i=e.channel)||void 0===i?void 0:i.entitled),streamingFormat:Object(b.c)(e,"channel.streamingFormat"),channelNumber:null===e||void 0===e?void 0:null===(a=e.channel)||void 0===a?void 0:a.localChannelNumber,operationType:"playbackPlaySelected"};r.populateChannelData(p,e.channel),r.populateAssetData(p,Object(b.c)(e,"channel.asset")),r.populateEventData(p,e),k(p);var h=l.a.getSelectorValue(u.wg),v=function(){var e=Ko;return Ko=void 0,e}();h&&v&&(p.tuneType=v),t.event("playbackSelect",p),c.setExpectedStream(null)}catch(e){n.error(e)}}function w(e){t.isDebug()&&n.debug("Analytics: vodContentSelected (select)",e);try{var a,s=e.asset;if(!1,c.getLastSelectEvent()&&c.getSelectedContent()&&(!c.getLastStreamUriEvent()||!c.getLastPlaybackStartedEvent())&&"vod"===c.getLastPlaybackType()&&c.getSelectedContent().tmsProgramId===Ti(e.asset))return;c.setLastPlaybackType("vod"),c.setLastSelectEvent(e),c.setLastStreamUriEvent(null),c.setLastPlaybackStartedEvent(null);var l={playbackType:"vod",triggeredBy:o.TriggeredBy.USER,elementStandardizedName:e.elementStandardizedName,entitled:!!(null===e||void 0===e?void 0:null===(a=e.stream)||void 0===a?void 0:a.isEntitled),pageSectionName:"conversionArea",drmType:e.drmType,streamType:e.type,scrubbingCapability:"all",sapCapable:!1};r.populateAssetData(l,s);var u=e.stream;u?r.populateStreamData(l,u):r.populateStreamData(l,s.defaultStream),r.populateTvodData(l,s),r.populateEventData(l,e),s.isTvodEntitled&&(l.operationType="playbackPlaySelected"),c.setSelectedContent({type:"vod",daiEnabled:!1,retryAttempts:0,tmsProgramId:l.tmsProgramId,tmsProgramIds:s.tmsProgramIds}),"rent"===l.purchaseType&&(l.featureStepName="playbackSelect");var d=i.params&&i.params.trailer&&"true"===i.params.trailer||!1;if(d&&(t.isDebug()&&n.debug("Analytics: Overriding contentClass to trailer",d),l.contentClass="trailer"),t.isDebug()&&n.debug("Analytics: isTvod? isTvodEntitled="+s.isTvodEntitled),s.isTvodEntitled){var p=c.getLatestPurchase();(null===p||void 0===p?void 0:p.tmsProgramId)===l.tmsProgramId&&(l.purchaseId=null===p||void 0===p?void 0:p.purchaseId),c.setLatestPurchase(null)}k(l),t.event("playbackSelect",l),c.setExpectedStream(null),c.setTvodFlowState(null)}catch(e){n.error(e)}}function k(e){t.isDebug()&&n.debug("Analytics: applyWatchNext nextPlaybackTriggeredBy="+a+", nextPlaybackIsFromWatchNext="+f),f&&(e.elementStandardizedName="autoplay",e.triggeredBy=a,D(!1),R(o.TriggeredBy.USER))}function C(e){try{var i,a;t.isDebug()&&n.debug("Analytics: cdvrContentSelected (select)",e);var s=e.stream||(null===(i=e.asset)||void 0===i?void 0:i.defaultStream)||{};if(c.getLastSelectEvent()&&c.getSelectedContent()&&(!c.getLastStreamUriEvent()||!c.getLastPlaybackStartedEvent())&&"dvr"===c.getLastPlaybackType()&&c.getSelectedContent().tmsProgramId===Ti(e.asset))return;!1,c.setLastPlaybackType("dvr"),c.setLastSelectEvent(e),c.setLastStreamUriEvent(null),c.setLastPlaybackStartedEvent(null),c.setSelectedContent({type:"cdvr",daiEnabled:!1,tmsProgramId:e.asset.cdvrRecording.tmsProgramId,recordingId:e.asset.cdvrRecording.recordingId,retryAttempts:0});var u={contentClass:"cdvr",playbackType:"dvr",triggeredBy:o.TriggeredBy.USER,elementStandardizedName:e.elementStandardizedName,pageSectionName:"conversionArea",drmType:e.drmType,entitled:!!(null===e||void 0===e?void 0:null===(a=e.stream)||void 0===a?void 0:a.isEntitled),streamType:e.type,scrubbingCapability:function(e){var t=l.a.getSelectorValue(ie.j),n=t[Object(b.c)(e,"streamType","linear").toLowerCase()];return(n||t.linear).disableCDVRInProgressScrubbing&&e.stream.cdvrNotCompleted}(e)?"none":"all",sapCapable:!1};r.populateAssetData(u,e.asset),r.populateStreamData(u,s),r.populateEventData(u,e),k(u),t.event("playbackSelect",u),c.setExpectedStream(null)}catch(e){n.error(e)}}function $(e){try{var r,i,o,a,s,d,p=c.getSelectedContent();if(!p)return;if(Object(y.i)()===hs.b.RESTARTING)return;if(p.receivedUri=!1,"linear"===p.type&&p.channelId!==e.contentMetadata.channelId){if(t.isDebug()&&n.debug("Analytics: Discarding linear URI event due to mismatch"),!(p.tmsProgramIds&&p.tmsProgramIds.indexOf(e.contentMetadata.tmsProgramId)>=0))return;p.tmsProgramId=e.contentMetadata.tmsProgramId,c.setSelectedContent(p)}else if("vod"===p.type&&p.tmsProgramId!==e.contentMetadata.tmsProgramId){if(t.isDebug()&&n.debug("Analytics: Discarding VOD URI event due to tmsProgramId mismatch:"+p.tmsProgramId+" vs "+e.contentMetadata.tmsProgramId),!(p.tmsProgramIds&&p.tmsProgramIds.indexOf(e.contentMetadata.tmsProgramId)>=0))return;p.tmsProgramId=e.contentMetadata.tmsProgramId}else if("cdvr"===p.type&&(p.tmsProgramId!==(null===(r=e.contentMetadata)||void 0===r?void 0:null===(i=r.cdvrRecording)||void 0===i?void 0:i.tmsProgramId)||p.recordingId!==(null===(o=e.contentMetadata)||void 0===o?void 0:null===(a=o.cdvrRecording)||void 0===a?void 0:a.recordingId)))return void(t.isDebug()&&n.debug("Analytics: Discarding CDVR URI event due to mismatch"));if(e.stream&&angular.isDefined(e.stream.dai)&&(p.daiEnabled=e.stream.dai),c.getLastStreamUriEvent())return void n.debug("Analytics: Dropping duplicate streamUriObtained event",e);p.receivedUri=!0,c.setLastStreamUriEvent(e);var h={contentUri:e.stream.stream_url||void 0,success:!0};(null===(s=e.stream)||void 0===s?void 0:s.streamableLocations)&&(h.streamableLocations=e.stream.streamableLocations),(null===(d=e.stream)||void 0===d?void 0:d.nielsenMetrics)&&(h.nielsenMetrics=e.stream.nielsenMetrics),l.a.getSelectorValue(u.Zc)&&l.a.getSelectorValue(ge.f)&&ct.a.set(lt.d.ID3_TAGS,{id3Tags:!1}),t.event("playbackStreamUriAcquired",h)}catch(e){n.error(e)}}function T(e){try{var r;t.isDebug()&&n.debug("Analytics: playbackStarted",e),!1;var i=c.getSelectedContent();if(!i)return void(t.isDebug()&&n.debug("Analytics: Discarding play event; have not yet received selected content",e));if(!i.receivedUri)return void(t.isDebug()&&n.debug("Analytics: Discarding play event; have not yet received URI event",e));if(c.getLastPlaybackStartedEvent())return void n.debug("Analytics: Discarding duplicate playbackStarted event");p=1;var a={triggeredBy:o.TriggeredBy.APPLICATION,playPointTimestamp:Date.now(),currentBitRateBps:e.bitrate,numberOfAudioSources:e.audioTracks?e.audioTracks.length:-1,actualRuntime:c.getActualRuntimeMs(),retryAttempts:i.retryAttempts,daiEnabled:i.daiEnabled||!1};0===a.currentBitRateBps&&s&&s.initialBitrateInBitsPerSec&&(a.currentBitRateBps=s.initialBitrateInBitsPerSec),c.setBitrate(a.currentBitRateBps),e.audioTracks&&e.audioTracks.length>0&&(a.sapCapable=void 0!==Object.keys(e.audioTracks).find(function(t){return!1===e.audioTracks[t].isDefault})),c.hasDeferredEvent("adBreakStart")&&(r="adBreakStart"),i.playbackStartedEvent=e,c.setLastPlaybackStartedEvent(e);(l.a.getSelectorValue(u.Tb)?Na()>0&&hs.b.RESTARTING===Object(y.i)():Na()>0)?(a.playbackRetryMethod=Ma(),t.event("playbackStartAfterRetry",a,r)):t.event("playbackStart",a,r)}catch(e){n.error(e)}}function O(){try{t.isDebug()&&n.debug("Analytics: bufferingStarted, resumeBufferingAfterUnpause="+d);var e=Object(y.i)();if(e===hs.b.NAVIGATING||e===hs.b.SCRUBBING||e===hs.b.FAILED||e===hs.b.BUFFERING||e===hs.b.RESTARTING||e===hs.b.INITIATING)return;if(Object(y.i)()===hs.b.PAUSED)return void(d=!0);t.event("bufferingStart",{})}catch(e){n.error(e)}}function E(){try{if(t.isDebug()&&n.debug("Analytics: bufferingStopped, resumeBufferingAfterUnpause="+d),d)return void(t.isDebug()&&n.debug("Analytics: Discarding bufferingStopped due to ongoing pause"));if("buffering"!==Object(y.i)())return;t.event("bufferingStop",{})}catch(e){n.error(e)}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isDebug()&&n.debug("Analytics: playbackStopped, isPlaying="+_()+", state="+Object(y.i)(),{e:e,stopData:r}),"error"!==c.getPlayerStatus(e.status))try{if(l.a.getSelectorValue(u.Sb)&&(null===r||void 0===r?void 0:r.triggeredBy)===lt.m.APPLICATION&&hs.b.RESTARTING===Object(y.i)())return;if("initiating"===Object(y.i)()||"restarting"===Object(y.i)()){"search"!==Object(y.f)()&&(c.setLastPlaybackType(null),c.setLastSelectEvent(null),c.setLastStreamUriEvent(null),c.setLastPlaybackStartedEvent(null));var i=c.getSelectedContent();return c.stopPlayback(),c.setSelectedContent(null),void t.event("playbackExitBeforeStart",{triggeredBy:r.triggeredBy||o.TriggeredBy.USER,retryAttempts:i?i.retryAttempts:0})}if(!_())return;hs.b.SCRUBBING===Object(y.i)()&&t.event("playbackTrickPlayStop",{endPositionSec:m});var a={};"exitPlayer"===e.TriggeredBy||"channelChange"===e.TriggeredBy?a.triggeredBy=o.TriggeredBy.USER:a.triggeredBy=r.triggeredBy||o.TriggeredBy.APPLICATION,c.stopPlayback(),t.event("playbackStop",a)}catch(e){n.error(e)}}function P(e){try{if(v=!0,c.adPlaying)return void c.setDeferredEvent("adBreakStop",e);var r=!1;if("buffering"===Object(y.i)()&&(E(),r=!0),"adBreakStop"===c.previousEventName)return;t.event("adBreakStop"),v=!1,r&&O()}catch(e){n.error(e)}}function I(e){try{var r={adId:e.adId||e.id,adNumber:h,adTitle:e.title||e.caid||e.adId||e.id||JSON.stringify(e),deviceAdId:c.getDeviceId()};h+=1;var i=!1;"paused"===Object(y.i)()&&(g(!1),i=!0);var o=!1;"buffering"===Object(y.i)()&&(E(),o=!0),c.startAd(e),t.event("adStart",r),i&&g(!0),o&&O()}catch(e){n.error(e)}}function x(e){try{var r,i={adDurationSec:parseInt(e.duration/1e3),adStoppedReason:"completion"},o=!1;"paused"===Object(y.i)()&&(g(!1),o=!0);var a=!1;"buffering"===Object(y.i)()&&(E(),a=!0),c.hasDeferredEvent("adBreakStop")&&(r="adBreakStop"),c.stopAd(),t.event("adStop",i,r),v&&P(null),o&&g(!0),a&&O()}catch(e){n.error(e)}}function _(){var e=Object(y.i)();return["playing","buffering","scrubbing","paused"].indexOf(e)>-1}function D(e){f=e}function R(e){a=e}}e.$inject=["$rootScope","analyticsService","$log","analyticsAssetHelper","$state","analyticsEnums"],e.$inject=["$rootScope","analyticsService","$log","analyticsAssetHelper","$state","analyticsEnums"],angular.module("ovpApp.analytics.events.playback",["ovpApp.analytics.analyticsService","ovpApp.analytics.analyticsAssetHelper"]).factory("analyticsPlayback",e).run(["analyticsPlayback",function(e){return e}])}(),function(){function e(e,t){return{reinitialize:function(n,r){try{Object(y.a)(!1),r.operationType="reinitialize",e.event("applicationActivity",r)}catch(e){t.error("Error:",e)}},appLaunchTime:function(e,t){var n={msgTriggeredBy:"application",operationIntValue:t.launchTime,opType:"appLaunchTimeMs"};Object(y.j)("OneApp_applicationPerformance_launchTime_pageName",n)}}}e.$inject=["analyticsService","$log"],e.$inject=["analyticsService","$log"],angular.module("ovpApp.analytics.events.appActivity",["ovpApp.analytics.analyticsService"]).factory("analyticsAppActivity",e).run(["analyticsAppActivity",function(e){return e}])}(),function(){function e(e,t,n,r,i,o){var a,s=t.state,c=null;function u(e,r){try{t.isDebug()&&n.debug("Analytics: playerCcSettings",r);t.event("modalView",{triggeredBy:"user",modalName:"ccSettingsIcon",modalText:"Closed Caption Settings",modalType:"options",loadTimeMs:1})}catch(e){n.error("Error:",e)}}return{clickConfirmDestroyed:function(e,r){try{t.isDebug()&&n.debug("Analytics: clickConfirmDestroyed",r),a=null}catch(e){n.error("Analytics:",e)}},clickConfirmShowing:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: clickConfirmShowing",r,a),!a)return;var i=angular.extend({modalType:"message",triggeredBy:"user",loadTimeMs:a.opened-Date.now()},a.modal);t.event("modalView",i)}catch(e){n.error("Analytics:",e)}},clickConfirmTriggered:function(r,i){try{if(t.isDebug()&&n.debug("Analytics: clickConfirmTriggered",i,a),!a||!a.click)return;e.$emit("Analytics:select",a.click)}catch(e){n.error("Analytics:",e)}},modalClosed:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: modalClosed",r),r.quantumDoNotTrack)return;"pinValidate"===r.component&&s.setPINEntryContext(null),Object(y.j)("OneApp_modalClose_user",Jl),Jl=null}catch(e){n.error("Analytics: modalResolved:",e)}},modalOpened:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: modalOpened:",r),r.quantumDoNotTrack)return}catch(e){n.error("Analytics: modalOpened:",e)}},modalOpening:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: modalOpening:",r),r.quantumDoNotTrack)return;c=Date.now()}catch(e){n.error("Analytics: modalOpening:",e)}},modalRejected:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: modalRejected",r),r.quantumDoNotTrack)return;var i=s.getTvodFlowState();"pinValidate"===r.component&&i&&Object(y.j)("OneApp_selectAction_rentConfirmation_cancel",{msgCategory:lt.e.NAVIGATION})}catch(e){n.error("Analytics: modalRejected:",e)}},modalRendered:function(e,r){try{var o,a,d,p;if(t.isDebug()&&n.debug("Analytics: modalRendered:",r),r.quantumDoNotTrack)return;var h=null===r||void 0===r?void 0:null===(o=r.resolve)||void 0===o?void 0:null===(a=o.options)||void 0===a?void 0:null===(d=a.analytics)||void 0===d?void 0:null===(p=d.modal)||void 0===p?void 0:p.show;if(h){var v,f,m,g,b,S=Zl(Zl({},null!==(v=null===r||void 0===r?void 0:null===(f=r.resolve)||void 0===f?void 0:null===(m=f.options)||void 0===m?void 0:null===(g=m.analytics)||void 0===g?void 0:null===(b=g.modal)||void 0===b?void 0:b.payload)&&void 0!==v?v:{}),{},{modalLoadTimeMs:Date.now()-c});return Object(y.j)(h,S),void(Jl={msgContext:(null===S||void 0===S?void 0:S.msgContext)||Object(y.d)(h,"msgContext")})}var k=Zl({sendThis:!1,modalName:"notification",modalType:"message",triggeredBy:"user",loadTimeMs:c?Date.now()-c:0},l.a.getSelectorValue(Object(w.f)(r.component)));if("pinValidate"===r.component)k=function(e){t.isDebug()&&n.debug("Analytics: renderPinValidateModal:",e);var r={sendThis:!0,modalName:"notification",modalType:"options",triggeredBy:"user",pinEntryContext:{category:"navigation",pinType:e.pinType},loadTimeMs:c?Date.now()-c:0};switch(e.pinType){case"parentalControl":r.modalName="pinEntryParentalControl","settingsParentalControls"!==Object(y.f)()&&(r.context="parentalControlFlow",r.pinEntryContext.context="parentalControlFlow");break;case"purchaseControl":r.modalName="pinEntryPurchase","settingsPurchaseControls"!==Object(y.f)()&&(r.context="tvodFlow",r.operationType="purchaseControl",r.pinEntryContext.context=r.context,r.pinEntryContext.operationType=r.operationType);break;default:n.error("Analytics: Unrecognized pinType:"+e.pinType),r.sendThis=!1}return r.sendThis&&s.setPINEntryContext(r.pinEntryContext),r}(r);else if("offCanvasMenu"===r.component)k.sendThis=!0,k.modalName="globalMenu",k.modalType="options";else if("EditScheduled"===r.component)k.sendThis=!0,k.context="rdvr",k.modalType="options",r.resolve&&r.resolve.asset&&r.resolve.asset.title&&(k.modalText=r.resolve.asset.title),r.resolve&&r.resolve.scheduledRecording&&r.resolve.scheduledRecording.isNew?k.modalName="rdvrConfirmRecord":k.modalName="rdvrConfirmEdit";else if("confirm"===r.component)r.resolve&&r.resolve.options&&r.resolve.options.action&&(k.sendThis=!0,k=angular.extend({},k,function(e){switch(t.isDebug()&&n.debug("Analytics: renderActionConfirmationModal:",e),e.resolve.options.action.actionType){case"cdvrScheduleRecording":return{sendThis:!0,context:"cdvr",featureCurrentStep:2,featureStepName:"cdvrConfirmRecord",featureType:"cdvrRequestToRecord",modalName:"cdvrConfirmRecord",modalText:e.resolve.options.preOkMessage,modalType:"options"}}return{}}(r)));else{if("ovp-caption-settings"===r.component)return void u(0,r);k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.isDebug()&&n.debug("Analytics: renderAlertModal:",e);var r={sendThis:!0,modalName:"notification",modalType:"message",triggeredBy:"application",loadTimeMs:c?Date.now()-c:0};return e.options?(te.a.getErrorInfo("WLC-1000").message===e.options.message?r.modalName="channelUnavailableOOH":i.getMessageForCode("MSG-9104")===e.options.message&&(r.modalName="videoStoreUnavailable"),e.options.title&&e.options.message?r.modalText=e.options.title+": "+e.options.message:e.options.title||e.options.message?r.modalText=e.options.title||e.options.message:r.modalText=JSON.stringify(e.options)):r.modalText=JSON.stringify(e),r}(r)}var C=s.getTvodFlowState();if(C)switch(k.modalName){case"pinEntryPurchase":C.featureCurrentStep=3,angular.extend(k,C),k.featureStepName="pinEntryPurchase";break;case"pinEntryParentalControl":C.featureCurrentStep=3,angular.extend(k,C),k.featureStepName="pinEntryParentalControl";break;case"notification":C.featureCurrentStep=0,angular.extend(k,C)}k&&k.sendThis&&(delete k.sendThis,t.event("modalView",k),Jl={msgContext:k.context})}catch(e){n.error("Analytics: modalRendered:",e)}},modalResolved:function(e,r,i){try{if(t.isDebug()&&n.debug("Analytics: modalResolved",r,i),r.quantumDoNotTrack)return}catch(e){n.error("Analytics: modalResolved:",e)}},modalStart:function(){try{t.isDebug()&&n.debug("Analytics: modalStart"),c=Date.now()}catch(e){n.error("Analytics navigation:",e)}},modalView:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{t.isDebug()&&n.debug("Analytics: modalView:",r),r.modalName=r.modalName||"notification",r.modalType=r.modalType||"message";var o=angular.copy(r);o.triggeredBy=r.triggeredBy||"user",o.loadTimeMs=c?Date.now()-c:0;var a=s.getTvodFlowState();a&&("pinEntryPurchase"===r.modalName?(a.featureCurrentStep=3,angular.extend(o,a),o.featureStepName="pinEntryPurchase"):"pinEntryParentalControl"===r.modalName?(a.featureCurrentStep=3,angular.extend(o,a),o.featureStepName="pinEntryParentalControl"):"notification"===r.modalName&&(a.featureCurrentStep=0,angular.extend(o,a))),t.event("modalView",o,i)}catch(e){n.error("Analytics navigation:",e)}},playerCcSettings:u,playerInfoPanel:function(e,r){try{t.isDebug()&&n.debug("Analytics: playerInfoPanel",r);var i={triggeredBy:"user",modalName:"playerTvInfo",modalText:r.modalText,modalType:"message",loadTimeMs:1};t.event("modalView",i)}catch(e){n.error("Error:",e)}},playerAutoPlayOverlay:function(e,r){try{if(t.isDebug()&&n.debug("Analytics: playerInfoPanel"),r.visible){var i={category:"navigation",triggeredBy:"application",modalName:"playOverlay",modalType:"notification",modalText:"playOverlayIcon",loadTimeMs:c?Date.now()-c:0};t.event("modalView",i)}else Object(y.j)("OneApp_modalClose_user")}catch(e){n.error("Error:",e)}},prepClickConfirm:function(e,r){try{t.isDebug()&&n.debug("Analytics: prepClickConfirm",r),(a=r).opened=Date.now()}catch(e){n.error("Analytics:",e)}},showEvent:function(e,r){try{t.isDebug()&&n.debug("Analytics: 1137: showEvent: "+e.name,e,r)}catch(e){n.error("Analytics:",e)}},showMiniPlayerToolTip:function(e,r){try{t.isDebug()&&n.debug("Analytics: showMiniPlayerToolTip",{data:r}),t.event("modalView",{triggeredBy:"application",modalName:"contVideoToolTip",modalType:"options",loadTimeMs:1})}catch(e){n.error("Error:",e)}}}}e.$inject=["$rootScope","analyticsService","$log","analyticsSelectAction","messages","analyticsPlayback"],e.$inject=["$rootScope","analyticsService","$log","analyticsSelectAction","messages","analyticsPlayback"],angular.module("ovpApp.analytics.events.modalView",["ovpApp.analytics.analyticsService"]).factory("analyticsModalView",e).run(["analyticsModalView",function(e){return e}])}(),function(){function e(e,t,n,r,i,o){var a;function s(e,r,i){var a,s;if(t.isDebug()&&n.debug("Analytics: processModalClosure",{isResolved:e,reason:r,triggeredBy:i,getCurrentModal:p()}),p()){var c;"object"===at()(r)&&(c=r.elementStandardizedName,r=r.reason),r=e?r||"close":"reject";var h=(null===(a=p())||void 0===a?void 0:a.closureSelectActions)?null===(s=p())||void 0===s?void 0:s.closureSelectActions[r]:void 0;if(l.a.getSelectorValue(u.dg)||!r||h||n.warn("Analytics: No closure action for "+r),h){var v=angular.extend({modalName:p().modalName,modalType:p().modalType},h);o.selectAction(null,v)}else if(c){var f={modalName:p().modalName,modalType:p().modalType,elementStandardizedName:c};o.selectAction(null,f)}var m=i===lt.m.APPLICATION?"OneApp_modalClose_application":"OneApp_modalClose_user";Object(y.j)(m,Ql),Ql=null,d(void 0)}}function c(e){var t,n,r,i,o,a,s,c,l,u,d=null!==(t=null===e||void 0===e?void 0:null===(n=e.modalInstance)||void 0===n?void 0:null===(r=n.options)||void 0===r?void 0:r.resolve)&&void 0!==t?t:{},p=null!==(i=null===d||void 0===d?void 0:d.title)&&void 0!==i?i:"",h=(null!==(o=null===d||void 0===d?void 0:d.description)&&void 0!==o?o:"")+(null!==(a=null===d||void 0===d?void 0:d.description2)&&void 0!==a?a:"")+(null!==(s=null===d||void 0===d?void 0:d.message)&&void 0!==s?s:"")+(null!==(c=null===d||void 0===d?void 0:d.impressionModalText)&&void 0!==c?c:"")+(null!==(l=null===d||void 0===d?void 0:null===(u=d.options)||void 0===u?void 0:u.title)&&void 0!==l?l:"");if(0===h.length)try{h=JSON.stringify(d)}catch(e){h=""}return(p.length>0?p+": ":"")+h}function d(e){a=angular.copy(e)}function p(){return a}return r.subscribe(function(e){try{switch(t.isDebug()&&n.debug("Analytics: modalViewKite-subscribe",e),e.action){case kc.SHOW:return function(e){var r,o,a,s,l,u,p,h,v,f,m,g,b,S,w;if(null===e||void 0===e?void 0:null===(r=e.modalInstance)||void 0===r?void 0:null===(o=r.options)||void 0===o?void 0:null===(a=o.resolve)||void 0===a?void 0:a.ignoreModalView)return;var k=null===e||void 0===e?void 0:null===(s=e.modalInstance)||void 0===s?void 0:null===(l=s.options)||void 0===l?void 0:null===(u=l.resolve)||void 0===u?void 0:null===(p=u.options)||void 0===p?void 0:null===(h=p.analytics)||void 0===h?void 0:null===(v=h.modal)||void 0===v?void 0:v.show,C=null===e||void 0===e?void 0:null===(f=e.modalInstance)||void 0===f?void 0:null===(m=f.options)||void 0===m?void 0:null===(g=m.resolve)||void 0===g?void 0:null===(b=g.options)||void 0===b?void 0:null===(S=b.analytics)||void 0===S?void 0:null===(w=S.modal)||void 0===w?void 0:w.payload;if(k){var $,T,O,E,A=tu({msgTriggeredBy:lt.m.USER,modalText:c(e),modalLoadTimeMs:Date.now()-e.modalInstance.timestampOpen,appErrorCode:null===e||void 0===e?void 0:null===($=e.modalInstance)||void 0===$?void 0:null===(T=$.options)||void 0===T?void 0:T.errorCode,appErrorMessage:null===e||void 0===e?void 0:null===(O=e.modalInstance)||void 0===O?void 0:null===(E=O.options)||void 0===E?void 0:E.errorMessage,appErrorExtras:null===e||void 0===e?void 0:e.modalInstance.options.errorExtras},C||{});return Object(y.j)(k,A),void(Ql={msgContext:(null===A||void 0===A?void 0:A.msgContext)||Object(y.d)(k,"msgContext")})}var P=function(e){var t,r,o,a,s,l,u,d;n.debug("Analytics: buildModalViewEventPayload",e);var p=null!==(t=null===e||void 0===e?void 0:null===(r=e.modalInstance)||void 0===r?void 0:null===(o=r.options)||void 0===o?void 0:null===(a=o.resolve)||void 0===a?void 0:a.analyticsModalName)&&void 0!==t?t:"notification",h=i[p]||i.notification,v=angular.extend({triggeredBy:"user",modalText:c(e),loadTimeMs:Date.now()-e.modalInstance.timestampOpen},h),f=null===e||void 0===e?void 0:null===(s=e.modalInstance)||void 0===s?void 0:null===(l=s.options)||void 0===l?void 0:l.errorCode,m=null===e||void 0===e?void 0:e.modalInstance.options.errorExtras;f&&(v.errorCode=f);var g=null===e||void 0===e?void 0:null===(u=e.modalInstance)||void 0===u?void 0:null===(d=u.options)||void 0===d?void 0:d.errorMessage;g&&(v.errorMessage=g);m&&(v.errorExtras=m);v.modalText||delete v.modalText;return v}(e);d(tu({},P)),delete P.closureSelectActions,C&&(P=tu(tu({},P),C));t.event("modalView",P),Ql={msgContext:P.context}}(e);case kc.RESOLVED:return function(e){var t,n,r,i,o,a,c,l,u,d,p,h,v,f=null===e||void 0===e?void 0:null===(t=e.modalInstance)||void 0===t?void 0:null===(n=t.options)||void 0===n?void 0:null===(r=n.resolve)||void 0===r?void 0:null===(i=r.options)||void 0===i?void 0:null===(o=i.analytics)||void 0===o?void 0:null===(a=o.modal)||void 0===a?void 0:a.resolved,m=null!==(c=null===e||void 0===e?void 0:null===(l=e.modalInstance)||void 0===l?void 0:null===(u=l.options)||void 0===u?void 0:null===(d=u.resolve)||void 0===d?void 0:null===(p=d.options)||void 0===p?void 0:null===(h=p.analytics)||void 0===h?void 0:null===(v=h.modal)||void 0===v?void 0:v.payload)&&void 0!==c?c:{};f&&Object(y.j)(f,tu(tu({},m),{},{msgTriggeredUsing:Object(Li.c)()}));s(!0,e.reason,e.triggeredBy)}(e);case kc.DISMISSED:return function(e){var t,n,r,i,o,a,c,l,u,d,p,h,v,f=null===e||void 0===e?void 0:null===(t=e.modalInstance)||void 0===t?void 0:null===(n=t.options)||void 0===n?void 0:null===(r=n.resolve)||void 0===r?void 0:null===(i=r.options)||void 0===i?void 0:null===(o=i.analytics)||void 0===o?void 0:null===(a=o.modal)||void 0===a?void 0:a.dismissed,m=null!==(c=null===e||void 0===e?void 0:null===(l=e.modalInstance)||void 0===l?void 0:null===(u=l.options)||void 0===u?void 0:null===(d=u.resolve)||void 0===d?void 0:null===(p=d.options)||void 0===p?void 0:null===(h=p.analytics)||void 0===h?void 0:null===(v=h.modal)||void 0===v?void 0:v.payload)&&void 0!==c?c:{};f&&Object(y.j)(f,tu(tu({},m),{},{msgTriggeredUsing:Object(Li.c)()}));s(!1,e.reason,e.triggeredBy)}(e)}}catch(e){n.error(e.message,e)}}),{getCurrentModal:p}}e.$inject=["$rootScope","analyticsService","$log","kiteModalService","analyticsModalViewDataByModalName","analyticsSelectAction"],e.$inject=["$rootScope","analyticsService","$log","kiteModalService","analyticsModalViewDataByModalName","analyticsSelectAction"],angular.module("ovpApp.analytics.events.modalViewKite",["ovpApp.analytics.analyticsService","ovpApp.analytics.events.selectAction","ovpApp.services.kiteModal"]).factory("analyticsModalViewKite",e).constant("analyticsModalViewDataByModalName",function(){var e={close:{elementStandardizedName:"clear"},reject:{elementStandardizedName:"cancel"}};return{notification:{modalName:"notification",modalType:"message"},errorNotification:{modalName:"errorNotification",modalType:"message",closureSelectActions:{close:{elementStandardizedName:"ok"},reject:{elementStandardizedName:"close"}}},unentitledNetwork:{modalName:"unentitledNetwork",modalType:"message"},clearRecentlyWatchedConfirmation:{modalName:"clearRecentlyWatchedConfirmation",modalType:"options",closureSelectActions:e},clearRecentChannelsConfirmation:{modalName:"clearRecentChannelsConfirmation",modalType:"options",closureSelectActions:e},clearWatchlistConfirmation:{modalName:"clearWatchlistConfirmation",modalType:"options",closureSelectActions:e},cdvrConfirmCancellation:{triggeredBy:"user",modalName:"cdvrConfirmCancellation",modalType:"options",context:"cdvr",featureName:"cdvr",featureType:"cdvrRequestToCancel",featureStepName:"cdvrConfirmCancellation",featureCurrentStep:1,featureNumberOfSteps:100},cdvrConfirmDeletion:{triggeredBy:"user",modalName:"cdvrConfirmDeletion",modalType:"options",context:"cdvr",featureName:"cdvr",featureType:"cdvrRequestToDelete",featureStepName:"cdvrConfirmDeletion",featureCurrentStep:1,featureNumberOfSteps:100},cdvrConfirmRecord:{context:"cdvr",modalName:"cdvrConfirmRecord",modalType:"options",featureName:"cdvr",featureType:"cdvrRequestToRecord",featureStepName:"cdvrConfirmRecord",featureCurrentStep:1,featureNumberOfSteps:100},cdvrRequestToEdit:{context:"cdvr",modalName:"cdvrConfirmEdit",modalType:"options",featureName:"cdvr",featureType:"cdvrRequestToEdit",featureStepName:"cdvrConfirmEdit",featureCurrentStep:1,featureNumberOfSteps:100},cdvrConfirmEdit:{context:"cdvr",modalName:"cdvrConfirmEdit",modalType:"options",featureName:"cdvr",featureType:"cdvrRequestToEdit",featureStepName:"cdvrConfirmEdit",featureCurrentStep:1,featureNumberOfSteps:100},rdvrConfirmCancellation:{context:"rdvr",modalName:"rdvrConfirmCancellation",modalType:"options",featureName:"rdvr",featureType:"rdvrRequestToCancel",featureStepName:"rdvrConfirmCancellation",featureCurrentStep:99,featureNumberOfSteps:100,closureSelectActions:{close:{context:"rdvr",elementStandardizedName:"confirm",featureName:"rdvr",featureType:"rdvrRequestToCancel",featureStepName:"rdvrConfirmCancellation",featureCurrentStep:99,featureNumberOfSteps:100},reject:{context:"rdvr",elementStandardizedName:"cancel",featureName:"rdvr",featureType:"rdvrRequestToCancel",featureStepName:"rdvrConfirmCancellation",featureCurrentStep:99,featureNumberOfSteps:100}}},cdvrStorageFull:{modalName:"cdvrStorageFull",modalType:"notification",triggeredBy:"application",featureName:"cdvr"},updateNotificationTDCS:{triggeredBy:"user",modalName:"updateNotificationTDCS",modalType:"message",closureSelectActions:{reject:{category:"navigation",operationType:"buttonClick",elementStandardizedName:"postpone"}}},playerTvInfo:{modalName:"playerTvInfo",modalType:"message",triggeredBy:"user"},videoStoreUnavailable:{modalName:"videoStoreUnavailable",modalType:"message",triggeredBy:"application",closureSelectActions:{reject:{elementStandardizedName:"close",operationType:"buttonClick"},close:{elementStandardizedName:"ok",operationType:"buttonClick"}}},freePreviewDaysLeft:{modalName:"freePreviewDaysLeft",modalType:"message"},rentalConfirmationModal:{context:"tvodFlow",featureStepName:"rentConfirmation",modalName:"rentConfirmation",modalType:"options",triggeredBy:"user",closureSelectActions:{cancel:{source:4,category:"navigation",context:"tvodFlow",pageName:"rentConfirmation",elementUiName:"cancel",pageSectionName:"conversionArea",elementStandardizedName:"cancel",triggeredBy:"user",operationType:"buttonClick",featureCurrentStep:4},reject:{source:"analyticsModalView!",category:"navigation",context:"tvodFlow",pageName:"rentConfirmation",elementUiName:"cancel",pageSectionName:"conversionArea",elementStandardizedName:"cancel",triggeredBy:"user",operationType:"buttonClick",featureCurrentStep:4},error:{category:"navigation",context:"tvodFlow",elementUiName:"ok",modalName:"purchaseError",modalType:"error",elementStandardizedName:"ok",triggeredBy:"user",operationType:"buttonClick"},success:null}},buyflowChoiceLimitReached:{modalName:"userMistake",modalType:"message",context:"buyFlow"},OneApp_buyFlow_Error_modalView:{context:"buyFlow",featureStepName:"error",modalName:"errorModal",modalType:"error",errorType:"buyFlow",triggeredBy:"application",closureSelectActions:{close:{elementStandardizedName:"ok",operationType:"buttonClick",context:"buyFlow"}}},OneApp_modalView_buyFlow_price_alert:{context:"buyFlow",modalName:"priceAlert",modalType:"message",closureSelectActions:{close:{elementStandardizedName:"continue",operationType:"buttonClick"}}}}}()).run(["analyticsModalViewKite",function(e){return e}])}();n("vwTg");function nu(e,t,n){return{searched:function(r,i){try{n.isDebug()&&e.debug("Analytics: searched",i);var o=Object.assign({searchId:t.getSearchIdForSearchTerm(i.searchText),queryId:Object(T.c)(),triggeredBy:"user",searchType:"university",results:""},i);n.event("searched",o)}catch(t){e.error("Error:",t)}}}}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}angular.module("ovpApp.analytics.events.searchIdTracker",["ovpApp.analytics.events.selectAction"]).factory("analyticsSearchIdTracker",function(){var e,t;return{newSearch:function(){t=null,e=""},getSearchIdForSearchTerm:function(n){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.length>0&&t.length>0)return e[0]!=t[0];return!0})(e,n)&&(t="search-"+Date.now()+"-"+ct.a.get(lt.d.VISIT_ID));return e=n,t}}}),nu.$inject=["$log","analyticsSearchIdTracker","analyticsService"],nu.$inject=["$log","analyticsSearchIdTracker","analyticsService"],angular.module("ovpApp.analytics.events.specUTASearch",["ovpApp.analytics.events.searchIdTracker","ovpApp.analytics.analyticsService"]).factory("analyticsSpecUTASearch",nu),function(){function e(e,t,n,r,i){var o=n.state;return{handleProductAction:function(a,s,c,l,u){var d,p,h,v,f,m,g,b,S,w,k,C,$,T,O,E,A,P,I,x,_,D,R,j,N,M,V,L,F,U,B,W,H,G,q,z,Y,K,J,Q,X,Z,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,de,pe,he,ve,fe,me,ge,be,Se,we,ke,Ce,$e,Te,Oe,Ee,Ae,Pe,Ie,xe,_e,De,Re,je,Ne,Me,Ve,Le;try{var Fe,Ue,Be,We=null===c||void 0===c?void 0:null===(Fe=c.entitledTvodStream)||void 0===Fe?void 0:Fe.streamProperties,He=!!(c.isTvodEntitled&&(null===We||void 0===We?void 0:null===(Ue=We.tvodEntitlement)||void 0===Ue?void 0:Ue.rentalEndTimeUtcSeconds)&&(null===We||void 0===We?void 0:null===(Be=We.tvodEntitlement)||void 0===Be?void 0:Be.rentalStartTimeUtcSeconds)),Ge=He?{ctntStrmPurchaseType:He?"rent":void 0,ctntStrmPrice:String(null===c||void 0===c?void 0:c.price),ctntRntlExpDate:null===c||void 0===c?void 0:c.rentalExpirationDate,ctntRntlDurHours:null===We||void 0===We?void 0:We.rentalWindowInHours}:{};switch(n.isDebug()&&r.debug("Analytics: handleProductAction: "+s.actionType,{action:s,asset:c,stream:l}),s.actionType){case e.watchOnDemandIP.id:case e.resumeOnDemandIP.id:Object(ye.a)(s.actionType===e.watchOnDemandIP.id?"OneApp_selectAction_productPage_playButtonClicked":"OneApp_selectAction_productPage_playButtonClicked_resume",iu({ctntContentClass:null!==(d=null===l||void 0===l?void 0:null===(p=l.streamProperties)||void 0===p?void 0:null===(h=p.ondemandStreamType)||void 0===h?void 0:h.toLowerCase())&&void 0!==d?d:null===c||void 0===c?void 0:null===(v=c.contentClass)||void 0===v?void 0:v.toLowerCase(),ctntContentFormat:(null===l||void 0===l?void 0:null===(f=l.streamProperties)||void 0===f?void 0:null===(m=f.attributes)||void 0===m?void 0:m.indexOf("HIGH_DEF"))>=0?"HD":null!==(g="SD")&&void 0!==g?g:"SD",ctntIdProviderAssetId:Oi(l),ctntIdTmsGuideId:Ei(l),ctntIdTmsProgramId:Ti(c),ctntIdTmsSeriesId:Ai(c),ctntIdDvrRecordingId:Pi(l),ctntStrmBkmrkPosSec:null!==(b=null===l||void 0===l?void 0:null===(S=l.bookmark)||void 0===S?void 0:S.playMarkerSeconds)&&void 0!==b?b:0,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(w=l.streamProperties)||void 0===w?void 0:null===(k=w.attributes)||void 0===k?void 0:k.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),ctntStrmEntitled:(null===c||void 0===c?void 0:c.isEntitled)||He,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(C=l.streamProperties)||void 0===C?void 0:C.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===($=l.network)||void 0===$?void 0:$.callsign,ctntStrmPlbkType:"vod",ctntStrmScrubbingCapability:"all",currPageSecName:c.isEpisode?"episodeListArea":"conversionArea",currPageElemStdName:"watch"},Ge));break;case e.watchLiveIP.id:Object(y.j)("OneApp_selectAction_productPage_playButtonClicked",iu({ctntContentClass:"linear",ctntContentFormat:(null===l||void 0===l?void 0:null===(T=l.streamProperties)||void 0===T?void 0:null===(O=T.attributes)||void 0===O?void 0:O.indexOf("HIGH_DEF"))>=0?"HD":null!==(E="SD")&&void 0!==E?E:"SD",ctntIdTmsGuideId:null===l||void 0===l?void 0:null===(A=l.streamProperties)||void 0===A?void 0:A.tmsGuideServiceId,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===(P=c.tmsProgramIds)||void 0===P?void 0:P[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntIdTmsSeriesId:null===c||void 0===c?void 0:c.tmsSeriesId,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(I=l.streamProperties)||void 0===I?void 0:null===(x=I.attributes)||void 0===x?void 0:x.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR),ctntStrmEntitled:null===c||void 0===c?void 0:c.isEntitled,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(_=l.streamProperties)||void 0===_?void 0:_.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(D=l.network)||void 0===D?void 0:D.callsign,ctntStrmPlbkType:"linear",ctntStrmScrubbingCapability:"none",currPageElemStdName:"watch",currPageSecName:c.isEpisode?"episodeListArea":"conversionArea",msgTriggeredUsing:Object(Li.c)()},Ge));break;case e.resumeOnDemandOnTv.id:case e.watchOnDemandOnTv.id:Object(y.j)("OneApp_selectAction_productPage_onDemand_watchOnTv",iu({ctntContentClass:null!==(R=null===l||void 0===l?void 0:null===(j=l.streamProperties)||void 0===j?void 0:null===(N=j.ondemandStreamType)||void 0===N?void 0:N.toLowerCase())&&void 0!==R?R:null===c||void 0===c?void 0:null===(M=c.contentClass)||void 0===M?void 0:M.toLowerCase(),ctntContentFormat:(null===l||void 0===l?void 0:null===(V=l.streamProperties)||void 0===V?void 0:null===(L=V.attributes)||void 0===L?void 0:L.indexOf("HIGH_DEF"))>=0?"HD":null!==(F="SD")&&void 0!==F?F:"SD",ctntIdProviderAssetId:null===l||void 0===l?void 0:null===(U=l.streamProperties)||void 0===U?void 0:U.providerAssetID,ctntIdTmsGuideId:null===l||void 0===l?void 0:null===(B=l.streamProperties)||void 0===B?void 0:B.tmsGuideServiceId,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===(W=c.tmsProgramIds)||void 0===W?void 0:W[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntIdTmsSeriesId:null===c||void 0===c?void 0:c.tmsSeriesId,ctntStrmBkmrkPosSec:null!==(H=null===l||void 0===l?void 0:null===(G=l.bookmark)||void 0===G?void 0:G.playMarkerSeconds)&&void 0!==H?H:0,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(q=l.streamProperties)||void 0===q?void 0:null===(z=q.attributes)||void 0===z?void 0:z.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),ctntStrmEntitled:(null===c||void 0===c?void 0:c.isEntitled)||He,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(Y=l.streamProperties)||void 0===Y?void 0:Y.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(K=l.network)||void 0===K?void 0:K.callsign,ctntStrmPlbkType:"vod",ctntStrmScrubbingCapability:"all",currPageSecName:c.isEpisode?"episodeListArea":"conversionArea",msgTriggeredUsing:Object(Li.c)()},Ge));break;case e.watchLiveOnTv.id:Object(y.j)("OneApp_selectAction_productPage_liveTv_watchOnTv",{ctntContentClass:null===c||void 0===c?void 0:null===(J=c.contentClass)||void 0===J?void 0:J.toLowerCase(),ctntContentFormat:(null===l||void 0===l?void 0:null===(Q=l.streamProperties)||void 0===Q?void 0:null===(X=Q.attributes)||void 0===X?void 0:X.indexOf("HIGH_DEF"))>=0?"HD":null!==(Z="SD")&&void 0!==Z?Z:"SD",ctntIdTmsGuideId:null===l||void 0===l?void 0:null===(ee=l.streamProperties)||void 0===ee?void 0:ee.tmsGuideServiceId,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===(te=c.tmsProgramIds)||void 0===te?void 0:te[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntIdTmsSeriesId:null===c||void 0===c?void 0:c.tmsSeriesId,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(ne=l.streamProperties)||void 0===ne?void 0:null===(re=ne.attributes)||void 0===re?void 0:re.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.LINEAR),ctntStrmEntitled:null===c||void 0===c?void 0:c.isEntitled,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(ie=l.streamProperties)||void 0===ie?void 0:ie.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(oe=l.network)||void 0===oe?void 0:oe.callsign,ctntStrmPlbkType:"linear",ctntStrmScrubbingCapability:"none",currPageElemStdName:"watch",currPageSecName:"conversionArea",msgTriggeredUsing:Object(Li.c)()});break;case e.playRecordingOnTv.id:Object(y.j)("OneApp_selectAction_watchOnTv",{ctntContentClass:"dvr",ctntContentFormat:(null===l||void 0===l?void 0:null===(ae=l.streamProperties)||void 0===ae?void 0:null===(se=ae.attributes)||void 0===se?void 0:se.indexOf("HIGH_DEF"))>=0?"HD":null!==(ce="SD")&&void 0!==ce?ce:"SD",ctntIdProviderAssetId:(null===l||void 0===l?void 0:null===(le=l.streamProperties)||void 0===le?void 0:le.providerAssetID)||(null===c||void 0===c?void 0:null===(ue=c.providerAssetIds)||void 0===ue?void 0:ue[0]),ctntIdTmsGuideId:null===l||void 0===l?void 0:null===(de=l.streamProperties)||void 0===de?void 0:de.tmsGuideServiceId,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===(pe=c.tmsProgramIds)||void 0===pe?void 0:pe[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntIdTmsSeriesId:null===c||void 0===c?void 0:c.tmsSeriesId,ctntStrmBkmrkPosSec:null!==(he=null===l||void 0===l?void 0:null===(ve=l.bookmark)||void 0===ve?void 0:ve.playMarkerSeconds)&&void 0!==he?he:0,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(fe=l.streamProperties)||void 0===fe?void 0:null===(me=fe.attributes)||void 0===me?void 0:me.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),ctntStrmEntitled:null===c||void 0===c?void 0:c.isEntitled,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(ge=l.streamProperties)||void 0===ge?void 0:ge.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(be=l.network)||void 0===be?void 0:be.callsign,ctntStrmPlbkType:"dvr",ctntStrmScrubbingCapability:"all",currPageElemStdName:"dvrWatch",currPageSecName:"conversionArea",msgTriggeredUsing:Object(Li.c)()});break;case e.cdvrPlayRecording.id:case e.cdvrResumeRecording.id:Object(y.j)(s.actionType===e.cdvrPlayRecording.id?"OneApp_selectAction_productPage_playButtonClicked":"OneApp_selectAction_productPage_playButtonClicked_resume",{ctntContentClass:"cdvr",ctntContentFormat:(null===l||void 0===l?void 0:null===(Se=l.streamProperties)||void 0===Se?void 0:null===(we=Se.attributes)||void 0===we?void 0:we.indexOf("HIGH_DEF"))>=0?"HD":null!==(ke="SD")&&void 0!==ke?ke:"SD",ctntIdTmsGuideId:null===l||void 0===l?void 0:null===(Ce=l.streamProperties)||void 0===Ce?void 0:Ce.tmsGuideServiceId,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===($e=c.tmsProgramIds)||void 0===$e?void 0:$e[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntIdTmsSeriesId:null===c||void 0===c?void 0:c.tmsSeriesId,ctntStrmBkmrkPosSec:null!==(Te=null===l||void 0===l?void 0:null===(Oe=l.bookmark)||void 0===Oe?void 0:Oe.playMarkerSeconds)&&void 0!==Te?Te:0,ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(Ee=l.streamProperties)||void 0===Ee?void 0:null===(Ae=Ee.attributes)||void 0===Ae?void 0:Ae.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),ctntStrmEntitled:null===c||void 0===c?void 0:c.isEntitled,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(Pe=l.streamProperties)||void 0===Pe?void 0:Pe.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(Ie=l.network)||void 0===Ie?void 0:Ie.callsign,ctntStrmPlbkType:"dvr",ctntStrmScrubbingCapability:"all",currPageSecName:"conversionArea",msgContext:"cdvr",msgTriggeredUsing:Object(Li.c)()});break;case e.scheduleSeriesRecording.id:var qe={context:"rdvr",featureStepName:"productPage",featureName:"rdvr",featureType:"rdvrRequestToRecord",featureCurrentStep:99,featureNumberOfSteps:100,operationType:"buttonClick",elementStandardizedName:e.editRecording.id===s.actionType?"rdvrEditRecording":"rdvrRecord",pageSectionName:"conversionArea",pageSubSectionName:"episodeConversionArea",asset:c,stream:l,action:s};switch(t.current.name){case"product.series.episodes":qe.navPagePrimaryName="episodes";break;case"product.series.info":qe.navPagePrimaryName="info"}i.selectAction(null,qe);break;case e.scheduleRecording.id:i.selectAction(null,{context:"rdvr",featureStepName:"productPage",featureName:"rdvr",featureType:"rdvrRequestToRecord",featureCurrentStep:99,featureNumberOfSteps:100,pageSectionName:"conversionArea",operationType:"buttonClick",elementStandardizedName:"rdvrRecord"});break;case e.cancelRecording.id:case e.editRecording.id:case e.editSeriesRecording.id:i.selectAction(null,{context:"rdvr",featureStepName:"productPage",featureName:"rdvr",featureType:"rdvrRequestToEdit",featureCurrentStep:99,featureNumberOfSteps:100,pageSectionName:"conversionArea",operationType:"buttonClick",elementStandardizedName:"rdvrEditRecording"});break;case e.deleteRecording.id:i.selectAction(null,{context:"rdvr",featureType:"rdvrRequestToDelete",featureName:"rdvr",featureStepName:"productPage",featureCurrentStep:99,featureNumberOfSteps:100,elementStandardizedName:"rdvrDeleteRecording",asset:c,stream:l,action:s});break;case e.otherWaysToWatch.id:i.selectAction(null,{elementStandardizedName:"moreWaysToWatch",pageSectionName:"episodeListArea",pageSubSectionName:"episodeConversionArea"});break;case e.rentOnDemand.id:var ze={context:"tvodFlow",featureType:"tvodPurchase",featureName:"tvod",purchaseStopSeen:!1,featureNumberOfSteps:100};c&&c.tvodStream&&c.tvodStream.streamProperties&&c.tvodStream.streamProperties.price&&(ze.price=""+c.tvodStream.streamProperties.price,ze.paymentAmountUsd=c.tvodStream.streamProperties.price),o.setTvodFlowState(ze),ct.a.quantum.restartFlow(),i.selectAction(null,{category:"navigation",context:"tvodFlow",elementUiName:e.rentOnDemand.label(c,s),pageSectionName:"conversionArea",elementStandardizedName:"rent",triggeredBy:"user",operationType:"buttonClick",featureStepName:"selectAction_rent",featureCurrentStep:1});break;case e.watchTrailerIP.id:Object(y.j)("OneApp_selectAction_productPageTrailer_playButtonClicked",iu({ctntContentClass:"trailer",ctntContentFormat:(null===l||void 0===l?void 0:null===(xe=l.streamProperties)||void 0===xe?void 0:null===(_e=xe.attributes)||void 0===_e?void 0:_e.indexOf("HIGH_DEF"))>=0?"HD":null!==(De="SD")&&void 0!==De?De:"SD",ctntIdProviderAssetId:null===l||void 0===l?void 0:null===(Re=l.streamProperties)||void 0===Re?void 0:Re.providerAssetID,ctntIdTmsProgramId:(null===c||void 0===c?void 0:null===(je=c.tmsProgramIds)||void 0===je?void 0:je[0])||(null===c||void 0===c?void 0:c.tmsProgramId),ctntStrmCCCapable:!!((null===l||void 0===l?void 0:null===(Ne=l.streamProperties)||void 0===Ne?void 0:null===(Me=Ne.attributes)||void 0===Me?void 0:Me.indexOf("CLOSED_CAPTIONING"))>=0),ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD),ctntStrmEntitled:He,ctntStrmParntllyBlocked:!!((null===l||void 0===l?void 0:null===(Ve=l.streamProperties)||void 0===Ve?void 0:Ve.parentallyBlockedByRating)||(null===c||void 0===c?void 0:c.isBlockedByParentalControls)),ctntStrmPgmrCallSign:null===l||void 0===l?void 0:null===(Le=l.network)||void 0===Le?void 0:Le.callsign,ctntStrmPlbkType:"vod",ctntStrmScrubbingCapability:"all",currPageSecName:"conversionArea",msgTriggeredUsing:Object(Li.c)()},Ge));break;default:r.debug("Analytics: handleProductAction - ignored: "+s.actionType)}}catch(e){r.error("Analytics:",e)}}}}e.$inject=["actionTypeMap","$state","analyticsService","$log","analyticsSelectAction"],e.$inject=["actionTypeMap","$state","analyticsService","$log","analyticsSelectAction"],angular.module("ovpApp.analytics.events.productAction",["ovpApp.product.productActionService","ovpApp.analytics.analyticsService"]).factory("analyticsProductAction",e).run(["analyticsProductAction",function(e){return e}])}(),function(){function e(e,t,n,r){var i=t.state;return{tvodPurchaseStart:function(){try{t.isDebug()&&n.debug("Analytics: tvodPurchaseStart");var e=i.getTvodFlowState();e.featureCurrentStep=2,e.featureStepName="purchaseStart";var r=angular.extend({},e);t.event("purchaseStart",r),delete e.featureStepName}catch(e){n.error("Analytics navigation:",e)}},tvodPurchaseStop:function(e,r){try{t.isDebug()&&n.debug("Analytics: tvodPurchaseStop",angular.copy(r),angular.copy(i.getTvodFlowState()));var o=i.getTvodFlowState();if(!o)return void(t.isDebug()&&n.debug("Analytics: tvodPurchaseStop - No TVOD flow to halt."));if(r.error){r.context="tvodFlow",r.success=!1,r.purchaseId=r.error&&r.error.headers?r.error.headers("x-trace-id"):void 0,r.triggeredBy="application",r.errorType="tvod";var a=r.error;a.data&&a.data.context&&a.data.context.detailedResponseCode&&(r.clientErrorCode=String(a.data.context.detailedResponseCode)),delete r.error}if(!0===o.purchaseStopSeen&&!0===r.ignoreIfPurchaseStopIsSeen)return void(t.isDebug()&&n.debug("Analytics: Discarding ignorable tvod event",o,r));o.purchaseStopSeen=!0,r.featureCurrentStep?o.featureCurrentStep=r.featureCurrentStep:o.featureCurrentStep=o.featureNumberOfSteps-1,r.purchaseId&&(o.purchaseId=r.purchaseId),i.setTvodFlowState(o);var s=angular.extend({},o);s.context=r.context||s.context,s.featureCurrentStep=r.featureCurrentStep||s.featureCurrentStep,s.featureStepName="purchaseStop",s.purchaseId=r.purchaseId||s.purchaseId,s.success=r.success,s.triggeredBy=r.triggeredBy,(r.error||r.clientErrorCode)&&(s.clientErrorCode=r.clientErrorCode,s.errorCode=r.errorCode,s.errorMessage=r.errorMessage,s.errorType="tvod"),r.asset&&(s.tmsProgramId=Ti(r.asset)),i.setLatestPurchase(s),t.event("purchaseStop",s),r.success||i.setTvodFlowState(null)}catch(e){n.error("Analytics navigation:",e)}},buyFlowPurchaseStart:function(e,r){try{t.isDebug()&&n.debug("Analytics: stream2PurchaseStart");var i={context:"stream2",currentStep:0,featureName:"stream2",featureStepName:"purchaseStart",featureType:"stream2BuyFlow",numberOfSteps:100,transactionId:r.transactionId};t.event("purchaseStart",i)}catch(e){n.error("Analytics navigation:",e)}},buyFlowPurchaseStop:function(e,r){try{t.isDebug()&&n.debug("Analytics: stream2PurchaseStop-"+r.triggeredBy);var i={context:"stream2",currentStep:0,featureName:"stream2",featureStepName:"purchaseStop",featureType:"stream2BuyFlow",numberOfSteps:100,transactionId:r.transactionId,paymentAmountUsd:r.summary?r.summary.totalPrice:"0.0"},o={};"appError"===r.triggeredBy?o=Object.assign({},i,{triggeredBy:"application",success:!1}):"appSuccess"===r.triggeredBy?o=Object.assign({},i,{triggeredBy:"application",success:!0}):"user"===r.triggeredBy&&(o=Object.assign({},i,{triggeredBy:"user",success:!1})),t.event("purchaseStop",o)}catch(e){n.error("Analytics navigation:",e)}}}}e.$inject=["$rootScope","analyticsService","$log","analyticsAssetHelper"],e.$inject=["$rootScope","analyticsService","$log","analyticsAssetHelper"],angular.module("ovpApp.analytics.events.purchase",["ovpApp.analytics.analyticsService","ovpApp.analytics.analyticsAssetHelper"]).factory("analyticsPurchase",e).run(["analyticsPurchase",function(e){return e}])}(),function(){function e(e,t,n,r,o,s){var c=e.state;function u(n,i){try{if(e.isDebug()&&t.debug("Analytics: selectAction",i),i.prepareForRefresh&&Object(y.a)(!1),i.triggeredBy=i.triggeredBy||"user","application"!==i.triggeredBy&&(i.triggeredUsing=e.getTriggeredUsing()),i.category=i.category||"navigation",i.operationType=i.operationType||"buttonClick",i.pageSectionName=i.pageSectionName||"conversionArea","favoriteToggle"===i.operationType&&(i.elementStandardizedName=i.toggleState?"favoriteAdd":"favoriteRemove",i.pageSectionName="guideArea"),i.cdvrSettings&&(i.cdvrSettings=r.convertAllValuesToStrings(i.cdvrSettings)),i.nonNormalizedElementStdName&&(i.elementStandardizedName=r.normalizeContentCategoryName(i.nonNormalizedElementStdName)),"tvodFlow"===i.context&&c.getTvodFlowState()){var o=c.getTvodFlowState();o.featureCurrentStep=i.featureCurrentStep,angular.extend(i,o)}else"cdvr"===i.context?(i.featureName=i.featureName||"cdvr",i.pageSectionName=i.pageSectionName||"conversionArea",i.operationType=i.operationType||"buttonClick",i.featureNumberOfSteps=i.featureNumberOfSteps||100,i.asset&&(i.recordingOptions=r.extractRecordingOptions(i.asset,i.cdvrSettings,i.stream))):"stream2"===i.context&&(i.category=i.category||"navigation",i.pageSectionName=i.pageSectionName||"conversionArea",i.operationType=i.operationType||"buttonClick",i.featureName=i.featureName||"stream2",i.featureNumberOfSteps=i.featureNumberOfSteps||6,i.featureType=i.featureType||"stream2BuyFlow",i.featurePreviousStep=c.getStream2BuyFlowPreviousStep(),c.setStream2BuyFlowPreviousStep(i.featureCurrentStep));"playButtonClicked"===i.operationType&&(r.populateChannelData(i,i.channel),r.populateAssetData(i,i.asset),i.stream?r.populateStreamData(i,i.stream):i.asset&&r.populateStreamData(i,i.asset.defaultStream),i.asset&&r.populateTvodData(i,i.asset)),delete i.asset,delete i.action,e.event("selectAction",i)}catch(e){t.error("Analytics selectAction:",e)}}function d(){return(d=a()(i.a.mark(function r(o,a){var c,l,d,p,h,v,f,m,g,b,S,w,k,C,$,T,O,E,A;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.isDebug()&&t.debug("Analytics: selectChannelCard",a),!(null===a||void 0===a?void 0:null===(c=a.channel)||void 0===c?void 0:null===(l=c.clickRoute)||void 0===l?void 0:null===(d=l[1])||void 0===d?void 0:d.tmsid)){r.next=9;break}return p=String(a.channel.clickRoute[1].tmsid),v={tmsId:String(a.channel.clickRoute[1].tmsid)},r.next=7,s.now(v);case 7:f=r.sent,h=f;case 9:"search"===Object(y.f)()||"searchResults"===Object(y.f)()?u(0,{playbackType:"linear",elementStandardizedName:"watch",operationType:"playButtonClicked",pageSectionName:"searchResultsArea",drmType:a.drmType,tmsProgramId:null===(m=h)||void 0===m?void 0:null===(g=m.tmsProgramIds)||void 0===g?void 0:g[0],tmsGuideId:p}):"ovp.mylibrary.default"===n.current.name?((k=a.channel.clickRoute)&&k[1]&&k[1].tmsid&&(w=""+a.channel.clickRoute[1].tmsid),C="favoriteChannel"===a.channel.customerInfoContext?"favoriteNetworks":"recentNetworks",$=a.elementNumberOfItems,T=a.pageSubSectionIndex,O=a.pageSubSectionNumberOfItems,u(0,{playbackType:"linear",elementStandardizedName:"watch",operationType:"playButtonClicked",pageSectionName:"contentArea",pageSubSectionName:C,elementNumberOfItems:$,pageSubSectionIndex:T,pageSubSectionNumberOfItems:O,elementIndex:a.elementIndex,drmType:a.drmType,tmsProgramId:null===(b=h)||void 0===b?void 0:null===(S=b.tmsProgramIds)||void 0===S?void 0:S[0],tmsGuideId:w})):u(0,{operationType:"networkSelection",pageSectionName:"networkArea",navPagePrimaryName:"curatedCollections",navPageSecondaryName:"curatedNetworks",tmsProgramId:null===(E=h)||void 0===E?void 0:null===(A=E.tmsProgramIds)||void 0===A?void 0:A[0],tmsGuideId:p}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),t.error("Analytics: ",r.t0);case 15:case"end":return r.stop()}},r,null,[[0,12]])}))).apply(this,arguments)}return{clearSwimlaneItem:function(r,i){try{e.isDebug()&&t.debug("Analytics: clearSwimlaneItem",i);var o={};n.current.name.indexOf("mylibrary")>-1?(o.elementStandardizedName="clear",o.pageSubSectionName=i.pageSubSectionName):(o.operationType=i.operationType,o.elementStandardizedName=i.elementStandardizedName),u(0,o)}catch(e){t.error("Analytics clearSwimlaneItem:",e)}},goToDesktopVersionClicked:function(){try{e.isDebug()&&t.debug("Analytics: goToDesktopVersionClicked"),Object(y.a)(!1),u(0,{elementStandardizedName:"goToDesktopVersion"})}catch(e){t.error("Analytics navigation:",e)}},guideUpdateFilters:function(n,r){try{e.isDebug()&&t.debug("Analytics: guideUpdateFilters",r);var i="playerLiveTv"===Object(y.f)(),o=i?c.getCurrentMiniGuideFilter():c.getCurrentGuideFilter(),a=r.filter?r.filter.label||r.filter.name:null;if(o===a)return;delete r.filter,i?c.setCurrentMiniGuideFilter(a):c.setCurrentGuideFilter(a),r.operationType="filterApplied",r.elementStandardizedName="filterChannels",r.pageSectionName="guideOptionsSelectArea",r.appliedFilters=null===a?[]:[a],"user"===r.triggeredBy&&(r.triggeredUsing=e.getTriggeredUsing()),u(0,r)}catch(e){t.error("Analytics guideUpdateFilters:",e)}},guideUpdateSort:function(n,r){try{e.isDebug()&&t.debug("Analytics: guideUpdateSort",r),r.operationType="sortApplied",r.pageSectionName="guideOptionsSelectArea",r.appliedSorts=[],r.sort&&r.sort.name&&(r.appliedSorts=[r.sort.name],r.elementStandardizedName="networkAToZ"===r.sort.id?"sortByAlphabetical":"sortByNumber"),"user"===r.triggeredBy&&(r.triggeredUsing=e.getTriggeredUsing()),delete r.sort,u(0,r)}catch(e){t.error("Analytics guideUpdateFilters:",e)}},miniPlayerTooltipDismiss:function(n,r){try{e.isDebug()&&t.debug("Analytics: miniPlayerTooltipDismiss",r),u(0,{category:"navigation",elementStandardizedName:"close",modalName:"contVideoToolTip",modalType:"options"})}catch(e){t.error("Error: ",e)}},miniPlayerTooltipGoToSettings:function(n,r){try{e.isDebug()&&t.debug("Analytics: miniPlayerTooltipGoToSettings",r),u(0,{category:"navigation",elementStandardizedName:"linkToSettings",modalName:"contVideoToolTip",modalType:"options"})}catch(e){t.error("Error: ",e)}},rdvrPrioritization:function(n,r){try{e.isDebug()&&t.debug("Analytics: rdvrPrioritization",n,r),u(0,{elementStandardizedName:"changePriority",operationType:"Analytics:rdvr-higher-priority"===n.name?"increasePriority":"decreasePriority"})}catch(e){t.error("Analytics rdvrPrioritization:",e)}},sapToggle:function(n,r){try{e.isDebug()&&t.debug("Analytics: sapToggle",r),u(0,{operationType:"sapToggle",toggleState:r.toggleState,elementStandardizedName:"sapToggle",pageSectionName:function(){var e=Object(y.f)();return"playerLiveTv"===e||"liveTvMiniGuide"===e?"liveTvArea":"playerOnDemand"===e?"onDemandArea":"settingsSelectArea"}()})}catch(e){t.error("Analytics: ",e)}},selectAction:u,selectActionRdvrCancel:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectActionRdvrCancel",r);var i={context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureNumberOfSteps:100,featureStepName:"productPage",source:"navigation:1437",featureType:"rdvrRequestToCancel",elementStandardizedName:"rdvrCancelRecording",modalName:"rdvrConfirmCancellation",modalType:"options"};"dvrScheduled"===Object(y.f)()&&(i.featureStepName="dvrScheduled"),u(0,i)}catch(e){t.error("Analytics: ",e)}},selectActionRdvrConfirm:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectActionRdvrConfirm",r),u(0,{context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureNumberOfSteps:100,featureType:"rdvrRequestToRecord",elementStandardizedName:"confirm",modalName:"rdvrConfirmRecord",modalType:"options"})}catch(e){t.error("Analytics: ",e)}},selectBannerOoh:function(e){u(0,{elementStandardizedName:"outOfHomeBanner"})},selectChannel:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectChannel",r);var i={operationType:"playButtonClicked",asset:Object(b.c)(r,"channel.asset"),triggeredBy:r.triggeredBy,playbackType:"linear",scrubbingCapability:"none",pageSectionName:"conversionArea",tmsGuideId:Object(b.c)(r,"channel.tmsGuideId"),drmType:r.drmType,elementStandardizedName:"watch"};l.a.getSelectorValue(ge.h)&&r.channel&&!1===r.channel.availableOutOfHome&&(i.elementStandardizedName="outOfHomeUnavailableContent"),"liveTvMiniGuide"===r.selectedFrom&&(i.pageSectionName="guideArea"),u(0,i)}catch(e){t.error("Analytics: ",e)}},selectChannelCard:function(e,t){return d.apply(this,arguments)},selectDownloadApp:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectDownloadApp",r),u(0,{category:"navigation",elementStandardizedName:"downloadStvaApp"})}catch(e){t.error("Error: ",e)}},selectHeroBannerAsset:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectHeroBannerAsset",r);var i=r.elementIndex,o=r.pageSubSectionName,a=r.elementNumberOfItems,s=r.pageSubSectionIndex,c=r.pageSubSectionNumberOfItems,l={elementStandardizedName:r.elementStandardizedName,pageSectionName:"contentArea",pageSubSectionName:o,elementIndex:i,elementNumberOfItems:a,pageSubSectionIndex:s,pageSubSectionNumberOfItems:c,playbackType:"vod",tmsProgramId:r.asset.tmsProgramIds[0],drmType:r.drmType,operationType:"playButtonClicked"};r.asset.providerAssetIds&&r.asset.providerAssetIds.length>0&&(l.providerAssetId=r.asset.providerAssetIds[0]),r.asset.tmsSeriesId&&(l.tmsSeriesId=r.asset.tmsSeriesId.toString()),u(0,l)}catch(e){t.error("Error: ",e)}},selectPipClose:function(){try{e.isDebug()&&t.debug("Analytics: selectPipClose",c.getSelectedContent()),u(0,{pageSectionName:"miniPlayer",elementStandardizedName:"disablePip"})}catch(e){t.error("Error: ",e)}},selectStream2SignUpConfirm:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectStream2SignUpConfirm",r),u(0,{category:"navigation",context:"stream2",featureCurrentStep:0,currentPageName:"stream2"+r.sectionName+r.actionName,elementStandardizedName:"continue",featureName:"stream2",featureType:"stream2BuyFlow",numberOfSteps:100,triggeredBy:"user",operationType:"buttonClick",pageSectionName:"conversionArea"})}catch(e){t.error("Error: ",e)}},selectBuyFlowAction:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectBuyFlowAction",r);var i={category:"navigation",context:"stream2",featureCurrentStep:0,elementStandardizedName:r.actionName,featureName:"stream2",featureType:"stream2BuyFlow",numberOfSteps:100,triggeredBy:"user",operationType:"buttonClick",pageSectionName:"conversionArea"},o={};if(r.summary){var a="stream2AddOnsDeleted",s="";s=r.summary.baseOffer.name,r.summary.extraOfferCount>0&&(a="stream2AddOnsSelected",r.summary.extraOffers.forEach(function(e){s=s+", "+e.name})),r.summary.premiumOfferCount>0&&(a="stream2AddOnsSelected",r.summary.premiumOffers.forEach(function(e){s=s+", "+e.name})),o=Object.assign({},i,{userPreferenceCategory:a,userPreferencesSelections:s})}else o=i;u(0,o)}catch(e){t.error("Error: ",e)}},selectToggleCcSettings:function(n){try{e.isDebug()&&t.debug("Analytics: selectToggleCcSettings",n),u(0,{pageSectionName:"linear"===c.selectedContent.type?"liveTvArea":"onDemandArea",elementStandardizedName:"closedCaptionSettings"})}catch(e){t.error("Error: ",e)}},selectToggleFullScreen:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectToggleFullScreen",r),u(0,{pageSectionName:"linear"===c.selectedContent.type?"liveTvArea":"onDemandArea",elementStandardizedName:r.isFullscreen?"maximize":"minimize",operationType:"buttonClick"})}catch(e){t.error("Error: ",e)}},selectToggleInfoPanel:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectToggleInfoPanel",r),u(0,{pageSectionName:r.isLive?"liveTvArea":"onDemandArea",elementStandardizedName:r.isLive?"liveTvInfo":"onDemandTvInfo"})}catch(e){t.error("Error: ",e)}},selectToggleMute:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectToggleMute"),u(0,{pageSectionName:"linear"===c.selectedContent.type?"liveTvArea":"onDemandArea",elementType:"volumeControl",operationType:"soundToggle",elementStandardizedName:"soundToggle",elementIntValue:r.muted?0:1})}catch(e){t.error("Error: ",e)}},selectTogglePause:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectTogglePause"),u(0,{pageSectionName:"miniPlayer",elementStandardizedName:r.paused?"pause":"unpause",elementIntValue:r.paused?0:1})}catch(e){t.error("Error: ",e)}},selectReturnFromMiniPlayer:function(){try{e.isDebug()&&t.debug("Analytics: selectReturnFromMiniPlayer"),u(0,{pageSectionName:"miniPlayer",elementStandardizedName:"enableStandardVideo"}),o.playbackStopped()}catch(e){t.error("Error: ",e)}},selectGlobalMenuSignout:function(n,r){try{e.isDebug()&&t.debug("Analytics: globalMenuSignOut",r),u(0,{elementStandardizedName:"signOut",modalName:"globalMenu",modalType:"options",operationType:"navigationClick"})}catch(e){t.error("Error: ",e)}},selectGlobalMenuWatchTv:function(n,r){try{e.isDebug()&&t.debug("Analytics: globalMenuWatchTv",r),u(0,{elementStandardizedName:"watchTv",modalName:"globalMenu",modalType:"options",operationType:"navigationClick"})}catch(e){t.error("Error: ",e)}},selectGlobalMenuGetSupport:function(n,r){try{e.isDebug()&&t.debug("Analytics: globalMenuGetSupport",r),u(0,{elementStandardizedName:"getSupport",modalName:"globalMenu",modalType:"options",operationType:"navigationClick"}),e.flush()}catch(e){t.error("Error: ",e)}},selectGlobalMenuManageAccount:function(n,r){try{e.isDebug()&&t.debug("Analytics: globalMenuManageAccount",r),u(0,{elementStandardizedName:"manageAccount",modalName:"globalMenu",modalType:"options",operationType:"navigationClick"}),e.flush()}catch(e){t.error("Error: ",e)}},selectNavigationClickSignOut:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectSignOut",r),u(0,{category:"navigation",elementStandardizedName:"signOut",operationType:"navigationClick"})}catch(e){t.error("Error: ",e)}},selectNavigationClickGlobalMenu:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectGlobalMenu",r),u(0,{category:"navigation",elementStandardizedName:"globalMenu",operationType:"navigationClick"})}catch(e){t.error("Error: ",e)}},selectNavigationClickSupport:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectActionNavigationClickSupport",r),u(0,{category:"navigation",elementStandardizedName:"support",operationType:"navigationClick"}),e.flush()}catch(e){t.error("Error: ",e)}},trustedAuthActivateDevice:function(n,r){try{e.isDebug()&&t.debug("Analytics: trustedAuthActivateDevice",r),u(0,{elementStandardizedName:"activateDevice"}),e.flush()}catch(e){t.error("Error: ",e)}},trustedAuthRetryActivation:function(n,r){try{e.isDebug()&&t.debug("Analytics: trustedAuthRetryActivation",r),u(0,{elementStandardizedName:"activateDeviceRetry"})}catch(e){t.error("Error: ",e)}},viewAllClick:function(n,r){e.isDebug()&&t.debug("Analytics: viewAllClick",r);var i={elementStandardizedName:"viewAll",pageSectionName:"contentArea"};r&&r.pageSubSectionName&&(i.pageSubSectionName=r.pageSubSectionName[0].toLowerCase()+r.pageSubSectionName.substring(1).replace(/ /g,"")),u(0,i)},selectCDVRGetMoreInfo:function(){try{e.isDebug()&&t.debug("Analytics: selectCDVRGetMoreInfo"),u(0,{elementStandardizedName:"moreInfo",pageSectionName:"contentArea",context:"cdvr"})}catch(e){t.error("Analytics selectCDVRGetMoreInfo:",e)}},selectCDVRBackToRecordings:function(){try{e.isDebug()&&t.debug("Analytics: selectCDVRGetMoreInfo"),u(0,{elementStandardizedName:"toRecordings",context:"cdvr"})}catch(e){t.error("Analytics selectCDVRGetMoreInfo:",e)}},selectPlayerAutoPlayOverlay:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e.isDebug()&&t.debug("Analytics: OneApp_selectAction_play_overlay_play",{e:n,data:r});var i=l.a.getSelectorValue(vc.b),o=l.a.getSelectorValue(vc.c),a={elementStandardizedName:"play",modalName:"playOverlay",modalType:"options",playbackType:o=o?o.toLowerCase():null,tmsProgramId:Object(b.c)(i,["tmsProgramIds",0]),drmType:r.drmType,operationType:"playButtonClicked"};Object(b.c)(i,"providerAssetIds.length",0)&&(a.providerAssetId=Object(b.c)(i,["providerAssetIds",0])),u(0,a)}catch(e){t.error("Analytics selectCDVRGetMoreInfo:",e)}},selectPromoAddToWatchlist:function(){try{e.isDebug()&&t.debug("Analytics: selectPromoAddToWatchlist"),u(0,{context:"promos",category:"navigation",triggeredBy:"user",triggeredUsing:e.getTriggeredUsing(),operationType:"buttonClick",elementStandardizedName:"watchListAdd",modalName:"originalsPromo"}),e.state.setImpressionState(au(au({},e.state.getImpressionState()),{},{impressionInteraction:"selected"}))}catch(e){t.error("Analytics selectPromoAddToWatchlist:",e)}},selectPromoRemoveFromWatchlist:function(){try{e.isDebug()&&t.debug("Analytics: selectPromoRemoveFromWatchlist"),u(0,{context:"promos",category:"navigation",triggeredBy:"user",triggeredUsing:e.getTriggeredUsing(),operationType:"buttonClick",elementStandardizedName:"watchListRemove",modalName:"originalsPromo"}),e.state.setImpressionState(au(au({},e.state.getImpressionState()),{},{impressionInteraction:"selected"}))}catch(e){t.error("Analytics selectPromoRemoveFromWatchlist:",e)}}}}e.$inject=["analyticsService","$log","$state","analyticsAssetHelper","analyticsPlayback","whatsOn"],e.$inject=["analyticsService","$log","$state","analyticsAssetHelper","analyticsPlayback","whatsOn"],angular.module("ovpApp.analytics.events.selectAction",["ovpApp.analytics.analyticsService","ovpApp.analytics.analyticsAssetHelper","ovpApp.player.whatsOn","ovpApp.analytics.events.playback"]).factory("analyticsSelectAction",e).run(["analyticsSelectAction",function(e){return e}])}(),function(){function e(e,t,n,r,i,o){function a(a,s){try{var c,u;e.isDebug()&&t.debug("Analytics: selectContent",s);var d=angular.extend({},s);d.category=s.category||"navigation",d.triggeredBy=s.triggeredBy||"user",d.triggeredUsing=e.getTriggeredUsing(),s.pageSubSectionName?d.pageSubSectionName=s.pageSubSectionName:"ovp.guide"===i.current.name&&(d.pageSubSectionName="programCell"),s.mylibCatName?d.pageSubSectionName=n.toLowerCamelCase(s.mylibCatName):d.pageSubSectionName&&(d.pageSubSectionName=n.toLowerCamelCase(d.pageSubSectionName)),d.pageSectionName=s.pageSectionName||"contentArea","ovp.guide"===i.current.name&&(d.pageSectionName="guideArea"),d.elementType=s.elementType||"link","ovp.guide"===i.current.name&&(d.elementType="cell"),(i.current.name.startsWith("ovp.store")||i.current.name.startsWith("ovp.ondemand"))&&(d.navPagePrimaryName="curatedCollections"),i.current.name.startsWith("ovp.store")&&(d.elementStandardizedName="videoStore"),i.current.name.startsWith("search.")&&s.asset&&s.asset.resultDisplay&&(d.category="search",d.operationType="searchResultSelected",d.selectedResultName=s.asset.title,d.queryId=s.asset.dsQueryId,d.elementIndex=s.asset.searchResultIndex,d.selectedResultFacet=o[i.current.name]||s.asset.resultDisplay.toLowerCase()),"curatedCollections"!==d.navPagePrimaryName||d.navPageSecondaryName||(d.navPageSecondaryName=Object(y.f)()),d.tmsProgramId=Ti(s.asset),d.tmsSeriesId=Ai(s.asset),d.providerAssetId=n.getProviderAssetId(s.asset),d.tmsGuideId=Ei(s.channel)||Ei(s.asset),d.streamStartTimestamp=n.getAirtime(s.asset),d.expirationDate=n.getExpirationDateAsLong(s.asset),d.operationType=s.operationType||"assetSelection",(s.asset.vodTmsSeriesId||s.asset.tmsSeriesId)&&(d.operationType="episodeSelection"),i.current.name.startsWith("search.")&&(d.operationType="searchResultSelected"),l.a.getSelectorValue(le.e)?l.a.getSelectorValue(ge.g)&&l.a.getSelectorValue(ge.h)&&(s.channel&&!1===s.channel.availableOutOfHome?d.operationType="unavailableContentSelected":s.asset&&!1===s.asset.availableOutOfHome&&(d.operationType="unavailableContentSelected")):r.getLocationData()&&l.a.getSelectorValue(ge.h)&&(s.channel&&!1===s.channel.availableOutOfHome?d.operationType="unavailableContentSelected":s.asset&&!1===s.asset.availableOutOfHome&&(d.operationType="unavailableContentSelected")),d.elementUiName=null!==(c=null===d||void 0===d?void 0:null===(u=d.asset)||void 0===u?void 0:u.title)&&void 0!==c?c:"unknown",delete d.isBlockedByRating,delete d.asset,delete d.channel,n.pruneUndefinedValues(d),e.event("selectContent",d)}catch(e){t.error("Error",e)}}return{selectContent:a,selectEpisode:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectEpisode",r),a(0,angular.extend(r,{pageSectionName:"episodeListArea",pageSubSectionName:"episodeConversionArea"}))}catch(e){t.error("Error",e)}},selectCDVRSeriesRecording:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectEpisode",r);var i={context:"cdvr",operationType:"episodeSelection",contentClass:"cdvr",playbackType:"dvr",elementStandardizedName:r.playbackState,pageSectionName:"contentArea"};a(0,angular.extend(r,i))}catch(e){t.error("Error",e)}},selectPromo:function(n,r){try{e.isDebug()&&t.debug("Analytics: selectPromo",r);var i=r.tmsProgramId,o=r.providerAssetId,a={context:"promo",category:"navigation",operationType:"promotionSelection",modalName:r.name,triggeredBy:"user",elementIndex:0,tmsProgramId:i,providerAssetId:o};e.event("selectContent",a)}catch(e){t.error("Error",e)}}}}e.$inject=["analyticsService","$log","analyticsAssetHelper","analyticsUserConfigSet","$state","analyticsFacetByState"],e.$inject=["analyticsService","$log","analyticsAssetHelper","analyticsUserConfigSet","$state","analyticsFacetByState"],angular.module("ovpApp.analytics.events.selectContent",["ovpApp.analytics.analyticsService","ovpApp.analytics.events.userConfigSet","ovpApp.legacy.stringUtil","ovpApp.analytics.analyticsAssetHelper"]).constant("analyticsFacetByState",{"search.sports":"sports","search.team":"team","search.person":"person"}).factory("analyticsSelectContent",e).run(["analyticsSelectContent",function(e){return e}])}(),function(){function e(e,t,n){function r(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}return{chromecastSessionStartFailed:function(t,i){var o=i.errorCode,a=void 0===o?"WFE-1101":o,s=i.errorMessage,c=void 0===s?"Session start failed":s;try{e.isDebug()&&n.debug("Analytics: chromecastConnectionChanged");var l={switchScreenDirection:"toChromecast",switchScreenId:r(12),success:!1,appErrorMessage:c,appErrorCode:a};Object(y.j)("OneApp_switchScreen_failure",l)}catch(e){n.error("Error:",e)}},chromecastConnectionChanged:function(i,o){try{if(e.isDebug()&&n.debug("Analytics: chromecastConnectionChanged",o),o.connected&&t.playbackStopped(),!o.connected){var a={switchScreenDirection:o.switchScreenDirection||"toClient",triggeredBy:o.triggeredBy||"user",category:o.category||"navigation",switchScreenId:r(12),linkedDeviceId:o.receiverVisitId,success:o.success||!0};e.event("switchScreen",a)}}catch(e){n.error("Error:",e)}},chromecastCustomInfoReceived:function(t,i){try{if(e.isDebug()&&n.debug("Analytics: chromecastCustomInfoReceived",i),!i.connected){var o={switchScreenDirection:i.switchScreenDirection||"toChromecast",triggeredBy:i.triggeredBy||"user",category:i.category||"navigation",switchScreenId:r(12),linkedDeviceId:i.visitId,success:i.success||!0};e.setChromecastReceiverVisitId(i.visitId),e.event("switchScreen",o)}}catch(e){n.error("Error:",e)}},switchScreen:function(t,r){try{e.isDebug()&&n.debug("Analytics: switchScreen",r),r.switchScreenDirection=r.switchScreenDirection||"toTv",r.triggeredBy=r.triggeredBy||"user",r.category=r.category||"navigation",r.switchScreenId=r.switchScreenId||"unknown",r.success=r.success||!0,(r.error||r.errorCode)&&(r.success=!1,r.errorType="switchScreen",angular.isDefined(r.errorCode)||(r.errorCode="dvr"===e.state.getLastPlaybackType()?"WCM-1603":"WCM-1001"),r.error&&r.error.status&&(r.clientErrorCode=String(r.error.status)),delete r.error),e.event("switchScreen",r)}catch(e){n.error("Error:",e)}}}}e.$inject=["analyticsService","analyticsPlayback","$log"],e.$inject=["analyticsService","analyticsPlayback","$log"],angular.module("ovpApp.analytics.events.switchScreen",["ovpApp.analytics.analyticsService","ovpApp.analytics.events.playback"]).factory("analyticsSwitchScreen",e).run(["analyticsSwitchScreen",function(e){return e}])}();var su=n("LHwt"),cu=n("Bai8"),lu=n("xYk6"),uu=n("zPQq");!function(){function e(e,t,n,r,o){var s=null,c=!1,d=!1,p=!1,h=[];function v(){try{var e=l.a.getSelectorValue(ie.a);if(!e||h.length>0)return;for(var t=0,n=Object.entries(e);t<n.length;t++){var i=Oe()(n[t],2),o=i[0];!0===i[1].authorized&&h.push(o)}Object(b.c)(e,"watchlive.authorized")||(l.a.getSelectorValue(u.Sf)&&(d=!0),l.a.getSelectorValue(u.Tf)&&(p=!0))}catch(e){r.error("Error",e)}}function f(){l.a.getSelectorValue(le.e)||Object(y.c)().then(a()(i.a.mark(function t(){var n,o,a,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(uu.a)(),o=Object(su.a)(),a=Object(lu.a)(),s=Object(cu.a)(),v(),e.isDebug()&&r.debug("Analytics: updateUserConfigIfNeeded",{userConfigSetCalled:c,timeZone:a,entitlements:s,accountFeatures:o,videoZone:n,waitingForPromoType:d,waitingForBuyflowOfferBooleans:p}),!(o&&n&&a&&s&&!1===c)||d||p){t.next=11;break}return t.next=9,Object(y.h)();case 9:Object(y.j)("generic_video_userConfigSet"),c=!0;case 11:case"end":return t.stop()}},t)})))}return{getLocationData:function(){return s},locationRetrieved:function(t,n){try{if(e.isDebug()&&r.debug("Analytics: locationRetrieved",n),l.a.getSelectorValue(le.e))return;var i=Object(b.c)(s,["behindOwnModem"])||Object(b.c)(s,["inHome"]);null!==s&&i===l.a.getSelectorValue(ge.d)||(c&&Object(y.c)(),s=n,f())}catch(e){r.error("Analytics: locationRetrieved error",e)}},receiveProfileData:function(){l.a.getSelectorValue(le.e)||f()},sessionLineup:function(e,t){l.a.getSelectorValue(le.e)||f()},receivedBuyFlowOfferFlags:function(e){p=!1,f()},streamPlusEligibility:function(e,t){l.a.getSelectorValue(le.e)||(d=!1,f())},updateUserConfigIfNeeded:f}}e.$inject=["analyticsService","capabilitiesService","$q","$log","CAPABILITIES"],e.$inject=["analyticsService","capabilitiesService","$q","$log","CAPABILITIES"],angular.module("ovpApp.analytics.events.userConfigSet",["ovpApp.analytics.analyticsService","ovpApp.oauth"]).factory("analyticsUserConfigSet",e).run(["analyticsUserConfigSet",function(e){return e}])}(),function(){function e(e,t,n){function r(r,i,o,a,s){try{e.isDebug()&&t.debug("Analytics: rdvrRequestToRecord",i,o,a,s);var c={success:!s||!s.error,context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureStepName:"requestToRecord",featureNumberOfSteps:100,featureType:"rdvrRequestToRecord",recordingOptions:n.extractRecordingOptions(i)};s&&(c.errorType="rdvr",c.errorCode=String(s.errorCode),c.errorMessage=s.errorMessage,c.clientErrorCode=s.clientErrorCode),o&&"scheduleRecording"===o.actionType?c.recordingOptions.recordingScheduleType=lt.j.SINGLE:o&&"scheduleSeriesRecording"===o.actionType&&(c.recordingOptions.recordingScheduleType=lt.j.SERIES),a&&(c.recordingOptions=angular.extend(c.recordingOptions,n.convertAllValuesToStrings(a))),e.event("requestToRecord",c)}catch(e){t.error("Analytics:",e)}}function i(r,i,o,a,s){try{e.isDebug()&&t.debug("Analytics: rdvrRequestToCancel",i,o,a,s);var c={success:!s,context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureStepName:"requestToCancelRecording",featureNumberOfSteps:100,featureType:"rdvrRequestToCancel",recordingOptions:n.extractRecordingOptions(i)};o&&"rdvrConfirmCancellation"===o.actionType?c.recordingOptions.recordingScheduleType=lt.j.SINGLE:o&&"rdvrCancelSeriesRecording"===o.actionType&&(c.recordingOptions.recordingScheduleType=lt.j.SERIES),s&&(c.errorType="rdvr",c.errorCode=String(s.errorCode),c.errorMessage=s.errorMessage),e.event("requestToCancelRecording",c)}catch(e){t.error("Analytics:",e)}}return{handleUpdateDvr:function(o,a,s,c,l){try{if(e.isDebug()&&t.debug("Analytics: handleUpdateDvr",{evt:o,schedule:a,asset:s,action:c,outcome:l}),!c)return void(e.isDebug()&&t.warn("Analytics: ignoring update-dvr event without an action",{evt:o,schedule:a,asset:s,action:c,outcome:l}));var u=c.actionType;switch(t.debug("Analytics: update-dvr: actionName="+u),c.actionType){case"editRecording":"update-schedule"===l?function(r,i,o,a,s){try{e.isDebug()&&t.debug("Analytics: rdvrRequestToEdit",i,o,a,s);var c={success:!s||!s.error,context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureStepName:"rdvrRequestToEdit",featureNumberOfSteps:100,featureType:"rdvrRequestToEdit",recordingOptions:n.extractRecordingOptions(i)};s&&(c.errorType="rdvr",c.errorCode=String(s.errorCode),c.errorMessage=s.errorMessage,c.clientErrorCode=s.clientErrorCode),o&&"scheduleRecording"===o.actionType?c.recordingOptions.recordingScheduleType=lt.j.SINGLE:o&&"scheduleSeriesRecording"===o.actionType&&(c.recordingOptions.recordingScheduleType=lt.j.SERIES),a&&(c.recordingOptions=angular.extend(c.recordingOptions,n.convertAllValuesToStrings(a))),e.event("rdvrRequestToEdit",c)}catch(e){t.error("Analytics:",e)}}(0,s,c):"confirmed"===l&&r(0,s,c);break;case"scheduleRecording":case"scheduleSeriesRecording":r(0,s,c);break;case"cancelRecording":case"cancelSeriesRecording":i(0,s,c,a,l)}}catch(e){t.error("Analytics:",e)}},rdvrRequestToRecord:r,rdvrRequestToDelete:function(r,i,o,a){try{e.isDebug()&&t.debug("Analytics: rdvrRequestToDelete: asset, action, errorData",i,o,a);var s={success:!a,context:"rdvr",featureName:"rdvr",featureCurrentStep:99,featureNumberOfSteps:100,featureStepName:"requestToDeleteRecording",featureType:"rdvrRequestToDelete",recordingOptions:n.extractRecordingOptions(i)};a&&(s.errorType="rdvr",s.errorCode=String(a.errorCode),s.errorMessage=a.errorMessage,s.clientErrorCode=a.clientErrorCode),e.event("requestToDeleteRecording",s)}catch(e){t.error("Analytics:",e)}},rdvrRequestToCancel:i}}e.$inject=["analyticsService","$log","analyticsAssetHelper"],e.$inject=["analyticsService","$log","analyticsAssetHelper"],angular.module("ovpApp.analytics.events.dvr",["ovpApp.analytics.analyticsService"]).factory("analyticsDvr",e).run(["analyticsDvr",function(e){return e}])}();var du=n("7/JK");!function(){function e(e,t){var n,r=[],i=new e,o=l.a.getSelectorValue(w.d)||"true"===Object(T.f)().get("analyticsDebug")||!1;return{event:s,setPlayerPosition:function(e){return i.setElapsedMs(e)},state:i,flush:function(){return Object(y.c)()},getTriggeredUsing:function(){return"focus-outline-none"===t.focusClass?"mouse":"keyboard"},isDebug:function(){return Object(y.l)()},isEnabled:a,setChromecastReceiverVisitId:function(e){n=e},getChromecastReceiverVisitId:function(){return n},setPlayerTestFields:function(e){ct.a.quantum.setPlayerTestFields(e)}};function a(){return Object(y.m)()}function s(e,t,n,i){l.a.getSelectorValue(w.i)?(r.length>0&&(r.forEach(function(e){c(e.name,e.data,e.deferredEvent,e.extraData)}),r=[]),c(e,t)):r.push({name:e,data:t,deferredEvent:n,extraData:i})}function c(e,t,n,r){try{var c,d=null;if(a())try{if(!Object(du.b)(e,t))return;o&&(!function(e){var t=l.a.getSelectorValue(u.M);if(Object(b.c)(t,"analytics.debugIgnored",[]).includes(e))return!0;return!1}(e)||t&&!1===t.success)&&console.log("Analytics: processing event: "+e,t),i.setPreviousEventName(e),o&&(d=Object(y.i)()),ct.a.quantum[e](t,r||{}),n&&(c=i.getDeferredEvent(n))&&s(c.name,c.data,void 0,{})}catch(e){console.error("Error: ",e)}if(o){var p=Object(y.i)();p!==d&&(console.log("Analytics: Quantum State: "+d+" -> "+p+", event:"+e),"DISABLED"===p&&console.error("Quantum disabled!"))}return}catch(e){console.error("Error: ",e)}}}e.$inject=["AnalyticsState","$rootScope"],e.$inject=["AnalyticsState","$rootScope"],angular.module("ovpApp.analytics.analyticsService",["ovpApp.analytics.state"]).factory("analyticsService",e)}(),function(){angular.module("ovpApp.analytics.state",[]).factory("AnalyticsState",function(){return function(){function e(){we()(this,e),this.playerState="",this.previousEventName=null,this.contentElapsedMs=0,this.playbackBufferingStart=0,this.previousBitrate=0,this.previousContentElapsedMs=0,this.adBreakNumber=0,this.adBreakDurationMs=0,this.adPlaying=!1,this.adData={},this.adTimer=null,this.adElapsedMs=0,this.bufferingEventsOmitted=!1,this.bufferingEventsOmittedBy=null,this.playbackBufferingTimer=null,this.playbackBufferingElapsedMs=0,this.serviceCallStart=0,this.currentBitrate=0,this.currentLocation=null,this.previousLocation=null,this.purchaseId=null,this.purchaseDetails=null,this.deferredQueue=[],this.activeControllerStates=[],this.lastSelectEvent=null,this.lastStreamUriEvent=null,this.lastPlaybackStartedEvent=null,this.lastPlaybackType=null,this.selectedContent=null,this.actualRuntimeMs=0,this.pinEntryContext=null,this.latestPurchase=null,this.tvodFlowState=null,this.stream2BuyFlowPreviousStep=null,this.player=null,this.expectedStream=null,this.currentGuideFilter=null,this.currentMiniGuideFilter=null,this.deviceId=null,this.impressionState=null}return Ce()(e,[{key:"getActualRuntimeMs",value:function(){return this.actualRuntimeMs}},{key:"setActualRuntimeMs",value:function(e){this.actualRuntimeMs=e}},{key:"getLastSelectEvent",value:function(){return this.lastSelectEvent}},{key:"getLastPlaybackType",value:function(){return this.lastPlaybackType}},{key:"resetContent",value:function(){this.lastSelectEvent=null,this.setLastStreamUriEvent(null),this.setLastPlaybackStartedEvent(null),this.actualRuntimeMs=0,this.setSelectedContent(null)}},{key:"setLastSelectEvent",value:function(e){this.lastSelectEvent=e}},{key:"setLastPlaybackType",value:function(e){this.lastPlaybackType=e}},{key:"setSelectedContent",value:function(e){this.selectedContent=e}},{key:"getSelectedContent",value:function(){return this.selectedContent}},{key:"getLastStreamUriEvent",value:function(){return this.lastStreamUriEvent}},{key:"setLastStreamUriEvent",value:function(e){this.lastStreamUriEvent=e}},{key:"getLastPlaybackStartedEvent",value:function(){return this.lastPlaybackStartedEvent}},{key:"setLastPlaybackStartedEvent",value:function(e){this.lastPlaybackStartedEvent=e}},{key:"getElapsedMs",value:function(){return this.contentElapsedMs}},{key:"setElapsedMs",value:function(e){try{this.previousContentElapsedMs=this.contentElapsedMs,this.contentElapsedMs=Math.round(e)}catch(e){}}},{key:"setBitrate",value:function(e){this.previousBitrate=this.currentBitrate||0,this.currentBitrate=Number(e)}},{key:"getBitrate",value:function(){return this.currentBitrate}},{key:"startAdBreak",value:function(){this.adBreakStarted=Date.now()}},{key:"startAd",value:function(e){this.adPlaying=!0,this.adTimer=Date.now(),this.adData=e}},{key:"stopAd",value:function(){try{this.adPlaying=!1,this.adElapsedMs=Date.now()-this.adTimer}catch(e){}}},{key:"startBufferingTimer",value:function(){this.playbackBufferingTimer=Date.now()}},{key:"stopBufferingTimer",value:function(){this.playbackBufferingElapsedMs=Date.now()-this.playbackBufferingTimer}},{key:"omitBufferingEvents",value:function(e,t){this.bufferingEventsOmitted=e,e&&(this.bufferingEventsOmittedBy=t)}},{key:"setServiceCallStartTime",value:function(){this.serviceCallStart=Date.now()}},{key:"getContentElapsedMs",value:function(){return this.contentElapsedMs}},{key:"setPlayerState",value:function(e){this.playerState=e}},{key:"setLocation",value:function(e){this.previousLocation=this.currentLocation,this.currentLocation=e}},{key:"setPurchaseId",value:function(e){this.purchaseId=e}},{key:"setPurchaseDetails",value:function(e){this.purchaseDetails=e}},{key:"stopPlayback",value:function(){this.playbackStartDeferred=!1}},{key:"setPreviousEventName",value:function(e){this.previousEventName=e}},{key:"setDeferredEvent",value:function(e,t){this.deferredQueue.push({name:e,data:t,timestamp:Date.now()})}},{key:"hasDeferredEvent",value:function(e){try{var t=this.deferredQueue.filter(function(t){return t.name===e});return t.length>0}catch(e){return!1}}},{key:"getDeferredEvent",value:function(e){try{if(0===this.deferredQueue.length)return;var t=this.deferredQueue.findIndex(function(t){return t.name===e});if(t<0)return;var n=this.deferredQueue[t];return this.deferredQueue=this.deferredQueue.slice(t+1,1),n}catch(e){return null}}},{key:"setPINEntryContext",value:function(e){this.pinEntryContext=e}},{key:"getPINEntryContext",value:function(){return this.pinEntryContext}},{key:"getLatestPurchase",value:function(){return this.latestPurchase}},{key:"setLatestPurchase",value:function(e){this.latestPurchase=e}},{key:"getTvodFlowState",value:function(){return this.tvodFlowState}},{key:"setTvodFlowState",value:function(e){this.tvodFlowState=e}},{key:"getStream2BuyFlowPreviousStep",value:function(){return this.stream2BuyFlowPreviousStep||(this.stream2BuyFlowPreviousStep=0),this.stream2BuyFlowPreviousStep}},{key:"setStream2BuyFlowPreviousStep",value:function(e){this.stream2BuyFlowPreviousStep=e}},{key:"getPlayer",value:function(){return this.player}},{key:"setPlayer",value:function(e){this.player=e}},{key:"getExpectedStream",value:function(){return this.expectedStream}},{key:"setExpectedStream",value:function(e){this.expectedStream=e}},{key:"getCurrentGuideFilter",value:function(){return this.currentGuideFilter}},{key:"setCurrentGuideFilter",value:function(e){this.currentGuideFilter=e}},{key:"getCurrentMiniGuideFilter",value:function(){return this.currentMiniGuideFilter}},{key:"setCurrentMiniGuideFilter",value:function(e){this.currentMiniGuideFilter=e}},{key:"getDeviceId",value:function(){return this.deviceId}},{key:"setDeviceId",value:function(e){this.deviceId=e}},{key:"getIsPipOpen",value:function(){return this.isPipOpen}},{key:"setIsPipOpen",value:function(e){this.isPipOpen=e}},{key:"getPlayerStatus",value:function(){return this.playerStatus}},{key:"setPlayerStatus",value:function(e){this.playerStatus=e}},{key:"getRecordingTarget",value:function(){return this.recordingTarget}},{key:"setRecordingTarget",value:function(e){this.recordingTarget=e}},{key:"setImpressionState",value:function(e){this.impressionState=e}},{key:"getImpressionState",value:function(){return this.impressionState}}]),e}()})}();n("3KgV");angular.module("ovpApp.analytics.analyticsEnums",[]).constant("analyticsEnums",{SearchType:Object.freeze({NONE:null,PREDICTIVE:"predictive",KEYWORD:"keyword"}),ViewRenderedStatus:Object.freeze({PARTIAL:"partial",COMPLETE:"complete",TIMEOUT:"timeout",NO_RENDER:"noRender"}),TriggeredBy:Object.freeze({APPLICATION:"application",USER:"user"})});n("i6QF");function pu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){function e(e){function t(e){var t,n=e&&e.defaultStream;return n&&n.streamProperties&&n.streamProperties.endTime&&(t=parseInt(n.streamProperties.endTime)),t}function n(e){return e&&e.endsWith("od")||!1}function r(e){if(e)return e.title&&e.seriesTitle?""+e.title:void 0}function i(e){var t=!1;return e&&e.defaultStream&&e.defaultStream.streamProperties?t=e.defaultStream.streamProperties.parentallyBlockedByChannel||e.defaultStream.streamProperties.parentallyBlockedByRating||e.isBlockedByParentalControls||!1:e&&(t=e.isBlockedByParentalControls||!1),t}function o(e,t,n){n&&(e[t]=""+n)}function a(t){var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&"object"!==at()(t[r])&&null!==t[r]&&void 0!==t[r]){var i=t[r];"string"==typeof i?n[r]=t[r]:"string"!=typeof i?n[r]=i.toString():e.warn("Analytics: Unexpected property type: "+at()(i)+" for property "+r,t)}return n}function s(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0===e[t]&&delete e[t];return e}return{populateChannelData:function(e,t){return t?(e.contentFormat=t.hd?"HD":"SD",e.favorite=t.favorite,e.callSign=t.callSign,e.tmsGuideId=Ei(t),e):e},populateAssetData:function(e,n){if(!n)return e;e.parentallyBlocked=i(n),e.rating=n.rating||null,e.tmsProgramId=Ti(n),e.tmsSeriesId=Ai(n),n.scheduledStartTimeSec&&(e.streamStartTimestamp=n.scheduledStartTimeSec),n.scheduledEndTimeSec&&(e.endTimestamp=n.scheduledEndTimeSec),(e.entitled||n.isEntitled)&&(e.entitled=e.entitled||n.isEntitled),n.network&&(e.callSign=n.network.callsign),e.tmsGuideId=Ei(n);var r=t(n);return r&&(e.expirationDate=r),e},populateStreamData:function(e,t){if(!t)return e;e.streamType&&(e.streamingFormat=e.streamType.toLowerCase());var r=t.streamProperties;return r&&(!e.contentClass&&t&&(e.contentClass=function(e){return"CDVR"===e.type?"cdvr":Object(b.c)(e,"streamProperties.ondemandStreamType","").toLowerCase()}(t)),r.attributes&&(e.contentFormat=r.attributes.indexOf("HIGH_DEF")>-1?"HD":"SD",e.closedCaptioningCapable=r.attributes.indexOf("CLOSED_CAPTIONING")>-1),t.network&&t.network.callsign&&(e.callSign=t.network.callsign),n(e.contentClass)&&(e.bookmarkPositionSec=0,r.bookmark&&r.bookmark.playMarkerSeconds&&(e.bookmarkPositionSec=r.bookmark.playMarkerSeconds||0)),r.cdvrRecording&&(e.dvrRecordingId=Pi(t),e.contentUri=r.cdvrRecording.playUrl,e.recordingStartTimestamp=r.cdvrRecording.startTimeSec,e.recordingStopTimestamp=r.cdvrRecording.stopTimeSec),e.tmsGuideId=Ei(t),e.providerAssetId=Oi(t),e.tmsProgramId=Ti(t)),e},populateTvodData:function(e,t){if(!t.isTvodEntitled)return e;if(e.purchaseType="rent",t.entitledTvodStream){var n=t.entitledTvodStream.streamProperties||{},r=n.tvodEntitlement||{};e.entitled=!(!r.rentalEndTimeUtcSeconds||!r.rentalStartTimeUtcSeconds),e.rentalExpirationDate=t.rentalExpirationDate,e.rentalDurationHours=n.rentalWindowInHours,t.price&&(e.price=""+t.price)}else e.entitled=!1},populateEventData:function(e,t){return t?(t.runtimeInSeconds&&Number.isInteger(t.runtimeInSeconds)&&(e.runtime=1e3*t.runtimeInSeconds),e.operationType=e.operationType||t.operationType,e.triggeredBy=angular.isDefined(t.triggeredBy)?t.triggeredBy:"user",e):e},getAirtime:function(e){if(e)return e.startTimeSec?e.startTimeSec:e.stateOptions&&e.stateOptions.tmsSeriesId&&e.stateOptions.airtime?e.stateOptions.airtime:e.scheduledStartTimeSec?e.scheduledStartTimeSec:void 0},getEpisodeTitle:r,getProviderAssetId:Oi,getContentClass:function(t){return t.contentClass?t.contentClass.toLowerCase():(e.error("Playback: no content class supplied",t),null)},getExpirationDateAsLong:t,isParentallyBlocked:i,extractRecordingOptions:function(e,t,n){var i,c,l,u,d,p,h,v,f={};if(t?angular.extend(f,a(t)):e&&e.cdvrSettings&&angular.extend(f,a(e.cdvrSettings)),!e)return f;var m=(n=n||e.defaultStream||null)&&n.streamProperties||null;m&&(o(f,"startTime",m.startTime),o(f,"endTime",m.endTime),o(f,"channelId",m.tmsGuideServiceId));var g=e.network||null;return g&&g.callsign&&(f.callsign=g.callsign),f.channelNumber=e.displayChannel?""+e.displayChannel:void 0,f.title=e.seriesTitle||e.title,f.seriesId=Ai(e),f.episodeTitle=r(e),f.programId=Ti(e),f.tmsGuideId=Ei(e),f.startAdjustMinutes=String(null!==(i=null===(c=n)||void 0===c?void 0:null===(l=c.streamProperties)||void 0===l?void 0:null===(u=l.cdvrRecording)||void 0===u?void 0:u.startAdjustMinutes)&&void 0!==i?i:0),f.stopAdjustMinutes=String(null!==(d=null===(p=n)||void 0===p?void 0:null===(h=p.streamProperties)||void 0===h?void 0:null===(v=h.cdvrRecording)||void 0===v?void 0:v.stopAdjustMinutes)&&void 0!==d?d:0),o(f,"episodeNumber",e.episodeNumber),s(f),f},convertAllValuesToStrings:a,toLowerCamelCase:function(e){if(!e)return e;var t=e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)});return t[0]=t[0].charAt(0).toLowerCase()+t[0].slice(1),t.join("")},isOnDemandContentClass:n,normalizeContentCategoryName:function(e){return"Featured"===e?"curatedFeatured":"TV Shows"===e?"curatedTvShows":"Movies"===e?"curatedMovies":"Kids"===e?"curatedKids":"Networks"===e?"curatedNetworks":"curatedCatalog"},pruneUndefinedValues:s}}e.$inject=["$log"],e.$inject=["$log"],angular.module("ovpApp.analytics.analyticsAssetHelper",[]).factory("analyticsAssetHelper",e)}(),function(){function e(e,t,n,r,i,o){return o.isEnabled?n.then(function(n){var o=null;return l.a.getSelectorValue(u.pf)||(o=function(){return{trace:function(){return angular.noop()},debug:function(){return angular.noop()},info:function(){return angular.noop()},warn:function(){return angular.noop()},error:function(){return angular.noop()},fatal:function(){return angular.noop()}}}),new r({baseUri:l.a.getSelectorValue(u.u)||"https://pi.engnew-spectrum.net/vpns",registrationURI:l.a.getSelectorValue(u.Sd),disconnectURI:l.a.getSelectorValue(u.Ab),connectURI:l.a.getSelectorValue(u.db),joinURI:l.a.getSelectorValue(u.Cc),checkURI:l.a.getSelectorValue(u.Q),deviceId:Object(R.a)(),filters:{Alert:{FIPS:n}},msgTypes:["Alert"],subscribeToEmptyServices:l.a.getSelectorValue(u.qf),onError:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug";l.a.getSelectorValue(u.pf)&&(e[n]?e[n](t):e.debug(t))},log:!!angular.isFunction(o)&&o(),onMessage:function(n){var r=n&&n.GenericMessage&&n.GenericMessage.type,o=n&&n.GenericMessage,a=i[r];a&&o&&(e.debug({msg:"VPNS notification",name:a,envelope:n}),t.$emit(a,o))},pollOnInit:!0,store:C.a,clientIdKey:k.b.vpnsClientId,sessionIdKey:k.b.vpnsSessionId,availableTypesKey:k.b.vpnsAvailableTypes,registrationDataKey:k.b.vpnsRegistrationData}).start()},function(t){return e.error("Failed to load FIPS data"),t}).then(null,function(t){return e.error("Can not start VPNS client"),t}):{}}function t(e,t){return t.isEnabled?e({method:"GET",url:l.a.getSelectorValue(u.Xb),withCredentials:!0}).then(function(e){var t,n=[],r=pu(i.a.mark(function e(t){var n,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Object.keys(t);case 1:if(!(n<r.length)){e.next=8;break}return o=r[n],e.next=5,t[o];case 5:n++,e.next=1;break;case 8:case"end":return e.stop()}},e)})(e.data));try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}):{}}t.$inject=["$http","easFlag"],e.$inject=["$log","$rootScope","fipsService","VpnsClient","vpnsEventMap","easFlag"],t.$inject=["$http","easFlag"],e.$inject=["$log","$rootScope","fipsService","VpnsClient","vpnsEventMap","easFlag"],angular.module("ovpApp.service.vpns",["ovpApp.hnav.vpns"]).constant("vpnsEventMap",{Alert:"VpnsAlert"}).factory("easFlag",function(){return{isEnabled:Boolean(l.a.getSelectorValue(u.Hb))}}).factory("fipsService",t).factory("vpnsService",e)}(),function(){angular.module("ovpApp.filters.titleCase",[]).filter("titleCase",function(){return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}})}(),function(){function e(e){return function(t){return e.trustAsHtml(t)}}e.$inject=["$sce"],e.$inject=["$sce"],angular.module("ovpApp.filters.toTrusted",[]).filter("toTrusted",e)}(),function(){function e(e,t,n,r,o,s){var c,u,d=this;function p(){return h.apply(this,arguments)}function h(){return(h=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,document.getElementById(Eo.e.BITMOVIN)){e.next=6;break}throw new Error("Player element not loaded");case 6:return e.next=8,o.getPlayerInstance();case 8:t=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",setTimeout(p,2e3));case 14:c=setInterval(function(){if(!l.a.getSelectorValue(vc.g)&&"hidden"!==document.visibilityState)try{t.play()}catch(e){v(),p()}},2e3);case 15:case"end":return e.stop()}},e,null,[[2,11]])}))).apply(this,arguments)}function v(){clearTimeout(c),c=null}!function(){var i;d.options={mode:"LIVE",streamType:Eo.g.LINEAR,liveTmsId:r.tmsid,displayChannel:r.displayChannel,eanUrl:r.eanUrl||r.testEanUrl},o.playStream(d.options),p(),r.appRedirect&&ei({eventCaseId:"OneApp_liveTV_pageView"});e.$broadcast("pageChangeComplete",n.current),l.a.dispatch(ps.a.liveTvActivated()),(r.eanUrl||r.testEanUrl)&&C.a.setItem(k.b.state,{state:n.current.name,params:{}});s.isEnabled()&&(i=e.$on("chromecast:connection-changed",function(e,t){t.connected||o.playStream(d.options)}));t.$on("$destroy",function(){u=!0,v(),i&&i()})}()}e.$inject=["$rootScope","$scope","$state","$stateParams","playerService","chromecastService"],e.$inject=["$rootScope","$scope","$state","$stateParams","playerService","chromecastService"],angular.module("ovpApp.live",["ovpApp.live.router","ovpApp.miniGuide.miniGuideData","ovpApp.services.chromecast","ovpApp.player.playerService","ovpApp.player"]).controller("LiveController",e)}(),function(){function e(e,t){var n={redirectTo:function(e){return me.a.getLocation().then(function(){if(!l.a.getSelectorValue(ge.f))return"ovp.outOfUs"})},data:{capability:t.LIVE,bodyClass:"live-page video-player-page",pageTitle:function(e){return e.injector().get("$rootScope").$eventToObservable("player:assetSelected").map(function(e){var t=Oe()(e,2),n=(t[0],t[1]),r=Xe()(["title"],n)?n.title+", ":"";return r+=Xe()(["channel","callSign"],n)?Object(b.c)(n,"channel.callSign")+", ":"",r+="Live TV"}).startWith("Live TV")},hideHeaderGradient:!0},resolve:{location:function(){return me.a.getLocation()}},params:{appRedirect:null,eanUrl:null,displayChannel:null},views:{appView:{controller:"LiveController as vm"}}};e.state("ovp.livetv",angular.extend({url:"/livetv?tmsid&testEanUrl&appRedirect"},n))}e.$inject=["$stateProvider","CAPABILITIES"],e.$inject=["$stateProvider","CAPABILITIES"],angular.module("ovpApp.live.router",["ui.router","ovpApp.player"]).config(e)}(),angular.module("ovpApp.ondemand.category",[]).component("ondemandCategory",{bindings:{category:"<",page:"<",hideLogo:"<"},templateUrl:"js/ondemand/category/ondemand-category.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$rootScope:t,onDemandData:n,$q:r,$state:i})}return e.$inject=["$rootScope","onDemandData","$q","$state"],e.$inject=["$rootScope","onDemandData","$q","$state"],Ce()(e,[{key:"$onInit",value:function(){var e=l.a.getSelectorValue(u.Kc).find(function(e){return"vodportal"===e.feature.toLowerCase()});this.clientSidePaging=this.category.totalResults===this.category.media.length,this.pageSize=l.a.getSelectorValue(u.zf),this.sectionLabel=e?e.title:"On Demand",(void 0===this.page||this.page<1)&&(this.page=1),this.gridListConfig={title:this.category.name,defaultState:"list"==this.category.uiHint?"list":"grid",totalItems:this.category.totalResults,showTotal:!0,showToggle:!1,id:k.b.vodMinorCategoryViewMode,useLocalStorage:!0},Xr()}},{key:"onPageChanged",value:function(e){var t=this.$state.current,n=this.$state.params;n.page=e,this.$state.go(t.name,n)}}]),e}()});var vu=n("YEvJ"),fu=n.n(vu),mu=n("Fxkx"),gu=n.n(mu);function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}angular.module("ovpApp.ondemand.gallerySummaryPage",["ovpApp.ondemand.data"]).component("gallerySummaryPage",{templateUrl:"js/ondemand/gallery-summary-page/gallery-summary-page.html",bindings:{data:"<"},controller:function(){function e(t,n,r){we()(this,e),this.onDemandData=t,this.$state=n,this.$rootScope=r}return e.$inject=["onDemandData","$state","$rootScope"],e.$inject=["onDemandData","$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){var e,t,n,r,i,o,a=this,s=l.a.getSelectorValue(u.Kc).find(function(e){return"vodportal"===e.feature.toLowerCase()}),c=s?s.title:"On Demand",d=this.$state.current.name,p=it()(gu()("."),qs.a,fu()("_"," "))(d);this.itemLimit=8,this.sectionLabel="".concat(c,", ").concat(p),this.viewAllUris=this.data.categories.map(function(e){if(e.uri){var t=a.onDemandData.formatCategoryNameForRoute(e.name);return"".concat(d,".viewall({name: '").concat(t,"'})")}});var h=null===(e=this.data)||void 0===e?void 0:null===(t=e.categories)||void 0===t?void 0:t.map(function(e){var t,n;return"".concat(null===e||void 0===e?void 0:e.name,"|").concat((null===e||void 0===e?void 0:e.skeletonShelf)?"Personalized":"Curated","|").concat(null!==(t=null===e||void 0===e?void 0:null===(n=e.media)||void 0===n?void 0:n.length)&&void 0!==t?t:0)}).join(",");ei({currPageName:"curated"+Object(b.h)(p),pageSecAllDisplayed:h,currPageSecItemCnt:null===(n=this.data)||void 0===n?void 0:null===(r=n.categories)||void 0===r?void 0:r.filter(function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.media)||void 0===n?void 0:n.length)&&void 0!==t&&t}).length}),Xr(),null===(i=this.data)||void 0===i||null===(o=i.categories)||void 0===o||o.forEach(function(e){var t,n,r,i,o;!0===e.skeletonShelf&&(null!==(t=null===(n=e.dynamicUris)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0&&function(e){Object(y.j)("OneApp_applicationPerformance_skeletonShelf",yu(yu({},e),{},{msgTriggeredBy:"application"}))}({operationIntValue:null!==(r=null===e||void 0===e?void 0:null===(i=e.media)||void 0===i?void 0:i.length)&&void 0!==r?r:0,linkAdditionalInfo:null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:""})})}},{key:"updateLimit",value:function(e){this.itemLimit=Math.max(e,this.itemLimit)}}]),e}()}),angular.module("ovpApp.ondemand.networkCategoryList",["ovpApp.ondemand.data"]).component("networkCategoryList",{templateUrl:"js/ondemand/networks/network-category-list.html",bindings:{categoryList:"<",page:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{onDemandData:t,$state:n,ondemandSubheaderService:r,$rootScope:i})}return e.$inject=["onDemandData","$state","ondemandSubheaderService","$rootScope"],e.$inject=["onDemandData","$state","ondemandSubheaderService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.selectedCategory=void 0;var e={showBack:!0,backString:"Networks",onBackClick:this.backToNetworks.bind(this),showNetworkLogo:!0,networkLogoUrl:this.networkLogoUrl.bind(this),pageTitle:"On Demand - "+this.categoryList.name+" Networks"};this.ondemandSubheaderService.setState(e),ei({currPageName:"curatedNetworks"}),Xr()}},{key:"backToNetworks",value:function(){this.$state.go("ovp.ondemand.networks",{catUrl:null})}},{key:"networkLogoUrl",value:function(){return this.categoryList.imageUri({height:80})}},{key:"showCategory",value:function(e){var t=this;this.onDemandData.getByUri(e.uri).then(function(n){t.selectedCategory=n,t.pageSize=l.a.getSelectorValue(u.zf),t.gridListConfig={title:t.selectedCategory.name,totalItems:t.selectedCategory.totalResults,showTotal:!0,showToggle:!1,id:k.b.vodMinorCategoryViewMode,useLocalStorage:!0};var r={showBack:!0,backString:t.categoryList.name,onBackClick:t.$onInit.bind(t),showToggle:!0,showNetworkLogo:!0,networkLogoUrl:t.networkLogoUrl.bind(t),pageTitle:"On Demand - "+t.categoryList.name+" Networks "+e.name};t.ondemandSubheaderService.setState(r)})}}]),e}()}),angular.module("ovpApp.ondemand.networks",["ovpApp.ondemand.networkThreeTier","ovpApp.ondemand.data","ovpApp.components.channelCard"]).component("networkMainPage",{templateUrl:"js/ondemand/networks/network-main-page.html",bindings:{networks:"<"},controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$rootScope:t,$state:n})}return e.$inject=["$rootScope","$state"],e.$inject=["$rootScope","$state"],Ce()(e,[{key:"$onInit",value:function(){var e=l.a.getSelectorValue(u.Kc).find(function(e){return"vodportal"===e.feature.toLowerCase()});this.gridListConfig={minimumGridItemSeparation:35,gridOnly:!0,showHeader:!1,showPagination:!1},this.sectionLabel=e?e.title:"On Demand",ei({currPageName:"curatedNetworks"}),Xr()}}]),e}()});n("5F3W");angular.module("ovpApp.ondemand.networkThreeTier",["ovpApp.ondemand.data","ovpApp.ondemand.subheaderService"]).component("networkThreeTier",{templateUrl:"js/ondemand/networks/network-3-tier.html",bindings:{data:"<",page:"<?",index:"<?"},controller:function(){function e(t,n){we()(this,e),this.$rootScope=t,this.ondemandSubheaderService=n}return e.$inject=["$rootScope","ondemandSubheaderService"],e.$inject=["$rootScope","ondemandSubheaderService"],Ce()(e,[{key:"$onInit",value:function(){(angular.isUndefined(this.index)||this.index<0)&&(this.index=0),(angular.isUndefined(this.page)||this.page<1)&&(this.page=1)}}]),e}()}),function(){function e(e,t){return function(n){t.exitFullscreen(),e.previous&&""!==e.previous.name&&"ovp.ondemand"===e.previous.name||(n&&n.clickRoute?e.go.apply(e,on()(n.clickRoute)):e.go("ovp.ondemand"))}}e.$inject=["$state","ovpFullscreen"],e.$inject=["$state","ovpFullscreen"],angular.module("ovpApp.ondemand.goback",["ovpApp.directives.ovp-fullscreen"]).factory("ondemandGoBack",e)}();var Su={DVR_RECORDED:"DVR_RECORDED"};function wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){function e(e){if(!l.a.getSelectorValue(u.Mc)){e.onSuccess({from:function(e){return 0===e.name.indexOf("ovp.ondemand.play")}},function(e){var t=e.router.getPlugin("stickystates");t.inactives().find(function(t){return t.name===e.from().name})&&t.exitSticky(e.from().name)})}}function t(e,t,n){d.$inject=["$stateParams","productService","$state","$q","kiteModalService"],d.$inject=["$stateParams","productService","$state","$q","kiteModalService"],t.rule(function(e,t){t.url().indexOf("networks$")>-1&&t.replace().path("/networks")}),e.state("ovp.ondemand.**",{url:"/ondemand",lazyLoad:function(e){var t=e.injector().get("OauthService"),n=e.injector().get("onDemandData"),i=e.injector().get("$q"),a=e.injector().get("$state"),c=e.injector().get("$rootScope"),d=e.router.stateRegistry,p=t.isAuthenticated().then(function(e){return e?l.a.getSelectorValue(ie.g)?(l.a.getSelectorValue(u.Tf)?a.go("ovp.offers"):a.go("buyFlow.welcome"),i.reject({silent:!0})):n.getFrontDoor():i.reject({silent:!0})}).then(function(t){d.deregister("ovp.ondemand.**"),d.register(r);var i=t.map(function(t){return function(e,t,n){var r=o[e.type];if(r){var i=t.formatCategoryNameForRoute(e.name);return r(e,i,n)}}(t,n,e)});i.push([angular.extend({},s,{name:"ovp.ondemand.playEpisodeWithDetails",url:"/play/:seriesID/:episodeID?showDetails&startOver"}),angular.extend({},s,{name:"ovp.ondemand.playProduct",url:"/play/:productID?showDetails&startOver&seriesTrailer&trailer&streamIndex"}),angular.extend({},s,{name:"ovp.ondemand.playCdvr",url:"/playcdvr/:tmsProgramID?showDetails&startOver&isCdvr&streamIndex&recordingId"})]),function(e){return e.reduce(function(e,t){return Array.isArray(t)?e.push.apply(e,on()(t)):e.push(t),e},[])}(i).filter(function(e){return!!e}).forEach(function(e){return d.register(e)})}).catch(function(e){return angular.isString(e)&&e.indexOf("User is not logged in")>-1?i.reject({silent:!0}):i.reject(e)});return c.$broadcast("message:loading",p,void 0,"On Demand"),p}});var r={name:"ovp.ondemand",url:"/ondemand",data:{capability:n.ONDEMAND,subheader:50,subheaderLabel:"On Demand"},redirectTo:function(e){return e.injector().get("onDemandData").defaultCategory().then(function(e){return"ovp.ondemand.".concat(e)})},resolve:{menuItems:["onDemandData",function(e){return e.getFrontDoor()}]},views:{"subMenu@":{component:"onDemandSubheader"},appView:{template:"<div ui-view ></div>"}}};var i,o={pods_with_assets:function(e,t){return[{name:"ovp.ondemand.".concat(t),component:"gallerySummaryPage",redirectTo:p,url:"/".concat(t),data:{pageTitle:"On Demand - ".concat(t)},resolve:{data:["onDemandData","$rootScope",function(n,r){var i=n.getByUris(e.uri,e.dynamicUris);return r.$broadcast("message:loading",i,void 0,"On Demand - ".concat(t)),i}]},onEnter:["ondemandSubheaderService",function(e){e.setState({showFrontDoor:!0})}]},{name:"ovp.ondemand.".concat(t,".viewall"),url:"/:name?page",views:{"@ovp.ondemand":{component:"ondemandCategory"}},resolve:{category:["onDemandData","name","data","page","$state","$rootScope",function(e,n,r,i,o,a){(angular.isUndefined(i)||i<1)&&(i=1);var s=e.formatCategoryNameForRoute;n=s(n);var c=r.categories.find(function(e){return s(e.name)===n});if(c){var l=e.getByUri(c.uri,i,c.name);return a.$broadcast("message:loading",l,void 0,"On Demand - ".concat(c.name)),l}o.go("ovp.ondemand.".concat(t))}],name:a("name"),page:a("page")},onEnter:["ondemandSubheaderService",function(e){e.setState({showFrontDoor:!0,showToggle:!0})}],onExit:["ondemandSubheaderService",function(e){e.setState({showFrontDoor:!0,showToggle:!1})}]}]},media_list:function(e,t){return{name:"ovp.ondemand.".concat(t),component:"ondemandCategory",url:"/".concat(t,"?page"),redirectTo:p,data:{pageTitle:"On Demand - ".concat(t)},resolve:{category:["onDemandData","page","$rootScope",function(n,r,i){(angular.isUndefined(r)||r<1)&&(r=1);var o=n.getByUri(e.uri,r,e.name);return t=t.replace("_"," "),i.$broadcast("message:loading",o,void 0,"On Demand - ".concat(t)),o}],page:a("page")},onEnter:["ondemandSubheaderService",function(e){e.setState({showFrontDoor:!0,showToggle:!0})}]}},network_list:function(e,t,n){return n.router.transitionService.onSuccess({to:"ovp.ondemand.".concat(t)},function(){n.injector().get("ondemandSubheaderService").setState({showFrontDoor:!0})}),[{name:"ovp.ondemand.".concat(t),url:"/".concat(t),redirectTo:p,component:"networkMainPage",data:{pageTitle:"On Demand - ".concat(t)},resolve:{networks:["onDemandData","$rootScope",function(n,r){var i=n.getByUri(e.uri).then(function(e){return e.networks});return r.$broadcast("message:loading",i,void 0,"On Demand - ".concat(t)),i}]}},{name:"ovp.ondemand.".concat(t,".network"),url:"/:name?index&page",data:{pageTitle:function(e){return"On Demand - ".concat(e.params("to").name)}},views:{"@ovp.ondemand":{component:"networkSubPage"}},resolve:{name:a("name"),index:a("index"),page:a("page"),data:["page","name","networks","onDemandData","$q","$state","$rootScope",function(e,n,r,i,o,a,s){var c=i.formatCategoryNameForRoute;n=c(n);var l,u=r.find(function(e){return c(e.name)===n});if(u)return l="media_list"===u.type?i.getByUri(u.uri,e):i.getByUri(u.uri),s.$broadcast("message:loading",l,void 0,"On Demand - ".concat(u.name)),l;a.go("ovp.ondemand.".concat(t))}]},onEnter:["ondemandSubheaderService","data","$state","index","productService",function(e,n,r,i,o){if(!n.isEntitled)return o.showUnentitledNetworkModal(),void r.go("ovp.ondemand.networks");var a;"media_list"===n.type?a={showBack:!0,backString:"Networks",onBackClick:function(){return r.go("ovp.ondemand.".concat(t))},showToggle:!0,showNetworkLogo:!0,networkName:function(){return n.name},networkLogoUrl:function(){return n.imageUri({height:80})}}:"pods_with_assets"===n.type&&(a={showBack:!0,backString:"Networks",onBackClick:function(){return r.go("ovp.ondemand.".concat(t))},showToggle:!0,showNetworkLogo:!0,networkName:function(){return n.name},networkLogoUrl:function(){return n.imageUri({height:80})},showNetwork3Tier:!0,network3TierIndex:i,childNetworks:function(){return n.categories}}),a&&e.setState(a)}]}]}};function a(e){return["$stateParams",function(t){return t[e]}]}var s={redirectTo:p,data:{bodyClass:"video-player-page",subheader:"none",pageTitle:function(e){return e.injector().getAsync("asset").then(function(e){return"".concat(e.seriesTitle||e.title,", ").concat(e.network.callsign,", OnDemand")})},hideHeaderGradient:!0},resolve:{asset:d,stream:["asset","$stateParams",function(e,t){if(t.recordingId&&l.a.getSelectorValue(u.vg)){var n=t.recordingId;return e.streamList.find(function(e){var t,r;return(null===(t=e.streamProperties)||void 0===t?void 0:null===(r=t.cdvrRecording)||void 0===r?void 0:r.recordingId)===n&&"CDVR"===e.type})}if(void 0!==t.streamIndex&&null!==t.streamIndex){var r=e.streamList[t.streamIndex];return"CDVR"===r.type||"ONLINE_ONDEMAND"===r.type||r.isCDVRRecorded||(r=c(e.streamList)),r}if(t.startOver)return function(e){return e.find(function(e){return"ONLINE_ONDEMAND"===e.type&&0===e.streamProperties.price})}(e.streamList);var i,o=t.episodeID||t.productID,a=t.isCdvr?"CDVR":"ONLINE_ONDEMAND",s=o&&e.streamList.find(function(e){return e.streamProperties.providerAssetID===o&&e.type===a});return s||(i=e.streamList.find(function(e){return e.streamProperties.thePlatformMediaId===o})),s||i||c(e.streamList)}]},params:{purchased:null,streamIndex:null,analytics:null,asset:null},views:{"":{controller:["$rootScope","$stateParams","asset","stream","playerService","chromecastService",function(e,t,n,r,o,a){var s=this;s.options={mode:t.isCdvr?"CDVR":"VOD",streamType:t.isCdvr?Eo.g.CDVR:Eo.g.VOD,asset:n,stream:r,isTrailer:!!t.trailer,isSeriesTrailer:!!t.seriesTrailer,isStartOver:!!t.isStartOver,isCdvr:!!t.isCdvr},o.playStream(s.options),e.$broadcast("Analytics:pageChangeComplete"),a.isEnabled()&&(i=e.$on("chromecast:connection-changed",function(e,t){t.connected||o.playStream(s.options)}))}],controllerAs:"vm"},"subMenu@":{template:"<div></div>"}},onExit:function(){i&&(i(),i=null)}};function c(e){return nt()(function(e){return"ONLINE_ONDEMAND"===e.type},e)||nt()(function(e){return"CDVR"===e.type},e)}function d(e,t,n,r,i){if(l.a.getSelectorValue(u.of)&&e.asset)return e.asset;var o,a,s=function(e){return(404===e.status?i.errorAlert("WGU-1002"):i.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for ondemand-ui-router fetchAsset",error:JSON.stringify(e)}})).promise.then(function(){return""!==n.current.name&&"login"!==n.current.name||n.go("ovp.ondemand"),r.reject({silent:!0})})};if(void 0!==e.productID)o=e.productID,a=t.withProviderAssetId(e.productID);else if(e.seriesID)o=e.episodeID,a=t.withTmsSeriesId(e.seriesID);else{if(!e.tmsProgramID)return s({});o=e.tmsProgramID,a=e.isCdvr&&function(e){return["ovp.cdvr.recordedSeries","ovp.cdvr.recorded"].includes(e.transition.from().name)}(n)?t.withTmsId(e.tmsProgramID,{application:Su.DVR_RECORDED}):t.withTmsId(e.tmsProgramID)}return a.fetch().then(function(e){var t;if(e&&e.isSeries){var n=e.seasons?e.seasons.reduce(function(e,t){return e.concat.apply(e,on()(t.episodes))},[]):[];(t=n.find(function(e){return e.streamList&&e.streamList.find(function(e){return e.streamProperties.providerAssetID==o})}))||(t=n.find(function(e){return e.tmsProgramIds.includes(o)}))}else t=e;return t||s({status:404})},s)}function p(e){return me.a.getLocation().then(function(){if(!l.a.getSelectorValue(ge.f))return"ovp.outOfUs"})}}t.$inject=["$stateProvider","$urlRouterProvider","CAPABILITIES"],e.$inject=["$transitions"],t.$inject=["$stateProvider","$urlRouterProvider","CAPABILITIES"],e.$inject=["$transitions"],angular.module("ovpApp.ondemand",["ovpApp.messages","ovpApp.product.service","ui.router","ovpApp.player","ovpApp.remotePlayer","ovpApp.components.alert","ovpApp.ondemand.data","ovpApp.ondemand.subheader","ovpApp.ondemand.category","ovpApp.ondemand.networks","ovpApp.ondemand.networkSubPage","ovpApp.ondemand.gallerySummaryPage","ovpApp.ondemand.networkCategoryList","ovpApp.ondemand.subheaderService","ovpApp.player.playerService","ovpApp.services.kiteModal","ovpApp.services.chromecast","ui.router"]).run(e).config(t)}(),function(){function e(e,t,n,r,o,s,c){var d,p=null,h=/path=([^&]*)&?/,v="USERIDHASHREPLACE";return{formatCategoryNameForRoute:f,defaultCategory:function(){return m().then(function(e){return f(e[0].name)})},getFrontDoor:m,getByUri:O,getByUris:function(e,t){return l.a.getSelectorValue(u.Vf)?function(e,t){return b.apply(this,arguments)}(e,t):O(e)},clearCache:function(){d=void 0,p=null}};function f(e){return e.toLowerCase().replace(/ /g,"_")}function m(){return d?r.resolve(d):ea.a.getChannels({onlineEntitled:!0,live:!0,entitled:!0}).then(function(){return e.forDefaultProfile()}).then(function(e){return t.get(l.a.getSelectorValue(u.Cd)+e.vodPortal(),{withCredentials:!0}).retry(3).map(function(e){return e.data.results.map(n.createInstance)}).do(function(e){return d=e}).toPromise(r)})}function g(e){return e.map(function(e){return e.results?(e.results=e.results.filter(function(e){return C(e.details.allVPPs)}),e.total_results=e.results.length):e.media&&(e.media=e.media.filter(function(e){return C(e.details.allVPPs)}),e.total_results=e.media.length),e}).filter(function(e){return e.total_results>0})}function b(){return(b=a()(i.a.mark(function e(t,r){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=k(t),e.abrupt("return",Promise.all([o,S(r)]).then(function(e){var t=e[0];return y(t,e[1]),l.a.getSelectorValue(u.qg)&&(t.results=g(t.results),t.num_categories=t.results.length),n.createInstance(t)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,t){e.results.forEach(function(n,r){if(n.skeletonShelf){var i,o,a=null===(i=n.dynamicUris[0].match(h))||void 0===i?void 0:i[1];e.results[r]=ku(ku(ku({},n),null!==(o=t[a])&&void 0!==o?o:{}),{},{categoryName:n.categoryName,name:n.name,skeletonShelf:!0})}})}function S(e){return w.apply(this,arguments)}function w(){return(w=a()(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.getSelectorValue(ao.a),r=t.map(function(e){return k(e.replace(v,n)).then(function(t){return{dynamicUri:e,data:t}},function(){return{dynamicUri:e,data:null}})}),e.abrupt("return",Promise.all(r).then(function(e){return e.reduce(function(e,t){var n;return e[null===(n=t.dynamicUri.match(h))||void 0===n?void 0:n[1]]=t.data,e},{})}));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return t.get(l.a.getSelectorValue(u.Cd)+e,{withCredentials:!0}).retry(3).map(function(e){return e.data}).toPromise(r)}function C(e){return c.isVODProviderEntitled(e)}function $(e){return t.get(l.a.getSelectorValue(u.Cd)+e,{withCredentials:!0}).retry(l.a.getSelectorValue(u.Bf)||1).map(function(e){return"pods_with_assets"===e.data.type?(e.data.results=e.data.results.map(function(e){return e.media=e.media.filter(function(e){return C(e.details.allVPPs)}),e.total_results=e.media.length,e}),e.data.results=e.data.results.filter(function(e){return e.media.length>0})):"media_list"===e.data.type&&(e.data.results=e.data.results.filter(function(e){return C(e.details.allVPPs)})),e})}function T(e,t,i){if(p&&p.name===i){var a=(t-1)*l.a.getSelectorValue(u.zf),s=p;return s.results=p.results.slice(a,a+l.a.getSelectorValue(u.zf)),r.resolve(n.createInstance(s))}return angular.isDefined(t)&&t>=1?$("".concat(e,"&start-index=",0,"&limit=").concat(l.a.getSelectorValue(u.zf))).map(function(t){var i=Math.ceil(t.data.total_results/l.a.getSelectorValue(u.Af));return function(e,t,i){for(var a=[],s=0;s<i;s++){var c=s*t,l="".concat(e,"&start-index=").concat(c,"&limit=").concat(t);a.push($(l))}return o.Observable.forkJoin(a).map(function(e){var t=e[0];return e=e.reduce(function(e,t){return e.concat(t.data.results)},[]),t.data.results=e,t.data.total_results=e.length,p=t.data,n.createInstance(t.data)}).toPromise(r)}(e,l.a.getSelectorValue(u.Af),i)}).toPromise(r):$(e).map(function(e){return n.createInstance(e.data)}).toPromise(r)}function O(e,i,o){return r.all([s.isStreamPlus(),s.isOTT()]).then(function(a){var c=Oe()(a,2),d=c[0],p=c[1];if(d||p||s.showEntitledOnly()||l.a.getSelectorValue(u.qg))return T(e,i,o);if(angular.isDefined(i)&&i>=1){var h=(i-1)*l.a.getSelectorValue(u.zf);e="".concat(e,"&start-index=").concat(h,"&limit=").concat(l.a.getSelectorValue(u.zf))}return t.get(l.a.getSelectorValue(u.Cd)+e,{withCredentials:!0}).retry(3).map(function(e){return n.createInstance(e.data)}).toPromise(r)})}}e.$inject=["entryService","rxhttp","delegateFactory","$q","rx","capabilitiesService","delegateUtils"],e.$inject=["entryService","rxhttp","delegateFactory","$q","rx","capabilitiesService","delegateUtils"],angular.module("ovpApp.ondemand.data",["ovpApp.dataDelegate","ovpApp.services.rxUtils","ovpApp.services.entry"]).factory("onDemandData",e)}(),angular.module("ovpApp.ondemand.subheader",["ovpApp.directives.focus"]).component("onDemandSubheader",{bindings:{menuItems:"<"},templateUrl:"js/ondemand/subheader/ondemand-subheader.html",controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{onDemandData:t,$rootScope:n,$scope:r,$state:i,$transitions:o,ondemandSubheaderService:a})}return e.$inject=["onDemandData","$rootScope","$scope","$state","$transitions","ondemandSubheaderService"],e.$inject=["onDemandData","$rootScope","$scope","$state","$transitions","ondemandSubheaderService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.returnedFromViewAll=!1,this.subscription=this.ondemandSubheaderService.getSource().subscribe(function(t){return e.onOptionsChanged(t)})}},{key:"$onDestroy",value:function(){this.subscription.dispose()}},{key:"selectSubheading",value:function(e){this.$rootScope.$broadcast("Analytics:select",{elementUiName:"Continue",nonNormalizedElementStdName:e.name,operationType:"navigationClick",pageSectionName:"navPageSecondary"})}},{key:"onOptionsChanged",value:function(e){this.options=e,this.index=e.network3TierIndex||0,e.pageTitle&&this.$rootScope.$emit("ovp:setPageTitle",e.pageTitle)}},{key:"getState",value:function(e){var t=this.onDemandData.formatCategoryNameForRoute(e.name);return"ovp.ondemand.".concat(t)}},{key:"isSelected",value:function(e){var t=this.onDemandData.formatCategoryNameForRoute(e.name);return this.$state.current.name==="ovp.ondemand.".concat(t)}},{key:"networkSelected",value:function(e){this.index=this.options.childNetworks().indexOf(e);var t=this.$state.current,n=this.$state.params;n.index=this.index,n.page=1,this.$state.go(t.name,n)}},{key:"goBack",value:function(){this.options&&this.options.onBackClick&&this.options.onBackClick()}}]),e}()});n("1O9/"),n("zwPf"),n("WoJm");angular.module("ovpApp.rdvr.diskUsage",["ovpApp.rdvr.rdvrService","ovpApp.services.capabilitiesService","ovpApp.services.rxUtils"]).component("diskUsage",{bindings:{stb:"<",noOfCdvrRecordings:"<"},templateUrl:"js/rdvr/disk-usage/disk-usage.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$scope:t,rdvrService:n,stbService:r,capabilitiesService:i}),this.usedPercent=0}return e.$inject=["$scope","rdvrService","stbService","capabilitiesService"],e.$inject=["$scope","rdvrService","stbService","capabilitiesService"],Ce()(e,[{key:"$onInit",value:function(){this.capabilitiesService.isCdvrEnabled().then(function(e){e&&l.a.dispatch(Dl.quotaActions.request({requestUrl:l.a.getSelectorValue(u.J)}))})}},{key:"$onChanges",value:function(e){e.stb&&this.getDiskUsage(e.stb.currentValue)}},{key:"getDiskUsage",value:function(e){var t=this;this.hasRdvrVersion2(e)&&(this.subscription&&(this.subscription.dispose(),this.subscription=null),this.subscription=this.rdvrService.getUsage(e).subscribe(function(e){return t.onDiskUsageReceived(e)}))}},{key:"getCDVRDiskUsage",value:function(){var e=l.a.getSelectorValue(Dl.getQuotaTotal);angular.isDefined(this.noOfCdvrRecordings)&&e>0&&(this.usedPercent=this.noOfCdvrRecordings/e*100)}},{key:"getUsedPercent",value:function(){return"".concat(this.usedPercent,"%")}},{key:"onDiskUsageReceived",value:function(e){!e.error&&e.data&&e.data.usedPercentage?this.usedPercent=Math.floor(100*e.data.usedPercentage):this.usedPercent=0}},{key:"$onDestroy",value:function(){this.subscription&&this.subscription.dispose()}},{key:"canShowDiskUsage",value:function(){return this.hasRdvrVersion2()||angular.isDefined(this.noOfCdvrRecordings)}},{key:"hasRdvrVersion2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stb;return e&&!0===e.dvr&&e.rdvrVersion>1}},{key:"getHeaderText",value:function(){return angular.isDefined(this.noOfCdvrRecordings)?"Device Storage "+this.noOfCdvrRecordings+" of "+l.a.getSelectorValue(Dl.getQuotaTotal)+" Shows.":"Device storage "+this.usedPercent+"% Full."}},{key:"getUsageText",value:function(){return angular.isDefined(this.noOfCdvrRecordings)?(this.getCDVRDiskUsage(),this.noOfCdvrRecordings+" of "+l.a.getSelectorValue(Dl.getQuotaTotal)+" Shows"):this.usedPercent+"% Full"}}]),e}()});n("XbcX"),n("c9m3");function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}angular.module("ovpApp.rdvr.priority",["ovpApp.rdvr.rdvrService","ovpApp.components.ovp.sortable","ovpApp.rdvr.cacheService","ovpApp.messages","ovpApp.components.alert","ovpApp.services.kiteModal"]).component("rdvrPriority",{templateUrl:"js/rdvr/priority/priority.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p){we()(this,e),angular.extend(this,{$log:t,alert:n,messages:r,$scope:i,createObservableFunction:o,stbService:a,rdvrService:s,$q:c,$rootScope:l,rx:u,$state:d,kiteModalService:p})}return e.$inject=["$log","alert","messages","$scope","createObservableFunction","stbService","rdvrService","$q","$rootScope","rx","$state","kiteModalService"],e.$inject=["$log","alert","messages","$scope","createObservableFunction","stbService","rdvrService","$q","$rootScope","rx","$state","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.teardown=this.createObservableFunction(),this.errorDialogPopup=null,this.stbService.currentStbSource.do(function(t){return e.stb=t}).filter(function(t){return e.hasRdvrVersion2(t)}).flatMap(function(t){return e.getSeriesPriorities(t)}).takeUntil(this.teardown).subscribe(function(t){e.processSeries(t),e.updateLoadingIndicator(t),e.handleError(t)}),this.$scope.$on("ovp-sortable:order-change",function(t,n){return e.$scope.$emit("Analytics:"+(n.movedUp?"rdvr-higher-priority":"rdvr-lower-priority"),{}),e.updatePriorities()})}},{key:"$onDestroy",value:function(){this.teardown()}},{key:"getSeriesPriorities",value:function(e){var t=this.stbService.currentStbSource.skip(1);return this.rdvrService.getSeriesPriorities(e).takeUntil(t)}},{key:"processSeries",value:function(e){var t=e.data,n=e.isComplete;this.seriesPriorities=n?t:[]}},{key:"updateLoadingIndicator",value:function(e){var t=e.data,n=e.isComplete;e.error?this.loading&&(this.loading.reject(),this.loading=void 0):0!==t.length||n?n&&(this.loading&&(this.loading.resolve(),this.loading=void 0),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)):(this.loading&&this.loading.reject(),this.loading=this.$q.defer(),this.$rootScope.$broadcast("message:loading",this.loading.promise,void 0,"DVR Priority"))}},{key:"handleError",value:function(e){var t=this,n=e.error;if(n){var r=te.a.getErrorInfo("WRDV-1000");this.$rootScope.$emit("Analytics:error",{errorCode:"WRDV-1000",errorMessage:r.message,errorType:"rdvr",clientErrorCode:n.clientErrorCode}),this.errorDialogPopup||(this.errorDialogPopup=this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{iconClass:"si si-circle-info-f",title:r.title,description:r.message},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}),this.errorDialogPopup.promise.finally(function(){return t.errorDialogPopup=null}))}}},{key:"updatePriorities",value:function(){var e=this,t=this.seriesPriorities.map(function(e){return e.settings.seriesPriority});this.rdvrService.setSeriesPriorities(this.stb,t).then(function(){e.seriesPriorities.forEach(function(e,t){return e.settings.seriesPriority=t+1})},function(t){e.$log.error("Series Priority: Error updating series priority; status:- "+t),e.alert.open({message:te.a.getErrorInfo("WCM-9000").message,title:te.a.getErrorInfo("WCM-1013").message,buttonText:"OK"})})}},{key:"hasRdvrVersion2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stb;return e.dvr&&e.dvr&&e.rdvrVersion>1}}]),e}()}),angular.module("ovpApp.rdvr.myRecordings",["ovpApp.rdvr.recordingItem","ovpApp.rdvr.rdvrService","ovpApp.services.rxUtils","ovpApp.components.confirm","ovpApp.messages","ovpApp.components.confirm","ovpApp.services.kiteModal"]).component("myRecordings",{templateUrl:"js/rdvr/my-recordings/my-recordings.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$rootScope:t,rdvrService:n,stbService:r,rx:i,createObservableFunction:o,$q:a,messages:s,CONFIRM_BUTTON_TYPE:c,$state:l,kiteModalService:u})}return e.$inject=["$rootScope","rdvrService","stbService","rx","createObservableFunction","$q","messages","CONFIRM_BUTTON_TYPE","$state","kiteModalService"],e.$inject=["$rootScope","rdvrService","stbService","rx","createObservableFunction","$q","messages","CONFIRM_BUTTON_TYPE","$state","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.recordingGroups=[],this.teardown=this.createObservableFunction(),this.errorDialogPopup=null,this.stbService.currentStbSource.do(function(t){return e.stb=t}).filter(function(t){return e.hasRdvrVersion2(t)}).flatMap(function(t){return e.getMyRecordingGroups(t)}).takeUntil(this.teardown).subscribe(function(t){e.processRecordings(t),e.updateLoadingIndicator(t),e.updateSubheader(t),e.handleError(t)})}},{key:"$onDestroy",value:function(){this.teardown()}},{key:"getMyRecordingGroups",value:function(e){var t=this.stbService.currentStbSource.skip(1);return this.rdvrService.getMyRecordingGroups(e).takeUntil(t)}},{key:"processRecordings",value:function(e){var t=e.data;e.isComplete?(this.recordingGroups=t,this.recordingGroups.forEach(function(e){return e.deleteGroupSelection=!1})):this.recordingGroups=[]}},{key:"updateLoadingIndicator",value:function(e){var t=e.data,n=e.isComplete;e.error?(this.loading&&(this.loading.reject(),this.loading=void 0),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)):0!==t.length||n?n&&(this.loading&&(this.loading.resolve(),this.loading=void 0),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)):(this.loading&&this.loading.reject(),this.loading=this.$q.defer(),this.$rootScope.$broadcast("message:loading",this.loading.promise,void 0,"DVR Recordings"))}},{key:"updateSubheader",value:function(){this.subheaderOptions={showToggler:!0,id:"myRecordings"}}},{key:"handleError",value:function(e){var t=this,n=e.error;if(n){var r=te.a.getErrorInfo("WRDV-1000");this.$rootScope.$emit("Analytics:error",{errorCode:"WRDV-1000",errorMessage:r.message,errorType:"rdvr",clientErrorCode:n.clientErrorCode}),this.errorDialogPopup||(this.errorDialogPopup=this.kiteModalService.errorAlert("WRDV-1000"),this.errorDialogPopup.promise.finally(function(){return t.errorDialogPopup=null}))}}},{key:"viewChanged",value:function(e){this.view=e,this.updateSubheader()}},{key:"onCheckboxStateChanged",value:function(e,t){e.deleteGroupSelection=t,this.updateSubheader()}},{key:"unselectAll",value:function(){this.recordingGroups.forEach(function(e){return e.deleteGroupSelection=!1}),this.updateSubheader()}},{key:"singleDelete",value:function(e,t){var n=this,r=t.episodes.length>1?"s":"",i="Are you sure you want to delete "+"".concat(t.episodes.length," recording").concat(r," of ").concat(e.title,"?");this.kiteModalService.open({component:"kite-confirm",showCloseIcon:!0,resolve:{primaryButtonLabel:this.CONFIRM_BUTTON_TYPE.YES,secondaryButtonLabel:this.CONFIRM_BUTTON_TYPE.NO,title:"",description:i},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){n.doDelete({asset:e,episodes:t.episodes})})}},{key:"doDelete",value:function(e){var t=this,n=e.asset,r=e.episodes;return this.rdvrService.deleteRecordings(this.stb,r).then(function(){Vi.showToastMessage(t.messages.getMessageForCode("MSG-9097")),t.$rootScope.$broadcast("update-dvr",null,n,null,"confirmed"),t.$rootScope.$broadcast("Analytics:rdvr-delete-recording-succeeded",n,null)},function(e){var r=e.errorCode,i=te.a.getErrorInfo(r);t.kiteModalService.errorAlert(r),t.$rootScope.$broadcast("Analytics:rdvr-delete-recording-failed",n,null,{error:e,errorCode:r,clientErrorCode:e.clientErrorCode,errorMessage:i.message})})}},{key:"hasRdvrVersion2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stb;return e&&e.dvr&&e.rdvrVersion>1}}]),e}()}),function(){function e(e,t,n,r){var i=function(e,t){this.type=e,this.stb=t,this.timeCreatedUtcMsec=(new Date).getTime(),this.lastRefreshTimeUtcMsec=null,this.json=null,this.lastDirtiedTimeUtcMsec=null,this.deserializedTimeUtcMsec=null,this.isFailed=!1,this.failureReason=null,this.scheduledRemovalPromise=null};return i.prototype.scheduleRemoval=function(){var e=this;n.cancel(this.scheduledRemovalPromise),this.scheduledRemovalPromise=n(function(){e.shouldFetchFromService()&&(r.$broadcast("recordings-cache-expired",e),n.cancel(e.scheduledRemovalPromise))},1e3)},i.prototype.getLastRefreshTimeUtcMsec=function(){return this.lastRefreshTimeUtcMsec},i.prototype.getType=function(){return this.type},i.prototype.setLastRefreshTimeUtcSec=function(e){this.lastRefreshTimeUtcMsec=e},i.prototype.setDeserializedTimeUtcSec=function(e){this.deserializedTimeUtcMsec=e},i.prototype.dirtyIntervalNotMet=function(){return this.lastDirtiedTimeUtcMsec&&(new Date).getTime()-this.lastDirtiedTimeUtcMsec<this.getDirtyIntervalMsec()},i.prototype.isExpired=function(){return this.lastRefreshTimeUtcMsec&&(new Date).getTime()-this.lastRefreshTimeUtcMsec>this.getExpiredIntervalMsec()},i.prototype.isAged=function(){return(new Date).getTime()-this.lastRefreshTimeUtcMsec>this.getAgedIntervalMsec()},i.prototype.shouldFetchFromService=function(){var e=!1;return this.isDirty()&&!this.dirtyIntervalNotMet()&&(e=!0),this.isExpired()&&(e=!0),e},i.createKey=function(e,t){if(t&&t.macAddressNormalized)return"rdvr."+e+"."+t.macAddressNormalized},i.prototype.getKey=function(){return i.createKey(this.type,this.stb)},i.prototype.getStb=function(){return this.stb},i.prototype.getAgedIntervalMsec=function(){return 1e3*e.AGED},i.prototype.getExpiredIntervalMsec=function(){return 1e3*e.EXPIRED},i.prototype.getDirtyIntervalMsec=function(){return 1e3*e.DIRTY},i.prototype.getIntervalUntilRefreshAllowedSec=function(){var e=this.getDirtyIntervalMsec()-((new Date).getTime()-this.lastDirtiedTimeUtcMsec);return e<0&&(e=0),e},i.prototype.deserialize=function(e){var t=angular.fromJson(e);this.type=t.type,this.stb=t.stb,this.timeCreatedUtcMsec=t.timeCreatedUtcMsec,this.lastRefreshTimeUtcMsec=t.lastRefreshTimeUtcMsec,this.lastDirtiedTimeUtcMsec=t.lastDirtiedTimeUtcMsec,this.deserializedTimeUtcMsec=(new Date).getTime(),this.json=t.json,this.scheduleRemoval()},i.prototype.isDirty=function(){return null!==this.lastDirtiedTimeUtcMsec},i.prototype.dirtied=function(){this.lastDirtiedTimeUtcMsec=(new Date).getTime()},i.prototype.update=function(e){this.json=e,this.dirtied()},i.prototype.refreshCompleted=function(e){this.json=e,this.lastRefreshTimeUtcMsec=(new Date).getTime(),this.scheduleRemoval()},i.prototype.refreshFailed=function(e){this.isFailed=!0,this.failureReason=e,this.json=null,this.lastRefreshTimeUtcMsec=(new Date).getTime()},i.prototype.getJson=function(){return this.json},i.prototype.toString=function(){return this.stb.macAddressNormalized},i}e.$inject=["RecordingsCacheIntervals","dateUtil","$interval","$rootScope"],e.$inject=["RecordingsCacheIntervals","dateUtil","$interval","$rootScope"],angular.module("ovpApp.rdvr.recordingsCache",["ovpApp.legacy.DateUtil"]).constant("RecordingsCacheIntervals",{DIRTY:30,EXPIRED:120,AGED:15}).factory("RecordingsCache",e)}(),function(){function e(e,t,r){t.currentStbSource.subscribe(function(){var i=e.getState(r.current.name);i&&!i.enabled()&&n(t).then(function(e){return r.go(e)})})}function t(e,t,r){function i(e){var t=e.injector().get("stbService");return e.injector().getAsync("setTopBoxes").then(function(){return t.hasSupportedDVR().then(function(r){if(!r)return"ovp.livetv";var i,o=e.to().name;"ovp.dvr"===o?i=!0:i=!e.injector().get("rdvrStateService").getState(o).enabled();return i?n(t):void 0})})}r.when("/DVR",["$state",function(e){e.go("ovp.dvr")}]),r.when("/dvr",["$state",function(e){e.go("ovp.dvr")}]),r.when("/dvr/rdvr/my-recordings",["$state",function(e){e.go("ovp.dvr.my-recordings")}]),e.state("ovp.dvr",{redirectTo:i,data:{capability:t.RDVR,subheader:50,dvrOnly:!0},url:"/rdvr",resolve:{setTopBoxes:["stbService",function(e){return e.getSTBs().then(function(){return e.selectDefaultDvr()})}]},views:{"subMenu@":{controller:["$scope","rdvrStateService","$state",function(e,t,n){e.menuItems=t.states,e.state=n}],templateUrl:"js/rdvr/sub-header/sub-header.html"},appView:{component:"rdvrPage"}}}),e.state("ovp.dvr.my-recordings",{redirectTo:i,data:{pageTitle:"DVR - My Recordings"},url:"/my-recordings",component:"myRecordings"}),e.state("ovp.dvr.scheduled",{redirectTo:i,data:{pageTitle:"DVR - Scheduled"},url:"/scheduled",component:"rdvrScheduled"}),e.state("ovp.dvr.priority",{redirectTo:i,data:{pageTitle:"DVR - Priority"},url:"/priority",component:"rdvrPriority"})}function n(e){return e.selectDefaultDvr().then(function(){return e.getCurrentStb().then(function(t){return e.defaultDvrLanding().then(function(e){var n="ovp.dvr.my-recordings";return t&&(t.dvr||t.isDvr)&&(n=e),n})})})}t.$inject=["$stateProvider","CAPABILITIES","$urlRouterProvider"],e.$inject=["rdvrStateService","stbService","$state"],t.$inject=["$stateProvider","CAPABILITIES","$urlRouterProvider"],e.$inject=["rdvrStateService","stbService","$state"],angular.module("ovpApp.rdvr.router",["ui.router","ovpApp.services.stbService","ovpApp.rdvr.rdvrStateService"]).run(e).config(t)}(),angular.module("ovpApp.rdvr",["ovpApp.services.stbService","ovpApp.rdvr.router","ovpApp.rdvr.diskUsage","ovpApp.rdvr.rdvrService","ovpApp.rdvr.myRecordings","ovpApp.rdvr.scheduled","ovpApp.rdvr.priority","ovpApp.rdvr.rdvrToolbar","ovpApp.messages","ovpApp.legacy.DateUtil","ovpApp.rdvr.cacheService","ovpApp.services.apiErrorCodesService"]).component("rdvrPage",{templateUrl:"js/rdvr/rdvr.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{$scope:t,messages:n,stbService:r})}return e.$inject=["$scope","messages","stbService"],e.$inject=["$scope","messages","stbService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.stbService.currentStbSource.subscribe(function(t){return e.setTopBox=t})}},{key:"hasDvr",value:function(){return this.setTopBox&&this.setTopBox.dvr}}]),e}()}),function(){function e(e,t,n,r){var i=[],o={getCache:c,createNewCache:function(e,n,r){var o=new t(e,n);o.refreshCompleted(r),l(o),i[t.createKey(e,n)]=o},updateCache:function(e,n,r){var i=c(e,n);i||(i=new t(e,n));i.update(r),l(i)},clearCache:u};return function(){var e,t,r,o=C.a.localStorage;for(e in o)if(Object.prototype.hasOwnProperty.call(o,e)&&((t=e).indexOf("rdvr."+n.COMPLETED)>-1||t.indexOf("rdvr."+n.SCHEDULED)>-1||t.indexOf("rdvr."+n.SERIES_PRIORITY)>-1||t.indexOf("rdvr."+n.DISK_USAGE)>-1)){var c=!(r=a(t)).getJson()||!r.getJson().data;r.isAged()||c?s(r):i[t]=r}}(),r.$on("recordings-cache-expired",function(e,t){t&&s(t)}),o;function a(e){var n,r=C.a.getItem(e);return r&&(n=new t).deserialize(r),n}function s(e){var n=e.getType(),r=e.getStb(),o=t.createKey(n,r);delete i[o],C.a.removeItem(o)}function c(e,n){var r=t.createKey(e,n),o=i[r];return o&&o.shouldFetchFromService()&&u(r),i[r]}function l(e){C.a.setItem(e.getKey(),angular.toJson(e))}function u(e,o){var a=t.createKey(e,o);delete i[a],C.a.removeItem(a),e===n.SCHEDULED&&r.$broadcast("DVR:clearScheduledRecordingsCache")}}e.$inject=["$log","RecordingsCache","recordingsListType","$rootScope"],e.$inject=["$log","RecordingsCache","recordingsListType","$rootScope"],angular.module("ovpApp.rdvr.cacheService",["ovpApp.rdvr.recordingsCache","ovpApp.rdvr.rdvrService"]).factory("rdvrCacheService",e)}(),angular.module("ovpApp.rdvr.mockDataService",["ngResource","ngMockE2E"]).run(["$resource","$httpBackend","$log",function(e,t,n){n.info("############################################################"),n.info("############ This will instantiate mock services ###########"),n.info("############################################################"),t.whenGET(/^\/*js\/*/).passThrough(),t.whenGET(/.*\/usage/).respond(e("/js/test/fixtures/rdvr/diskUsage.json").get()),t.whenGET(/.*\/stbs/).respond(e("/js/test/fixtures/rdvr/setTopBoxes.json").get()),t.whenGET(/.*\/recorded(([\?\&]maxEventCount=[0-9]+)|([\?\&]startIndex=0))+/).respond(e("/js/test/fixtures/rdvr/recorded.json").get()),t.whenGET(/.*\/recorded(([\?\&]maxEventCount=[0-9]+)|([\?\&]startIndex=50))+/).respond(e("/js/test/fixtures/rdvr/recorded.50.json").get()),t.whenGET(/.*\/recording/).respond(e("/js/test/fixtures/rdvr/recordings.json").get()),t.whenGET(/.*\/recorded\/play\/[0-9]+\/[A-Z0-9]+\/[0-9]+/).respond(200),t.whenPUT(/.*\/recorded\/delete/).respond(e("/js/test/fixtures/rdvr/recorded.delete.json").get()),t.whenGET(/.*\/nmdepgs\/v1\/guide\/channels/).respond(e("/js/test/fixtures/rdvr/channels.json").get()),t.whenGET(/.*\/scheduled$/).respond(206,e("/js/test/fixtures/rdvr/scheduled.json").get()),t.whenGET(/.*\/scheduled\?startUnixTimestampSeconds=1410237000$/).respond(206,e("/js/test/fixtures/rdvr/scheduled.1410237000.json").get()),t.whenGET(/.*\/scheduled\?startUnixTimestampSeconds=1410426000$/).respond(200,e("/js/test/fixtures/rdvr/scheduled.1410426000.json").get()),t.whenDELETE(/.*\/scheduled\/[0-9]+\/[A-Z0-9]+\/[0-9]+\//).respond(200,""),function(){var n=e("/js/test/fixtures/rdvr/scheduled.json").get();n.$promise.then(function(){var r=n.recordings[1];t.whenPUT(new RegExp([".*","schedule",r.mystroServiceId,r.tmsProgramId,r.startUnixTimestampSeconds].join("/")+"/")).respond(409,e("/js/test/fixtures/rdvr/conflicts.json").get()),t.whenPUT(/.*\/schedule\/[0-9]+\/[A-Z0-9]+\/[0-9]+\//).respond(200,"")})}(),t.whenGET(/.*\/scheduled\/conflicts\/[0-9]+\/[A-Z0-9]+\/[0-9]+\/series/).respond(200,e("/js/test/fixtures/rdvr/conflicts.json").get())}]),function(){function e(e,t,n,r,i,o,a,s,c,d,p){var h={},v=Date.now();return{getSeriesPriorities:function(e){return f(e).seriesPriorities.source},setSeriesPriorities:function(e,t){return f(e).seriesPriorities.setSeriesPriorities(t)},getMyRecordingGroups:function(e){return f(e).myRecordings.source.map(function(e){var t={},n=[];return e.data.forEach(function(e){var r=e.tmsSeriesId;if(r in t)t[r].episodes.push(e);else{var i={episodes:[e]};n.push(i),angular.isDefined(r)&&(t[r]=i)}}),angular.extend({},e,{data:n})})},getCompletedAndInProgressRecordings:function(e){return f(e).myRecordings.source},getUsage:function(e){return f(e).diskUsage.source},resumeCompletedRecording:function(e,t){return g(e,t,!0)},playCompletedRecording:function(e,t){return g(e,t,!1)},deleteRecordings:function(e,t){return f(e).myRecordings.deleteRecordings(t).then(function(n){return n.data.failedDeletions.length<t.length&&f(e).diskUsage.reset(),n}).catch(function(e){switch(e.status){case 400:e.errorCode="WRDV-1007";break;case 404:e.errorCode="WRDV-1008";break;case 440:e.errorCode="WRDV-1010";break;case 475:e.errorCode="WRDV-1011";break;default:e.errorCode="WRDV-1012"}throw e})},getScheduledRecordings:function(e){return function(e){var t=Date.now(),n=parseInt(l.a.getSelectorValue(u.Vd));v&&t-v>n&&b(e)}(e),f(e).scheduledRecordings.source},resetScheduledRecordings:b,cancelScheduled:function(e,t,n){var i={actionType:n?"cancelRecording":"cancelSeriesRecording"},o={};return f(e).scheduledRecordings.cancelScheduled(t,n).then(function(){r.$broadcast("update-dvr",o,t,i),n||d(function(){b(e)},parseInt(l.a.getSelectorValue(u.Vd)))},function(e){switch(e.status){case 400:e.errorCode="WRDV-1013";break;case 404:e.errorCode="WRDV-1014";break;case 475:e.errorCode="WRDV-1015";break;default:e.errorCode="WRDV-1016"}var n=te.a.getErrorInfo(e.errorCode);r.$emit("update-dvr",o,t,i,{errorCode:String(e.errorCode),clientErrorCode:e.clientErrorCode,errorMessage:n.message}),p.open({component:"kite-alert",showCloseIcon:!0,resolve:{title:n.title,description:n.message},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})})},scheduleRecording:function(e,t){return f(e).scheduledRecordings.scheduleRecording(t).then(function(){t.recordSeries&&d(function(){b(e)},parseInt(l.a.getSelectorValue(u.Vd)))})},getScheduledConflicts:function(t,r){if(!t||!t.dvr)return e.resolve([]);var o=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+m(t.rdvrVersion)+t.macAddressNormalized+l.a.getSelectorValue(u.mb)+"/"+r.mystroServiceId+"/"+r.tmsProgramId+"/"+r.startTime+"/"+(r.recordSeries?"series":"single"),a={withCredentials:!0,params:{lineupId:r.lineupId}};return n.get(o,a).retry(2).map(function(e){return e.data.conflictingRecordings=e.data.conflictingRecordings||[],e.data.conflictingRecordings.map(function(e){return e.programMetadata||function(e){e.programMetadata={imageUrl:"/imageserver/program/"+e.tmsProgramId,mystroServiceId:e.mystroServiceId,rating:"",title:"",episodeTitle:"",seasonNumber:"",episodeNumber:"",genres:[]}}(e),i.createInstance(e)})}).toPromise(e)},isMovie:function(e){return e&&"MV"===e.substring(0,2)},getSeriesRecordingSettings:function(e){var t=e.series,n=e.episode,r=e.stream,o=e.settings,a=e.isNew,s=e.conflicted;s=s||!1,o=o||{deleteWhenSpaceIsNeeded:!0,numEpisodesToKeep:7,priority:"MIN",recordOnlyAtThisAirTime:!1,recordOnlyNewEpisodes:!1,startAdjustMinutes:0,stopAdjustMinutes:0};var c=r.streamProperties,l={conflicted:s,mystroServiceId:""+c.mystroServiceID,displayChannel:c.allChannelNumbers.includes(t.displayChannel)?t.displayChannel:c.allChannelNumbers[0],programMetadata:{episodeNumber:n.episodeNumber,episodeTitle:n.title,genres:t.genres,rating:t.rating,tmsProgramId:t.tmsProgramId,tmsSeriesId:t.tmsSeriesId,title:t.title},recordSeries:!0,settings:o,startUnixTimestampSeconds:Math.floor(c.startTime/1e3),tmsProgramId:c.tmsProviderProgramID,isNew:a};return i.createInstance(l)},getEventRecordingSettings:function(e){var t=e.asset,n=e.stream,r=e.settings,o=e.isNew,a=e.conflicted;a=a||!1,r=r||{deleteWhenSpaceIsNeeded:!0,numEpisodesToKeep:7,priority:"MIN",recordOnlyAtThisAirTime:!1,recordOnlyNewEpisodes:!1,startAdjustMinutes:0,stopAdjustMinutes:0};var s=n.streamProperties,c={conflicted:a,mystroServiceId:""+s.mystroServiceID,programMetadata:{episodeNumber:t.episodeNumber,episodeTitle:t.title,genres:t.genres,rating:t.rating,tmsProgramId:t.tmsProgramIds[0],tmsSeriesId:t.tmsSeriesId,title:t.title},displayChannel:s.allChannelNumbers.includes(t.displayChannel)?t.displayChannel:s.allChannelNumbers[0],settings:r,startUnixTimestampSeconds:Math.floor(s.startTime/1e3),tmsProgramId:s.tmsProviderProgramID,isNew:o};t.isEpisode&&t.seriesTitle&&t.seriesTitle!==t.title&&(c.programMetadata.title=t.seriesTitle,c.programMetadata.episodeTitle=t.title,c.programMetadata.seasonNumber=t.seasonNumber,c.programMetadata.episodeNumber=t.episodeNumber);return i.createInstance(c)}};function f(e){var t=e.macAddressNormalized;return h[t]||(h[t]={scheduledRecordings:new o(e),myRecordings:new c(e),seriesPriorities:new a(e),diskUsage:new s(e)}),h[t]}function m(e){return l.a.getSelectorValue(u.lb).replace("*",e)}function g(r,i,o){if(!r||!r.dvr)return t.Observable.empty();var a=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+m(r.rdvrVersion)+r.macAddressNormalized+(o?l.a.getSelectorValue(u.rb):l.a.getSelectorValue(u.qb))+i.mystroServiceId+"/"+i.tmsProgramId+"/"+i.startTime;return n.get(a,{withCredentials:!0}).toPromise(e)}function b(e){return v=Date.now(),f(e).scheduledRecordings.reset()}}e.$inject=["$q","rx","rxhttp","$rootScope","recordingViewModelDefinition","ScheduledRecordingsDatasource","SeriesPriorityDatasource","DiskUsageDatasource","MyRecordingsDatasource","$timeout","kiteModalService"],e.$inject=["$q","rx","rxhttp","$rootScope","recordingViewModelDefinition","ScheduledRecordingsDatasource","SeriesPriorityDatasource","DiskUsageDatasource","MyRecordingsDatasource","$timeout","kiteModalService"],angular.module("ovpApp.rdvr.rdvrService",["ovpApp.rdvr.recordingsCache","ovpApp.rdvr.cacheService","ovpApp.services.stbService","ovpApp.services.epgsService","ovpApp.services.kiteModal","rx","ovpApp.services.rxUtils","ovpApp.dataDelegate","ovpApp.rdvr.datasource"]).constant("recordingsListType",{SCHEDULED:"SCHEDULED",COMPLETED:"COMPLETED",SERIES_PRIORITY:"SERIES_PRIORITY",DISK_USAGE:"DISK_USAGE"}).factory("rdvrService",e)}(),function(){function e(e,t,n,r){var i,o=0,a=t.currentStbSource.skip(1);t.currentStbSource.do(function(e){i=e}).flatMap(function(e){return e.simpleRecordingsOnly?[]:n.getScheduledRecordings(e).takeUntil(a).catch(function(){return r.Observable.empty()})}).subscribe(function(e){o=e.data.some(function(e){return e.conflicted})});var s=function(){return i&&!0===i.dvr&&i.rdvrVersion>1},c=[{title:"My Recordings",description:"",class:"",state:"ovp.dvr.my-recordings",enabled:s,analytics:{appSection:"dvrManager",pageName:"dvrRecordings",isLazyLoad:!1}},{title:"Scheduled",description:"",class:"",state:"ovp.dvr.scheduled",enabled:function(){return!0},badges:function(){return o},analytics:{appSection:"dvrManager",pageName:"dvrScheduled",isLazyLoad:!1}},{title:"Series Priority",description:"",class:"",state:"ovp.dvr.priority",enabled:s,analytics:{appSection:"dvrManager",pageName:"dvrSeriesManager",isLazyLoad:!0}}];return{states:c,getState:function(e){return c.find(function(t){return t.state==e})},nextAvailableState:function(){return c.find(function(e){return e.enabled()})}}}e.$inject=["$rootScope","stbService","rdvrService","rx"],e.$inject=["$rootScope","stbService","rdvrService","rx"],angular.module("ovpApp.rdvr.rdvrStateService",["ovpApp.services.stbService","rx"]).factory("rdvrStateService",e)}(),angular.module("ovpApp.rdvr.scheduled",["ovpApp.components.alert","ovpApp.messages","ovpApp.rdvr.scheduledItem","ovpApp.directives.quiet-loading-tracker","ovpApp.services.rxUtils","ovpApp.components.confirm","ovpApp.services.kiteModal"]).component("rdvrScheduled",{templateUrl:"js/rdvr/scheduled/scheduled.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d,p,h,v,f){we()(this,e),angular.extend(this,{stbService:t,rdvrService:n,$rootScope:r,rx:i,createObservableFunction:o,$q:a,modal:s,CONFIRM_BUTTON_TYPE:c,dateUtil:l,messages:u,alert:d,$state:p,kiteModalService:h,$timeout:v,$document:f})}return e.$inject=["stbService","rdvrService","$rootScope","rx","createObservableFunction","$q","modal","CONFIRM_BUTTON_TYPE","dateUtil","messages","alert","$state","kiteModalService","$timeout","$document"],e.$inject=["stbService","rdvrService","$rootScope","rx","createObservableFunction","$q","modal","CONFIRM_BUTTON_TYPE","dateUtil","messages","alert","$state","kiteModalService","$timeout","$document"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.lfeIndex="00",this.index=0,this.teardown=this.createObservableFunction(),this.errorDialogPopup=null,this.stbService.currentStbSource.filter(function(e){return e.dvr}).do(function(t){return e.stb=t}).flatMap(function(t){return e.getScheduledRecordings(t)}).takeUntil(this.teardown).subscribe(function(t){e.processRecordings(t),e.gatherConflicts(t),e.updateLoadingIndicators(t),e.handleError(t)})}},{key:"$onDestroy",value:function(){this.teardown()}},{key:"gatherConflicts",value:function(e){var t=this,n=e.data,r=e.isComplete;if(this.conflicts=[],this.daysWithConflicts=[],this.conflictTotal=0,n.length>0&&this.recordings){for(var i in this.recordings)if(Object.prototype.hasOwnProperty.call(this.recordings,i)){var o=!1;this.recordings[i].map(function(e){e.conflicted&&(t.conflicts.push(e),o=!0)}),o&&this.daysWithConflicts.push(i)}this.conflictTotal=r?this.conflicts.length:this.conflicts.length+"+",this.conflictMessage=this.messages.getMessageForCode("MSG-9098",{NUMBER:"",useAltText:this.conflicts.length>1}),this.initFilterMenu()}}},{key:"dayHasConflicts",value:function(e){return-1!==this.daysWithConflicts.indexOf(e)}},{key:"getScheduledRecordings",value:function(e){var t=this.stbService.currentStbSource.skip(1);return this.rdvrService.getScheduledRecordings(e).takeUntil(t)}},{key:"getDayKey",value:function(e){return"".concat(this.dayLabel(e),"-").concat(this.dayDisplay(e))}},{key:"processRecordings",value:function(e){var t=this,n=e.data;this.recordings=n.reduce(function(e,n){var r=t.getDayKey(n);return e[r]=e[r]||[],e[r].push(n),e},{})}},{key:"isEmpty",value:function(){return 0===Object.keys(this.recordings||{}).length}},{key:"updateLoadingIndicators",value:function(e){var t=e.data,n=e.isComplete;e.error?(this.loadingFirstBatch&&(this.loadingFirstBatch.reject(),this.loadingFirstBatch=void 0),this.loadingRemainingBatches&&(this.loadingRemainingBatches.reject(),this.loadingRemainingBatches=void 0),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)):0!==t.length||n?t.length>0&&!n?(this.loadingFirstBatch&&(this.loadingFirstBatch.resolve(),this.loadingFirstBatch=void 0),this.loadingRemainingBatches||(this.loadingRemainingBatches=this.$q.defer())):(this.loadingFirstBatch&&(this.loadingFirstBatch.resolve(),this.loadingFirstBatch=void 0),this.loadingRemainingBatches&&(this.loadingRemainingBatches.resolve(),this.loadingRemainingBatches=void 0),this.conflictMessage=this.messages.getMessageForCode("MSG-9098",{NUMBER:"",useAltText:this.conflicts.length>1}),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)):(this.loadingFirstBatch&&this.loadingFirstBatch.reject(),this.loadingRemainingBatches&&(this.loadingRemainingBatches.reject(),this.loadingRemainingBatches=void 0),this.loadingFirstBatch=this.$q.defer(),this.$rootScope.$broadcast("message:loading",this.loadingFirstBatch.promise,void 0,"DVR Scheduled"))}},{key:"handleError",value:function(e){var t=this,n=(e.data,e.error);if(n){var r=te.a.getErrorInfo("WRDV-1000");this.$rootScope.$emit("Analytics:error",{errorCode:"WRDV-1000",errorMessage:r.message,errorType:"rdvr",clientErrorCode:n.clientErrorCode}),this.errorDialogPopup||(this.errorDialogPopup=this.kiteModalService.open({component:"kite-alert",showCloseIcon:!0,resolve:{iconClass:"si si-circle-info-f",title:r.title,description:r.message},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}),this.errorDialogPopup.promise.finally(function(){return t.errorDialogPopup=null}))}}},{key:"dayLabel",value:function(e){if(e&&e.startTime)return this.stbService.getDayLabel(new Date(1e3*e.startTime))}},{key:"dayDisplay",value:function(e){if(e&&e.startTime)return this.stbService.formatUnix(e.startTime,"mmmm dx")}},{key:"onCheckboxStateChanged",value:function(e,t){e.cancelScheduledSelection=t}},{key:"lastFocussedElement",value:function(e){this.lfeIndex=e}},{key:"getCancelButtonDescription",value:function(e){return"Cancel the recording of "+e.title+" on "+this.stbService.formatUnix(e.startTime,"mmmm dx, hh:nn a")+" on channel "+e.displayChannel+"?"}},{key:"getRecordingDescription",value:function(e){return e.title+" "+(e.conflicted?". In conflict.":"")+(e.releaseInformation||"")+" "+(e.episodeTitle||"")+" "+this.stbService.formatUnix(e.startTime,"mmmm dx, hh:nn a")+" on channel "+e.displayChannel}},{key:"cancelRecording",value:function(e){var t=this;this.kiteModalService.open({component:"kiteConfirm",showCloseIcon:!0,resolve:{analyticsModalName:"rdvrConfirmCancellation",description:this.getCancelButtonDescription(e)},ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){var n=t.rdvrService.cancelScheduled(t.stb,e,!0);return t.$rootScope.$broadcast("message:loading",n),n.then(function(){var n=t.getDayKey(e);t.recordings=$u($u({},t.recordings),{},f()({},n,on()(t.recordings[n].filter(function(t){return t.tmsProgramId!==e.tmsProgramId}))))})})}},{key:"getConflictNumber",value:function(e){if(this.conflicts&&-1!==this.conflicts.indexOf(e))return this.conflicts.indexOf(e)+1}},{key:"initFilterMenu",value:function(){this.filterPresets=[{title:"Show all recordings",label:"All",id:"all"},{title:"Show only recordings with conflicts",label:"Conflicts",id:"conflicts"}],this.setFilter(this.getFilterPreset())}},{key:"getFilterPreset",value:function(){var e,t=C.a.getItem(k.b.rdvrFilter);return t&&(e=this.filterPresets.find(function(e){return e.id===t})),e||this.filterPresets[0]}},{key:"setFilter",value:function(e){if(!e)return!1;this.activeFilter=e.id,C.a.setItem(k.b.rdvrFilter,e.id)}},{key:"showConflictsOnly",value:function(){return"conflicts"===this.activeFilter}}]),e}()}),angular.module("ovpApp.rdvr.scheduledItem",["ovpApp.messages","ovpApp.components.modal","ovpApp.components.editConflict","ovpApp.rdvr.rdvrService","ovpApp.services.stbService"]).component("rdvrScheduleListItem",{bindings:{recording:"<",state:"<",onStateChanged:"&",cancelButtonDescription:"<",recordingDescription:"<",cancelCallBack:"&",idIndex:"<",lastFocussedElement:"&",conflictNumber:"<"},templateUrl:"js/rdvr/scheduled/scheduled-item.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$state:t,messages:n,rdvrCacheService:r,stbService:i,$rootScope:o,alert:a,modal:s,rdvrService:c,recordingsListType:l,kiteModalService:u})}return e.$inject=["$state","messages","rdvrCacheService","stbService","$rootScope","alert","modal","rdvrService","recordingsListType","kiteModalService"],e.$inject=["$state","messages","rdvrCacheService","stbService","$rootScope","alert","modal","rdvrService","recordingsListType","kiteModalService"],Ce()(e,[{key:"$onChanges",value:function(e){e.recording&&(this.startTime=this.stbService.formatUnix(this.recording.startTime,"h:nn a")),e.conflictNumber&&e.conflictNumber.currentValue&&(this.conflictMessage=this.messages.getMessageForCode("MSG-9098",{NUMBER:this.conflictNumber})),e.state&&"boolean"!=typeof this.state&&(this.state=!1)}},{key:"click",value:function(){this.showProductPage()}},{key:"stateToggled",value:function(e){e.stopPropagation(),this.onStateChanged({recording:this.recording,state:this.state})}},{key:"isMovie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.recording;return this.rdvrService.isMovie(e.tmsProgramId)}},{key:"showConflictPopup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.recording,n=this.stbService.getCurrentStb().then(function(n){return e.rdvrService.getScheduledConflicts(n,t)});this.$rootScope.$broadcast("message:loading",n,"DVR Scheduled"),n.then(function(t){if(angular.isDefined(t)&&0===t.length)e.rdvrCacheService.clearCache(e.recordingsListType.SCHEDULED,e.setTopBox),e.alert.open({message:te.a.getErrorInfo("WCM-9000").message,title:te.a.getErrorInfo("WCM-1016").message,buttonText:"OK"});else{var n=[e.recording];n.push.apply(n,on()(t)),e.kiteModalService.open({component:"editConflict",showCloseIcon:!0,resolve:{conflictingRecordings:n},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"}).promise.then(function(t){"success"===t&&e.stbService.getCurrentStb().then(function(t){return e.rdvrService.resetScheduledRecordings(t),e.rdvrService.getScheduledRecordings(t)})})}},function(){e.alert.open({message:te.a.getErrorInfo("WCM-9000").message,title:te.a.getErrorInfo("WCM-1016").message,buttonText:"OK"})})}},{key:"showProductPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.recording;angular.isDefined(e.tmsSeriesId)?this.$state.go("product.series",{tmsSeriesId:e.tmsSeriesId,serviceId:e.mystroServiceId,airtime:e.startTime,tmsProgramId:e.tmsProgramId}):this.$state.go("product.event",{tmsId:e.tmsProgramId,serviceId:e.mystroServiceId,airtime:e.startTime})}},{key:"productActionClicked",value:function(){this.$rootScope.$emit("Analytics:rdvr-cancel",{}),this.cancelCallBack(this.recording)}},{key:"onCancelButtonFocus",value:function(){this.lastFocussedElement({index:this.idIndex})}}]),e}()}),function(){function e(e,t,n,r){return function(){function i(e,t,o){we()(this,i),this.stb=e,this.cacheKey=t,this.initialValue=o,this.reset=n(),this.wrapRecording=function(){var e={};return function(t){var n=function(e){return""+e.tmsProgramId+e.mystroServiceId+e.startUnixTimestampSeconds+e.recordSeries}(t);return e[n]||(e[n]=r.createInstance(t)),e[n]}}()}return i.$inject=["stb","cacheKey","initialValue"],i.$inject=["stb","cacheKey","initialValue"],Ce()(i,[{key:"clearCache",value:function(){t.clearCache(this.cacheKey,this.stb)}},{key:"saveToCache",value:function(e){e!==this.initialValue&&t.createNewCache(this.cacheKey,this.stb,{data:e.data,nextParams:e.nextParams})}},{key:"convertResultBeforeEmitting",value:function(e){return{data:e.data,isComplete:e!==this.initialValue&&!e.nextParams,error:e.error,lastUpdated:e.lastUpdated,busyUntil:e.busyUntil}}},{key:"batchGet",value:function(t,n){var r=this;return t(n).concatMap(function(n){return n.nextParams?r.batchGet(t,n.nextParams).startWith(n):e.Observable.just(n)})}},{key:"batchGetWithCache",value:function(n){var r,i,o=n.getter,a=n.initialParams,s=t.getCache(this.cacheKey,this.stb);if(s&&(r=s.getJson()),s&&!r.nextParams)r.lastUpdated=s.getLastRefreshTimeUtcMsec(),s.isDirty()&&(r.busyUntil=s.lastDirtiedTimeUtcMsec+s.getDirtyIntervalMsec()),i=e.Observable.just(r);else{var c=r&&r.nextParams||a;i=this.batchGet(o,c),r&&(i=i.startWith(r))}return i}},{key:"mergeBatches",value:function(e,t){return e&&(t.data=e.data.concat(t.data)),t}},{key:"mergeBatchesWithDuplicates",value:function(e,t){var n=this;if(e){var r=e.data;t.data.forEach(function(e){r.find(function(t){return n.recordingsEqual(t,e)})||(r[r.length]=e)}),t.data=r}return t}},{key:"getDvrBase",value:function(){return l.a.getSelectorValue(u.lb).replace("*",this.stb.rdvrVersion)}},{key:"createEmptyProgramMetadata",value:function(e){e.programMetadata={imageUrl:"/imageserver/program/"+e.tmsProgramId,mystroServiceId:e.mystroServiceId,rating:"",title:"",episodeTitle:"",seasonNumber:"",episodeNumber:"",genres:[]}}},{key:"recordingsEqual",value:function(e,t){return e.tmsProgramId===t.tmsProgramId&&e.mystroServiceId===t.mystroServiceId&&e.startUnixTimestampSeconds===t.startUnixTimestampSeconds&&e.recordSeries===t.recordSeries}}]),i}()}e.$inject=["rx","rdvrCacheService","createObservableFunction","recordingViewModelDefinition"],e.$inject=["rx","rdvrCacheService","createObservableFunction","recordingViewModelDefinition"],angular.module("ovpApp.rdvr.datasource",["rx","ovpApp.services.rxUtils","ovpApp.dataDelegate","ovpApp.rdvr.recordingsCache","ovpApp.rdvr.cacheService"]).factory("AbstractDatasource",e)}(),angular.module("ovpApp.product.actionMenu",["ovpApp.services.bookmark","ovpApp.product.button","ovpApp.product.productActionService"]).component("actionMenu",{bindings:{actions:"<",asset:"<"},templateUrl:"js/product/actions/action-menu.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{productActionService:t,$element:n,$scope:r})}return e.$inject=["productActionService","$element","$scope"],e.$inject=["productActionService","$element","$scope"],Ce()(e,[{key:"$onInit",value:function(){this.carouselConfig={showReturnArrow:!1,useArrows:!1},this.hoveredItem=void 0}},{key:"$postLink",value:function(){this.$element.on("focus",".hoverwatch",this.createUpdateHandler("blur")),this.$element.on("mouseenter",".hoverwatch",this.createUpdateHandler("mouseleave"))}},{key:"createUpdateHandler",value:function(e){var t=this,n=function(e){t.hoveredItem===e.data.buttonScope.item&&(t.hoveredItem=void 0,t.$scope.$applyAsync())};return function(r){if(r.currentTarget){var i=angular.element(r.currentTarget),o=i.scope();o.item&&(t.hoveredItem=o.item,t.$scope.$applyAsync(),i.off(e,n),i.on(e,{buttonScope:o},n))}}}},{key:"$onDestroy",value:function(){this.$element.off("focus",".hoverwatch"),this.$element.off("mouseenter",".hoverwatch")}},{key:"getHoverText",value:function(){return this.hoveredItem&&this.productActionService.getActionHoverText(this.asset,this.hoveredItem)||""}}]),e}()});var Tu="save",Ou={CONFIRM:"confirm",RENTING:"renting",ERROR:"error"};function Eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pu=function(e){return angular.element(document.body).injector().get("modal").open({component:"pinValidate",pinType:"purchaseControl",resolve:{options:e}}).result.then(function(e){"pinValidated"===e&&!0},function(e){return"forgotPIN"===e?(!0,angular.element(document.body).injector().get("modal").open({windowClass:"productPopup-temp",component:"authForm"}).result.then(function(e){return Iu(e)})):Promise.reject(e)})},Iu=function(e){var t=angular.element(document.body).injector().get("purchasePinPopUpConfig"),n=angular.element(document.body).injector().get("modal"),r=Au(Au({},t[Tu]),{password:e});return n.open({component:"pinReset",resolve:{options:r}}).result.then(function(e){"pinReset"===e&&!0})},xu=function(e){var t=angular.element(document.body).injector().get("ProductRentalService"),n=angular.element(document.body).injector().get("$rootScope"),r=e.asset,i=t.getRentalOptions(r)[0],o=r.streamList[i.streamIndex],a={context:"tvodFlow",success:!1,triggeredBy:"user",featureCurrentStep:5,ignoreIfPurchaseStopIsSeen:!0},s=Ou.CONFIRM;n.$emit("Analytics:tvod-purchase-start"),t.validatePins(r,o).then(function(t){t.skipConfirm&&(s=Ou.RENTING),Ae.a.open({component:"rentalModal",ariaLabelledBy:"rental-modal-container",showCloseIcon:!0,doNotCloseAutomatically:!0,resolve:Au(Au({},e),{},{analyticsModalName:"rentalConfirmationModal",ignoreModalView:t.skipConfirm,initialState:s,selectedStream:o,assetDetails:i})}).promise.finally(function(){setTimeout(function(){n.$emit("Analytics:tvod-purchase-stop",a)},0)})},function(){n.$emit("Analytics:tvod-purchase-stop",Au({source:"analyticsModalView!"},a))})};function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}!function(){function e(e,t,n,r,i,o,a,s,c,d,p,h,v,f,m,g){return{executeAction:function(u,f,C,$){var T=null;f.streamList&&angular.isDefined(u.streamIndex)&&(T=f.streamList[u.streamIndex]);switch(o.$broadcast("product:action",u,f,T,$),u.actionType){case t.addToWatchList.id:return new Promise(function(n){e.addToWatchlist(f).then(function(e){e&&(u.actionType=t.removeFromWatchList.id,n({asset:f,action:u}))})});case t.removeFromWatchList.id:return new Promise(function(n){e.deleteFromWatchlist(f).then(function(e){e&&(u.actionType=t.addToWatchList.id,n({asset:f,action:u}))})});case t.watchOnDemandIP.id:case t.resumeOnDemandIP.id:"TOD"===T.streamProperties.ondemandStreamType?n.go("ovp.ondemand.playProduct",{productID:T.streamProperties.providerAssetID,streamIndex:u.streamIndex,asset:f}):n.go("ovp.ondemand.playProduct",{productID:T.streamProperties.providerAssetID,asset:f});break;case t.watchLiveIP.id:n.go("ovp.livetv",{tmsid:T.streamProperties.tmsGuideServiceId,displayChannel:f.displayChannel});break;case t.resumeOnDemandOnTv.id:case t.watchOnDemandOnTv.id:var O=0;T.streamProperties&&T.streamProperties.bookmark&&T.streamProperties.bookmark.playMarkerSeconds&&(O=T.streamProperties.bookmark.playMarkerSeconds);var E=f.actions.find(function(e){return e.actionType===t.watchOnDemandIP.id||e.actionType===t.resumeOnDemandIP.id});S(f,E,u,function(e){return i.flickToVodQam(T.streamProperties.providerAssetID,O,e)});break;case t.watchLiveOnTv.id:var A;a.getCurrentStbPromise().then(function(e){A=e}),i.tuneToChannel(f.streamList[u.streamIndex]).then(function(){var e=f.title+(A.name?" on "+A.name:"");Vi.showToastMessage("Playing: "+e)},function(e){c.error(e.message,e),Vi.showToastMessage(e.errorMessage+" ("+e.errorCode+")")});break;case t.playRecordingOnTv.id:var P={mystroServiceId:T.streamProperties.mystroServiceID,tmsProgramId:f.tmsProgramIds[0],startTime:Math.floor(T.streamProperties.startTime/1e3)};S(f,null,u,function(e){return s.playCompletedRecording(e,P)});break;case t.editRecording.id:case t.scheduleRecording.id:case t.cancelRecording.id:a.getCurrentStbPromise().then(function(e){e.simpleRecordingsOnly?function(e,t,n){var r,i;r=s.getEventRecordingSettings({asset:t,stream:t.streamList[n.streamIndex],isNew:!0}),i=h.absolute.expanded.atTime(new Date(parseInt(1e3*r.startTime)));var a={okLabel:d.YES,cancelLabel:d.NO,preOkMessage:m.getMessageForCode("MSG-9092",{TITLE:t.title,DATE:i,CHANNEL:r.displayChannel}),postOkMessage:m.getMessageForCode("MSG-9091",{TITLE:t.title}),okAction:function(){return s.scheduleRecording(e,r)},getErrorString:function(){return te.a.getErrorInfo("WCM-1400",{TITLE:t.title}).message}};o.$emit("Analytics:modal-start"),p.open({component:"confirm",resolve:{options:a}})}(e,f,u):function(e,t){var n,r=e.streamList[t.streamIndex],i="editRecording"!==t.actionType&&"cancelRecording"!==t.actionType;n=s.getEventRecordingSettings({asset:e,stream:r,isNew:i,settings:r&&r.streamProperties&&r.streamProperties.rdvrRecording&&r.streamProperties.rdvrRecording.settings}),o.$emit("Analytics:modal-start"),g.open({showCloseIcon:!0,component:"EditScheduled",resolve:{scheduledRecording:n,seriesOnly:!1},ariaLabelledBy:"scheduled-recording-dialog-header",ariaDescribedBy:"scheduled-recording-dialog-description"}).promise.then(function(n){n.recording&&o.$broadcast("update-dvr",n.recording,e,t,n.reason)})}(f,u)});break;case t.scheduleSeriesRecording.id:case t.editSeriesRecording.id:case t.cancelSeriesRecording.id:a.getCurrentStbPromise().then(function(e){e.simpleRecordingsOnly?function(e,t,n){var r,i,a,c,l;if(void 0!==n.seasonIndex&&void 0!==n.episodeIndex&&void 0!==n.streamIndex)try{a=t.seasons[n.seasonIndex],i=a.episodes[n.episodeIndex],r=i.streamList[n.streamIndex],c=s.getSeriesRecordingSettings({series:t,episode:i,stream:r,isNew:"editSeriesRecording"!==n.actionType}),l=h.absolute.expanded.atTime(new Date(parseInt(1e3*c.startTime)));var u={okLabel:d.YES,cancelLabel:d.NO,preOkMessage:m.getMessageForCode("MSG-9092",{TITLE:t.title,DATE:l,CHANNEL:c.displayChannel}),postOkMessage:m.getMessageForCode("MSG-9091",{TITLE:t.title}),okAction:function(){return s.scheduleRecording(e,c)},getErrorString:function(){return te.a.getErrorInfo("WCM-1400",{TITLE:t.title}).message}};o.$emit("Analytics:modal-start"),p.open({component:"confirm",resolve:{options:u}})}catch(e){Vi.showToastMessage("Were sorry, we were unable to schedule your recording. Please try again later.")}}(e,f,u):function(e,t){var n,r,i,a;void 0!==t.seasonIndex&&void 0!==t.episodeIndex&&void 0!==t.streamIndex?(i=e.seasons[t.seasonIndex],r=i.episodes[t.episodeIndex],n=r.streamList[t.streamIndex],a=s.getSeriesRecordingSettings({series:e,episode:r,stream:n,isNew:"editSeriesRecording"!==t.actionType,settings:n&&n.streamProperties&&n.streamProperties.rdvrRecording&&n.streamProperties.rdvrRecording.settings}),o.$emit("Analytics:modal-start"),g.open({showCloseIcon:!0,component:"EditScheduled",resolve:{scheduledRecording:a,seriesOnly:!0},ariaLabelledBy:"scheduled-recording-dialog-header",ariaDescribedBy:"scheduled-recording-dialog-description"}).promise.then(function(n){n&&"update-schedule"===n.reason?Vi.showToastMessage(m.getMessageForCode("MSG-9089")):n&&"cancel-schedule"===n.reason&&Vi.showToastMessage(m.getMessageForCode("MSG-9090")),n&&n.recording&&o.$broadcast("update-dvr",n.recording,e,t,n.reason)})):c.error("Unable to determine the correct stream to use when recording action:",t)}(f,u)});break;case t.deleteRecording.id:!function(e,t){g.open({component:"kite-confirm",ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description",showCloseIcon:!0,resolve:{primaryButtonLabel:"Delete Recording",secondaryButtonLabel:"Keep Recording",title:"Delete Recording",description:m.getMessageForCode("MSG-9096")}}).promise.then(function(){a.getCurrentStbPromise().then(function(n){var r=e.streamList[t.streamIndex];if(r&&r.streamProperties){var i=v.createInstance({mystroServiceId:r.streamProperties.mystroServiceID,tmsProgramId:e.tmsProgramIds[0],startUnixTimestampSeconds:Math.floor(r.streamProperties.startTime/1e3)});s.deleteRecordings(n,i).then(function(){Vi.showToastMessage(m.getMessageForCode("MSG-9097")),o.$broadcast("update-dvr",i,e,t,"confirmed"),o.$broadcast("Analytics:rdvr-delete-recording-succeeded",e,t)},function(n){var r=n.errorCode,a=te.a.getErrorInfo(r);g.errorAlert(r),o.$broadcast("update-dvr",i,e,t,"error"),o.$broadcast("Analytics:rdvr-delete-recording-failed",e,t,{error:n,errorCode:r,clientErrorCode:n.clientErrorCode,errorMessage:a.message})})}})})}(f,u);break;case t.cdvrPlayRecording.id:case t.cdvrResumeRecording.id:var I=T.streamProperties.cdvrRecording,x=I.tmsProgramId,_=I.recordingId;n.go("ovp.ondemand.playCdvr",{isCdvr:!0,tmsProgramID:x,streamIndex:u.streamIndex,recordingId:_,asset:f});break;case t.cdvrScheduleRecording.id:case t.cdvrEditRecording.id:w(f,u,T);break;case t.cdvrScheduleSeriesRecording.id:case t.cdvrEditSeriesRecording.id:k(f,u);break;case t.cdvrCancelSeriesRecording.id:!function(e,t,i){var a,s,c,l,u="OneApp_selectAction_cdvrCancelRecording";"ovp.cdvr.recorded"===n.current.name&&(u="OneApp_selectAction_cdvr_overflowActionsSheet_cancelRecording");var d=Du(Du({},Ci(e)),{},{msgTriggeredUsing:Object(Li.c)(),ctntStrmEntitled:null===e||void 0===e?void 0:e.isEntitled,ctntStrmParntllyBlocked:!!(null===e||void 0===e?void 0:e.isBlockedByParentalControls),currPageSecName:lt.h.CONVERSION_AREA,opType:lt.g.BUTTON_CLICK,opRecOptions:Du(Du({},$i(e)),{},{startAdjustMinutes:null===e||void 0===e?void 0:null===(a=e.cdvrSeriesRecording)||void 0===a?void 0:a.startAdjustMinutes,stopAdjustMinutes:null===e||void 0===e?void 0:null===(s=e.cdvrSeriesRecording)||void 0===s?void 0:s.stopAdjustMinutes,deleteWhenSpaceIsNeeded:null===e||void 0===e?void 0:null===(c=e.cdvrSeriesRecording)||void 0===c?void 0:c.deleteWhenSpaceIsNeeded,recordOnlyNew:null===e||void 0===e?void 0:null===(l=e.cdvrSeriesRecording)||void 0===l?void 0:l.recordOnlyNew,recordingScheduleType:lt.j.SERIES})});Object(y.j)(u,d),g.open({component:"kite-confirm",ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description",showCloseIcon:!0,resolve:{primaryButtonLabel:"Cancel Recording",secondaryButtonLabel:"Keep Recording",analyticsModalName:"cdvrConfirmCancellation",title:"Cancel Series Recording",description:m.getMessageForCode("MSG-9093")}}).promise.then(function(){return Object(y.j)("OneApp_selectAction_cdvrCancelRecording_confirm",Du(Du({},d),{},{msgTriggeredUsing:Object(Li.c)()})),r.cancelSeriesRecording(t).then(function(){Object(y.j)("OneApp_cdvrRequestToCancelRecording_series_success",d),o.$broadcast("update-dvr",{},e,t,"cancelled"),Vi.showToastMessage(m.getMessageForCode("MSG-9094")),i&&i()},function(e){var t=te.a.getErrorInfo("WCD-1003");Object(y.j)("OneApp_requestToCancelRecording_failure",Du(Du({},d),{},{appErrorCode:"WCD-1003",appErrorMessage:t.message})),g.errorAlert("WCD-1003")})},function(){Object(y.j)("OneApp_selectAction_cdvrCancelRecording_cancel",Du(Du({},d),{},{msgTriggeredUsing:Object(Li.c)()}))})}(f,u,C);break;case t.cdvrCancelRecording.id:!function(e,t,i){var a,s,c,l,u,d,p,h,v,f,b,S,w,k;!i&&(null===e||void 0===e?void 0:e.streamList)&&(null===e||void 0===e?void 0:null===(a=e.streamList)||void 0===a?void 0:a.length)>0&&(i=e.streamList[0]);var C="OneApp_selectAction_cdvrCancelRecording";"ovp.cdvr.recorded"===n.current.name&&(C="OneApp_selectAction_cdvr_overflowActionsSheet_cancelRecording");var $=Du(Du({},Ci(e,i)),{},{msgTriggeredUsing:Object(Li.c)(),ctntStrmEntitled:e.isEntitled,ctntStrmParntllyBlocked:e.isBlockedByParentalControls,currPageSecName:lt.h.CONVERSION_AREA,opType:lt.g.BUTTON_CLICK,opRecOptions:Du(Du({},$i(e,i)),{},{startTime:null===(s=i)||void 0===s?void 0:null===(c=s.streamProperties)||void 0===c?void 0:c.startTime,endTime:null===(l=i)||void 0===l?void 0:null===(u=l.streamProperties)||void 0===u?void 0:u.endTime,startAdjustMinutes:null===(d=i)||void 0===d?void 0:null===(p=d.streamProperties)||void 0===p?void 0:null===(h=p.cdvrRecording)||void 0===h?void 0:h.startAdjustMinutes,stopAdjustMinutes:null===(v=i)||void 0===v?void 0:null===(f=v.streamProperties)||void 0===f?void 0:null===(b=f.cdvrRecording)||void 0===b?void 0:b.stopAdjustMinutes,deleteWhenSpaceIsNeeded:null===(S=i)||void 0===S?void 0:null===(w=S.streamProperties)||void 0===w?void 0:null===(k=w.cdvrRecording)||void 0===k?void 0:k.deleteWhenSpaceIsNeeded,recordingScheduleType:lt.j.SINGLE})});Object(y.j)(C,$),g.open({component:"kite-confirm",showCloseIcon:!0,resolve:{analyticsModalName:"cdvrConfirmCancellation",title:"Cancel Recording",description:m.getMessageForCode("MSG-9095"),primaryButtonLabel:"Cancel Recording",secondaryButtonLabel:"Keep Recording"},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){Object(y.j)("OneApp_selectAction_cdvrCancelRecording_confirm",Du(Du({},$),{},{msgTriggeredUsing:Object(Li.c)()}));var n=r.cancelRecording(t).then(function(){Object(y.j)("OneApp_requestToCancelRecording_success",$),o.$broadcast("update-dvr",{},e,t,"cancelled"),Vi.showToastMessage(m.getMessageForCode("MSG-9094"))},function(e){var t=te.a.getErrorInfo("WCM-1003");Object(y.j)("OneApp_requestToCancelRecording_failure",Du(Du({},$),{},{appErrorCode:"WCM-1003",appErrorMessage:t.message})),g.errorAlert("WCM-1003")});return o.$broadcast("message:loading",n),n},function(){Object(y.j)("OneApp_selectAction_cdvrCancelRecording_cancel",Du(Du({},$),{},{msgTriggeredUsing:Object(Li.c)()}))})}(f,u,T);break;case t.cdvrDeleteRecording.id:!function(e,t,n,i){var a,s,c,l,u,d,p,h,v,f,b=Du(Du({},Ci(e,i)),{},{msgTriggeredUsing:Object(Li.c)(),ctntStrmEntitled:e.isEntitled||(null===i||void 0===i?void 0:null===(a=i.streamProperties)||void 0===a?void 0:a.entitled),ctntStrmParntllyBlocked:e.isBlockedByParentalControls||(null===i||void 0===i?void 0:null===(s=i.streamProperties)||void 0===s?void 0:s.parentallyBlocked),currPageSecName:lt.h.CONVERSION_AREA,opType:lt.g.BUTTON_CLICK,opRecOptions:Du(Du({},$i(e,i)),{},{startTime:null===i||void 0===i?void 0:null===(c=i.streamProperties)||void 0===c?void 0:c.startTime,endTime:null===i||void 0===i?void 0:null===(l=i.streamProperties)||void 0===l?void 0:l.endTime,startAdjustMinutes:null===i||void 0===i?void 0:null===(u=i.streamProperties)||void 0===u?void 0:null===(d=u.cdvrRecording)||void 0===d?void 0:d.startAdjustMinutes,stopAdjustMinutes:null===i||void 0===i?void 0:null===(p=i.streamProperties)||void 0===p?void 0:null===(h=p.cdvrRecording)||void 0===h?void 0:h.stopAdjustMinutes,deleteWhenSpaceIsNeeded:null===i||void 0===i?void 0:null===(v=i.streamProperties)||void 0===v?void 0:null===(f=v.cdvrRecording)||void 0===f?void 0:f.deleteWhenSpaceIsNeeded})}),S=(null===e||void 0===e?void 0:e.isSeries)?"OneApp_selectAction_cdvrDeleteRecording":"OneApp_selectAction_cdvr_seriesRecordingDetails_deleteEpisode";Object(y.j)(S,b),g.open({component:"kite-confirm",ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description",showCloseIcon:!0,resolve:{primaryButtonLabel:"Delete Recording",secondaryButtonLabel:"Keep Recording",analyticsModalName:"cdvrConfirmDeletion",title:"Delete Recording",description:m.getMessageForCode("MSG-9096")}}).promise.then(function(){return Object(y.j)("OneApp_selectAction_cdvrDeleteRecording_confirm",Du(Du({},b),{},{msgTriggeredUsing:Object(Li.c)()})),r.deleteRecording(t).then(function(){Object(y.j)("OneApp_requestToDeleteRecording_success",b),o.$broadcast("update-dvr",{},e,t,"deleted"),Vi.showToastMessage(m.getMessageForCode("MSG-9097")),n&&n(e)},function(e){var t=te.a.getErrorInfo("WCD-1012");Object(y.j)("OneApp_requestToDeleteRecording_failure",Du(Du({},b),{},{appErrorCode:"WCD-1012",appErrorMessage:t.message})),g.errorAlert("WCD-1012")})},function(){Object(y.j)("OneApp_selectAction_cdvrDeleteRecording_cancel",Du(Du({},b),{},{msgTriggeredUsing:Object(Li.c)()}))})}(f,u,C,T);break;case t.cdvrScheduleSeriesRecordingNotAvailable.id:case t.cdvrScheduleRecordingNotAvailable.id:Vi.showToastMessage("This program is not recordable by your Cloud DVR service");break;case t.otherWaysToWatch.id:!function(e){o.$emit("Analytics:modal-start"),g.open({showCloseIcon:!0,windowClass:"other-ways-popup-window",component:"otherWaysPopup",ariaLabelledBy:"ariaLabelledByText",resolve:{asset:e}})}(f);break;case t.rentOnDemand.id:!function(e,t){xu({asset:e,action:t})}(f,u);break;case t.watchTrailerIP.id:n.go("ovp.ondemand.playProduct",{productID:T.streamProperties.providerAssetID,trailer:!0,streamIndex:T.index,asset:f});break;case t.watchSeriesTrailer.id:var D=f.seriesTrailer.streamList[u.streamIndex];n.go("ovp.ondemand.playProduct",{productID:Object(b.c)(D,"streamProperties.providerAssetID"),streamIndex:l.a.getStatePath("config.data.overrideSeriesTrailerStreamIndex")?0:D.index,seriesTrailer:!0,asset:f});break;default:c.debug("action not implemented:",u.actionType)}},isToggleAction:function(e,t){return!0===$(e,t,"toggleAction")},getAriaPressedValue:function(e,t){return $(e,t,"ariaPressed")},getActionIcon:function(e,t){return $(e,t,"icon")},getActionLabel:C,getActionHoverText:function(e,t){return $(e,t,"hoverText")},getActionAriaLabel:function(e,t){return $(e,t,"ariaLabel")},getOtherWaysActionLabel:function(e,t){var n=$(e,t,"otherWaysLabel");void 0===n&&(n=C(e,t));return n},getOtherWaysToWatchSrOnlyLabel:function(e,t){return $(e,t,"otherWaysToWatchSrOnlyLabel")},isRoute:function(e,t){return $(e,t,"isRoute")}};function S(e,r,i,s){i.actionType!==t.playRecordingOnTv.id&&l.a.getSelectorValue(u.Td)?p.open({component:"stb-picker",windowClass:"ovp-watch-on-tv-picker-container",showCloseIcon:!1,ariaDescribedBy:"picker-description",ariaLabelledBy:"picker-label",resolve:{stbs:a.getSTBs().then(function(e){return e.filter(function(e){return e.flickable})}),onSelect:function(){return s},title:function(){return"Select TV to watch"}}}).result.then(function(t){var a={stb:t,asset:e,ipAction:r,tvAction:i};f.remotePlay(a),o.$broadcast("Analytics:switchScreen",{switchScreenId:t.macAddress}),n.go("ovp.playRemote",a)},function(t){var n=t.error,r=t.stb;if(n&&r){c.error(n);var i=te.a.getErrorInfo("WCM-1001",{TITLE:e.title,STB:r.name||void 0});return o.$broadcast("Analytics:switchScreen",{switchScreenId:r?r.macAddress:"unknown",error:n,errorCode:String("WCM-1001"),clientErrorCode:n.clientErrorCode,errorMessage:i}),g.errorAlert("WCM-1001").promise}}):a.getCurrentStbPromise().then(function(t){s(t).then(function(){if(l.a.getSelectorValue(u.Td)){var a={stb:t,asset:e,ipAction:r,tvAction:i};f.remotePlay(a),n.go("ovp.playRemote",a)}else{var s=m.getMessageForCode("MSG-9088",{TITLE:e.title,STB:t.name||t.macAddress});Vi.showToastMessage(s)}o.$broadcast("Analytics:switchScreen",{switchScreenId:t.macAddress})},function(n){c.error(n);var r=te.a.getErrorInfo("WCM-1001",{TITLE:e.title,STB:t.name||t.macAddress}).message;Vi.showToastMessage(r),o.$broadcast("Analytics:switchScreen",{switchScreenId:t?t.macAddress:"unknown",errorCode:String("WCM-1001"),clientErrorCode:n.clientErrorCode,errorMessage:r})})})}function w(e,n,r){var i,o,a=t.cdvrEditRecording.id===n.actionType,s=Du({startAdjustMinutes:0,stopAdjustMinutes:0,deleteWhenSpaceIsNeeded:!0,recordingScheduleType:lt.j.SINGLE,startTime:null===r||void 0===r?void 0:null===(i=r.streamProperties)||void 0===i?void 0:i.startTime,endTime:null===r||void 0===r?void 0:null===(o=r.streamProperties)||void 0===o?void 0:o.endTime,isEdit:a},a?e.cdvrRecording:{}),c=a?"OneApp_selectAction_cdvrEditRecording":"OneApp_selectAction_cdvrRecord",l=lt.h.CONVERSION_AREA;e.isEpisode&&!a&&(c="OneApp_selectAction_cdvrRecordEpisode",l=lt.h.EPISODE_LIST_AREA);var u=Ci(e,r);Object(y.j)(c,Du(Du({},u),{},{msgTriggeredUsing:Object(Li.c)(),ctntStrmEntitled:null===e||void 0===e?void 0:e.isEntitled,ctntStrmParntllyBlocked:!!(null===e||void 0===e?void 0:e.isBlockedByParentalControls),currPageSecName:l,opRecOptions:Du(Du({},$i(e,r)),s)})),g.open({component:"recordCdvr",ariaLabelledBy:"dialog-label",showCloseIcon:!0,resolve:{analyticsModalName:a?"cdvrRequestToEdit":"cdvrConfirmRecord",asset:e,action:n,stream:r,isSeries:!1,initialOptions:s}})}function k(e,n){var r=t.cdvrEditSeriesRecording.id===n.actionType,i=function(e,t){var n=e.callSign.toUpperCase(),r=t.callSign.toUpperCase();return n<r?-1:n>r?1:0},a=Du({startAdjustMinutes:0,stopAdjustMinutes:0,deleteWhenSpaceIsNeeded:!0,recordOnlyNew:!0,recordingScheduleType:lt.j.SERIES,isEdit:r},r?e.cdvrSeriesRecording:{}),s=Du(Du({},Ci(e)),{},{msgTriggeredUsing:Object(Li.c)(),ctntStrmEntitled:null===e||void 0===e?void 0:e.isEntitled,ctntStrmParntllyBlocked:!!(null===e||void 0===e?void 0:e.isBlockedByParentalControls),currPageSecName:lt.h.CONVERSION_AREA,opRecOptions:Du(Du({},$i(e)),a)});Object(y.j)(r?"OneApp_selectAction_cdvrEditRecording":"OneApp_selectAction_cdvrRecord",s),o.$emit("Analytics:modal-start"),g.open({component:"recordCdvr",ariaLabelledBy:"dialog-label",showCloseIcon:!0,resolve:{analyticsModalName:r?"cdvrConfirmEdit":"cdvrConfirmRecord",asset:e,action:n,channels:function(){var t=e.cdvrChannelPickerTmsGuideIds.map(function(e){return ea.a.getChannels({tmsGuideId:"".concat(e)}).then(function(e){return e[0]})});return Promise.all(t).then(function(e){return e.filter(function(e){return!!e}).sort(i)})},isSeries:!0,initialOptions:a}})}function C(e,t){return $(e,t,"label")}function $(e,n,r){if(n&&n.actionType&&t[n.actionType]){var i=t[n.actionType][r];return angular.isFunction(i)&&e&&(i=i(e,n)),i}}}e.$inject=["BookmarkService","actionTypeMap","$state","cdvrService","flickToService","$rootScope","stbService","rdvrService","$log","CONFIRM_BUTTON_TYPE","modal","dateFormat","recordingViewModelDefinition","remotePlayService","messages","kiteModalService"],e.$inject=["BookmarkService","actionTypeMap","$state","cdvrService","flickToService","$rootScope","stbService","rdvrService","$log","CONFIRM_BUTTON_TYPE","modal","dateFormat","recordingViewModelDefinition","remotePlayService","messages","kiteModalService"],angular.module("ovpApp.product.productActionService",["ui.router","ovpApp.services.bookmark","ovpApp.services.cdvr","ovpApp.services.flickTo","ovpApp.services.stbService","ovpApp.rdvr","ovpApp.rdvr.rdvrService","ovpApp.rdvr.scheduled","ovpApp.components.templatePopup.editScheduled","ovpApp.components.recordCdvr","ovpApp.components.modal","ovpApp.components.alert","ovpApp.components.kiteGrowl","ovpApp.product.service","ovpApp.product.rental-service","ovpApp.services.dateFormat","ovpApp.remotePlayer","ovpApp.dataDelegate","ovpApp.services.kiteModal"]).factory("productActionService",e)}(),function(){function e(e){return{restrict:"E",scope:!0,templateUrl:"js/product/actions/product-button.html",link:function(t,n,r){r.action&&(t.item=e(r.action)(t)),r.asset&&(t.asset=e(r.asset)(t))},controller:n}}function t(e){return{restrict:"A",scope:!0,link:function(t,n,r){r.action&&(t.item=e(r.action)(t)),r.asset&&(t.asset=e(r.asset)(t)),t.$watch("item",function(e){e&&t.isValid(e.actionType)?n.show():n.hide()})},controller:n}}function n(e,t,n,r,i,o){var a={imageWidth:144};e.productLoading=!1,e.itemConfig=a,e.$watch("containerConfig",function(t){t&&t.itemConfig&&(e.itemConfig=angular.extend({},a,t.itemConfig))}),e.$on("product:update-started",function(t,n,r,i){e.productLoading=!0,i?i.then(function(){e.productLoading=!1},function(){e.productLoading=!1}):o(function(){e.productLoading=!1},1e3)}),e.isValid=function(e){return angular.isDefined(t[e])&&t[e].id},e.disabled=function(e){return!!angular.isDefined(t[e])&&(angular.isFunction(t[e].disabled)?t[e].disabled():!!t[e].disabled)},e.actionTypeToLabel=function(t){if(t)return n.getActionLabel(e.asset,t)},e.actionTypeToHoverText=function(t){if(t)return n.getActionHoverText(e.asset,t)},e.actionTypeToOtherWaysToWatchSrOnlyLabel=function(r){return t[e.item.actionType].otherWaysToWatchSrOnlyLabel?n.getOtherWaysToWatchSrOnlyLabel(e.asset,r):e.actionTypeToHoverText(r)},e.actionTypeToOtherWaysLabel=function(t){if(t)return n.getOtherWaysActionLabel(e.asset,t)},e.actionTypeToButtonGraphic=function(t){if(t&&n.getActionIcon(e.asset,t))return"#"+n.getActionIcon(e.asset,t)},e.id=function(e){return e?"button-".concat(e.actionType,"-").concat(e.streamIndex):""},e.productActionClicked=function(t,r){e.disabled(t.actionType)||n.executeAction(t,r)}}n.$inject=["$scope","actionTypeMap","productActionService","$controller","$rootScope","$timeout"],t.$inject=["$parse"],e.$inject=["$parse"],n.$inject=["$scope","actionTypeMap","productActionService","$controller","$rootScope","$timeout"],t.$inject=["$parse"],e.$inject=["$parse"],angular.module("ovpApp.product.button",["ovpApp.product.actionMenu"]).directive("productButton",e).directive("productButtonActions",t)}(),angular.module("ovpApp.product.episodes",["ovpApp.dataDelegate","ovpApp.services.dateFormat","ovpApp.product.productActionService"]).animation(".accordion-animation",function(){return{enter:function(e){e.hide().slideDown()},leave:function(e){e.slideUp()}}}).component("productEpisode",{bindings:{episode:"<",description:"<",selected:"<",isElevated:"<",onSelected:"&"},templateUrl:"js/product/episode-list/product-episode.html",controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{$window:t,productService:n,$rootScope:r,$filter:i,oohService:o,$timeout:a})}return e.$inject=["$window","productService","$rootScope","$filter","oohService","$timeout"],e.$inject=["$window","productService","$rootScope","$filter","oohService","$timeout"],Ce()(e,[{key:"showClick",value:function(e){this.onSelected({episode:this.episode}),e.stopPropagation(),e.preventDefault()}},{key:"isIE",value:function(){var e=this.$window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}},{key:"showBookmark",value:function(){return this.isPercent(this.episode.viewStatus)}},{key:"isPercent",value:function(e){return"number"==typeof e}},{key:"episodeStatus",value:function(){var e="";return this.episode.isBlockedByParentalControls?e="blocked":!1===this.episode.isEntitled?e="unentitled":this.$rootScope.location&&l.a.getSelectorValue(ge.h)&&this.episode.availableOutOfHome&&(e="availableOutOfHome"),e}},{key:"originalAirDateMessage",value:function(){return"Original airdate ".concat(this.$filter("date")(this.episode.originalAirDate))}},{key:"availabilityMessage",value:function(){return this.productService.availabilityMessage(this.episode)}},{key:"isUnavailableOoh",value:function(){return this.oohService.isUnavailableOoh(this.episode)}},{key:"oohAvailabilityMessage",value:function(){return this.oohService.oohAvailabilityMessage()}}]),e}()}),angular.module("ovpApp.product.episodes").component("productEpisodeList",{bindings:{fetcher:"<",series:"<",app:"@",tmsProgramId:"<",seriesCurrent:"<"},templateUrl:"js/product/episode-list/product-episode-list.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u,d){we()(this,e),angular.extend(this,{$element:t,$document:n,$scope:r,$rootScope:i,productService:o,$filter:a,CDVR_STATE:s,actionTypeMap:c,$q:l,dateFormat:u,$timeout:d})}return e.$inject=["$element","$document","$scope","$rootScope","productService","$filter","CDVR_STATE","actionTypeMap","$q","dateFormat","$timeout"],e.$inject=["$element","$document","$scope","$rootScope","productService","$filter","CDVR_STATE","actionTypeMap","$q","dateFormat","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.$scope.$on("update-dvr",function(){return e.actionExecuting()}),this.focusAction=!1,this.$scope.$on("product:update-started",function(t,n){e.focusAction=!0!==n.isSeries}),this.series=this.seriesCurrent}},{key:"$onChanges",value:function(e){e.seriesCurrent&&(this.series=this.seriesCurrent,this.onSeriesChanged())}},{key:"actionExecuting",value:function(){var e=this;this.fetcher&&this.$q.when(this.fetcher(!0)).then(function(t){e.series=t,e.onSeriesChanged()})}},{key:"onSeriesChanged",value:function(){this.extractBonusContent(),this.pickElevatedEpisode(),this.selectDefaultEpisode(),this.assignElementIndices()}},{key:"assignElementIndices",value:function(){var e=0;this.elevated&&this.elevated.episode&&(this.elevated.episode.elementIndex=e++),this.series&&this.series.seasons&&this.series.seasons.filter(function(e){return e.episodes}).forEach(function(t){t.episodes.forEach(function(t){return t.elementIndex=e++})})}},{key:"extractBonusContent",value:function(){if(this.series&&this.series.seasons){var e=this.series.seasons.filter(function(e){return"Other"!==e.name}),t=this.series.seasons.find(function(e){return"Other"===e.name}),n=t?t.episodes.filter(function(e){return e.isPreview}):[],r=t?t.episodes.filter(function(e){return!e.isPreview}):[];this.seasons=e,r.length>0&&this.seasons.push({name:"Other episodes",episodes:r}),n.length>0&&this.seasons.push({name:"Clips and more",episodes:n})}}},{key:"pickElevatedEpisode",value:function(){"livetv"===this.app?this.elevated=this.byLiveNow():"ondemand"===this.app?this.elevated=this.byBookmark():"myLibrary"===this.app?this.elevated=this.byBookmark():"rdvr"===this.app||"cdvr"===this.app?this.elevated=this.bySpecifiedEpisode()||this.byRecentlyRecorded():"search"===this.app?this.elevated=this.byLiveNow()||this.byBookmark():"guide"===this.app&&(this.elevated=this.bySpecifiedEpisode())}},{key:"bySpecifiedEpisode",value:function(){var e,t=this;if(this.tmsProgramId&&this.seasons.forEach(function(n){return n.episodes.some(function(n){return n.tmsProgramIds.indexOf(t.tmsProgramId)>-1&&(e=n,!0)})}),e){var n;if(e.isOnNow)n="Currently airing live";else{var r=e.nextLinearStream;n=r?this.dateFormat.absolute.atTime(parseInt(r.streamProperties.startTime)):"Upcoming"}return{description:n,episode:angular.copy(e)}}}},{key:"byBookmark",value:function(){var e;if(this.seasons.forEach(function(t){return t.episodes.forEach(function(t){var n=t.bookmark;n&&(!e||n.lastWatchedUtcSeconds>=e.bookmark.lastWatchedUtcSeconds)&&(e=t)})}),e){if(!(e.bookmark.complete||e.bookmark.playMarkerSeconds>=e.bookmark.runtimeSeconds))return{description:"You were watching",episode:angular.copy(e)};var t=this.findNextEpisode(e,this.seasons);if(t)return{description:"You finished Episode ".concat(e.episodeNumber),episode:angular.copy(t)}}var n=this.findLatestEpisode(this.seasons);if(n)return{description:"Watch the latest episode",episode:angular.copy(n)}}},{key:"selectDefaultEpisode",value:function(){var e=this;if(this._previousSelected=this.selectedEpisode,this.selectedEpisode=null,this.tmsProgramId||this._previousSelected){var t=[];this._previousSelected?t=this._previousSelected.tmsProgramIds:t.push(this.tmsProgramId);var n=function(e){return e.tmsProgramIds.some(function(e){return t.indexOf(e)>=0})};this.elevated&&n(this.elevated.episode)?this.selectedEpisode=this.elevated.episode:this.seasons.some(function(t){var r=t.episodes.find(n);if(r)return e.selectedEpisode=r,e.focusAction&&e.selectedEpisode.actions&&(e.focusAction=!1,e.selectedEpisode.actions[0].focus=!0),e.selectedEpisode.isSeriesRecording=e.series.isSeriesRecording,!0})}!this.selectedEpisode&&this.elevated&&(this.selectedEpisode=this.elevated.episode),!this.selectedEpisode&&this.seasons&&this.seasons[0]&&this.seasons[0].episodes&&(this.selectedEpisode=this.seasons[0].episodes[0])}},{key:"selectEpisode",value:function(e){var t=this;this.selectedEpisode!==e?(this.$rootScope.$emit("Analytics:selectEpisode",{asset:e,elementIndex:e.elementIndex}),this.$timeout(function(){t.selectedEpisode=e})):this.$timeout(function(){t.selectedEpisode=null})}},{key:"findNextEpisode",value:function(e,t){var n,r=t.find(function(t){return t.number===e.seasonNumber});if(r&&!(n=this.findNext(r.episodes,e,function(e){return e.episodeNumber}))){var i=this.findNext(t,r,function(e){return e.number});i&&(n=this.findNext(i.episodes,{episodeNumber:-1},function(e){return e.episodeNumber}))}return n}},{key:"findNext",value:function(e,t,n){var r=n(t);return e.reduce(function(e,t){return n(t)>r&&(!e||n(e)>n(t))?t:e},void 0)}},{key:"findLatestEpisode",value:function(e){var t,n;return e.forEach(function(e){return e.episodes.forEach(function(e){e.originalAirDate&&(!t||e.originalAirDate>t.originalAirDate)&&(t=e),e.seasonNumber&&e.episodeNumber&&(!n||function(e,t){return e.seasonNumber>t.seasonNumber||e.seasonNumber===t.seasonNumber&&e.episodeNumber>t.episodeNumber}(e,n))&&(n=e)})}),n||t}},{key:"byLiveNow",value:function(){var e;return this.seasons.some(function(t){return t.episodes.find(function(t){if(t.isOnNow)return e=t,!0})}),e&&{description:"Currently airing live",episode:angular.copy(e)}}},{key:"byRecentlyRecorded",value:function(){var e=this,t=[];this.seasons.forEach(function(n){return t.push.apply(t,on()(n.episodes.filter(e.hasRecordedStream)))});var n=t.sort(this.sortByMostRecentlyRecorded)[0];if(n)return{description:n.streamList.find(function(e){return e.isCDVRRecorded}).cdvrState===this.CDVR_STATE.IN_PROGRESS?"Currently recording":"You've recorded",episode:angular.copy(n)}}},{key:"hasRecordedStream",value:function(e){return e.streamList.some(function(e){return e.isCDVRRecorded})}},{key:"sortByMostRecentlyRecorded",value:function(e,t){var n=e.streamList.find(function(e){return e.isCDVRRecorded}).cdvrRecording.stopTimeSec;return t.streamList.find(function(e){return e.isCDVRRecorded}).cdvrRecording.stopTimeSec-n}}]),e}()});var Nu=function(e){n.$inject=["props"],n.$inject=["props"],In()(n,e);var t=ju(n);function n(e){var r;return we()(this,n),r=t.call(this,e),f()(Ui()(r),"onClick",function(){var e,t=r.props.person&&r.props.person.clickRoute;t&&(t[1]=t[1]||{},t[2]=t[2]||{},r.props.$state.includes("search")?(Wo({asset:r.props.person}),r.props.searchFocusIndex.set(r.props.options.index,r.props.options.parentIndex),(e=r.props.$state).go.apply(e,on()(t))):(t[2].location="replace",r.props.searchService.doNotRedirect=!0,r.props.$state.go("search.blank").then(function(){var e;(e=r.props.$state).go.apply(e,on()(t))})))}),r}return Ce()(n,[{key:"componentDidMount",value:function(){this.props.options&&this.props.options.focusOnLoad&&this.linkElement.focus()}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({imageWidth:147},this.props.options),n=this.props,r=n.person;n.category;return React.createElement("div",{className:"card person-card"},React.createElement("a",{href:"#",className:"thumbnail thumbnail-cover",ref:function(t){return e.linkElement=t},onClick:this.onClick,"aria-label":"".concat(r.name," ").concat(r.roleText||"")},React.createElement("img",{alt:"","aria-hidden":"true",src:r.imageUri({width:t.imageWidth})}),React.createElement("div",{className:"overlay"})),React.createElement("div",{className:"caption truncate","aria-hidden":"true"},React.createElement("span",{className:"name",onClick:this.onClick,tabIndex:"-1"},r.name),React.createElement("div",{className:"role truncate"},React.createElement("small",null,r.roleText))))}}]),n}(Q.Component);Nu.propTypes={person:At.a.object.isRequired,category:At.a.object,options:At.a.object},angular.module("ovpApp.directives.person",["ovpApp.search.searchService"]).component("ovpPerson",Object(Ct.react2angular)(Nu,["person","category","options"],["$state","$rootScope","searchService","searchFocusIndex"])),angular.module("ovpApp.product.cast",["ovpApp.directives.person"]).component("productCast",{bindings:{asset:"<"},templateUrl:"js/product/info/product-cast.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onInit",value:function(){this.carouselConfig={showReturnArrow:!1,useArrows:!1}}}]),e}()});n("pQ4o"),n("9Xcc");function Mu(e){var t=e.children.filter(function(e){return Object(b.c)(e,"props.children")});return X.a.createElement("ul",{className:"horizontal-metadata-list"},X.a.Children.map(t,function(e,t){return X.a.cloneElement(e,{key:t,className:t>0?"styleWithBullet metadata-list-item":"metadata-list-item"})}))}angular.module("ovpApp.product.related",[]).component("productRelated",{bindings:{asset:"<"},templateUrl:"js/product/info/product-related.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$state:t,delegateFactory:n,searchService:r,capabilitiesService:i})}return e.$inject=["$state","delegateFactory","searchService","capabilitiesService"],e.$inject=["$state","delegateFactory","searchService","capabilitiesService"],Ce()(e,[{key:"$onChanges",value:function(e){var t=this;e.asset&&(this.getRelatedShows(),this.relatedCarouselConfig={title:"Related to "+this.asset.title,showTitle:!1,showReturnArrow:!1,itemConfig:{enableRemove:!1,showRentalInfo:"auto",clickCallback:function(e){var n,r=e.clickRoute;r&&(n=t.$state).go.apply(n,on()(r))}}})}},{key:"getRelatedShows",value:function(){var e,t=this;this.related=[],e=this.asset.isSeries?this.searchService.getRelatedByTmsSeriesId(this.asset.tmsSeriesId):this.searchService.getRelatedByTmsProgramId(this.asset.tmsProgramIds[0]);var n=this.capabilitiesService.showEntitledOnly()?function(e){return e.results.filter(function(e){return e.details.entitled}).map(t.delegateFactory.createInstance)}:function(e){return e.results.map(t.delegateFactory.createInstance)};e.retry(3).map(n).subscribe(function(e){return t.related=e})}}]),e}()}),angular.module("ovpApp.product.otherWays",["ovpApp.services.capabilitiesService","ovpApp.product.productActionService","ovpApp.product.button","ovpApp.services.dateFormat","ovpApp.dataDelegate","ovpApp.directives.focus"]).constant("languageLabelMap",{en:"",sp:"ESP",es:"ESP"}).component("otherWaysPopup",{bindings:{resolve:"<"},template:'\n        <p id="ariaLabelledByText" class="sr-only">More Ways to Watch {{$ctrl.resolve.asset.title}}, </p>\n        <other-ways class="other-ways-container" asset="$ctrl.resolve.asset" in-popup="true"/>'}).component("otherWays",{bindings:{asset:"<",inPopup:"<"},templateUrl:"js/product/other-ways/other-ways.html",controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),angular.extend(this,{actionTypeMap:t,languageLabelMap:n,$filter:r,$rootScope:i,dateFormat:o,delegateUtils:a,capabilitiesService:s,$timeout:c})}return e.$inject=["actionTypeMap","languageLabelMap","$filter","$rootScope","dateFormat","delegateUtils","capabilitiesService","$timeout"],e.$inject=["actionTypeMap","languageLabelMap","$filter","$rootScope","dateFormat","delegateUtils","capabilitiesService","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.capabilitiesService.isCdvrEnabled().then(function(t){e.isCdvrEnabled=t}),this.arrowNavOptions={noShiftTabExit:!1}}},{key:"$onChanges",value:function(e){e.asset&&this.onAssetChanged()}},{key:"onTabFocus",value:function(){this.tabFocusablePanel=!0}},{key:"onTabPanelFocus",value:function(){this.tabFocusablePanel=!1}},{key:"onAssetChanged",value:function(){var e=this;this.activeTab="watchHere",!this.asset||this.asset.watchHereActions&&0!==this.asset.watchHereActions.length||(this.activeTab="watchOnTv");var t=l.a.getSelectorValue(ge.h),n=function(n){var r={label:e.getLabel(n.actionType),timeAvailability:e.getTimeAvailability(n),lang:e.getLanguageLabel(n),network:e.getNetwork(n),statusIcon:e.getStatusIcon(n),ooh:t,streamProps:e.getStreamProperties(n),chNumber:e.getChannelNumber(n),callSign:e.getCallSign(n),cdvrNotCompleted:e.cdvrNotCompleted(n),isSeriesRecording:!(!e.asset||!e.asset.parentSeries)&&e.asset.parentSeries.isSeriesRecording};return Object.assign(r,n)};this.asset?(this.watchOnTvActions=this.asset.watchOnTvActions.filter(function(e){return"otherWaysToWatch"!==e.actionType}).map(n),this.watchHereActions=this.asset.watchHereActions.filter(function(e){return"otherWaysToWatch"!==e.actionType}).map(n)):(this.watchOnTvAction=[],this.watchHereActions=[])}},{key:"setActiveTab",value:function(e){"watchHere"===e&&this.watchHereActions&&this.watchHereActions.length>0?this.activeTab=e:"watchOnTv"===e&&this.watchOnTvActions&&this.watchOnTvActions.length>0&&(this.activeTab=e)}},{key:"getLabel",value:function(e){return this.actionTypeMap[e].otherWaysWatchOnTVLabel}},{key:"getTimeAvailability",value:function(e){if(["futureAiring","scheduleRecording","watchLiveOnTv","watchLiveIP","cdvrScheduleRecording","cdvrCancelRecording","cdvrDeleteRecording","cdvrResumeRecording","cdvrPlayRecording","cdvrEditRecording"].indexOf(this.actionTypeMap[e.actionType].id)>-1){var t=this.asset.streamList[e.streamIndex],n=new Date(parseInt(t.streamProperties.startTime));return this.dateFormat.relative.expanded.atTime(n)}if(["watchOnDemandOnTv","resumeOnDemandOnTv","watchOnDemandIP","resumeOnDemandIP"].indexOf(this.actionTypeMap[e.actionType].id)>-1){var r=this.asset.streamList[e.streamIndex],i=r.streamProperties.tvodEntitlement?1e3*r.streamProperties.tvodEntitlement.rentalEndTimeUtcSeconds:r.streamProperties.endTime,o=new Date(parseInt(i));return"Available until "+this.dateFormat.relative.short.atTime(o)}return""}},{key:"getNetwork",value:function(e){var t=this.asset.streamList[e.streamIndex];if(!t)return"";var n="",r="";return t.network&&t.network.callsign&&(n=t.network.callsign),t.streamProperties.allChannelNumbers&&(r=t.streamProperties.allChannelNumbers[0]),n+(n&&r?" | ":"")+r}},{key:"getChannelNumber",value:function(e){var t=this.asset.streamList[e.streamIndex];if(!t)return"";var n="";return t.streamProperties.allChannelNumbers&&(n=t.streamProperties.allChannelNumbers[0]),n}},{key:"getCallSign",value:function(e){var t=this.asset.streamList[e.streamIndex];if(!t)return"";var n="";return t.network&&t.network.callsign&&(n=t.network.callsign),n}},{key:"getLanguageLabel",value:function(e){var t=this.asset.streamList[e.streamIndex];if(!t)return"";var n=t.streamProperties.primaryAudioLanguage;return this.languageLabelMap[n]}},{key:"getStatusIcon",value:function(e){var t=this.asset.streamList[e.streamIndex];return!(!t||t.isEntitled)&&"unentitled"}},{key:"getStreamProperties",value:function(e){var t=this.asset.streamList[e.streamIndex];if(!t)return{};var n=this.delegateUtils.getStreamProps(t);return n.rating=t.streamProperties.rating||"",n}},{key:"cdvrNotCompleted",value:function(e){var t=this.asset.streamList[e.streamIndex];return!!t&&t.cdvrNotCompleted}}]),e}()}),Mu.propTypes={children:At.a.node.isRequired};var Vu=Mu,Lu=function(e){var t=e.message;return React.createElement("div",{className:"loading-tracker processing-status opaque"},React.createElement("div",{className:"spinner"}),React.createElement("div",{className:"message"},t),React.createElement("div",{className:"clear"}))};function Fu(e){var t=e.src,n=e.transitionSpeed,r=Object(Q.useState)(0),i=Oe()(r,2),o=i[0],a=i[1],s=n?"opacity ".concat(n,"s"):"opacity .5s",c={opacity:o,transition:s};return X.a.createElement("img",{alt:"",onLoad:function(){0===o&&a(1)},style:c,src:t})}Fu.propTypes={src:At.a.string.isRequired,transitionSpeed:At.a.number};var Uu=Fu;function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Hu=function(e){var t=e.asset,n=e.modalInstance,r=e.modalTitle,i=e.setCurrentState,o=e.oohUnavailable,a=n.options.resolve.assetDetails,s=a.title,c=a.rating,l=a.year,u=a.length,d=a.price,p=te.a.getErrorInfo("WLC-1012").message;return X.a.createElement("div",{tabIndex:"-2",className:"rent-confirm"},X.a.createElement("h1",{id:"rentalDialogTitle",className:"kite-h3 rental-modal-title"},r),X.a.createElement("div",{className:"vertical-wrapper"},X.a.createElement("div",null,X.a.createElement("div",{className:"image-container"},X.a.createElement(Uu,{src:t.imageUri({width:210})}))),X.a.createElement("div",{className:"metadata"},X.a.createElement("div",null,X.a.createElement("div",{className:"title-details"},X.a.createElement("h2",{className:"kite-h3 asset-title"},s),X.a.createElement("div",{className:"price"},"$",d),X.a.createElement(Vu,null,X.a.createElement("li",null,c),X.a.createElement("li",null,l),X.a.createElement("li",null,u))),o&&X.a.createElement("div",null,X.a.createElement("p",{className:"unavailable-message"},p))),X.a.createElement("div",{className:"bottom-sticky"},X.a.createElement("button",{className:"kite-btn kite-btn-primary kite-btn-sm",onClick:function(){return i(Ou.RENTING)}},"Rent"),X.a.createElement("button",{className:"kite-btn kite-btn-secondary kite-btn-sm",onClick:function(){return n.close("cancel")}},"Cancel")))))},Gu=function(e){var t=e.asset,n=e.errorDetails,r=e.modalInstance;return X.a.createElement("div",{className:"row vertical-wrapper"},X.a.createElement("div",null,X.a.createElement("div",{className:"image-container"},X.a.createElement(Uu,{src:t.imageUri({width:210})}))),X.a.createElement("div",{className:"metadata"},X.a.createElement(Nn,{focusOnLoad:!0},X.a.createElement("h1",{className:"kite-h3 asset-title",tabIndex:"-2"},"Failed to rent ",t.title)),X.a.createElement("p",null,n.message),X.a.createElement("div",{className:"bottom-sticky"},X.a.createElement("button",{className:"kite-btn kite-btn-primary",onClick:function(){return r.close("error")}},"Ok"))))},qu=function(e){var t=e.asset;return X.a.createElement("div",null,X.a.createElement(Nn,{focusOnLoad:!0},X.a.createElement("h1",{id:"rental-status-label",className:"text-center kite-h2 asset-title",tabIndex:"-2"},"You are about to watch...")),X.a.createElement("div",{className:"col-md-16 text-center lead"},t.title),X.a.createElement(Lu,null))};var zu=function(e){var t=e.modalInstance,n=e.rent,r=e.rentalError,i=t.options.resolve,o=i.asset,a=i.initialState,s=Object(Q.useState)(a),c=Oe()(s,2),l=c[0],u=c[1];Object(Q.useEffect)(function(){var e=!0;return l===Ou.RENTING&&n().then(function(){e&&t.close("success")},function(t){e&&(r(t),u(Ou.ERROR))}),function(){e=!1}},[l]);var d=Wu(Wu({},e),{},{asset:o,setCurrentState:u});return X.a.createElement("div",{className:"rental-modal-container rental-dialog"},function(e){return{confirm:X.a.createElement(Hu,e),renting:X.a.createElement(qu,e),error:X.a.createElement(Gu,e)}}(d)[l])};function Yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yu(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ju="WTX-9000",Qu="Are you sure you want to rent this?",Xu=!0;function Zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}angular.module("ovpApp.rentalModal",["ovpApp.product.rental-service","ovpApp.services.oohService"]).component("rentalModal",Object(Ct.react2angular)(function(e){var t=e.$rootScope,n=e.ProductRentalService,r=e.modalInstance,i=e.oohService,o=r.options.resolve,a=o.asset,s=o.initialState,c=o.assetDetails,l=o.selectedStream,u=Object(Q.useState)({}),d=Oe()(u,2),p=d[0],h=d[1],v=i.isUnavailableOoh(l);Object(Q.useEffect)(function(){s===Ou.CONFIRM&&(Xu=!1)},[]);var f=Ku({rent:function(){return Xu||t.$broadcast("Analytics:select",{source:5,category:"navigation",featureStepName:"confirmRental",context:"tvodFlow",pageName:"rentConfirmation",elementUiName:"rent",pageSectionName:"conversionArea",elementStandardizedName:"confirm",triggeredBy:"user",operationType:"buttonClick",featureCurrentStep:4}),n.confirmRental(a,c)},rentalError:function(e){var n=e.code||Ju,r=Ku({},te.a.getErrorInfo(n));h(r),t.$emit("Analytics:modal-start"),t.$emit("Analytics:modal-view",{context:"tvodFlow",featureStepName:"confirmRental",modalName:"purchaseError",modalType:"error",triggeredBy:"application",modalText:r.message})},errorDetails:p,modalTitle:Qu,oohUnavailable:v},e);return React.createElement(zu,f)},["modalInstance"],["ProductRentalService","$rootScope","store","oohService"])),function(){function e(e,t,n,r,i,o,a,s,c,d,p){var h,v={getRentalOptions:function(e){return e.streamList.map(function(t,n){var i=t.streamProperties.price?t.streamProperties.price.toString().split("."):[0,0],o="hd";return t.streamProperties.attributes&&t.streamProperties.attributes.forEach(function(e){"HIGH_DEF"===e?o="hd":"STANDARD_DEF"===e?o="sd":"THREE_D"===e&&(o="3d")}),{title:function(e,t){var n=t.streamProperties.tmsProviderProgramID;return e.programMetadata&&e.programMetadata[n]?e.programMetadata[n].title:e.title}(e,t),type:o,streamType:t.type,rating:t.streamProperties.rating,year:e.year,length:r.runtime(t.streamProperties.runtimeInSeconds),price:t.streamProperties.price,streamIndex:n,edition:t.streamProperties.edition,tmsProviderProgramID:t.streamProperties.tmsProviderProgramID,rentalDurationHours:t.streamProperties.rentalWindowInHours,tvodEntitlement:t.streamProperties.tvodEntitlement,readerPrice:i[0]+" dollars and "+i[1]+" cents"}}).filter(function(e){return"ONLINE_ONDEMAND"===e.streamType&&e.price>0&&!e.tvodEntitlement})},confirmRental:function(e,r){var i=t.defer();if(void 0!==r.streamIndex){var o=e.streamList[r.streamIndex];o&&o.streamProperties&&o.streamProperties.ipvsRentUrl?g(e,o).then(function(e){n.go("ovp.ondemand.playProduct",{productID:o.streamProperties.providerAssetID,streamIndex:r.streamIndex,purchased:!0}).then(function(){i.resolve(e)})},function(e){i.reject(e)}):i.reject({code:"WTX-9000",message:te.a.getErrorInfo("WTX-9000").message,data:{context:{detailedResponseDescription:"Invalid options selected"}}})}else i.reject({code:"WTX-9000",message:te.a.getErrorInfo("WTX-9000").message,data:{context:{detailedResponseDescription:"Invalid rental option"}}});return i.promise},validatePins:function(e,n){return function(e,n){return t.all([e.isBlocked,o.isBlockedByRating(n.streamProperties.rating)]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];if(n||r)return o.isParentalControlsDisabledForClient().then(function(e){if(!e)return c.withContext(d.PLAYBACK).unlock()})})}(e,n).then(function(){return f(e,n)})},validatePurchasePin:f,normalizeRentalError:m,rent:g};return l.a.subscribe(l.a.watch(["location","data"])(function(){return h=l.a.getSelectorValue(ge.h)})),v;function f(e,n){return t.all([i.isPINSet(),i.isPurchasePINDisabledForClient()]).then(function(t){var r=Oe()(t,2),i=r[0],o=r[1];if(!i||o)return{skipConfirm:!1};var c=n?n.streamProperties.availableOutOfHome:e.tvodAvailableOutOfHome,l=angular.extend({},s[a.VALIDATE],{showOOHWarningMessage:!c&&h});return Pu(l).then(function(){return{skipConfirm:!0}})})}function m(e){var t={code:"WTX-9000"};if(t.message=te.a.getErrorInfo(t.code).message,t.data=e.data,e.data&&e.data.context&&e.data.context.detailedResponseCode){var n=e.data.context.detailedResponseCode.split(".");switch(Oe()(n,1)[0]){case"404":t.code="WRN-1404",t.message=te.a.getErrorInfo(t.code).message;break;case"451":case"452":t.code="WRN-1451",t.message=te.a.getErrorInfo(t.code,{IVR_NUMBER:l.a.getSelectorValue(u.ff)}).message}}return t}function g(n,r){var a=i.getLocalPin();return o.getLocalPin().then(function(i){var o={"drm-supported":!0,encoding:"hls",use_token:"true"};return i&&(o.parentalControlPIN=i),a&&(o.purchasePIN=a),e({url:l.a.getSelectorValue(u.Cd)+r.streamProperties.ipvsRentUrl,method:"POST",params:o,data:{price:r.streamProperties.price},withCredentials:!0}).then(function(e){return p.$emit("Analytics:tvod-purchase-stop",{context:"tvodFlow",success:!0,purchaseId:e.headers("x-trace-id"),asset:n,triggeredBy:"application"}),{streamInfo:e.data}},function(e){var r=m(e);return p.$emit("Analytics:tvod-purchase-stop",{error:angular.copy(e),errorCode:String(r.code),clientErrorCode:e.clientErrorCode,errorMessage:r.message,asset:n}),t.reject(r)})})}}e.$inject=["$http","$q","$state","dateFormat","purchasePinService","parentalControlsService","PIN_ENTRY_TYPE","purchasePinPopUpConfig","parentalControlsDialog","parentalControlsContext","$rootScope"],e.$inject=["$http","$q","$state","dateFormat","purchasePinService","parentalControlsService","PIN_ENTRY_TYPE","purchasePinPopUpConfig","parentalControlsDialog","parentalControlsContext","$rootScope"],angular.module("ovpApp.product.rental-service",["ovpApp.services.entry","ovpApp.services.purchasePinService","ovpApp.services.parentalControlsService","ovpApp.services.dateFormat","ovpApp.components.pinEntry","ovpApp.purchasePinDialog","ovpApp.parentalControlsDialog","ovpApp.rentalModal"]).factory("ProductRentalService",e)}();var ed=function(e){In()(n,e);var t=Zu(n);function n(e){var r;if(we()(this,n),r=t.call(this,e),e.rating&&e.rating.critic_rating){var i=e.imageServerEndpoint+"/imageserver",o=e.height||33;r.state={height:o,ratingText:e.rating.critic_rating&&"".concat(e.rating.critic_rating,"%"),iconSrc:i.replace("/imageserver",e.rating.critic_image)+"&height=".concat(o),ariaText:r.getAriaLabelText(e.rating.critic_image)}}return r}return Ce()(n,[{key:"getAriaLabelText",value:function(e){var t="fresh";return e&&-1!==e.toLowerCase().indexOf("certified")?t="certified fresh":e&&-1!==e.toLowerCase().indexOf("splatter")&&(t="rotten"),"".concat(t)}},{key:"render",value:function(){var e;return(null===(e=this.state)||void 0===e?void 0:e.ratingText)?X.a.createElement($t.Provider,{store:this.props.store},X.a.createElement("div",{className:"rottenTomatoes ratings"},X.a.createElement("div",{className:"kite-h4","aria-hidden":"true"},X.a.createElement("img",{className:"icon",src:this.state.iconSrc,"aria-hidden":"true"}),this.state.ratingText),X.a.createElement("span",{className:"sr-only"},"Rotten Tomatoes, ",this.state.ratingText,", ",this.state.ariaText))):""}}]),n}(Q.Component);ed.propTypes={rating:At.a.object,height:At.a.number};function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}angular.module("ovpApp.components.rotten-tomatoes-rating",[]).component("rottenTomatoesRating",Object(Ct.react2angular)(Object($t.connect)(function(e){return{imageServerEndpoint:Object(u.vc)(e)}})(ed),["rating","height"],["store"])),angular.module("ovpApp.product",["ovpApp.product.router","ovpApp.product.movie","ovpApp.product.series","ovpApp.product.service","ovpApp.product.button","dibari.angular-ellipsis","ovpApp.components.rotten-tomatoes-rating"]),function(){function e(e,t,n,r,i,o,a,s){s.onSuccess({to:"product.**"},function(t){var n=t.router.getPlugin("stickystates").inactives(),r=n.find(function(e){return"ovp"===e.name});if(!r){var i=s.onSuccess({to:"ovp.blankPage"},function(){e.go(t.to(),t.params("to"),{location:"replace"}),i()});e.go("ovp.blankPage")}}),s.onStart({},function(e){var t=e.to(),c=e.from();if(t.name.startsWith("product")&&!c.name.startsWith("product")){i.isCdvrEnabled().then(function(e){e&&l.a.dispatch(Dl.quotaActions.request({requestUrl:l.a.getSelectorValue(u.J)}))});var d=r[0].activeElement,p=c.name,h=s.onSuccess({},function(e){var t=e.to();t.name.startsWith("product")||(t.name===p?(a.requestFocus(a.highPriority).then(function(){var e="Firefox"===o.name;e?n(function(){return d.focus()},1e3):d.focus()}),h()):t.name.startsWith("search")||h())})}}),s.onSuccess({to:function(e){return e.name.startsWith("ovp.ondemand.play")}},function(e){var t=e.router.getPlugin("stickystates"),n=t.inactives();n.find(function(e){return e.name.startsWith("product")})&&t.exitSticky("product")})}function t(e){function t(e){return["$stateParams",function(t){return t[e]}]}function n(e,t){var n,r=/ovp\.([a-zA-Z0-9]*)/;return e.current&&(e.current.name.startsWith("search")?n="search":r.test(e.current.name)&&(n=t[n=r.exec(e.current.name)[1]]?t[n]:null)),n}function r(e,t,n){var r;return r=n.uri?e.withUri(n.uri).fetch:n.tmsId?e.withTmsId(n.tmsId,n).fetch:n.tmsSeriesId?e.withTmsSeriesId(n.tmsSeriesId,n).fetch:function(){return t.resolve({})},function(e){return Promise.all([r(e),ea.a.getChannels()]).then(function(e){var t=Oe()(e,2),r=t[0];t[1];return r.displayChannel=parseInt(n.displayChannel)||null,r.seasons&&r.seasons.forEach(function(e){return e.episodes.forEach(function(e){return e.displayChannel=r.displayChannel})}),r})}}n.$inject=["$state","appOptions"],n.$inject=["$state","appOptions"],e.state("product",{abstract:!0,url:"/product",views:{productView:{template:'<ui-view class="product-page-content"/>'}},data:{bodyClass:"product-active",hideSubMenu:!0}}).state("product.series",{url:"/series/{tmsSeriesId}?app&serviceId&airtime&tmsProgramId&{uri:uri}&tmsGuideServiceId&displayChannel&episodeTmsId",component:"productSeries",params:{app:n,serviceId:null,tmsGuideServiceId:null,airtime:null,tmsProgramId:null,uri:null,displayChannel:null,episodeTmsId:null},redirectTo:{state:"product.series.episodes"},resolve:{fetcher:["productService","$q","$stateParams",function(e,t,n){return r(e,t,n)}],series:["fetcher","$rootScope",function(e,t){var n=e();return n&&t.$broadcast("message:loading",n,void 0,"Series"),n||{}}],blocked:["series",function(e){return e.isBlocked}],cameFromMyLibrary:["$transition$",function(e){return e.from().name.startsWith("ovp.mylibrary")}],app:t("app"),tmsProgramId:t("tmsProgramId")}}).state("product.series.episodes",{url:"/episodes",component:"productEpisodeList"}).state("product.series.info",{url:"/info",component:"productInfo",resolve:{asset:["series",function(e){return e}]}}).state("product.event",{url:"/movie/:tmsId?app&serviceId&airtime&tmsProgramId&{uri:uri}&tmsGuideServiceId&displayChannel",component:"productMovie",params:{app:n,serviceId:null,airtime:null,uri:null,tmsId:null,tmsGuideServiceId:null,displayChannel:null},resolve:{fetcher:["productService","$q","$stateParams",function(e,t,n){return r(e,t,n)}],movie:["fetcher","$rootScope",function(e,t){var n=e();return n&&t.$broadcast("message:loading",n,void 0,"Movie"),n||{}}],blocked:["movie",function(e){return e.isBlocked}],cameFromMyLibrary:["$transition$",function(e){return e.from().name.startsWith("ovp.mylibrary")}]}})}t.$inject=["$stateProvider"],e.$inject=["$state","$rootScope","$timeout","$document","capabilitiesService","platform","focusMediator","$transitions"],t.$inject=["$stateProvider"],e.$inject=["$state","$rootScope","$timeout","$document","capabilitiesService","platform","focusMediator","$transitions"],angular.module("ovpApp.product.router",["ui.router","ovpApp.product","ovpApp.product.info","ovpApp.dataDelegate","ovpApp.services.focusMediator","ovpApp.services.capabilitiesService","lib.platform"]).constant("appOptions",{guide:"guide",dvr:"rdvr",cdvr:"rdvr",ondemand:"ondemand",livetv:"livetv",search:"search",myLibrary:"myLibrary"}).run(e).config(t)}();var nd=function(e){return X.a.createElement(Ki,{otherAttributes:e.otherAttributes,text:e.buttonText,action:e.action.actionType,ariaLabel:e.ariaLabel,icon:X.a.createElement("svg",{focusable:"false",className:"svg-icon","aria-hidden":"true"},X.a.createElement("use",{xlinkHref:e.buttonIcon})),onClick:function(){return e.onClick(e.action)}})},rd=function(e){return X.a.createElement(Xi,{otherAttributes:e.otherAttributes,text:e.buttonText,action:e.action.actionType,ariaLabel:e.ariaLabel,icon:X.a.createElement("svg",{focusable:"false",className:"svg-icon","aria-hidden":"true"},X.a.createElement("use",{xlinkHref:e.buttonIcon})),onClick:function(){return e.onClick(e.action)}})},id=function(e){var t=X.a.createRef();return Object(Q.useEffect)(function(){e.action.focus&&t.current.focus()}),X.a.createElement("button",Ot()({},e.otherAttributes,{ref:t,className:"kite-btn kite-btn-lg ".concat(e.additionalClass),onClick:function(){return e.onClick(e.action)},"aria-label":e.ariaLabel}),X.a.createElement("span",{role:"presentation",className:"icon"},X.a.createElement("svg",{focusable:"false",className:"svg-icon","aria-hidden":"true"},X.a.createElement("use",{xlinkHref:e.buttonIcon}))),e.buttonText)},od=function(e){var t=X.a.createRef();return Object(Q.useEffect)(function(){e.action.focus&&t.current.focus()}),X.a.createElement("a",{href:"#",ref:t,className:"kite-btn kite-btn-lg ".concat(e.additionalClass),onClick:function(){return e.onClick(e.action)},"aria-label":e.ariaLabel},X.a.createElement("span",{role:"presentation",className:"icon"},X.a.createElement("svg",{focusable:"false",className:"svg-icon","aria-hidden":"true"},X.a.createElement("use",{xlinkHref:e.buttonIcon}))),e.buttonText)};function ad(e){var t,n=Object(Q.useState)("#"+e.productActionService.getActionIcon(e.asset,e.action)),r=Oe()(n,2),i=r[0],o=r[1],a=Object(Q.useState)(e.productActionService.getActionAriaLabel(e.asset,e.action)),s=Oe()(a,2),c=s[0],l=s[1],u=e.productActionService.getActionLabel(e.asset,e.action),d=e.productActionService.isToggleAction(e.asset,e.action),p=e.productActionService.getAriaPressedValue(e.asset,e.action),h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({buttonIcon:i,ariaLabel:c,buttonText:u,otherAttributes:d?{"aria-pressed":p}:{},onClick:function(t){-1!==t.actionType.toLowerCase().indexOf("watchlist")?e.productActionService.executeAction(t,e.asset).then(function(t){o("#"+e.productActionService.getActionIcon(t,e.action)),l(e.productActionService.getActionAriaLabel(t,e.action))}):e.productActionService.executeAction(t,e.asset)}},e);return t=e.overflowButton?e.isRoute?X.a.createElement(rd,h):X.a.createElement(nd,h):e.isRoute?X.a.createElement(od,h):X.a.createElement(id,h),X.a.createElement("div",null,t)}ad.propTypes={action:At.a.object.isRequired,asset:At.a.object.isRequired,productActionService:At.a.object.isRequired,isRoute:At.a.bool,overflowButton:At.a.bool,additionalClass:At.a.string};var sd=ad;function cd(e){var t=e.asset.actions,n=l.a.getStatePath("config.data.productPage.numOfButtonsToShow"),r="More options for ".concat(e.asset.title);var i=t.map(function(t,n){return function(t,n,r){var i=e.productActionService.isRoute(t,n),o=r>1;return React.createElement(sd,{key:n.actionType,action:n,isRoute:i,overflowButton:o,asset:t,productActionService:e.productActionService,additionalClass:0===r?"kite-btn-primary":"kite-btn-outline-primary"})}(e.asset,t,n)});return React.createElement("div",{role:"group","aria-label":"actions",className:"button-grid"},i.slice(0,n),i.length>n&&React.createElement(qi,{description:r,menuStyles:"kite-btn kite-btn-outline-primary kite-btn-lg"},i.slice(n)))}cd.propTypes={asset:At.a.object.isRequired,productActionService:At.a.object.isRequired};var ld=cd;var ud=function(e){var t=e.height||20,n=l.a.getStatePath("config.data.imageServerEndpoint")+"/imageserver",r=e.rating&&(parseInt(e.rating)+100).toString().substring(1),i="".concat(n,"/supporting?image=cs-logo-mini&height=").concat(t),o="".concat(n,"/supporting?image=cs-").concat(r,"&height=").concat(t);return X.a.createElement("div",{className:"ratings"},X.a.createElement("span",{className:"sr-only"},"Common sense rating, Ages ",r," and up"),X.a.createElement("img",{alt:"csm-icon","aria-hidden":"true",className:"icon",src:i}),X.a.createElement("img",{alt:"csm-rating","aria-hidden":"true",className:"label",src:o}))},dd=function(e){e.style;var t=e.width,n=void 0===t?"15":t,r=e.height,i=void 0===r?"15":r,o=e.viewbox,a=void 0===o?"0 0 15 15":o,s=e.fill,c=void 0===s?"white":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a},React.createElement("path",{fill:c,fillRule:"evenodd",d:"M.295 6.233a.493.493 0 1 0 .106.938l6.228 1.2 1.2 6.228a.493.493 0 0 0 .937.107L14.958.693a.495.495 0 0 0-.653-.651L.295 6.233z"}))},pd=function(e){var t=e.width,n=void 0===t?"14px":t,r=e.height,i=void 0===r?"14px":r,o=e.fill,a={height:i,width:n,fontSize:i,color:void 0===o?"white":o,display:"flex",alignItems:"center"};return React.createElement("span",{"aria-hidden":"true",style:a,className:"si si-lock-f"})},hd=function(e){e.style;var t=e.width,n=void 0===t?"20":t,r=e.height,i=void 0===r?"20":r,o=e.viewbox,a=void 0===o?"0 0 64 64":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:a,width:n,height:i,focusable:"false","aria-hidden":"true"},React.createElement("title",{id:"key-icon-title"},"key"),React.createElement("desc",{id:"key-icon-desc"},"an icon representing a door key"),React.createElement("path",{fill:c,d:"M62.6 30.9l-6.4-6.4a1.5 1.5 0 0 0-1.1-.5H30.8a16 16 0 1 0 0 16h5.6l3.4-3 3.8 3 4-3 2.9 3H55a1.6 1.6 0 0 0 1.1-.5l6.4-6.4a1.6 1.6 0 0 0 .1-2.2zM12 37a5 5 0 1 1 5-5 5 5 0 0 1-5 5z"}))};function vd(e){if(!e.isEntitled){var t=angular.element(document.body).injector().get("productService").availabilityMessage(e);return{icon:React.createElement(hd,null),message:t&&t.replace(/<span[^>]*>|<\/span[^>]*>/g,"")}}}function fd(e){var t=angular.element(document.body).injector().get("oohService");if(t.isUnavailableOoh(e))return{icon:React.createElement(dd,null),message:t.oohAvailabilityMessage()}}var md=function(e){var t=Object(Q.useState)({}),n=Oe()(t,2),r=n[0],i=n[1],o=angular.element(document.body).injector().get("messages"),a=e.asset;return Object(Q.useEffect)(function(){vd(a)?i(vd(a)):fd(a)?i(fd(a)):e.asset.isBlocked.then(function(e){e&&!r.message&&i({icon:React.createElement(pd,{width:18,height:18}),message:o.getMessageForCode("MSG-9045")})})},[e.asset]),r.message?React.createElement("div",{className:"product-availability"},r.icon,React.createElement("p",{className:"unavailable-message"},r.message)):React.createElement("div",null)},gd=function(e){var t=e.asset.genres&&e.asset.genres.slice(0,e.maxNumOfGenres).join(", ");return React.createElement("div",{className:"movie-data"},React.createElement(Vu,null,React.createElement("li",null,e.asset.rating),React.createElement("li",null,e.asset.year),React.createElement("li",null,t)),e.asset.commonSenseMedia&&React.createElement(ud,{rating:e.asset.commonSenseMedia}))},bd=function(e){var t={backgroundImage:"url(".concat(e.imgSrc,")")};return React.createElement("div",{className:"image-container",style:t})},yd=function(e){var t=Object(b.c)(e,"asset.network.name");return React.createElement(React.Fragment,null,React.createElement(Nn,{focusOnLoad:!0},React.createElement("h1",{className:"asset-title",tabIndex:"-2"},e.asset.title)),React.createElement("img",{className:"network-logo",alt:t,src:e.asset.networkImage({width:86,default:!1})}),React.createElement("p",{className:"description"},Object(b.c)(e,"asset.longDescription")||Object(b.c)(e,"asset.description.long")),React.createElement(gd,e),React.createElement(md,{asset:e.asset}))};function Sd(e){var t=e.asset.imageUri({orientation:e.imageType}),n=Object(Q.useRef)(null),r=Object(Q.useState)({}),i=Oe()(r,2),o=i[0],a=i[1];return Object(Q.useEffect)(function(){var e=function(){var e=window.innerHeight-128,t=window.innerWidth,r=n.current.clientHeight;a(e<r?{}:t<840?{height:"".concat(.7*(window.innerHeight-108),"px")}:{height:"".concat(window.innerHeight-108,"px")})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),React.createElement("div",{style:o,className:"masthead-container"},React.createElement(bd,{imgSrc:t}),React.createElement("div",{ref:n,className:"asset-details"},React.createElement(yd,e),React.createElement(ld,{productActionService:e.productActionService,asset:e.asset})))}Sd.propTypes={asset:At.a.object},angular.module("ovpApp.masthead",["ovpApp.product.productActionService"]).component("masthead",Object(Ct.react2angular)(Object($t.connect)(function(e){return{imageType:e.config.data.productPage.imageType,maxNumOfGenres:e.config.data.productPage.maxNumOfGenres}})(Sd),["asset"],["store","productActionService"])),angular.module("ovpApp.product.movie",["ovpApp.directives.carousel","ovpApp.directives.person","ovpApp.directives.fallbackImage","ovpApp.components.ovp.rating","ovpApp.components.rotten-tomatoes-rating","ovpApp.components.progressBar","ovpApp.dataDelegate","ovpApp.search.searchService","ovpApp.product.actionMenu","ovpApp.product.info","ovpApp.product.otherWays","ovpApp.product.productActionService","ovpApp.messages","ovpApp.services.parentalControlsService","ovpApp.services.dateFormat","ui.router","ovpApp.playerControls","ovpApp.components.modal","ovpApp.services.oohService","ovpApp.masthead"]).component("productMovie",{bindings:{fetcher:"<",movie:"<",blocked:"<",cameFromMyLibrary:"<"},templateUrl:"js/product/product-movie.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{messages:t,$scope:n,$rootScope:r,$state:i,productService:o,oohService:a,$q:s})}return e.$inject=["messages","$scope","$rootScope","$state","productService","oohService","$q"],e.$inject=["messages","$scope","$rootScope","$state","productService","oohService","$q"],Ce()(e,[{key:"$onInit",value:function(){var e=this;if(this.$rootScope.$emit("ovp:setPageTitle",this.movie.title),this.entitled=!1!==this.movie.isEntitled,this.deregister=[],this.version=l.a.getSelectorValue(u.Ld),this.initParentalControls(),this.deregister.push(this.$scope.$on("update-dvr",function(t,n,r,i){e.actionExecuting(r,i)})),this.$state.previous&&"ovp.ondemand.playProduct"===this.$state.previous.name){var t="true"===this.$state.previous.fromParams.trailer;this.movie.actions.forEach(function(e){t&&e.actionType.startsWith("watchTrailer")&&(e.focus=!0)})}this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"$onChanges",value:function(){this.updateBlocked()}},{key:"$onDestroy",value:function(){this.deregister.forEach(function(e){return e()})}},{key:"initParentalControls",value:function(){var e=this;this.deregister.push(this.$rootScope.$on("ParentalControls:updated",function(){return e.updateBlocked()}))}},{key:"updateBlocked",value:function(){var e=this;this.movie.isBlocked.then(function(t){return e.blocked=t})}},{key:"actionExecuting",value:function(e,t){var n=this;if(this.fetcher){var r=this.$q.when(this.fetcher(!0)).then(function(e){n.movie=e,n.movie.actions&&(n.movie.actions[0].focus=!0)});this.$scope.$broadcast("product:update-started",e,t,r),this.$rootScope.$broadcast("message:loading",r,void 0,"Movie")}}},{key:"isUnavailableOoh",value:function(){return this.oohService.isUnavailableOoh(this.movie)}},{key:"oohAvailabilityMessage",value:function(){return this.oohService.oohAvailabilityMessage()}},{key:"availabilityMessage",value:function(){return this.productService.availabilityMessage(this.movie,this.cameFromMyLibrary)||""}},{key:"getSectionAriaLabel",value:function(){return this.movie.title+", "+this.movie.year+", "+this.movie.rating+", "+this.movie.actorsString+", "+this.availabilityMessage()+", "+this.movie.longDescription}}]),e}()}),angular.module("ovpApp.product.series",["ovpApp.directives.carousel","ovpApp.directives.person","ovpApp.directives.focus","ovpApp.components.progressBar","ovpApp.product.productActionService","ovpApp.dataDelegate","ovpApp.services.parentalControlsService","ovpApp.services.dateFormat","ovpApp.product.episodes","ovpApp.directives.svgPath","ovpApp.services.oohService","ui.router"]).component("productSeries",{bindings:{fetcher:"<",series:"<",blocked:"<",cameFromMyLibrary:"<"},templateUrl:"js/product/product-series.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$scope:t,$rootScope:n,$state:r,$document:i,searchService:o,productService:a,delegateFactory:s,oohService:c,$q:l,$timeout:u})}return e.$inject=["$scope","$rootScope","$state","$document","searchService","productService","delegateFactory","oohService","$q","$timeout"],e.$inject=["$scope","$rootScope","$state","$document","searchService","productService","delegateFactory","oohService","$q","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.entitled=!1!==this.series.isEntitled,this.deregister=[],this.version=l.a.getSelectorValue(u.Ld),this.tabFocusablePanel=!1,this.arrowNavOptions={noShiftTabExit:!1},this.initParentalControls(),this.deregister.push(this.$scope.$on("update-dvr",function(t,n,r,i){e.actionExecuting(r,i)})),this.onUpdateData(),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"$onChanges",value:function(){this.updateBlocked()}},{key:"$onDestroy",value:function(){this.deregister.forEach(function(e){return e()})}},{key:"onTabFocus",value:function(){this.tabFocusablePanel=!0}},{key:"onTabPanelFocus",value:function(){this.tabFocusablePanel=!1}},{key:"onUpdateData",value:function(){this.series.episodesAvailable<=0&&this.activateTab("info",null,"application"),this.$rootScope.$emit("ovp:setPageTitle",this.series.title)}},{key:"initParentalControls",value:function(){var e=this;this.deregister.push(this.$rootScope.$on("ParentalControls:updated",function(){return e.updateBlocked()}))}},{key:"updateBlocked",value:function(){var e=this;this.series.isBlocked.then(function(t){return e.blocked=t})}},{key:"isOnTab",value:function(e){return this.$state.includes("product.series."+e)}},{key:"actionExecuting",value:function(e,t){var n=this;if(this.fetcher){var r=this.$q.when(this.fetcher(!0)).then(function(e){n.series=e,n.onUpdateData(),n.series.actions&&e.isSeries&&(n.series.actions[0].focus=!0)});this.$scope.$broadcast("product:update-started",e,t,r),this.$rootScope.$broadcast("message:loading",r,void 0,"Series")}}},{key:"availabilityMessage",value:function(){return this.productService.availabilityMessage(this.series,this.cameFromMyLibrary)||""}},{key:"oohAvailabilityMessage",value:function(){return this.oohService.oohAvailabilityMessage()}},{key:"isUnavailableOoh",value:function(){return this.oohService.isUnavailableOoh(this.series)}},{key:"activateTab",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user",i="product.series.episodes";this.$rootScope.$emit("Analytics:select",{elementStandardizedName:e,operationType:"navigationClick",triggeredBy:r,pageSectionName:"navPagePrimary"}),"episodes"!==e&&"info"!==e||(i="product.series."+e),"episodes"===e&&this.series.episodesAvailable<=0&&(i="product.series.info"),this.$state.go(i,{},{location:"replace"}).then(function(){return n.$rootScope.$emit("ovp:setPageTitle",n.series.title)})}},{key:"getSectionAriaLabel",value:function(){return this.series.title+", "+this.series.episodesAvailable+" episodes, "+this.availabilityMessage()+", "+this.series.description.long}}]),e}()}),function(){function e(e,t,n,r,i,o,a,s,c,d){var p,h={availabilityMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;if(e.isOutOfWindow&&t)return te.a.getErrorInfo("WGU-1004").message;if(!e.isEntitled)return te.a.getErrorInfo("WEN-1004",{IVR_NUMBER:r.isBulkMDU()?l.a.getSelectorValue(u.A):l.a.getSelectorValue(u.ef)}).message;if(e.entitledTvodStream){var n=e.entitledTvodStream.streamProperties.tvodEntitlement.rentalEndTimeUtcSeconds,a=o.relative.expanded.atTime(new Date(1e3*n));return"Watch rental until ".concat(a)}if(e.tvodStream){if(e.isComplexOffering){var s=e.streamList.filter(function(e){return e.isTvodStream}).sort(function(e,t){return e.streamProperties.price-t.streamProperties.price}).shift();return"Rent from $"+s.streamProperties.price+". Available for "+s.streamProperties.rentalWindowInHours+" hours."}return"Rent for $"+e.price+". Available for "+e.tvodStream.streamProperties.rentalWindowInHours+" hours."}if(e.isBlockedByParentalControls)return i.getMessageForCode("MSG-9045")},getCdvrDateText:function(e,t){if(e&&e.streamList){var n,r;t&&t.streamIndex>=0&&(n=e.streamList[t.streamIndex]),n=n||e.streamList[0],r=n.streamProperties.cdvrRecording?1e3*n.streamProperties.cdvrRecording.startTimeSec:parseInt(n.streamProperties.startTime,10);var i=o.absolute.expanded.atTime(new Date(r));return i}},showUnentitledNetworkModal:function(){d.errorAlert("WEN-1000",{IVR_NUMBER:r.isBulkMDU()?l.a.getSelectorValue(u.A):l.a.getSelectorValue(u.ef)},{resolve:{analyticsModalName:"unentitledNetwork"}})},withTmsSeriesId:function(e,t){return v("tmsSeriesId",e,t)},withTmsId:function(e,t){return v("tmsProviderProgramId",e,t)},withProviderAssetId:function(e,t){return v("providerAssetId",e,t)},withUri:function(e){return{fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(e,t)}}}};return p=(p=[function(e){try{angular.fromJson(e)}catch(t){e="{}",c.error("Unable to parse json from server response")}return e}]).concat(s.defaults.transformResponse),h;function v(e,n,r){var i={};return{fetch:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i[o]||(i[o]=function(e,n,r){return t.forDefaultProfile().then(function(t){var i={},o={tmsSeriesId:t.series.tmsSeriesID,tmsProviderProgramId:t.event.tmsProviderProgramID,providerAssetId:t.event.providerAssetID},a="";return r||(r={app:"search"}),r&&(r.app&&!r.application&&(i.app=r.app),r.application&&(i.application=r.application),r.airtime&&(i.airtimeUtcSec=r.airtime),r.serviceId&&(i.mystroServiceId=r.serviceId),r.tmsGuideServiceId&&(i.tmsGuideServiceId=r.tmsGuideServiceId),l.a.getSelectorValue(u.Nf)&&r.episodeTmsId&&(i.episodeTmsId=r.episodeTmsId),a=Object.keys(i).reduce(function(e,t){return e+"&".concat(t,"=").concat(i[t])},"")),o[e]?o[e](n)+a:"Invalid result type ".concat(e)})}(e,n,r).then(function(e){return f(e,o)}).then(function(e){return i[o]=void 0,e})),i[o]}}}function f(t,r){return s.get(l.a.getSelectorValue(u.Cd)+t,{withCredentials:!0,transformResponse:p}).retryWhen(function(e){return e.flatMap(function(e){return 404===e.status?a.Observable.throw(e):a.Observable.of(e)}).take(3).concat(a.Observable.throw(e))}).do(function(e){if(r&&function(e){return e&&e.data&&e.data.details&&e.data.details.staleDvrCache}(e))throw"stale"}).retryWhen(m).map(function(e){return n.createInstance(e.data)}).toPromise(e).then(function(e){return e},function(e){throw e})}function m(e){var t=e.do(function(e){if("stale"!==e)throw e});return a.Observable.range(1,10).zip(t,function(e){return e*e*100}).flatMap(function(e){return a.Observable.timer(e)})}}e.$inject=["$q","entryService","delegateFactory","capabilitiesService","messages","dateFormat","rx","rxhttp","$log","kiteModalService"],e.$inject=["$q","entryService","delegateFactory","capabilitiesService","messages","dateFormat","rx","rxhttp","$log","kiteModalService"],angular.module("ovpApp.product.service",["ovpApp.components.alert","ovpApp.services.entry","ovpApp.services.capabilitiesService","ovpApp.dataDelegate","ovpApp.services.dateFormat","ovpApp.services.kiteModal","ovpApp.messages"]).factory("productService",e)}(),function(){function e(e,t,n,r,i,o,a,s,c){var l=function(){var t,i,c;return c={},f()(c,s.PLAYBACK,(t={pinService:e,disablePC:function(){e.disableParentalControlsForClient()}},f()(t,n.TOGGLE,{pinInstructions:te.a.getErrorInfo("WPC-1000").message,pleaseEnterPin:r.getMessageForCode("MSG-9044"),pinService:e}),f()(t,n.SAVE,{headerMessage:r.getMessageForCode("MSG-9048"),secondaryMessage:r.getMessageForCode("MSG-9050"),pinInstructions:"Please enter new 4-digit PIN",pinService:e}),t)),f()(c,s.WEB_SETTINGS,(i={pinService:e,disablePC:function(){e.disableParentalControlsForClient()}},f()(i,n.TOGGLE,{pinInstructions:r.getMessageForCode("MSG-9045"),pleaseEnterPin:r.getMessageForCode("MSG-9044"),pinService:e}),f()(i,n.SAVE,{headerMessage:r.getMessageForCode("MSG-9048"),secondaryMessage:r.getMessageForCode("MSG-9050"),pinInstructions:r.getMessageForCode("MSG-9057"),pinService:e}),i)),f()(c,s.STB_SETTINGS,function(e){var t,i=o.create(e),s=i.isPrimaryAccount();return t={pinService:i,checkPrimaryAccount:s,disablePC:function(){a.togglePCBlocking(e,!1)}},f()(t,n.TOGGLE,{pinInstructions:r.getMessageForCode("MSG-9046"),pleaseEnterPin:r.getMessageForCode("MSG-9044"),pinService:i}),f()(t,n.SAVE,{headerMessage:r.getMessageForCode("MSG-9047"),pinInstructions:r.getMessageForCode("MSG-9057"),pinService:i}),t}),c}();return{withContext:function(e,r){var o;return o=angular.isFunction(l[e])?l[e](r):l[e],{unlock:function(){return function(e){return new Promise(function(r,o){e.pinService.isPINSet({forceRefresh:!0}).then(function(o){return o?function(e){var r=e[n.TOGGLE];return t.open({component:"pinValidate",pinType:"parentalControl",resolve:{options:r}}).result.then(function(t){"pinValidated"===t&&e.disablePC()}).catch(function(n){if("forgotPIN"===n){var r=!angular.isDefined(e.checkPrimaryAccount)||e.checkPrimaryAccount;return i.when(r).then(function(n){return n?u().then(function(t){return d(e,t)}):function(){var e={headerMessage:te.a.getErrorInfo("WGE-1001").title,secondaryMessage:te.a.getErrorInfo("WGE-1001").message};return t.open({component:"pinEntryMessage",ariaLabelledBy:"headerMessage",ariaDescribedBy:"formInstructions",resolve:{options:e}}).result}()})}return i.reject(n)})}(e).then(function(){return r()}):e.pinService.isPrimaryAccount().then(function(e){return e?void 0:u()}).then(function(t){return d(e,t)}).then(function(){return r()})}).catch(function(e){"backdrop click"!==e&&c.errorAlert("WPC-1005")})})}(o)},changePIN:function(){return function(e){return u().then(function(t){return d(e,t)})}(o)}}}};function u(){return t.open({windowClass:"productPopup-temp",component:"authForm"}).result}function d(e,r){var i=angular.extend({},e[n.SAVE],{password:r});return t.open({component:"pinReset",resolve:{options:i}}).result.then(function(t){"pinReset"===t&&e.disablePC()})}}e.$inject=["parentalControlsService","modal","PIN_ENTRY_TYPE","messages","$q","StbPCPinFactory","StbSettingsService","parentalControlsContext","kiteModalService"],e.$inject=["parentalControlsService","modal","PIN_ENTRY_TYPE","messages","$q","StbPCPinFactory","StbSettingsService","parentalControlsContext","kiteModalService"],angular.module("ovpApp.parentalControlsDialog",["ovpApp.services.parentalControlsService","ovpApp.components.authForm","ovpApp.components.modal","ovpApp.components.pinEntry","ovpApp.components.pinEntry.message","ovpApp.services.stbPCPin","ovpApp.services.kiteModal","ovpApp.messages"]).constant("parentalControlsContext",{PLAYBACK:"playback",WEB_SETTINGS:"websettings",STB_SETTINGS:"stbsettings"}).factory("parentalControlsDialog",e)}(),angular.module("ovpApp.parentalControlWarning",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("parentalControlWarning",{bindings:{},templateUrl:"js/parental-controls/parental-controls-warning/parental-controls-warning.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{$state:t,loginService:n,$scope:r})}return e.$inject=["$state","loginService","$scope"],e.$inject=["$state","loginService","$scope"],Ce()(e,[{key:"parentalControlsWarningAccepted",value:function(){this.loginService.acceptParentalControlsWarning(),this.$scope.parentalControlsSpinner=!0,this.$state.go("ovp.livetv",void 0,{replace:!0})}}]),e}()}),function(){function e(e,t,n){var r={};return r[e.TOGGLE]={pinInstructions:n.getMessageForCode("MSG-9053"),pleaseEnterPin:n.getMessageForCode("MSG-9044"),pinService:t},r[e.VALIDATE]={pinInstructions:n.getMessageForCode("MSG-9054"),pleaseEnterPin:n.getMessageForCode("MSG-9044"),pinService:t},r[e.SAVE]={headerMessage:n.getMessageForCode("MSG-9056"),secondaryMessage:n.getMessageForCode("MSG-9050"),pinInstructions:n.getMessageForCode("MSG-9058"),pleaseEnterPin:n.getMessageForCode("MSG-9044"),pinService:t},r[e.RESET]={headerMessage:n.getMessageForCode("MSG-9056"),secondaryMessage:n.getMessageForCode("MSG-9050"),pinInstructions:n.getMessageForCode("MSG-9057"),pleaseEnterPin:n.getMessageForCode("MSG-9044"),pinService:t},r}function t(e,t,n,r,i,o,a,s,c){return e.handlePurchasePINValidation=function(){return!1,!1,!1,a.isPINSet().then(function(e){return e?u(s[o.TOGGLE]):a.isPrimaryAccount().then(function(e){return e?void 0:l()}).then(function(e){return d(e)})},function(e){return r.error(e),Vi.showToastMessage(te.a.getErrorInfo("WGE-1001").message),n.reject(e)})},e.showPinValidationDialog=u,void(e.loadingTracker=c());function l(){return i.open({windowClass:"productPopup-temp",component:"authForm"}).result}function u(e){return i.open({component:"pinValidate",pinType:"purchaseControl",resolve:{options:e}}).result.then(function(e){"pinValidated"===e&&!0},function(e){return"forgotPIN"===e?(!0,l().then(function(e){return d(e)})):n.reject(e)})}function d(e){var t=angular.extend({},s[o.SAVE],{password:e});return i.open({component:"pinReset",resolve:{options:t}}).result.then(function(e){"pinReset"===e&&!0})}}t.$inject=["$scope","$rootScope","$q","$log","modal","PIN_ENTRY_TYPE","purchasePinService","purchasePinPopUpConfig","promiseTracker"],e.$inject=["PIN_ENTRY_TYPE","purchasePinService","messages"],t.$inject=["$scope","$rootScope","$q","$log","modal","PIN_ENTRY_TYPE","purchasePinService","purchasePinPopUpConfig","promiseTracker"],e.$inject=["PIN_ENTRY_TYPE","purchasePinService","messages"],angular.module("ovpApp.purchasePinDialog",["ovpApp.components.pinEntry","ovpApp.services.purchasePinService","ovpApp.components.authForm","ovpApp.components.modal","ajoslin.promise-tracker","ovpApp.messages"]).factory("purchasePinPopUpConfig",e).controller("PurchasePinDialogController",t)}();n("QPOH");!function(){function e(e,t,n,r){var i=this;i.query=t,i.results=n,i.$rootScope=r,i.focusOnLoad=e.current.name.startsWith("search")&&e.previous&&e.previous.name.startsWith("search"),i.$rootScope.$broadcast("pageChangeComplete",e.current)}e.$inject=["$state","query","results","$rootScope"],e.$inject=["$state","query","results","$rootScope"],angular.module("ovpApp.search.personResults",["ovpApp.directives.gridList","ovpApp.search.resultListItem"]).controller("PersonResultsController",e)}(),angular.module("ovpApp.search.quickResults",["ovpApp.search.searchService","ovpApp.filters.titleCase","ovpApp.filters.toTrusted","ovpApp.product.service","ui.router"]).constant("columns",5).component("quickSearchResults",{templateUrl:"js/search/result-pages/quick-search-results.html",bindings:{results:"<",query:"<"},controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{searchService:t,columns:n,$state:r,$controller:i,$scope:o,$element:a,$rootScope:s,productService:c,oohService:l})}return e.$inject=["searchService","columns","$state","$controller","$scope","$element","$rootScope","productService","oohService"],e.$inject=["searchService","columns","$state","$controller","$scope","$element","$rootScope","productService","oohService"],Ce()(e,[{key:"$onInit",value:function(){this.limit=l.a.getSelectorValue(u.Od),this.layout={categories:[]},this.priorities=["title"],this.calculateLayout(),this.$scope.$emit("search-results-title","auto complete results have loaded"),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"calculateLayout",value:function(){if(this.layout={categories:[]},this.results&&this.results.categories){var e,t=this.results.categories,n=Math.ceil(t.length/this.columns)*this.columns-t.length;for(t.forEach(function(e){e.columns=1,this.layout.categories.push(e)}.bind(this));n>0&&(e=this.getColumnRecipient(t));)e.columns++,n--;t.forEach(function(e){e.class="search-results-group col-"+e.columns,e.resultsToshow=Math.min(e.numResults,this.limit*e.columns)}.bind(this))}}},{key:"getColumnRecipient",value:function(e){return this.byPriority(e)||this.byNeed(e)}},{key:"byPriority",value:function(e){var t,n,r,i=Number.MAX_VALUE;for(t=0;t<e.length;t++)(n=this.priorities.indexOf(e[t].title.toLowerCase()))>-1&&n<i&&this.canExpand(e[t])&&(r=e[t],i=n);return r}},{key:"byNeed",value:function(e){var t,n,r,i=0;for(t=0;t<e.length;t++)(n=this.canExpand(e[t])?this.need(e[t]):0)>i&&(i=n,r=e[t]);return r}},{key:"need",value:function(e){return e.numResults-e.columns*this.limit}},{key:"canExpand",value:function(e){return this.need(e)>0&&e.columns<this.columns}},{key:"click",value:function(e){var t="Network"===e.resultDisplay;if(Wo({asset:e}),!t||e.isEntitled)if(this.oohService.isUnavailableOoh(e))this.oohService.showOohModal();else{var n,r=e.clickRoute;r&&(r[0]&&r[0].startsWith("search.results")&&(r[1]=r[1]||{},r[1].focusOnLoad=!0),(n=this.$state).go.apply(n,on()(r)))}else this.productService.showUnentitledNetworkModal()}},{key:"onKeydown",value:function(e,t,n,r){var i,o=this.layout.categories,a=this.$element.find("."+t.class.split(" ")[0]),s=37,c=38,l=39,u=40,d=9,p=o.map(function(e){return e.title}).indexOf(t.title);e.keyCode===d&&a[p].focus(),r?r&&(e.keyCode!==u&&e.keyCode!==l||(i=angular.element(a[p]).find(".search-result")[0])):e.keyCode===u||e.keyCode===l?i=n+1!==this.limit*t.columns?angular.element(a[p]).find(".search-result")[n+1]:angular.element(a[p]).find(".search-result")[0]:e.keyCode!==c&&e.keyCode!==s||0!==n&&(i=angular.element(a[p]).find(".search-result")[n-1]),i&&(e.preventDefault(),i.focus(),e.stopPropagation())}}]),e}()}),angular.module("ovpApp.search.recentSearches",["ovpApp.search.searchService","ovpApp.filters.titleCase","ui.router"]).component("recentSearches",{templateUrl:"js/search/result-pages/recent-searches.html",bindings:{},controller:function(){function e(t,n,r){we()(this,e),this.$state=n,this.$rootScope=r,this.searchService=t}return e.$inject=["searchService","$state","$rootScope"],e.$inject=["searchService","$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.activeIndex=-1,this.recentSearches=on()(this.searchService.getRecentSearches()),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"onKey",value:function(e){e.preventDefault(),38==e.keyCode?-1===this.activeIndex?this.selectRecent(this.recentSearches.length-1):this.selectRecent(Math.max(0,this.activeIndex-1)):40==e.keyCode?this.activeIndex+1>=this.recentSearches.length?(this.activeIndex=-1,angular.element(".search-clear").focus()):-1===this.activeIndex?angular.noop():this.selectRecent(Math.min(this.recentSearches.length-1,this.activeIndex+1)):13==e.keyCode?this.activeIndex>=0?this.click(this.recentSearches[this.activeIndex]):-1===this.activeIndex&&this.clear():9==e.keyCode&&(this.activeIndex=-1)}},{key:"isActiveElement",value:function(e){return e===this.activeIndex}},{key:"selectRecent",value:function(e){this.activeIndex=e}},{key:"click",value:function(e){var t=this.$state.go("search.results",{query:e,focusOnLoad:!0,isRecentSearch:!0});this.showLoading(t),this.searchService.saveRecentSearch(e),Vo&&(Vo.searchType=lt.k.KEYWORD)}},{key:"clear",value:function(){this.recentSearches=[],this.searchService.clearRecentSearches(),angular.element("input#query").focus()}},{key:"showLoading",value:function(e){this.recentSearches=[],this.$rootScope.$broadcast("message:loading",e,"Recent Searches")}}]),e}()}),angular.module("ovpApp.search.results",["ovpApp.directives.gridList","ovpApp.search.resultListItem"]).component("searchResults",{templateUrl:"js/search/result-pages/search-results.html",bindings:{results:"<",query:"<"},controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$scope:t,$stateParams:n,searchFocusIndex:r,$rootScope:i,$state:o})}return e.$inject=["$scope","$stateParams","searchFocusIndex","$rootScope","$state"],e.$inject=["$scope","$stateParams","searchFocusIndex","$rootScope","$state"],Ce()(e,[{key:"$onInit",value:function(){this.limit=l.a.getSelectorValue(u.be),this.layout={},this.resultCount=0,this.filters=[],this.filterIndex=void 0,this.focusFilter=!1,this.searchResultsTitle="",this.initFilters(),this.focusOnLoad=!!this.$stateParams.focusOnLoad&&JSON.parse(this.$stateParams.focusOnLoad),this.focusIndex=this.searchFocusIndex.get(),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"updateResultsTitle",value:function(){this.resultCount>0?this.searchResultsTitle='Search for: "'.concat(this.query,'" (').concat(this.resultCount," results)"):this.searchResultsTitle='No results matching "'.concat(this.query,'". Please try another search.'),this.$scope.$emit("search-results-title",this.searchResultsTitle)}},{key:"initFilters",value:function(){var e=this;this.filters=[],[{resultDisplay:"Movie",text:"Movies"},{resultDisplay:"Series",text:"Tv Shows"}].forEach(function(t){e.results.categories.some(function(e){return e.results.some(function(e){return e.resultDisplay===t.resultDisplay})})&&(t.filterFxn=function(e){return e.resultDisplay===t.resultDisplay},t.clickCallback=function(){e.setFilter(t.filterFxn),e.focusFilter=!0},e.filters.push(t))});var t=function(){return!0};this.filters.length>0&&this.filters.unshift({text:"All",filterFxn:t,clickCallback:function(){return e.setFilter(t)}}),this.setFilter(t)}},{key:"getCategoryTitle",value:function(e){return e.title+" ("+Math.min(this.limit,e.numResults)+" results)"}},{key:"setFilter",value:function(e){var t=this,n=this.filters.findIndex(function(t){return t.filterFxn===e});this.filterIndex!==n&&(this.filterIndex=n,this.layout={categories:[]},this.results&&this.results.categories&&this.results.categories.forEach(function(n){var r=n.results.filter(e);r.length>0&&t.layout.categories.push({title:n.title,results:r,numResults:r.length})}),this.resultCount=this.countResults()),this.updateResultsTitle()}},{key:"countResults",value:function(){var e=this;return this.layout&&this.layout.categories?this.layout.categories.reduce(function(t,n){return n.numResults?t+Math.min(e.limit,n.numResults):t},0):0}}]),e}()}),angular.module("ovpApp.search.sportsResults",["ovpApp.directives.gridList","ovpApp.search.sportsResultListItem","ovpApp.filters.titleCase"]).component("sportsSearchResults",{templateUrl:"js/search/result-pages/sports-search-results.html",bindings:{query:"<",results:"<",index:"<"},controller:function(){function e(t,n){we()(this,e),this.$state=t,this.$rootScope=n}return e.$inject=["$state","$rootScope"],e.$inject=["$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.layout={categories:[]},this.calculateLayout(),this.focusOnLoad=this.$state.current.name.startsWith("search")&&this.$state.previous&&this.$state.previous.name.startsWith("search"),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"calculateLayout",value:function(){var e=[{title:"Games On Now",programs:[]},{title:"Games On Later",programs:[]},{title:"Other",programs:[]}];this.results.forEach(function(t){var n=t.sportsCategory,r=Date.now();"Games On Now"==n||t.isLive&&r>=1e3*t.scheduledStartTimeSec&&r<1e3*t.scheduledEndTimeSec?e[0].programs.push(t):"Games On Later"==n?e[1].programs.push(t):e[2].programs.push(t)}),this.layout={categories:e.filter(function(e){return e.programs.length>0})},this.layout.categories.forEach(function(e,t){e.showToggle=0===t})}}]),e}()}),function(){function e(e,t,n,r){return{stripInvalidCharacters:i,getComponentResults:o,getSubResultsByUri:a,getSubResultsByQueryAndCategory:function(e,t){return o(e).map(function(n){return function(e,t,n){var r,o;if(e){if(t=i(t),n){var a=function(e,t){return t=t.toLowerCase(),e.results.find(function(e){return e.title.toLowerCase()==t})}(e,n);a&&(r=[a])}r||(r=e.results),r.forEach(function(e){return o=e.results.find(function(e){return t==i(e.searchStringMatch)})})}return o}(n,e,t)}).flatMap(function(e){return e?a(e.uri):n.Observable.just([])})},getActorResults:function(t,i){return Lo(),n.Observable.fromPromise(e.forDefaultProfile()).flatMap(function(e){var n=l.a.getSelectorValue(u.Cd)+e.actor.tmsProviderProgramID_tmsPersonID(i,t);return r.get(n,{withCredentials:!0}).map(function(e){return c(e.data),e.data})})},getDirectorResults:function(t,i){return Lo(),n.Observable.fromPromise(e.forDefaultProfile()).flatMap(function(e){var n=l.a.getSelectorValue(u.Cd)+e.director.tmsProviderProgramID_tmsPersonID(i,t);return r.get(n,{withCredentials:!0}).map(function(e){return c(e.data),e.data})})},getRelatedByTmsProgramId:function(t){return t?n.Observable.fromPromise(e.forDefaultProfile()).flatMap(function(e){var n=l.a.getSelectorValue(u.Cd)+e.similarTo.tmsProviderProgramID(t);return r.get(n,{withCredentials:!0}).map(function(e){return e.data})}):n.Observable.throw("tmsProgramId is null")},getRelatedByTmsSeriesId:function(t){return t?n.Observable.fromPromise(e.forDefaultProfile()).flatMap(function(e){var n=l.a.getSelectorValue(u.Cd)+e.similarTo.tmsSeriesID(t);return r.get(n,{withCredentials:!0}).map(function(e){return e.data})}):n.Observable.throw("tmsSeriesId is null")},getRecentSearches:s,saveRecentSearch:function(e){var t=s(),n=t.indexOf(e);n>=0&&t.splice(n,1);t.unshift(e),t.length>10&&t.pop();C.a.setItem(k.b.recentSearches,t)},clearRecentSearches:function(){C.a.setItem(k.b.recentSearches,[])},doNotRedirect:!1};function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[^ 0-9a-zA-Z\-& Yy  INN in ]/gi,"").toLowerCase()}function o(t){return t=encodeURIComponent(i(t)),n.Observable.fromPromise(e.forDefaultProfile()).flatMap(function(e){var n=l.a.getSelectorValue(u.Cd)+e.componentSearch.searchString(t);return r.get(n,{withCredentials:!0}).map(function(e){if(angular.isDefined(e.data.results))for(var t=e.data.results,n=0;n<t.length;++n)c(t[n]);return Uo(e),e.data})})}function a(e){return Lo(),r.get(l.a.getSelectorValue(u.Cd)+e,{withCredentials:!0}).map(function(e){return c(e.data),e.data})}function s(){return C.a.getItem(k.b.recentSearches)||[]}function c(e){if(angular.isDefined(e.results)&&Array.isArray(e.results))for(var t=e.title?e.title.toLowerCase():"",n=0;n<e.results.length;++n)e.results[n].dsQueryId=e.dsQueryId,e.results[n].searchResultIndex=n,e.results[n].searchFacet=t}}e.$inject=["entryService","$rootScope","rx","rxhttp"],e.$inject=["entryService","$rootScope","rx","rxhttp"],angular.module("ovpApp.search.searchService",["ovpApp.services.entry","ovpApp.services.rxUtils","rx"]).factory("searchService",e)}();n("0Lyw");angular.module("ovpApp.search.input",["ovpApp.search.searchService","rx","ovpApp.components.header.toggler"]).constant("scheduler",void 0).component("searchInput",{templateUrl:"js/search/search-input.html",controller:function(){function e(t,n,r,i,o,a,s,c,l,u){we()(this,e),angular.extend(this,{$scope:t,$rootScope:n,$state:r,searchService:i,rx:o,$q:a,scheduler:s,headerToggler:c,$timeout:l,searchFocusIndex:u})}return e.$inject=["$scope","$rootScope","$state","searchService","rx","$q","scheduler","headerToggler","$timeout","searchFocusIndex"],e.$inject=["$scope","$rootScope","$state","searchService","rx","$q","scheduler","headerToggler","$timeout","searchFocusIndex"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.activeIndex=-1,this.placeholder="Search for movies, sports, TV shows, networks and people",this.resetSearchInstructions(),this.query="",this.$state.previous&&0!==this.$state.previous.name.indexOf("search")&&(this.previousState=this.$state.previous),this.headerToggler.source.subscribe(function(t){t?(e.$state.previous&&0!==e.$state.previous.name.indexOf("search")&&(e.previousState=e.$state.previous),e.$timeout(function(){e.shouldFocusInput=!0},100)):(e.query="",e.shouldFocusInput=!1)}),this.queries=this.createQueryObservable(),this.queries.subscribe(function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;try{Vo||Fo(),Vo.searchType=t;var n,r=e.length>0?e[0]:void 0;e.length>0&&(Vo.lastKnownFirstChar&&r!==(null===(n=Vo)||void 0===n?void 0:n.lastKnownFirstChar)&&(Vo.searchId=Object(T.c)(),Vo.lastKnownFirstChar=r),Vo.lastKnownFirstChar||(Vo.lastKnownFirstChar=r))}catch(e){Object(y.l)()&&console.error("Error",e)}}(e.query,e.stateName.startsWith("search.quickresults")?lt.k.PREDICTIVE:lt.k.KEYWORD)}),(this.resultObservable=this.createResultObservable(this.queries)).subscribe(function(t){if(e.searchResultsTitle="",e.clearSearchInstructions(),e.searchFocusIndex.reset(),t.isError){var n={error:t.data};e.$state.go("search.error",n)}else{var r={query:t.rawQuery,results:t.data,focusOnLoad:!1},i=t.stateName.startsWith("search.quickresults")?{location:"replace"}:{};e.$state.go(t.stateName,r,i)}}),this.searchResultsTitleListener=this.$rootScope.$on("search-results-title",function(t,n){e.$timeout(function(){e.searchResultsTitle=n,e.$timeout(function(){e.searchResultsTitle=""},500)},500)}),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"$onDestroy",value:function(){this.searchResultsTitleListener()}},{key:"resetSearchInstructions",value:function(){this.searchInstructions="After entering a term, access auto complete results with the tab key.\n                    Or press ENTER to load full search results."}},{key:"clearSearchInstructions",value:function(){this.searchInstructions=""}},{key:"createQueryObservable",value:function(){var e=this,t=this.$scope.$toObservable(function(){return e.query}).map(function(t){var n=t.newValue;return e.decorate(n,"search.quickresults")}),n=this.rx.createObservableFunction(this,"search").map(function(t){return e.decorate(t,"search.results")});return this.rx.Observable.merge(t,n)}},{key:"createResultObservable",value:function(e){var t=this;return e.debounce(150,this.scheduler).filter(this.isQuickSearch).merge(e.filter(this.isFullSearch)).filter(this.isValidSearch.bind(this)).distinctUntilChanged().flatMapLatest(function(e){return t.doSearch(e)})}},{key:"decorate",value:function(e,t){return{query:this.searchService.stripInvalidCharacters(e),rawQuery:e,stateName:t}}},{key:"isValidSearch",value:function(e){return!!e.query&&e.query.length>=l.a.getSelectorValue(u.ce)}},{key:"isQuickSearch",value:function(e){return"search.quickresults"==e.stateName}},{key:"isFullSearch",value:function(e){return"search.results"==e.stateName}},{key:"showLoading",value:function(e,t){this.$rootScope.$broadcast("message:loading",this.toPromise(t),void 0,"Search")}},{key:"toPromise",value:function(e){return this.$q(function(t,n){var r;e.subscribe(function(e){return r=e},n,function(){return t(r)})})}},{key:"doSearch",value:function(e){var t=this;Lo();var n=this.searchService.getComponentResults(e.query).retry(3).takeUntil(this.queries).map(function(t){return angular.extend(e,{isError:!1,data:t})}).catch(function(n){return t.rx.Observable.just(angular.extend(e,{isError:!0,data:n}))}).shareReplay();return this.isFullSearch(e)&&this.searchService.saveRecentSearch(e.rawQuery),this.showLoading(e.rawQuery,n),n}},{key:"onKey",value:function(e){this.$rootScope.$emit("searchInput:key",e),27===e.keyCode&&this.exitSearch()}},{key:"exitSearch",value:function(){Vo=void 0,Object(y.j)(lt.c.SEARCH_CLOSED),this.shouldFocusInput=!1,this.searchResultsTitle="",this.previousState&&this.previousState.name?this.$state.go(this.previousState.name,this.previousState.fromParams):this.$state.go("ovp.livetv"),this.$timeout(function(){angular.element("global-search a").focus()},0,!1)}}]),e}()}),function(){function e(e,t,n,r,i){r.onSuccess({to:"search.**"},function(t){var n=t.router.getPlugin("stickystates").inactives(),i=n.find(function(e){return"ovp"===e.name});if(!i){var o=r.onSuccess({to:"ovp.blankPage"},function(){e.go(t.to(),t.params("to"),{location:"replace"}),o()});e.go("ovp.blankPage")}}),function(){var e=["search.recent","search.quickresults"];r.onSuccess({},function(t){e.indexOf(t.from().name)>=0&&n.replace()})}(),r.onEnter({entering:function(e){return"search.quickresults"===e.name||"search.results"===e.name}},function(e){if(i.doNotRedirect)i=!1;else{var t=e.injector().get("results");if(t&&1==t.numResults){Wo({asset:t.categories[0].results[0],overrides:{triggeredBy:lt.m.APPLICATION}});var n,r=t.categories[0].results[0].clickRoute;if(r)return r[1]=r[1]||{},(n=e.router.stateService).target.apply(n,on()(r))}}}),r.onEnter({entering:function(e){return["search.person","search.sports","search.team"].indexOf(e.name)>-1}},function(e){if(i.doNotRedirect)i=!1;else{var t=e.injector().get("results");if(1==t.length&&t[0].clickRoute){var n;Wo({asset:t[0],overrides:{triggeredBy:lt.m.APPLICATION}});var r=t[0].clickRoute;return r[1]=r[1]||{},(n=e.router.stateService).target.apply(n,on()(r))}}}),r.onError({to:"search.**"},function(t){var n=t.error();(!n||!0!==n.silent&&2!==n.type&&3!==n.type)&&e.go("search.error",{error:n})})}function t(e,t){function n(e){function t(t,n,r,i,o,a){var s;if(r.uri)s=t.getSubResultsByUri(r.uri).retry(3).toPromise(i);else if(r.tmsPersonId&&r.tmsId&&r.role){s=("director"==r.role?t.getDirectorResults:t.getActorResults)(r.tmsPersonId,r.tmsId).retry(3).toPromise(i)}else s=t.getSubResultsByQueryAndCategory(r.query,e).retry(3).toPromise(i);var c=s.then(function(t){var n=t&&t.results?t.results.map(a.createInstance):[];return Bo({searchFacet:e,results:t,query:r.query,tmsId:r.tmsPersonId}),n});return o.$broadcast("message:loading",c,void 0,"Search results"),c}return t.$inject=["searchService","$state","$stateParams","$q","$rootScope","delegateFactory"],t.$inject=["searchService","$state","$stateParams","$q","$rootScope","delegateFactory"],t}function r(e,t,n,r,i){if(Lo(),t.results)return i.createInstance(t.results);var o=e.getComponentResults(t.query).retry(3).toPromise(n).then(i.createInstance);return r.$broadcast("message:loading",o,void 0,"Search Results"),o}r.$inject=["searchService","$stateParams","$q","$rootScope","delegateFactory"],r.$inject=["searchService","$stateParams","$q","$rootScope","delegateFactory"],e.state("search",{abstract:"true",sticky:"true",url:"/search",views:{searchView:{template:'<div class="search-container" ng-class=\'{"invisible": !$state.includes("search")}\'>\n                            <search-header></search-header>\n                            <ui-view></ui-view>\n                        </div>'}},onEnter:["BookmarkService",function(e){e.getBookmarks()}],data:{capability:t.SEARCH,bodyClass:"search-active",pageTitle:"Search",hideMenu:!0,hideSubMenu:!0}}),e.state("search.error",{component:"searchError",params:{error:null},resolve:{error:["$stateParams",function(e){return e.error}]}}),e.state("search.blank",{}),e.state("search.recent",{url:"",component:"recentSearches"}),e.state("search.quickresults",{component:"quickSearchResults",params:{results:null,query:null},resolve:{query:["$stateParams",function(e){return e.query}],results:r}}),e.state("search.results",{url:"/result/:query?focusOnLoad",component:"searchResults",params:{results:null,query:null},resolve:{query:["$stateParams",function(e){return e.query}],results:r}}),e.state("search.person",{url:"/result/person/:query?tmsPersonId&tmsId&role&{uri:uri}",templateUrl:"js/search/result-pages/person-search-results.html",controller:"PersonResultsController",controllerAs:"vm",resolve:{query:["$stateParams",function(e){return e.query}],results:n("person")}}),e.state("search.sports",{url:"/result/sports/:query?{uri:uri}",component:"sportsSearchResults",resolve:{query:["$stateParams",function(e){return e.query}],results:n("sports")}}),e.state("search.team",{url:"/result/team/:query?{uri:uri}",component:"sportsSearchResults",resolve:{query:["$stateParams",function(e){return e.query}],results:n("team")}})}t.$inject=["$stateProvider","CAPABILITIES"],e.$inject=["$state","$rootScope","$location","$transitions","searchService"],t.$inject=["$stateProvider","CAPABILITIES"],e.$inject=["$state","$rootScope","$location","$transitions","searchService"],angular.module("ovpApp.search",["ui.router","ovpApp.dataDelegate","ovpApp.search.header","ovpApp.search.input","ovpApp.search.personResults","ovpApp.search.quickResults","ovpApp.search.results","ovpApp.search.sportsResults","ovpApp.search.error","ovpApp.search.recentSearches","ovpApp.search.searchService","rx","ovpApp.services.rxUtils","ovpApp.directives.gridList","ovpApp.directives.focus","ovpApp.directives.fadeinImmediate","ovpApp.directives.fadeinOnload","ovpApp.directives.lazySrc","ovpApp.directives.trapFocus","ovpApp.services.bookmark","ovpApp.services.capabilitiesService"]).run(e).factory("searchFocusIndex",function(){var e={index:-1,parentIndex:-1};return{set:function(t,n){e.index=t,e.parentIndex=n},get:function(){return e},reset:function(){e.index=-1,e.parentIndex=-1}}}).config(t)}(),angular.module("ovpApp.search.resultListItem",[]).component("resultListItem",{bindings:{item:"<",index:"<",category:"<",options:"<"},templateUrl:"js/search/widgets/result-list-item.html",controller:function(){function e(t,n,r,i,o){we()(this,e),this.$state=t,this.searchFocusIndex=n,this.$rootScope=r,this.oohService=i,this.productService=o}return e.$inject=["$state","searchFocusIndex","$rootScope","oohService","productService"],e.$inject=["$state","searchFocusIndex","$rootScope","oohService","productService"],Ce()(e,[{key:"$onInit",value:function(){this.isBlocked=!1,this.focusOnLoad=this.options&&this.options.focusOnLoad||!1,this.assetAvailableOutOfHome=!this.oohService.isUnavailableOoh(this.item)}},{key:"$onChanges",value:function(e){var t=this;e.item&&(this.item?this.item.isBlocked.then(function(e){return t.isBlocked=e}):this.isBlocked=!1)}},{key:"click",value:function(){var e,t=this.item.clickRoute;Wo({asset:this.item}),"Network"!==this.item.resultDisplay||!1!==this.item.isEntitled?this.oohService.isUnavailableOoh(this.item)?this.oohService.showOohModal():t&&(this.searchFocusIndex.set(this.options.index,this.options.parentIndex),(e=this.$state).go.apply(e,on()(t))):this.productService.showUnentitledNetworkModal()}},{key:"getTitlePrefix",value:function(){var e="";return this.item.isBlockedByParentalControls&&(e="Blocked"),!1===this.item.isEntitled&&(e="Not Entitled"),e}}]),e}()}),angular.module("ovpApp.search.sportsResultListItem",["ovpApp.legacy.DateUtil"]).component("sportsResultListItem",{bindings:{asset:"<",category:"<",index:"<",options:"<"},templateUrl:"js/search/widgets/sports-result-list-item.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$scope:t,$filter:n,dateUtil:r,$state:i,$rootScope:o})}return e.$inject=["$scope","$filter","dateUtil","$state","$rootScope"],e.$inject=["$scope","$filter","dateUtil","$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.focusOnLoad=this.options&&this.options.focusOnLoad||!1}},{key:"getTypeString",value:function(){return this.asset.tmsSeriesId?"Series":this.asset.isLive?"Live Event":this.asset.isReplay?"Rebroadcast":"Special"}},{key:"getTimeString",value:function(){if(this.asset.scheduledStartTimeSec&&this.asset.scheduledEndTimeSec){var e,t=new Date(1e3*this.asset.scheduledStartTimeSec),n=new Date(1e3*this.asset.scheduledEndTimeSec),r=new Date;return e=this.dateUtil.isToday(r,t)?"Today":this.dateUtil.isTomorrow(r,t)?"Tomorrow":this.dateUtil.formatDate(t,"eeee"),"".concat(e," ").concat(this.dateUtil.formatDate(t,"h:nn a"))+" - ".concat(this.dateUtil.formatDate(n,"h:nn a"))}if("Series"!==this.getTypeString())return"On Demand"}},{key:"getNetworkString",value:function(){return this.asset.network&&this.asset.network.callsign}},{key:"click",value:function(){Wo({asset:this.asset});var e,t=this.asset.clickRoute;t&&(e=this.$state).go.apply(e,on()(t))}}]),e}()});n("iWso");var wd=n("4y+m");!function(){function e(e,t){var n={};return n[e.LIVE]=t.LIVE,n[e.ONDEMAND]=t.ONDEMAND,n[e.GUIDE]=t.GUIDE,n[e.RDVR]=t.RDVR,n}function t(t,n,r){var o=null,s=null,d=!1;return{hasCapability:h,getCode:function(e){return g.apply(this,arguments)},isHidden:b,getCapabilities:p,postAuth:function(){null===s&&(s=S(!0).then(function(){return s=null}));return s},isProfileRefreshed:function(){return d},refreshProfile:S,isCdvrEnabled:w,isRdvrEnabled:function(){return Promise.all([$(),h(n.RDVR)]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return!n&&r})},isTVODEnabled:function(){return Promise.all([h(n.TVOD),k(),C()]).then(function(e){var t=Oe()(e,3),n=t[0],r=t[1],i=t[2];return!!n&&(r||i)})},isTVODRentEnabled:k,isTVODWatchEnabled:C,isIpOnlyEnabled:$,isRdvrHidden:function(){return b(n.RDVR)},canUseTwctv:function(){return Promise.all([h(n.ONDEMAND),h(n.RDVR),h(n.GUIDE),h(n.LIVE)]).then(function(e){return!!e.some(function(e){return e})||Promise.reject()})},canWatchLive:function(){return h(n.LIVE)},canUseGuide:function(){return h(n.GUIDE)},isIptvPackage:I,getFirstAvailableState:function(){return x.apply(this,arguments)},isAutoAuthEnabled:function(){return[l.a.getSelectorValue(u.xe),l.a.getSelectorValue(u.ke),l.a.getSelectorValue(u.z),l.a.getSelectorValue(u.n)].includes(!0)},isTVSA:T,isSpecU:O,isSpecUTA:function(){return l.a.getSelectorValue(u.Xe)&&"SpecUTA"===ut.a.get().authenticationType},isBulkMDU:A,isSpecUOrBulkMDU:P,isResidential:E,isStreamPlus:function(){return I()},isAutoAccessCombinedEnabled:function(){return!0===l.a.getSelectorValue(u.n)},isOOHAuthorized:function(){return h(n.OOH)},getAccountType:function(){return O()?r.SPECU:A()?r.BULK_MDU:E()?r.RESIDENTIAL:r.STREAM},isOTT:function(){return h(n.OTT)},showEntitledOnly:function(){return O()}};function p(){if(l.a.getSelectorValue(ie.a))return Promise.resolve();var e=l.a.getSelectorValue(ie.b);return e?Promise.reject({errorCode:e.errorCode||"WUC-1002",clientErrorCode:e.clientErrorCode}):(o||(o=new Promise(function(e){var t=l.a.watch(["capabilities","data"]),n=l.a.subscribe(t(function(t){t&&(n(),o=null,e())}))})),o)}function h(e){return d?e===n.TVOD?me.a.getLocation().then(function(){return!l.a.getSelectorValue(ge.h)&&f(n.TVOD)}).catch(function(){return!1}):e===n.RDVR?w().then(function(e){return!e&&f(n.RDVR)}):f(e):Promise.reject("Capabilities are not yet loaded")}function v(e){return bc()(!1,e,l.a.getSelectorValue(ie.a))}function f(e){return m.apply(this,arguments)}function m(){return(m=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.abrupt("return",v([t,"authorized"]));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.abrupt("return",v([t,"code"]));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==n.CDVR&&t!==n.RDVR&&(t!==n.ONDEMAND&&t!==n.SEARCH||!O())){e.next=4;break}return e.abrupt("return",h(t).then(function(e){return!e}));case 4:if(t!==n.TVOD){e.next=8;break}return e.abrupt("return",me.a.getLocation().then(function(){return!(!l.a.getSelectorValue(ge.h)&&!l.a.getSelectorValue(re.P))||h(t).then(function(e){return!e})}).catch(function(){return!0}));case 8:return e.next=10,p();case 10:return e.abrupt("return",v([t,"hide"]));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return Object(c.d)(wd.a,{fetchCapabilities:e}).then(function(){return l.a.getSelectorValue(u.Tf)&&l.a.getSelectorValue(u.Yf)&&Promise.resolve(ve.getBuyflowOffers(!0)),d=!0,t.$broadcast("Session:profileRefreshed"),!0}).finally(function(){var e=l.a.getSelectorValue(ie.b);if(e)return Promise.reject({errorCode:e.errorCode||"WUC-1002",clientErrorCode:e.clientErrorCode})})}function w(){return f(n.CDVR).then(function(e){return e&&!!l.a.getSelectorValue(u.O)})}function k(){return h(n.TVOD).then(function(e){return e&&!!l.a.getSelectorValue(u.Ze)})}function C(){return h(n.TVOD).then(function(e){return e&&!!l.a.getSelectorValue(u.af)})}function $(){return Promise.all([w(),P(),T(),I()]).then(function(e){return e.some(function(e){return e})})}function T(){return"TVSA"===ut.a.get().accountType}function O(){return(l.a.getSelectorValue(u.ke)||l.a.getSelectorValue(u.Xe))&&"SPECU"===ut.a.get().accountType}function E(){var e=ut.a.get(),t=e.accountType,n=e.classification;return"RESIDENTIAL"===t&&"MDU_BULK_MASTER"!==n}function A(){var e=ut.a.get().classification;return l.a.getSelectorValue(u.z)&&"MDU_BULK_MASTER"===e}function P(){return O()||A()}function I(){return Promise.all([h(n.IPTVPACKAGE),h(n.RDVR)]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return n&&!r})}function x(){return(x=a()(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:return n=l.a.getSelectorValue(ie.a),t.abrupt("return",Object.keys(n).find(function(t){if(n[t].authorized&&e[t])return e[t]}));case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}}t.$inject=["$rootScope","CAPABILITIES","ACCOUNT_TYPES"],e.$inject=["CAPABILITIES","PROTECTED_STATE"],t.$inject=["$rootScope","CAPABILITIES","ACCOUNT_TYPES"],e.$inject=["CAPABILITIES","PROTECTED_STATE"],angular.module("ovpApp.services.capabilitiesService",[]).constant("CAPABILITIES_ERROR_CODES",{RDVR_DISABLED:102,STB_NONE:103,RDVR_NONE:104,STB_UNREACHABLE:110,RDVR_UNREACHABLE:111,INVALID_RDVR:120,UNKNOWN:3735928559}).constant("CAPABILITIES",{ONDEMAND:"watchondemand",LIVE:"watchlive",TUNETOCHANNEL:"tunetochannel",GUIDE:"viewguide",RDVR:"dvroperations",CDVR:"cdvr",IPONLY:"iponly",TVOD:"tvod",ACCESSIBILITY:"accessibility",IPTVPACKAGE:"iptvpackage",SEARCH:"search",PARENTALCONTROLS:"parentalcontrols",OOH:"outofhome",OTT:"overthetop"}).constant("PROTECTED_STATE",{LIVE:"ovp.livetv",GUIDE:"ovp.guide",ONDEMAND:"ovp.ondemand",RDVR:"ovp.dvr"}).constant("ACCOUNT_TYPES",{SPECU:"specu",BULK_MDU:"bulk_mdu",STREAM:"stream",RESIDENTIAL:"residential"}).factory("CAPABILITIES_STATE_MAP",e).factory("capabilitiesService",t)}(),function(){function e(e,t,n,r,i,o){return{getProgramList:function(){return r.forDefaultProfile().then(function(t){return e({url:l.a.getSelectorValue(u.Cd)+t.cdvr(),withCredentials:!0,method:"GET"}).then(function(e){if(e&&e.data&&e.data.results){var t=e.data.results.find(function(e){return"recorded"===e.context});if(t&&t.media){var n=t.media.map(i.createInstance);return n}return[]}throw"Unable to get the list of recordings"}).catch(a)})},getScheduled:function(){return r.forDefaultProfile().then(function(n){return e({url:l.a.getSelectorValue(u.Cd)+n.cdvr(),withCredentials:!0,method:"GET"}).then(function(e){if(e&&e.data&&e.data.results){var n=e.data.results.find(function(e){return"scheduled"===e.context});if(n&&n.media){var r=n.media.map(i.createInstance).reduce(function(e,n){var r=o().hours(0).minutes(0).seconds(0).unix(),i=n.nextLinearStream;if(i&&i.streamProperties){var a=o(parseInt(i.streamProperties.startTime)),s=a.format("MMMM Do");e[s]||(e[s]={label:a.format("dddd"),date:s,startTime:a.hours(0).minutes(0).seconds(0).unix(),recordings:[]},a.unix()<r+86400?e[s].label="Today":a.unix()<r+172800&&(e[s].label="Tomorrow")),n.day=e[s],e[s].recordings.push(n)}else t.warn("Unable to find next linear stream",n);return e},{});return r=Object.keys(r).map(function(e){return r[e]}).sort(function(e,t){return e.startTime-t.startTime})}return[]}throw"Unable to get the list of recordings"}).catch(a)})},scheduleRecording:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.streamProperties,i={startTimeSec:parseInt(r.startTime,10)/1e3,stopTimeSec:parseInt(r.endTime,10)/1e3};return s(e,Object.assign({},n,i))},cancelRecording:function(e){return s(e)},deleteRecording:function(e){return s(e)},scheduleSeriesRecording:function(e,t){return s(e,t)},cancelSeriesRecording:function(e){return s(e)},getChannelNumber:function(e){if(e.latestEpisode&&e.latestEpisode.cdvrRecordedStream){var t=e.latestEpisode.cdvrRecordedStream;if(t.streamProperties&&t.streamProperties.cdvrRecording&&t.streamProperties.cdvrRecording.tmsGuideId){var r=t.streamProperties.cdvrRecording.tmsGuideId;return ea.a.getChannels({tmsGuideId:r}).then(function(e){var t=e[0];return t&&t.channelNumbers?t.channelNumbers[0]:""})}return n.reject("Unable to find cdvrRecording")}return e.network&&e.network.callsign?ea.a.getChannels({callSign:e.network.callsign}).then(function(e){var t=e.find(function(e){return e.channelNumbers&&e.channelNumbers.length});return t?t.channelNumbers[0]:""}):n.reject("Unable to find channel / service information")},getAllRecordings:function(){return r.forDefaultProfile().then(function(t){return e({url:l.a.getSelectorValue(u.Cd)+t.cdvr(),withCredentials:!0,method:"GET"}).then(function(e){var t;if(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.results)return e.data.results.reduce(function(e,t){return e.concat(t.media.map(i.createInstance))},[]);throw"Unable to get the list of recordings"}).catch(a)})}};function a(){return n.reject(te.a.getErrorInfo("WCD-1006").message)}function s(t,n){var r=t.ipvsAction,i=l.a.getSelectorValue(u.Cd)+r.baseUri;return e({url:i,withCredentials:!0,method:r.operation,headers:{"Content-Type":"application/json"},data:n})}}e.$inject=["$http","$log","$q","entryService","delegateFactory","moment"],e.$inject=["$http","$log","$q","entryService","delegateFactory","moment"],angular.module("ovpApp.services.cdvr",["ovpApp.dataDelegate","ovpApp.product.service","ovpApp.messages","ovpApp.services.entry"]).factory("cdvrService",e)}(),function(){function e(e,t,n,r,i,o,a){var s,c=!0,d=l.a.getSelectorValue(u.cb),p=l.a.getSelectorValue(u.Y),h=l.a.getSelectorValue(u.ab),v=l.a.getSelectorValue(u.Z),f=l.a.getSelectorValue(u.bb);return function(){if(!d)return;c=t.navigator.onLine,a.Observable.fromEvent(angular.element(t),"online").debounce(f).subscribe(function(){m()}),window.addEventListener("online",function(){g(!0)}),window.addEventListener("offline",function(){g(!1)}),p&&i(function(){return m()},v)}(),{isOnline:function(){return c},checkXhr:m};function m(){if(!s&&t.navigator.onLine)h=o.updateQueryStringParameter(h,"cacheBust",Date.now()),(s=e.get(h).timeout(3e3,a.Observable.throw()).retryWhen(function(e){return e.delay(1e3).take(3).concat(a.Observable.throw())}).toPromise(r)).then(function(){g(!0)},function(e){e&&-1!==e.status?g(!0):g(!1)}).finally(function(){s=null});else if(!s)return r.resolve();return s}function g(e){c!==e&&((c=e)?me.a.trigger():me.a.resetCache(),n.$broadcast("connectivityService:statusChanged",e))}}function t(e){return e}t.$inject=["connectivityService"],e.$inject=["rxhttp","$window","$rootScope","$q","$interval","httpUtil","rx"],t.$inject=["connectivityService"],e.$inject=["rxhttp","$window","$rootScope","$q","$interval","httpUtil","rx"],angular.module("ovpApp.services.connectivityService",[]).factory("connectivityService",e).run(t)}();var kd,Cd=n("eOG+"),$d=n.n(Cd),Td=n("dKXy"),Od=n("56rJ");function Ed(e){e.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,function(e){e.castState!==l.a.getSelectorValue(Td.a)&&l.a.dispatch(Object(Od.k)(e.castState))}),e.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,function(t){var n={errorCode:t.errorCode,status:t.sessionState};if(l.a.dispatch(Object(Od.l)(n)),l.a.getSelectorValue(Td.i)){!function(e){var t={errorExtras:{receiverDeviceId:l.a.getSelectorValue(Td.b),receiverVisitId:l.a.getSelectorValue(Td.c)}};Ae.a.errorAlert(e,void 0,t)}("WFE-1101")}else l.a.getSelectorValue(Td.g)?function(e){e.addMessageListener("urn:x-cast:com.spectrum.cast.deviceinfo",function(e,t){var n=JSON.parse(t);l.a.dispatch(Object(Od.m)(n))})}(e.getCurrentSession()):l.a.getSelectorValue(Td.h)&&l.a.dispatch(Object(Od.n)(null))})}function Ad(e){e.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,function(e){e.value&&(!function(e){if(e.customData)C.a.setItem(k.b.chromecast,{entity:e.entity,customData:e.customData});else{var t=C.a.getItem(k.b.chromecast);(null===t||void 0===t?void 0:t.entity)===e.entity?e.customData=t.customData:C.a.removeItem(k.b.chromecast)}}(e.value),l.a.dispatch(Object(Od.n)(e.value)))}),e.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(e){l.a.dispatch(Object(Od.q)(e.value))}),e.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(e){l.a.dispatch(Object(Od.o)(e.value))}),e.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(e){l.a.dispatch(Object(Od.p)(e.value))})}function Pd(){Ed(cast.framework.CastContext.getInstance()),Ad(kd)}var Id={CUSTOM_DATA_VERSION:"6"};!function(){function e(e,t,n,r,i,o,a,s){var c,d,p,h,v,f,m,g,y,S,$=[],T=!1,O=0,E=!1,A=!1,P={castDevicesAvailable:function(){if(!D()||!A)return!1;var e=cast.framework.CastContext.getInstance(),t=cast.framework.CastState;return e.getCastState()!==t.NO_DEVICES_AVAILABLE},isCCEnabled:function(){var e,t=M().tracks,n=(null===(e=N())||void 0===e?void 0:e.activeTrackIds)||[];if(t&&n){var r=t.find(function(e){return n.includes(null===e||void 0===e?void 0:e.trackId)&&"TEXT"===(null===e||void 0===e?void 0:e.type)});return!!r}return!1},clearDevCredentials:function(){g=null},disconnect:function(){p&&p.endSession(!1)},getDeviceName:j,getMediaData:M,getMediaSession:N,getMetadata:function(){var e=p&&p.getMediaSession();return e&&e.media?e.media.metadata:null},getSapState:B,getSavedPlayerState:function(){return c?c.savedPlayerState:null},getVolume:function(){return 100*c.volumeLevel},handleCastAdBreaksForOvp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=$d()(.0025,t),r=$d()(n,1e3);return _s()(function(e){return{startTime:1e3*Xe()(["position"],e),duration:r}},e)},hasRequestInProgress:function(){return!!v},isCasting:function(){return!!p},isEnabled:D,isMuted:function(){return c.isMuted},isPlayBackCompleted:V,isPlaying:function(){return c.isMediaLoaded&&!c.isPaused},isMediaLoaded:function(){return c.isMediaLoaded},seek:L,setDevCredentials:function(e,t){g={username:e,password:t}},setPlaybackCompleteToFalse:function(){T=!1},setCurrentTime:function(e){O=e},setVolume:function(e){if(c&&c.canControlVolume){var t=parseInt(e,10)/100;c.volumeLevel=t,d.setVolumeLevel()}},skip:function(e){var t=parseInt(l.a.getSelectorValue(u.ge),10)*e,n=c.currentTime+t;n<0?n=0:n>c.duration&&(n=c.duration);L(n)},toggleCC:U,toggleSap:W,toggleMute:function(){c&&c.canControlVolume&&d.muteOrUnmute()},togglePlay:function(){c&&c.canPause&&d.playOrPause()},updateMediaInfo:H},I=l.a.watch("config.configInitComplete.complete"),x=l.a.subscribe(I(function(n){n&&D()&&(!function(){e.__onGCastApiAvailable=function(e){e&&(function(){var e=cast.framework.CastContext.getInstance();e.setOptions({receiverApplicationId:l.a.getSelectorValue(u.S),autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),c=new cast.framework.RemotePlayer,d=new cast.framework.RemotePlayerController(c),e.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,function(e){t.$emit("chromecast:cast-state-changed",e)}),A=!0,t.$emit("chromecast:initialized")}(),function(){var e=cast.framework.CastContext.getInstance();e.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED,function(e){if(e.errorCode===chrome.cast.ErrorCode.SESSION_ERROR&&e.sessionState===cast.framework.SessionState.SESSION_START_FAILED){var n=te.a.getErrorInfo("WFE-1101").message;J("WFE-1101"),t.$emit("chromecast:session-start-Failed",{errorCode:"WFE-1101",errorMessage:n})}t.$emit("chromecast:session-state-changed",e)}),d.addEventListener(cast.framework.RemotePlayerEventType.STATUS_TEXT_CHANGED,function(e){E||v||e.value||V()||J("WFE-1103")}),e.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,function(e){t.$emit("chromecast:state-changed",e)}),d.addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(e){t.$emit("chromecast:time-changed",e.value),S===chrome.cast.media.StreamType.BUFFERED&&e.value===y&&(T=!0)}),d.addEventListener(cast.framework.RemotePlayerEventType.DURATION_CHANGED,function(e){e.value&&S===chrome.cast.media.StreamType.BUFFERED&&(y=e.value)}),d.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,function(e){t.$emit("chromecast:volume-changed",e.value)}),d.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,function(e){t.$emit("chromecast:toggle-mute",e.value,c.volumeLevel)}),d.addEventListener(cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,function(e){if(e.value){var n=e.value;if(e.value.customData)z(e.value.entity,e.value.customData);else{var r=C.a.getItem(k.b.chromecast);r&&r.entity===e.value.entity?n.customData=r.customData:Y()}t.$emit("chromecast:media-info-changed",n)}else V()&&t.$emit("chromecast:media-finished")}),d.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,function(e){t.$emit("chromecast:toggle-pause",e.value)}),d.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(e){p=e.value?cast.framework.CastContext.getInstance().getCurrentSession():null,t.$emit("chromecast:connection-changed",{connected:e.value,deviceName:j(),receiverVisitId:f,receiverDeviceId:m}),E=!e.value,e.value?p&&p.addMessageListener(_.DEVICE_INFO,function(e,n){var r=JSON.parse(n);f=r.visitId,m=r.deviceId,t.$emit("chromecast:receiver-info-received",r)}):(Y(),v=null)}),d.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,function(e){t.$emit("chromecast:player-state-changed",e.value)}),d.addEventListener(cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,function(e){t.$emit("chromecast:is-playing-break-changed",e.value)}),d.addEventListener(cast.framework.RemotePlayerEventType.BREAK_CLIP_ID_CHANGED,function(e){t.$emit("chromecast:break-clip-id-changed",e.value)})}(),function(e,t){e,kd=t,Pd(),l.a.dispatch(Object(Od.j)())}(c,d))};var n=e.document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),e.document.body.appendChild(n)}(),x())})),_={DEVICE_INFO:"urn:x-cast:com.spectrum.cast.deviceinfo"};function D(){return l.a.getSelectorValue(u.R)&&"Chrome"===i.name}function j(){return p?p.getCastDevice().friendlyName:null}function N(){return p?p.getMediaSession():null}function M(){return p&&p.getMediaSession()?p.getMediaSession().media:null}function V(){return T}function L(e){c&&c.canSeek&&(c.currentTime=e,d.seek())}function F(){var e=B(),t=e.sapEnabled,n=e.sapAvailable,r=C.a.getItem(k.b.ccEnabled),i=Object(b.c)(M(),"tracks",[]),o=[],a=i.find(function(e){return"es"===e.language}),s=i.find(function(e){return"en"===e.language});s&&o.push(n&&t?a.trackId:s.trackId);var c=i.find(function(e){return"TEXT"===e.type});r&&c&&o.push(c.trackId);var l=new chrome.cast.media.EditTracksInfoRequest(o),u=p.getMediaSession();u&&u.editTracksInfo(l)}function U(e){C.a.setItem(k.b.ccEnabled,e),F()}function B(){var e=C.a.getItem(k.b.sapEnabled),t=M(),n=!1;if(t&&t.tracks){var r=t.tracks.filter(function(e){return"AUDIO"===e.type});n=r.length&&r.length>1}return{sapEnabled:e,sapAvailable:n}}function W(e){var t=B().sapAvailable;C.a.setItem(k.b.sapEnabled,t&&e),F()}function H(e,i,s){if(e){(h=new chrome.cast.media.MediaInfo(i,"video/mp4")).streamType=e;var c=K(s,i),d=!(!c||!c.cdvrRecording);h.entity=function(e,t,n,i){return t?Object(b.c)(i,"streamProperties.cdvrRecording.playUrl"):e===chrome.cast.media.StreamType.LIVE?Object(b.c)(n,"channel.streamUri"):"true"===r.params.trailer||"true"===r.params.seriesTrailer?Object(b.c)(i,"streamProperties.ipvsTrailerUrl"):Object(b.c)(i,"streamProperties.mediaUrl")}(e,d,s,c);var f=Object(b.c)(s,"rating","").toString(),m=!!Object(b.c)(c,"streamProperties.tricks_mode.FASTFORWARD"),y=Object(R.a)();h.customData={version:Id.CUSTOM_DATA_VERSION,deviceId:y,deviceAdIdentifier:y,pcPin:C.a.getItem(k.b.parentalControlsLocalPin),quantum:{closedCaptioningCapable:function(e,t,n){var r=K(t,n),i=Object(b.c)(r,"streamProperties.attributes",[]);return e===chrome.cast.media.StreamType.LIVE||i.indexOf("CLOSED_CAPTIONING")>-1}(e,s,i),contentClass:function(e,t,n){var r,i=K(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!q(i))return"linear";if(Object(b.c)(i,"streamProperties.cdvrRecording"))return"cdvr";var o=t.programType;if(!i)return;var a=i.streamProperties;r="Preview"===o&&["ONLINE_ONDEMAND","ONDEMAND"].indexOf(i.type)>=0?"extra":a.ondemandStreamType;return r.toLowerCase()}(e,s,i),contentFormat:function(e,t,n){var r=K(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!q(r))return t.channel.hd?"HD":"SD";return Object(b.c)(r,"streamProperties.attributes",[]).indexOf("HIGH_DEF")>-1?"HD":"SD"}(e,s,i),contentIdentifier:i,referrerAppVisitId:ct.a.get(lt.d.VISIT_ID),referrerAppName:l.a.getSelectorValue(w.a),referrerAppType:l.a.getSelectorValue(w.b),referrerAppIsActive:!0},isCDVR:d,rating:f,seekDisabled:m},d?(h.customData.quantum.recordingStartTimeSec=c.cdvrRecording.startTimeSec,h.customData.quantum.recordingStopTimeSec=c.cdvrRecording.stopTimeSec):e===chrome.cast.media.StreamType.BUFFERED&&(h.customData.quantum.expirationDate=function(e,t){var n=K(e,t),r=Object(b.c)(n,"streamProperties.endTime");return r?parseInt(r):null}(s,i),h.customData.vodType=function(e){if("true"===r.params.trailer||"true"===r.params.seriesTrailer){var t=G(e);return"MV"===t?"TRAILER":"SERIES_TRAILER"}return"STANDARD"}(s)),s.tmsProgramIds&&s.tmsProgramIds.length>0&&(h.customData.quantum.tmsProgramId=s.tmsProgramIds[0]),h.metadata=function(e){var t=G(e),n=e.imageUri().split("?")[0],r=e.networkImage(),i={episode:+Object(b.c)(e,"episode")||+Object(b.c)(e,"episodeNumber"),episodeTitle:Object(b.c)(e,"episodeTitle","").toString()||Object(b.c)(e,"title","").toString(),images:[new chrome.cast.Image(n),new chrome.cast.Image(r)],originalAirDate:Object(b.c)(e,"originalAirDate","").toString(),releaseYear:Object(b.c)(e,"year","").toString(),season:+Object(b.c)(e,"season")||+Object(b.c)(e,"seasonNumber"),seriesTitle:Object(b.c)(e,"seriesTitle","").toString()||Object(b.c)(e,"title","").toString(),title:Object(b.c)(e,"title","").toString()};switch(t){case"MV":return function(e){var t=new chrome.cast.media.MovieMediaMetadata;return t.images=e.images,t.releaseDate=e.releaseYear,t.title=e.title,t}(i);case"EP":return function(e){var t=new chrome.cast.media.TvShowMediaMetadata;return t.episode=e.episode,t.images=e.images,t.originalAirdate=e.originalAirDate,t.season=e.season,t.seriesTitle=e.seriesTitle,t.title=e.episodeTitle,t}(i);default:return function(e){var t=new chrome.cast.media.GenericMediaMetadata;return t.images=e.images,t.releaseDate=e.releaseYear,t.title=e.title,t}(i)}}(s),(e===chrome.cast.media.StreamType.BUFFERED||q(c))&&(h.duration=function(e,t,n){var r=K(t,n);if(e===chrome.cast.media.StreamType.LIVE&&!q(r))return t.durationSec;return r.duration}(e,s,i)),S=e,function(e){T=!1;var i=M(),s=function(e,t){if(!e)return!1;var n=t.entity,r=e.media;return r.entity===n&&Object(b.c)(r,"customData.vodType","STANDARD")===Object(b.c)(t,"customData.vodType","STANDARD")}(v,h);if(function(e,t){if(!e)return!0;var n=t.entity;return e.entity!==n||Object(b.c)(e,"customData.vodType","STANDARD")!==Object(b.c)(t,"customData.vodType","STANDARD")}(i,h)&&!s){if(v)return void function(e){var t=e.storedMediaInfo,n=e.asset,r=t.streamType,i=t.customData.quantum.contentIdentifier;$.length&&$.pop();$.push({streamType:r,contentIdentifier:i,asset:n})}({storedMediaInfo:h,asset:e});(v=new chrome.cast.media.LoadRequest(h)).media.streamType===chrome.cast.media.StreamType.BUFFERED&&(v.currentTime=function(e){if(O>0)return O;var t=Object(b.c)(e,"bookmark.complete"),n=Object(b.c)(e,"bookmark.playMarkerSeconds",0),i=Object(b.c)(e,"bookmark.runtimeSeconds",0);return t||r.params.isStartOver||n>=i?0:n}(e)),O=0,o.post(l.a.getSelectorValue(u.T),{withCredentials:!0}).then(function(r){v.credentials=g?"".concat(g.username,":").concat(g.password):r.data.split("=")[1],t.$emit("chromecast:loading-media",v,e),p.loadMedia(v).then(function(){U(C.a.getItem(k.b.ccEnabled)),function(){var e=B(),n=e.sapEnabled,r=e.sapAvailable;t.$emit("chromecast:sap-initialized",{sapEnabled:n,sapAvailable:r}),r&&W(n)}(),z(h.contentId,h.customData),t.$emit("chromecast:media-info-changed",h)}).catch(function(e){n.debug("cast:onMediaError",e),t.$emit("chromecast:load-media-failure",e),J("WFE-1103")}).finally(function(){v=null,function(){if($.length){var e=$.pop(),t=e.asset,n=e.contentIdentifier,r=e.streamType;H(r,n,t)}}()})}).catch(function(){a.errorAlert("CVP-132")})}}(s)}}function G(e){var t,n;return(null!==(t=null===e||void 0===e?void 0:null===(n=e.tmsProgramIds)||void 0===n?void 0:n[0])&&void 0!==t?t:"").substring(0,2)}function q(e){return Object(b.c)(e,"cdvrState")===s.IN_PROGRESS}function z(e,t){var n={entity:e,customData:t};C.a.setItem(k.b.chromecast,n)}function Y(){C.a.removeItem(k.b.chromecast)}function K(e,t){return h.streamType!==chrome.cast.media.StreamType.LIVE||r.params.isCdvr?e.streamList.find(function(e){return!!e.streamProperties.mediaUrl&&e.streamProperties.providerAssetID===t||Object(b.c)(e,"streamProperties.cdvrRecording.recordingId")===t}):null}function J(e){var t={};t=Object(b.i)(t,"errorExtras.receiverDeviceId",m),t=Object(b.i)(t,"errorExtras.receiverVisitId",f),a.errorAlert(e,void 0,t)}return P}e.$inject=["$window","$rootScope","$log","$state","platform","$http","kiteModalService","CDVR_STATE"],e.$inject=["$window","$rootScope","$log","$state","platform","$http","kiteModalService","CDVR_STATE"],angular.module("ovpApp.services.chromecast",["ovpApp.services.kiteModal","ovpApp.dataDelegate","lib.platform"]).factory("chromecastService",e)}(),function(){function e(e){var t={relative:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard",r=e(),o=e(t);return r.clone().subtract(1,"day").isSame(o,"day")?"Yesterday":r.isSame(o,"day")?"tiny"==n?"Today":o-r>0?"Later today":"Earlier today":r.clone().add(1,"day").isSame(o,"day")?"Tomorrow":i(t,n)},absolute:i,timeOfDay:o,runtime:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard";t=60*Math.max(1,Math.round(t/60));var r="",i=e.duration(t,"seconds"),o=i.hours();o>0&&(r+=o+" hour"+(1!=o?"s ":" "));var a=i.minutes(),s=""+a;s=1==a.length?"0"+s:s,(a>0||0===o)&&(r+=s+" minute"+(1!=a?"s":""));if("short"==n){var c=/minutes?/gi;r=r.replace(c,"min"),c=/hours?/gi,r=r.replace(c,"hr")}return r},startEnd:function(t,n){var r=e(t),i=e(n);return r.date()!==i.date()?r.calendar(null,{sameDay:"[Today] h:mm A",nextDay:"[Tomorrow] h:mm A",nextWeek:"ddd. M/DD, h:mm A",sameElse:"ddd. M/DD, h:mm A"})+" - "+i.format("h:mm A"):r.calendar(null,{sameDay:"[Today], h:mm",nextDay:"[Tomorrow], h:mm",nextWeek:"ddd. M/DD, h:mm",sameElse:"ddd. M/DD, h:mm"})+" - "+i.format("h:mm A")},elapsedAndDuration:function(e,t){return"".concat(a(e)," / ").concat(a(t))},hhmm:function(e){return"".concat(a(e))},hhmmss:function(e){var t=Math.floor(e/60),n=Math.floor(t/60);e=Math.round(e%60),(t%=60)<10&&(t="0"+t);e<10&&(e="0"+e);return"".concat(n,":").concat(t,":").concat(e)},remaining:function(){return"not implemented"}};return n(t.relative,["standard","short","expanded","tiny"],!0),n(t.absolute,["standard","short","expanded","tiny"],!0),n(t.runtime,["standard","short"]),t;function n(e,t,n){n&&(e.atTime=function(t){return e(t)+r(t)}),t.forEach(function(t){e[t]=function(n){return e(n,t)},n&&(e[t].atTime=function(n){return e[t](n)+r(n)})})}function r(t){return e(t).isValid()?" at "+o(t):""}function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard";return"short"==n?function(t){var n=e(),r=e(t);return r.isBefore(n.subtract(1,"year"))?r.format("M/DD/YY"):r.format("ddd M/DD")}(t):"expanded"==n?function(t){var n=e(),r=e(t);return r.isBefore(n.subtract(1,"year"))?r.format("M/D/YY"):r.format("dddd, MMM Do")}(t):"tiny"==n?function(t){var n=e(),r=e(t);return r.isBefore(n.subtract(1,"year"))?r.format("M/DD/YY"):r.format("ddd")}(t):function(t){var n=e(),r=e(t);return r.isBefore(n.subtract(1,"year"))?r.format("M/DD/YY"):r.format("MMM D, YYYY")}(t)}function o(t){return e(t).format("h:mm a")}function a(e){var t=Math.floor(e/60),n=Math.floor(t/60);return(t%=60)<10&&(t="0"+t),"".concat(n,":").concat(t)}}e.$inject=["moment"],e.$inject=["moment"],angular.module("ovpApp.services.dateFormat",[]).factory("dateFormat",e)}();n("xXtZ");function xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(){function e(e,t,n,r){var i={};return{forDefaultProfile:function(){return t.all([n.isSpecU(),n.isBulkMDU(),n.isIpOnlyEnabled(),n.isTVSA()]).then(function(e){var t=Oe()(e,4),n=t[0],r=t[1],i=t[2],a=t[3],s=n?l.a.getSelectorValue(u.Uc):r?l.a.getSelectorValue(u.Pc):a?l.a.getSelectorValue(u.Vc):i?l.a.getSelectorValue(u.Rc):l.a.getSelectorValue(u.Tc);return o(s)})},forProfile:o,clearCache:function(){i={}}};function o(t){return Ue().then(function(n){var o=n.market,a=n.lineupId;if(!(a||o||t))throw new Error("Must have a profile, lineup and division");var s="".concat(o,":").concat(a,":").concat(t);if(r.$broadcast("EntryService:masDefined",n),i[s])return i[s];var c=e({method:"GET",url:"".concat(l.a.getSelectorValue(u.Cd)).concat(l.a.getSelectorValue(u.Oc)).concat(l.a.getSelectorValue(u.Qc))+"?division=".concat(o,"&lineup=").concat(a,"&profile=").concat(t),withCredentials:!0}).then(function(e){return e.data.entryPointList.reduce(function(e,t){return e[t.name]=t.entryPoints.reduce(function(e,t){return t.replaceType||t.replaceStrings?!t.replaceType&&t.replaceStrings?(e[t.replaceStrings.map(function(e){return e.replaceType}).join("_")]=function(){for(var e=t.uri,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(n,r){return e=e.replace(t.replaceStrings[r].replaceString,n)}),e},e):(e[t.replaceType]=function(e){return t.uri.replace(t.replaceString,e)},e):angular.extend(function(){return t.uri},e)},{}),e},{})});return i[s]=c})}}e.$inject=["$http","$q","capabilitiesService","$rootScope"],e.$inject=["$http","$q","capabilitiesService","$rootScope"],angular.module("ovpApp.services.entry",["ovpApp.services.capabilitiesService"]).factory("entryService",e)}(),function(){function e(e,t,n){var r=null,i={};return{getChannels:o,getChannelByMystroSvcId:function(e,t){return o().then(function(n){var r=i[[e,t].join(":")];return angular.isDefined(r)&&n[r]||null})},getChannelByNcsSvcId:function(e,t){return o().then(function(n){var r=i[[e,t].join(":")];return angular.isDefined(r)&&n[r]||null})},clearChannels:s};function o(){return null===r&&(r=e.all([n.isIpOnlyEnabled()]).then(function(e){var n=e[0],r={live:!0};return l.a.getSelectorValue(u.ic)&&(r.entitled=!0,r.onlineEntitled=!0),ea.a.getChannels(r).then(function(e){if(!angular.isArray(e))return[];var t=e.filter(function(e){return e.onlineEntitled&&(n?e.online:e.online||e.qam)});return function(e){angular.forEach(e,function(e,t){angular.isDefined(e.mystroServiceId)&&angular.isDefined(e.channelNumber)&&(i[[e.mystroServiceId,e.channelNumber].join(":")]=t)})}(t=function(e){var t;if(!e)return[];var n=[];return e.forEach(function(e){e.channelNumbers&&e.channelNumbers.length?e.channelNumbers.forEach(function(t,r){r>0?n.push(a(angular.extend({},e),t)):a(e,t)}):a(e,e.channelNumber)}),(t=e).push.apply(t,n),e=e.sort(function(e,t){return angular.isUndefined(e.channelNumber)?1:angular.isUndefined(t.channelNumber)?-1:e.channelNumber-t.channelNumber})}(t)),t},function(){throw new t("Error Loading Channels")})},s)),r}function a(e,t){return angular.extend(e,{channelNumber:angular.isDefined(t)?parseInt(t):void 0,tmsGuideId:e.tmsGuideId||e.tmsId,fullLogoUrl:(e.logoUrl&&e.logoUrl.startsWith("/")?l.a.getSelectorValue(u.vc)+e.logoUrl:e.logoUrl)+"?width=50&sourceType=colorhybrid"})}function s(){r=null}}function t(t,n,r,i,o){return e(t,n,r)}t.$inject=["$http","$q","ServiceError","stbService","capabilitiesService"],e.$inject=["$q","ServiceError","capabilitiesService"],t.$inject=["$http","$q","ServiceError","stbService","capabilitiesService"],e.$inject=["$q","ServiceError","capabilitiesService"],angular.module("ovpApp.services.epgsService",["ovpApp.components.error.ServiceError","ovpApp.services.stbService"]).factory("epgsService",e).factory("realEpgsService",t)}(),function(){function e(e,t,n){var r,i=[];return{requestFocus:function(t){var o=n.defer();i.push({priority:t,defer:o}),r||(r=e(function(){i.sort(function(e,t){return t.priority-e.priority}),i.forEach(function(e,t){0===t?e.defer.resolve():e.defer.reject()}),i=[],r=void 0},0));return o.promise},lowPriority:0,highPriority:100}}e.$inject=["$timeout","platform","$q"],e.$inject=["$timeout","platform","$q"],angular.module("ovpApp.services.focusMediator",["lib.platform"]).factory("focusMediator",e)}(),angular.module("ovpApp.services.oohService",["ovpApp.services.kiteModal","ovpApp.services.capabilitiesService","ovpApp.services.playerOverlayTimer"]).factory("oohService",["kiteModalService","capabilitiesService","playerOverlayTimer",function(e,t,n){return{isUnavailableOoh:function(e){return!ea.a.getAvailability(e)},oohAvailabilityMessage:function(){return te.a.getErrorInfo("WLC-1012").message},showOohModal:function(){var r=t.isSpecUTA()||t.isSpecU()?l.a.getSelectorValue(u.me):l.a.getSelectorValue(u.cc);return n.isMiniGuideOpen()&&n.toggleMiniGuide(),l.a.getSelectorValue(u.cg)&&l.a.getSelectorValue(ge.c)?e.errorAlert("WLC-1007",void 0,{resolve:{options:{analytics:{modal:{show:"OVP_modalView_outOfHomeWarning",resolved:"OVP_selectAction_outOfHomeBanner_okDismiss",dismissed:"OVP_selectAction_outOfHomeBanner_xDismiss"}}}}}):l.a.getSelectorValue(u.Mf)&&me.a.getDeviceLocation()===me.a.LOCATION.OUT_MARKET?e.errorAlert("WLP-1041",void 0,{resolve:{options:{analytics:{modal:{show:"OVP_modalView_outOfHomeWarning",resolved:"OVP_selectAction_outOfHomeBanner_okDismiss",dismissed:"OVP_selectAction_outOfHomeBanner_xDismiss"}}}}}):e.open({component:"oohWarningModal",showCloseIcon:!0,resolve:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({options:{analytics:{modal:{show:"OVP_modalView_outOfHomeWarning",resolved:"OVP_selectAction_outOfHomeBanner_okDismiss",dismissed:"OVP_selectAction_outOfHomeBanner_xDismiss"}}}},r),ariaLabelledBy:"ooh-message-heading"})}}}]);n("piMb");var _d=n("/vZ1"),Dd=n("493X"),Rd=n("B+El");function jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(){function e(e,t,n,r,i,o,a,s,u){var d,p=null,h=null,v=null,f={getParentalControlsForUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d&&Object(b.c)(t,"forceRefresh")&&(d=null),d||(d=new Promise(function(t,n){e({method:"GET",url:l.a.getSelectorValue(ms.k),withCredentials:!0}).then(function(e){p=Object(b.c)(e,"data.loggedInUsername"),h=Object(b.c)(e,"data.adminUsername"),Xe()(["data","loggedInAsAdmin"],e)||(e=Object(b.i)(e,"data.loggedInAsAdmin",p&&p===h)),t(e.data)}).catch(function(e){return n(e)})})),d},isPrimaryAccount:function(){return f.getParentalControlsForUser().then(function(e){return e.loggedInAsAdmin})},isParentalControlsDisabledForClient:function(){var e=C.a.getItem(k.b.parentalControlsDisabled);return e||(e=!1),u.isSpecUOrBulkMDU()?t.resolve(!0):this.isPINSet().then(function(t){return e||!t}).catch(function(n){return e=!1,t.resolve(!1)})},isBlocked:function(e,n,r){var i,o,s,c=this,l={isBlocked:!1,reason:null};return this.isParentalControlsDisabledForClient().then(function(u){return u?l:(i=!(!e||!e.length)&&c.isBlockedByRating(e),o=!(!n||!n.length)&&c.isChannelBlockedByTmsGuideServiceId(n),s=!(!r||!r.length)&&c.isChannelBlockedByProviderIds(r),t.all([i,o,s]).then(function(e){var t=Oe()(e,3),n=t[0],r=t[1],i=t[2];return n?(l.isBlocked=!0,l.reason=a.rating):(r||i)&&(l.isBlocked=!0,l.reason=a.channel),l}))})},disableParentalControlsForClient:function(){C.a.setItem(k.b.parentalControlsDisabled,!0),o.$emit("ParentalControls:updated")},enableParentalControlsForClient:function(){C.a.setItem(k.b.parentalControlsDisabled,!1),o.$emit("ParentalControls:updated")},hasChannelBlockingEnabled:function(){return t.resolve(!!C.a.getItem(k.b.parentalControlsChannelEnabled))},clearSession:function(){return t.resolve(C.a.removeItem(k.b.parentalControlsUnlocked))},savePINLocally:function(e){return t.resolve(C.a.setItem(k.b.parentalControlsLocalPin,md5(e)))},getLocalPin:function(){return t.resolve(C.a.getItem(k.b.parentalControlsLocalPin))},getHighestUnblockedRatingByType:function(e){var t=l.a.getSelectorValue(_d.a);if(e===n){var i=t.tv.length,o=l.a.getSelectorValue(_d.g);return i===o.length?"":o[o.length-i-1]}if(e===r){var a=t.movie.length,s=l.a.getSelectorValue(_d.c);return a===s.length?"":s[s.length-a-1]}return""},unblockRating:function(e){var t=l.a.getSelectorValue(_d.g),n=l.a.getSelectorValue(_d.c),r=t[t.indexOf(e.tv)+1]||null,i=n[n.indexOf(e.movie)+1]||null;l.a.dispatch(Dd.b.trigger({tv:r,movie:i}))},isBlockedByRating:function(e){return this.isParentalControlsDisabledForClient().then(function(n){if(n)return!1;angular.isArray(e)||(e=[e]);var r=l.a.getSelectorValue(_d.b),i=e.reduce(function(e,t){return e&&r(t)},!0);return t.resolve(i)})},getUnblockedTvRating:function(){return this.getHighestUnblockedRatingByType(n)},getUnblockedMovieRating:function(){return this.getHighestUnblockedRatingByType(r)},isPINSet:function(e){return f.getParentalControlsForUser(e).then(function(e){return!!e&&Boolean(e.pinSet)})},shouldSetDefaults:function(){var e=this;return this.isPINSet().then(function(t){return!t&&e.parentalControlsByChannel().then(function(e){return void 0===e.find(function(e){return!0===e.blocked})})})},validatePIN:function(t){var n={parentalControlPIN:md5(t)};return e({method:"POST",url:l.a.getSelectorValue(ms.y),data:JSON.stringify(n),withCredentials:!0,bypassRefresh:!0}).then(function(){f.savePINLocally(t)})},setPIN:function(n,r){var o=t.defer(),a={parentalControlPIN:n};return void 0!==r&&""!==r&&(a.adminPassword=r),e({method:"POST",url:l.a.getSelectorValue(ms.m),data:JSON.stringify(a),withCredentials:!0}).then(function(){i(function(){d=null,f.savePINLocally(n),o.resolve()},1e3)}).catch(function(e){o.reject(e)}),o.promise},setPINForFirstTimeWithDefaultRatings:function(e,t){return f.setPIN(e,t).then(function(){return Object(c.d)(Rd.b,{payload:Rd.a}).then(function(){return f.getParentalControlsForUser()})})},parentalControlsByChannel:function(){return v||(v=t.defer(),ea.a.getChannels().then(function(e){v.resolve(e)},function(e){v.reject(e)})),v.promise},isChannelBlockedByTmsGuideServiceId:function(e){var t=this;return f.isParentalControlsDisabledForClient().then(function(n){return!n&&(angular.isArray(e)||(e=[e]),e=e.map(function(e){return parseInt(e)}),t.parentalControlsByChannel().then(function(t){var n=[];return t.forEach(function(t){t.tmsGuideId&&e.includes(parseInt(t.tmsGuideId))&&n.push(t)}),!!(n.length>0&&n.length===e.length&&n.every(function(e){return e.blocked}))}))})},isChannelBlockedByProviderIds:function(e){var t=this;return f.isParentalControlsDisabledForClient().then(function(n){return!(n||!(e&&e.length>0))&&t.parentalControlsByChannel().then(function(t){var n=t.filter(function(t){return t.productProviders&&t.productProviders.some(function(t){return e.includes(t)})});return n.length>0&&n.every(function(e){return e.blocked})})})},validateAdminPassword:function(t){return e({method:"POST",url:l.a.getSelectorValue(ms.x),data:JSON.stringify({adminPassword:t}),withCredentials:!0})},resetChannelsDefer:function(){v=null}};return f.debounceUnblockRating=s(),f.debounceUnblockRating.debounce(1e3).subscribe(function(e){return f.unblockRating.apply(f,on()(e))}),f}e.$inject=["$http","$q","TV_RATINGS_TYPE","MOVIE_RATINGS_TYPE","$timeout","$rootScope","PC_BLOCK_REASON","createObservableFunction","capabilitiesService"],e.$inject=["$http","$q","TV_RATINGS_TYPE","MOVIE_RATINGS_TYPE","$timeout","$rootScope","PC_BLOCK_REASON","createObservableFunction","capabilitiesService"],angular.module("ovpApp.services.parentalControlsService",["ovpApp.components.alert","ovpApp.services.rxUtils","ovpApp.services.capabilitiesService"]).constant("TV_RATINGS_TYPE","TVRatings").constant("MOVIE_RATINGS_TYPE","MovieRatings").constant("PC_BLOCK_REASON",{rating:"rating",channel:"channel"}).constant("PC_UNBLOCK_REASON",{settings:"settings"}).factory("parentalControlsService",e)}(),function(){function e(e,t,n,r,i){var o,a={isPINSet:function(){return o||(o=t.defer(),e({method:"GET",url:l.a.getSelectorValue(ms.l),withCredentials:!0}).then(function(e){200===e.status?(o.resolve(!0),o=null):o.reject(e)},function(e){404===e.status?(o.resolve(!1),o=null):o.reject(e)})),o.promise},isPurchasePINDisabledForClient:function(){var e=C.a.getItem(k.b.purchasePinDisabled,!0);return null!==e&&void 0!==e||t.resolve(!1),t.resolve(md5("1234ABcDMnPXyz$#!@&*")===e)},validatePIN:function(t){var n={purchasePIN:md5(t)};return e({method:"POST",url:l.a.getSelectorValue(ms.z),data:JSON.stringify(n),withCredentials:!0,bypassRefresh:!0}).then(function(){a.savePINLocally(t)})},setPIN:function(t,n){var i={purchasePIN:t};return void 0!==n&&""!==n&&(i.adminPassword=n),e({method:"POST",url:l.a.getSelectorValue(ms.n),data:JSON.stringify(i),withCredentials:!0}).then(function(){r(function(){a.savePINLocally(t)},1e3)})},isPrimaryAccount:function(){return i.isPrimaryAccount()},shouldSetDefaults:function(){var e=t.defer();return e.resolve(!1),e.promise},disablePurchasePINForClient:function(){C.a.setItem(k.b.purchasePinDisabled,"1234ABcDMnPXyz$#!@&*",{key:!0,value:!0}),n.$emit("PurchasePin:updated")},enablePurchasePINForClient:function(){C.a.setItem(k.b.purchasePinDisabled,"false",{key:!0,value:!0}),n.$emit("PurchasePin:updated")},savePINLocally:function(e){C.a.setItem(k.b.purchasePinLocal,md5(e))},getLocalPin:function(){return C.a.getItem(k.b.purchasePinLocal)}};return a}e.$inject=["$http","$q","$rootScope","$timeout","parentalControlsService"],e.$inject=["$http","$q","$rootScope","$timeout","parentalControlsService"],angular.module("ovpApp.services.purchasePinService",["ovpApp.services.parentalControlsService"]).factory("purchasePinService",e)}(),function(){function e(e,t,n,r,i,o){var a,s=i.get("nnsCache"),c={fetchBatch:function(e){if(!e||0===e.length)return t.Observable.just([]).toPromise(n);return t.Observable.from(e).concatMap(function(e){return d(e).retry(2).catch(function(){return t.Observable.just(void 0)})}).bufferWithCount(e.length).first().timeout(6e4,t.Observable.throw("Timeout fetching all assets").doOnError(function(){return r.error("Unable to fetch all data within 60 seconds")})).toPromise(n)},fetchAssetData:function(e){return d(e).toPromise(n)},getEpisodesSince:function(e,t){var n=[],r=t.seasons;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var o=p(e,r[i]);n=n.concat(o)}return n},getEpisodesFromSeasonSince:p,getVersion:function(){return e({url:l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.Wc)+"?short=true",withCredentials:!0}).map(function(e){return e.data}).toPromise(n)}};return a=(a=[function(e){try{angular.fromJson(e)}catch(t){e="{}",r.error("Unable to parse json from server response")}return e}]).concat(e.defaults.transformResponse),c;function d(n){return t.Observable.fromPromise(function(e){return o.forDefaultProfile().then(function(t){var n=null;if(e.isSeries&&e.tmsSeriesId)n=t.series.tmsSeriesID(e.tmsSeriesId);else{if(!e.providerAssetId)throw new Error("Unable to determine the correct entry url for asset");n=t.event.providerAssetID(e.providerAssetId)}return n})}(n)).flatMap(function(t){return function(t,n){return e({url:l.a.getSelectorValue(u.Cd)+n,withCredentials:!0,cache:s,transformResponse:a}).map(function(e){return e.data})}(0,t)}).doOnError(function(e){return r.error("Unable to fetch the asset data url "+e)})}function p(e,t){var n=[];if(t.episodes&&"Other"!==t.name)for(var r=0;r<t.episodes.length;r++){var i=t.episodes[r];if(i.details.original_air_date)Date.parse(i.details.original_air_date)>e&&n.push(i)}return n}}e.$inject=["rxhttp","rx","$q","$log","$cacheFactory","entryService"],e.$inject=["rxhttp","rx","$q","$log","$cacheFactory","entryService"],angular.module("ovpApp.services.nns",["ovpApp.services.entry","ovpApp.services.rxUtils","rx"]).factory("NNSService",e)}(),angular.module("ovpApp.src-service",["ovpApp.version"]).service("OvpSrcService",["$window","version",function(e,t){var n="?";this.versionPath=function(e){var n=t.appVersion+"/";return"/"!==e.charAt(0)&&(n+="/"),n+=e},this.appendHash=function(e){return e&&(e.indexOf("?")>=0&&(n="&"),e+=n+"v="+t.commitHash),e}}]),function(){function e(e,t,n,r,i){var o=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.Yb);return{flickToVodQam:function(e,n,r){var i=0;void 0!==n&&(i=n);return r?a(e,r.macAddress,i):t.getCurrentStbPromise().then(function(t){return a(e,t.macAddress,i)})},tuneToChannel:function(o){var a=o.channelNumber,s=r.defer();if(a){var c=te.a.getErrorInfo("WCM-1000").message;i.$broadcast("Analytics:switchScreen",{switchScreenId:"unknown",errorCode:String("WCM-1000"),clientErrorCode:"Channel not found",errorMessage:c}),s.reject({clientErrorCode:"Channel not found",errorCode:String("WCM-1000"),errorMessage:c})}else if(o.streamProperties.allChannelNumbers&&o.streamProperties.allChannelNumbers.length)a=o.streamProperties.allChannelNumbers[0];else{var d=te.a.getErrorInfo("WCM-1000").message;i.$broadcast("Analytics:switchScreen",{switchScreenId:"unknown",errorCode:String("WCM-1000"),clientErrorCode:"Channel not found",errorMessage:d}),s.reject({clientErrorCode:"Channel not found",errorCode:String("WCM-1000"),errorMessage:d})}return t.getCurrentStbPromise().then(function(t){var r=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.he)+l.a.getSelectorValue(u.Fb)+l.a.getSelectorValue(u.ae),o={apicall:"tune-channel",mac:t.macAddress,channel:a};return e({url:r,withCredentials:!0,method:"GET",params:o}).then(function(e){i.$broadcast("Analytics:switchScreen",{switchScreenId:t.macAddress}),s.resolve(e)},function(e){var r=te.a.getErrorInfo("WCM-1000").message;i.$broadcast("Analytics:switchScreen",{switchScreenId:t?t.macAddress:"unknown",errorCode:String("WCM-1000"),clientErrorCode:e.clientErrorCode,error:e,errorMessage:r}),s.reject({errorCode:String("WCM-1000"),clientErrorCode:e.clientErrorCode,errorMessage:r}),n.error("Error flicking to watch",e)})}),s.promise},tuneToChannelNumber:function(t,r){var o=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.he)+l.a.getSelectorValue(u.Fb)+l.a.getSelectorValue(u.ae),a={apicall:"tune-channel",mac:r.macAddress,channel:t};return e({url:o,withCredentials:!0,method:"GET",params:a}).then(function(e){return i.$broadcast("Analytics:switchScreen",{switchScreenId:r.macAddress}),e},function(e){var t=te.a.getErrorInfo("WCM-1000").message;return i.$broadcast("Analytics:switchScreen",{switchScreenId:r?r.macAddress:"unknown",errorCode:String("WCM-1000"),clientErrorCode:e.clientErrorCode,error:e,errorMessage:t}),n.error("Error flicking to watch",e),Promise.reject({errorCode:String("WCM-1000"),clientErrorCode:e.clientErrorCode,errorMessage:t})})}};function a(t,n,r){return e({url:o+"/"+t+"/mac/"+n+"?offsetInSeconds="+r,withCredentials:!0,method:"POST",headers:{"Content-Type":"application/json"},data:""})}}e.$inject=["$http","stbService","$log","$q","$rootScope"],e.$inject=["$http","stbService","$log","$q","$rootScope"],angular.module("ovpApp.services.flickTo",["ovpApp.services.stbService"]).factory("flickToService",e)}(),function(){function e(e,t,n,r,i,o,a,s){var c,d=[],p=[],h=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.he)+l.a.getSelectorValue(u.fc),v=!1,m=null,g=h+"/",b=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.he)+l.a.getSelectorValue(u.H)+"/",y=l.a.getSelectorValue(u.v),S=5e3,w=!1,k=new o.Subject;return{activate:function(){A(),P(),C({stream:k,shortThrottle:S,longThrottle:y,excessiveThreshold:5}).postBookmark$.subscribe(D)},getBookmarks:A,updateBookmark:_,deleteFromInProgressList:function(e){if(!e)return;var n=[],i=[],o=e.tmsProgramIds||(e.tmsProgramId?[e.tmsProgramId]:void 0);e.bookmark&&(o=[e.bookmark.tmsProgramId]);e.tmsSeriesId?n=d.filter(function(t){return t.tmsSeriesId==e.tmsSeriesId}):o&&(n=d.filter(function(e){return o.includes(e.tmsProgramId)}));return r.$emit("inprogress:delete",e),n.length>0?(n.forEach(function(e){e.hidden=!0,i.push(e.providerAssetId)}),x(i)):t.resolve()},clearInProgressList:function(){var e=[];return d.forEach(function(t){t.hidden=!0,e.push(t.providerAssetId)}),r.$emit("inprogress:clear"),x(e)},getBookmarkByTmsProgramId:$,getBookmarkByTmsSeriesId:function(e){return d.find(function(t){return t.tmsSeriesId==e})},getBookmarkByProviderAssetId:function(e){return d.find(function(t){return t.providerAssetId==e})},getWatchlist:P,addToWatchlist:function(n){var o,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!n)throw"Error appending asset to watchlist, missing data";s||r.$emit("Analytics:select",{operationType:"watchListAdd",elementStandardizedName:"watchListAdd"});return o=n.tmsSeriesId?"/series/"+n.tmsSeriesId:"/assets/"+n.watchListProviderAssetId,e({url:l.a.getSelectorValue(u.Ff)+o,method:"POST",withCredentials:!0,data:{}}).then(function(){return i(function(){P()}),r.$emit("watchlist:add",n),t.resolve(!0)},function(e){var n=te.a.getErrorInfo("WWL-1000").message;return r.$broadcast("Analytics:error",{errorCode:String("WWL-1000"),errorMessage:n,clientErrorCode:e.clientErrorCode,errorType:"api"}),a.open(te.a.getErrorInfo("WWL-1000")),t.reject(e)})},deleteFromWatchlist:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i)return t.reject("Missing param");var s,c,d=-1;o||r.$emit("Analytics:clearSwimlaneItem",{pageSubSectionName:"watchlist",operationType:"watchListRemove",elementStandardizedName:"watchListRemove"});i.tmsSeriesId?s=O(i.tmsSeriesId):i.tmsProgramIds&&(s=T(i.tmsProgramIds));if(s)return c=s.tmsSeriesId?"/series/"+s.tmsSeriesId:"/assets/"+s.tmsProgramId,d=p.indexOf(s),p.splice(d,1),e({url:(s.tmsSeriesId?l.a.getSelectorValue(u.Ff):l.a.getSelectorValue(u.Gf))+c,method:"DELETE",withCredentials:!0,data:{}}).then(function(){return r.$emit("watchlist:delete",i),t.resolve(!0)},function(e){n.warn("Unable to remove from the watchlist "+e),p.splice(d,0,s);var i=te.a.getErrorInfo("WWL-1001").message;return r.$broadcast("Analytics:error",{errorCode:String("WWL-1001"),errorMessage:i,clientErrorCode:e.clientErrorCode,errorType:"api"}),a.open(te.a.getErrorInfo("WWL-1001")),t.reject(e)});return t.reject("Could not find bookmark")},clearWatchlist:function(){return E(p,[]),r.$emit("watchlist:clear"),e({url:l.a.getSelectorValue(u.Ff),method:"DELETE",withCredentials:!0,data:{}})},getWatchlistByTmsProgramIds:T,getWatchlistByTmsSeriesId:O,setAssetToBookmark:function(e){v=!1,w=!1,m=null,c=g+e},setCdvrToBookmark:function(e){v=!1,w=!1,m=null,c=b+e},setBookmark:function(e,t,n,r){w||(void 0!==t&&void 0!==n&&(void 0===r&&m&&(r=m.runtime),v=!0,m={playMarker:t,entertainmentPlayMarker:n,runtime:r,apiRequestTimestampUTC:Math.round(Date.now()/1e3)}),k.onNext(v&&e))},_private:{throttlePostingBookmarks:C}};function C(e){var t=e.stream,n=e.shortThrottle,r=e.longThrottle,i=e.excessiveThreshold,a=e.scheduler,s=t.filter(function(e){return!e}).throttle(r,a),c=t.filter(function(e){return!!e}).share(),l=c.throttle(n,a).share();return{postBookmark$:o.Observable.merge(s,l),excessive$:l.flatMap(function(){return c.timestamp(a).takeUntil(l).toArray()}).filter(function(e){return e.length>=i})}}function $(e){return d.find(function(t){return t.tmsProgramId==e})}function T(e){return p.find(function(t){return e.find(function(e){return e==t.tmsProgramId})})}function O(e){return p.find(function(t){return t.tmsSeriesId==e})}function E(e,t){e.splice.apply(e,[0,e.length].concat(on()(t)))}function A(){return t.all([s.isTVODRentEnabled(),s.isTVODWatchEnabled()]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return I(Object(ms.o)(),{tvodRent:n,tvodWatch:r})}).then(function(e){return E(d,e),d})}function P(){return t.all([s.isTVODRentEnabled(),s.isTVODWatchEnabled()]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return I(Object(ms.r)(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({tvodRent:n,tvodWatch:r},l.a.getSelectorValue(u.Ef)))}).then(function(e){return E(p,e),p})}function I(t,n){return e.get(t,{withCredentials:!0,params:n}).then(function(e){return e&&e.data&&e.data.result||[]})}function x(t){return e({url:"".concat(h,"/hidden"),method:"POST",withCredentials:!0,data:{providerAssetIds:t}}).then(function(e){if(e.failedAssetIds&&e.failedAssetIds.length>0)throw"Unable to remove some items from the Recently Watched List";return e})}function _(e){if(e&&e.tmsProgramId){var t=$(e.tmsProgramId);if(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return!0}return d.unshift(e),r.$emit("inprogress:add",e),!0}return!1}function D(){if(v)return v=!1,e({method:"POST",url:c,data:JSON.stringify(m),headers:{"Content-Type":"application/json; charset=utf-8"},dataType:"json"}).then(function(e){e&&e.data.result&&e.data.result.length>0&&function(e,t,n){n&&_(n)}(0,0,e.data.result[0])},function(e){e.status&&404==e.status&&(w=!0)})}}e.$inject=["$http","$q","$log","$rootScope","$timeout","rx","alert","capabilitiesService"],e.$inject=["$http","$q","$log","$rootScope","$timeout","rx","alert","capabilitiesService"],angular.module("ovpApp.services.bookmark",["ovpApp.components.alert","ovpApp.services.rxUtils","ovpApp.services.capabilitiesService"]).factory("BookmarkService",e)}(),function(){angular.module("ovpApp.services.browsersupport",[]).factory("browserSupport",function(){var e={name:platform.name,os:platform.os.family,version:platform.version,osVersion:platform.os.version,isSupported:!0,message:null};return r(),{isUnSupportedBrowser:function(){return r(),!e.isSupported},getMessage:function(){return e.message}};function t(e,t){var n=e.split(".").map(function(e){return parseInt(e)}),r=t.split(".").map(function(e){return parseInt(e)}),i=n[0]||0,o=n[1]||0,a=n[2]||0,s=r[0]||0,c=r[1]||0,l=r[2]||0;return i!==s||o&&o!==c||a&&a!==l?i>s?1:i<s?-1:o&&o>c?1:o&&o<c?-1:a&&a>l?1:-1:0}function n(e,n){for(var r=0;r<e.length;r++)if(0===t(e[r],n))return!0;return!1}function r(){for(var r=l.a.getSelectorValue(u.bf),i=0;i<r.length;i++){var o=r[i];if("*"===o.name||(!o.name||platform.name.toUpperCase()===o.name.toUpperCase())&&(!o.os||platform.os.family.toUpperCase().indexOf(o.os.toUpperCase()>-1))&&(!o.minVersion||1===t(o.minVersion,platform.version))&&(!o.maxVersion||-1===t(o.maxVersion,platform.version))&&(!o.versions||n(o.versions,platform.version))&&(!o.minOSVersion||1===t(o.minOSVersion,platform.os.version))&&(!o.maxOSVersion||-1===t(o.maxOSVersion,platform.os.version))&&(!o.osversions||n(o.osversions,platform.os.version)))return e.isSupported=!1,void(e.message=o.message)}}})}(),function(){function e(e,t,n){var r=i;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){i[e]=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(angular.extend({},n,{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){i[e]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(angular.extend({},r,{method:e,url:t,data:n}))}})}("post","put","patch"),r.defaults=e.defaults,r.pendingRequests=e.pendingRequests,r;function i(r){return n.Observable.create(function(n){var i=t.defer();return r.timeout=i.promise,e(r).then(function(e){n.onNext(e),n.onCompleted()},function(e){n.onError(e)}),function(){i.resolve()}})}}function t(e){return function(){var t=Object.assign(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.onNext(n)},e.Observable.prototype,e.Subject.prototype);return e.Subject.call(t),t}}t.$inject=["rx"],e.$inject=["$http","$q","rx"],t.$inject=["rx"],e.$inject=["$http","$q","rx"],angular.module("ovpApp.services.rxUtils",["rx"]).factory("rxhttp",e).factory("createObservableFunction",t)}();var Nd=n("P9nH"),Md=n.n(Nd);!function(){function e(e){return{convertToLowerCaseKeyValue:function(e){try{var t={};return Fs()(function(e,n){t[n.toLowerCase()]="String"===Md()(e)?e.toLowerCase():e},e),t}catch(e){throw{message:e,error:"urlQueryParameterParseError"}}},decodeHtmlString:function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})}}}e.$inject=["_"],e.$inject=["_"],angular.module("ovpApp.services.utils",[]).factory("Utils",e)}(),function(){function e(e,t,n,r,i,o){var a,s,c=l.a.getSelectorValue(u.Cd),d=l.a.getSelectorValue(u.gd),p=l.a.getSelectorValue(u.hd),h=l.a.getSelectorValue(u.cf),v=t.defer(),f=t.defer(),m=(new Date).getTimezoneOffset()/60*-1,g=[],b=new o.ReplaySubject(1);return{getVodId:function(){return i.isIpOnlyEnabled().then(function(e){e&&f.resolve()}),f.promise},getHeadend:function(){return i.isIpOnlyEnabled().then(function(e){e?v.resolve():S()}),v.promise},setHeadend:y,defaultDvrLanding:function(){var e=t.defer(),n=function(t){t&&t.rdvrVersion>1?e.resolve("ovp.dvr.my-recordings"):e.resolve("ovp.dvr.scheduled")};return w().then(function(e){e||P().then(function(){w().then(function(e){n(e)})}).catch(function(){n({})}),n(e)}),e.promise},getSTBs:S,currentStbSource:b.asObservable().distinctUntilChanged(function(e){return e.macAddress},function(e,t){return e===t}),getCurrentStbPromise:function(){return S().then(function(){return w()}).catch(function(){})},getCurrentStb:w,setCurrentStb:$,postStbName:function(t,n){var r=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+l.a.getSelectorValue(u.hd)+"/"+t.macAddressNormalized+"/name",i=e({method:"POST",url:r,withCredentials:!0,data:{name:n}});return w().then(function(e){e&&t.macAddress===e.macAddress&&$(t)}),i},getDate:O,getOffsetFromGMT:E,setOffsetFromGMT:A,formatUnix:function(e,t){var r=new Date(1e3*e),i=r.getTimezoneOffset(),o=60*E();return n.formatDate(n.addMinutes(r,i+o),t)},getDayLabel:function(e){var t=O(new Date),r=O(e),i="";i=n.isToday(t,r)?"Today":n.isTomorrow(t,r)?"Tomorrow":n.isYesterday(t,r)?"Yesterday":n.formatDate(r,"eeee");return i},selectDefaultDvr:P,isSupportedDVR:T,hasSupportedDVR:function(){return S().then(function(){return-1!==va()(function(e){return T(e)},g)})}};function y(e){v.resolve(e)}function S(){return a||(a=t.defer(),t.all([i.isIpOnlyEnabled(),i.canUseGuide()]).then(function(t){var n=t[0],i=t[1];!n&&i?e({method:"GET",url:c+d+p,withCredentials:!0}).then(function(e){var t=e.data;g=t.setTopBoxes||[],y({id:t.headend,offsetFromGMT:t.offsetFromGMT}),f.resolve(t.vodId),g.length?(angular.forEach(g,function(e){e.isDvr=e.dvr}),w().then(function(e){(s=e)||g.some(function(e){if(e.dvr)return s=e,!0}),$(s=s||g[0]).finally(function(){a.resolve(g)})})):a.resolve(g),A(t.offsetFromGMT)},function(e){!function(e){var t=te.a.getErrorInfo("WCM-1501").message;r.$emit("Analytics:error",{errorCode:"WCM-1501",errorMessage:t,errorType:"api",clientErrorCode:e.clientErrorCode})}(e),a.reject(e),f.resolve()}):(a.resolve([]),v.resolve(),f.resolve())},function(){a.resolve([]),v.resolve(),f.resolve()})),a.promise}function w(){return i.isIpOnlyEnabled().then(function(e){return e?void 0:t.resolve(C.a.getItem(k.b.currentStb)).then(function(e){if(e&&0!==g.length){var t=g.find(function(t){return t.macAddress===e.macAddress});return t&&angular.isDefined(t.isDvr)&&(t.dvr=t.isDvr),t}})})}function $(e){return angular.isDefined(e)&&angular.isObject(e)&&(e.isDvr=e.dvr),r.$broadcast("set-top-box-selected",e),b.onNext(e),function(e){return t.resolve(C.a.setItem(k.b.currentStb,e))}(e)}function T(e){return(e.dvr||e.isDvr)&&!h.includes(e.clientType)}function O(e){var t=e.getTimezoneOffset(),r=60*E();return n.addMinutes(e,t+r)}function E(){return m}function A(e){m=e}function P(){return w().then(function(e){e&&!T(e)&&g.some(function(e){if(T(e))return $(e),!0})})}}function t(t,n,r,i,o,a,s,c){return e(t,n,r,i,o,a)}t.$inject=["$http","$q","ServiceError","dateUtil","$rootScope","$log","capabilitiesService","rx"],e.$inject=["$http","$q","dateUtil","$rootScope","capabilitiesService","rx"],t.$inject=["$http","$q","ServiceError","dateUtil","$rootScope","$log","capabilitiesService","rx"],e.$inject=["$http","$q","dateUtil","$rootScope","capabilitiesService","rx"],angular.module("ovpApp.services.stbService",["ovpApp.legacy.DateUtil","ovpApp.components.error.ServiceError","ovpApp.services.capabilitiesService","ovpApp.services.kiteModal","rx"]).factory("stbService",e).factory("realStbService",t)}();var Vd={urls:{nationalnavigation:[{url:"/nationalnavigation/V1/symphoni/event/providerassetid/$$$$",serviceCode:"SNA"},{url:"/nationalnavigation/V1/symphoni/homepage/frontdoor",serviceCode:"SNB"},{url:"/nationalnavigation/V1/symphoni/search/component",serviceCode:"SNC"},{url:"/nationalnavigation/V1/symphoni/vodportal/frontdoor",serviceCode:"SND"},{url:"/nationalnavigation/V1/symphoni/series/tmsproviderseriesid/$$$$",serviceCode:"SNE"},{url:"/nationalnavigation/V1/symphoni/entrypoint",serviceCode:"SNF"},{url:"/nationalnavigation/V1/symphoni/search",serviceCode:"SNG"},{url:"/nationalnavigation/V1/symphoni/networksgrid/applicationid/$$$$/menu",serviceCode:"SNH"},{url:"/nationalnavigation/V1/symphoni/vodportal/grid",serviceCode:"SNI"},{url:"/nationalnavigation/V1/symphoni/vodportal/menu",serviceCode:"SNJ"},{url:"/nationalnavigation/V1/symphoni/recommendations/tmsid/$$$$/similarto",serviceCode:"SNK"},{url:"/nationalnavigation/V1/symphoni/networkportal/networkid/$$$$/ondemand/menu",serviceCode:"SNL"},{url:"/nationalnavigation/V1/symphoni/event/tmsid/$$$$",serviceCode:"SNM"},{url:"/nationalnavigation/V1/symphoni/watchlater/frontdoor",serviceCode:"SNN"},{url:"/nationalnavigation/V1/symphoni/recommendations/tmsproviderseriesid/$$$$/similarto",serviceCode:"SNO"},{url:"/nationalnavigation/V1/symphoni/recommendations/tmsid/$$$$/actor/$$$$",serviceCode:"SNP"},{url:"/nationalnavigation/V1/symphoni/dvrmanager/frontdoor",serviceCode:"SNQ"},{url:"/nationalnavigation/V1/symphoni/vodstore/frontdoor",serviceCode:"SNR"},{url:"/nationalnavigation/V1/symphoni/networkportal/networkid/$$$$/ondemand/featuregroup",serviceCode:"SNS"},{url:"/nationalnavigation/V1/data/swversion",serviceCode:"SNT"},{url:"/nationalnavigation/V1/symphoni/recommendations/tmsid/$$$$/director/$$$$",serviceCode:"SNU"},{url:"/nationalnavigation/V1/symphoni/vodstore/grid",serviceCode:"SNV"}],nns:[{url:"/nns/V1/event/providerassetid/$$$$",serviceCode:"SNW"},{url:"/nns/V1/search/component",serviceCode:"SNY"},{url:"/nns/V1/vodportal/frontdoor",serviceCode:"SNZ"},{url:"/nns/V1/series/tmsproviderseriesid/$$$$",serviceCode:"SNAA"},{url:"/nns/V1/entrypoint",serviceCode:"SNAB"},{url:"/nns/V1/search",serviceCode:"SNAC"},{url:"/nns/V1/networksgrid/applicationid/$$$$/menu",serviceCode:"SNAD"},{url:"/nns/V1/vodportal/grid",serviceCode:"SNAE"},{url:"/nns/V1/vodportal/menu",serviceCode:"SNAF"},{url:"/nns/V1/recommendations/tmsid/$$$$/similarto",serviceCode:"SNAG"},{url:"/nns/V1/networkportal/networkid/$$$$/ondemand/menu",serviceCode:"SNAH"},{url:"/nns/V1/event/tmsid/$$$$",serviceCode:"SNAI"},{url:"/nns/V1/watchlater/frontdoor",serviceCode:"SNAJ"},{url:"/nns/V1/recommendations/tmsproviderseriesid/$$$$/similarto",serviceCode:"SNAK"},{url:"/nns/V1/recommendations/tmsid/$$$$/actor/$$$$",serviceCode:"SNAL"},{url:"/nns/V1/dvrmanager/frontdoor",serviceCode:"SNAM"},{url:"/nns/V1/vodstore/frontdoor",serviceCode:"SNAN"},{url:"/nns/V1/networkportal/networkid/$$$$/ondemand/featuregroup",serviceCode:"SNAO"},{url:"/nns/V1/data/swversion",serviceCode:"SNAP"},{url:"/nns/V1/recommendations/tmsid/$$$$/director/$$$$",serviceCode:"SNAQ"},{url:"/nns/V1/vodstore/grid",serviceCode:"SNAR"}],ipvs:[{url:"/ipvs/api/smarttv/location/v1",serviceCode:"SIA"},{url:"/ipvs/api/smarttv/bookmarks/v2/$$$$",serviceCode:"SIBA"},{url:"/ipvs/api/smarttv/aegis/v1/refresh",serviceCode:"SIC"},{url:"/ipvs/api/smarttv/guide/v1/twctv",serviceCode:"SID"},{url:"/ipvs/api/eas/v1/storecustomerfips",serviceCode:"SIE"},{url:"/ipvs/api/smarttv/lineup/v1",serviceCode:"SIF"},{url:"/ipvs/api/smarttv/parentalcontrol/v1",serviceCode:"SIG"},{url:"/ipvs/api/smarttv/nmdepgs/v1/guide/$$$$/grid",serviceCode:"SIH"},{url:"/ipvs/api/smarttv/channels/v2",serviceCode:"SII"},{url:"/ipvs/api/smarttv/guide/v2/twctv/grid",serviceCode:"SIJ"},{url:"/ipvs/api/smarttv/user/capabilities/v3",serviceCode:"SIK"},{url:"/ipvs/api/smarttv/stream/vod/v1/$$$$",serviceCode:"SIL"},{url:"/ipvs/api/smarttv/bookmarks/v2",serviceCode:"SIM"},{url:"/ipvs/api/smarttv/stream/live/v1/$$$$",serviceCode:"SIN"},{url:"/ipvs/api/smarttv/adobe/session",serviceCode:"SIO"},{url:"/ipvs/api/smarttv/aegis/v1",serviceCode:"SIP"},{url:"/ipvs/api/smarttv/favorites/channels/v1",serviceCode:"SIQ"},{url:"/ipvs/api/smarttv/favorites/channels/v1/add",serviceCode:"SIAY"},{url:"/ipvs/api/smarttv/epg/v0/stb/tune",serviceCode:"SIS"},{url:"/ipvs/api/smarttv/parentalcontrol/v1/blockedchannels",serviceCode:"SIAL"},{url:"/ipvs/api/smarttv/offers/v1/buyflow/eligible",serviceCode:"SIU"},{url:"/ipvs/api/smarttv/watchList/v1/series/$$$$",serviceCode:"SIAJ"},{url:"/ipvs/api/smarttv/favorites/channels/v1/remove",serviceCode:"SIAX"},{url:"/ipvs/api/smarttv/parentalcontrol/v1/ratings",serviceCode:"SIAM"},{url:"/ipvs/api/smarttv/watchList/v1",serviceCode:"SIAN"},{url:"/ipvs/api/smarttv/nmdepgs/v1/guide/channels",serviceCode:"SIZ"},{url:"/ipvs/api/smarttv/bookmarks/v1",serviceCode:"SIAA"},{url:"/ipvs/api/smarttv/flick/vod/$$$$",serviceCode:"SIAB"},{url:"/ipvs/api/smarttv/watchList/v1/assets/$$$$",serviceCode:"SIAH"},{url:"/ipvs/api/smarttv/offers/v1/base",serviceCode:"SIAD"},{url:"/ipvs/api/smarttv/user/capabilities/v2",serviceCode:"SIAE"},{url:"/ipvs/api/smarttv/legacycookies/v1",serviceCode:"SIAF"},{url:"/ipvs/api/smarttv/parentalcontrol/v1/pin/validate",serviceCode:"SIAG"},{url:"/ipvs/api/smarttv/bookmarks/v1/$$$$",serviceCode:"SIAI"},{url:"/ipvs/api/smarttv/parentalcontrol/v1/admin/validate",serviceCode:"SIAK"},{url:"/ipvs/api/smarttv/tvod/v1/pin",serviceCode:"SIAZ"},{url:"/ipvs/api/smarttv/parentalcontrol/v1/pin",serviceCode:"SIAP"},{url:"/ipvs/api/smarttv/stream/vod/trailer/v1/indemand",serviceCode:"SIAQ"},{url:"/ipvs/api/smarttv/action/dvr/v1/series/$$$$/$$$$",serviceCode:"SIAR"},{url:"/ipvs/api/smarttv/action/dvr/v1/show/AUTO_$$$$/$$$$",serviceCode:"SIAS"},{url:"/ipvs/api/smarttv/action/dvr/v1/show/$$$$/$$$$",serviceCode:"SIAT"},{url:"/ipvs/api/smarttv/tvod/rent/v1/indemand",serviceCode:"SIAU"},{url:"/ipvs/api/smarttv/tvod/v1/pin/validate",serviceCode:"SIAV"},{url:"/ipvs/api/smarttv/entitlements/v1/vod",serviceCode:"SIAW"},{url:"/ipvs/api/smarttv/action/dvr/v1/show/$$$$/$$$$",serviceCode:"SIBB"},{url:"/ipvs/api/smarttv/action/dvr/v1/series/$$$$/$$$$",serviceCode:"SIBC"},{url:"/ipvs/api/smarttv/action/dvr/v1/show/AUTO_$$$$/$$$$",serviceCode:"SIBD"},{url:"/ipvs/api/smarttv/action/dvr/v1/bookmark/AUTO_$$$$/$$$$",serviceCode:"SIBE"},{url:"/ipvs/api/smarttv/bookmarks/v1/$$$$",serviceCode:"SIBF"},{url:"/ipvs/api/smarttv/stream/cdvr/v1/AUTO_$$$$/$$$$",serviceCode:"SIBG"},{url:"/ipvs/api/smarttv/bookmarks/v1/$$$$",serviceCode:"SIBH"},{url:"/ipvs/api/smarttv/action/dvr/v1/show/AUTO_$$$$/$$$$",serviceCode:"SIBI"},{url:"/ipvs/api/smarttv/action/dvr/v1/bookmark/AUTO_$$$$/$$$$",serviceCode:"SIBJ"}],nrs:[{url:"/nrs/api/rdvr2/dvr/$$$$/scheduled",serviceCode:"SRA"},{url:"/nrs/api/stbs",serviceCode:"SRB"},{url:"/nrs/api/rdvr2/dvr/$$$$/recorded",serviceCode:"SRC"},{url:"/nrs/api/rdvr2/dvr/$$$$/usage",serviceCode:"SRD"},{url:"/nrs/api/rdvr2/dvr/$$$$/recording",serviceCode:"SRE"},{url:"/nrs/api/rdvr2/dvr/$$$$/schedule/$$$$/$$$$/$$$$/series",serviceCode:"SRF"},{url:"/nrs/api/rdvr2/dvr/$$$$/recorded/play/$$$$/$$$$/$$$$",serviceCode:"SRG"},{url:"/nrs/api/rdvr2/dvr/$$$$/scheduled/$$$$/$$$$/$$$$/single",serviceCode:"SRH"},{url:"/nrs/api/rdvr2/dvr/$$$$/scheduled/conflicts/$$$$/$$$$/$$$$/series",serviceCode:"SRI"},{url:"/nrs/api/rdvr2/dvr/$$$$/recorded/delete",serviceCode:"SRJ"},{url:"/nrs/api/rdvr2/dvr/$$$$/series/priorities",serviceCode:"SRQ"},{url:"/nrs/api/rdvr2/dvr/$$$$/schedule/$$$$/$$$$/$$$$/single",serviceCode:"SRL"},{url:"/nrs/api/stbs/$$$$/name",serviceCode:"SRM"},{url:"/nrs/api/rdvr2/dvr/$$$$/recorded/play/resume/$$$$/$$$$/$$$$",serviceCode:"SRN"},{url:"/nrs/api/rdvr1/dvr/$$$$/scheduled",serviceCode:"SRO"},{url:"/nrs/api/rdvr2/dvr/$$$$/scheduled/$$$$/$$$$/$$$$/series",serviceCode:"SRP"},{url:"/nrs/api/rdvr1/dvr/$$$$/schedule/$$$$/$$$$/$$$$/series",serviceCode:"SRR"},{url:"/nrs/api/rdvr1/dvr/$$$$/schedule/$$$$/$$$$/$$$$/single",serviceCode:"SRS"},{url:"/nrs/api/rdvr1/dvr/$$$$/scheduled/$$$$/$$$$/$$$$/single",serviceCode:"SRT"}],tdcs:[{url:"/tdcs/public/errors",serviceCode:"STA"},{url:"/tdcs/inform",serviceCode:"STB"},{url:"/tdcs/public/inform",serviceCode:"STC"}],auth:[{url:"/auth/oauth/token",serviceCode:"SAA"},{url:"/auth/oauth/request",serviceCode:"SAB"},{url:"/auth/oauth/device/authorize",serviceCode:"SAC"},{url:"/auth/oauth/auto/authorize",serviceCode:"SAD"},{url:"/auth/oauth/device/deauthorize",serviceCode:"SAE"},{url:"/auth/oauth/ssotoken/exchange",serviceCode:"SAF"}]}};!function(){angular.module("ovpApp.services.apiErrorCodesService",[]).factory("ApiErrorCodeService",function(){var e,t="API",n="\\$\\$\\$\\$";return e={urls:{}},Object.keys(Vd.urls).forEach(function(t){e.urls[t]=[],Vd.urls[t].forEach(function(r){e.urls[t].push({url:r.url,regexp:function(e){var t=e.replace(new RegExp(n,"g"),"[^/]+");return new RegExp("^".concat(t,"$"))}(r.url),serviceCode:r.serviceCode})})}),{getApiCodePrefix:function(n){var r=n.trim(),i=r.split("/")[1];if(e.urls[i]){var o=e.urls[i].find(function(e){return e.regexp.test(r)});if(o&&o.serviceCode&&o.serviceCode.length>0)return o.serviceCode}return t}}})}(),angular.module("ovpApp.services.stbPCPin",["ovpApp.services.stbSettingsService","ovpApp.services.parentalControlsService"]).factory("StbPCPinFactory",["StbSettingsService","$q","parentalControlsService",function(e,t,n){var r=function(){function r(e){we()(this,r),this.stb=e}return r.$inject=["stb"],r.$inject=["stb"],Ce()(r,[{key:"isPrimaryAccount",value:function(){return n.isPrimaryAccount()}},{key:"validatePIN",value:function(n){return e.getDevice(this.stb).then(function(e){return e.parentalControlPIN===n||t.reject("Invalid pin")})}},{key:"shouldSetDefaults",value:function(){return t.resolve(!1)}},{key:"setPIN",value:function(t){var n=this;return e.getDevice(this.stb).then(function(r){var i={parentalControlPIN:t,strTimestamp:r.strTimestamp};r.purchasePIN=t,e.setDevice(n.stb,i)})}},{key:"isPINSet",value:function(){return e.getDevice(this.stb).then(function(e){return!!e.parentalControlPIN})}}]),r}();return{create:function(e){return new r(e)}}}]),function(){function e(e,t,n,r){var i={};return function(o){var a=n.defer();if(angular.isUndefined(r.get(o))){if(o in i)return i[o];i[o]=a.promise,e({method:"GET",url:o}).then(function(e){var n=e.data;r.put(o,n),a.resolve(t(n))},function(){a.reject()}).finally(function(){delete i[o]})}else a.resolve(t(r.get(o)));return a.promise}}e.$inject=["$http","$compile","$q","$templateCache"],e.$inject=["$http","$compile","$q","$templateCache"],angular.module("ovpApp.services.templateRequest",[]).factory("templateRequest",e)}(),function(){function e(e,t,n){this.getFrontdoor=function(){return t.forDefaultProfile().then(function(t){var r=l.a.getSelectorValue(u.Cd)+t.vodStore();return e({url:r,withCredentials:!0}).then(function(e){var t=e.data.results;return t.map(n.createInstance)},function(){throw"Request Failed"+r})})},this.getCategory=function(t,r,i){angular.isDefined(r)&&angular.isDefined(i)&&(t+=-1===t.indexOf("?")?"?":"&",t="".concat(t,"start-index=").concat(r,"&limit=").concat(i));return e({url:l.a.getSelectorValue(u.Cd)+t,withCredentials:!0}).then(function(e){var t=e.data;return t.results=t.results.map(function(e){return n.createInstance(e)}),t},function(e){throw"Failed subcategory request "+e})}}e.$inject=["$http","entryService","delegateFactory"],e.$inject=["$http","entryService","delegateFactory"],angular.module("ovpApp.services.store",["ovpApp.services.nns","ovpApp.services.entry","ovpApp.dataDelegate","ovpApp.services.parentalControlsService"]).service("StoreService",e)}(),function(){function e(e,t,n,r,i,o,a,s){var c=!1,d=[],p=parseInt(l.a.getSelectorValue(u.sf));o.getMainMenuItems().then(function(e){d=e}),i.onSuccess({},function(i){var o=d.map(function(e){return e.link}),l=i.to(),u=i.from();o.indexOf(l.name)>-1&&function(e){return!(!e||!e.name)&&void 0!==d.find(function(t){return e.name.indexOf(t.link)>-1})}(u)&&function(){var i=e.defer();return c?i.resolve(!0):n({url:"/index.html?v="+t.appVersion+"&h="+t.commitHash,method:"GET",headers:{"Cache-Control":"no-cache"},cache:!1}).then(function(e){var n=/appVersion: '(.*)'/.exec(e.data)[1];i.resolve(t.appVersion===n),c=!0,r(function(){c=!1},p)},function(e){i.reject(e)}),i.promise}().then(function(e){e||(a.info("version updated, refreshing page ..."),s.location.reload(!0))})})}e.$inject=["$q","version","$http","$timeout","$transitions","menuData","$log","$window"],e.$inject=["$q","version","$http","$timeout","$transitions","menuData","$log","$window"],angular.module("ovpApp.service.version",["ovpApp.components.header.data","ovpApp.version","ui.router"]).service("versionService",e)}(),function(){function e(e,t,n){return{isStreamPlusEligible:function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=l.a.getSelectorValue(le.e);if(l.a.getSelectorValue(u.xe))return e({method:"GET",url:l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.we),withCredentials:!0,bypassRefresh:r,cache:!0}).then(function(e){var r=e.data.eligible;return i?Object(ce.c)():n.$emit("streamplus:eligibility",{eligible:r}),!!r||t.reject({errorCode:function(e){var t=Object(b.c)(e,"context.code","default"),n=l.a.getSelectorValue(u.C);return n[t]||n.default}(e.data)})},function(){return t.reject({errorCode:"default"})});var o=l.a.getSelectorValue(u.D);return i?Object(ce.c)():n.$emit("streamplus:eligibility",{eligible:!1}),t.reject({errorCode:o})}}}e.$inject=["$http","$q","$rootScope"],e.$inject=["$http","$q","$rootScope"],angular.module("ovpApp.services.streamPlusService",[]).factory("streamPlusService",e)}(),function(){angular.module("ovpApp.legacy.stringUtil",[]).factory("stringUtil",function(){return{addParameterToUri:function(e,t,n){if(!e||!t||!n)return e;if(e.indexOf("?")<0)return e+"?"+t+"="+encodeURI(n);return e+"&"+t+"="+encodeURI(n)},extractSingleValueParametersAsObject:function(e){var t={};try{if(!e)return t;var n,r=e.indexOf("?");if(r<0)return t;n=0===r?e:"?"+e.split("?")[1];var i,o=/\+/g,a=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(o," "))},c=n.substring(1);for(i=a.exec(c);i;)t[s(i[1])]=s(i[2]),i=a.exec(c)}catch(e){}return t},capitalizeFirstLetter:e,formatPageTitle:function(t){return t=(t=e(t=t.replace("_"," "))).replace("Tv","TV")}};function e(e){var t="",n=e.split(" ");return n.forEach(function(e){t+=e.charAt(0).toUpperCase()+e.slice(1)+" "}),t}})}(),angular.module("ovpApp.services.stbSettingsService",["ovpApp.services.stbService","ovpApp.services.rxUtils","rx"]).constant("STB_PREFERENCES_DEFAULTS",{purchases:{blockingEnabled:!1},parentalControls:{titleBlock:!1,blockedChannels:[],blockedContent:[],blockedRating:[],blockedRatings:[]},bookmarks:{sharingEnabled:!0}}).constant("STB_DEVICE_DEFAULTS",{purchasePIN:"0000"}).service("StbSettingsService",["$http","messages","$q","rxhttp","STB_PREFERENCES_DEFAULTS","STB_DEVICE_DEFAULTS",function(e,t,n,r,i,o){var a={},s=[];return{setEnablePurchasePINForClient:function(e,t){return d(e).then(function(n){if(n.purchases.blockingEnabled!==t){var r={purchases:{blockingEnabled:t}};return p(e,r)}return n})},getPreferences:d,purchasePinEnabled:function(e){return d(e).then(function(e){return e.purchases.blockingEnabled})},titleBlockingEnabled:function(e){return d(e).then(function(e){return e.parentalControls.titleBlock})},setTitleBlockForClient:function(e,t){return d(e).then(function(n){if(n.parentalControls.titleBlock!==t){var r={parentalControls:{titleBlock:t}};return p(e,r)}return n})},shareInProgressListEnabled:function(e){return d(e).then(function(e){return e.bookmarks.sharingEnabled})},setShareInProgressListForClient:function(e,t){return d(e).then(function(n){if(n.bookmarks.sharingEnabled!==t){var r={bookmarks:{sharingEnabled:t}};return p(e,r)}return n})},getDevice:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=c(e);return i.deviceData?n.resolve(i.deviceData):(i.devicePromise&&!t||(i.devicePromise=r.get(l.a.getSelectorValue(u.Cd)+"/spp/v1/devices/"+e.macAddress).retry(3).map(function(e){var t={};return angular.merge(t,o,e.data),delete t.timestamp,t}).do(function(e){return i.deviceData=e}).toPromise(n)),i.devicePromise)},setDevice:function(t,r){var i=c(t),a={networkId:t.macAddress,strTimestamp:i.deviceData.strTimestamp,type:"STB"};return angular.merge(a,r),e({method:"PUT",url:l.a.getSelectorValue(u.Cd)+"/spp/v1/devices/"+t.macAddress,data:a}).then(function(e){i.deviceData={},angular.merge(i.deviceData,o,e.data),delete i.deviceData.timestamp},function(e){return e&&e.data&&"Stale timestamp"===e.data.message&&(i.deviceData=null,i.devicePromise=null),n.reject(e)})},updateBlockedRatings:function(e,t){return d(e).then(function(){var n={parentalControls:{blockedRatings:t}};return p(e,n)})},updateBlockedContent:function(e,t){return d(e).then(function(){var n={parentalControls:{blockedContent:t}};return p(e,n)})},updateBlockedChannels:function(e,t){return d(e).then(function(){var n={parentalControls:{blockedChannels:t}};return p(e,n)})},updateCCSettings:function(e,t){return d(e).then(function(){var n={closedCaptioning:t};return p(e,n)})},togglePCBlocking:function(e,t){return d(e).then(function(n){if(n.parentalControls.blockingEnabled!==t){var r={parentalControls:{blockingEnabled:t}};return p(e,r)}return n})},toggleSAP:function(e,t){return d(e).then(function(n){if(n.secondaryAudio&&n.secondaryAudio.selection===t)return n;var r={secondaryAudio:{selection:t}};return p(e,r)})},getTimeBlocks:function(){return n.resolve(s)},deleteTimeBlock:function(e){var t=s.indexOf(e);return t>=0&&s.splice(t,1),n.resolve(s)},createTimeBlock:function(e){return function(e){var t=!1;return s.forEach(function(n){angular.equals(n,e)&&(t=!0)}),t}(e)?n.reject(t.stbSettings.duplicate_timeblock):(s.push(e),n.resolve(s))},getSTBProperties:function(t){return e({method:"GET",url:l.a.getSelectorValue(u.Cd)+"/spp/v1/preferences/properties?networkId="+t.macAddress}).then(function(e){return e.data})}};function c(e){if(!e)throw new Error("Attempted to access a STB without defining stb");return a[e.macAddress]||(a[e.macAddress]={preferences:null,preferencesPromise:null,deviceData:null,devicePromise:null}),a[e.macAddress]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=c(e);return o.preferences?n.resolve(o.preferences):(o.preferencesPromise&&!t||(o.preferencesPromise=r.get(l.a.getSelectorValue(u.Cd)+"/spp/v1/preferences/"+e.macAddress).catch(function(n){if(404===n.status)return p(e,{}).then(function(){return d(e,t)});throw n}).map(function(e){var t={};return angular.merge(t,i,e.data),delete t.timestamp,t}).do(function(e){return o.preferences=e}).toPromise(n)),o.preferencesPromise)}function p(t,r){var o=c(t),a={networkId:t.macAddress,strTimestamp:o&&o.preferences?o.preferences.strTimestamp:Date.now().toString(),type:"STB"};return angular.merge(a,r),e({method:"PUT",url:l.a.getSelectorValue(u.Cd)+"/spp/v1/preferences/"+t.macAddress,data:a}).then(function(e){return o.preferences={},angular.merge(o.preferences,i,e.data),delete o.preferences.timestamp,o.preferences},function(e){return e&&e.data&&"Stale timestamp"===e.data.message&&(o.preferences=null,o.preferencesPromise=null),n.reject(e)})}}]),function(){function e(e,t,n){var r=function(){function r(e){we()(this,r),this.stb=e}return r.$inject=["stb"],r.$inject=["stb"],Ce()(r,[{key:"isPINSet",value:function(){return e.getDevice(this.stb).then(function(e){return!!e.purchasePIN})}},{key:"isPrimaryAccount",value:function(){return n.isPrimaryAccount()}},{key:"shouldSetDefaults",value:function(){return t.resolve(!1)}},{key:"setPINForFirstTimeWithDefaultRatings",value:function(){throw new Error("setPINForFirstTimeWithDefaultRatings should never be called in StbSettingsService")}},{key:"setPIN",value:function(t){var n=this;return e.getDevice(this.stb).then(function(r){var i={purchasePIN:t,strTimestamp:r.strTimestamp};return r.purchasePIN=t,e.setDevice(n.stb,i)})}},{key:"validatePIN",value:function(n){return e.getDevice(this.stb).then(function(e){return e.purchasePIN===n||t.reject("Invalid pin")})}}]),r}();return{create:function(e){return new r(e)}}}e.$inject=["StbSettingsService","$q","parentalControlsService"],e.$inject=["StbSettingsService","$q","parentalControlsService"],angular.module("ovpApp.services.stbPurchasePin",["ovpApp.services.stbService","ovpApp.services.stbSettingsService","ovpApp.services.parentalControlsService"]).factory("StbPurchasePinFactory",e)}();n("uWE0");angular.module("ovpApp.services.streamTimeoutCoordinator",["ovpApp.product.service","ovpApp.services.kiteModal","ovpApp.player"]).service("streamTimeoutCoordinator",function(){function e(t,n,r){var i=this;we()(this,e);Object.assign(this,{$rootScope:t,$log:n,StreamTimerType:{LINEAR:"linear",VOD:"vod",CDVR:"cdvr"},chromecastService:r}),t.$on("chromecast:connection-changed",function(e){e.connected&&i.cancelTimer()})}return e.$inject=["$rootScope","$log","chromecastService"],e.$inject=["$rootScope","$log","chromecastService"],Ce()(e,[{key:"cancelTimer",value:function(){l.a.getSelectorValue(u.xg)&&Object(S.a)({customLevel:"streamTimeouts",customName:"cancelTimer",customMessage:{currentTimerActive:!!this.currentTimer}}),this.currentTimer&&(clearTimeout(this.currentTimer),this.currentTimer=void 0)}},{key:"startLinearStreamInitTimer",value:function(){var e=this;this.timerType=this.StreamTimerType.LINEAR,this._startTimer({errorCode:"WLP-999",duration:l.a.getSelectorValue(u.yc),timerReset:function(){e.startLinearStreamInitTimer()}})}},{key:"startVodStreamInitTimer",value:function(){var e=this;this.timerType=this.StreamTimerType.VOD,this._startTimer({errorCode:"WVP-999",duration:l.a.getSelectorValue(u.zc),timerReset:function(){e.startVodStreamInitTimer()}})}},{key:"startCdvrStreamInitTimer",value:function(){var e=this;this.timerType=this.StreamTimerType.CDVR,this._startTimer({errorCode:"WRP-999",duration:l.a.getSelectorValue(u.xc),timerReset:function(){e.startCdvrStreamInitTimer()}})}},{key:"bufferingStart",value:function(){if(l.a.getSelectorValue(u.xg)&&Object(S.a)({customLevel:"streamTimeouts",customName:"bufferingStart",customMessage:{helixState:Object(y.i)()}}),Object(y.i)()!==hs.b.INITIATING)switch(this.timerType){case this.StreamTimerType.LINEAR:this._startTimer({errorCode:"WLP-1999",duration:l.a.getSelectorValue(u.De)});break;case this.StreamTimerType.CDVR:this._startTimer({errorCode:"WRP-1999",duration:l.a.getSelectorValue(u.Ce)});break;case this.StreamTimerType.VOD:this._startTimer({errorCode:"WVP-1999",duration:l.a.getSelectorValue(u.Ee)});break;default:this.$log.error("Error: Unrecognized timerType:",this.timerType)}}},{key:"bufferingEnd",value:function(){l.a.getSelectorValue(u.xg)&&Object(S.a)({customLevel:"streamTimeouts",customName:"bufferingEnd",customMessage:{helixState:Object(y.i)()}}),Object(y.i)()===hs.b.BUFFERING&&this.cancelTimer()}},{key:"_startTimer",value:function(e){var t=this;l.a.getSelectorValue(u.xg)&&Object(S.a)({customLevel:"streamTimeouts",customName:"_startTimer",customMessage:{timerConfig:e}});try{if(this.chromecastService.isCasting())return;this.currentTimer&&(this.$log.warn("Stream timer already in progress"),this.cancelTimer()),this.errorCode=String(e.errorCode),this.currentTimer=setTimeout(function(){t._handleTimeout()},e.duration),this.timerReset=e.timerReset}catch(e){this.$log.error("Error",e)}}},{key:"_handleTimeout",value:function(){l.a.getSelectorValue(u.xg)&&Object(S.a)({customLevel:"streamTimeouts",customName:"_handleTimeout"});try{this.currentTimer=null;var e=te.a.getErrorInfo(this.errorCode).message;this.$rootScope.$emit("player:handleStreamFailure",{errorCode:this.errorCode,errorMessage:e})}catch(e){this.$log.error("Error",e)}}}]),e}()),function(){function e(e,t,n,r,i,o){return{fetchUniversityInfo:function(t){var n=l.a.getSelectorValue(u.pe);return e({method:"POST",url:n,data:{request_code:t},bypassRefresh:!0,ignoreAuth:!0}).then(function(e){return e.data})},redirecToAscendon:function(e,t){a(l.a.getSelectorValue(u.df),e,t)},redirectToTAAscendon:function(e,t){a(l.a.getSelectorValue(u.We),e,t)},searchDomain:function(t){var r=Date.now(),i=l.a.getSelectorValue(u.Bb)+"/"+t;return e({method:"GET",url:i,bypassRefresh:!0,ignoreAuth:!0}).then(function(e){var i=Object(b.c)(e,"data.trustedAuthUniversities",[]),o=i.map(function(e){return e.Label});return n.$emit("Analytics:specu-searched-domains",{searchText:t,numberOfSearchResults:i.length,results:o.slice(0,5).join(),resultsMs:Date.now()-r}),i.length>0?i[0]:void 0}).catch(function(e){throw n.$emit("Analytics:specu-searched-domains",{searchText:t,numberOfSearchResults:0,resultsMs:Date.now()-r}),e})}};function a(e,n,r){n=o.convertToLowerCaseKeyValue(n);var a=e+"?charterToken=".concat(r,"&universityId=").concat(n.universityid)+"&clienturl=".concat(encodeURIComponent(t.absUrl()));i.redirectToURL(a)}}e.$inject=["$http","$location","$rootScope","_","httpUtil","Utils"],e.$inject=["$http","$location","$rootScope","_","httpUtil","Utils"],angular.module("ovpApp.services.specU",["ovpApp.oauth","ovpApp.services.utils","ovpApp.legacy.httpUtil"]).factory("specUService",e)}();var Ld=n("mt7y"),Fd=n.n(Ld),Ud=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n};var Bd=function(){var e=C.a.getItem(k.b.appRatings).lastRatingPromptDateTime,t=C.a.getItem(k.b.appRatings).firstLaunchDate,n=l.a.getSelectorValue($c.i),r=l.a.getSelectorValue($c.m);return!!(e&&Ud(e,r)<=new Date)||!e&&Ud(t,n)<=new Date};function Wd(){var e=l.a.getSelectorValue(u.Of),t=l.a.getSelectorValue($c.n),n=l.a.getSelectorValue($c.o);return!!(e&&t&&n&&Bd())}function Hd(){var e=C.a.getItem(k.b.appRatings);Wd()&&(!function(){var e=l.a.getSelectorValue($c.f),t=l.a.getSelectorValue($c.e),n=l.a.getSelectorValue($c.a);Ae.a.open({component:"kite-app-ratings-feedback-prompt",resolve:{options:{analytics:{modal:{show:"OneApp_modalView_feedbackRedirect",resolved:"OVP_selectAction_userFeedbackModal_submit",dismissed:"OneApp_selectAction_userFeedbackModal_dismiss"}}},modalDetails:{title:e,description:t},primaryButtonLabel:n},showCloseIcon:!0,doNotCloseAutomatically:!0,ariaLabelledBy:"kite-app-ratings-feedback-prompt-title",ariaDescribedBy:"kite-app-ratings-feedback-prompt-description"}).promise.then(function(){Ae.a.open({component:"kite-growl",showCloseIcon:!0,doNotCloseAutomatically:!0,resolve:{title:l.a.getSelectorValue($c.l),description:l.a.getSelectorValue($c.k)},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})})}(),C.a.setItem(k.b.appRatings,Fd()(e,{lastRatingPromptDateTime:new Date})))}!function(){function e(e,t,n,r){var i,o,a=!1,s=!1;return{startOverlayTimer:c,toggleMiniGuide:h,isMiniGuideOpen:function(){return a},hideOverlays:d,onMouseMove:function(){a||s||(t.$broadcast("playerOverlayTimer:show"),"castbutton"!==Object(b.c)(document.activeElement,"id")&&c())},clearOverlayTimer:p,setContentLoading:function(n){(s=n)?(p(),t.$broadcast("playerOverlayTimer:show")):e(function(){return c(l.a.getSelectorValue(u.Ed))})}};function c(r){s||(a&&h(),o=r||l.a.getSelectorValue(u.Ed),t.$broadcast("playerOverlayTimer:show"),p(),i=e(function(){n.isCasting()||(t.$broadcast("playerOverlayTimer:hide"),i=void 0)},o))}function d(){n.isCasting()&&!a||(t.$broadcast("playerOverlayTimer:hide"),p())}function p(){i&&e.cancel(i),i=void 0}function h(){Wd()?Hd():(a=!a,t.$broadcast("playerOverlayTimer:miniGuideToggled")),a?d():c()}}e.$inject=["$timeout","$rootScope","chromecastService","_"],e.$inject=["$timeout","$rootScope","chromecastService","_"],angular.module("ovpApp.services.playerOverlayTimer",["ovpApp.services.chromecast"]).factory("playerOverlayTimer",e)}(),function(){angular.module("ovpApp.services.abrStrategy",[]).factory("abrStrategyService",function(){var e=l.a.getSelectorValue(u.uf),t=C.a.getItem(k.b.playerPreviousBitrates)||{Linear:[],VOD:[]};return{getAbrConfiguration:function(n){var r,i=e.Profiles[n],o=l.a.getSelectorValue(u.tf),a=i.BitrateControlPolicy||"aggressivePolicy";r=o&&"UberStream"===i.Algorithm?{bitrateControlPolicy:a,min:i.Min,max:i.Max,initial:i.StartingBitrate||i.Max||0}:o&&"UseLastTuned"===i.Algorithm?{bitrateControlPolicy:a,min:i.Min,max:i.Max,initial:function(e){if(!e||0===e.length)return;var t=e.sort(function(e,t){return e-t}),n=Math.floor(t.length/2);return t.length%2>0?t[n]:(t[n-1]+t[n])/2}(t[n])||i.StartingBitrate||0}:{bitrateControlPolicy:a,min:0,max:0,initial:0};return r},handleBitrateShift:function(n,r){var i=e.Profiles[r];(function(e,n,r){t[r].push(e);for(;t[r].length>n.BitrateArrayDepth;)t[r].shift()})(n,i,r),C.a.setItem(k.b.playerPreviousBitrates,t)}}})}(),function(){function e(e,t,n,r,i){var o=this;o.isActive=function(e){return o.currentStb&&o.currentStb.macAddress==e.macAddress},o.beginEdit=function(e,t){e.dvr?(e.oldName=e.name,e.isEditing=!0,document.getElementById("stbRenameTextInput_"+t).focus()):i.errorAlert("WCM-1010")},o.saveEdit=function(e,t){e.name&&0!==e.name.length?(e.name!=e.oldName&&n.postStbName(e,e.name),e.isEditing=!1,e.oldName=void 0):i.messageAlert("MSG-9099");document.getElementById("stbRenameButton_"+t).focus()},o.cancelEdit=function(e,t){e.name=e.oldName,e.isEditing=!1,e.oldName=void 0,document.getElementById("stbRenameButton_"+t).focus()},o.connect=function(e){n.setCurrentStb(e)},o.stbs=[],o.$state=r,o.inputChanged=function(e){e.name=e.name.replace(/\W/g,"")},function(){n.getSTBs().then(function(e){n.getCurrentStb().then(function(n){o.stbs=e,o.currentStb=n,t.$broadcast("pageChangeComplete",r.current)})}).catch(function(){o.stbs=[],o.currentStb=void 0});var i=t.$on("set-top-box-selected",function(e,t){angular.equals(o.setTopBox,t)||(o.currentStb=t)});e.$on("$destroy",i)}()}e.$inject=["$scope","$rootScope","stbService","$state","kiteModalService"],e.$inject=["$scope","$rootScope","stbService","$state","kiteModalService"],angular.module("ovpApp.settings.devices",["ovpApp.services.stbService","ovpApp.services.kiteModal"]).controller("DevicesController",e)}(),angular.module("ovpApp.settings.favorites",["ovpApp.settings.favoriteCard","ovpApp.services.epgsService","ovpApp.directives.arrowNav","ovpApp.services.capabilitiesService","ovpApp.directives.keydown"]).component("favorites",{bindings:{channels:"<"},templateUrl:"js/settings/favorites/favorites.html",controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{$scope:t,epgsService:n,$window:r,$element:i,capabilitiesService:o,$q:a,$rootScope:s,$state:c,$timeout:l})}return e.$inject=["$scope","epgsService","$window","$element","capabilitiesService","$q","$rootScope","$state","$timeout"],e.$inject=["$scope","epgsService","$window","$element","capabilitiesService","$q","$rootScope","$state","$timeout"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.ignoreChannelNumber=this.capabilitiesService.isSpecU()||l.a.getSelectorValue(u.Zf),this.callSignFilter=null,this.searchValue="",this.$scope.$watch(function(){return e.searchValue},function(t){t?isFinite(t)&&!e.ignoreChannelNumber?(e.callSignFilter=null,e.$timeout(function(){return e.jumpToChannel(parseInt(t),0,!1)})):e.callSignFilter=new RegExp(t,"i"):e.callSignFilter=null,e.onFilterChanged()}),this.$rootScope.$broadcast("pageChangeComplete",this.$state.current)}},{key:"$postLink",value:function(){var e=this,t=this.$element.find("#favoritesListContent"),n=Math.max(1,Math.floor(t.width()/300)),r=Math.ceil(this.$window.innerHeight/70);this.limit=r*n,this.onFilterChanged(),this.$timeout().then(function(){e.limit=void 0,e.onFilterChanged()})}},{key:"sortFilter",value:function(e,t,n){return n?e.callSign<t.callSign?-1:1:e.channelNumber-t.channelNumber}},{key:"onFilterChanged",value:function(){var e=this;this.filteredChannels=this.channels.filter(function(t){return!e.callSignFilter||t.callSign.match(e.callSignFilter)}).sort(function(t,n){return e.sortFilter(t,n,e.ignoreChannelNumber)}),void 0!==this.limit&&(this.filteredChannels=this.filteredChannels.slice(0,this.limit))}},{key:"isEntitled",value:function(e){return e.twcTvEntitled}},{key:"jumpToChannel",value:function(e){var t,n=this,r=0,i=0,o=angular.element("body").scrollTop();if(!isNaN(e)){for(var a=e,s=0;s<this.channels.length;s+=1){var c=this.channels[s].channelNumber||0,l=e-c;if(l>=0&&l<=a&&(r=c,a=l),0===l)break}r>0&&(t=this.$window.document.querySelector("#channel"+r))&&((i=t.offsetTop)<0&&(i+=o),angular.element("html, body").animate({scrollTop:i},600,"swing",function(){t.focus();var e=n.$window.document.createEvent("Events");e.initEvent("keydown",!0,!0),e.key="a",t.dispatchEvent(e)}))}}},{key:"cancelSearch",value:function(){this.searchValue=""}}]),e}()}),angular.module("ovpApp.settings.favoriteCard",[]).component("favoriteCard",{bindings:{channel:"<",isSpecU:"<"},templateUrl:"js/settings/favorites/favorite-card.html",controller:function(){function e(){we()(this,e),angular.extend(this,{}),this.ignoreChannelNumbers=l.a.getSelectorValue(u.Zf)}return Ce()(e,[{key:"isFavorite",value:function(e){return e.favorite}},{key:"getLogoUrl",value:function(e){return l.a.getSelectorValue(u.vc)+"/"+e.logoUri+"?width=50&sourceType=colorhybrid"}},{key:"getChannelNumber",value:function(e){return e.channelNumbers?e.channelNumbers[0]:""}},{key:"toggleFavorite",value:function(e,t){t.preventDefault(),e.favorite?ea.a.removeFavorite(e):ea.a.setFavorite(e)}}]),e}()}),function(){function e(e,t,n,r,i,o,a,s,c,d){var p=this;p.togglePCEnabled=function(e){e.stopPropagation(),e.preventDefault(),p.hasPin&&p.unlocked?p.parentalControlsEnabledForClient?v.unlock().then(function(){k()}):p.parentalControlsEnabledForClient||k():v.unlock().then(function(){m(),k(),p.hasPin=!0,p.unlocked=!0,g()})},p.unlock=w,p.isChannelBlocked=b,p.getCardImage=function(e){return function(e){if(!e)return e;return e+(e.indexOf("?")>-1?"&":"?")+"width=100&sourceType=colorhybrid"}(e.logoUri?l.a.getSelectorValue(u.vc)+"/"+e.logoUri:e.imageUrl)},p.getCardName=function(e){return function(e){return angular.isDefined(e.services)}(e)?e.name:e.networkName},p.getCardNumber=function(e){return e.channelNumber},p.getCardCallsign=y,p.clearAllChannelBlocks=function(e){e.stopPropagation(),e.preventDefault(),w().then(function(){ea.a.clearAllChannelBlocks().then(function(){f("Unblocking all channels...")},function(e){i.error(e),d.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for parental-controls clearAllChannelBlocks",error:JSON.stringify(e)}})})})},p.onFilterChanged=S,p.toggleCardBlock=function(e,n){e.stopPropagation(),e.preventDefault(),w().then(function(){b(n)?ea.a.removePCBlocked(n):ea.a.setPCBlocked(n),t.resetChannelsDefer()})},p.channelBlockingEnabled=!0,p.parentalControlsEnabledForClient=!1,p.canEdit=!1,p.tvRatings=l.a.getSelectorValue(_d.g),p.movieRatings=l.a.getSelectorValue(_d.c),p.channelCards=[],p.ratings={movieRating:"",tvRating:""},p.hasPin=!1,p.unlocked=!1,p.parentalSearchValue="",p.$state=o;var h=!1,v=a.withContext(c.WEB_SETTINGS);function f(e){var t=ea.a.getChannels({entitled:!0}).then(function(e){p.channelCards=e,p.channelCards.forEach(function(e){e.channelNumber=e.channelNumbers?e.channelNumbers[0]:null,e.channelName=e.networkName}),S()});n.$broadcast("message:loading",t,e,void 0)}function m(){s.getRatingBlocks().then(function(r){p.ratings=r,h||(e.$watch(function(){return p.ratings.tvRating},function(e,n){e!==n&&t.debounceUnblockRating({tv:e,movie:p.ratings.movieRating})}),e.$watch(function(){return p.ratings.movieRating},function(e,n){e!==n&&t.debounceUnblockRating({tv:p.ratings.tvRating,movie:e})}),h=!0),n.$broadcast("pageChangeComplete",o.current)})}function g(){p.canEdit=p.hasPin&&p.unlocked&&p.parentalControlsEnabledForClient}function b(e){return e.blocked}function y(e){return e.callSign}function S(e){p.filteredCards=p.channelCards.filter(function(t){var n=y(t);return!e||n.match(e)}),p.filteredCards.push()}function w(){return p.canEdit?r.resolve():v.unlock().then(function(){t.enableParentalControlsForClient(),p.hasPin=!0,p.unlocked=!0,p.parentalControlsEnabledForClient=!0,g()})}function k(){!1===p.parentalControlsEnabledForClient?(p.parentalControlsEnabledForClient=!0,t.enableParentalControlsForClient()):(p.parentalControlsEnabledForClient=!1,t.disableParentalControlsForClient()),g()}e.$watch(function(){return p.hasPin},g),e.$watch(function(){return p.unlocked},g),e.$watch(function(){return p.parentalControlsEnabledForClient},g),t.getParentalControlsForUser({forceRefresh:!0}).then(function(){t.isPINSet().then(function(e){p.hasPin=e,p.hasPin?t.isParentalControlsDisabledForClient().then(function(e){p.parentalControlsEnabledForClient=!e}):p.parentalControlsEnabledForClient=!1}),f(),m()},function(e){i.error(e),p.parentalControlsEnabledForClient=!1,d.errorAlert("WPC-1005")})}e.$inject=["$scope","parentalControlsService","$rootScope","$q","$log","$state","parentalControlsDialog","parentalControlsData","parentalControlsContext","kiteModalService"],e.$inject=["$scope","parentalControlsService","$rootScope","$q","$log","$state","parentalControlsDialog","parentalControlsData","parentalControlsContext","kiteModalService"],angular.module("ovpApp.settings.parentalControls",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.parentalControlsService","ovpApp.messages","ovpApp.components.ovpParentalControlsSlider","ovpApp.components.authForm","ovpApp.parentalControlsDialog","ovpApp.settings.parentalControls.data","ovpApp.settings.parentalControls.channelBlock","ovpApp.services.kiteModal"]).controller("ParentalControlsSettingsController",e)}(),function(){function e(e,t){return{getRatingBlocks:function(){return t.all([e.getUnblockedTvRating(),e.getUnblockedMovieRating()]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return{tvRating:n,movieRating:r}})}}}e.$inject=["parentalControlsService","$q"],e.$inject=["parentalControlsService","$q"],angular.module("ovpApp.settings.parentalControls.data",["ovpApp.services.parentalControlsService"]).factory("parentalControlsData",e)}(),angular.module("ovpApp.settings.stb.parentalControls.toggle",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.stbSettingsService","ovpApp.parentalControlsDialog"]).component("stbParentalControlsToggle",{templateUrl:"js/settings/stb-parentalControls/stb-parentalControlsToggle.html",bindings:{stb:"<",blockingEnabled:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{StbSettingsService:t,parentalControlsDialog:n,parentalControlsContext:r,$q:i})}return e.$inject=["StbSettingsService","parentalControlsDialog","parentalControlsContext","$q"],e.$inject=["StbSettingsService","parentalControlsDialog","parentalControlsContext","$q"],Ce()(e,[{key:"$onInit",value:function(){this.pcBlockingEnabledForClient=this.blockingEnabled||!1,this.pcDialog=this.parentalControlsDialog.withContext(this.parentalControlsContext.STB_SETTINGS,this.stb)}},{key:"togglePCBlocking",value:function(){var e=this;return this.pcBlockingEnabledForClient?this.pcDialog.unlock().then(function(){e.pcBlockingEnabledForClient=!e.pcBlockingEnabledForClient}):(this.pcBlockingEnabledForClient=!this.pcBlockingEnabledForClient,this._setPCBlocking(this.pcBlockingEnabledForClient).catch(function(t){return e.pcBlockingEnabledForClient=!e.pcBlockingEnabledForClient,e.$q.reject(t)}))}},{key:"_setPCBlocking",value:function(e){return this.StbSettingsService.togglePCBlocking(this.stb,e)}},{key:"stbSettings",value:function(){return l.a.getSelectorValue(u.Yd)}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls",["ovpApp.settings.stb.parentalControls.allowedRatings","ovpApp.settings.stb.parentalControls.changeBlockingPin","ovpApp.settings.stb.parentalControls.contentBlock","ovpApp.settings.parentalControls.channelBlock","ovpApp.settings.stb.parentalControls.toggle","ovpApp.parentalControlsDialog","ovpApp.services.stbSettingsService","ovpApp.services.kiteModal"]).component("stbParentalControls",{bindings:{preferences:"<",allowedRatings:"<",currentStb:"<",isPrimaryAccount:"<",properties:"<",channelList:"<"},templateUrl:"js/settings/stb-parentalControls/stb-parentalControls.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{messages:t,$log:n,$rootScope:r,StbSettingsService:i,kiteModalService:o})}return e.$inject=["messages","$log","$rootScope","StbSettingsService","kiteModalService"],e.$inject=["messages","$log","$rootScope","StbSettingsService","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){this.channelCards=[],this.initChannels(),this.clearAllChannelBlocks=this.clearAllChannelBlocks.bind(this),this.toggleCardBlock=this.toggleCardBlock.bind(this),this.isChannelBlocked=this.isChannelBlocked.bind(this),this.blockCard=this.blockCard.bind(this),this.unblockCard=this.unblockCard.bind(this)}},{key:"initChannels",value:function(){this.channelCards=this.channelList,this.onFilterChanged()}},{key:"getBlockedChannelArray",value:function(){return this.preferences.parentalControls.blockedChannels}},{key:"clearBlockedChannelArray",value:function(){this.preferences.parentalControls.blockedChannels=[]}},{key:"clearAllChannelBlocks",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=this.StbSettingsService.updateBlockedChannels(this.currentStb,[]).then(function(){t.clearBlockedChannelArray(),t.initChannels()},function(e){t.$log.error(e),t.kiteModalService.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for stb-parentalControls clearAllChannelBlocks",error:JSON.stringify(e)}})});this.$rootScope.$broadcast("message:loading",n,"Unblocking all channels...",void 0)}},{key:"toggleCardBlock",value:function(e,t){e.stopPropagation(),e.preventDefault(),this.isChannelBlocked(t)?this.unblockCard(t):this.blockCard(t)}},{key:"onFilterChanged",value:function(){var e=this;this.filteredCards=this.channelCards.filter(function(t){return!e.callSignFilter||t.callSign.match(e.callSignFilter)}).sort(function(e,t){return e.channelNumber-t.channelNumber}),this.filteredCards.unshift({})}},{key:"getCardNumber",value:function(e){return e.channelNumber}},{key:"getCardName",value:function(e){return e.callSign}},{key:"getCardImage",value:function(e){return e.fullLogoUrl}},{key:"isChannelBlocked",value:function(e){var t=this.getBlockedChannelArray();return!!Array.isArray(t)&&void 0!==t.find(function(t){return t.channelNumber===e.channelNumber})}},{key:"blockCard",value:function(e){var t=this.getBlockedChannelArray();this.getDuplicateChannels(e).forEach(function(e){t.push(e)}),this.StbSettingsService.updateBlockedChannels(this.currentStb,t)}},{key:"unblockCard",value:function(e){var t=this.getBlockedChannelArray();this.getDuplicateChannels(e).forEach(function(e){var n=t.find(function(t){return t.channelNumber===e.channelNumber}),r=t.indexOf(n);r>-1&&t.splice(r,1)}),this.StbSettingsService.updateBlockedChannels(this.currentStb,t)}},{key:"getDuplicateChannels",value:function(e){return this.channelCards.filter(function(t){return t.mystroServiceId===e.mystroServiceId}).map(function(e){return{channelNumber:parseInt(e.channelNumber)}})}},{key:"stbSettingsParentalControlsTimeBlockEnabled",value:function(){return l.a.getSelectorValue(u.qe)}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.titleBlock",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.stbSettingsService"]).component("stbTitleBlock",{templateUrl:"js/settings/stb-parentalControls/stb-titleBlock.html",bindings:{stb:"<"},controller:function(){function e(t){we()(this,e),angular.extend(this,{StbSettingsService:t})}return e.$inject=["StbSettingsService"],e.$inject=["StbSettingsService"],Ce()(e,[{key:"$onInit",value:function(){this.setToggleState()}},{key:"toggleTitleBlocking",value:function(){this.titleBlockingEnabledForClient=!this.titleBlockingEnabledForClient,this.StbSettingsService.setTitleBlockForClient(this.stb,this.titleBlockingEnabledForClient).then(this.setToggleState.bind(this),this.setToggleState.bind(this))}},{key:"setToggleState",value:function(){var e=this;this.StbSettingsService.titleBlockingEnabled(this.stb).then(function(t){e.titleBlockingEnabledForClient=t}),void 0===this.titleBlockingEnabledForClient&&(this.titleBlockingEnabledForClient=!1)}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.shareInProgressList",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.stbSettingsService"]).component("stbShareInProgressList",{templateUrl:"js/settings/stb-parentalControls/stb-shareInProgressList.html",bindings:{stb:"<"},controller:function(){function e(t){we()(this,e),angular.extend(this,{StbSettingsService:t})}return e.$inject=["StbSettingsService"],e.$inject=["StbSettingsService"],Ce()(e,[{key:"$onInit",value:function(){this.setToggleState()}},{key:"toggleShareInProgressList",value:function(){this.shareInProgressListEnabledForClient=!this.shareInProgressListEnabledForClient,this.StbSettingsService.setShareInProgressListForClient(this.stb,this.shareInProgressListEnabledForClient).then(this.setToggleState.bind(this),this.setToggleState.bind(this))}},{key:"setToggleState",value:function(){var e=this;this.StbSettingsService.shareInProgressListEnabled(this.stb).then(function(t){e.shareInProgressListEnabledForClient=t}),void 0===this.shareInProgressListEnabledForClient&&(this.shareInProgressListEnabledForClient=!1)}}]),e}()});var Gd=n("dfAx");angular.module("ovpApp.settings.stb.parentalControls.allowedRatings",["ovpApp.directives.dropdownList","ovpApp.services.stbSettingsService","ovpApp.directives.arrowNav","ovpApp.services.parentalControlsService"]).component("stbAllowedRatings",{templateUrl:"js/settings/stb-parentalControls/stb-allowedRatings.html",bindings:{stb:"<",blockedRatings:"<",ratings:"<"},controller:function(){function e(t,n){we()(this,e),angular.extend(this,{StbSettingsService:t,parentalControlsService:n})}return e.$inject=["StbSettingsService","parentalControlsService"],e.$inject=["StbSettingsService","parentalControlsService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.alertmessage="",this.ratingTypes=[{id:"tvRatings",name:"TV ratings"},{id:"movieRatings",name:"movie ratings"}],this.blockedRatings=this.blockedRatings||[],this.separatedRatings={tvRatings:[],movieRatings:[]};var t=l.a.getSelectorValue(_d.d);this.ratings.forEach(function(n){t[Gd.a.normalizeRating(n)]?e.separatedRatings.movieRatings.push(n):"Not Rated"!==n&&e.separatedRatings.tvRatings.push(n)})}},{key:"ratingClicked",value:function(e){var t=this,n=this.isRatingBlocked(e);return this.updateBlockedRatings(e,!n),this.StbSettingsService.updateBlockedRatings(this.stb,this.blockedRatings).catch(function(){t.updateBlockedRatings(e,n)}).then(function(){t.alertmessage="Rating "+e+(n?", unblocked":", blocked")})}},{key:"updateBlockedRatings",value:function(e,t){t?this.blockedRatings.push(e):this.blockedRatings.splice(this.blockedRatings.indexOf(e),1)}},{key:"isRatingBlocked",value:function(e){return this.blockedRatings.includes(e)}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.contentBlock",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.stbSettingsService","ovpApp.directives.arrowNav"]).component("stbContentBlock",{templateUrl:"js/settings/stb-parentalControls/stb-contentBlock.html",bindings:{stb:"<",blockedContent:"<",contentBlock:"<"},controller:function(){function e(t){we()(this,e),angular.extend(this,{StbSettingsService:t})}return e.$inject=["StbSettingsService"],e.$inject=["StbSettingsService"],Ce()(e,[{key:"$onInit",value:function(){this.alertmessage="",this.blockedContent=this.blockedContent||[]}},{key:"contentClicked",value:function(e){var t=this,n=this.isContentBlocked(e);return this.updateBlockedContent(e,!n),this.StbSettingsService.updateBlockedContent(this.stb,this.blockedContent).catch(function(){t.updateBlockedContent(e,n)}).then(function(){t.alertmessage="Content "+e+(n?", unblocked":", blocked")})}},{key:"updateBlockedContent",value:function(e,t){t?this.blockedContent.push(e):this.blockedContent.splice(this.blockedContent.indexOf(e),1)}},{key:"isContentBlocked",value:function(e){return this.blockedContent.includes(e)}}]),e}()}),angular.module("ovpApp.settings.parentalControls.channelBlock",["ovpApp.components.ovp.ovpSwitch","ovpApp.services.stbSettingsService","ovpApp.directives.arrowNav","ovpApp.settings.parentalControls.data","ovpApp.components.alert","ovpApp.messages","ovpApp.services.parentalControlsService"]).component("channelBlock",{templateUrl:"js/settings/parental-controls/channel-block/channel-block.html",bindings:{isChannelBlocked:"=",onFilterChanged:"=",getCardImage:"=",getCardNumber:"=",getCardName:"=",clearAllChannelBlocks:"=",toggleCardBlock:"=",channelCards:"<",filteredCards:"<"},controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{StbSettingsService:t,parentalControlsService:n,parentalControlsData:r,$rootScope:i,$timeout:o,$window:a,$q:s,$log:c,messages:l})}return e.$inject=["StbSettingsService","parentalControlsService","parentalControlsData","$rootScope","$timeout","$window","$q","$log","messages"],e.$inject=["StbSettingsService","parentalControlsService","parentalControlsData","$rootScope","$timeout","$window","$q","$log","messages"],Ce()(e,[{key:"$onInit",value:function(){this.parentalSearchValue="",this.callSignFilter=null,this.channelBlockingEnabled=!0,this.ignoreChannelNumbers=l.a.getSelectorValue(u.Zf)}},{key:"cancelSearch",value:function(){this.parentalSearchValue="",this.searchInput()}},{key:"getCardAriaLabel",value:function(e){var t,n=this.getCardNumber(e)?"channel "+this.getCardNumber(e):"",r=e.callsign||e.callSign,i=/^(~?MC)/;t=void 0!==r&&i.test(r)?r.replace(i,"Music Choice "):this.getCardName(e);var o=this.isChannelBlocked(e)?"blocked":"unblocked";return"".concat(o," ").concat(n,", ").concat(t)}},{key:"searchInput",value:function(){var e=this,t=this.parentalSearchValue;t?isFinite(t)?(this.callSignFilter=null,this.$timeout(function(){return e.jumpToChannel(parseInt(t),0,!1)})):this.callSignFilter=new RegExp(t,"i"):this.callSignFilter=null,this.onFilterChanged(this.callSignFilter)}},{key:"jumpToChannel",value:function(e){var t,n=this,r=0,i=0,o=angular.element("body").scrollTop();if(!isNaN(e)){for(var a=e,s=0;s<this.channelCards.length;s+=1){var c=this.channelCards[s].channelNumber||0,l=e-c;if(l>=0&&l<=a&&(r=c,a=l),0===l)break}r>0&&(t=this.$window.document.querySelector("#channel"+r))&&((i=t.offsetParent.offsetTop)<0&&(i+=o),angular.element("html, body").animate({scrollTop:i},600,"swing",function(){t.focus();var e=n.$window.document.createEvent("Events");e.initEvent("keydown",!0,!0),e.key="a",t.dispatchEvent(e)}))}}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.changeBlockingPin",["ovpApp.directives.dropdownList","ovpApp.services.stbSettingsService"]).component("stbChangeBlockingPin",{templateUrl:"js/settings/stb-parentalControls/stb-changeBlockingPin.html",bindings:{stb:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{parentalControlsDialog:t,parentalControlsContext:n,$rootScope:r,alert:i})}return e.$inject=["parentalControlsDialog","parentalControlsContext","$rootScope","alert"],e.$inject=["parentalControlsDialog","parentalControlsContext","$rootScope","alert"],Ce()(e,[{key:"changePin",value:function(){this.parentalControlsDialog.withContext(this.parentalControlsContext.STB_SETTINGS,this.stb).changePIN().then(function(){return Vi.showToastMessage("PIN successfully changed")})}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.timeBlock",["ovpApp.services.stbSettingsService","ovpApp.directives.focus","ovpApp.directives.arrowNav","ovpApp.settings.stb.parentalControls.timeBlock.create","ovpApp.settings.stb.parentalControls.timeBlock.delete","ovpApp.services.kiteModal"]).component("stbTimeBlock",{templateUrl:"js/settings/stb-parentalControls/stb-timeblock/stb-timeBlock.html",bindings:{stb:"<"},controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{StbSettingsService:t,dateFormat:n,modal:r,alert:i,messages:o,kiteModalService:a})}return e.$inject=["StbSettingsService","dateFormat","modal","alert","messages","kiteModalService"],e.$inject=["StbSettingsService","dateFormat","modal","alert","messages","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;l.a.getSelectorValue(u.qe)&&(this.timeBlocks=[],this.StbSettingsService.getTimeBlocks().then(function(t){e.timeBlocks=t}))}},{key:"createTimeBlock",value:function(){var e=this;this.timeBlocks.length>7?this.kiteModalService.errorAlert("WCM-1026"):this.modal.open({component:"stbCreateTimeBlock"}).result.then(function(t){e.timeBlocks=angular.copy(t),e.srText="time block created"},function(t){t.message&&t.title&&e.alert.open({title:t.title,message:t.message,buttonText:"OK"})})}},{key:"deleteTimeBlock",value:function(){var e=this;this.timeBlocks.length<1?this.kiteModalService.errorAlert("WCM-1025"):this.modal.open({component:"stbDeleteTimeBlock"}).result.then(function(t){e.timeBlocks=t,e.srText="time block deleted"})}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.timeBlock.create",["ovpApp.services.stbSettingsService","ovpApp.directives.dropdownList","ovpApp.directives.focus"]).constant("TIMEBLOCK_DAYS",["Weekdays","Weekends","Every Monday","Every Tuesday","Every Wednesday","Every Thursday","Every Friday","Every Saturday","Every Sunday"]).component("stbCreateTimeBlock",{templateUrl:"js/settings/stb-parentalControls/stb-timeblock/stb-createTimeBlock.html",bindings:{resolve:"<",modalInstance:"<"},controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{StbSettingsService:t,TIMEBLOCK_DAYS:n,moment:r})}return e.$inject=["StbSettingsService","TIMEBLOCK_DAYS","moment"],e.$inject=["StbSettingsService","TIMEBLOCK_DAYS","moment"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.stb=this.resolve.stb,this.days=this.TIMEBLOCK_DAYS.map(function(e){return{text:e}}),this.endTimeList=this.startTimeList=Array.from(new Array(24),function(t,n){var r=e.moment().startOf("day").add(n,"hour");return{time:r,text:r.format("LT")}}),this.day=this.days[0].text,this.startTime=this.startTimeList[0].time,this.endTime=this.endTimeList[0].time,this.dayDropdownConfig={activeIndex:0,onSelect:function(t){e.day=t.text},buttonLabel:"time block day",focusOnLoad:!0},this.startTimeDropdownConfig={activeIndex:0,onSelect:function(t){e.startTime=t.time},buttonLabel:"time block start time"},this.endTimeDropdownConfig={activeIndex:0,onSelect:function(t){e.endTime=t.time},buttonLabel:"time block end time"}}},{key:"onSave",value:function(){var e=this;this.day&&this.startTime&&this.endTime&&this.StbSettingsService.createTimeBlock({day:this.day,startTime:this.startTime,endTime:this.endTime}).then(function(t){e.modalInstance.close(t)},function(t){e.modalInstance.dismiss(t)})}},{key:"onClose",value:function(){this.modalInstance.dismiss(null)}}]),e}()}),angular.module("ovpApp.settings.stb.parentalControls.timeBlock.delete",["ovpApp.services.stbSettingsService","ovpApp.directives.dropdownList","ovpApp.directives.focus"]).component("stbDeleteTimeBlock",{templateUrl:"js/settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.html",bindings:{resolve:"<",modalInstance:"<"},controller:function(){function e(t,n){we()(this,e),angular.extend(this,{StbSettingsService:t,TIMEBLOCK_DAYS:n})}return e.$inject=["StbSettingsService","TIMEBLOCK_DAYS"],e.$inject=["StbSettingsService","TIMEBLOCK_DAYS"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.orgBlocks=[],this.StbSettingsService.getTimeBlocks().then(function(t){e.orgBlocks=t,e.timeBlocks=t.map(function(e,t){return{index:t,text:e.day+", "+e.startTime.format("LT")+" - "+e.endTime.format("LT")}}),e.blockToDelete=e.orgBlocks[0]}),this.timeBlockDropdownConfig={activeIndex:0,onSelect:function(t){e.blockToDelete=e.orgBlocks[t.index]},buttonLabel:"time block delete",focusOnLoad:!0}}},{key:"onDelete",value:function(){var e=this;this.blockToDelete&&this.StbSettingsService.deleteTimeBlock(this.blockToDelete).then(function(t){e.modalInstance.close(t)},function(t){e.modalInstance.dismiss(t)})}},{key:"onClose",value:function(){this.modalInstance.dismiss()}}]),e}()}),angular.module("ovpApp.settings.stb.receiverUnavailable",["ovpApp.components.ovp.error"]).component("stbReceiverUnavailable",{bindings:{stb:"<"},template:'<ovp-error data-type="$ctrl.type" message="$ctrl.message"></ovp-error>',controller:function(){function e(t){we()(this,e),angular.extend(this,{messages:t})}return e.$inject=["messages"],e.$inject=["messages"],Ce()(e,[{key:"$onInit",value:function(){var e=this.stb.name||this.stb.macAddress;this.type="info",this.message=te.a.getErrorInfo("WCM-1027",{STB:e}).message}}]),e}()});n("RHOe");angular.module("ovpApp.settings",["ovpApp.settings.router","ovpApp.directives.keydown"]).component("settingsMainPage",{templateUrl:"js/settings/settings.html",bindings:{stb:"<"},controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{$state:t,$timeout:n,settingsStateService:r,$document:i,stbService:o,$rootScope:a})}return e.$inject=["$state","$timeout","settingsStateService","$document","stbService","$rootScope"],e.$inject=["$state","$timeout","settingsStateService","$document","stbService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.menuItems=[],this.stbCategory=l.a.getSelectorValue(u.Yd),this.menuItemsPromise=this.settingsStateService.getStates().then(function(t){e.menuItems=t,e.$doCheck()}),this.stbObserver=this.stbService.currentStbSource.do(function(t){return e.stb=t}).skip(1).subscribe(function(){0===e.$state.current.name.indexOf("ovp.settings.stb")&&e.$state.reload("ovp.settings.stb")})}},{key:"$doCheck",value:function(){var e=this.menuItems.map(function(e){return e.enabled()||!e.hideWhenDisabled()});angular.equals(this.oldMenuStates,e)||(this.handleMenuChange(),this.oldMenuStates=e)}},{key:"$onDestroy",value:function(){this.stbObserver.dispose()}},{key:"menuItemClicked",value:function(e){this.goTo(e,{location:"replace",focus:!0})}},{key:"goTo",value:function(e,t){var n=this.$state.current.name===e.state,r=this.$state.transition&&this.$state.transition.to().name===e.state;n||r||(Object(ye.a)("OneApp_selectAction_settings_navigationClick",{currPageElemStdName:e.currPageElemStdName}),this.$state.go(e.state,t))}},{key:"handleMenuChange",value:function(){var e=this;this.menuCategory=[],this.menuItems.forEach(function(t){!t.enabled()&&t.hideWhenDisabled()||(t.type===l.a.getSelectorValue(u.gc)&&-1===e.menuCategory.indexOf(l.a.getSelectorValue(u.gc))?e.menuCategory.push(l.a.getSelectorValue(u.gc)):t.type===l.a.getSelectorValue(u.Hf)&&-1===e.menuCategory.indexOf(l.a.getSelectorValue(u.Hf))?e.menuCategory.push(l.a.getSelectorValue(u.Hf)):t.type===l.a.getSelectorValue(u.Yd)&&-1===e.menuCategory.indexOf(l.a.getSelectorValue(u.Yd))?e.menuCategory.push(l.a.getSelectorValue(u.Yd)):t.type===l.a.getSelectorValue(u.hb)&&-1===e.menuCategory.indexOf(l.a.getSelectorValue(u.hb))&&e.menuCategory.push(l.a.getSelectorValue(u.hb)))})}},{key:"setAriaControls",value:function(e,t){return"panel"+(this.menuCategory.indexOf(e)+this.menuItems.indexOf(t)+1)}}]),e}()});var qd=function(e){e.name;var t=e.imgPath,n=e.alt,r=Fn(t,{disableFallbackImage:!0,sourceType:"colorHybrid",width:200}),i=Object(Q.useState)(r),o=Oe()(i,2),a=o[0],s=o[1];return Object(Q.useEffect)(function(){s(r)},[t]),X.a.createElement(X.a.Fragment,null,a&&X.a.createElement("img",{alt:n,src:a,onError:function(){return s("")}}),!a&&X.a.createElement("span",{className:"kite3-title-6 missing-img"}))},zd=function(e){var t=e.networkName,n=e.logoUri,r=e.tmsGuideId,i=e.onStartupChannelChange,o=e.callSign,a=e.startupChannel,s=e.blocked,c=e.isPCDisabled,l=s&&!c,u=Object(Q.useState)(!1),d=Oe()(u,2),p=d[0],h=d[1],v="".concat(p?"selected":"");Object(Q.useEffect)(function(){h(a.tmsGuideId===r)},[a]);return X.a.createElement("li",{className:"startup-network-list-item"},X.a.createElement(vn,{type:"OneApp_selectAction_startupChannel_edit",analyticsMeta:{currPageElemStdName:"editStartupChannel"},uiLabel:t},X.a.createElement("button",{className:"".concat(v," startup-network-item"),"aria-pressed":p,"aria-disabled":p,"aria-label":"".concat(t," ").concat(o," ").concat(l?"blocked":""),onClick:function(){l&&Ae.a.messageAlert("MSG-9113"),i(r)}},X.a.createElement(qd,{name:t,imgPath:n,alt:""}),X.a.createElement("div",{className:"metadata"},X.a.createElement("div",{className:"kite3-caption network-name"},X.a.createElement("div",{className:"kite-h5 card-network-name","aria-hidden":"true"},t),l?X.a.createElement("div",{className:"parental-block-icon-text"},X.a.createElement("div",{className:"icon-container"},X.a.createElement(pd,null)),X.a.createElement("p",{className:"kite-copy-sm card-call-sign","aria-hidden":"true"},o)):X.a.createElement("p",{className:"kite-copy-sm card-call-sign","aria-hidden":"true"},o))))))};function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jd=function(e){var t=e.channels,n=e.startupChannel,r=e.gridName,i=e.onStartupChannelChange,o=e.isPCDisabled,a=t.map(function(e){var t=Kd(Kd({},e),{},{startupChannel:n,onStartupChannelChange:i,isPCDisabled:o});return X.a.createElement(zd,Ot()({key:e.tmsGuideId},t))});return X.a.createElement(X.a.Fragment,null,X.a.createElement("ul",{"aria-label":"".concat(r),className:"startup-channel-grid",role:"list"},a))},Qd=function(e){var t=e.toggledOn,n=e.toggleFunc,r=e.ariaLabel,i=Object(Q.useState)(!1),o=Oe()(i,2),a=o[0],s=o[1];return Object(Q.useEffect)(function(){s(t)},[t]),X.a.createElement("button",{onClick:function(){return n(!t)},className:"switch ".concat(a?"enabled":""),"aria-label":r,"aria-pressed":t},X.a.createElement("small",{className:"switch-label","data-off":"Off","data-on":"On"}),X.a.createElement("span",{className:"switch-handle"}))},Xd=n("jB83");var Zd=Object($t.connect)(function(e){var t;return{availableNetworks:Object(Jo.b)(e),channelFetchInProgress:Object(Jo.l)(e),matchingTmsIds:Object(Jo.f)(e),startupChannel:null!==(t=Object(Jo.h)(e))&&void 0!==t?t:function(e){var t=C.a.getItem(k.b.startupChannel);return t?Object(Jo.b)(e).find(function(e){return e.tmsGuideId===t}):Object(Jo.h)(e)}(e),isStartupChannelEnabled:Object(Jo.m)(e)}},function(e){return{updateStartupChannel:function(t){return e(Qo.a.updateDefaultChannel(t))},toggleStartupChannel:function(t){return e(Qo.a.updateDefaultChannelEnabled(t))}}})(function(e){var t=e.channelFetchInProgress,n=e.availableNetworks,r=e.startupChannel,i=e.updateStartupChannel,o=e.toggleStartupChannel,a=e.isStartupChannelEnabled,s=e.isPCDisabled,c=Object(Q.useState)(""),l=Oe()(c,2),u=l[0],d=l[1],p=function(e){i(e),C.a.setItem(k.b.startupChannel,e),C.a.setItem(k.b.startupChannelStrategy,Xd.a.FORCE_TUNE_CUSTOM_CHANNEL)},h={channels:Object(Jo.j)(Object(Jo.i)(n)),gridName:"favorites",startupChannel:r,onStartupChannelChange:p,isPCDisabled:s},v={channels:Object(Jo.g)(Object(Jo.i)(n)),gridName:"a-z channel",startupChannel:r,onStartupChannelChange:p,isPCDisabled:s};return Object(Q.useEffect)(function(){d("".concat("Current Startup Channel"," ").concat(r.networkName," ").concat(r.callSign)),setTimeout(function(){d("")},1e3)},[r]),React.createElement(React.Fragment,null,t?React.createElement(Lu,{message:null}):React.createElement("div",{id:"startupChannel",className:"startup-channel"},React.createElement("section",{className:"selected-startup-network-container"},React.createElement("div",{className:"startup-metadata"},React.createElement("div",{className:"metadata-text-container"},React.createElement(Nn,{focusOnLoad:!0},React.createElement("h2",{className:"settings-h1 kite-h2",tabIndex:"-1"},"Startup Channel")),React.createElement("p",{className:"help-block"},"Automatically tune to a preferred channel when you start watching TV on this device.")),React.createElement("div",{className:"toggle-switch-container"},React.createElement(Qd,{toggledOn:a,toggleFunc:function(e){o(e),C.a.setItem(k.b.startupChannelEnabled,e);var t="OneApp_selectAction_settings_startupChannel_".concat(e?"on":"off");Object(ye.a)(t,{opToggleState:e,currPageElemStdName:e?"startupChannelOn":"startupChannelOff",opType:"startupChannelToggle"})},ariaLabel:"Startup Channel"}))),a&&React.createElement("div",{className:"selected-startup-container"},React.createElement("div",{className:"selected-network"},React.createElement(qd,{name:r.networkName,imgPath:r.logoUri,alt:r.networkName})),React.createElement("div",{className:"startup-network-details",role:"heading","aria-level":2},React.createElement("div",{className:"kite-h3 current-startup-channel"},"Current Startup Channel"),React.createElement("div",{className:"kite3-caption startup-channel-metadata"},React.createElement("div",{className:"kite-copy-sm card-call-sign"},r.networkName," ",React.createElement("span",{className:"startup-metadata-separator"},"")," ",r.callSign))),React.createElement("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true"},u))),a&&React.createElement("div",null,h.channels.length?React.createElement("section",{className:"startup-network-grid-container"},React.createElement("h2",{className:"kite-h3"},"Favorites"),React.createElement(Jd,h)):null,React.createElement("section",{className:"startup-network-grid-container"},React.createElement("h2",{className:"kite-h3"},"A-Z Channel"),React.createElement(Jd,v)))))});function ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}angular.module("ovpApp.settings.startupChannelBridge",[]).component("startupChannelBridge",Object(Ct.react2angular)(function(e){return React.createElement($t.Provider,{store:e.store},React.createElement(Zd,e))},["isPCDisabled"],["store"])),function(){function e(e){function t(e){var t=e.injector().get("settingsStateService"),n=e.injector().get("$q"),r=e.to().name;return("ovp.settings"===r?n.resolve(!0):t.getState(r).then(function(e){return e&&!e.enabled()&&e.hideWhenDisabled()})).then(function(e){if(e)return t.getFallbackState().state})}e.state("ovp.settings",{redirectTo:t,url:"/settings",data:{subheaderLabel:"settings",bodyClass:"settings-page"},resolve:{stb:["stbService",function(e){return e.getCurrentStb()}]},views:{appView:{component:"settingsMainPage"},"tablist@ovp.settings":{templateUrl:"js/settings/setting-tablist/setting-tablist.html"}},onEnter:function(){ea.a.resetCache()}}),e.state("ovp.settings.favorites",{redirectTo:t,data:{pageTitle:"Settings - Favorites"},component:"favorites",url:"/favorites",params:{focus:null},resolve:{channels:["$rootScope","capabilitiesService","$q",function(e,t,n){var r=n.all([t.isIpOnlyEnabled(),ea.a.getChannels({live:!0})]).then(function(e){var t=Oe()(e,2),n=t[0];return t[1].map(function(e){return e.channelNumbers&&(e.channelNumber=e.channelNumbers[0]),e.channelName=e.networkName,e}).filter(function(e){return!n&&e.qam||e.onlineEntitled})});return e.$broadcast("message:loading",r),r}]}}),e.state("ovp.settings.parentalControls",{redirectTo:t,data:{pageTitle:"Settings - Parental Controls"},resolve:{disabled:["settingsStateService",function(e){return e.getState("ovp.settings.parentalControls").then(function(e){return!e.enabled()&&!e.hideWhenDisabled()})}],bulkMDUIVRNumber:function(){return l.a.getSelectorValue(u.A)}},url:"/parentalControls",params:{focus:null},template:'<ng-include src="getTemplateUrl()"/>',controller:["$scope","disabled","bulkMDUIVRNumber",function(e,t,n){e.getTemplateUrl=function(){return!0===t?"js/settings/parental-controls/parental-controls-disabled.html":"js/settings/parental-controls/parental-controls.html"},e.bulkMDUIVRNumber=n}]}),e.state("ovp.settings.about",{redirectTo:t,data:{pageTitle:"Settings - About"},url:"/about",resolve:{bulkMDU:["capabilitiesService",function(e){return e.isBulkMDU()?{ivr:l.a.getSelectorValue(u.A)}:null}]},template:'<ng-include src="getTemplateUrl()"/>',controller:["$scope","bulkMDU",function(e,t){e.getTemplateUrl=function(){if(null!==t)return"js/settings/about/bulkmdu-about.html"},e.bulkMDU=t}]}),e.state("ovp.settings.genericAbout",{redirectTo:t,data:{pageTitle:"Settings - About"},url:"/genericAbout",resolve:{userName:function(){var e=l.a.getSelectorValue(ao.b);return e!==l.a.getSelectorValue(u.p)?e:null},options:["userName",function(e){return{userName:e,osType:Object(b.c)(platform,"os.family","N/A"),osVersion:Object(b.c)(platform,"os.version","N/A"),browserType:Object(b.c)(platform,"name","N/A"),browserVersion:Object(b.c)(platform,"version","N/A"),createUserLink:l.a.getSelectorValue(u.fb)}}]},component:"settingsAbout"}),e.state("ovp.settings.autoPlay",{redirectTo:t,data:{pageTitle:"Settings - Auto Play"},url:"/autoPlay",params:{focus:null},component:"autoPlaySettings"}),e.state("ovp.settings.startupChannelBridge",{redirectTo:t,data:{pageTitle:"Settings - Startup Channel"},url:"/startupChannel",params:{focus:null},component:"startupChannelBridge",resolve:{isPCDisabled:["parentalControlsService",function(e){return e.isParentalControlsDisabledForClient().then(function(e){return e})}]}}),e.state("ovp.settings.miniPlayer",{redirectTo:t,data:{pageTitle:"Settings - MiniPlayer"},url:"/miniPlayer",params:{focus:!0},component:"miniPlayerSettings"}),e.state("ovp.settings.devices",{redirectTo:t,data:{pageTitle:"Settings - Devices"},url:"/devices",templateUrl:"js/settings/devices/devices.html",params:{focus:null}}),e.state("ovp.settings.purchasePin",{redirectTo:t,data:{pageTitle:"Settings - Purchase Pin"},controller:"PurchasePinController",url:"/purchasePin",params:{focus:null},templateUrl:"js/settings/purchasePin/purchasePin.html",resolve:{purchaseSwitchFlag:["purchasePinService","$log","$rootScope","$state","messages",function(e,t,n,r,i){return e.isPINSet().then(function(t){return!!t&&e.isPurchasePINDisabledForClient().then(function(e){return!e})},function(e){t.error(e),Vi.showToastMessage(te.a.getErrorInfo("WGE-1001").message),n.$broadcast("pageChangeComplete",r.current)})}]}}),e.state("ovp.settings.stb",{redirectTo:t,abstract:!0,data:{pageTitle:"Set Top Settings"},resolve:{currentStb:["stbService","$q","$state",function(e,t,n){return e.getCurrentStb().then(function(e){return e||(n.go("ovp.livetv"),t.reject("No available STB in this account (tried to route to stb settings)"))})}],preferences:["StbSettingsService","currentStb",function(e,t){return e.getPreferences(t,!0).catch(function(){return null})}],properties:["StbSettingsService","currentStb",function(e,t){return e.getSTBProperties(t).catch(function(){return null})}],channelList:["epgsService","$q",function(e,t){return t.all([e.getChannels()]).then(function(e){return Oe()(e,1)[0]})}]},url:"/stb",template:"<ui-view/>"}),e.state("ovp.settings.stb.purchasePin",{redirectTo:t,data:{pageTitle:"Set Top Settings - Purchase Pin"},url:"/purchasePin",controller:"STBPurchasePinController",templateUrl:"js/settings/stb-purchasePin/stb-purchasePin.html"}),e.state("ovp.settings.stb.parentalControls",{redirectTo:t,data:{pageTitle:"Settings - STB Parental Controls"},url:"/parentalControls",resolve:{isPrimaryAccount:["parentalControlsService",function(e){return e.isPrimaryAccount()}]},component:"stbParentalControls"})}e.$inject=["$stateProvider"],e.$inject=["$stateProvider"],angular.module("ovpApp.settings.router",["ui.router","ovpApp.settings.settingsStateService","ovpApp.services.purchasePinService","ovpApp.messages","ovpApp.settings.about","ovpApp.settings.devices","ovpApp.settings.parentalControls","ovpApp.settings.stb.parentalControls","ovpApp.settings.stb.parentalControls.titleBlock","ovpApp.settings.stb.parentalControls.timeBlock","ovpApp.settings.stb.parentalControls.shareInProgressList","ovpApp.settings.stb.parentalControls.contentBlock","ovpApp.services.parentalControlsService","ovpApp.settings.parentalControls.channelBlock","ovpApp.settings.stb.receiverUnavailable","ovpApp.settings.favorites","ovpApp.settings.autoPlay","ovpApp.settings.startupChannelBridge","ovpApp.settings.miniPlayer","ovpApp.settings.purchasePin","ovpApp.settings.stbPurchasePin","ovpApp.services.stbService","ovpApp.services.capabilitiesService"]).config(e)}(),function(){function e(e,t,n,r){var i,o=!0,a=!0,s=!0,c=!1,d=!1,p=!1,h=!0,v=!1,f=[{title:"About",description:"About application",class:"settingsAbout",state:"ovp.settings.genericAbout",currPageElemStdName:"settingsAbout",enabled:function(){return!r.isBulkMDU()},hideWhenDisabled:function(){return!0},type:l.a.getSelectorValue(u.gc)},{title:"About",description:"About application",class:"settingsAbout",state:"ovp.settings.about",currPageElemStdName:"settingsAbout",enabled:function(){return r.isBulkMDU()},hideWhenDisabled:function(){return!0},type:l.a.getSelectorValue(u.gc)},{title:"Favorites",description:"Update your favorite channels",class:"settingsFavorites",state:"ovp.settings.favorites",currPageElemStdName:"settingsFavorites",enabled:function(){return o},hideWhenDisabled:function(){return!0},displayType:"grid",type:r.isBulkMDU()?l.a.getSelectorValue(u.hb):l.a.getSelectorValue(u.gc)},{title:"Devices",description:"Update your device settings",class:"settingsDevices",state:"ovp.settings.devices",currPageElemStdName:"settingsDevicesPage",enabled:function(){return a&&!s},hideWhenDisabled:function(){return!0},displayType:"list",type:l.a.getSelectorValue(u.gc)},{title:"Parental Controls",description:"Update your parental controls",class:"settingsParental",state:"ovp.settings.parentalControls",currPageElemStdName:"settingsParentalControls",enabled:function(){return p},hideWhenDisabled:function(){return h},displayType:"plain",type:l.a.getSelectorValue(u.Hf)},{title:"Purchase PIN",description:"Update your purchase pin",class:"settingsParental",state:"ovp.settings.purchasePin",currPageElemStdName:"settingsPurchaseControls",enabled:function(){return d},hideWhenDisabled:function(){return!0},displayType:"plain",type:l.a.getSelectorValue(u.Hf)},{title:"Parental Controls",description:"Update your parental controls",class:"settingsParental",state:"ovp.settings.stb.parentalControls",currPageElemStdName:"settingsParentalControls",enabled:function(){return c&&a||!1},hideWhenDisabled:function(){return!0},displayType:"plain",type:l.a.getSelectorValue(u.Yd)},{title:"Purchase PIN",description:"Update your purchase pin",class:"settingsParental",state:"ovp.settings.stb.purchasePin",currPageElemStdName:"settingsPurchaseControls",enabled:function(){return c&&a||!1},hideWhenDisabled:function(){return!0},displayType:"plain",type:l.a.getSelectorValue(u.Yd)},{title:"Auto Play",description:"Auto Play",class:"settingsAutoPlay",state:"ovp.settings.autoPlay",currPageElemStdName:"settingsAutoPlay",enabled:function(){return l.a.getSelectorValue(u.Df)&&v||!1},hideWhenDisabled:function(){return!0},type:l.a.getSelectorValue(u.Hf)},{title:"Mini Player",description:"Mini Player",class:"settingsMiniPlayer",state:"ovp.settings.miniPlayer",currPageElemStdName:"settingsMiniPlayer",enabled:function(){return l.a.getSelectorValue(u.Mc)},hideWhenDisabled:function(){return!0},type:l.a.getSelectorValue(u.Hf)},{title:"Startup Channel",description:"Startup Channel",class:"settingsStartupChannel",state:"ovp.settings.startupChannelBridge",currPageElemStdName:"settingsStartupChannel",enabled:function(){return l.a.getSelectorValue(u.wg)},hideWhenDisabled:function(){return!0},type:l.a.getSelectorValue(u.Hf)}];return i=n.all({guideRes:r.hasCapability(t.GUIDE),stbsRes:e.getSTBs(),tvodRes:r.isTVODRentEnabled(),parentalControlsHidden:r.isHidden(t.PARENTALCONTROLS),parentalControlsEnabled:r.hasCapability(t.PARENTALCONTROLS),watchOnDemandEnabled:r.hasCapability(t.ONDEMAND),cdvrEnabled:r.hasCapability(t.CDVR)}).then(function(e){o=e.guideRes,a=e.stbsRes&&e.stbsRes.length>0,d=e.tvodRes,s=e.cdvrEnabled,a&&e.stbsRes.some(function(e){return"ODN"===e.clientType})&&(c=Boolean(u.Zd)),p=e.parentalControlsEnabled,h=e.parentalControlsHidden,v=e.watchOnDemandEnabled},function(){o=!1,a=!1,d=!1}),{states:f,getStates:function(){return n.when(i).then(function(){return f})},getState:function(e){return n.when(i).then(function(){return f.find(function(t){return t.state==e})})},getFallbackState:function(){return f.find(function(e){return e.enabled()})||{state:"ovp.livetv"}}}}e.$inject=["stbService","CAPABILITIES","$q","capabilitiesService"],e.$inject=["stbService","CAPABILITIES","$q","capabilitiesService"],angular.module("ovpApp.settings.settingsStateService",["ovpApp.services.capabilitiesService","ovpApp.services.stbService"]).factory("settingsStateService",e)}(),function(){function e(e,t){return function(n){var r={};return r[e.TOGGLE]={pinInstructions:t.getMessageForCode("MSG-9053"),pleaseEnterPin:t.getMessageForCode("MSG-9044"),pinService:n,enableForgotPin:!1},r[e.VALIDATE]={pinInstructions:t.getMessageForCode("MSG-9054"),pleaseEnterPin:t.getMessageForCode("MSG-9044"),pinService:n,enableForgotPin:!1},r[e.SAVE]={headerMessage:t.getMessageForCode("MSG-9056"),secondaryMessage:te.a.getErrorInfo("WGE-1001").message,pinInstructions:t.getMessageForCode("MSG-9058"),pleaseEnterPin:t.getMessageForCode("MSG-9044"),pinService:n,enableForgotPin:!1},r[e.RESET]={headerMessage:t.getMessageForCode("MSG-9056"),secondaryMessage:te.a.getErrorInfo("WGE-1001").message,pinInstructions:t.getMessageForCode("MSG-9057"),pleaseEnterPin:t.getMessageForCode("MSG-9044"),pinService:n,enableForgotPin:!1},r}}function t(e,t,n,r,i,o,a,s,c){var l=o.create(s);n("PurchasePinDialogController",{$scope:e,purchasePinService:l,purchasePinPopUpConfig:a(l)}),e.stbUnavailable=!1,e.purchasePinEnabledForStb=!1,e.hasPin=!1,e.unlocked=!1,e.currentStb=s,e.togglePinEnabled=function(){e.hasPin&&e.unlocked?e.purchasePinEnabledForStb?e.handlePurchasePINValidation().then(function(){e.togglePurchasePinForStb()}):e.purchasePinEnabledForStb||e.togglePurchasePinForStb():e.handlePurchasePINValidation().then(function(){e.togglePurchasePinForStb(),e.hasPin=!0,e.unlocked=!0})},e.togglePurchasePinForStb=function(){e.purchasePinEnabledForStb=!e.purchasePinEnabledForStb,i.setEnablePurchasePINForClient(s,e.purchasePinEnabledForStb).then(e.setPin,e.setPin)},e.setPin=function(){i.purchasePinEnabled(s).then(function(t){e.purchasePinEnabledForStb=t},function(t){r.error(t),e.stbUnavailable=!0}),void 0===e.purchasePinEnabledForStb&&(e.purchasePinEnabledForStb=!1)},e.init=function(){l.isPINSet().then(function(n){e.hasPin=n,t.$broadcast("pageChangeComplete",c.current)},function(e){r.error(e),Vi.showToastMessage(te.a.getErrorInfo("WGE-1001").message)}),e.setPin()},e.init()}t.$inject=["$scope","$rootScope","$controller","$log","StbSettingsService","StbPurchasePinFactory","stbPurchasePinPopUpConfig","currentStb","$state"],e.$inject=["PIN_ENTRY_TYPE","messages"],t.$inject=["$scope","$rootScope","$controller","$log","StbSettingsService","StbPurchasePinFactory","stbPurchasePinPopUpConfig","currentStb","$state"],e.$inject=["PIN_ENTRY_TYPE","messages"],angular.module("ovpApp.settings.stbPurchasePin",["ovpApp.purchasePinDialog","ovpApp.components.ovp.ovpSwitch","ovpApp.services.purchasePinService","ovpApp.services.stbSettingsService","ovpApp.services.stbPurchasePin","ovpApp.messages"]).factory("stbPurchasePinPopUpConfig",e).controller("STBPurchasePinController",t)}(),angular.module("ovpApp.settings.autoPlay",[]).component("autoPlaySettings",{templateUrl:"js/settings/autoPlay/autoPlaySettings.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$rootScope:t,$state:n})}return e.$inject=["$rootScope","$state"],e.$inject=["$rootScope","$state"],Ce()(e,[{key:"$onInit",value:function(){this.watchNextIsEnabled=void 0===C.a.getItem(k.b.autoPlayEnabled)||C.a.getItem(k.b.autoPlayEnabled),ei({currPageSettings:{autoplayEnabled:this.watchNextIsEnabled?"enabled":"disabled"}}),Xr()}},{key:"toggleWatchNext",value:function(){this.watchNextIsEnabled=!this.watchNextIsEnabled,C.a.setItem(k.b.autoPlayEnabled,this.watchNextIsEnabled),Object(y.j)(this.watchNextIsEnabled?"OneApp_selectAction_settingsAutoPlay_autoplayToggle_on":"OneApp_selectAction_settingsAutoPlay_autoplayToggle_off",{msgTriggeredUsing:Object(Li.c)(),currPageElemType:"toggle"}),this.$rootScope.$emit("watch-next:autoPlayToggled",this.watchNextIsEnabled)}}]),e}()}),angular.module("ovpApp.settings.miniPlayer",[]).component("miniPlayerSettings",{templateUrl:"js/settings/miniPlayer/miniPlayerSettings.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$rootScope:t,$state:n})}return e.$inject=["$rootScope","$state"],e.$inject=["$rootScope","$state"],Ce()(e,[{key:"$onInit",value:function(){this.miniPlayerIsEnabled=void 0===C.a.getItem(k.b.miniPlayerEnabled)||C.a.getItem(k.b.miniPlayerEnabled)}},{key:"toggleMiniPlayer",value:function(){this.miniPlayerIsEnabled=!this.miniPlayerIsEnabled,C.a.setItem(k.b.miniPlayerEnabled,this.miniPlayerIsEnabled),this.$rootScope.$emit("Analytics:select",{operationType:"miniplayToggle",toggleState:this.miniPlayerIsEnabled,elementStandardizedName:"miniplayToggle",elementType:"toggle"}),this.miniPlayerIsEnabled||this.$rootScope.$emit("player:hidePip"),this.$rootScope.$emit("miniPlayer:miniPlayerToggled",this.miniPlayerIsEnabled)}}]),e}()});var tp=function(e){var t=e.userName;return React.createElement("div",{className:"about-item"},React.createElement("div",{role:"presentation"},"User Name"),React.createElement("div",{id:"settingsUserName",role:"presentation"},t))},np=function(e){var t=e.createUserLink;return React.createElement("div",{className:"about-item"},React.createElement("div",{role:"presentation"},"Create username to enjoy Spectrum TV on any device, anywhere."),React.createElement("a",{id:"settingsUserName",className:"kite-btn kite-btn-outline-primary",href:t,target:"_blank"},"Create username"))},rp=function(e){In()(n,e);var t=ep(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).options=r.props.options,r}return Ce()(n,[{key:"render",value:function(){return React.createElement("div",{className:"generic-about-container"},React.createElement(Nn,{focusOnLoad:!0},React.createElement("h2",{className:"settings-h1 kite-h2",tabIndex:"-2"},"About")),React.createElement("div",{className:"content"},React.createElement("div",null,React.createElement("h3",{className:"kite-h3"},"Account"),this.options.userName?React.createElement(tp,{userName:this.options.userName}):React.createElement(np,{createUserLink:this.options.createUserLink})),React.createElement("div",null,React.createElement("h3",null,"Operating System"),React.createElement("ul",null,React.createElement("li",f()({className:"type"},"className","about-item"),React.createElement("div",{role:"presentation"},"Type"),React.createElement("div",{id:"settingsUserName",role:"presentation"},this.options.osType)),React.createElement("li",f()({className:"version"},"className","about-item"),React.createElement("div",{role:"presentation"},"Version"),React.createElement("div",{id:"settingsUserName",role:"presentation"},this.options.osVersion)))),React.createElement("div",null,React.createElement("h3",null,"Browser"),React.createElement("ul",null,React.createElement("li",f()({className:"type"},"className","about-item"),React.createElement("div",{role:"presentation"},"Type"),React.createElement("div",{id:"settingsUserName",role:"presentation"},this.options.browserType)),React.createElement("li",f()({className:"version"},"className","about-item"),React.createElement("div",{role:"presentation"},"Version"),React.createElement("div",{id:"settingsUserName",role:"presentation"},this.options.browserVersion))))))}}]),n}(Q.Component);rp.propTypes={options:At.a.func};var ip=At.a.shape({userName:At.a.string,osType:At.a.string,osVersion:At.a.string,browserType:At.a.string,browserVersion:At.a.string});rp.propTypes={options:ip},angular.module("ovpApp.settings.about",[]).component("settingsAbout",Object(Ct.react2angular)(rp,["options"])),angular.module("ovpApp.specuWelcome",["ovpApp.directives.focus","ovpApp.directives.featureTourBackground"]).component("specuWelcome",{bindings:{},templateUrl:"js/specu-welcome/specu-welcome.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{httpUtil:t,$state:n,loginService:r})}return e.$inject=["httpUtil","$state","loginService"],e.$inject=["httpUtil","$state","loginService"],Ce()(e,[{key:"$onInit",value:function(){this.termsHref="https://www.spectrum.com/policies/residential-terms.html",this.privacyHref=l.a.getSelectorValue(u.Jd)}},{key:"signInWithResidential",value:function(){this.httpUtil.logout()}},{key:"continue",value:function(){if(l.a.getSelectorValue(u.fg)){var e=C.a.getItem(k.b.activationCode);if(e)return void this.$state.go("ovp.specuLoading",{activationCode:e})}this.loginService.acceptSpecUTerms(),this.$state.go("ovp.livetv",void 0,{replace:!0})}}]),e}()}),angular.module("ovpApp.specuActivate",["ovpApp.services.specU","ovpApp.directives.featureTourBackground"]).component("specuActivate",{templateUrl:"js/specu/activate.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$state:t,$rootScope:n})}return e.$inject=["$state","$rootScope"],e.$inject=["$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.activationCode=null}},{key:"onSubmit",value:function(){if(this.activationCode){if(this.$rootScope.$emit("Analytics:selectAction_activateDevice"),l.a.getSelectorValue(u.fg)&&!Object(Pe.c)())return C.a.setItem(k.b.activationCode,this.activationCode),void this.$state.go("ovp.specuDomainSearch");this.$state.go("ovp.specuLoading",{activationCode:this.activationCode})}}}]),e}()}),angular.module("ovpApp.specuLoading",["ovpApp.services.specU"]).component("specuLoading",{bindings:{activationCode:"<"},templateUrl:"js/specu/loading.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{$state:t,specUService:n})}return e.$inject=["$state","specUService"],e.$inject=["$state","specUService"],Ce()(e,[{key:"$onInit",value:function(){var e=this,t=C.a.getItem(k.b.activationCode);l.a.getSelectorValue(u.fg)&&t&&(this.activationCode=t),this.specUService.fetchUniversityInfo(this.activationCode).then(function(t){e.specUService.redirecToAscendon(t,e.activationCode)},function(t){e.$state.go("ovp.specuFailure",{errorCode:t})})}}]),e}()});n("j99h");angular.module("ovpApp.specuFailure",[]).component("specuFailure",{bindings:{errorCode:"<"},templateUrl:"js/specu/failure.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{$rootScope:t})}return e.$inject=["$rootScope"],e.$inject=["$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.error=l.a.getSelectorValue(u.je)[this.errorCode]||l.a.getSelectorValue(u.je).default}},{key:"clickRetry",value:function(){this.$rootScope.$emit("Analytics:selectAction_activateDeviceRetry")}}]),e}()}),angular.module("ovpApp.store",["ui.router","ovpApp.services.store","ovpApp.services.bookmark","ovpApp.legacy.stringUtil"]).component("storePage",{templateUrl:"js/video-store/store-page.html",bindings:{page:"<",category:"<"},controller:function(){function e(t,n,r,i,o){we()(this,e),this.$rootScope=t,this.StoreService=n,this.$state=r,this.BookmarkService=i,this.stringUtil=o}return e.$inject=["$rootScope","StoreService","$state","BookmarkService","stringUtil"],e.$inject=["$rootScope","StoreService","$state","BookmarkService","stringUtil"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.page=this.page||1,this.carouselLimit=8,this.itemOptions={enableRemove:!1,showRentalInfo:!0,hideNWLogo:!0},this.storeCarouselConfig={emptyMessage:"Store is empty!"},this.gridConfig={defaultState:"grid",title:"",showToggle:!1,id:"vodMinorCategoryViewMode",useLocalStorage:!0};var t=l.a.getSelectorValue(u.Kc).find(function(e){return"vodstore"===e.feature.toLowerCase()});this.sectionLabel=t?t.title:"Video Store",this.errorMessage=!1;var n,r=l.a.getSelectorValue(u.zf),i=(this.page-1)*r;this.category?(this.categories=null,n=this.StoreService.getCategory(this.category,i,r).then(function(t){var n=t;n.total_results<i?e.onPageChanged(1):(e.results=n.results,e.gridConfig=angular.copy(e.gridConfig),e.gridConfig.title=n.name,e.gridConfig.showTotal=!0,e.gridConfig.totalItems=n.total_results,e.gridLimit=r,e.totalItems=n.total_results,ei({currPageAppliedFilters:Object(b.h)(n.name)}),e.$rootScope.$broadcast("pageChangeComplete",e.$state.current))},function(){e.$state.go("ovp.store",{category:null,page:void 0})})):n=this.StoreService.getFrontdoor().then(function(t){t.forEach(function(n,r){n.carouselConfig=Object.assign({title:n.name,viewAllUri:n.uri&&'ovp.store.viewall({category:"'+e.stringUtil.addParameterToUri(n.uri,"catName",n.name)+'", page: 1})',swimlaneIndex:r,totalSwimlanes:t.length},e.storeCarouselConfig)}),e.categories=t,e.$rootScope.$broadcast("pageChangeComplete",e.$state.current)},function(){e.errorMessage="Unable to retrieve store data. Reload the page to try again."}),this.$rootScope.$broadcast("message:loading",n,void 0,"Video Store"),this.BookmarkService.getBookmarks()}},{key:"onCarouselLimitChanged",value:function(e){this.carouselLimit=Math.max(this.carouselLimit,e)}},{key:"onPageChanged",value:function(e){this.$state.go(this.$state.current,{category:this.category,page:e})}},{key:"storeTitleCallback",value:function(e){var t=e.find(function(e){return"vodStore"===e.application});this.storeTitle=t?t.title:null}}]),e}()});var op=n("suhT"),ap=n.n(op),sp=function(e){var t=e.width,n=void 0===t?"24px":t,r=e.height,i=void 0===r?"24px":r,o=e.fill,a={height:i,width:n,fontSize:i,color:void 0===o?"#FFFFFF":o,display:"flex",alignItems:"center"};return React.createElement("span",{style:a,className:"si si-caution-f"})};function cp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var lp=function(e){In()(n,e);var t=cp(n);function n(e){var r;we()(this,n),r=t.call(this,e),f()(Ui()(r),"handleDomainChange",function(e){r.setState({domainName:e.target.value})}),f()(Ui()(r),"handleDomainSubmit",function(e){r.setState({requestPending:!0,errorObj:null}),r.props.$rootScope.$emit("Analytics:specu-selectAction-submitDomain",{elementStandardizedName:"trustedAuthSchoolSearch"});var t=r.filterEmailAddress();r.props.specUService.searchDomain(t).then(function(e){if(e&&e.AuthenticationFlow===r.TA_AUTH_FLOW){C.a.setItem(k.b.specUDomainName,r.state.domainName);var n=C.a.getItem(k.b.activationCode);l.a.getSelectorValue(u.fg)&&n?r.props.specUService.redirectToTAAscendon(e,n):r.props.OauthService.getTemporaryToken().then(function(n){C.a.setItem(k.b.tempToken,n),r.props.$location.path("/domainsearch/".concat(t));var i=n.token;r.props.specUService.redirectToTAAscendon(e,i)}).catch(function(){r.setState({requestPending:!1,errorObj:r.trustedAuthErrors.default})})}else e&&r.errorAuthFlows.includes(e.AuthenticationFlow)?r.setState({requestPending:!1,errorObj:r.trustedAuthErrors[e.AuthenticationFlow]}):r.setState({requestPending:!1,errorObj:r.trustedAuthErrors.empty})}).catch(function(){var e=r.trustedAuthErrors.default;r.setState({requestPending:!1,errorObj:e})}),e.preventDefault()}),r.TA_AUTH_FLOW=r.props.taAuthFlow,r.errorAuthFlows=r.props.errorAuthFlows,r.trustedAuthErrors=r.props.trustedAuthErrors,r.descriptionText=r.props.domainSearchDescText,r.imgSrc=r.props.version.appVersion+"/images/logo-specu-horiz.svg";var i=C.a.getItem(k.b.specUDomainName);return r.state={domainName:i||r.props.specuDomain||"",requestPending:"true"===r.props.authSuccess||!1,errorObj:r.props.errorCode&&(r.trustedAuthErrors[r.props.errorCode]||r.trustedAuthErrors.default)},r}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;if("true"===this.props.authSuccess)return this.props.OauthService.isAuthenticated().then(function(t){if(t)e.props.httpUtil.redirectToURL("/");else{var n=e.props.OauthService.getOAuthError();e.setState({requestPending:!1,errorObj:e.getErrorCode(n)})}}).catch(function(t){var n=e.getErrorCode(t);e.setState({requestPending:!1,errorObj:n})})}},{key:"getErrorCode",value:function(e){var t=Object(b.c)(e,["headers","x-pi-auth-failure"],"default");return this.trustedAuthErrors[t]||this.trustedAuthErrors.default}},{key:"filterEmailAddress",value:function(){var e=/(.*)@(.*)/;if(this.state.domainName&&e.test(this.state.domainName)){var t=this.state.domainName.replace(e,"$2");return this.setState({domainName:t}),t}return this.state.domainName}},{key:"getErrorHeaderComponent",value:function(e){var t=e,n=/(.*)\[([^\]]*)\]\(([^\)]*)\)(.*)/;if(n.test(e)){var r=t.match(n);t=React.createElement(Q.Fragment,null,r[1]," ",React.createElement("a",{className:"kite-btn-link",href:r[3]},r[2])," ",r[4])}return t}},{key:"render",value:function(){var e,t=null;if(this.state.errorObj){var n=this.getErrorHeaderComponent(this.state.errorObj.title);this.state.errorObj.messages&&(e=this.state.errorObj.messages.map(function(e,t){return React.createElement("li",{key:t},e)})),t=React.createElement("div",{className:"error-msg-container"},React.createElement("div",{className:"error-title-container"},React.createElement(sp,null),React.createElement(Nn,{focusOnLoad:!0},React.createElement("h2",{className:"error-title kite-h6",tabIndex:"-2"},n))),e&&React.createElement("ul",{className:"error-reasons"},e))}return React.createElement($t.Provider,{store:this.props.store},React.createElement(vi,{backsplash:this.props.featureTourBackground},React.createElement("section",{className:"kite-grid kite-no-gutters"},React.createElement("div",{className:"login-modal kite-cell kite-cell-3-gt-sm kite-cell-6-gt-md kite-cell-5-gt-lg kite-cell-6-gt-xl kite-cell-3-gt-xxl"},React.createElement("div",{className:"kite-card kite-card-active"},React.createElement("div",{className:"specu-domain-search-container"},React.createElement("a",{className:"go-back-icon",href:"/","aria-label":"back to sign in"},React.createElement(ir,{fill:"#b7cee5"})),React.createElement("h1",null,React.createElement("img",{role:"img",alt:"Spectrum University",className:"logo-header",src:this.imgSrc})),React.createElement("p",{className:"description-text"},this.descriptionText),this.state.errorObj&&t,this.state.requestPending&&React.createElement(Lu,null),React.createElement("form",{onSubmit:this.handleDomainSubmit},React.createElement("label",{className:"search-label",htmlFor:"domainName"},"Enter your school domain"),React.createElement("div",{className:"domain-input-container"},React.createElement("div",{className:"domain-symbol","aria-hidden":"true"},"@"),React.createElement("input",{id:"domainName",name:"domainName",className:"domain-input kite-form-control",type:"text",value:this.state.domainName,onChange:this.handleDomainChange,placeholder:"university.edu",required:!0,autoFocus:!this.state.errorObj})),React.createElement("input",{className:"kite-btn kite-btn-primary kite-btn-block domain-submit",type:"submit",value:"Submit"}))))))))}}]),n}(Q.Component);angular.module("ovpApp.specUDomainSearch",["ovpApp.version","ovpApp.services.specU","ovpApp.legacy.httpUtil"]).component("specUDomainSearch",Object(Ct.react2angular)(Object($t.connect)(function(e){return{taAuthFlow:Object(u.Me)(e),errorAuthFlows:Object(u.le)(e),trustedAuthErrors:Object(u.Ye)(e),domainSearchDescText:Object(u.Cb)(e),featureTourBackground:Object(u.Wb)(e)}})(lp),["specuDomain","authSuccess","errorCode"],["version","specUService","OauthService","$location","httpUtil","$rootScope","store"]));var up=n("0KeI"),dp=n.n(up);function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var hp={v1:"featured-content-alert-v1",v2:"featured-content-alert-v2"},vp=function(e){var t=fp(e);if(!t)return null;var n=angular.element(document.body).injector().get("productActionService"),r=angular.element(document.body).injector().get("actionTypeMap"),i=t.actions.find(function(e){return"watchOnDemandIP"===e.actionType||"resumeOnDemandIP"===e.actionType});return{addToWatchList:!!e.actions.find(function(e){return e.actionType===r.addToWatchList.id}),icons:{addToWatchList:"#".concat(n.getActionIcon(e,{actionType:r.addToWatchList.id})),removeFromWatchList:"#".concat(n.getActionIcon(e,{actionType:r.removeFromWatchList.id}))},title:e.title,totalEpisodes:e.totalEpisodes,rating:e.rating,image:e.imageUri({orientation:"hero"}),seasonNumber:1,titleImage:e.enhancedLogoImage({height:100}),clickRoute:e.clickRoute,tmsSeriesId:e.tmsSeriesId,providerAssetId:e.providerAssetIds[0],networkImage:e.enhancedNetworkImage(),networkName:e.network.name,episode:{title:t.title,episodeNumber:1,runtime:Math.round(t.defaultStream.streamProperties.runtimeInSeconds/60),description:t.longDescription,tmsProgramId:t.tmsProgramIds[0],playAction:function(){return n.executeAction(i,t,void 0,{modalName:"originalsPromo",context:"promos"})}}}},fp=function(e){if(!e.seasons.length)return 0;var t=Xs()(function(e,t){return e.number<t.number?e:t},{},dp()(function(e){return!e.number},e.seasons));return Xs()(function(e,t){return e.episodeNumber<t.episodeNumber?e:t},0,t.episodes)},mp={show:function(e){var t=angular.element(document.body).injector().get("kiteModalService"),n=angular.element(document.body).injector().get("productService"),r=C.a.getItem(k.b.completedContentAlerts)||{data:[]},i=hp[e.template]||hp.v1;return n.withTmsSeriesId(e.tmsSeriesId).fetch(!0).then(function(n){var o=vp(n);if(o){var a=t.open({showCloseIcon:!0,doNotCloseAutomatically:!0,windowClass:"feature-content-alert",component:i,resolve:{modalDetails:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),assetDetails:o,impressionModalText:Object(b.c)(o,"title"),options:{analytics:{modal:{show:"OneApp_modalView_appLaunchTakeover",resolved:"OneApp_selectContent_appLaunch_promotionSelection",dismissed:"OneApp_selectAction_promos_close",payload:{tmsSeriesId:null===e||void 0===e?void 0:e.tmsSeriesId,tmsProgramId:null===e||void 0===e?void 0:e.tmsProgramId,providerAssetId:null===e||void 0===e?void 0:e.providerAssetId,currPageElemIndex:0,modalText:null===e||void 0===e?void 0:e.title}}}}},ariaLabelledBy:"feature-content-container"});return a.promise.then(function(t){return Object(y.j)("OneApp_impressionStop_appLaunch_withInteraction",{impressionLocation:Object(y.f)(),impressionId:null===e||void 0===e?void 0:e.promoId}),t}).catch(function(t){Object(y.j)("OneApp_impressionStop_appLaunch",{impressionLocation:Object(y.f)(),impressionId:null===e||void 0===e?void 0:e.promoId})}).finally(function(){r.data.push(e.promoId),r.time=Date.now(),C.a.setItem(k.b.completedContentAlerts,r)}),a.promise}})}};function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var bp={show:function(e){var t,n,r,i,o,a,s=angular.element(document.body).injector().get("kiteModalService"),c=C.a.getItem(k.b.completedContentAlerts)||{data:[]},l=s.open({showCloseIcon:!0,doNotCloseAutomatically:!0,windowClass:"generic-feature-alert",component:"generic-feature-alert",resolve:{modalDetails:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),impressionModalText:e.title,options:{analytics:{modal:{show:null!==(t=null===e||void 0===e?void 0:null===(n=e.quantum)||void 0===n?void 0:n.show)&&void 0!==t?t:"OneApp_modalView_appLaunchTakeover",resolved:null!==(r=null===e||void 0===e?void 0:null===(i=e.quantum)||void 0===i?void 0:i.resolved)&&void 0!==r?r:"OneApp_selectContent_promos_moreInfo",dismissed:null!==(o=null===e||void 0===e?void 0:null===(a=e.quantum)||void 0===a?void 0:a.dismissed)&&void 0!==o?o:"OneApp_selectAction_promos_close",payload:{tmsSeriesId:null===e||void 0===e?void 0:e.tmsSeriesId,tmsProgramId:null===e||void 0===e?void 0:e.tmsProgramId,providerAssetId:null===e||void 0===e?void 0:e.providerAssetId,currPageElemIndex:0,modalText:null===e||void 0===e?void 0:e.title}}}}},ariaLabelledBy:"generic-feature-alert-title",ariaDescribedBy:"generic-feature-alert-subtitle"});return l.promise.then(function(t){return Object(y.j)("OneApp_impressionStop_appLaunch_withInteraction",{impressionLocation:Object(y.f)(),impressionId:null===e||void 0===e?void 0:e.promoId}),t}).catch(function(t){Object(y.j)("OneApp_impressionStop_appLaunch",{impressionLocation:Object(y.f)(),impressionId:null===e||void 0===e?void 0:e.promoId})}).finally(function(){c.data.push(e.promoId),c.time=Date.now(),C.a.setItem(k.b.completedContentAlerts,c)}),l.promise}},yp=!1,Sp=function(){return yp},wp=function(){var e,t=l.a.getStatePath("config.data.featuredContentAlert.activeAlerts")||[],n=l.a.getStatePath("config.data.featuredContentAlert.alertGapInSec")||0,r=C.a.getItem(k.b.completedContentAlerts)||{data:[]},i=r.data,o=r.time,a=n-(o?Date.now()-o:n);(e=kt()(i)?t[0]:t.filter(function(e){return!i.includes(l.a.getStatePath("config.data.featuredContentAlert.config")[e].promoId)})[0])&&a<=0&&setTimeout(function(){yp=!0,function(e){var t,n=l.a.getStatePath("config.data.featuredContentAlert.config")[e];switch(n.type){case"originals":t=mp.show(n);break;case"generic":t=bp.show(n)}return t}(e).finally(function(){return yp=!1})},1e3)};var kp=n("bqBb"),Cp=n("u+oy"),$p=n("l7a+"),Tp={mylibrary:"ovp.mylibrary",livetv:"ovp.livetv",guide:"ovp.guide",ondemand:"ovp.ondemand",rdvr:"ovp.dvr",cdvr:"ovp.cdvr",store:"ovp.store",settings:"ovp.settings"},Op=n("0v+u");function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(){function e(e,t,n,r,o,s,c,d,p,h,v,f,m,g,y,S,w,$,O,E,A){te.a.initialize();var P=c.defer(),I=C.a.getItem(k.b.ignoreMobileCheck)||!1;s.hideSiteFooterRegex=/(play|livetv|search|specuActivate|specuLoading|specuSuccess|specuFailure)/,P.promise.then(function(){n.sync()}),ic.startClearCacheTimer(),document.referrer&&document.referrer!==document.location.href&&(l.a.dispatch(Object(Cp.b)({referrerLocation:document.location.href,referrerLink:document.referrer})),s.$emit("Analytics:deeplink-start"));var x=Object(T.f)();if(x.size){var _=on()(x.entries()).reduce(function(e,t){var n=Oe()(t,2),r=n[0],i=n[1];return e[r]=i,e},{});l.a.dispatch(Object(Op.b)(_))}s.$on("message:loading",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"content";s.loadingMessage="Loading "+r,c.when(t,function(){S(function(){s.loadingMessage=""})})}),r.defaultErrorHandler(function(t){(!t||!0!==t.silent&&2!==t.type&&3!==t.type)&&(t&&"serviceErrorReload"===t.error?E.errorAlert("WFE-1113",{},{buttonText:"RELOAD"}).promise.finally(function(){e.location="/"}):E.errorAlert("WGE-1001",{},{errorExtras:{cause:"Default Error for twctv-ui-router defaultErrorHandler",err:JSON.stringify(t,Object(b.b)())},buttonText:"RELOAD"}).promise.finally(function(){e.location="/"}),d.error(t),s.$broadcast("message:loading:cancel"),l.a.getStatePath("deepLink.referrerLocation")&&s.$emit("Analytics:deeplink-stop-failure-application"))});var D,R=function(e){return["ovp.ondemand.playProduct","ovp.ondemand.playEpisodeWithDetails","ovp.ondemand.playCdvr","ovp.livetv"].includes(e.name)};function j(e){t[0].title="".concat(w.formatPageTitle(e),"| Spectrum TV")}function N(e){D&&(D.dispose(),D=void 0);var n,r=e.to().data;r&&r.pageTitle?(n=angular.isFunction(r.pageTitle)?r.pageTitle(e):r.pageTitle)instanceof o.Observable?D=n.subscribe(j):c.when(n,j):t[0].title="Spectrum TV"}function M(){if(!C.a.getItem(k.b.deepLinkRoute)){var e=m.url();C.a.setItem(k.b.deepLinkRoute,e)}}function V(){l.a.getSelectorValue(u.Mc)||(s.$emit("player:transition-off-playRoute"),O.stop({triggeredBy:lt.m.USER}),!0===l.a.getStatePath("player.autoplay.showAutoPlayFailureUi")&&l.a.dispatch(Object(Oa.e)()))}function L(e){var t=e.to().name;if("unsupported"!==t&&$.isUnSupportedBrowser())return e.router.stateService.target("unsupported",{error:$.getMessage()});if(v.isTVSA()&&!g.hasAcceptedTVSATerms()&&"ovp.tvsaEULA"!==t)return e.router.stateService.target("ovp.tvsaEULA");if(v.isSpecU()&&!g.hasAcceptedSpecUTerms()&&"ovp.specuwelcome"!==t)return e.router.stateService.target("ovp.specuwelcome");if(v.isBulkMDU()&&!g.hasAcceptedBulkMDUTerms()&&!t.startsWith("ovp.bulkmdu"))return e.router.stateService.target("ovp.bulkmduwelcome");if(t.match(/^ovp.dvr.*/))return function(e){return v.isCdvrEnabled().then(function(t){return!t||e.router.stateService.target("ovp.livetv")})}(e);if(v.isResidential()&&!g.hasAcceptedLoginTerms()&&!t.startsWith("ovp.loginWelcome"))return e.router.stateService.target("ovp.loginWelcome");if(v.isResidential()&&g.hasAcceptedLoginTerms()&&!g.hasAcceptedParentalControlsWarning()&&!t.startsWith("ovp.parentalControlWarning"))return e.router.stateService.target("ovp.parentalControlWarning");if("ovp.specuwelcome"!==t&&!t.startsWith("ovp.bulkmdu")&&!t.startsWith("ovp.loginWelcome")&&!t.startsWith("ovp.parentalControlWarning")){var n=C.a.getItem(k.b.appLink);if(!n)return!0;if(C.a.removeItem(k.b.appLink),!n.url)return e.router.stateService.target(n.state,n.params);m.url(n.url),r.router.urlRouter.sync()}return!0}function F(e){return A.checkBuyflowEligibility().then(function(){return l.a.getSelectorValue(ge.h)&&!l.a.getSelectorValue(u.Qf)?e.router.stateService.target("buyFlowOOH"):l.a.getSelectorValue(re.R)?void 0:l.a.getSelectorValue(u.Tf)?e.router.stateService.target("ovp.offers"):e.router.stateService.target("buyFlow.welcome")}).catch(function(t){var n=t.errorCode;return e.router.stateService.target("novideoservice",{errorCode:n})})}function U(e){var t=e.to();if(l.a.getSelectorValue(re.R)&&l.a.getSelectorValue(ge.d)){var n=l.a.getSelectorValue(u.rc),r=ap()(Tp)[t.name];return!r||-1===n.indexOf(r)||function(e){var t=l.a.getSelectorValue(u.rc),n=l.a.getSelectorValue(re.H)||ze()(t,Tp)[0];return e.router.stateService.target(n)}(e)}return t.data&&t.data.capability?v.hasCapability(t.data.capability).then(function(t){return t||v.getFirstAvailableState().then(function(t){return t?e.router.stateService.target(t):F(e)})},function(){return e.router.stateService.target("ovp.disableAppDueServiceError")}):v.canUseTwctv().then(function(){return!0},function(){return F(e)})}h.onStart({from:R},function(){return V()}),h.onStart({},function(){angular.element(".main-container").hide(),angular.element(".product-page-container").hide()}),h.onSuccess({},function(){var e=a()(i.a.mark(function e(t){var n,o,a,c,u,d,p,h,v,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.to(),o=t.from(),a=t.params("from"),c=["ovp.loginWelcome","ovp.bulkmduwelcome","ovp.specuwelcome","ovp.parentalControlWarning","ovp.tvsaEULA","ovp.bulkmdueula","oohLoginErrorScreen1","ovp.oohLoginErrorScreen2","ovp.specuActivate","ovp.specuLoading","ovp.specuSuccess","ovp.specuFailure","ovp.specuDomainSearch","ovp.mobilelogin","ovp.privateRelayErrorScreen"],u=(n.name.startsWith("ovp")||n.name.startsWith("product")||n.name.startsWith("search"))&&!c.includes(n.name),d=n.name.startsWith("ovp.offers")||n.name.startsWith("buyFlow"),"ovp.blankPage"!==o.name&&(r.previous=o,r.previous.fromParams=a),u&&!d&&(Sp()||Ve.isShowingFreePreviewModal()||(wp(),Ve.showFreePreviewModal()),C.a.getItem(k.b.deepLinkRoute)&&C.a.removeItem(k.b.deepLinkRoute),s.loadPlayer=!0),n.data&&n.data.subheader&&(s.subheader=n.data.subheader),s.bodyClass=n.data&&n.data.bodyClass||"",N(t),"ovp.blankPage"!==n.name&&(l.a.getStatePath("performance.appLaunchTime")||(p=window.performance.now(),l.a.dispatch(Object(kp.b)(p)),s.$emit("Analytics:applicationPerformance-launchTime",{launchTime:p})),angular.element(".main-container").show(),n.name.indexOf("product")>-1&&angular.element(".product-page-container").show()),t.wasReactivated&&Zr(),h="ovp.blankPage"!==n.name,l.a.getStatePath("auth.isAuthenticated")&&u&&h&&((null===(v=C.a.getItem(k.b.appRatings))||void 0===v?void 0:v.firstLaunchDate)||C.a.setItem(k.b.appRatings,{firstLaunchDate:new Date,lastRatingPromptDateTime:null}),(f=l.a.getStatePath("deepLink.referrerLocation"))&&S(function(){var e=f===document.location.href?"Analytics:deeplink-stop-success":"Analytics:deeplink-stop-failure-user";s.$emit(e)}));case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),h.onError({},function(e){var t=e.to();angular.element(".main-container").show(),t.name.indexOf("product")>-1&&angular.element(".product-page-container").show()}),s.$on("ovp:setPageTitle",function(e,n){t[0].title="".concat(n," | Spectrum TV")}),s.$on("goToDesktopVersionClicked",function(){I=!0,C.a.setItem(k.b.ignoreMobileCheck,!0)}),h.onBefore({},function(e){var t=l.a.getSelectorValue(u.zb),n=e.to();if(void 0!==t.find(function(e){return new RegExp(e).test(n.name)}))return e.router.stateService.target("root");if(s.isValidPlayRoute=O.isValidPlayRoute(),"unsupported"!==n.name&&$.isUnSupportedBrowser())return e.router.stateService.target("unsupported",{error:$.getMessage()});R(e.from())&&!R(e.to())&&V();var r=e.router.getPlugin("stickystates").inactives().find(function(t){return t.name===e.to().name});r&&angular.equals(r.fromParams,e.params())&&(e.wasReactivated=!0),Jr(e)}),h.onBefore({},function(){var e=a()(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.a.getSelectorValue(u.zb),r=t.to().name,!(void 0!==n.find(function(e){return new RegExp(e).test(r)}))){e.next=5;break}return e.abrupt("return",t.router.stateService.target("root"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),h.onBefore({to:function(e){return!e.public}},function(){var t=a()(i.a.mark(function t(n){var r,o,a,d,p,h,g,b,S,w,$,T,O;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.isAuthenticated();case 2:if(r=t.sent,o=n.to(),a=e.navigator.userAgent.match(/(ipad)|(iphone)|(ipod)|(android)/i),I||!a){t.next=7;break}return t.abrupt("return",n.router.stateService.go("ovp.mobilelogin"));case 7:if(-1===o.name.indexOf("offers")&&M(),!r){t.next=44;break}if(s.$broadcast("message:loading:cancel"),!o.ignoreRedirects){t.next=13;break}return t.abrupt("return",!0);case 13:return t.prev=13,t.next=16,c.all([v.isOOHAuthorized(),me.a.getLocation(),Ve.getCurrentPackage()]);case 16:if(d=t.sent,p=Oe()(d,1),h=p[0],!l.a.getSelectorValue(ge.h)||h){t.next=28;break}if(g=l.a.getSelectorValue(u.Wd),!(l.a.getSelectorValue(u.cg)&&l.a.getSelectorValue(ge.c)&&g)){t.next=25;break}return t.abrupt("return",n.router.stateService.target("ovp.privateRelayErrorScreen",{errorCode:"WLI-1042"}));case 25:if(!g){t.next=28;break}return b=l.a.getSelectorValue(u.md),t.abrupt("return",n.router.stateService.target("ovp.oohLoginErrorScreen".concat(b)));case 28:return l.a.getSelectorValue(re.P)&&!l.a.getSelectorValue(re.K)&&Ve.startSubscriptionCountdown(),t.next=31,c.when(L(n));case 31:if(!0!==(S=t.sent)){t.next=34;break}return t.abrupt("return",U(n));case 34:return t.abrupt("return",S);case 37:return t.prev=37,t.t0=t.catch(13),w=t.t0.errorCode||"WLC-1001",s.$emit("Analytics:sadTv",{errorCode:String(w),errorMessage:te.a.getErrorInfo(w).message,clientErrorCode:t.t0.clientErrorCode}),t.abrupt("return",n.router.stateService.target("ovp.sadtverror",{errorCode:w}));case 42:t.next=59;break;case 44:if(T=y.getOAuthError(),!(l.a.getSelectorValue(u.cg)&&(null===T||void 0===T?void 0:null===($=T.errorCode)||void 0===$?void 0:$.indexOf("-1042"))>-1)){t.next=49;break}if(!l.a.getSelectorValue(u.bg)){t.next=48;break}return t.abrupt("return",n.router.stateService.target("ovp.privateRelayErrorScreen",{errorCode:"WLI-1042"}));case 48:return t.abrupt("return",n.router.stateService.target("ovp.login",{errorCode:null===T||void 0===T?void 0:T.errorCode}));case 49:if(!T||"WLC-1001"!==T.errorCode&&"WUC-1002"!==T.errorCode){t.next=52;break}return s.$emit("Analytics:sadTv",{errorCode:String(T.errorCode),errorMessage:te.a.getErrorInfo(T.errorCode).message,clientErrorCode:T.clientErrorCode}),t.abrupt("return",n.router.stateService.target("ovp.sadtverror",{errorCode:T.errorCode}));case 52:if("ovp.blankPage"!==o.name&&(O=o.name.indexOf("**")>-1?{url:m.url()}:{state:o.name,params:n.params("to")},C.a.setItem(k.b.appLink,O)),!T.isSpecUTA){t.next=57;break}return t.abrupt("return",n.router.stateService.target("ovp.specuDomainSearch",{errorCode:T.errorCode,specuDomain:C.a.getItem(k.b.specUDomainName)}));case 57:f.logout({allowAutoLogin:!0});case 58:return t.abrupt("return",!1);case 59:case"end":return t.stop()}},t,null,[[13,37]])}));return function(e){return t.apply(this,arguments)}}()),h.onStart({},a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isAuthenticated();case 2:if(t=e.sent,n=l.a.getSelectorValue(ks.b),!t||n){e.next=13;break}return e.prev=5,e.next=8,Promise.all([l.a.dispatch(Dd.a.trigger())]);case 8:l.a.dispatch($p.a.authDependenciesInitialized()),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:case"end":return e.stop()}},e,null,[[5,11]])}))),h.onSuccess({to:function(e){return"terms"===e.name||/search/i.test(e.name)}},function(e){var t=e.router.getPlugin("stickystates");t.inactives().find(function(t){return t.name===e.from().name})&&t.exitSticky(e.from().name)}),s.$state=r,s.$stateParams=p}function t(e,t,n,r,i,o){var a={"/DVR":"/rdvr","/dvr":"/rdvr","/feedback/roku":"/feedback/Roku","/feedback/appletv":"/feedback/AppleTV","/feedback/samsungtv":"/feedback/SamsungTV","/feedback/xbox":"/feedback/Xbox","/feedback/spectrumguide":"/feedback/SpectrumGuide"};r.rule(function(e,t){var n=["/feedback/Roku","/feedback/AppleTV","/feedback/SamsungTV","/feedback/Xbox","/feedback/SpectrumGuide"].find(function(e){return e===t.path()});if(n){var r=n.split("/")[2].toLowerCase();window.location.href=Object($c.h)(r)}}),i.html5Mode({enabled:!0,requireBase:!1}),r.rule(function(e,t){var n,r=t.hash();if(r&&0===r.indexOf("/ondemand"))n=r;else if(r&&0===r.indexOf("ondemand/networks"))n="/"+r;else if("/ondemand"===t.path()&&""!==r){var i=r.match(/^\/*details\/([0-9]+)/);if(i)n="/product/movie/"+i[1];else{var o=r.match(/\/*details\/series\/([0-9]+)/);o&&(n="/product/series/"+o[1])}}else r&&r.startsWith("/rdvr")&&(n=r);return n}),r.rule(function(e,t){if(t.path().startsWith("/auth")){var n=t.hash();return n&&(n.startsWith("/")||n.startsWith("%25"))?n:"/"+n}if(a[t.path()])return a[t.path()]}),r.otherwise(function(){return l.a.getSelectorValue(re.R)?l.a.getSelectorValue(re.H):"/ondemand/featured"}),e.state("root",{url:"/",public:!0,redirectTo:function(e){var t=e.injector(),n=t.get("$location").search();t.get("$rootScope");return n&&("true"===n.sessionOverride||n.mqtn)&&(C.a.removeItem(k.b.autoAuthSignOutTime),ut.a.get().token&&(ut.a.reset(),t.get("$window").location.reload())),"ovp.livetv"}}),o.type("uri",{decode:function(e){return decodeURIComponent(e)}}),e.state("ovp",{abstract:!0,resolve:{authenticatedDependencies:["BookmarkService","capabilitiesService","NNSService","versionService",function(e){e.activate(),Ue()}]},controller:["$rootScope","chromecastService","playerService",function e(t,n,r){var i=this;we()(this,e),angular.extend(this,{$rootScope:t}),this.isDisconnectingFromCast=!1,t.$on("chromecast:session-state-changed",function(e,t){i.isDisconnectingFromCast=t.sessionState===cast.framework.SessionState.SESSION_ENDING||t.sessionState===cast.framework.SessionState.SESSION_ENDED}),this.shouldShowRemote=function(){return n.isCasting()&&!r.isValidPlayRoute()}}],controllerAs:"vm",sticky:!0,templateUrl:"js/twctv/twctv.html"}),e.state("ovp.specuActivate",{redirectTo:function(e){var t=e.injector().get("$location"),n=e.injector().get("Utils").convertToLowerCaseKeyValue(t.search()),r=n.authsuccess,i=n.errorcode;if("true"!==n.retry)return"true"===r?"ovp.specuSuccess":"false"===r?{state:"ovp.specuFailure",params:{errorCode:i}}:void 0;t.search("retry",null)},reloadOnSearch:!1,data:{bodyClass:"specu-activate-page",pageTitle:"SpecU Activate",hideMenu:!0},public:!0,url:"/activate",views:{appView:{template:'<specu-activate class="flexbox-height-100"></specu-activate>'}}}),e.state("ovp.specuLoading",{data:{bodyClass:"specu-loading-page",pageTitle:"SpecU Loading",hideMenu:!0},params:{activationCode:null},resolve:{activationCode:["$stateParams",function(e){return e.activationCode}]},public:!0,views:{appView:{template:'<specu-loading activation-code="$resolve.activationCode" class="flexbox-height-100"></specu-loading>'}}}),e.state("ovp.specuSuccess",{data:{bodyClass:"specu-success-page",pageTitle:"SpecU Success",hideMenu:!0},public:!0,views:{appView:{template:'<specu-success class="flexbox-height-100"></specu-success>'}}}),e.state("ovp.specuFailure",{data:{bodyClass:"specu-failure-page",pageTitle:"SpecU Failure",hideMenu:!0},params:{errorCode:null},resolve:{errorCode:["$stateParams",function(e){return e.errorCode}]},public:!0,views:{appView:{template:'<specu-failure error-code="$resolve.errorCode" class="flexbox-height-100"></specu-failure>'}}}),e.state("login",{data:{bodyClass:"login-page",pageTitle:"Sign In",hideMenu:!0},public:!0,templateUrl:"js/login/login.html"}),e.state("ovp.login",{data:{bodyClass:"login-page",pageTitle:"Sign In",hideMenu:!0},params:{errorCode:null},resolve:{errorCode:["$stateParams",function(e){return e.errorCode}]},public:!0,onEnter:["chromecastService",function(e){e.disconnect()}],views:{appView:{templateUrl:"js/login/login.html"}}}),e.state("unsupported",{data:{bodyClass:"unsupported-page",hideMenu:!0},params:{error:null},resolve:{error:["$stateParams",function(e){return e.error||{title:"Unsupported Browser"}}]},public:!0,templateUrl:"js/twctv/unsupported-browser.html"}),e.state("ovp.mobilelogin",{data:{bodyClass:"mobile-login-page",hideMenu:!0},public:!0,views:{appView:{component:"mobileLogin"}}}),e.state("ovp.tvsaEULA",{url:"",data:{bodyClass:"tvsa-eula",hideMenu:!0},views:{appView:{template:'<tvsa-e-u-l-a class="flexbox-height-100" />'}}}),e.state("ovp.specuwelcome",{url:"",data:{bodyClass:"specu-welcome",hideMenu:!0},views:{appView:{template:'<specu-welcome class="flexbox-height-100"></specu-welcome>'}}}),e.state("ovp.specuDomainSearch",{redirectTo:function(e){if(!l.a.getSelectorValue(u.Xe))return"root"},url:"/domainsearch/:specuDomain",public:!0,data:{bodyClass:"specu-domain-search",hideMenu:!0},params:{specuDomain:null,errorCode:null},reloadOnSearch:!1,resolve:{defaultParams:["$location","$stateParams","Utils",function(e,t,n){var r=n.convertToLowerCaseKeyValue(e.search());return t.errorCode&&(r.authsuccess=!1,r.errorcode=t.errorCode),e.search(""),r}],errorCode:["defaultParams",function(e){return e.errorcode}],authSuccess:["defaultParams",function(e){return e.authsuccess}]},views:{appView:{template:'<spec-u-domain-search\n                        error-code="$resolve.errorCode"\n                        auth-success="$resolve.authSuccess"\n                        specu-domain="$stateParams.specuDomain"\n                        class="flexbox-height-100">\n                    </spec-u-domain-search>'}}}),e.state("ovp.bulkmduwelcome",{url:"",data:{bodyClass:"bluk-mdu-welcome",hideMenu:!0},views:{appView:{template:'<bulk-m-d-u-welcome class="flexbox-height-100"></bulk-m-d-u-welcome>'}}}),e.state("ovp.loginWelcome",{url:"",data:{bodyClass:"login-welcome",hideMenu:!0},views:{appView:{template:'<login-welcome class="flexbox-height-100"></login-welcome>'}}}),e.state("ovp.parentalControlWarning",{url:"",data:{bodyClass:"parental-control-warning",hideMenu:!0},views:{appView:{component:"parentalControlWarning"}}}),e.state("ovp.bulkmdueula",{url:"",data:{bodyClass:"bulk-mdu-eula",hideMenu:!0},views:{appView:{template:'<bulk-m-d-u-e-u-l-a class="flexbox-height-100"></bulk-m-d-u-e-u-l-a>'}}}),e.state("ovp.oohLoginErrorScreen1",{url:"",public:!0,data:{bodyClass:"ooh-login-error",hideMenu:!0},views:{appView:{template:"<ooh-login-error-bridge></ooh-login-error-bridge>"}}}),e.state("ovp.oohLoginErrorScreen2",{url:"",public:!0,data:{bodyClass:"ooh-login-error",hideMenu:!0,hideHeader:!0},views:{appView:{template:"<ooh-login-error-bridge></ooh-login-error-bridge>"}}}),e.state("ovp.privateRelayErrorScreen",{url:"",public:!0,data:{hideHeader:!0},params:{errorCode:null},resolve:{errorCode:["$stateParams",function(e){return null===e||void 0===e?void 0:e.errorCode}]},views:{appView:{template:'<private-relay-error-bridge class="app-restriction-error-bridge" error-code="$resolve.errorCode"></private-relay-error-bridge>'}}}),e.state("ovp.kiteAppRatingsFeedbackPrompt",{url:"/feedback",public:!1,data:{bodyClass:"kite-app-ratings-feedback-prompt",hideMenu:!0},resolve:{modalInstance:["kiteModalService","$state",function(e,t){new Promise(function(n,r){e.open({component:"kite-app-ratings-feedback-prompt",resolve:{options:{analytics:{modal:{show:"OneApp_modalView_feedbackRedirect",resolved:"OVP_selectAction_userFeedbackModal_submit",dismissed:"OneApp_selectAction_userFeedbackModal_dismiss"}}},modalDetails:{title:l.a.getSelectorValue($c.f),description:l.a.getSelectorValue($c.e)},primaryButtonLabel:l.a.getSelectorValue($c.a)},showCloseIcon:!0,doNotCloseAutomatically:!0,ariaLabelledBy:"kite-app-ratings-feedback-prompt-title",ariaDescribedBy:"kite-app-ratings-feedback-prompt-description"}).promise.then(function(){e.open({component:"kite-growl",showCloseIcon:!0,doNotCloseAutomatically:!0,resolve:{title:l.a.getSelectorValue($c.l),description:l.a.getSelectorValue($c.k)},ariaLabelledBy:"kite-alert-header",ariaDescribedBy:"kite-alert-description"})}).finally(function(){return t.go("ovp.livetv")})})}]},views:{appView:{template:"<kite-app-ratings-feedback-prompt-bridge></kite-app-ratings-feedback-prompt-bridge>"}}}),e.state("novideoservice",{controller:["kiteModalService","httpUtil","errorCode",function(e,t,n){e.errorAlert(n||"WBF-1003",{BUYFLOW_CUSTOMER_CARE_NUMBER:l.a.getSelectorValue(re.f)}).promise.finally(function(){t.logout()})}],params:{errorCode:null},resolve:{errorCode:["$stateParams",function(e){return e.errorCode}]},data:{bodyClass:"no-video-page",hideMenu:!0},ignoreRedirects:!0,templateUrl:"js/twctv/novideoservice.html"}),e.state("ovp.sadtverror",{url:"",public:!0,data:{hideMenu:!0},views:{appView:{template:'<sad-tv-error error-code="$resolve.errorCode" class="flexbox-height-100"></sad-tv-error>'}},params:{errorCode:null},resolve:{errorCode:["$stateParams",function(e){return e.errorCode}]}}),e.state("ovp.blankPage",{}),e.state("ovp.guide",{data:{capability:n.GUIDE,subheader:89,bodyClass:"guide",pageTitle:"Guide"},resolve:{loadingDefer:["$q","$rootScope",function(e,t){var n=e.defer();return t.$broadcast("message:loading",n.promise),n}],rdvrService:["rdvrService",function(e){return e}],channelList:["GuideService",function(e){return e.fetchChannelList()}],favorites:function(){return ea.a.getChannels({favorite:!0,live:!0})}},url:"/guide",views:{"subMenu@":{templateUrl:"js/guide/guide-subheader.html",controller:"GuideSubheaderController as vm"},appView:{template:"<guide-scroll-container></guide-scroll-container>",controller:"GuideController as vm"}},onReactivate:["$rootScope",function(e){e.$broadcast("guide:reactivate")}],onInactivate:["$rootScope",function(e){e.$broadcast("guide:inactivate")}],onEnter:["GuideService",function(e){e.setZeroTime()}]}),e.state("ovp.playRemote",{data:{bodyClass:"video-player-page",subheader:"none"},params:{asset:null,action:null,stb:null},onEnter:["$state","$stateParams",function(e,t){if(!t.asset&&!t.tvAction&&!t.stb)return e.go("ovp.livetv")}],url:"/playRemote"}),e.state("ovp.store",{url:"/store?category&page",data:{bodyClass:"store-page",pageTitle:"VOD Store"},resolve:{isTVODEnabled:["capabilitiesService","$state","$timeout",function(e,t,n){return e.isTVODEnabled().then(function(e){return n(function(){e||t.go("ovp.ondemand")}),e})}]},views:{appView:{template:'<div><store-page page="$stateParams.page" category="$stateParams.category"></store-page></div>'}}}).state("ovp.store.viewall",{}),e.state("ovp.notAuthorized",{views:{appView:{controller:["kiteModalService",function(e){e.errorAlert("WGE-1002")}]}}}),e.state("ovp.outOfUs",{views:{appView:{controller:["kiteModalService",function(e){e.errorAlert("WLC-1006")}]}}}),e.state("buyFlowOOH",{controller:["kiteModalService","httpUtil",function(e,t){var n=l.a.getSelectorValue(re.t);e.errorAlert(n,{BUYFLOW_CUSTOMER_CARE_NUMBER:l.a.getSelectorValue(re.f)}).promise.finally(function(){t.logout()})}],controllerAs:"vm",data:{bodyClass:"no-video-page",hideMenu:!0},url:"",ignoreRedirects:!0,templateUrl:"js/buyFlow/buyFlow-ooh.html"}),e.state("ovp.disableAppDueServiceError",{views:{appView:{controller:["$window","kiteModalService",function(e,t){t.errorAlert("WGE-1001",{},{errorExtras:{cause:"twctv-ui-router disableAppDueServiceError"},buttonText:"RELOAD"}).promise.finally(function(){e.location.reload()})}]}}})}t.$inject=["$stateProvider","_","CAPABILITIES","$urlRouterProvider","$locationProvider","$urlMatcherFactoryProvider"],e.$inject=["$window","$document","$urlRouter","$state","rx","$rootScope","$q","$log","$stateParams","$transitions","capabilitiesService","httpUtil","$location","loginService","OauthService","$timeout","stringUtil","browserSupport","playerService","kiteModalService","buyflowService"],t.$inject=["$stateProvider","_","CAPABILITIES","$urlRouterProvider","$locationProvider","$urlMatcherFactoryProvider"],e.$inject=["$window","$document","$urlRouter","$state","rx","$rootScope","$q","$log","$stateParams","$transitions","capabilitiesService","httpUtil","$location","loginService","OauthService","$timeout","stringUtil","browserSupport","playerService","kiteModalService","buyflowService"],angular.module("ovpApp.twctv.router",["ui.router","ovpApp.eas","ovpApp.services.capabilitiesService","ovpApp.services.streamPlusService","ovpApp.legacy.httpUtil","ovpApp.components.alert","ovpApp.messages","ovpApp.services.bookmark","ovpApp.services.nns","ovpApp.playerControls","ovpApp.components.environmentDropdown","ovpApp.components.header","ovpApp.guide","ovpApp.components.bulkMDU.wifiError","ovpApp.legacy.stringUtil","ovpApp.specuWelcome","ovpApp.bulkMDUWelcome","ovpApp.bulkMDUEULA","ovpApp.tvsaEULA","ovpApp.components.mobile.login","ovpApp.oauth","ovpApp.components.error.sadTv","ovpApp.services.browsersupport","ovpApp.specuActivate","ovpApp.specuLoading","ovpApp.specuSuccess","ovpApp.specuFailure","ovpApp.directives.featureTourBackground","ovpApp.player.streamService","ovpApp.specUDomainSearch","underscore","moment","ovpApp.player.playerService","ovpApp.services.kiteModal","ovpApp.services.buyflowService","ovpApp.toastMessage","ovpApp.services.accessibility","ovpApp.services.utils","ovpApp.oohLoginErrorBridge","ovpApp.kiteAppRatingsFeedbackPromptBridge","ovpApp.services.chromecast","ovpApp.privateRelayErrorBridge"]).run(e).config(t)}(),function(){function e(e){var t=[];return{registerDelegateDefinition:function(e,n){t[t.length]={definition:e,idFxn:n}},createInstance:function(n){var r=t.filter(function(e){return e.idFxn(n)});if(!(r.length>1))return 0===r.length?(e.debug("couldn't find a matching datadelegate. Have you registered a definition?"),n):r[0].definition.createInstance(n);e.debug("multiple datadelegate matches! your identifier functions are too broad"),r[0].definition.createInstance(n)}}}e.$inject=["$log"],e.$inject=["$log"],angular.module("ovpApp.dataDelegate",["dataDelegate","ovpApp.messages","ovpApp.services.parentalControlsService","ovpApp.services.bookmark","ovpApp.services.dateFormat","ovpApp.product.service","ovpApp.filters.titleCase","ui.router"]).factory("delegateFactory",e)}(),function(){function e(e,n,r){var i=r.cached;return new e({queryString:"name",categories:i(function(e){return e.results.map(n.createInstance).filter(t)}),numCategories:"num_results",numResults:i(function(){return this.categories.reduce(function(e,t){return e+t.numResults},0)})})}function t(e){return angular.isDefined(e)&&null!==e}function n(e,t){t.registerDelegateDefinition(e,function(e){return"componentsearch"===e.type})}n.$inject=["componentsearchViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],n.$inject=["componentsearchViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("componentsearchViewModelDefinition",e).run(n)}(),function(){function e(e,t,n){var r=n.cached;return new e({type:"type",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",context:"context",media:r(function(e){return e.media?e.media.map(t.createInstance):e.results?e.results.map(t.createInstance):[]}),categories:r(function(e){return e.categories&&e.categories.results?e.categories.results.map(t.createInstance):[]}),name:"name",twcTvNetworkDisplayMode:"twcTvNetworkDisplayMode",uiHint:"uiHint",uri:"uri",totalResults:"total_results",imageUri:r(n.createProductImageFunction()),isEntitled:function(e){var t=Object(b.c)(e,"product_providers");return kt()(t)?Object(b.c)(e,"entitled",Object(b.c)(e,"details.entitled",!0)):n.isVODProviderEntitled(t)}})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"category_list"===e.type})}t.$inject=["categoryListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["categoryListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("categoryListViewModelDefinition",e).run(t)}(),function(){function e(e,t,n){var r={cached:function(e){var t=i++;return function(n){return n._cached||(n._cached={}),n._cached[t]=n._cached[t]||e.call(this,n),n._cached[t]}},defaultGetUri:s,promiseCached:v,getEpisodesSince:function(e,t){var n=[],r=e.seasons;r&&r.forEach(function(e){n.push.apply(n,on()(a(e,t)))});return n},getEpisodesFromSeasonSince:a,getDefaultStream:function(e){return function(e){return e.streamList&&e.streamList.find(function(e){return e.defaultStream})}(e)||function(e){return e.streamList&&e.streamList.find(function(e){return"ONLINE_ONDEMAND"==e.type})}(e)||function(e){return e.streamList&&e.streamList[0]}(e)},getStreamProps:function(e){!e||e instanceof Array||(e=[e]);return e.map(function(e){return e.streamProperties.attributes}).reduce(function(e,t){return t&&t.forEach(function(t){r.formats[t]?e.formats.indexOf(r.formats[t])<0&&e.formats.push(r.formats[t]):r.details[t]&&e.attributes.indexOf(r.details[t])<0&&e.attributes.push(r.details[t])}),e},{formats:[],attributes:[]})},createProductImageFunction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e(t),i=function(e){var t=Object(b.c)(e,["network","product_provider"]),n="",r="";if(t){var i=t.split(":");n=Object(b.c)(i,[0]),r=Object(b.c)(i,[1])}return{productId:n,providerId:r}}(t),o=i.productId,a=i.providerId;if(!r)return"";n.sourceType=n.sourceType||"colorHybrid";var s=Ap(Ap({},n),{},{imageCategory:"Poster"});return s.productId=o,s.providerId=a,"banner"===n.orientation?s=Ap(Ap(Ap({},s),n),{},{imageCategory:"Iconic"}):"landscape"===n.orientation?s=Ap(Ap(Ap({},s),n),{},{imageCategory:"Showcard"}):"hero"===n.orientation&&(s=Ap(Ap(Ap({},s),n),{},{imageCategory:"Hero"})),Fn(r,s)}}},getPersonImageUri:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.image_uri||"".concat(l.a.getSelectorValue(u.vc),"/imageserver/person/").concat(e.tmsPersonId);return t.width&&(n=o(n,"width="+t.width)),t.height&&(n=o(n,"height="+t.height)),h(n=angular.isDefined(t.default)?o(n,"default="+t.default):o(n,"default=true"))}},createNetworkImageFunction:d,networkImageFromTmsId:d(function(e){return"/imageserver/guide/".concat(e)},angular.noop),appendQueryString:o,formats:{HIGH_DEF:"HD",THREED:"3D",STANDARD_DEF:"SD"},details:{DOLBY_5_1:"5.1",STEREO:"Stereo",CLOSED_CAPTIONING:"CC",SAP:"SAP"},descriptionTypes:{_mutator:"details",long:"long_desc",short:"short_desc"},isVODProviderEntitled:function(e){return ea.a.getChannelsSync(function(t){var n=!1;t.entitled&&e&&(n=((null===t||void 0===t?void 0:t.productProviders)||[]).some(function(t){return e.includes(t)}));return n},l.a.getSelectorValue(Jo.b)).length>0},isTMSGuideIdEntitled:function(e){return ea.a.getChannelsSync(function(t){var n=t&&t.tmsGuideId?t.tmsGuideId.toString():"";return t.entitled&&e.includes(n)},l.a.getSelectorValue(Jo.b)).length>0},standardSearchParams:{title:"searchStringMatch",titleWithHighlightTags:"searchStringMatchWithHighlightTags",tmsProgramId:"tmsProgramId",tmsSeriesId:"tmsSeriesId",dsQueryId:"dsQueryId",searchResultIndex:"searchResultIndex",searchFacet:"searchFacet",availableLinear:"availableLinear",availableOnDemand:"availableOnDemand",availableOutOfHome:"availableOutOfHome",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",ratings:"allRatings",isBlocked:function(e){return e.allRatings&&e.allRatings.length>0?t.isBlockedByRating(e.allRatings):n.resolve(!1)},isBlockedByParentalControls:v(function(){return this.isBlocked},"ParentalControls:updated"),isEntitled:function(e){return!angular.isDefined(e.entitled)||e.entitled}}},i=0;return r;function o(e,t){return e?e+(e.includes("?")?"&":"?")+t:""}function a(e,t){return e.episodes&&"Other"!==e.name?e.episodes.filter(function(e){return!!e.originalAirDate&&Date.parse(e.originalAirDate)>t}):[]}function s(e){return e.image_uri||e.imageUrl}function c(e){return e.network&&e.network.networkImageQueryParams}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e(n);if(!i)return"";var a=t(n);return a&&(i+=-1===i.indexOf("?")?"?".concat(a):"&".concat(a)),i=o(i=o(i,"sourceType=colorhybrid"),"apikey="+l.a.getSelectorValue(u.od)),r.width&&(i=o(i,"width="+r.width)),r.height&&(i=o(i,"height="+r.height)),h(i=angular.isDefined(r.default)?o(i,"default="+r.default):o(i,"default=true"))}}}function p(e){return e.network&&e.network.image_uri}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"==e.charAt(0)?l.a.getSelectorValue(u.vc)+e:e}function v(t,n){var r=i++,o=null,a=0;return n&&!o&&(o=e.$on(n,function(){a++})),function(e){e._cached||(e._cached={}),e._cached[r]||(e._cached[r]={cacheVersion:-1,promise:null,val:void 0});var n=e._cached[r];return(null===n.promise&&void 0===n.val||n.cacheVersion<a)&&(n.promise=t.call(this,e),n.cacheVersion=a,n.promise&&n.promise.then?n.promise.then(function(e){return n.val=e,n.val}):(n.val=n.promise,n.promise={})),n.val}}}e.$inject=["$rootScope","parentalControlsService","$q"],e.$inject=["$rootScope","parentalControlsService","$q"],angular.module("ovpApp.dataDelegate").factory("delegateUtils",e)}(),function(){function e(e,t,n,r,i){var o=t.cached;return new e({resultDisplay:function(){return"Series"},title:"title",tmsSeriesId:"tmsSeriesId",tmsGuideServiceIds:"tmsGuideServiceIds",dsQueryId:"dsQueryId",searchResultIndex:"searchResultIndex",searchFacet:"searchFacet",isSeries:function(){return!0},isEpisode:function(){return!1},actions:"actionGroups.defaultGroup.actionObjects",cdvrChannelPickerTmsGuideIds:"cdvrChannelPickerTmsGuideIds",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",vodAvailableOutOfHome:"vodAvailableOutOfHome",tvodAvailableOutOfHome:"tvodAvailableOutOfHome",episodesAvailable:o(function(e){return e.seasons.map(function(e){return e.episodes.reduce(function(e,t){return t.isPreview?e:e+1},0)}).reduce(function(e,t){return e+t},0)}),newEpisodes:function(e){var n=864e5*l.a.getSelectorValue(u.Xc);return t.getEpisodesSince(e,Date.now()-n)},allRatings:"details.allRatings",rating:"details.allRatings[0]",isBlocked:function(e){return n.isBlocked(e.details.allRatings,e.ipTmsGuideServiceIds,e.details.allIpVPPs).then(function(t){return e.blockedReason=t.reason,t.isBlocked})},isBlockedByParentalControls:t.promiseCached(function(){return this.isBlocked},"ParentalControls:updated"),context:"customerInfoContext",isBlockedReason:"blockedReason",isEntitled:function(e){var n=Object(b.c)(e,["details","allVPPs"]),r=Object(b.c)(e,["tmsGuideServiceIds"],[]).map(function(e){return e.toString()});if(kt()(n)&&kt()(r))return Object(b.c)(e,["details","entitled"],!0);var i=t.isVODProviderEntitled(n),o=t.isTMSGuideIdEntitled(r);return i||o},isLinearEntitledIp:"details.linearEntitledIp",isLinearEntitledQam:"details.linearEntitledQam",isTvodEntitled:"details.tvodEntitled",isOutOfWindow:"vodOutOfWindow",description:t.descriptionTypes,crew:o(function(e){var t=this;return e.details.crew?(e.details.crew.forEach(function(e){return e.parentAsset=t}),e.details.crew.map(function(e){return i.createInstance(e)})):[]}),actors:o(function(){return this.crew.filter(function(e){return"actor"==e.role})}),actorsString:o(function(){return this.actors.map(function(e){return e.name}).slice(0,3).join(", ")}),actorsAndDirectors:o(function(){return this.crew.filter(function(e){return"actor"==e.role||"director"==e.role})}),directors:o(function(){return this.crew.filter(function(e){return"director"==e.role})}),writers:o(function(){return this.crew.filter(function(e){return"writer"==e.role})}),watchListProviderAssetId:"details.latest_episode.details.watchListProviderAssetID",providerAssetIds:o(function(e){return e.details&&e.details.latest_episode&&e.details.latest_episode.providerAssetIds||[]}),tmsProgramIds:o(function(e){return e.details&&e.details.latest_episode&&e.details.latest_episode.tmsProgramIds||[]}),tmsProgramId:o(function(){return this.tmsProgramIds[0]}),network:"network",networkImage:o(t.createNetworkImageFunction()),streamProps:o(function(e){return e.details&&e.details.latest_episode&&e.details.latest_episode.streamList.map(function(e){return e.streamProperties.attributes}).filter(function(e){return!!e}).reduce(function(e,n){return n.forEach(function(n){t.formats[n]?e.formats.indexOf(t.formats[n])<0&&e.formats.push(t.formats[n]):t.details[n]&&e.attributes.indexOf(t.details[n])<0&&e.attributes.push(t.details[n])}),e},{formats:[],attributes:[]})}),totalEpisodes:"details.totalEpisodes",isSeriesRecording:"details.seriesRecording",imageUri:o(t.createProductImageFunction()),latestEpisode:o(function(e){return e.details&&e.details.latest_episode&&r.createInstance(e.details.latest_episode)}),seasons:o(function(e){var t=this;return e.seasons?e.seasons.map(function(e){return e.episodes=e.episodes.map(function(e){var n=r.createInstance(e);return n.parentSeries=t,n}),e}):[]}),commonSenseMedia:"details.commonSenseMediaV2.rating",metaCritic:"details.metacritic.rating",rottenTomatoes:"details.rottenTomatoes",clickRoute:o(function(e){return["product.series",{tmsSeriesId:e.tmsSeriesId,uri:e.uri}]}),genres:o(function(e){return e&&e.details?e.details.genres?e.details.genres.map(function(e){return e.name}):e.details.latest_episode&&e.details.latest_episode.details.genres?e.details.latest_episode.details.genres.map(function(e){return e.name}):void 0:[]}),genreString:function(){return this.genres?this.genres.join(", "):""},sportsCategory:"details.sportsResultsCategory",isLive:"details.isLive",isOnNow:"details.isOnNow",isReplay:"details.isReplay",scheduledStartTimeSec:"details.schedStartTimeSec",scheduledEndTimeSec:"details.schedEndTimeSec",staleDvrCache:"details.staleDvrCache",price:null,rentalExpiration:null,cdvrSeriesRecording:"cdvrSeriesRecording",watchNext:"watchNext",enhancedNetworkImage:o(t.createNetworkImageFunction(function(e){return Xe()(["enhancedMetaData","networkImageUri"],e)?l.a.getSelectorValue(u.vc)+"/"+Object(b.c)(e,"enhancedMetaData.networkImageUri"):null})),enhancedLogoImage:o(t.createProductImageFunction(function(e){return Xe()(["enhancedMetaData","logoImageUri"],e)?"/"+Object(b.c)(e,"enhancedMetaData.logoImageUri"):null})),seriesTrailer:"enhancedMetaData.trailerEvent"})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"episode_list"===e.type})}t.$inject=["episodeListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateUtils","parentalControlsService","delegateFactory","personViewModelDefinition"],t.$inject=["episodeListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateUtils","parentalControlsService","delegateFactory","personViewModelDefinition"],angular.module("ovpApp.dataDelegate").factory("episodeListViewModelDefinition",e).run(t)}(),function(){function e(e,t,n,r,i,o,a,s,c,l,u){var d=r.cached;return new e({_mutator:function(e){return e&&e.media&&e.media.results&&e.media.results[0]||e},resultDisplay:function(){return this.isEpisode?"Episode":"Movie"},title:"title",seriesTitle:d(function(e){return e.details&&e.details.programType?"Series"===e.details.programType?e.seriesTitle:void 0:e.seriesTitle}),tmsProgramIds:"tmsProgramIds",tmsSeriesId:"tmsSeriesId",dsQueryId:"dsQueryId",searchResultIndex:"searchResultIndex",searchFacet:"searchFacet",providerAssetIdForVodTrailer:function(e){var t=Object(b.c)(e,"actionGroups.defaultGroup.actionObjects",[]),n=Object(b.c)(t.find(function(e){return["watchTrailerIP"].includes(e.actionType)}),"streamIndex",-1);return-1!==n?e.streamList[n].streamProperties.providerAssetID:null},providerAssetIdForVod:function(e){var t=Object(b.c)(e,"actionGroups.defaultGroup.actionObjects",[]),n=Object(b.c)(t.find(function(e){return["watchOnDemandIP","resumeOnDemandIP"].includes(e.actionType)}),"streamIndex",-1);return-1!==n?e.streamList[n].streamProperties.providerAssetID:null},providerAssetIds:"providerAssetIds",isSeries:function(){return!1},isEpisode:function(e){return e.details&&e.details.programType&&"Series"==e.details.programType},actions:"actionGroups.defaultGroup.actionObjects",hasOtherWaysToWatch:function(){return this.hasWatchHereActions||this.hasWatchOnTvActions},hasWatchOnTvActions:function(){return this.watchOnTvActions.length>0},watchOnTvActions:d(function(e){var t=(e.actionGroups.othersGroup||[]).find(function(e){return"Watch On TV"===e.title});return t&&t.actionObjects||[]}),hasWatchHereActions:function(){return this.watchHereActions.length>0},watchHereActions:d(function(e){var t=(e.actionGroups.othersGroup||[]).find(function(e){return"Watch Here"===e.title});return t&&t.actionObjects||[]}),otherWaysToWatch:"actionGroups.othersGroup",allRatings:"details.allRatings",rating:"details.allRatings[0]",isBlocked:function(e){return e.details.allRatings&&e.details.allRatings.length>0?i.isBlocked(e.details.allRatings,e.ipTmsGuideServiceIds,e.details.allIpVPPs).then(function(t){return e.blockedReason=t.reason,t.isBlocked}):n.resolve(!1)},isBlockedByParentalControls:r.promiseCached(function(){return this.isBlocked},"ParentalControls:updated"),isBlockedReason:"blockedReason",longDescription:"details.long_desc",shortDescription:"details.short_desc",year:"details.year",crew:d(function(e){var t=this;return e.details.crew?(e.details.crew.forEach(function(e){return e.parentAsset=t}),e.details.crew.map(function(e){return u.createInstance(e)})):[]}),actors:d(function(){return this.crew.filter(function(e){return"actor"==e.role})}),actorsString:d(function(){return this.actors.map(function(e){return e.name}).slice(0,3).join(", ")}),actorsAndDirectors:d(function(){return this.crew.filter(function(e){return"actor"==e.role||"director"==e.role})}),directors:d(function(){return this.crew.filter(function(e){return"director"==e.role})}),writers:d(function(){return this.crew.filter(function(e){return"writer"==e.role})}),watchListProviderAssetId:"details.watchListProviderAssetID",streamList:d(function(e){return e.streamList?e.streamList.map(function(e){return c.createInstance(e)}):[]}),network:"network",networkImage:d(r.createNetworkImageFunction()),nielsenReporting:d(function(e){var t,n;return(null===(t=e.defaultStream)||void 0===t?void 0:null===(n=t.streamProperties)||void 0===n?void 0:n.nielsenReporting)||{metrics:[],locations:[]}}),availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",vodAvailableOutOfHome:"vodAvailableOutOfHome",tvodAvailableOutOfHome:"tvodAvailableOutOfHome",imageUri:d(r.createProductImageFunction()),defaultStream:d(function(){return r.getDefaultStream(this)}),runtimeDisplay:d(function(){var e=this.defaultStream;return e&&o.runtime(e.streamProperties.runtimeInSeconds)}),genres:d(function(e){return e&&e.details&&e.details.genres?e.details.genres.map(function(e){return e.name}):[]}),genreString:function(){return this.genres.join(", ")},streamProps:d(function(){return r.getStreamProps(this.streamList)}),programType:d(function(e){return e.details.programType}),contentClass:d(function(e){var t,n=this.defaultStream,r=e.details.programType;if(n)return t=n.streamProperties,"LINEAR"===n.type?"linear":"ONLINE_ONDEMAND"===n.type||"ONDEMAND"===n.type?"Preview"===r?"extra":t.ondemandStreamType:"CDVR"===n.type?"cdvr":t.ondemandStreamType}),expires:d(function(){var e=this.defaultStream;if(e&&e.streamProperties&&e.streamProperties.endTime)return o.relative(parseInt(e.streamProperties.endTime))}),commonSenseMedia:"details.commonSenseMediaV2.rating",rottenTomatoes:"details.rottenTomatoes",programMetadata:"details.programMetadata",metaCritic:"details.metacritic.rating",clickRoute:d(function(e){return e.details&&e.details.sportsResultsCategory&&e.details.isLive&&(e.details.isOnNow||e.details.schedStartTimeSec<Date.now()/1e3&&e.details.schedEndTimeSec>Date.now()/1e3)?["ovp.livetv",{tmsid:e.details&&e.details.onNowGuideServiceId||e.tmsGuideServiceIds[0]}]:this.isEpisode&&e.tmsSeriesId?["product.series",{tmsSeriesId:e.tmsSeriesId}]:e.tmsProgramIds&&e.uri?["product.event",{tmsId:e.tmsProgramIds[0],uri:e.uri}]:void 0}),bookmark:function(e){var n,r=this.defaultStream;return r&&r.streamProperties&&(n=r.streamProperties.bookmark),!n&&e.tmsProgramIds&&(n=t.getBookmarkByTmsProgramId(e.tmsProgramIds[0])),n&&(n.playMarkerSeconds=Math.min(n.playMarkerSeconds,n.runtimeSeconds)),n},playedPct:function(){if(this.bookmark)return this.bookmark.playMarkerSeconds/this.bookmark.runtimeSeconds*100},sportsCategory:"details.sportsResultsCategory",isLive:"details.isLive",isOnNow:function(e){return e.details.isLive||e.details.isOnNow||this.streamList.some(function(e){return e.isLinearStream&&e.isOnNow})},isReplay:"details.isReplay",isPreview:function(e){return e.details&&"Preview"==e.details.programType},scheduledStartTimeSec:"details.schedStartTimeSec",scheduledEndTimeSec:"details.schedEndTimeSec",isEntitled:function(e){var t=Object(b.c)(e,"details.allVPPs"),n=Object(b.c)(e,"tmsGuideServiceIds",[]).map(function(e){return e.toString()});if(this.tvodStream)return!0;if(kt()(t)&&kt()(n))return Object(b.c)(e,"details.entitled",!0);var i=r.isVODProviderEntitled(t),o=r.isTMSGuideIdEntitled(n);return i||o},isLinearEntitledIp:"details.linearEntitledIp",isLinearEntitledQam:"details.linearEntitledQam",isTvodEntitled:"details.tvodEntitled",isOutOfWindow:"vodOutOfWindow",viewStatus:function(){return this.isOnNow?"On Now":this.playedPct>0?this.playedPct:this.cdvrRecordedStream?"DVR":this.dvrStream?"DVR":this.entitledOnDemandStream?"On Demand":this.nextLinearStream?o.relative.expanded(parseInt(this.nextLinearStream.streamProperties.startTime)):"----"},cdvrStartTime:function(){var e=this.streamList.find(function(e){return!!e.streamProperties.cdvrRecording&&(e.streamProperties.cdvrRecording.cdvrState===l.SCHEDULED||e.streamProperties.cdvrRecording.cdvrState===l.IN_PROGRESS)});if(e)return e.streamProperties.startTime},cdvrRecordedStream:function(){return this.streamList.find(function(e){return"CDVR"===e.type})},cdvrRecordingGuideId:"details.latest_episode.streamList[0].streamProperties.cdvrRecording.tmsGuideId",cdvrHasNotCompleted:function(){var e=!1,t=this.streamList.some(function(t){var n=t.streamProperties&&t.streamProperties.cdvrRecording;return n&&(e=!0),n&&t.cdvrNotCompleted});return e&&t},cdvrRecording:d(function(){if(this.defaultStream){var e=this.defaultStream;if(e&&e.streamProperties&&e.streamProperties.cdvrRecording)return e.streamProperties.cdvrRecording}}),dvrStream:function(){return this.streamList.find(function(e){return"DVR"===e.type})},entitledOnDemandStream:function(){return this.streamList.find(function(e){return e.isOnDemandStream&&e.isEntitled})},tvodStream:function(){return this.streamList.find(function(e){return"ONLINE_ONDEMAND"===e.type&&e.streamProperties.price>0})},entitledTvodStream:function(){return this.streamList.find(function(e){return e.streamProperties.tvodEntitlement})},freeODStream:function(){return this.streamList.find(function(e){return"ONLINE_ONDEMAND"===e.type&&0===Math.round(e.streamProperties.price)})},linearStream:function(){return this.streamList.find(function(e){return"LINEAR"===e.type})},nextLinearStream:function(){var e=Date.now();return this.streamList.filter(function(e){return"LINEAR"==e.type}).filter(function(t){return parseInt(t.streamProperties.startTime)>e}).sort(function(e,t){return parseInt(e.streamProperties.startTime)-parseInt(t.streamProperties.startTime)})[0]},context:"customerInfoContext",seasonNumber:"details.season_number",episodeNumber:"details.episode_number",originalAirDate:"details.original_air_date",isBlockedByRating:function(){throw"Depreciated, isBlockedByRating should no longer be used"},otherWaysAction:function(){return!!this.actions&&this.actions.find(function(e){return"otherWaysToWatch"===e.actionType})},staleDvrCache:"details.staleDvrCache",price:r.promiseCached(function(e){var t,n=e&&e.actionGroups&&e.actionGroups.defaultGroup&&e.actionGroups.defaultGroup.actionObjects&&e.actionGroups.defaultGroup.actionObjects.find(function(e){return"rentOnDemand"===e.actionType});return n?t=this.streamList[n.streamIndex].streamProperties.price:this.tvodStream?t=this.tvodStream.streamProperties.price:this.freeODStream&&(t=s.getMessageForCode("MSG-9069")),t}),rentalExpiration:d(function(){if(this.streamList){var e=this.entitledTvodStream;if(e){var t=e.streamProperties.tvodEntitlement,n=new Date(1e3*t.rentalEndTimeUtcSeconds);return"Expires "+o.absolute.tiny.atTime(n)}}return null}),rentalExpirationDate:function(){if(this.streamList&&this.entitledTvodStream){var e=this.entitledTvodStream.streamProperties.tvodEntitlement;if(e.rentalEndTimeUtcSeconds)return 1e3*e.rentalEndTimeUtcSeconds}return null},playable:function(){return!(null===this.rentalExpiration&&!this.isEntitled)},playAction:function(e){var t=this;return function(){t.playable&&a.go("ovp.ondemand.playProduct",{productID:e.tmsProgramIds[0],rented:!!t.rentalExpiration})}},isComplexOffering:d(function(){return this.streamList.filter(function(e){return"ONLINE_ONDEMAND"===e.type&&e.streamProperties.price>0&&!e.streamProperties.tvodEntitlement}).length>1}),episode:"details.episode_number",season:"details.season_number",watchNext:"watchNext"})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"event"===(e.type||e.media&&e.media.results&&e.media.results[0]&&e.media.results[0].type)})}t.$inject=["eventViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","BookmarkService","$q","delegateUtils","parentalControlsService","dateFormat","$state","messages","streamViewModelDefinition","CDVR_STATE","personViewModelDefinition"],t.$inject=["eventViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","BookmarkService","$q","delegateUtils","parentalControlsService","dateFormat","$state","messages","streamViewModelDefinition","CDVR_STATE","personViewModelDefinition"],angular.module("ovpApp.dataDelegate").factory("eventViewModelDefinition",e).run(t)}(),function(){function e(e,t,n){var r=n.cached;return new e({type:"type",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",context:"context",media:r(function(e){var n=[];return e.media&&e.media.results?n=e.media.results:e.media?n=e.media:e.results&&(n=e.results),n.map(t.createInstance)}),name:"name",twcTvNetworkDisplayMode:"twcTvNetworkDisplayMode",uiHint:"uiHint",uri:"uri",totalResults:function(e){return e.total_results||this.media.length},imageUri:r(n.createProductImageFunction()),isEntitled:function(e){var t=Object(b.c)(e,"product_providers");return kt()(t)?Object(b.c)(e,"entitled",Object(b.c)(e,"details.entitled",!0)):n.isVODProviderEntitled(t)},dynamicUris:"dynamicUris",skeletonShelf:"skeletonShelf"})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"media_list"===e.type})}t.$inject=["mediaListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["mediaListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("mediaListViewModelDefinition",e).run(t)}(),function(){function e(e,t,n){return new e({type:"type",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",context:"context",networks:(0,n.cached)(function(e){return e.media?e.media.map(t.createInstance):e.results?e.results.map(t.createInstance):[]}),name:"name",twcTvNetworkDisplayMode:"twcTvNetworkDisplayMode",uiHint:"uiHint",uri:"uri"})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"network_list"===e.type})}t.$inject=["networkListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["networkListViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("networkListViewModelDefinition",e).run(t)}();n("iPfe");!function(){function e(e,t){var n=t.cached;return new e({name:"name",role:"role",roleText:n(function(e){return e.character?"as ".concat(e.character):"actor"==e.role?e.actorType:e.role}),clickRoute:n(function(e){var t;return this.parentAsset&&this.parentAsset.tmsProgramIds?t=this.parentAsset.tmsProgramIds[0]:this.parentAsset&&this.parentAsset.latestEpisode&&(t=this.parentAsset.latestEpisode.tmsProgramIds[0]),["search.person",{query:e.name,tmsPersonId:e.tmsPersonId,tmsId:t,role:e.role}]}),imageUri:n(t.getPersonImageUri),parentAsset:"parentAsset"})}e.$inject=["DataDelegate","delegateUtils"],e.$inject=["DataDelegate","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("personViewModelDefinition",e)}(),function(){function e(e,t,n){var r=n.cached;return new e({type:"type",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",context:"context",categories:r(function(e){return e.results?e.results.map(t.createInstance):[]}),name:"name",twcTvNetworkDisplayMode:"twcTvNetworkDisplayMode",uiHint:"uiHint",uri:"uri",imageUri:r(n.createProductImageFunction()),isEntitled:function(e){var t=Object(b.c)(e,"product_providers");return kt()(t)?Object(b.c)(e,"entitled",Object(b.c)(e,"details.entitled",!0)):n.isVODProviderEntitled(t)},dynamicUris:"dynamicUris",skeletonShelf:"skeletonShelf"})}function t(e,t){t.registerDelegateDefinition(e,function(e){return"pods_with_assets"===e.type})}t.$inject=["podsWithAssetsDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["podsWithAssetsDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("podsWithAssetsDefinition",e).run(t)}();n("Gu/5");!function(){function e(e,t,n,r,i){var o=t.cached;return new e({title:"programMetadata.title",episodeTitle:"programMetadata.episodeTitle",tmsProgramIds:function(){return[this.tmsProgramId]},tmsProgramId:function(e){return e.tmsProgramId||e.programMetadata&&e.programMetadata.tmsProgramId},tmsSeriesId:"programMetadata.tmsSeriesId",isEpisode:function(){return!!this.tmsSeriesId},isMovie:function(){return this.tmsProgramIds[0]&&"MV"===this.tmsProgramIds[0].substring(0,2)},dsQueryId:"dsQueryId",searchResultIndex:"searchResultIndex",searchFacet:"searchFacet",recordSeries:"recordSeries",isNew:"isNew",conflicted:"conflicted",startTime:"startUnixTimestampSeconds",settings:"settings",displayChannel:"displayChannel",mystroServiceId:"mystroServiceId",episodeNumber:"programMetadata.episodeNumber",seasonNumber:"programMetadata.seasonNumber",longDescription:"programMetadata.shortDescription",shortDescription:"programMetadata.longDescription",crew:"programMetadata.actors",actors:"programMetadata.actors",actorsAndDirectors:"programMetadata.actors",directors:function(){return[]},writers:function(){return[]},genres:function(e){return e&&e.programMetadata&&e.programMetadata.genres||[]},genreString:function(){return this.genres.join(", ")},allRatings:function(){return[this.rating]},rating:"programMetadata.rating",isBlocked:function(e){return this.allRatings&&this.allRatings.length>0?i.isBlocked(this.allRatings).then(function(t){return e.blockedReason=t.reason,t.isBlocked}):r.resolve(!1)},isBlockedByParentalControls:t.promiseCached(function(){return this.isBlocked},"ParentalControls:updated"),isBlockedReason:"blockedReason",imageUri:o(t.createProductImageFunction(function(e){return e.programMetadata&&e.programMetadata.imageUrl})),releaseInformation:o(function(e){return this.isMovie?e.programMetadata.releaseYear:this.seasonNumber?"Season ".concat(this.seasonNumber," Episode ").concat(this.episodeNumber):void 0}),releaseShortInformation:o(function(e){return this.isMovie?e.programMetadata.releaseYear:this.seasonNumber?"S".concat(this.seasonNumber," Ep").concat(this.episodeNumber):void 0}),clickRoute:o(function(){return this.isEpisode?["product.series",{tmsSeriesId:this.tmsSeriesId,serviceId:this.mystroServiceId,airtime:this.startTime,tmsProgramId:this.tmsProgramIds[0]}]:["product.event",{tmsId:this.tmsProgramIds[0],serviceId:this.mystroServiceId,airtime:this.startTime}]}),bookmark:function(){return n.getBookmarkByTmsProgramId(this.tmsProgramIds[0])},playedPct:function(){if(this.bookmark)return this.bookmark.playMarkerSeconds/this.bookmark.runtimeSeconds*100}})}e.$inject=["DataDelegate","delegateUtils","BookmarkService","$q","parentalControlsService"],e.$inject=["DataDelegate","delegateUtils","BookmarkService","$q","parentalControlsService"],angular.module("ovpApp.dataDelegate").factory("recordingViewModelDefinition",e)}(),function(){function e(e,t,n){var r=n.cached;return new e(angular.extend({},n.standardSearchParams,{name:r(function(e){if("Person"==e.resultDisplay)return e.searchStringMatch}),resultDisplay:"resultDisplay",clickRoute:r(function(e){if(["Person","Team","Sports"].includes(e.resultDisplay))return["search.".concat(e.resultDisplay.toLowerCase()),{query:e.searchStringMatch,uri:e.uri}]}),imageUri:r(function(e){return"Person"!==e.resultDisplay?n.createProductImageFunction()(e):n.getPersonImageUri(e)})}))}function t(e,t){t.registerDelegateDefinition(e,function(e){return"results"===e.resultType})}t.$inject=["resultsViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],t.$inject=["resultsViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils"],angular.module("ovpApp.dataDelegate").factory("resultsViewModelDefinition",e).run(t)}(),function(){function e(e,n,r,i){var o=r.cached;return new e({title:o(function(e){return"CHANNEL"===e.title&&(e.title="networks"),i(e.title)}),dsQueryId:o(function(e){return e.dsQueryId}),results:o(function(e){return e.results.map(n.createInstance).filter(t)}),numResults:"num_results"})}function t(e){return angular.isDefined(e)&&null!==e}function n(e,t){t.registerDelegateDefinition(e,function(e){return"searchgroup"===e.type})}n.$inject=["searchgroupViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","titleCaseFilter"],n.$inject=["searchgroupViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","titleCaseFilter"],angular.module("ovpApp.dataDelegate").factory("searchgroupViewModelDefinition",e).run(n)}();n("8dxS");!function(){function e(e,t,n){var r=t.cached;return new e({cdvrState:r(function(){if(this.cdvrRecording)return this.cdvrRecording.cdvrState}),isCDVRRecorded:r(function(){return this.cdvrState===n.IN_PROGRESS||this.cdvrState===n.COMPLETED}),isOnDemandStream:function(){return"ONLINE_ONDEMAND"===this.type},isLinearStream:function(){return"LINEAR"===this.type},isOnNow:function(){var e=Date.now();return this.streamProperties.startTime<=e&&this.streamProperties.endTime>e},duration:r(function(){return this.isOnDemandStream?this.streamProperties.runtimeInSeconds:this.isCDVRRecorded?this.cdvrRecording.stopTimeSec-this.cdvrRecording.startTimeSec:void 0}),isEntitled:r(function(){return!!this.isCDVRRecorded||(!!this.streamProperties.tvodEntitlement||this.streamProperties.entitled)}),cdvrNotCompleted:r(function(){var e=this.streamProperties&&this.streamProperties.cdvrRecording;return!!e&&e.cdvrState!==n.COMPLETED}),isTvodStream:function(){return this.isOnDemandStream&&this.streamProperties.price>0},bookmark:"streamProperties.bookmark",cdvrRecording:"streamProperties.cdvrRecording",streamProperties:"streamProperties",index:"index",defaultStream:"defaultStream",type:"type",network:"network",networkImage:r(t.createNetworkImageFunction()),streamProps:r(function(){return t.getStreamProps([this])})})}e.$inject=["DataDelegate","delegateUtils","CDVR_STATE"],e.$inject=["DataDelegate","delegateUtils","CDVR_STATE"],angular.module("ovpApp.dataDelegate").factory("streamViewModelDefinition",e).constant("CDVR_STATE",{SCHEDULED:"scheduled",IN_PROGRESS:"inProgress",COMPLETED:"completed"})}(),function(){function e(e,t,n){var r=t.cached;return new e(angular.extend({},t.standardSearchParams,{resultDisplay:"resultDisplay",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",isBlocked:function(e){return n.resolve(e.parentallyBlockedByRating||e.parentallyBlockedByChannel)},callsign:"network.callsign",networkName:"network.name",name:"network.name",channelNumber:"channelNumber",tmsId:"tmsGuideServiceId",imageUri:r(t.createNetworkImageFunction(function(e){return l.a.getSelectorValue(u.vc)+"/"+e.network.image_uri})),customerInfoContext:"customerInfoContext",clickRoute:r(function(e){return["ovp.livetv",{tmsid:e.tmsGuideServiceId}]})}))}function t(e,t){t.registerDelegateDefinition(e,function(e){return"service"===e.type})}t.$inject=["serviceNetworkViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateUtils","$q"],t.$inject=["serviceNetworkViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateUtils","$q"],angular.module("ovpApp.dataDelegate").factory("serviceNetworkViewModelDefinition",e).run(t)}();var Pp=n("0pXk"),Ip=n.n(Pp);!function(){function e(e,t,n,r,i,o,a,s,c,u,d,p,h,v,f){var m=this,g=[[0,0],[0,1],[1,0],[1,1]],b=u("date");function S(){m.focusZone=null,m.focusChannel=null,m.focusShow=null,m.focusTime=null}function w(){!function(){$();var e=m.channels,t=Math.ceil(e.length/m.channelsPerZone),n=Math.ceil(m.displayHours/m.hoursPerZone)+1;m.zoneData=[];for(var r=0,o=0,a=0;a<t;a++){for(var s={zoneIndex:a,timeZones:[]},c=[],l=r;l<m.channels.length&&c.length<m.channelsPerZone;){var u=m.channels[l];i.filterChannel(u)?(c.push(u),u.globalIndex=o,u.zoneIndex=a,o++):(u.globalIndex=null,u.zoneIndex=null),l++}r=l,s.zoneChannels=c;for(var d=0;d<n;d++){var p=d*m.hoursPerZone;s.timeZones.push({startTime:p,startSecondsOffset:3600*p,endTime:p+m.hoursPerZone,endSecondsOffset:3600*(p+m.hoursPerZone),timeZoneIndex:d})}m.zoneData.push(s)}m.zoneData}();var t=m.focusTime;S(),m.focusTime=t,e.$broadcast("guide:updateZones")}function k(){d.isRdvrEnabled().then(function(t){m.recordings=[],t&&h.getCurrentStb().then(function(t){if(!t.simpleRecordingsOnly){var n=h.currentStbSource.skip(1);a.getScheduledRecordings(t).takeUntil(n).subscribe(function(t){!function(e){var t=e.data,n=e.isComplete;e.error?m.rdvrDefer&&(m.rdvrDefer.resolve(),m.rdvrDefer=void 0):0!==t.length||n?n&&m.rdvrDefer&&(m.rdvrDefer.resolve(),m.rdvrDefer=void 0):(m.rdvrDefer&&m.rdvrDefer.reject(),m.rdvrDefer=o.defer(),m.rdvrPromise=m.rdvrDefer.promise)}(t),function(t){var n=t.data,r=t.isComplete;m.recordings=n,0!==n.length||r?(m.recordings.forEach(function(e){m.channels.filter(function(t){return t.mystroServiceId===e.mystroServiceId}).forEach(function(t){t.recordings||(t.recordings={}),t.recordings[e.tmsProgramId]=e})}),e.$broadcast("guide:updateRecordings")):(m.channels.forEach(function(e){return e.recordings={}}),e.$broadcast("guide:clearRecordings"))}(t)})}})})}function C(){d.isCdvrEnabled().then(function(t){t&&f.getAllRecordings().then(function(t){!function(t){e.$broadcast("guide:clearRecordings"),m.recordings=t,m.recordings.forEach(function(e){m.channels.filter(function(t){var n,r,i;return t.tmsGuideId===(null===(n=e.cdvrRecording)||void 0===n?void 0:n.tmsGuideId)||(null===(r=e.latestEpisode)||void 0===r?void 0:null===(i=r.cdvrRecording)||void 0===i?void 0:i.tmsGuideId)}).forEach(function(t){var n;t.recordings||(t.recordings={}),e.cdvrRecording?t.recordings[e.cdvrRecording.tmsProgramId]=e.cdvrRecording:(null===(n=e.latestEpisode)||void 0===n?void 0:n.cdvrRecording)&&(t.recordings[e.latestEpisode.cdvrRecording.tmsProgramId]=e.latestEpisode.cdvrRecording)})}),e.$broadcast("guide:updateRecordings")}(t)})})}function $(){var e=Ip()(function(e){return e.tmsGuideId},ea.a.getChannelsSync({live:!0},l.a.getSelectorValue(Jo.b)));m.channels.forEach(function(t){var n=e[t.tmsGuideId][0];n&&(t.entitled=n.entitled,t.favorite=n.favorite)}),d.showEntitledOnly()&&(m.channels=m.channels.filter(function(e){return e.entitled}))}function T(e,o){if(o&&(m.lastFetchedZones=o),m.zoneData.length>0){var a=function(e){var t=e.reduce(function(e,t){var n=t[0],r=t[1];if(m.zoneData[r]){var i=m.zoneData[r].timeZones[n];e.channels=e.channels.concat(m.zoneData[r].zoneChannels),(null===e.startTime||i.startTime<e.startTime)&&(e.startTime=i.startTime),(null===e.endTime||i.endTime>e.endTime)&&(e.endTime=i.endTime)}return e},{channels:[],startTime:null,endTime:null});return t.channels=t.channels.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),t}(o);if(a.channels.length>0){var s=i.fetchChannels(a.channels,a.startTime,a.endTime);return s.then(function(e){return p&&p.promise.$$state.pending&&(n.$broadcast("pageChangeComplete",t.current),p.resolve()),m.channels.forEach(function(e){e.content&&e.content.forEach(function(t){e.recordings&&e.recordings[t.tmsProgramId]&&(t.recording=e.recordings[t.tmsProgramId])})}),e},function(e){p&&p.promise.$$state.pending&&p.resolve(),r.warn("Error fetching channel data",e)}),m.fetchPromise=s,m.fetchPromise}}else g=g.concat(o)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=null;if(m.focusZone=e,m.focusChannel=t,t&&!e&&(m.focusZone=m.zoneData[t.zoneIndex]),m.focusChannel&&m.focusChannel.focusIn)if(n&&null!==n)m.focusShow=n,a=m.focusChannel.focusIn(null,n);else{var s=i||m.focusTime;a=m.focusChannel.focusIn(s,null)}else r.error("Channel does not have the focusIn function set",m.focusChannel);a&&a.then(function(e){e&&(m.focusShow=e,o&&(e.startTimeOffset>=0?m.focusTime=e.startTimeOffset:m.focusTime=0))},function(e){r.error("Unable to set focus, dom element is missing",e);var t=m.focusZone.channels.indexOf(m.focusChannel);if(t>=0&&m.focusZone.channels[t+1])return O(m.focusZone,m.focusZone.channels[t+1],null,i,o);m.focusZone=null,m.focusChannel=null,A()})}function E(e,t){if(!(m.focusChannel&&m.focusZone&&m.focusShow))return A();var n,i,o=m.focusTime||0;if("up"==t||"down"==t?(n=m.focusZone.zoneChannels.indexOf(m.focusChannel),i=m.focusZone.zoneIndex,"down"==t?m.focusZone.zoneChannels[n+1]?n++:m.zoneData[i+1]&&m.zoneData[i+1].zoneChannels.length>0&&(n=0,i++):m.focusZone.zoneChannels[n-1]?n--:m.zoneData[i-1]&&m.zoneData[i-1].zoneChannels.length>0&&(i--,n=m.zoneData[i].zoneChannels.length-1)):(n=m.focusZone.zoneChannels.indexOf(m.focusChannel),i=m.focusZone.zoneIndex,o="right"===t?m.focusShow.startTimeOffset+60*m.focusShow.durationMinutes+300:m.focusShow.startTimeOffset-300),m.zoneData[i]&&m.zoneData[i].zoneChannels[n]){var a=m.zoneData[i];O(a,a.zoneChannels[n],null,o,"right"===t||"left"===t),e.preventDefault()}else r.warn("Zone or Channel index out of range",m.zoneData[i],m.zoneData[i].zoneChannels[n])}function A(){if(m.focusZone&&m.focusChannel)O(m.focusZone,m.focusChannel,m.focusShow);else{var t=e.getPos(),n=t.channelIndex,r=t.hour,i=t.scroll,o=m.channels.find(function(e){return e.globalIndex===n}),a=3600*r;O(m.zoneData[o.zoneIndex],o,null,a),e.setPos(i)}}m.displayHours=336,m.times=[],m.channels=s,m.favorites=c||[],m.recentChannels=[],m.recordings=[],m.getShowData=function(e,t){m.recentChannels.push(t)},m.toggleFavorite=function(e){e.favorite?ea.a.removeFavorite(e):ea.a.setFavorite(e)},m.fetchPromise=null,m.focusChannel=null,m.focusShow=null,m.focusTime=null,m.move=E,m.keypress=function(e){switch(e.keyCode){case 38:E(e,"up");break;case 39:E(e,"right");break;case 40:E(e,"down");break;case 37:E(e,"left");break;case 9:e.shiftKey&&(angular.element('.channel-header-row[channel-index="'+m.focusChannel.globalIndex+'"]').focus(),e.preventDefault())}},m.gridFocused=A,m.setFocus=O,m.$state=t,m.isOoh=null,m.zoneData=[],m.channelsPerZone=-1,m.hoursPerZone=-1,ei({currPageAppliedSorts:l.a.getSelectorValue(jr),currPageAppliedFilters:l.a.getSelectorValue(Mr)}),e.$on("guide:currentZone",T),e.$on("update-dvr",function(){d.isCdvrEnabled().then(function(t){t&&(i.clearProgramData(),C(),e.$broadcast("guide:invalidateData"))})}),e.$on("guide:reactivate",function(){v(function(){O(m.focusZone,m.focusChannel,m.focusShow)},0)}),e.$on("set-top-box-selected",k),e.$on("guide:updateFilter",w),e.$on("guide:zonesize",function(e,t,n){m.channelsPerZone=t,m.hoursPerZone=n,w(m.channels)}),e.$on("guide:timejump",S),$(),k(),C(),me.a.getLocation().then(function(){m.isOoh=l.a.getSelectorValue(ge.h)}),e.$watch(function(){return i.times},function(e){m.times=e.map(function(e,t){return{time:b(e,"shortTime"),index:t,epoch:e}})}),function(e){var t={currPageChnlLineupNbrAvailChnls:0,currPageChnlLineupNbrUnavailChnls:0},n=l.a.getSelectorValue(ge.g)&&l.a.getSelectorValue(ge.h);if(e){var r=e.filter(function(e){return function(e,t){var n=!0===(null===e||void 0===e?void 0:e.availableOutOfHome),r=!0===(null===e||void 0===e?void 0:e.onlineEntitled),i=!0===(null===e||void 0===e?void 0:e.parentallyBlocked);return t?r&&!i&&n:r&&!i}(e,n)}).map(function(e){return e.tmsGuideId});t.currPageChnlLineupNbrAvailChnls=r.length,t.currPageChnlLineupNbrUnavailChnls=e.length-r.length,r.length<10&&(t.currPageChnlLineupAvailChnls=r.join(", "))}Object(y.j)("OneApp_checkAvailableChannels_generic",t)}(m.channels)}e.$inject=["$scope","$state","$rootScope","$log","GuideService","$q","rdvrService","channelList","favorites","$filter","capabilitiesService","loadingDefer","stbService","$timeout","cdvrService"],e.$inject=["$scope","$state","$rootScope","$log","GuideService","$q","rdvrService","channelList","favorites","$filter","capabilitiesService","loadingDefer","stbService","$timeout","cdvrService"],angular.module("ovpApp.guide").controller("GuideController",e)}(),function(){function e(e,t,n,r,i,o,a){var s,c,d,p,h,v=this;return v.fetchChannelList=m,v.fetchChannels=function(t,r,c){s||(s=m());return s.then(function(){var s=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=l.a.getSelectorValue(u.Wf);return t=t.filter(function(e){return!function(e,t,n){return!!e.loadedTimes&&e.loadedTimes.some(function(e){return e[0]<t-1&&e[1]>n+1})}(e,r,s)}),i.isIpOnlyEnabled().then(function(i){return i||c?function(e,t,r){var i=(new Date).getUTCHours(),a=(i+t)%24,s=Math.floor((i+t)/24),c=e.map(function(e){return e.tmsGuideId});if(0===e.length)return n.resolve();e.forEach(function(e){e.loading=!0});var l,u=Math.ceil((r-t)/o.WINDOW_HOURS),d=[];for(l=0;l<u;l++){var p=t+l*o.WINDOW_HOURS,h=p+o.WINDOW_HOURS;d.push(g(c,s,a,p,h)),s+=Math.floor((a+o.WINDOW_HOURS)/24),a=(a+o.WINDOW_HOURS)%24}n.all(d).then(function(){return e.forEach(function(e){e.loaded=!0,e.loading=!1}),v.channels})}(t,r,s):function(t,r,i){var o,s;return Ue().then(function(c){return s=c.headend,o=function(e){var t=new Date,n=t.getMinutes();t.setMinutes(0),t.setMilliseconds(0),n>55&&t.setTime(t.getTime()+36e5);var r=t.getTime()-p.getTime();if(r>33e5){var i=Math.floor(r/36e5);e.hourBegin-=i,e.hourEnd-=i}return e}(o={headend:s,hourBegin:r,hourEnd:i,tmsGuideIds:t.map(function(e){return e.tmsGuideId}).join(".")}),t.forEach(function(e){e.loading=!0}),t.length>0?e({url:l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.he)+l.a.getSelectorValue(u.fd)+l.a.getSelectorValue(u.Kb)+"/"+s+l.a.getSelectorValue(u.Jb),method:"GET",params:o,withCredentials:!0}).then(function(e){Object.keys(e.data).forEach(function(t){var n=e.data[t];return v.channels.filter(function(e){return e.tmsGuideId==t}).forEach(function(e){var t=n.map(function(e){return b(e)});e.staged&&e.staged.length>0?e.staged=e.staged.concat(t):e.staged=t,e.loaded=!0,e.loading=!1,y(e,r,i)}),v.channels})},function(){a.errorAlert("WGU-1000")}):n.resolve()})}(t,r,s+=1)})}(t,r,c);return s})},v.getZeroHour=function(){return p},v.filterChannel=function(e){if(h){var t=!0;h.preset&&h.preset.filter&&(h.preset.filter(e)||(t=!1)),t&&h.text&&(t=e.callSign.indexOf(h.text.toUpperCase())>=0),e.display=t}else e.display=!1;return e.display},v.clearProgramData=function(){v.channels.forEach(function(e){e.loadedTimes=[]})},v.setZeroTime=f,f(),t.$on("guide:updateFilter",function(e,t){h=t}),v;function f(){(p=new Date).setMinutes(0),p.setSeconds(0),p.setMilliseconds(0),v.zeroTime=Math.floor(p.getTime()/1e3),v.endTime=v.zeroTime+1209600,d=v.zeroTime,function(){var e=c,t=v.endTime,n=d,r=[d];for(;n<t;)n+=1800,r.push(n);v.latest=t,c=v.earliest=e,v.times=r.map(function(e){return 1e3*e}),v.times}()}function m(){return r.getChannels().then(function(e){return(i.isSpecU()||l.a.getSelectorValue(u.Zf))&&e.sort(function(e,t){return e.callSign>t.callSign?1:-1}),v.channels=e?e.map(function(e,t){return e.index=t,e.content=[],e}):[],v.channels})}function g(t,n,r,i,o){var s=ee()(p.getTime()).utc().add(n,"days"),c=r>19?r+4:r;return e({url:l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.jc)+"?startDateTime=".concat(s.format("YYYYMMDDTHHmmss"),"Z&hours=").concat(c),method:"POST",data:{tmsIds:t},withCredentials:!0}).then(function(e){return Object.keys(e.data).forEach(function(t){var n=e.data[t];v.channels.filter(function(e){return e.tmsGuideId==t}).forEach(function(e){var t=n.map(function(e){return b(e)});e.staged&&e.staged.length>0?e.staged=e.staged.concat(t):e.staged=t,y(e,i,o)})}),v.channels},function(){a.errorAlert("WGU-1000")})}function b(e){var t=e.startTimeSec+60*e.durationMinutes,n={};e.endTimeUtcSeconds=t;var r=Math.round(Date.now()/1e3);return e.startTimeSec<r&&r<t&&(n.onnow=!0),n["duration_"+e.durationMinutes]=!0,n.new=e.icons.indexOf("New")>=0,n.series=!(!e.metadata||!e.metadata.tmsSeriesId),n.rating_block=e.ratingsBlocked,e.classData=n,e.startTimeOffset=e.startTimeSec-d,e}function y(e,t,n){e.loadedTimes||(e.loadedTimes=[]),e.loadedTimes.push([t,n]),e.loadedTimes=e.loadedTimes.sort(function(e,t){return e[0]-t[0]}).reduce(function(e,t){return e.length>0&&e[e.length-1][0]<=t[0]&&e[e.length-1][1]>=t[0]?e[e.length-1][1]<t[1]&&(e[e.length-1][1]=t[1]):e.push(t),e},[])}}e.$inject=["$http","$rootScope","$q","epgsService","capabilitiesService","guideIpOnlyEpg","kiteModalService"],e.$inject=["$http","$rootScope","$q","epgsService","capabilitiesService","guideIpOnlyEpg","kiteModalService"],angular.module("ovpApp.guide").constant("guideIpOnlyEpg",{WINDOW_HOURS:4}).service("GuideService",e)}(),function(){function e(e,t,n,r){return{restrict:"A",require:"^guide-scroll-container",compile:function(e){var i=e.find("#hidden-time-row"),o=r(i.html());return i.html(""),function(e,r,a,s){var c,l,u=0,d=0,p=0;e.$watch("vm.times",function(e){if(e){var t=e.reduce(function(e,t,n){return e+=o({index:n,time:t.time})},"");i.html(t)}}),r.bind("scroll",function(){p=r.scrollLeft(),l&&0!==l.length||(l=r.parents(".guide").find(".guide-header .time-container")),l.css({transform:"translateX("+-1*p+"px)"});var t=Math.floor(p/(s.getPixelsPerHour()/2));t!==c&&(c=t,e.$emit("guide:timeScroll",c)),e.$broadcast("guide:adjustOffset",p);var n=Date.now(),i=s.calculateVelocity(u,d,n,p);s.scrollHandler(p,null,i),u=n,d=p}),e.$on("displayZone",function(){n(function(){e.$broadcast("guide:adjustOffset",p)},100)}),e.$on("guide:timejump",function(e,n){var i=(n-t.getZeroHour().getTime())/36e5*s.getPixelsPerHour();r.animate({scrollLeft:i})})}}}}e.$inject=["$window","GuideService","$timeout","$interpolate"],e.$inject=["$window","GuideService","$timeout","$interpolate"],angular.module("ovpApp.guide").directive("guideTimeContainer",e)}(),function(){function e(e,t,n,r,i,o,a,s,c,d,p,h,v){var f=this;f.goToNow=function(){r.$broadcast("guide:timejump",function(){var e=new Date;return e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()}()),r.$broadcast("guide:updateTodaysDate"),angular.element("#guide_title")[0].focus()},f.setPresetFilter=$,f.showDate=!1,f.guideTime=null,f.timeIndex=0;var m=l.a.getSelectorValue(u.Kc).find(function(e){return"guide"===e.feature.toLowerCase()});f.sectionLabel=m?m.title:"Guide";var g={QAM:function(){return!0},IP:function(){return!0},FAVORITES_QAM:function(e){return e.favorite},HD_QAM:function(e){return e.hd},SUBSCRIBED_IP:function(e){return!1!==e.entitled},TWCTV_QAM:function(e){return e.onlineEntitled},FAVORITES_IP:function(e){return e.favorite},HD_IP:function(e){return e.hd},RECORDABLE_IP:function(e){return e.cdvrRecordable}},b={FAVORITES:function(){var e=ea.a.getChannelsSync({favorite:!0,live:!0},l.a.getSelectorValue(Jo.b));if(!e||0===e.length){s&&s.promise.$$state.pending&&s.resolve();var t={preOkMessage:te.a.getErrorInfo("WFV-1000").message,okLabel:v.OK,cancelLabel:v.CANCEL,okAction:function(){a.go("ovp.settings.favorites")},cancelAction:function(){$(f.presets[0])},showCloseIcon:!1,overlayClickClosesPopup:!1,ariaLabel:"Favorites",ariaDescription:i.getMessageForCode("MSG-9102")};return h.open({showCloseIcon:!1,component:"confirm",ariaDescribedBy:"descriptionBlockText",ariaLabelledBy:"labelText",resolve:{options:t}}),!1}return!0}},y={ALL:"All Channels",FAVORITES:"Favorites",HD:"HD",ON_PC:"On PC",SUBSCRIBED:"Subscribed",RECORDABLE:"Recordable"},S={ALL:"all",FAVORITES:"favorites",HD:"hd",ON_PC:"onpc",SUBSCRIBED:"subscribed",RECORDABLE:"recordable"},w={ALL:"",FAVORITES:"Show only your favorite channels",HD:"Show only HD channels",ON_PC:"Show only streaming channels",SUBSCRIBED:"Show only subscribed channels",RECORDABLE:"Show only recordable channels"};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!(!e||e.test&&!e.test())&&(f.filters.preset=e,C.a.setItem(k.b.guideFilter,e.id),r.$broadcast("guide:updateFilter",f.filters),null!==t&&r.$broadcast("Analytics:guide:updateFilter",{filter:e,triggeredBy:null===t?"application":"user"}),e)}function T(e,t,n,r,i){f.presets.push({id:e,title:t,label:n,filter:r,test:i})}f.presets=[],f.filters={text:"",preset:null},d.isIpOnlyEnabled().then(function(e){var t=d.isSpecU(),n=d.isTVSA();e?(T(S.ALL,w.ALL,y.ALL,g.IP),T(S.FAVORITES,w.FAVORITES,y.FAVORITES,g.FAVORITES_IP,b.FAVORITES)):(T(S.ALL,w.ALL,y.ALL,g.QAM),T(S.FAVORITES,w.FAVORITES,y.FAVORITES,g.FAVORITES_QAM,b.FAVORITES),t||n||(T(S.HD,w.HD,y.HD,g.HD_QAM),T(S.ON_PC,w.ON_PC,y.ON_PC,g.TWCTV_QAM)));var r=function(){var e,t=C.a.getItem(k.b.guideFilter);return t&&(e=f.presets.find(function(e){return e.id===t})),e||f.presets[0]}();$(r),ei({currPageAppliedSorts:[],currPageAppliedFilters:[(null===r||void 0===r?void 0:r.label)||""]})}),f.onDateToggle=function(e){f.showDate=e},f.jumpToDay=function(e){r.$broadcast("guide:timejump",e)},e.$watch(function(){return n.times},function(e){f.times=e}),e.$watch("vm.filters.text",function(e,t){e!=t&&r.$broadcast("guide:updateFilter",f.filters)}),r.$on("guide:timeScroll",function(t,n){f.timeIndex=Math.floor(n),f.times&&f.times[f.timeIndex]&&(f.guideTime=f.times[f.timeIndex],e.$apply())})}e.$inject=["$scope","$log","GuideService","$rootScope","messages","alert","$state","loadingDefer","$timeout","capabilitiesService","$q","modal","CONFIRM_BUTTON_TYPE"],e.$inject=["$scope","$log","GuideService","$rootScope","messages","alert","$state","loadingDefer","$timeout","capabilitiesService","$q","modal","CONFIRM_BUTTON_TYPE"],angular.module("ovpApp.guide").controller("GuideSubheaderController",e)}();var xp=n("b6pb"),_p=n.n(xp);!function(){function e(e,t,n,r,i,o){return{restrict:"E",templateUrl:"js/guide/guide-date-directive.html",scope:{onDateToggle:"=",jumpToDay:"=",times:"="},compile:function(a){var s=a.find(".time-container").html(),c=i(s);return a.find(".time-container").empty(),function(i,s){var l,u=[],d=n.getZeroHour(),p=e(d),h=0,v=!1,f=null,m=null;function g(e,t){i.currentDate={dow:e.dow,day:e.day,ariaLabel:e.ariaLabel,start:t||e.start}}function y(t){d=new Date(d).setHours(t),p=e(d),u=[],i.dates=u,u.push({dow:"Today",ariaLabel:"Today, "+e(d).format("MMMM Do"),day:e(d).format("MMM Do"),start:1e3*p.unix(),startOfDay:1e3*p.startOf("day").unix()});for(var n=1;n<14;n++){var r=e(d).add(n,"days"),o={dow:r.format("dddd"),ariaLabel:r.format("dddd, MMMM Do"),day:r.format("MMM Do"),start:1e3*r.unix(),startOfDay:1e3*r.startOf("day").unix()};u.push(o)}m=u[0]}function S(n){i.times[h+n]&&(h+=n,v||null!==f?(f&&(t.cancel(f),f=null),f=t(function(){r.$broadcast("guide:timejump",i.times[h]),v=!0,f=null})):(p=e(i.times[h]),r.$broadcast("guide:timejump",i.times[h]),v=!0),function(e){for(var t=w(e,4),n=document.querySelectorAll(".time-position[aria-hidden=false]"),r=0;r<n.length;r++)angular.element(n[r]).attr("aria-hidden",!0);for(var o=0;o<t.length;o++){var a=document.querySelector('.time-position[time="'+i.times[t[o]]+'"]');a&&angular.element(a).attr("aria-hidden",!1)}}(h))}function w(e,t){return Array.from(new Array(t),function(t,n){return n+e})}i.timeIndex=0,i.dayOffset=0,i.dates=u,i.showDate=!1,i.dateCarouselConfig={ariaLabel:"",supportVariableWidth:!0,arrowIconClass:"small-arrow-icon",useArrows:!1},i.liveRegionEnabled=!1,i.enableDateTimeLiveRegion=function(){i.liveRegionEnabled=!0},i.disableDateTimeLiveRegion=function(){i.liveRegionEnabled=!1},i.getVisibleEndTime=function(e){var t=_p()(e,i.times),n=qs()(w(t,4));if(Object(b.e)(n)&&n>=0)return i.times[n];return i.times[3]},y(p.hours()),g(m),a.on("keyup",function(e){27===e.which&&i.showDate&&(i.toggleDate(),t(function(){angular.element(".date-picker-button").focus()}))}),i.$on("guide:timejump",function(t,n){y(e(n).hours())}),r.$on("guide:updateTodaysDate",function(e){i.handleDateClick(u[0],e)}),i.jumpTo=function(t){r.$broadcast("guide:timejump",t.start),p=e(t.start),v=!0,(h=i.times.indexOf(t.start))<0&&(h=0),i.currentDate=t},i.toggleDate=function(){i.showDate=!i.showDate,i.onDateToggle(i.showDate),i.showDate&&t(function(){var e=s.find(".day-box:[start="+m.start+"]");e.length>0?e.focus():s.find(".day-box").first().focus()})},i.nextTimeBlock=function(){S(4)},i.prevTimeBlock=function(){S(-4)},l=i.$watch("times",function(e){e&&(s.find(".time-container").append(e.reduce(function(e,t,n){return e+=c({time:t,visible:n<4})},"")),l())}),t(function(){s.find(".day-box").height()},100),r.$eventToObservable("guide:timeScroll").debounce(function(){return o.Observable.timer(600)}).subscribe(function(t){var n=t[1];i.timeIndex=Math.floor(n),h=i.timeIndex;var r=i.times[i.timeIndex],o=e(r).startOf("day");g(m=u.find(function(e){return e.startOfDay===1e3*o.unix()}),r),v=!1,i.$apply()}),i.handleDateClick=function(e,t){m=e,i.jumpTo(e),t.preventDefault(),t.stopPropagation&&t.stopPropagation(),i.showDate=!1,i.onDateToggle(i.showDate)},i.focusDayBox=function(){s.find("a.date-picker-button").focus()}}}}}e.$inject=["moment","$timeout","GuideService","$rootScope","$interpolate","rx"],e.$inject=["moment","$timeout","GuideService","$rootScope","$interpolate","rx"],angular.module("ovpApp.guide").directive("guideDate",e)}(),function(){function e(e,t,n,r,i,o){return{restrict:"E",templateUrl:"js/guide/guide.html",controller:"GuideScrollContainerController",controllerAs:"scroll",replace:!0,compile:function(a){var s=a.find(".channel-heading"),c=n(s.html()),d=a.find(".channel-content-list-body"),p=t(d.html());return d.empty(),s.empty(),function(t,n,a,s){var d,h,v=angular.element(e),f=angular.element(e.document).find(".main-content-wrapper"),m=76,g=0,b=0,y=0,S=[],w=!1,k=!1;n.is(":visible")?T():r(T,50);var C=i.$on("scrollable:scrolled",function(){g=f.scrollTop();var e=Date.now(),t=s.calculateVelocity(y,b,e,g);s.scrollHandler(null,g,t),y=e,b=g});function T(){O(),E(t.vm.zoneData),m=n.find(".channel-header-row").height()||m,g=f.scrollTop(),s.forceFetchCurrent()}function O(){if(w)k=!0;else{k=!1,d=v.height()-n.offset().top;var e=n.find(".channel-content-list-container").width();h=e/2,s.setZoneSize(Math.ceil(d/m*l.a.getSelectorValue(u.lc)),2*l.a.getSelectorValue(u.mc),m,h,2*h,d)}}function E(e){var r=n.find(".channel-heading"),i=n.find(".channel-content-list-body"),a="",s="";S.forEach(function(e){return e.$destroy()}),S=[],e.forEach(function(e){e.zone_el_id="zone_idx_"+e.zoneIndex,a+=function(e,t,n){return'<div style="width:'.concat(n,"px; height:").concat(t,'px;"\n                                    id="').concat(e.zone_el_id,'" class="zone" role="presentation"></div>')}(e,e.zoneChannels.length*m,24*h*14),s+=function(e){var t="";return e.zoneChannels.forEach(function(e){var n=o.isUnavailableOoh(e),r=l.a.getSelectorValue(u.Zf)||!angular.isDefined(e.channelNumber),i=e.callSign+(r?"":", Channel "+e.channelNumber)+(e.favorite?", favorite set":"")+(n?", Streaming unavailable.":"");t+=c({channel:e,favOn:e.favorite?"favon":"",noChannelNumber:r?"no-channel-number":"",channelAria:i,nonstreamable:n?"nonstreamable":""})}),'<div style="height: '.concat(e.zoneChannels.length*m,';"\n                            class="channel-header-zone zone">').concat(t,"</div>")}(e)}),i.html(a),r.html(s),e.forEach(function(e){e.domElement=i.find("#"+e.zone_el_id),e.elements=[],e.scopes=[],e.zoneChannels.forEach(function(n){var r=t.$new();r.channel=n,r.zone=e,S.push(r),p(r,function(t,r){e.domElement.append(t),e.elements.push(t),e.scopes.push(r),n.listingsElement=t})})})}v.on("resize",O),t.$on("$destroy",function(){C(),v.off("resize",O)}),n.find(".channel-heading").on("focus",function(e){$(e.target.firstChild).find("li").first().focus()}),n.find(".channel-heading").on("click keydown",".channel-header-row",function(e){var n=37,r=38,i=39,a=40,s=9,c=32,d=13,p=angular.element(e.target);p.is(".channel-header-row")||(p=p.parents(".channel-header-row"));var h=p.attr("channel-index"),v=p.find(".favorite"),f=t.vm.channels.find(function(e){return h==e.globalIndex});if(e.keyCode===i||e.keyCode===a)!function(e){e.target.nextElementSibling?angular.element(e.target.nextElementSibling).focus():e.target.parentNode.nextElementSibling&&e.target.parentNode.nextElementSibling.firstChild&&angular.element(e.target.parentNode.nextElementSibling.firstChild).focus(),e.preventDefault(),e.stopPropagation()}(e);else if(e.keyCode===n||e.keyCode===r)!function(e){e.target.previousElementSibling?angular.element(e.target.previousElementSibling).focus():e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.lastChild&&angular.element(e.target.parentNode.previousElementSibling.lastChild).focus(),e.preventDefault(),e.stopPropagation()}(e);else if(e.keyCode===s){if(e.shiftKey){var m=angular.element(".channel-filter .filter"),g=m[m.length-2],b=m[m.length-1];-1==b.tabIndex?g.focus():b.focus()}else t.vm.gridFocused();e.preventDefault(),e.stopPropagation()}e.keyCode!==d&&e.keyCode!==c&&"click"!=e.type||(f&&(f.favorite?ea.a.removeFavorite(f):ea.a.setFavorite(f),v.toggleClass("favon"),p.attr("aria-label",function(e){var t=!l.a.getSelectorValue(u.Zf)&&angular.isDefined(e.channelNumber)?", Channel ".concat(e.channelNumber):"",n=e.favorite?" Favorite":"",r=o.isUnavailableOoh(e)?", Streaming unavailable.":"    ";return"".concat(e.callSign).concat(t).concat(n).concat(r)}(f))),e.preventDefault())}),t.$on("guide:updateZones",function(){E(t.vm.zoneData);var e=t.vm.zoneData.reduce(function(e,t){return t.zoneChannels.length+e},0);$("#guideAlert").html("<span >"+e+" channels in filter.</span>"),s.forceFetchCurrent()}),t.$on("guide:invalidateData",function(){s.forceFetchCurrent()}),t.$on("guide:inactivate",function(){w=!0}),t.$on("guide:reactivate",function(){w=!1,k&&r(O,0)})}}}}function t(e,t,n){var r,i,o,a,s,c=this,d=0,p=0,h=0,v=l.a.getSelectorValue(u.kc),f=C(k,100,!1),m=C(w,200,!1),g=0,b=0;function y(e,t){var n=o*i,s=a*r;e=e<0?0:e,t=t<0?0:t;var c=[Math.floor(e/n),Math.floor(t/s)],l=[Math.floor((e+g)/n),Math.floor((t+b)/s)];return[c,l,[l[0],c[1]],[c[0],l[1]]].reduce(function(e,t){return e.some(function(e){return e[0]===t[0]&&e[1]===t[1]})||e.push(t),e},[])}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Date.now();i,n,null!==e&&(p=e),null!==t&&(h=t);var o=y(p,h),a=o.map(function(e){return e[1]}),s=o.map(function(e){return e[0]});angular.equals(o,c.zones)&&!r||(c.channelZones=a,c.timeZones=s,c.zones=o,f(),m())}function w(){c.currentChannelZone=c.channelZones,c.currentTimeZone=c.timeZones,e.$broadcast("displayZone",c.currentChannelZone,c.currentTimeZone)}function k(){angular.equals(s,c.zones)||(s=c.zones,e.$emit("guide:currentZone",c.zones))}function C(e,t,r){var i;return function(){var o=this,a=arguments,s=r&&!i;n.cancel(i),i=n(function(){i=null,e.apply(o,a)},t),s&&e.apply(o,a)}}c.setZoneSize=function(t,n,s,c,p,h){r=t,i=n,a=s,o=c,d=h,g=p*l.a.getSelectorValue(u.yf),b=d*l.a.getSelectorValue(u.xf),e.$emit("guide:zonesize",r,i)},c.getZones=y,c.getPixelsPerHour=function(){return o},c.scrollHandler=S,c.calculateVelocity=function(e,t,n,r){if(e>0){var i=e-n,o=r-t,a=Math.abs(o/i*1e3);return a}return 0},c.adjacentZone=function(e,t){return t.some(function(t){return t+v>=e&&t-v<=e})},c.scrollingPaused=!0,c.forceFetchCurrent=function(){var e=y(p,h),t=e.map(function(e){return e[1]}),n=e.map(function(e){return e[0]});c.channelZones=t,c.timeZones=n,c.zones=e,s=null,k(),w()},e.getPos=function(){return{channelIndex:Math.ceil(h/a),hour:Math.floor(p/o),scroll:{top:h,left:p}}},e.setPos=function(e){angular.element(t).find(".guide, .container").scrollTop(e.top),angular.element("channel-content-list-container").scrollLeft(e.left),S(null,e.top,0,!0)},e.setChannelPos=function(t){e.setPos({top:t*a,left:void 0})}}t.$inject=["$scope","$window","$timeout"],e.$inject=["$window","$compile","$interpolate","$timeout","$rootScope","oohService"],t.$inject=["$scope","$window","$timeout"],e.$inject=["$window","$compile","$interpolate","$timeout","$rootScope","oohService"],angular.module("ovpApp.guide").controller("GuideScrollContainerController",t).directive("guideScrollContainer",e)}(),function(){t.$inject=["$compile","$animate","$interpolate","$state","$window","rx","$q","guideChannelRowCoordinator","capabilitiesService","oohService"],t.$inject=["$compile","$animate","$interpolate","$state","$window","rx","$q","guideChannelRowCoordinator","capabilitiesService","oohService"];var e="\n        <a id='{{::channelIndex}}-{{::showKey}}' class='channel-content {{onnow}} {{::timeZoneClass}}\n            {{iconClasses}} {{paddingClass}}'\n            href='{{link}}'\n            data-show-id='{{::showKey}}'\n            style=\"width:{{::width}}px; left:{{::left}}px; padding-left: {{contentShiftPadding}}px;\"\n            tabindex='-1'\n            aria-describedby='{{::oohMessage}}rowheader-{{::channelIndex}} {{::timeColumn}}'\n            ng-style='showstyle'>\n                <div class='title-line event-off flex-box'>\n                    <div class='title truncate'>{{::show.title}}</div>\n                    <span class='restart {{(ondemandLink)?'':'hide'}}' aria-label='Available on demand'></span>\n                </div>\n                <div class='show-details truncate event-off'>\n                    <span class='recording-status'>{{show.recordingElement}}</span>\n                    <span class='new-status'>New</span>\n                    <span class='subtitle'>{{::show.metadata.title || show.shortDesc }}</span>\n                </div>\n        </a>\n    ";function t(t,n,r,i,o,a,s,c,l,u){return{restrict:"E",replace:!0,require:"^guide-scroll-container",template:"<div class='channel-listings-row' ng-class=\"{nonstreamable: isNonStreamable}\">\n                <span id='{{::id()}}' class='accessibilityhidden'>\n                    {{::description()}}\n                </span>\n                </div>",link:function(t,a,d,p){var h,v=null,f={},m=p.getPixelsPerHour(),g=r(e),b=null,y=0,S=!1,w=!1,k=!1;function C(e){var r="",o=!1,s=t.isNonStreamable&&t.$parent.vm.isOoh?"streamingUnavailable ":"";Object.keys(e).map(function(t){return e[t]}).sort(function(e,t){return e.startTimeOffset-t.startTimeOffset}).forEach(function(e){var n=T(e);n!==k||o||(o=!0);var a=function(e){var t,n=0,r=0,i=60*e.durationMinutes+e.startTimeSec,o="",a=0,s="";e.startTimeOffset<0?(t=0,n=Math.floor((e.durationMinutes/60+e.startTimeOffset/3600)*m),r="zone_"+Math.floor(e.startTimeOffset/14400)):(t=Math.floor(e.startTimeOffset/3600*m),n=Math.floor(e.durationMinutes/60*m),r="zone_"+Math.floor(e.startTimeOffset/14400));var c=Date.now();c>1e3*e.startTimeSec&&c<1e3*i&&(o="onnow");e.startPix=t,e.endPix=t+n,e.startPix<y&&e.endPix>y?a=y-e.startPix+20:s="normal-pos";return{contentShiftPadding:a,paddingClass:s,left:t,width:n,timeZoneClass:r,onnow:o,timeColumn:"timecol_"+Math.floor(e.startTimeOffset/1800)}}(e);a.showKey=n,a.show=e,a.link=function(e){var n="product.event",r={tmsId:e.tmsProgramId,tmsProgramId:e.tmsProgramId,airtime:e.startTimeSec,app:"guide",tmsGuideServiceId:t.channel.tmsGuideId,displayChannel:t.channel.channelNumber||e.channelNumber};e.metadata&&e.metadata.tmsSeriesId&&(n="product.series",r.tmsSeriesId=e.metadata.tmsSeriesId,r.episodeTmsId=null===e||void 0===e?void 0:e.tmsProgramId);return e.state=n,e.stateOptions=r,i.href(n,r)}(e),a.iconClasses=e.icons.map(function(e){return e.toLowerCase()}).join(" "),a.channelIndex=t.channel.globalIndex,a.ondemandLink=!!e.vodProviderAssetId,a.oohMessage=s,r+=g(a),f[n]=e}),n.enter(r,a).then(function(){h&&(h(e),h=null),o&&k&&(a.children(".channel-content[data-show-id='".concat(k,"']")).focus(),o=!1,k=!1)})}function T(e){return e.startTimeSec+"-"+e.tmsProgramId}function O(e){if(e.cdvrSeries&&e.cdvrState)e.recordingElement='<span class= "twcicon-svg twcicon-svg-recording-series"aria-label="Scheduled to record"></span>';else{if(!e.cdvrState){if(t.channel.recordings&&t.channel.recordings[e.tmsProgramId]){var n,r=t.channel.recordings[e.tmsProgramId],i=e.startTimeSec,o=i+60*e.durationMinutes,a=r.startTimeSec,s=null!==(n=r.stopTimeSec)&&void 0!==n?n:Date.now();return!(a>o||s<i)&&(e.recording=r,e.recording.recordSeries||e.recording.cdvrSeriesRecording?e.recordingElement='<span class= "twcicon-svg twcicon-svg-recording-series"aria-label="Scheduled to record"></span>':e.recordingElement='<span class= "twcicon-svg twcicon-svg-recording"aria-label="Scheduled to record"></span>',!0)}return e.recording=null,e.recordingElement="",!1}e.recordingElement='<span class= "twcicon-svg twcicon-svg-recording"aria-label="Scheduled to record"></span>'}}function E(e){Object.keys(f).forEach(function(n){if(f[n].startPix<e&&f[n].endPix>e){var r=e-f[n].startPix+20;A(n,t.channel.globalIndex).removeClass("normal-pos").css("padding-left",r)}else A(n,t.channel.globalIndex).addClass("normal-pos")})}function A(e,t){var n=f[e];if(!n)throw"Unable to find the show: ".concat(e," on Channel:  ").concat(t);return n.el||(n.el={}),n.el[t]||(n.el[t]=a.children(".channel-content[data-show-id='".concat(e,"']"))),n.el[t]}t.$on("displayZone",function(e,n){n.indexOf(t.zone.zoneIndex)>=0||p.adjacentZone(t.zone.zoneIndex,n)?(w&&function(){w=!1,f={};var e=a.find(".channel-content:focus");e.length>0&&(k=e.data("show-id"));a.find(".channel-content").remove()}(),a.show(),v&&(t.$$watchers=v,v=null),t.channel.displayed=!0,function e(){if(t.channel.staged&&t.channel.staged.length>0){var n=t.channel.staged.reduce(function(e,t){var n=T(t);return f[n]||e[n]||(e[n]=t,O(t)),e},{});t.channel.staged=[],o.requestAnimationFrame?o.requestAnimationFrame(function(){C(n)}):C(n)}null===b&&(b=t.$watch("channel.staged",function(t){t&&t.length>0&&e()}))}()):null!==b&&(t.channel.displayed=!1,b(),b=null)}),t.$on("guide:invalidateData",function(){w=!0,t.channel.staged=[]}),t.$on("guide:updateRecordings",function(){t.channel.recordings&&Object.keys(f).forEach(function(e){var t=f[e],n=t.recordingElement;O(t),t.recordingElement!==n&&a.find(".channel-content[data-show-id='".concat(e,"'] .recording-status")).html(t.recordingElement)})}),t.$on("guide:clearRecordings",function(){a.find(".recording-status").removeClass("recording series"),t.channel.recordings=null,Object.keys(f).forEach(function(e){f[e].recordingElement=null})}),t.channel&&(t.channel.focusIn=function(e,n){return function e(n,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var a=null;a=r?T(r):Object.keys(f).find(function(e){var t=f[e].startTimeOffset+60*f[e].durationMinutes;return f[e].startTimeOffset<=n&&n<t});if(a){var c;try{c=A(a,t.channel.globalIndex)}catch(e){return s.reject(e)}return S=!0,c.focus(),S=!1,angular.element("#guide-channels-body").attr("aria-activedecendent",c.attr("id")),c.offset().top-angular.element(o).scrollTop()<130&&$("html, body").animate({scrollTop:c.offset().top-130},200),s.resolve(f[a])}if(i){var l=s.defer();return h=function(){e(n,r,!1).then(function(e){l.resolve(e)})},l.promise}return s.resolve(!1)}(e,n)}),c.getDebouncedAdjustOffsetSource(t).subscribe(function(e){y=e[1],t.channel.displayed&&(o.requestAnimationFrame?o.requestAnimationFrame(function(){E(y)}):E(y))}),t.isNonStreamable=u.isUnavailableOoh(t.channel),t.id=function(){return t.channel?"rowheader-"+t.channel.globalIndex:""},t.description=function(){var e=t.channel;if(!e)return"";var n=!l.isSpecU()&&angular.isDefined(e.channelNumber)?e.channelNumber:"";return"Channel ".concat(n," ").concat(e.networkName||e.callSign)},t.getShow=function(e){var n=f[e];return n||f[e.replace(t.channel.globalIndex+"-","")]},a.on("focusin",".channel-content",function(e){if(!S){var n=angular.element(e.target).scope(),r=n.getShow(angular.element(e.target).attr("id"));t.vm.setFocus(n.zone,n.channel,r)}}),a.on("click",".channel-content",function(e){var n=angular.element(e.target).scope(),r=n.getShow(angular.element(e.target).attr("id"));n.$root.$emit("Analytics:selectContent",{asset:r,channel:t.channel})})}}}angular.module("ovpApp.guide").directive("guideChannelRow",t).factory("guideChannelRowCoordinator",function(){var e;return{getDebouncedAdjustOffsetSource:function(t){return e||(e=t.$eventToObservable("guide:adjustOffset").debounce(60).share()),e}}})}(),function(){function e(e,t,n){return{watchOnDemandIP:{id:"watchOnDemandIP",icon:i,label:function(e,t){return"TOD"===e.streamList[t.streamIndex].streamProperties.ondemandStreamType?"Play":"Watch On Demand"},otherWaysWatchOnTVLabel:"On Demand",oohRestricted:!0,hoverText:r,otherWaysToWatchSrOnlyLabel:function(){return"Watch On Demand"},isRoute:!0},resumeOnDemandIP:{id:"resumeOnDemandIP",icon:i,label:"Resume",oohRestricted:!0,hoverText:function(t){var n,r=t.bookmark;return r?(n=e.elapsedAndDuration(r.playMarkerSeconds,r.runtimeSeconds),"Continue watching at ".concat(n)):""},otherWaysWatchOnTVLabel:"On Demand",isRoute:!0},addToWatchList:{id:"addToWatchList",icon:"plus-icon",label:"Watchlist",hoverText:t.getMessageForCode("MSG-9064"),ariaLabel:t.getMessageForCode("MSG-9064"),ariaPressed:!1,toggleAction:!0},removeFromWatchList:{id:"removeFromWatchList",icon:"remove-icon",label:"Watchlist",hoverText:t.getMessageForCode("MSG-9065"),ariaLabel:t.getMessageForCode("MSG-9064"),ariaPressed:!0,toggleAction:!0},otherWaysToWatch:{id:"otherWaysToWatch",icon:"ellipsis-horizontal-icon",label:"More Ways to Watch"},scheduleRecording:{id:"scheduleRecording",icon:"record-icon",label:function(e){return e.isEpisode?"Record Episode":"Record"},otherWaysWatchOnTVLabel:"Live TV",hoverText:function(t,n){if(n.streamIndex>=0&&t&&t.streamList){var r=t.streamList[n.streamIndex],i=e.absolute.expanded.atTime(new Date(parseInt(r.streamProperties.startTime,10)));return"Record this show on ".concat(i)}}},watchLiveIP:{id:"watchLiveIP",icon:"play-large-icon",label:"Watch Live",otherWaysWatchOnTVLabel:"On Now",oohRestricted:!0,hoverText:function(t,n){if(n.streamIndex>=0&&t&&t.streamList){var r,i=t.streamList[n.streamIndex],o=parseInt(i.streamProperties.startTime,10),a=parseInt(i.streamProperties.endTime,10);r=function(e){var t=Date.now();return e&&e.streamProperties.startTime<=t&&e.streamProperties.endTime>t}(i)?"On now":e.absolute.expanded(o);var s="".concat(e.timeOfDay(o)," - ").concat(e.timeOfDay(a));return"".concat(r,", ").concat(s," on ").concat(i.network.name)}},isRoute:!0},watchOnDemandOnTv:{id:"watchOnDemandOnTv",icon:"flick-icon",label:"Watch on TV",hoverText:t.getMessageForCode("MSG-9074"),otherWaysWatchOnTVLabel:"On Demand",isRoute:!0},resumeOnDemandOnTv:{id:"resumeOnDemandOnTv",icon:"flick-icon",label:"Resume On TV",hoverText:t.getMessageForCode("MSG-9075"),otherWaysWatchOnTVLabel:"Resume On TV",isRoute:!0},scheduleSeriesRecording:{id:"scheduleSeriesRecording",icon:"record-series-icon",label:"Record",hoverText:t.getMessageForCode("MSG-9077")},editSeriesRecording:{id:"editSeriesRecording",icon:"cog-icon",label:"Options",hoverText:t.getMessageForCode("MSG-9063")},editRecording:{id:"editRecording",icon:"cog-icon",label:"Options",hoverText:t.getMessageForCode("MSG-9063")},futureAiring:{id:"futureAiring",icon:"",label:"",otherWaysWatchOnTVLabel:"Future Airing"},deleteRecording:{id:"deleteRecording",icon:"trash-icon",label:"Delete",hoverText:t.getMessageForCode("MSG-9062")},playRecordingOnTv:{id:"playRecordingOnTv",icon:"flick-icon",label:"Watch on TV",hoverText:t.getMessageForCode("MSG-9076"),otherWaysWatchOnTVLabel:"DVR",isRoute:!0},watchLiveOnTv:{id:"watchLiveOnTv",icon:"flick-icon",label:"Watch on TV",hoverText:t.getMessageForCode("MSG-9073"),otherWaysWatchOnTVLabel:"On Now",isRoute:!0},cancelSeriesRecording:{id:"cancelSeriesRecording",icon:"remove-icon",label:"Cancel",hoverText:t.getMessageForCode("MSG-9078")},cancelRecording:{id:"cancelRecording",icon:"remove-icon",label:"Cancel",hoverText:function(t,n){if(n.streamIndex>=0&&t&&t.streamList){var r=t.streamList[n.streamIndex],i=e.absolute.expanded.atTime(new Date(parseInt(r.streamProperties.startTime,10)));return"Cancel the scheduled recording on ".concat(i)}}},cdvrPlayRecording:{id:"cdvrPlayRecording",icon:i,label:"Watch Recording",otherWaysLabel:"Watch",hoverText:function(e,t){return e&&e.isOnNow&&!e.bookmark?"Watch your recording from the beginning on your DVR":"Recorded on "+n.getCdvrDateText(e,t)},otherWaysToWatchSrOnlyLabel:function(){return"Watch your recording"},otherWaysWatchOnTVLabel:"Recorded",isRoute:!0},cdvrResumeRecording:{id:"cdvrResumeRecording",icon:"play-large-icon",label:"Resume",hoverText:function(t,n){var r,i=t.streamList[n.streamIndex].bookmark;return i?(r=e.elapsedAndDuration(i.playMarkerSeconds,i.runtimeSeconds),"Resume watching at ".concat(r)):""},otherWaysWatchOnTVLabel:"Recorded",isRoute:!0},cdvrScheduleRecording:{id:"cdvrScheduleRecording",icon:"record-icon",label:function(e){return e.isEpisode?"Record Episode":"Record"},hoverText:function(e,t){return"Record this show on "+n.getCdvrDateText(e,t)},otherWaysWatchOnTVLabel:"Live TV"},cdvrScheduleRecordingNotAvailable:{id:"cdvrScheduleRecordingNotAvailable",icon:"record-icon",label:"Record",hoverText:"Recording is currently unavailable for programs on this network",disabled:!0},cdvrCancelRecording:{id:"cdvrCancelRecording",icon:"remove-icon",label:"Cancel Recording",hoverText:function(e,t){return"Cancel the scheduled recording on "+n.getCdvrDateText(e,t)},otherWaysWatchOnTVLabel:"Live TV"},cdvrScheduleSeriesRecording:{id:"cdvrScheduleSeriesRecording",icon:"record-series-icon",label:"Record Series",hoverText:"Record the series"},cdvrScheduleSeriesRecordingNotAvailable:{id:"cdvrScheduleSeriesRecordingNotAvailable",icon:"record-series-icon",label:"Record",hoverText:"Recording is currently unavailable for programs on this network",disabled:!0},cdvrCancelSeriesRecording:{id:"cdvrCancelSeriesRecording",icon:"remove-icon",label:"Cancel Series",hoverText:"Cancel recording for the series"},cdvrDeleteRecording:{id:"cdvrDeleteRecording",icon:"trash-icon",label:"Delete Recording",hoverText:"Permanently delete this recorded show",otherWaysWatchOnTVLabel:"Recorded"},rentOnDemand:{id:"rentOnDemand",icon:"ticket-icon",label:function(e,t){return e&&t&&t.streamIndex>=0&&!e.isComplexOffering?e.streamList[t.streamIndex].streamProperties.tvodEntitlement?"Play":0===e.price||0===e.price?"Free":"Rent $"+e.price:"Rent"},hoverText:r},watchTrailerIP:{id:"watchTrailerIP",icon:"play-large-icon",label:"Play Trailer",hoverText:t.getMessageForCode("MSG-9061"),isRoute:!0},watchSeriesTrailer:{id:"watchSeriesTrailer",icon:"play-large-icon",label:"Play Trailer",hoverText:t.getMessageForCode("MSG-9061"),isRoute:!0},cdvrEditRecording:{id:"cdvrEditRecording",icon:"cog-icon",label:"Recording Options",hoverText:"Edit your recording options",otherWaysWatchOnTVLabel:"Live TV"},cdvrEditSeriesRecording:{id:"cdvrEditSeriesRecording",icon:"cog-icon",label:"Recording Options",hoverText:"Edit your recording options"},watchTrailerOnTV:{},subscribeUpSell:{}};function r(t,n){if(t&&n&&n.streamIndex>=0){var r=t.streamList[n.streamIndex];if("TOD"===r.streamProperties.ondemandStreamType){if(r.streamProperties.tvodEntitlement){var i=r.streamProperties.tvodEntitlement.rentalEndTimeUtcSeconds,o=e.relative.expanded.atTime(new Date(1e3*i));return"Watch rental until ".concat(o)}if(t.isComplexOffering){var a=t.streamList.filter(function(e){return"TOD"===e.streamProperties.ondemandStreamType}).filter(function(e){return e.streamProperties.price>0}).sort(function(e,t){return e.streamProperties.price-t.streamProperties.price}).shift();return"Rent from $"+a.streamProperties.price+". Available for "+a.streamProperties.rentalWindowInHours+" hours."}return"Rent for $"+t.price+". Available for "+r.streamProperties.rentalWindowInHours+" hours."}var s=new Date(0);return s.setUTCSeconds(r.streamProperties.endTime/1e3),"Available until "+e.relative.short(s)}}function i(e){return e&&e.isOnNow&&!e.bookmark?"restart-icon":"play-large-icon"}}e.$inject=["dateFormat","messages","productService"],e.$inject=["dateFormat","messages","productService"],angular.module("ovpApp.product.productActionService").factory("actionTypeMap",e)}(),angular.module("ovpApp.playerControls").component("toggleCcSettings",{templateUrl:"js/components/player/toggle-cc-settings.html",bindings:{player:"<"},controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{$rootScope:t,version:n,modal:r})}return e.$inject=["$rootScope","version","modal"],e.$inject=["$rootScope","version","modal"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.hovered=!1,this.playerSubscriptions={"playback-started":function(){return e.onPlaybackStarted()}},this.ccSettingsChangedListener=this.$rootScope.$on("cc-settings-changed",function(t,n){e.player.setCCSettings(n)}),this.registerPlayerEvents()}},{key:"$onDestroy",value:function(){for(var e in this.ccSettingsChangedListener&&this.ccSettingsChangedListener(),this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.off(e,this.playerSubscriptions[e])}},{key:"registerPlayerEvents",value:function(){for(var e in this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.on(e,this.playerSubscriptions[e])}},{key:"onPlaybackStarted",value:function(){var e=this;this.ccSettingsChangedListener=this.$rootScope.$on("cc-settings-changed",function(t,n){e.player.setCCSettings(n)})}},{key:"showCCSettings",value:function(){this.$rootScope.$emit("Analytics:selectAction-toggle-cc-settings"),this.$rootScope.$emit("Analytics:modalView-cc-settings"),this.modal.open({component:"ovp-caption-settings",windowClass:"ovp-player-caption-settings",ariaDescribedBy:"descriptionBlockText cc-text-color-button",ariaLabelledBy:"labelText",showCloseIcon:!1}),this.isCasting||this.player.setCCEnabled(!0)}},{key:"ccSettingsImage",value:function(){return this.hovered||this.isCCSettingsVisible?this.version.appVersion+"/images/settings-active.svg":this.version.appVersion+"/images/settings.svg"}}]),e}()}),angular.module("ovpApp.playerControls").component("infoPanel",{bindings:{asset:"<"},templateUrl:"js/components/player/info-panel.html",controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{$timeout:t,version:n,rx:r,createObservableFunction:i,$rootScope:o,playerOverlayTimer:a})}return e.$inject=["$timeout","version","rx","createObservableFunction","$rootScope","playerOverlayTimer"],e.$inject=["$timeout","version","rx","createObservableFunction","$rootScope","playerOverlayTimer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.onFocus=this.createObservableFunction(),this.onMouseOver=this.createObservableFunction(),this.onMouseLeave=this.createObservableFunction(),this.togglePopup=this.createObservableFunction(),this.showInfoPanel=!1;var t=parseInt(l.a.getSelectorValue(u.wc));this.onMouseOver.subscribe(function(){return e.hovered=!0}),this.onMouseLeave.subscribe(function(){return e.hovered=!1});var n=this.onFocus.merge(this.onMouseOver).map(function(){return!0}),r=this.onMouseLeave.map(function(){return!1});this.togglePopup.subscribe(function(){if(e.showInfoPanel=!e.showInfoPanel,e.showInfoPanel&&(e.$rootScope.$emit("Analytics:selectAction-toggle-infoPanel",{state:e.showInfoPanel}),e.$rootScope.$emit("Analytics:modalView-player-info-panel",{modalText:e.asset.title})),e.$rootScope.$on("playerOverlayTimer:hide",function(){e.showInfoPanel=!1}),e.showInfoPanel){var i=e.rx.Observable.timer(t);r.merge(n).debounce(500).filter(function(e){return!e}).takeUntil(e.togglePopup).zip(i).first().subscribe(function(){e.showInfoPanel=!1})}})}},{key:"getDirectors",value:function(){return this.asset&&this.asset.directors&&this.asset.directors.map(function(e){return e.name}).join(" ")}},{key:"getActors",value:function(){return this.asset&&this.asset.actors&&this.asset.actors.map(function(e){return e.name}).join(", ")}},{key:"image",value:function(){var e=this.hovered||this.showInfoPanel?"-active.svg":".svg";return"".concat(this.version.appVersion,"/images/info-circle").concat(e)}}]),e}()}),angular.module("ovpApp.playerControls").component("toggleCc",{templateUrl:"js/components/player/toggle-cc.html",bindings:{player:"<",override:"<"},controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{$rootScope:t,version:n,chromecastService:r,playerService:i})}return e.$inject=["$rootScope","version","chromecastService","playerService"],e.$inject=["$rootScope","version","chromecastService","playerService"],Ce()(e,[{key:"$onInit",value:function(){var e;this.hovered=!1,this.isCCEnabled=null!==(e=C.a.getItem(k.b.ccEnabled))&&void 0!==e&&e,this.updateClosedCaption(this.isCCEnabled,lt.m.APPLICATION)}},{key:"$onDestroy",value:function(){if(this.playerSubscriptions)for(var e in this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.off(e,this.playerSubscriptions[e])}},{key:"$onChanges",value:function(e){var t,n;void 0!==this.isCCEnabled&&void 0!==(null===e||void 0===e?void 0:null===(t=e.override)||void 0===t?void 0:t.currentValue)&&this.isCCEnabled!==(null===e||void 0===e?void 0:null===(n=e.override)||void 0===n?void 0:n.currentValue)&&this.updateCurrentStatus()}},{key:"updateCurrentStatus",value:function(){this.isCCEnabled=!this.isCCEnabled,C.a.setItem(k.b.ccEnabled,this.isCCEnabled),this.reportCCToggled()}},{key:"reportCCToggled",value:function(){var e=l.a.getSelectorValue(vc.c);ct.a.set(lt.d.ACCESSIBILITY_SETTINGS,{closedCaptionSetting:this.isCCEnabled?"true":"false"}),Object(y.j)(this.isCCEnabled?"OneApp_selectAction_ccToggle_on":"OneApp_selectAction_ccToggle_off",{msgCategory:"navigation",currPageElemType:"toggle",msgTriggeredUsing:Object(Li.c)(),currPageSecName:e===Eo.g.LINEAR?"liveTvArea":"onDemandArea"})}},{key:"ccToggle",value:function(e){this.updateClosedCaption(!this.isCCEnabled),this.reportCCToggled()}},{key:"updateClosedCaption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt.m.USER;if(e===this.isCCEnabled&&t!==lt.m.APPLICATION)return this.isCCEnabled;this.isCCEnabled=e,C.a.setItem(k.b.ccEnabled,e),this.chromecastService.isCasting()?this.chromecastService.toggleCC(this.isCCEnabled):this.player.setCCEnabled(this.isCCEnabled)}},{key:"ccToggleImage",value:function(){return this.hovered?this.version.appVersion+"/images/cc-active.svg":this.isCCEnabled?this.version.appVersion+"/images/cc-active.svg":this.version.appVersion+"/images/cc.svg"}}]),e}()}),angular.module("ovpApp.playerControls").component("toggleFullscreen",{bindings:{playerElement:"<",enlargeIcon:"="},templateUrl:"js/components/player/toggle-fullscreen.html",controller:function(){function e(t,n){we()(this,e),angular.extend(this,{version:t,ovpFullscreen:n})}return e.$inject=["version","ovpFullscreen"],e.$inject=["version","ovpFullscreen"],Ce()(e,[{key:"$onInit",value:function(){this.fullscreenActive=!1,this.hovered=!1}},{key:"onFullScreenToggle",value:function(e){this.fullscreenActive=e}},{key:"toggle",value:function(){this.playerElement&&this.ovpFullscreen.toggle(this.playerElement)}},{key:"fullScreenIcon",value:function(){return this.version.appVersion+(this.fullscreenActive?"/images/exit-full-screen":"/images/full-screen")+(this.enlargeIcon?"-enlarge":"")+(this.hovered?"-active.svg":".svg")}}]),e}()});function Dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jp(e){var t=Object(Q.useState)(Math.min(e.currentAmount,e.maxCapacity)),n=Oe()(t,2),r=n[0],i=n[1];return Object(Q.useEffect)(function(){i(Math.min(e.currentAmount,e.maxCapacity))},[e.currentAmount]),e.isLoading?React.createElement("div",null):React.createElement("div",{className:"capacity-meter"},React.createElement(wo,{percentComplete:r/(e.maxCapacity||1),filledColor:e.filledColor}),React.createElement("p",{className:e.textClass},React.createElement("span",{className:"sr-only"},"DVR capacity:"),r," of ",e.maxCapacity," Recorded"))}angular.module("ovpApp.playerControls").component("togglePip",Object(Ct.react2angular)(function(e){return React.createElement("button",{id:"pip-icon",className:"pip-button button-just-icon",onClick:function(){var e;(null===(e=document)||void 0===e?void 0:e.pictureInPictureElement)?document.exitPictureInPicture():document.getElementById(Eo.e.SPECTRUM_PLAYER).getElementsByTagName("video")[0].requestPictureInPicture()},"aria-label":"picture in picture","prevent-default":"true","aria-pressed":"{props.pipActive}"},React.createElement("img",{alt:"picture in picture",src:l.a.getSelectorValue(u.M).majorMinorVersion+"/images/ki-player-in-player.svg"}))},[],[])),angular.module("ovpApp.playerControls").component("togglePlay",{templateUrl:"js/components/player/toggle-play.html",bindings:{options:"<",player:"<",enlargeIcon:"="},controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{$rootScope:t,version:n,globalKeydown:r,keyMap:i,playerService:o,chromecastService:a,$window:s})}return e.$inject=["$rootScope","version","globalKeydown","keyMap","playerService","chromecastService","$window"],e.$inject=["$rootScope","version","globalKeydown","keyMap","playerService","chromecastService","$window"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.statusText="",this.chromecastService.isCasting()?(this.playing=this.chromecastService.isPlaying(),this.$rootScope.$on("chromecast:toggle-pause",function(t,n){e.playing=!n}),this.$rootScope.$on("chromecast:media-info-changed",function(){e.playing=e.chromecastService.isPlaying()})):(this.playing=this.player.isPlaying(),this.playerSubscriptions={"playback-playing":function(){return e.onPlaybackStarted()},"playback-pause-toggled":function(t){return e.onPlaybackToggled(t)},"playback-stopped":function(){return e.onPlaybackStopped()},error:function(){return e.onPlayerError()}},this.registerPlayerEvents(),this.playerService.assetLoadedSource.subscribe(function(){e.registerPlayerEvents()}),this.togglePlaybackListener=this.$rootScope.$on("toggle-playback",function(){return e.toggle()}),this.resumePlaybackListener=this.$rootScope.$on("playback-resumed",function(){return e.onPlaybackResumed()})),this.keydownHandler=this.globalKeydown.observable.filter(function(t){return e.playerService.isValidPlayRoute()&&"k"===e.keyMap[t.keyCode]&&!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)}).subscribe(function(){return e.toggle()})}},{key:"registerPlayerEvents",value:function(){for(var e in this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.on(e,this.playerSubscriptions[e])}},{key:"$onDestroy",value:function(){if(this.player)for(var e in this.togglePlaybackListener(),this.resumePlaybackListener(),this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.off(e,this.playerSubscriptions[e]);this.keydownHandler.dispose()}},{key:"onPlaybackStarted",value:function(){this.playing=!0}},{key:"onPlaybackResumed",value:function(){this.playing||(this.playing=!0)}},{key:"onPlaybackToggled",value:function(e){this.playing=!e}},{key:"onPlaybackStopped",value:function(){this.playing=!1}},{key:"onPlayerError",value:function(e){e&&e.errorID&&(1000006===e.errorID||1000005===e.errorID)||(this.playing=!1)}},{key:"toggle",value:function(){var e,t,n,r;if(this.options&&(n=this.options.playbackTime,r=this.options.duration),n&&(this.statusText=(this.playing?"paused":"playing")+" at "+Math.floor(n/60)+" minutes, "+Math.floor(n%60)+" seconds"),this.chromecastService.isCasting())return this.chromecastService.togglePlay(),void(this.playing=this.chromecastService.isPlaying());if(this.player.isPaused()?(this.player.play(),this.playing=!0):(this.player.pause(),this.playing=!1),!this.playing&&angular.isFunction(this.options.setBookmarkCallback)){var i={PlaybackTimestamp:1e3*n,Runtime:1e3*r};this.options.setBookmarkCallback(i,"pause button")}this.player.trigger("playback-pause-toggled",!this.playing),(null===(e=this.$window.navigator)||void 0===e?void 0:null===(t=e.mediaSession)||void 0===t?void 0:t.playbackState)&&(this.$window.navigator.mediaSession.playbackState=this.playing?Eo.d.PLAYING:Eo.d.PAUSED)}},{key:"image",value:function(){var e=(this.playing?"pause":"play")+(this.enlargeIcon?"-enlarge":"")+(this.playHover?"-active.svg":".svg");return"/".concat(this.version.appVersion,"/images/").concat(e)}}]),e}()}),angular.module("ovpApp.playerControls").component("toggleSap",{templateUrl:"js/components/player/toggle-sap.html",bindings:{isCasting:"<"},controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{$rootScope:t,version:n,sapService:r,chromecastService:i,playerService:o})}return e.$inject=["$rootScope","version","sapService","chromecastService","playerService"],e.$inject=["$rootScope","version","sapService","chromecastService","playerService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;if(this.chromecastService.isCasting()){var t=this.chromecastService.getSapState(),n=t.sapEnabled,r=t.sapAvailable;this.isSapAvailable=n,this.isSapEnabled=r,this.$rootScope.$on("chromecast:sap-initialized",function(t,n){e.isSapAvailable=n.sapAvailable,e.isSapEnabled=n.sapEnabled}),this.sapToggle=this.toggleSapChromecast}else this.setSapVariables(),this.$rootScope.$on("sap:update",function(t){e.setSapVariables()});this.sapIconHovered=!1}},{key:"toggleSapChromecast",value:function(){this.isSapEnabled=!this.isSapEnabled,this.chromecastService.toggleSap(this.isSapEnabled)}},{key:"setSapVariables",value:function(){var e=a()(i.a.mark(function e(){var t,n,r,o,a=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playerService.getPlayerInstance();case 2:t=e.sent,n=this.sapService.init(t),r=n.stream,o=n.toggle,this.subscription&&this.subscription.dispose(),this.subscription=r.subscribe(function(e){a.isSapEnabled=e.enabled,a.isSapAvailable=e.available}),this.sapToggle=o;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"$onDestroy",value:function(){this.subscription&&this.subscription.dispose()}},{key:"sapToggleImage",value:function(){return this.sapIconHovered?this.version.appVersion+"/images/sap-dvs-active.svg":this.isSapEnabled?this.version.appVersion+"/images/sap-dvs-active.svg":this.version.appVersion+"/images/sap-dvs.svg"}}]),e}()}),angular.module("ovpApp.playerControls").component("toggleWatchOnTv",{bindings:{asset:"<",stream:"<"},templateUrl:"js/components/player/toggle-watch-on-tv.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{modal:t,version:n,$state:r,productActionService:i})}return e.$inject=["modal","version","$state","productActionService"],e.$inject=["modal","version","$state","productActionService"],Ce()(e,[{key:"checkForWatchOnTvActions",value:function(){this.hasWatchOnTvActions=!!this.asset&&this.asset.hasWatchOnTvActions,this.asset&&this.asset.isEpisode&&(this.hasWatchOnTvActions=!!this.action),this.action=this.asset&&this.asset.actions&&this.asset.actions.find(function(e){return"watchOnDemandOnTv"===e.actionType||"resumeOnDemandOnTv"===e.actionType})}},{key:"$onInit",value:function(){this.checkForWatchOnTvActions()}},{key:"$onChanges",value:function(){this.checkForWatchOnTvActions()}},{key:"watchOnTvToggle",value:function(){this.productActionService.executeAction(this.action,this.asset)}},{key:"watchOnTvImage",value:function(){return this.asset&&!this.hasWatchOnTvActions?this.version.appVersion+"/images/watch-on-tv-disable.svg":this.hovered?this.version.appVersion+"/images/watch-on-tv-active.svg":this.version.appVersion+"/images/watch-on-tv.svg"}}]),e}()}),angular.module("ovpApp.playerControls").component("volumeControl",{bindings:{player:"<",onVolumeChangeCallback:"<"},templateUrl:"js/components/player/volume-control.html",controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{version:t,createObservableFunction:n,$rootScope:r,windowFocus:i,globalKeydown:o,keyMap:a,playerService:s,playerOverlayTimer:c,chromecastService:l}),this.DEFAULT_VOL=40}return e.$inject=["version","createObservableFunction","$rootScope","windowFocus","globalKeydown","keyMap","playerService","playerOverlayTimer","chromecastService"],e.$inject=["version","createObservableFunction","$rootScope","windowFocus","globalKeydown","keyMap","playerService","playerOverlayTimer","chromecastService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.onFocus=this.createObservableFunction(),this.onBlur=this.createObservableFunction(),this.onMouseOver=this.createObservableFunction(),this.onMouseLeave=this.createObservableFunction(),this.sliderVisible=!1,this.sliderFocussed=!1,this.iconFocussed=!1,this.imagePath="/"+this.version.appVersion,this.isMouseOver=!1,this.chromecastService.isCasting()?(this.isMuted=this.chromecastService.isMuted(),this.volume=this.isMuted?0:this.chromecastService.getVolume()):(this.isMuted=this.player.isMuted(),this.volume=this.isMuted?0:100*C.a.getItem(k.b.volumeLevel)),this.onMouseOver.subscribe(function(){return e.isMouseOver=!0}),this.onMouseLeave.subscribe(function(){return e.isMouseOver=!1});var t=this.onFocus.filter(function(){return!e.windowFocus.windowJustGotFocus()}).merge(this.onMouseOver),n=this.onBlur.merge(this.onMouseLeave);t.subscribe(function(){e.sliderVisible=!0,n.delay(500).takeUntil(t).subscribe(function(){e.sliderVisible=!1,e.$rootScope.$apply()})});var r=this.onFocus.filter(function(e){return"slider"===Oe()(e,1)[0]}).map(function(){return!0}),i=this.onBlur.filter(function(e){return"slider"===Oe()(e,1)[0]}).map(function(){return!1});r.merge(i).subscribe(function(t){return e.sliderFocussed=t});var o=this.onFocus.filter(function(e){return"icon"===Oe()(e,1)[0]}).map(function(){return!0}),a=this.onBlur.filter(function(e){return"icon"===Oe()(e,1)[0]}).map(function(){return!1});o.merge(a).subscribe(function(t){e.iconFocussed=t,e.iconFocussed&&e.playerOverlayTimer.startOverlayTimer()}),this.keydownHandler=this.globalKeydown.observable.filter(function(t){return e.playerService.isValidPlayRoute()&&"m"===e.keyMap[t.keyCode]&&!(t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)}).subscribe(function(){return e.toggleMute()}),this.$rootScope.$on("chromecast:volume-changed",function(t,n){e.volume=100*n,e.isMuted=e.chromecastService.isMuted()}),this.$rootScope.$on("chromecast:toggle-mute",function(t,n,r){e.isMuted=n,e.volume=100*r})}},{key:"$onDestroy",value:function(){this.keydownHandler.dispose()}},{key:"onVolumeChange",value:function(){this.chromecastService.isCasting()?this.chromecastService.setVolume(this.volume):this.adjustVolume(this.volume)}},{key:"toggleMute",value:function(){if(this.chromecastService.isCasting())return this.chromecastService.toggleMute(),this.isMuted=this.chromecastService.isMuted(),void(this.volume=this.isMuted?0:this.chromecastService.getVolume());this.player.isMuted()?(this.player.setMuted(!1),this.volume=this.getVolume()||this.DEFAULT_VOL,this.adjustVolume(this.volume,!1),this.isMuted=!1):(this.player.setMuted(!0),this.volume=0,this.isMuted=!0),this.$rootScope.$emit("Analytics:selectAction-toggleMute",{muted:this.isMuted})}},{key:"image",value:function(){var e;return e=this.isMuted||0===this.volume?"/images/volume-mute-enlarge":"/images/volume-enlarge",this.imagePath+e+(this.isMouseOver?"-active.svg":".svg")}},{key:"adjustVolume",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=parseInt(e),this.player.setVolume(e/100),t&&(this.isMuted=0===e,this.player.setMuted(this.isMuted)),this.playerService.userUnmutedPlayer(),"function"==typeof this.onVolumeChangeCallback&&this.onVolumeChangeCallback()}},{key:"getVolume",value:function(){var e=this.player.getVolume();return void 0===e||isNaN(e)?this.DEFAULT_VOL:parseFloat(100*e)}}]),e}()}),function(){angular.module("ovpApp.messages",["ovpApp.messages.local"]).provider("messages",function(){var t=null;this.$get=function(n){return t||(t=new e(n)),t},this.$get.$inject=["OVPAPP_MESSAGES_LOCAL"],this.$get.$inject=["OVPAPP_MESSAGES_LOCAL"]});var e=function(){function e(t){we()(this,e),this.messages=t.reduce(function(e,t){return e[t.full_code]=t,e},{})}return e.$inject=["messages"],e.$inject=["messages"],Ce()(e,[{key:"getMessageForCode",value:function(e,t){var n=this.messages[e];if(n){var r=t&&t.useAltText?n.altText:n.full_customer_message;return this.subVars(r,t)}return""}},{key:"getHeaderForCode",value:function(e,t){var n=this.messages[e];return n?this.subVars(n.header,t):""}},{key:"getAltForCode",value:function(e,t){var n=this.messages[e];return n?this.subVars(n.altText,t):""}},{key:"getAlertForCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.messages[e];return t.CODE=e,{message:this.subVars(n.full_customer_message,t),title:n.header?this.subVars(n.header,t):null,buttonText:"OK"}}},{key:"subVars",value:function(e,t){return t&&(e=Object.keys(t).reduce(function(e,n){return e.replace("{{"+n+"}}",t[n])},e)),e}}]),e}()}(),function(){function e(e,t,n,r){return{restrict:"AE",template:"{{errorMessage}}",scope:{errorCodes:"@",replaceVars:"@"},link:function(i,o){var a={};i.errorMessage="";var s=r(o);if(i.errorCodes){if(i.replaceVars)try{a=JSON.parse(i.replaceVars)}catch(t){e.error(t)}i.errorMessage=t.getTrustedHtml(te.a.getErrorInfo(i.errorCodes,a).message),l.a.getSelectorValue(u.c)&&i.$watch(function(){return(s(i)||"").toString()},function(){o.html(i.errorMessage),n(o,null,-9999)(i)})}}}}function t(e){return{restrict:"AE",template:"{{errorHeader}}",scope:{errorCodesHeader:"@",replaceVars:"@"},link:function(t){var n={};if(t.errorHeader="",t.errorCodesHeader){if(t.replaceVars)try{n=JSON.parse(t.replaceVars)}catch(t){e.error(t)}t.errorHeader=te.a.getErrorInfo(t.errorCodesHeader,n).title}}}}t.$inject=["$log"],e.$inject=["$log","$sce","$compile","$parse"],t.$inject=["$log"],e.$inject=["$log","$sce","$compile","$parse"],angular.module("ovpApp.config",[]).directive("errorCodes",e).directive("errorCodesHeader",t)}(),angular.module("ovpApp.playerControls").component("toggleDebug",{templateUrl:"js/components/player/toggle-debug.html",bindings:{player:"<"},controller:function(){function e(t){we()(this,e),angular.extend(this,{dateFormat:t})}return e.$inject=["dateFormat"],e.$inject=["dateFormat"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.status={playbackPosition:"",playbackStatus:"",adPlaying:!1,adInfo:"",eptBookmark:"",bufferStatus:"",bitRateStatus:"",droppedFrameCount:0,bufferLength:0,bufferTime:0,hidden:!1},this.playerSubscriptions={"status-changed":function(t){return e.onStatusChanged(t)},"player-position-changed":function(t){return e.onPlayerPositionChanged(t)},"ad-break-started":function(){return e.onAdBreakStarted()},"ad-break-stopped":function(){return e.onAdBreakStopped()},"ad-started":function(){return e.onAdStarted()},"ad-stopped":function(){return e.onAdStopped()},"bitrate-changed":function(){return e.onBitrateChanged(event)}},this.registerPlayerEvents()}},{key:"onBitrateChanged",value:function(e){e&e.event&e.event.profile&&(this.status.bitRateStatus=e.event.profile)}},{key:"registerPlayerEvents",value:function(){for(var e in this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.on(e,this.playerSubscriptions[e])}},{key:"$onDestroy",value:function(){for(var e in this.playerSubscriptions)Object.prototype.hasOwnProperty.call(this.playerSubscriptions,e)&&this.player.off(e,this.playerSubscriptions[e])}},{key:"onStatusChanged",value:function(e){this.status.playbackStatus=e.status}},{key:"onPlayerPositionChanged",value:function(e){this.status.playbackPosition=this.dateFormat.hhmmss(e.PlaybackTimestamp/1e3),this.status.bufferLength=e.BufferLength,this.status.bufferStatus=e.BufferStatus,this.status.bufferTime=this.dateFormat.hhmmss(e.BufferTime/1e3),this.status.droppedFramesCount=e.DroppedFramesCount||0,this.status.bitRateStatus=e.BitRateStatus,this.status.adInfo=e.AdInfo,this.status.eptBookmark=this.dateFormat.hhmmss(e.EPTBookmark/1e3)}},{key:"onAdBreakStarted",value:function(){this.status.adPlaying=!0}},{key:"onAdBreakStopped",value:function(){this.status.adPlaying=!1}},{key:"onAdStarted",value:function(){this.status.adPlaying=!0}},{key:"onAdStopped",value:function(){this.status.adPlaying=!1}}]),e}()}),angular.module("ovpApp.components.pinEntry").component("pinValidate",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/pin-entry/pin-validate.html",controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),angular.extend(this,{parentalControlsService:t,$rootScope:n,$scope:r,messages:i,promiseTracker:o,$element:a,$q:s,Debouncer:c})}return e.$inject=["parentalControlsService","$rootScope","$scope","messages","promiseTracker","$element","$q","Debouncer"],e.$inject=["parentalControlsService","$rootScope","$scope","messages","promiseTracker","$element","$q","Debouncer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.tagRegex=/(<[^>]+>)/g,this.loadingTracker=this.promiseTracker(),this.parentalControlsService.isPrimaryAccount().then(function(t){return e.isPrimaryAccount=t}),this.errorDelay=new this.Debouncer(this.$scope)}},{key:"$onChanges",value:function(e){var t=this;if(e.resolve){var n=this.resolve.options||{};this.pinInstructions=n.pinInstructions,this.pinService=n.pinService,this.showOOHWarningMessage=n.showOOHWarningMessage||!1,this.pleaseEnterPin=n.pleaseEnterPin||this.messages.getMessageForCode("MSG-9044"),this.minLength=n.minLength||4,this.maxLength=n.maxLength||4;var r=void 0===n.enableForgotPin||n.enableForgotPin;this.$q.when(r).then(function(e){return t.enableForgotPin=e})}}},{key:"onInputChange",value:function(){var e=this;this.showNumbersOnlyErrorMessage=!1,this.errorDelay.debounce(function(){e.showNumbersOnlyErrorMessage=e.form.currentPIN.$error.pattern})}},{key:"validatePIN",value:function(){var e=this;if(this.isValidationError=!1,void 0!==this.currentPIN){var t=this.pinService.validatePIN(this.currentPIN).then(function(){e.modalInstance.close("pinValidated"),e.isValidationError=!1,e.$rootScope.$emit("Analytics:pinEntry",{success:!0})}).catch(function(t){e.isValidationError=!0,e.currentPIN="",e.$element.find("#pin").focus(),e.errorMessage=te.a.getErrorInfo("WPC-1006").message,e.$rootScope.$emit("Analytics:pinEntry",{success:!1})});this.loadingTracker.addPromise(t)}else this.isValidationError=!0}},{key:"forgotPIN",value:function(){this.modalInstance.dismiss("forgotPIN")}}]),e}()}),function(){angular.module("ovpApp.components.pinEntry").directive("comparePin",function(){return{require:"ngModel",scope:{otherModelValue:"=comparePin"},link:function(e,t,n,r){r.$validators.comparePin=function(t){return!function(e){return angular.isDefined(e)&&4==e.length}(t)||t===e.otherModelValue},e.$watch("otherModelValue",function(){r.$validate()})}}}).component("pinReset",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/pin-entry/pin-reset.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{PIN_ENTRY_TYPE:t,parentalControlsService:n,$rootScope:r,$scope:i,promiseTracker:o,messages:a,Debouncer:s})}return e.$inject=["PIN_ENTRY_TYPE","parentalControlsService","$rootScope","$scope","promiseTracker","messages","Debouncer"],e.$inject=["PIN_ENTRY_TYPE","parentalControlsService","$rootScope","$scope","promiseTracker","messages","Debouncer"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.tagRegex=/(<[^>]+>)/g,this.loadingTracker=this.promiseTracker(),this.parentalControlsService.isPrimaryAccount().then(function(t){return e.isPrimaryAccount=t}),this.errorDelay=new this.Debouncer(this.$scope)}},{key:"$onChanges",value:function(e){if(e.resolve){var t=this.resolve.options||{};this.pinInstructions=t.pinInstructions,this.headerMessage=t.headerMessage,this.secondaryMessage=t.secondaryMessage,this.password=t.password,this.pinService=t.pinService}}},{key:"onInputChange",value:function(){var e=this;this.showNumbersOnlyErrorMessage=!1,this.errorDelay.debounce(function(){e.showNumbersOnlyErrorMessage=e.form.newPIN.$error.pattern})}},{key:"resetPIN",value:function(){var e=this;if(this.form.$valid){var t=this.pinService.shouldSetDefaults().then(function(t){return t?e.pinService.setPINForFirstTimeWithDefaultRatings(e.newPIN,e.password):e.pinService.setPIN(e.newPIN,e.password)}).then(function(){e.modalInstance.close("pinReset")},function(){e.modalInstance.dismiss("pinValidationError"),Vi.showToastMessage(te.a.getErrorInfo("WGE-1001").message)});this.loadingTracker.addPromise(t)}}}]),e}()})}(),angular.module("ovpApp.components.pinEntry.message",[]).component("pinEntryMessage",{bindings:{resolve:"<",modalInstance:"<"},templateUrl:"js/components/pin-entry/pin-entry-message.html",controller:function(){function e(){we()(this,e)}return Ce()(e,[{key:"$onInit",value:function(){this.tagRegex=/(<[^>]+>)/g}},{key:"$onChanges",value:function(e){if(e.resolve){var t=this.resolve.options||{};this.headerMessage=t.headerMessage,this.secondaryMessage=t.secondaryMessage}}}]),e}()}),angular.module("ovpApp.components.watchNext",["ovpApp.player","ovpApp.product.service","ovpApp.player.streamService","ovpApp.player.playerService"]).component("watchNext",{templateUrl:"js/components/watch-next/watch-next.html",controller:function(){function e(t,n,r,i,o,a,s,c,l){we()(this,e),angular.extend(this,{$rootScope:t,$interval:n,$state:r,chromecastService:i,playerService:o,productService:a,$transitions:s,playerStreamService:c,analyticsPlayback:l})}return e.$inject=["$rootScope","$interval","$state","chromecastService","playerService","productService","$transitions","playerStreamService","analyticsPlayback"],e.$inject=["$rootScope","$interval","$state","chromecastService","playerService","productService","$transitions","playerStreamService","analyticsPlayback"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.asset={},this.countdownText="",this.watchNextShowing=!1,this.countdownInterval=null,this.playSuspended=!1,this.autoPlayEnabled=l.a.getSelectorValue(u.Df)&&!1!==C.a.getItem(k.b.autoPlayEnabled),this.chromecastService.isCasting()||(this.$rootScope.$on("stream-uri-obtained",function(t,n){return e.updateAssetInformation(event,n)}),this.$rootScope.$on("mini-player:hide",function(){e.countdown<=1||(e.stopCountdown(),e.hideWatchNext())}),this.$rootScope.$on("watch-next:autoPlayToggled",function(t,n){e.autoPlayEnabled=n}),this.$rootScope.$on("chromecast:connection-changed",function(t,n){n.connected&&(e.stopCountdown(),e.hideWatchNext(!0))}),this.$transitions.onSuccess({from:"ovp.ondemand.**"},function(){e.player&&!l.a.getSelectorValue(u.Mc)&&(e.stopCountdown(),e.hideWatchNext())}))}},{key:"updateAssetInformation",value:function(){var e=a()(i.a.mark(function e(t,n){var r,o=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===Eo.g.VOD){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.playerService.getPlayerInstance();case 4:r=e.sent,this.player!==r&&(this.player&&(this.stopCountdown(),this.hideWatchNext()),this.player=r),this.asset=this.playerStreamService.getCurrentAsset(),this.iconicImage=this.asset.imageUri({orientation:"banner"}),this.asset.seasons&&this.asset.seasons?(this.nextEpisode=this.getNextEpisode(this.asset.seasons),this.registerPlayerListeners()):this.asset.isEpisode&&this.productService.withTmsSeriesId(this.asset.tmsSeriesId.toString()).fetch().then(function(e){o.nextEpisode=o.getNextEpisode(e.seasons)}).catch(function(){o.nextEpisode=void 0}).finally(function(){return o.registerPlayerListeners()});case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNextEpisode",value:function(e){var t=this,n=e.find(this.isCurrentSeason.bind(this));if(n&&n.episodes){var r=n.episodes.find(function(e){return e.episodeNumber===t.asset.episodeNumber});if(r&&r.watchNext){var i=n.episodes.find(function(e){return e.episodeNumber===r.watchNext.episode}),o=angular.copy(r.watchNext);return o.title=i.title,o.programId=i.providerAssetIds[0],o}}}},{key:"registerPlayerListeners",value:function(){var e=this;this.nextEpisode&&(this.playerSubscriptions={"player-position-changed":function(t){var n=Math.floor((t.Runtime-t.PlaybackTimestamp)/1e3);n>l.a.getSelectorValue(u.Cf)||e.playSuspended?e.countdownInterval&&e.stopCountdown():e.autoPlayEnabled&&(e.autoPlayEnabled?!e.countdownInterval:!e.watchNextShowing)&&(e.$state.current.name.startsWith("ovp.ondemand.play")&&e.showWatchNextView(),e.countdownInterval||e.startCountdown(n))},"playback-pause-toggled":function(t){e.playSuspended=t,t&&e.stopCountdown()},"buffering-began":function(){e.playSuspended=!0,e.stopCountdown()},"buffering-ended":function(){e.playSuspended=!1},"playback-started":function(){e.playSuspended=!1},"playback-stopped":function(){(!e.countdownInterval||e.countdownInterval&&e.countdown>1)&&(e.playSuspended=!0,e.stopCountdown(),e.hideWatchNext())}},Object.keys(this.playerSubscriptions).forEach(function(t){return e.player.on(t,e.playerSubscriptions[t])}))}},{key:"deregisterPlayerListeners",value:function(){var e=this;this.playerSubscriptions&&(Object.keys(this.playerSubscriptions).forEach(function(t){return e.player.off(t,e.playerSubscriptions[t])}),delete this.playerSubscriptions)}},{key:"isCurrentSeason",value:function(e){return e.number==this.asset.seasonNumber}},{key:"returnToPlayer",value:function(){Object(y.j)("OneApp_selectAction_episodeSwitch_resumeCurrentEpisode",Rp(Rp({},Ci(this.asset)),{},{ctntStrmPlbkType:lt.i.VOD,currPageElemIntValue:this.countdown,currPageElemStdName:lt.l.RESUME,ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD)})),angular.element("#watchNextWrapper").attr("tabindex","-1"),this.stopCountdown(),this.hideWatchNext(!0)}},{key:"showWatchNextView",value:function(){angular.element("#watchNextWrapper").attr("tabindex",void 0),angular.element("#current-episode").focus(),this.$rootScope.$emit("watch-next:show"),this.watchNextShowing=!0,Object(y.j)("OneApp_episodeSwitch_modalView",{modalLoadTimeMs:1,modalType:lt.f.OPTIONS,modalText:"Watch Next"})}},{key:"startCountdown",value:function(e){var t=this,n=0;this.countdownInterval=this.$interval(function(){0===n&&(t.countdownText="Watch next episode in ".concat(e," \n                                seconds. Auto play may be disabled in settings")),t.countdown=e-n,n++,0===t.countdown&&t.endCurrentEpisode(lt.m.APPLICATION),5!==t.countdown&&10!==t.countdown||(t.countdownText="Next episode in ".concat(t.countdown," seconds"))},1e3,e+1)}},{key:"stopCountdown",value:function(){this.countdownInterval&&(this.$interval.cancel(this.countdownInterval),this.countdownInterval=null)}},{key:"hideWatchNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.deregisterPlayerListeners(),this.watchNextShowing=!1,this.countdown=null,this.$rootScope.$emit("watch-next:hide",e)}},{key:"endCurrentEpisode",value:function(e){Object(y.j)("OneApp_selectAction_episodeSwitch_modal_watchNextEpisode",Rp(Rp({},Ci(this.asset)),{},{ctntStrmPlbkType:lt.i.VOD,currPageElemIntValue:this.countdown,currPageElemStdName:lt.l.PLAY,ctntStrmDrmType:Io.getDRMCapabilityForAnalytics(Eo.g.VOD)})),this.analyticsPlayback.setNextPlaybackIsFromWatchNext(e===lt.m.APPLICATION),this.analyticsPlayback.setNextPlaybackTriggeredBy(e),this.autoPlayEnabled||e===lt.m.USER?this.$state.go("ovp.ondemand.playProduct",{productID:this.nextEpisode.programId,analytics:{destinationOverride:"override.episodeSwitch"},streamIndex:this.nextEpisode.stream}):this.$state.go("product.series",{tmsSeriesId:this.asset.tmsSeriesId})}}]),e}()}),jp.propTypes={currentAmount:At.a.number.isRequired,maxCapacity:At.a.number.isRequired,textClass:At.a.string,isLoading:At.a.bool,filledColor:At.a.string};var Np=jp,Mp=function(e){var t=e.width,n=void 0===t?"19px":t,r=e.height,i=void 0===r?"19px":r,o=e.fill,a={height:i,width:n,fontSize:i,color:void 0===o?"#FFFFFF":o,display:"flex",alignItems:"center"};return React.createElement("span",{style:a,className:"si si-settings"})},Vp=function(e){e.style;var t=e.width,n=void 0===t?"19":t,r=e.height,i=void 0===r?"19":r,o=e.viewbox,a=void 0===o?"0 0 15 15":o,s=e.fill,c=void 0===s?"#fff":s;return React.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a},React.createElement("path",{fill:c,fillRule:"evenodd",d:"M14.246 2.196l-1.33-1.33-5.67 5.67-.029-.028-.028.029L1.519.866l-1.33 1.33 5.67 5.67-5.67 5.67 1.33 1.33 5.67-5.67.028.028.03-.028 5.67 5.67 1.33-1.33-5.671-5.67z"}))},Lp=function(e){var t=e.width,n=void 0===t?"120":t,r=e.height,i=void 0===r?"120":r,o=e.viewbox,a=void 0===o?"0 0 120 120":o,s=e.stroke,c=void 0===s?"#FFFFFF":s,l=e.strokeWidth,u=void 0===l?"2":l,d=(e.opacity,e.fill),p=void 0===d?"#000000":d;return React.createElement("svg",{focusable:"false","aria-hidden":"true",width:n,height:i,viewBox:a,version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},React.createElement("defs",null,React.createElement("path",{d:"M892,494 C882.058875,494 874,485.941125 874,476 C874,466.058875 882.058875,458 892,458 C901.941125,458 910,466.058875 910,476 C910,485.941125 901.941125,494 892,494 Z M899.065733,475.661158 L888.792046,469.296353 C888.043485,468.805313 887.430765,469.166513 887.430765,470.099394 L887.430765,482.454842 C887.430765,483.387003 888.043485,483.748443 888.792046,483.257643 L899.065733,476.893079 C899.065733,476.893079 899.430773,476.636038 899.430773,476.276998 C899.430773,475.917958 899.065733,475.661158 899.065733,475.661158 Z",id:"path-2"}),React.createElement("filter",{x:"-181.9%",y:"-181.9%",width:"463.9%",height:"463.9%",filterUnits:"objectBoundingBox",id:"filter-2"},React.createElement("feMorphology",{radius:"3.5",operator:"dilate",in:"SourceAlpha",result:"shadowSpreadOuter1"}),React.createElement("feOffset",{dx:"0",dy:"0",in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),React.createElement("feGaussianBlur",{stdDeviation:"19",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),React.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),React.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.554064764 0",type:"matrix",in:"shadowBlurOuter1"}))),React.createElement("g",{id:"Design",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.75"},React.createElement("g",{id:"cDVR_My_Recordings_Grid-Copy-2",transform:"translate(-832.000000, -416.000000)"},React.createElement("g",{id:"gr_play_overlay-copy-6"},React.createElement("use",{fill:p,fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-2"}),React.createElement("use",{stroke:c,strokeWidth:u,fillOpacity:"0.501976",fill:p,fillRule:"evenodd",xlinkHref:"#path-2"})))))},Fp=function(e){var t=Math.round(e.percentPlayed),n={backgroundColor:e.unfilledBackgroundColor?e.unfilledBackgroundColor:"transparent"},r={backgroundColor:e.filledBackgroundColor?e.filledBackgroundColor:"#008CFF",width:t+"%"};return t?React.createElement("div",{className:"progress-bar-wrapper"},React.createElement("div",{className:"progress",style:n},e.hideAria?React.createElement("div",{className:"progress-bar",style:r,role:"progressbar"}):React.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t,"aria-valuetext":t?t+"% Watched,":"0% Watched,",style:r}))):null};Fp.propTypes={percentPlayed:At.a.number,hideAria:At.a.bool,unfilledBackgroundColor:At.a.string,filledBackgroundColor:At.a.string};var Up=Fp;function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Hp=function(e){var t=e.asset,n=e.children,r=e.isFocusItem,i=e.context,o=e.analyticsSelectAction,a=e.oohUnavailable,s=e.dropdownButtonDescription,c=e.onItemClick,l=e.imageStyle,u=e.analyticsModalViewId,d=Object(Q.useRef)(null);return Object(Q.useEffect)(function(){r&&d.current.focus()},[r]),React.createElement("div",{className:"landscape-product-item"},React.createElement("div",{className:"image-container ".concat(a),onClick:c,"aria-hidden":"true"},React.createElement("div",{className:"item-image",style:l})),React.createElement("div",{className:"title-container"},React.createElement("a",{ref:d,href:"#",onClick:c,className:"kite-h2 title ".concat(a)},t.title),React.createElement(qi,{analyticsSelectAction:o,analyticsSelectActionContext:i,description:s,analyticsModalViewId:u},n)))},Gp=function(e){var t=e.asset,n=e.children,r=e.isFocusItem,i=e.context,o=e.analyticsSelectAction,a=e.oohUnavailable,s=e.dropdownButtonDescription,c=e.onItemClick,l=e.imageStyle,u=e.analyticsModalViewId,d=Object(Q.useRef)(null);return Object(Q.useEffect)(function(){r&&d.current.focus()},[r]),React.createElement("div",{className:"landscape-product-item"},React.createElement("div",{className:"image-container ".concat(a),onClick:c,"aria-hidden":"true"},React.createElement("div",{className:"item-image",style:l}),!t.oohUnavailable&&React.createElement("svg",{"aria-hidden":"true",focusable:"false",className:"play-icon"},React.createElement(Lp,null)),React.createElement(Up,{percentPlayed:t.percentPlayed,hideAria:!0})),React.createElement("div",{className:"title-container"},React.createElement("a",{ref:d,href:"#",onClick:c,className:"kite-h2 title ".concat(a)},React.createElement("span",{className:"sr-only"},t.percentPlayed>0?"Resume,":"Watch,"),t.title,t.percentPlayed&&React.createElement("span",{className:"sr-only"},", ",Math.round(t.percentPlayed),"% watched."),t.oohUnavailable&&React.createElement("span",{className:"sr-only"},"Streaming unavailable.")),React.createElement(qi,{analyticsSelectAction:o,analyticsSelectActionContext:i,description:s,analyticsModalViewId:u},n)))};var qp=function(e){var t=e.asset,n=e.index,r=e.metadata,i={backgroundImage:"url(".concat(t.imageUri({orientation:"heroic",height:400}),")")},o=t.oohUnavailable?"ooh-unavailable":"",a="More options for ".concat(t.title),s=Wp(Wp({},e),{},{onItemClick:function(){e.onItemClick(t,n)},imageStyle:i,oohUnavailable:o,dropdownButtonDescription:a});return React.createElement(React.Fragment,null,t.isSeries?React.createElement(Hp,s):React.createElement(Gp,s),r)};function zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zp(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kp(e){var t=e.asset,n=e.index,r=e.onDropdownMenuClick,i=t.totalRecordings>1?"Recordings":"Recording",o=React.createElement("div",{className:"recording-details"},React.createElement("p",{className:"recorded-date"},"Recorded ",function(e){var t=e.startTime,n="";if(t){var r=new Date(+t).setHours(0,0,0,0);if(r===new Date(Date.now()).setHours(0,0,0,0))n="Today";else if(r===new Date(Date.now()-864e5).setHours(0,0,0,0))n="Yesterday";else{var i=new Date(+t),o=i.getDate(),a=i.getMonth()+1,s=i.getFullYear().toString();n="".concat(a,"/").concat(o,"/").concat(s.slice(-2))}}return n}(t)),t.totalRecordings&&React.createElement("p",{className:"recorded-date"},t.totalRecordings," ",i)),a=Yp(Yp({},e),{},{asset:Yp(Yp({},t),{},{oohUnavailable:!1}),oohUnavailable:!1,metadata:o,context:"cdvr",analyticsModalViewId:"OneApp_modalView_dvr_overflowActionsSheet"});return React.createElement("li",{className:"recording-grid-item"},React.createElement(qp,a,function(e,t,n){var r=function(r){n(e,r,t)};function i(){return React.createElement(Xi,{key:"getMoreInfo",text:"Get More Info",action:"getMoreInfo",icon:React.createElement(Mn,null),onClick:r})}var o=[React.createElement(Ki,{key:"cdvrDeleteRecording",text:"Delete Recording",style:{color:"#d6312b"},action:"cdvrDeleteRecording",icon:React.createElement(Vp,{fill:"#d6312b"}),onClick:r}),i()];return e.isSeries&&(o=e.isSeriesRecording?[React.createElement(Ki,{key:"cdvrCancelSeriesRecording",text:"Cancel Series",style:{color:"#d6312b"},action:"cdvrCancelSeriesRecording",icon:React.createElement(Vp,{fill:"#d6312b"}),onClick:r}),React.createElement(Ki,{key:"cdvrEditSeriesRecording",text:"Edit Series",action:"cdvrEditSeriesRecording",icon:React.createElement(Mp,null),onClick:r}),i()]:[i()]),o}(t,n,r)))}Kp.propTypes={asset:At.a.object.isRequired,onItemClick:At.a.func.isRequired,analyticsSelectAction:At.a.object,index:At.a.number,isFocusItem:At.a.bool};var Jp=Kp,Qp=function(e){var t=e.recordings.map(function(t,n){return React.createElement(Jp,{key:t.title+t.startTime+n,isFocusItem:n===e.focusIndex,asset:t,index:n,onDropdownMenuClick:e.onDropdownMenuClick,onItemClick:e.onClick,analyticsSelectAction:e.analyticsSelectAction})});return React.createElement("ul",{className:"recording-grid"},t)},Xp=function(e){var t,n;return(null===e||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:null===(n=t.allRatings)||void 0===n?void 0:n.length)>0?angular.element(document.body).injector().get("parentalControlsService").isBlocked(e.details.allRatings,e.ipTmsGuideServiceIds,e.details.allIpVPPs).then(function(t){return e.blockedReason=t.reason,t.isBlocked}):Promise.resolve(!1)};function Zp(e){var t=this,n=e.$rootScope,r=e.$state,i=e.analyticsSelectAction,o=e.cancelSeriesRecording,a=e.deleteRecording,s=e.fetchSeriesRecordings,c=e.getQuotas,l=e.getRecordings,u=e.recordingsLoaded,d=e.hasRecordingsFetchError,p=e.isLoading,h=e.kiteModalService,v=e.messages,f=e.numOfRecordings,m=e.oohService,g=e.productActionService,y=e.productService,S=e.quotaTotal,w=e.quotaLoaded,$=e.recordings,T=e.entryService,O=Object(Q.useState)({actionPending:!1,focusIndex:null,nearCapacityLimit:!1,pageLoadingComplete:!1,seriesRecording:!1}),E=Oe()(O,2),A=E[0],P=E[1],I=function(e,t){a(e),P({focusIndex:t})},x=function(e){o(e)};Object(Q.useEffect)(function(){c({requestUrl:e.cDVRQuotaEndpoint}),T.forDefaultProfile().then(function(t){l({requestUrl:e.piHost+t.cdvr(),ooh:e.ooh,imageServerEndpoint:e.imageServerEndpoint})})},[]),Object(Q.useEffect)(function(){f&&function(){var e=k.b.cdvrStorageFullDialogDay,t=k.b.cdvrStorageFullDialogCounter,n=parseInt(C.a.getItem(e),10)||null,r=(parseInt(C.a.getItem(t),10),(new Date).setHours(0,0,0,0));r!==n&&C.a.setItem(e,r)}(),!p&&!A.pageLoadingComplete&&u&&w&&(n.$broadcast("pageChangeComplete",r.current),P({pageLoadingComplete:!0})),A.seriesRecording&&r.go("ovp.cdvr.recordedSeries"),d&&h.errorAlert("WCD-1006")},[p,u,w,f,A.seriesRecording,d]);var _=!p&&f<1?v.getMessageForCode("MSG-9079"):null;return React.createElement("div",{className:"dvr-recorded-container"},React.createElement("div",{className:"dvr-recorded-header-container"},React.createElement(Nn,{focusOnLoad:!0},React.createElement("h1",{className:"kite-cell kite-cell-4 kite-h1",tabIndex:"-2",id:"screen_title"},"Recordings")),!A.actionPending&&React.createElement(Np,{maxCapacity:S,isLoading:p&&!f,currentAmount:f,filledColor:A.nearCapacityLimit?"#D6312B":void 0})),p&&!f||A.actionPending?React.createElement(Lu,{message:"Loading..."}):null,_?React.createElement("div",{role:"heading","aria-level":"2",className:"empty-list-message"},_):React.createElement(Qp,{analyticsSelectAction:i,onDropdownMenuClick:function(e,n,o){if("getMoreInfo"===n){i.selectAction(null,{modalName:"overflowActionsSheet",modalType:"options",elementStandardizedName:"moreInfo"});var a=e.clickRoute;(a=Object(Dl.modifiedUriForGetMoreInfo)(a))&&r.go.apply(r,on()(a))}else{P({actionPending:!0});var s="cdvrDeleteRecording"===n?I.bind(t,e,o):"cdvrCancelSeriesRecording"===n?x.bind(t,e):void 0;(e.isSeriesRecording?y.withTmsSeriesId(e.tmsSeriesId):e.isSeries?y.withTmsId(e.tmsProviderProgramID):y.withTmsId(e.tmsProgramId)).fetch(!0).then(function(e){P({actionPending:!1});var t=e.actions.find(function(e){return e.actionType===n});g.executeAction(t,e,s)},function(t){P({actionPending:!1}),h.errorAlert("WGE-1001",void 0,{errorExtras:{cause:"Unhandled Error for dvr-recorded onDropdownMenuClick",action:JSON.stringify(n),asset:JSON.stringify(e,Object(b.b)()),error:JSON.stringify(t)}})})}},focusIndex:A.focusIndex,recordings:$,onClick:function(t,r){if(n.$emit("Analytics:selectContent",{category:"navigation",triggeredBy:"user",operationType:"assetSelection",elementIndex:r,pageSectionName:"contentArea",asset:t}),t.isSeries)s({getMoreInfoRoute:t.clickRoute,$http:e.$http,httpParams:{url:e.piHost+t.clickRoute[1].uri,withCredentials:!0,method:"GET"},ooh:e.ooh,imageServerEndpoint:e.imageServerEndpoint,isParentalBlocked:Xp}),P({actionPending:!0,seriesRecording:!0});else{if(t.oohUnavailable)return void m.showOohModal();y.withTmsId(t.tmsProgramId,{application:Su.DVR_RECORDED}).fetch(!0).then(function(e){P({actionPending:!0,seriesRecording:!1});var t=e.actions.find(function(e){return"cdvrPlayRecording"===e.actionType||"cdvrResumeRecording"===e.actionType});g.executeAction(t,e)})}}}))}Zp.propTypes={recordingsLoaded:At.a.bool,recordings:At.a.array,isLoading:At.a.bool,numOfRecordings:At.a.number,quotaTotal:At.a.number,quotaLoaded:At.a.bool,hasRecordingsFetchError:At.a.object,$rootScope:At.a.object.isRequired,$state:At.a.object.isRequired,oohService:At.a.object.isRequired,productService:At.a.object.isRequired,analyticsSelectAction:At.a.object.isRequired};var eh=Object($t.connect)(function(e){return{recordingsLoaded:Object(Dl.getRecordingsLoaded)(e),recordings:Object(Dl.getRecordings)(e),isLoading:Object(Dl.getRecordingsIsLoading)(e),numOfRecordings:Object(Dl.getNumRecordings)(e),quotaTotal:Object(Dl.getQuotaTotal)(e),quotaLoaded:Object(Dl.getQuotaDataIsLoaded)(e),hasRecordingsFetchError:Object(Dl.getRecordingsError)(e),piHost:Object(u.Cd)(e),ooh:Object(ge.h)(e),imageServerEndpoint:Object(u.vc)(e),cDVRQuotaEndpoint:Object(u.J)(e)}},function(e){return{getRecordings:function(t){return e(Dl.recordingActions.request(t))},deleteRecording:function(t){return e(Dl.deleteRecordingActions.success(t))},cancelSeriesRecording:function(t){return e(Dl.cancelSeriesActions.success(t))},fetchSeriesRecordings:function(t){return e(Dl.getSeriesRecordingsActions.request(t))},getQuotas:function(t){return e(Dl.quotaActions.request(t))}}})(Zp);angular.module("ovpApp.dvrRecorded",["ui.router","ovpApp.services.cdvr","ovpApp.product.productActionService","ovpApp.product.service","ovpApp.services.kiteModal","ovpApp.services.oohService","ovpApp.analytics.events.selectAction","ovpApp.messages"]).component("dvrRecorded",Object(Ct.react2angular)(function(e){return React.createElement($t.Provider,{store:e.store},React.createElement(eh,e))},[],["oohService","$state","productService","productActionService","store","kiteModalService","$rootScope","analyticsSelectAction","messages","$http","entryService"]));var th=function(e){e.style;var t=e.width,n=void 0===t?"31":t,r=e.height,i=void 0===r?"31":r,o=e.viewbox,a=void 0===o?"0 0 31 31":o,s=e.stroke,c=void 0===s?"#63738A":s,l=(e.strokeWidth,e.fill),u=void 0===l?"none":l;return React.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:i,viewBox:a},React.createElement("g",{fill:u,fillRule:"evenodd",transform:"translate(1 1)"},React.createElement("circle",{cx:"14.5",cy:"14.5",r:"14.5",stroke:c,strokeOpacity:".659"}),React.createElement("path",{fill:"#FFF",d:"M21 19.769L19.763 21l-5.257-5.256L9.237 21 8 19.769l5.269-5.256-.038-.013.038-.013L8 9.231 9.237 8l5.27 5.256L19.762 8 21 9.231l-5.269 5.256.038.013-.038.013z"})))},nh=function(e){var t=e.style,n=void 0===t?{}:t,r=e.width,i=void 0===r?"30":r,o=e.height,a=void 0===o?"30":o,s=e.viewbox,c=void 0===s?"0 0 30 30":s,l=e.stroke,u=void 0===l?"#FFF":l,d=e.strokeWidth,p=void 0===d?"2":d,h=(e.opacity,e.fill),v=void 0===h?"none":h;return React.createElement("svg",{focusable:"false","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:i,height:a,viewBox:c,style:n},React.createElement("path",{fill:v,fillRule:"evenodd",stroke:u,strokeWidth:p,d:"M15 29C7.268 29 1 22.732 1 15S7.268 1 15 1s14 6.268 14 14-6.268 14-14 14zm5.496-14.264l-7.991-4.95c-.582-.382-1.059-.1-1.059.625v9.61c0 .724.477 1.006 1.059.624l7.99-4.95s.284-.2.284-.48c0-.279-.283-.479-.283-.479z",opacity:".75"}))};function rh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}var ih=function(e){In()(n,e);var t=rh(n);function n(e){var r;return we()(this,n),(r=t.call(this,e)).state={isBlocked:!1},r}return Ce()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.isBlocked.then(function(t){return e.setState({isBlocked:t})})}},{key:"componentDidUpdate",value:function(){this.props.isFocusedIndex&&this.episodeTitle&&this.episodeTitle.focus()}},{key:"getEpisodeLabel",value:function(e,t){switch(e){case"label":return t?"E".concat(t):"";case"ariaLabel":return t?"Episode ".concat(t):""}}},{key:"getSeasonLabel",value:function(e,t){switch(e){case"label":return t?"S".concat(t,","):"";case"ariaLabel":return t?"Season ".concat(t,","):""}}},{key:"render",value:function(){var e=this,t=this.props,n=t.episode,r=t.oohUnavailable,i=t.parentalBlockMessage,o=t.index,a=100-n.progress,s=function(e){if(e){var t=new Date(+e).setHours(0,0,0,0),n="";if(t===new Date(Date.now()).setHours(0,0,0,0))n="Today";else if(t===new Date(Date.now()-864e5).setHours(0,0,0,0))n="Yesterday";else{var r=new Date(+e),i=r.getDate(),o=r.getMonth()+1,a=r.getFullYear().toString();n="".concat(o,"/").concat(i,"/").concat(a.slice(-2))}return n}}(n.startTime),c="".concat(this.getSeasonLabel("ariaLabel",n.season_number)).concat(this.getEpisodeLabel("ariaLabel",n.episode_number)),l=0!==n.progress?"Resume, ".concat(c,", ").concat(n.title," ").concat(Math.floor(n.progress),"% watched."):"Watch, ".concat(c,", ").concat(n.title,"."),u="".concat(this.getSeasonLabel("label",n.season_number)," ").concat(this.getEpisodeLabel("label",n.episode_number)),d="".concat(u," ").concat(n.title),p="Delete ".concat(n.title);return React.createElement("li",{className:"episode-list",style:{opacity:r?".5":"1"}},React.createElement("div",{className:"episode-info"},React.createElement("a",{href:"#",onClick:function(){return e.props.playEpisode(n,r)},ref:function(t){return e.episodeTitle=t},"aria-label":l},React.createElement("div",{className:"episode-title-icon"},React.createElement(nh,{style:{display:r?"none":"block"}}),React.createElement("div",{className:"episode-title","aria-hidden":"true"},d))),0!==n.progress&&React.createElement("div",{"aria-hidden":"true",className:"progress-bar-wrapper"},React.createElement("div",{className:"progress"},React.createElement("div",{className:"progress-bar-blue",style:{width:n.progress+"%"}}),React.createElement("div",{className:"progress-bar-light-blue",style:{width:a+"%"}}))),React.createElement("p",{className:"dvr-description"},n.description),React.createElement("p",{className:"recorded-date"},"recorded ",s),r&&React.createElement("p",{className:"ooh-unavailable"},React.createElement(dd,null),React.createElement("small",null,this.props.oohMessage)),this.state.isBlocked&&!r&&React.createElement("p",{className:"parental-block"},React.createElement(pd,null),React.createElement("small",null,i))),React.createElement("button",{className:"delete-recording","aria-label":p,onClick:function(){return e.props.deleteEpisodeRecording(n,o)}},React.createElement(th,null)))}}]),n}(Q.Component);function oh(e){var t,n,r,i=e.$rootScope,o=e.$state,a=e.deleteRecording,s=e.isLoading,c=e.kiteModalService,l=e.messages,u=e.productActionService,d=e.seriesRecordings,p=e.seriesRecordingsLoaded,h=e.seriesRecordingsUpdate,v=e.delegateFactory,f=Object(Q.useState)({isSeriesBlocked:!1,actionPending:!1,pageLoadingComplete:!1}),m=Oe()(f,2),g=m[0],b=m[1],y=function(){i.$emit("Analytics:selectAction-OneApp_selectAction_cdvr_seriesRecordingDetail_returnToRecordings"),o.go("ovp.cdvr.recorded")},S=function(e){if(void 0!==e.playAction){b({actionPending:!0});var t=0!==e.progress?"resume":"watch";i.$emit("Analytics:selectContent-OneApp_dvrSeriesRecordings_selectContent_recordings",{playbackState:t,asset:e}),u.executeAction(e.playAction,v.createInstance(e.originalResp))}else c.alert("Series Recordings","Sorry something went wrong cannot play the asset")},w=function(e,t){u.executeAction(e.deleteAction,e,function(e){return k(e,t)})},k=function(e,t){var n;1===(null===d||void 0===d?void 0:null===(n=d.episodes)||void 0===n?void 0:n.length)&&a(e),h(e),b({isFocusedIndex:t})};Object(Q.useEffect)(function(){s||(!kt()(d)&&Xe()(["seriesRecordings","episodes","length"],e)||y(),r&&r.focus(),g.pageLoadingComplete||(i.$broadcast("pageChangeComplete",o.current),b({pageLoadingComplete:!0})))},[s,d,p]);var C=null,$=null,T=null!==(t=null===d||void 0===d?void 0:null===(n=d.episodes)||void 0===n?void 0:n.length)&&void 0!==t?t:0,O="".concat(T,1===T?" recording":" recordings");T>0&&($={backgroundImage:"linear-gradient(to bottom, rgba(0, 16, 25, 0), #001019),"+"url(".concat(d.imageUri({orientation:"banner",minHeight:348}),")")},C=d.episodes.map(function(e,t){return React.createElement(ih,{playEpisode:S,deleteEpisodeRecording:w,isFocusedIndex:t===g.isFocusedIndex,index:t,isBlocked:e.isBlocked,parentalBlockMessage:l.getMessageForCode("MSG-9045"),key:e.title+e.startTime+t,episode:e})}));var E=React.createElement("div",{className:"subheader-cdvr"},React.createElement("a",{href:"#",className:"recordings-header",onClick:y},React.createElement("div",{className:"si si-chevron-left icon-label-cdvr","aria-hidden":"true"}),React.createElement("span",{className:"recording-label"},"Recordings")),React.createElement("h1",{className:"series-title",tabIndex:"-2",ref:function(e){return r=e}},d.title),React.createElement("p",{className:"total-recordings"},O),React.createElement("a",{className:"asset-more-info",href:"#",onClick:function(){var e=d.getMoreInfoRoute;e=Object(Dl.modifiedUriForGetMoreInfo)(e),i.$emit("Analytics:selectAction-OneApp_selectAction_cdvr_seriesRecordingDetails_moreInfo"),e&&o.go.apply(o,on()(e))}},React.createElement("div",{className:"icon-label-cdvr"},React.createElement(Mn,{width:18,height:18,viewbox:"0 0 18 18"})),React.createElement("span",{role:"presentation",className:"more-info-label"},"Get More Info")),d.isSeriesBlocked&&React.createElement("p",{className:"parental-block-cdvr parental-block"},React.createElement(pd,null),React.createElement("small",{className:"parental-control-message"},l.getMessageForCode("MSG-9045"))));return s?React.createElement(Lu,{message:"Loading..."}):React.createElement("div",{className:"cdvr-react-page"},React.createElement("div",{className:"image-container",style:$}),g.actionPending?React.createElement(Lu,{message:"Loading..."}):React.createElement("div",{className:"series-container"},E,React.createElement("ul",{className:"series-details"},C)))}oh.propTypes={isLoading:At.a.bool,seriesRecordings:At.a.object,seriesRecordingsLoaded:At.a.bool,$rootScope:At.a.object.isRequired,$state:At.a.object.isRequired,kiteModalService:At.a.object.isRequired};var ah=Object($t.connect)(function(e){return{isLoading:Object(Dl.getSeriesRecordingsIsLoading)(e),seriesRecordingsLoaded:Object(Dl.getSeriesRecordingsLoaded)(e),seriesRecordings:Object(Dl.getSeriesRecordings)(e)}},function(e){return{seriesRecordingsUpdate:function(t){return e(Dl.updateSeriesRecordingsActions.success(t.recordingId))},deleteRecording:function(t){return e(Dl.deleteRecordingActions.success(t))}}})(oh);angular.module("ovpApp.dvrRecordedSeries",["ovpApp.services.parentalControlsService"]).component("dvrRecordedSeries",Object(Ct.react2angular)(function(e){return React.createElement($t.Provider,{store:e.store},React.createElement(ah,e))},[],["store","productService","$state","productActionService","oohService","$rootScope","messages","kiteModalService","delegateFactory"])),function(){function e(e,t,n){n.when("/cdvr",["$state",function(e){e.go("ovp.cdvr.recorded")}]),e.state("ovp.cdvr",{redirectTo:"ovp.cdvr.recorded",url:"/cdvr",data:{bodyClass:"cdvr",capability:t.CDVR,subheader:50,pageTitle:"CDVR",subheaderLabel:"dvr"},resolve:{cdvrEnabled:["capabilitiesService",function(e){return e.isCdvrEnabled()}]},views:{appView:{template:'<div class="cdvr" ui-view></div>'}}}),e.state("ovp.cdvr.recorded",{redirectTo:function(e){return e.injector().getAsync("cdvrEnabled").then(function(e){return e?"":"ovp.livetv"})},data:{pageTitle:"CDVR - My Recorded"},views:{"subMenu@":{component:"cdvrSubheader"},"@ovp.cdvr":{component:"dvrRecorded"}},url:"/recorded"}),e.state("ovp.cdvr.recordedSeries",{redirectTo:function(e){return e.injector().getAsync("store").then(function(e){if(0===Object(b.c)(e.getState("cdvr"),"cdvr.recordings.data",[]).length)return"ovp.cdvr.recorded"})},data:{pageTitle:"CDVR - My Recorded"},url:"/recordedSeries",component:"dvrRecordedSeries"}),e.state("ovp.cdvr.scheduled",{redirectTo:function(e){return e.injector().getAsync("cdvrEnabled").then(function(e){return e?"":"ovp.livetv"})},data:{pageTitle:"CDVR - Scheduled"},resolve:{totalRecordings:["cdvrService","$rootScope",function(e,t){var n=e.getProgramList().then(function(e){return e.length});return t.$broadcast("message:loading",n,void 0,"CDVR Scheduled"),n}]},url:"/scheduled",views:{"subMenu@":{component:"cdvrSubheader"},"@ovp.cdvr":{component:"cdvrScheduled"}}})}e.$inject=["$stateProvider","CAPABILITIES","$urlRouterProvider"],e.$inject=["$stateProvider","CAPABILITIES","$urlRouterProvider"],angular.module("ovpApp.cdvr",["ovpApp.dvrRecorded","ovpApp.dvrRecordedSeries"]).config(e)}(),angular.module("ovpApp.cdvr").component("cdvrScheduled",{bindings:{totalRecordings:"<"},templateUrl:"js/cdvr/scheduled.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{$state:t,$rootScope:n,messages:r,cdvrService:i,$timeout:o,$document:a,kiteModalService:s})}return e.$inject=["$state","$rootScope","messages","cdvrService","$timeout","$document","kiteModalService"],e.$inject=["$state","$rootScope","messages","cdvrService","$timeout","$document","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.lfeIndex="00",this.message=this.messages.getMessageForCode("MSG-9080"),this.listConfig={showHeader:!1,listOnly:!0,showTotal:!1,showToggle:!1,id:k.b.scheduledListViewMode,useLocalStorage:!0},this.unregisterUpdateDvrListener=this.$rootScope.$on("update-dvr",function(){e.getScheduledRecordings(!0)}),this.getScheduledRecordings()}},{key:"lastFocusedElement",value:function(e){this.lfeIndex=e}},{key:"$onDestroy",value:function(){this.unregisterUpdateDvrListener()}},{key:"getElementToFocus",value:function(){var e=parseInt(this.lfeIndex,10),t=this.$document[0].getElementById("cancel-button-"+this.lfeIndex);return t||(e%10==0?(e-=10,this.$document[0].getElementById("cancel-button-"+(e>10?e:"0"+e))):void 0)}},{key:"getScheduledRecordings",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.cdvrService.getScheduled().then(function(t){e.schedule=t,e.$rootScope.$broadcast("pageChangeComplete",e.$state.current)}).catch(function(t){e.message=t,e.schedule=[]}).then(function(){t&&e.$timeout(function(){var t=e.getElementToFocus();e.kiteModalService.isShowingDialog()&&t?e.kiteModalService.updateLastFocusedElement(t):t&&t.focus()})});this.$rootScope.$broadcast("message:loading",n,void 0,"DVR Scheduled")}}]),e}()}),angular.module("ovpApp.cdvr").component("cdvrSubheader",{templateUrl:"js/cdvr/cdvr-sub-header.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{$state:t})}return e.$inject=["$state"],e.$inject=["$state"],Ce()(e,[{key:"$onInit",value:function(){this.menuItems=[{enabled:function(){return!0},class:"",badges:function(){return!1},description:"Recordings lists all recordings stored in the Cloud DVR",state:"ovp.cdvr.recorded",title:"Recordings"},{enabled:function(){return!0},class:"",badges:function(){return!1},description:"Scheduled Cloud DVR Recordings",state:"ovp.cdvr.scheduled",title:"Scheduled"}]}}]),e}()}),angular.module("ovpApp.cdvr").component("cdvrScheduleListItem",{bindings:{asset:"<",idIndex:"<",lastFocusedElement:"&"},templateUrl:"js/cdvr/cdvr-schedule-list-item.html",controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),this.$state=t,this.cdvrService=n,this.productActionService=r,this.productService=i,this.actionTypeMap=o,this.$rootScope=a,this.alert=s,this.kiteModalService=c}return e.$inject=["$state","cdvrService","productActionService","productService","actionTypeMap","$rootScope","alert","kiteModalService"],e.$inject=["$state","cdvrService","productActionService","productService","actionTypeMap","$rootScope","alert","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.channelNumber="--",this.cdvrService.getChannelNumber(this.asset).then(function(t){return e.channelNumber=t}),this.recordDate=this.productService.getCdvrDateText(this.asset)}},{key:"onCancelButtonFocus",value:function(){this.lastFocusedElement({index:this.idIndex})}},{key:"click",value:function(){var e=this.asset.clickRoute;if(e){var t,n=this.asset.cdvrRecording;n?n.tmsSeriesId?this.$state.go("product.series",{tmsSeriesId:n.tmsSeriesId,tmsProgramId:n.tmsProgramId,airtime:n.startTimeSec,tmsGuideId:n.tmsGuideId}):this.$state.go("product.event",{tmsId:n.tmsProgramId,airtime:n.startTimeSec,tmsGuideId:n.tmsGuideId}):(t=this.$state).go.apply(t,on()(e))}}},{key:"getTitlePrefix",value:function(){var e="";return!1===this.asset.isEntitled&&(e="Not Entitled"),e}},{key:"getDescription",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e=this.asset.season?"season "+this.asset.season:"",t=this.asset.episode?"episode "+this.asset.episode:"";return"Cancel the recording of  "+(this.asset.episode?this.asset.seriesTitle:this.asset.title)+", "+e+","+t+","}return(this.asset.episode?this.asset.seriesTitle+", season "+(this.asset.season||"")+", episode "+(this.asset.episode||"")+", "+this.asset.title:this.asset.title+", "+(this.asset.rating||"")+", "+this.asset.year)+", "+this.recordDate+", on "+this.asset.network.name+", channel "+this.channelNumber}},{key:"showCancelRecordingError",value:function(){this.kiteModalService.errorAlert("WCD-1003")}},{key:"productActionClicked",value:function(){var e=this,t=this.productService.withTmsId(this.asset.cdvrRecording.tmsProgramId).fetch(!0).then(function(t){var n=t.actions.find(function(t){return t.actionType===e.actionTypeMap.cdvrCancelRecording.id||t.actionType===e.actionTypeMap.cdvrDeleteRecording.id});n?(e.asset.channelNumber=e.channelNumber,e.productActionService.executeAction(n,e.asset)):e.showCancelRecordingError()}).catch(function(){return e.showCancelRecordingError()});this.$rootScope.$broadcast("message:loading",t)}},{key:"formattedChannelNumber",value:function(){return l.a.getSelectorValue(u.Zf)||!this.channelNumber?"":" | ".concat(this.channelNumber)}}]),e}()});var sh=n("/+IL");function ch(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}function lh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}function uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}function dh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Rn()(e);if(t){var i=Rn()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n()(this,n)}}!function(){function e(e,t,n,r,i,o,a,s,c,d,p,h,v,f,m){if(!v)throw Error("Authentication requires analytics");var g=!1,y=!1,S="oauth_verifier",w="xoauth_refresh_token",$=null,O=null,E=!1,A=!1,P=null,I=null,x=null,_=3e4,D=l.a.getSelectorValue(u.qd),R=6e4*l.a.getSelectorValue(u.o),j=null;return D+=1e3*Math.floor(10*Math.random()),this.updateToken=F,this.userLogin=function(n,r){return ut.a.set({authenticationType:"manualAuth",username:n}),Wl({opType:"manualAuth",opUserText:n}),Y().then(function(i){return function(n,r,i){var o=ut.a.get(),a={xoauth_device_id:o.deviceId,xoauth_device_type:o.deviceType,oauth_token:i.token,username:n,password:r,supportSMB:o.supportSMBAuthentication},s={bypassRefresh:!0,oAuthTemp:i,oAuthIgnoreToken:!0,data:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},method:"POST",url:l.a.getSelectorValue(u.xb)};if(l.a.getSelectorValue(u.a)){var c={"x-client-version":l.a.getSelectorValue(u.nd)};s=Ke()({headers:sc()(c)},s)}return t(s).then(function(t){ut.a.set({authAttemptId:t.headers("x-trace-id")});var r=H(t);return r?(ut.a.set(r),r.verifier):e.reject([{isInvalidCreds:!1,username:n,url:l.a.getSelectorValue(u.xb)}])})}(n,r,i).then(function(e){return W(e,i)})}).then(function(e){return c.postAuth().then(function(){return e})}).then(function(e){return g=!0,x&&(x.resolve(),x=void 0),e}).catch(function(e){var t,n=z(e);return Object(b.d)(n&&n.headers)&&(t=n.headers("x-trace-id")),Gl({opSuccess:!1,loginAttemptId:t,appErrorCode:String(n.errorCode),appClientErrorCode:n.clientErrorCode}),Promise.reject(n)})},this.getOAuthHeader=function(e){var t,n,r=ut.a.get(),i=Object.assign({oauth_consumer_key:l.a.getSelectorValue(u.od),oauth_nonce:Object(T.c)(),oauth_signature_method:l.a.getSelectorValue(u.td),oauth_token:"",oauth_timestamp:Date.now(),oauth_version:l.a.getSelectorValue(u.wd)},e.oAuthFields),o=!!e.oAuthTemp;e.oAuthIgnoreToken||(i.oauth_token=(o?e.oAuthTemp.token:e.oauth_token)||"");r.accountType&&(i.oauth_account_type=r.accountType);o&&(r.token=e.oAuthTemp.token,r.tokenSecret=e.oAuthTemp.tokenSecret);return n=a.sign(e.url,e.method||e.type,r,i),t=Object.keys(i).map(function(e){return e+'="'+i[e]+'"'}).sort().join(", "),{Authorization:"OAuth "+(t+=', oauth_signature="'+n+'"')}},this.isAuthenticated=N,this.getOAuthError=function(){return I},this.logout=function(){i.logout()},this.reset=function(){ut.a.reset()},this.clearTimeout=X,this.shouldAttemptMasquerade=M,this.getMasqueradeToken=V,this.waitUntilAuthenticated=function(){return N().then(function(t){if(!t)return x||(x=e.defer()),x.promise})},this.getTemporaryToken=Y,this.refreshToken=B,this.clearOAuthError=function(){I=null},void C.a.removeItem(k.b.showSpecULink);function N(){return F(arguments.length>0&&void 0!==arguments[0]&&arguments[0]).then(function(){return C.a.removeItem(k.b.autoAuthSignOutTime),U(),I=null,e.resolve(!0)},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y=!0,I=t,l.a.dispatch(Object(sh.c)(t)),e.resolve(!1)})}function M(){return l.a.getSelectorValue(u.Lc)&&angular.isDefined(V())}function V(){return h.search().mqtn}function L(){var e=C.a.getItem(k.b.autoAuthSignOutTime);return e&&Date.now()-e<R}function F(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=f.convertToLowerCaseKeyValue(h.search()),r=C.a.getItem(k.b.activationCode);if(Z())if("false"!==n.authsuccess||A){if("true"===n.authsuccess&&l.a.getSelectorValue(u.fg)&&r)return C.a.removeItem(k.b.activationCode),m.go("ovp.specuActivate"),Promise.resolve();if("true"===n.authsuccess||$)return $=$||function(){if(j)return j;return j=new Promise(function(e,t){var n=C.a.getItem(k.b.tempToken);return ut.a.reset(),ut.a.set({authenticationType:"trustedAuth"}),Wl({opType:"trustedAuth"}),function(e){return K(e,null,l.a.getSelectorValue(u.ie),{headers:{"Content-Type":"application/json"},ignoreStatus:[401]},q)}(n).then(function(t){return W(t,n).then(function(t){return g=!0,c.postAuth(),e(t),t})}).catch(function(e){l.a.getSelectorValue(u.pg)&&l.a.dispatch(Object(sh.c)(e)),Gl({opSuccess:!1,loginAttemptId:e.headers("x-trace-id"),appErrorCode:String(e.errorCode),appClientErrorCode:e.clientErrorCode}),t(e)}).finally(function(){j=null})})}()}else A=!0,Wl({opType:"trustedAuth"}),Gl({opSuccess:!1,appErrorCode:n.errorcode});var i=ut.a.get();return g||E||Q(i.expiration,_)||A||(Wl({opType:Z()?"trustedAuth":"resumeAuth"}),Gl({opSuccess:!0,loginCompletedTs:Number(i.expiration),loginAttemptId:i.authAttemptId,trustedAuthId:i.trustedAuthId,accountOauthToken:i.token}),E=!0,J(i.expiration)),$||Q(i.expiration,_)||t?Q(i.expiration,_)&&"SpecUTA"===i.authenticationType?(ut.a.reset(),e.reject({isSpecUTA:!0,errorCode:"tokenExpired"})):!y||t?B():e.reject(I||"User must login"):(U(),c.isProfileRefreshed()?e.resolve():c.postAuth())}function U(){var e=l.a.getStatePath("auth.isAuthenticated");if(!e){var t=ut.a.get();l.a.dispatch(Object(sh.d)(t))}return!e}function B(){if(L()){var r=h.search().accountType;return e.reject({isSpecU:r===d.SPECU,isBulkMDU:r===d.BULK_MDU,isStreamPlus:r===d.STREAM,isManualOperation:!0})}$||(l.a.getStatePath("auth.isAuthenticated")&&Ul(!0),$=W().catch(function(r){var i;return l.a.getSelectorValue(u.d)&&be.includes(null===r||void 0===r?void 0:null===(i=r.errorCode)||void 0===i?void 0:i.replace(/[^0-9]/g,""))?(g=!1,$=null,y=!0,ut.a.reset(),I=r,l.a.dispatch(Object(sh.c)(r)),m.go("ovp.login",{errorCode:null===r||void 0===r?void 0:r.errorCode}),e.reject(r)):Y().then(function(i){return function(t){var n=ut.a.get().deviceVerifier;return n?(ut.a.set({authenticationType:"verifierAuth"}),Wl({opType:"verifierAuth"}),function(e,t){return K(t,e,l.a.getSelectorValue(u.xb),{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},H)}(n,t).then(function(e){return W(e,t)},function(t){return Gl({opSuccess:!1,loginAttemptId:t.headers("x-trace-id"),appErrorCode:String(t.errorCode),appClientErrorCode:t.clientErrorCode}),e.reject(t)})):e.reject()}(i).catch(function(o){var a;return l.a.getSelectorValue(u.d)&&be.includes(null===o||void 0===o?void 0:null===(a=o.errorCode)||void 0===a?void 0:a.replace(/[^0-9]/g,""))?e.reject(o):function(t){var n=l.a.getSelectorValue(u.Xd)&&"true"===h.search().sessionOverride;if(n&&L())return e.reject("SSO enabled, but user manually logged out recently");if(n){var r=p.navigator.userAgent.match(/(ipad)|(iphone)|(ipod)|(android)/i);return r?e.reject("SSO enabled, but user is on a mobile device"):function(e){return Wl({opType:"tokenExchange"}),K(e,null,l.a.getSelectorValue(u.Ue),{crossDomain:!0,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},H)}(t).then(function(e){return ut.a.set({authenticationType:"tokenExchange"}),W(e,t)})}return e.reject("SSO is not enabled")}(i).catch(function(a){return M()?function(n,r){if(M()){ut.a.reset();var i=ut.a.get(),o={xoauth_device_id:i.deviceId,xoauth_device_type:i.deviceType,xoauth_masquerade_token:n,oauth_token:r.token};return t({bypassRefresh:!0,oAuthIgnoreToken:!0,data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},method:"POST",url:l.a.getSelectorValue(u.pd)}).then(function(e){var t=H(e);return ut.a.set(t),W(t.verifier,r)})}return e.reject("No masquerade token")}(V(),i).then(function(e){return h.search({}),e},function(t){return h.search({}),e.reject(t)}):c.isAutoAuthEnabled()?function(t){A||Z()||(ut.a.set({authenticationType:"autoAccess"}),Wl({opType:"autoAccess"}));return function(e){return K(e,null,l.a.getSelectorValue(u.q),{headers:{"Content-Type":"application/json"},ignoreStatus:[401]},G)}(t).then(function(e){return W(e,t)}).catch(function(t){return l.a.getSelectorValue(u.lg)&&C.a.removeItem(k.b.autoAuthSignOutTime),l.a.getSelectorValue(u.pg)&&l.a.dispatch(Object(sh.c)(t)),Gl({opSuccess:!1,loginAttemptId:t.headers("x-trace-id"),appErrorCode:String(t.errorCode),appClientErrorCode:t.clientErrorCode}),e.reject(t)})}(i):(n.debug("Failed to fetch token with deviceVerifier ".concat(r,",\n                                        ").concat(o&&o.errorName?o.errorName:o)),e.reject(a))})})})}).then(function(){return g=!0,$=null,y=!1,c.isProfileRefreshed()?e.resolve():c.postAuth()},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$=null,g=!1;var n=s.get("connectivityService");return n&&n.isOnline()?(y=!0,ut.a.reset(),e.reject(t)):e.resolve()}).finally(function(){Ul(!1)}));return $}function W(n,r){var i=ut.a.get(),o=i.expiration,a=Date.now(),s={},c={bypassRefresh:!0,oAuthFields:s,method:"POST",url:l.a.getSelectorValue(u.vd),headers:{}};if(l.a.getSelectorValue(u.a)){var d={"x-client-version":l.a.getSelectorValue(u.nd)};c=Ke()({headers:sc()(d)},c)}if(!O){if(n)s[S]=n;else{if(!(a<o))return e.reject("Expired Token");s[w]=i.refreshToken}r&&(c.oAuthTemp=r),O=t(c).then(function(t){var n=H(t);if(O=null,y=!1,Q(n.expiration))return e.reject("Expired Token");ut.a.set(n),J(n.expiration);var r=ut.a.get();return!g&&!E&&!A&&["autoAccess","verifierAuth"].indexOf(r.authenticationType)>=0&&Wl({opType:r.authenticationType}),zl({opSuccess:!0,loginCompletedTs:Number(r.expiration),loginAttemptId:r.authAttemptId,trustedAuthId:r.trustedAuthId,accountOauthToken:r.token}),n},function(t){O=null;var n=z(t);return zl({opSuccess:!1,loginAttemptId:t.headers("x-trace-id"),appErrorCode:String(n.errorCode),appClientErrorCode:n.clientErrorCode}),e.reject(n)})}return O}function H(e){if(!e||!e.data)throw new Error("unable to get data from response");var t=e.data,n=i.getPairsFromQueryString(t);return Object.keys(n).reduce(function(e,t){return o[t]&&n[t]&&(e[o[t]]=n[t]),e},{})}function G(e){if(!e||!e.data)throw new Error("unable to get data from response");return{deviceRegistration:e.data.xoauth_device_registration,deviceVerifier:e.data.xoauth_device_verifier,verifier:e.data.oauth_verifier,accountType:e.data.xoauth_account_type,classification:e.data.xoauth_classification}}function q(e){var t=G(e);return t.trustedAuthId=Object(b.c)(e,["data","x-trustedAuthId"]),t.authenticationType="SpecUTA",ut.a.set({trustedAuthId:t.trustedAuthId}),t}function z(e){if(e.errorCode&&e.errorName)return e;var t,n,r,i=0,o="UNKNOWN";if(e.data){i=(i=(t=e.data.match(/\([0-9]+\)/g))&&t.length>0&&t[0])&&i.replace(/[()]/g,"");var a=["1010","1012","1024","1025","1027","1028","1032","1035","1042"];l.a.getSelectorValue(u.d)&&(a=[].concat(on()(a),on()(be))),i="WLI-"+(a.includes(i)?i:"9000"),o=(o=e.data.match(/RC_[A-Z_]*/g))&&o.length>0&&o[0],r="object"===at()(e.data)?JSON.stringify(e.data):e.data,n=te.a.getErrorInfo(i).message}return{headers:e.headers,isInvalidCreds:"WLI-1010"===i,errorName:o,clientErrorCode:e.clientErrorCode,errorCode:i,errorMessage:n,clientErrorMessage:r}}function Y(){return ut.a.set({token:null,tokenSecret:null}),t({bypassRefresh:!0,oAuthIgnoreToken:!0,method:"POST",url:l.a.getSelectorValue(u.Ne)}).then(H,function(t){return l.a.getSelectorValue(u.pg)&&l.a.dispatch(Object(sh.c)(t)),Gl({opSuccess:!1,loginAttemptId:t.headers("x-trace-id"),appErrorCode:String(t.errorCode),appClientErrorCode:t.clientErrorCode}),e.reject(z(t))})}function K(n,r,i,o,a){var s=ut.a.get(),c={xoauth_device_id:s.deviceId,xoauth_device_type:s.deviceType,oauth_token:n.token,supportMDUBulk:l.a.getSelectorValue(u.z),supportSMB:s.supportSMBAuthentication};r&&(c.xoauth_device_verifier=r);var d=angular.extend({bypassRefresh:!0,oAuthTemp:n,oAuthIgnoreToken:!0,data:c,method:"POST",url:i},o);if(l.a.getSelectorValue(u.a)){var p={"x-client-version":l.a.getSelectorValue(u.nd)};d=Ke()({headers:sc()(p)},d)}return t(d).then(function(t){if(ut.a.set({authAttemptId:t.headers("x-trace-id")}),angular.isFunction(a)){var n=a(t);return n?(ut.a.set(n),n.verifier):e.reject("Unable to retrieve device data")}return t},function(t){return e.reject(z(t))})}function J(e){var t=e-Date.now()-D;return t>0&&X(),P=r(function(){P=null,B().catch(function(e){var t;zl({opSuccess:!1,loginAttemptId:null===e||void 0===e?void 0:null===(t=e.headers)||void 0===t?void 0:t.call(e,"x-trace-id"),appErrorCode:String(e.errorCode),appClientErrorCode:e.clientErrorCode}),l.a.getSelectorValue(u.d)&&be.includes(null===e||void 0===e?void 0:e.errorCode)&&(g=!1,y=!0,ut.a.reset(),I=e,l.a.dispatch(Object(sh.c)(e)),m.go("ovp.login",{errorCode:null===e||void 0===e?void 0:e.errorCode}))})},t)}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Date.now();return 0===Number(e)||n+t>Number(e)}function X(){P&&r.cancel(P)}function Z(){return h.path().toLowerCase().startsWith("/domainsearch")}}e.$inject=["$q","$http","$log","$timeout","httpUtil","OauthKeyMap","OauthSigner","$injector","capabilitiesService","ACCOUNT_TYPES","$window","$location","Analytics","Utils","$state"],e.$inject=["$q","$http","$log","$timeout","httpUtil","OauthKeyMap","OauthSigner","$injector","capabilitiesService","ACCOUNT_TYPES","$window","$location","Analytics","Utils","$state"],angular.module("ovpApp.oauth").provider("OauthService",function(){var t=null;return{$get:["$injector",function(n){return t||(t=n.instantiate(e)),t}],getService:function(){return t}}})}(),function(){function e(e){return{getQueryParams:t,sign:function(n,r,i,o){var a,s,c,l,u,d=n.match(/[^?]+/g)[0],p=r.toUpperCase()+"&"+encodeURIComponent(d),h=i.tokenSecret||"",v={};i.token&&i.tokenSecret&&(o.oauth_token=i.token);"GET"===r&&(v=t(n));return a=Object.assign({},v,o),s=Object.keys(a).map(function(e){return e+"="+a[e]}).sort().join("&"),s=encodeURIComponent(s),c=p+"&"+s,u=ut.a.get().secret+"&"+h,window.localStorage.setItem("soufia", u),window.localStorage.setItem("soufian", c),(l=new e("SHA-1","TEXT")).setHMACKey(u,"TEXT"),l.update(c),encodeURIComponent(l.getHMAC("B64"))}};function t(e){var t,n,r,i,o,a,s={},c=e.match(/[?&][^?]+/g);if(c&&c.length)for(t=c[0].substring(1).match(/[^?&]+/g),n=0;n<t.length;n++)o="",a="",(i=(r=t[n]).split("=")).length<2?o=r:(o=i[0],a=i[1]),s[o]=encodeURIComponent(a);return s}}e.$inject=["JSSha"],e.$inject=["JSSha"],angular.module("ovpApp.oauth").service("OauthSigner",e)}(),function(){function e(e){return{getOAuthHeadersForApi:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=ut.a.get(),i={oauth_consumer_key:l.a.getSelectorValue(u.od),oauth_nonce:Object(T.c)(),oauth_signature_method:l.a.getSelectorValue(u.td),oauth_token:"",oauth_timestamp:Date.now(),oauth_version:l.a.getSelectorValue(u.wd)};r&&r.accountType&&(i.oauth_account_type=r.accountType);var o=e.sign(t,n,r,i),a=Object.keys(i).map(function(e){return e+'="'+i[e]+'"'}).sort().join(", ");return{Authorization:"OAuth "+(a+=', oauth_signature="'+o+'"')}}}}e.$inject=["OauthSigner"],e.$inject=["OauthSigner"],angular.module("ovpApp.oauth").service("OauthHeaderService",e)}(),function(){function e(e,t,n,r,i){return function(e){o.$inject=["stb"],o.$inject=["stb"],In()(o,e);var t=ch(o);function o(e){var r;return we()(this,o),(r=t.call(this,e,i.DISK_USAGE,{data:{usedPercentage:0,freePercentage:100}})).stb&&r.stb.dvr?r.source=r.reset.map(function(){return!0}).startWith(!1).flatMapLatest(function(e){return r.fetch(e).startWith(r.initialValue).takeUntil(r.reset)}).do(function(e){return r.saveToCache(e)}).map(function(e){return r.convertResultBeforeEmitting(e)}).shareReplay(1):r.source=n.Observable.never(),r}return Ce()(o,[{key:"fetch",value:function(e){return e&&this.clearCache(),this.batchGetWithCache({getter:this.getOneDiskUsageBatch.bind(this)}).catch(function(e){return n.Observable.just({data:{usedPercentage:0,freePercentage:100},error:e})})}},{key:"getOneDiskUsageBatch",value:function(){var e=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.nb);return r.get(e,{withCredentials:!0}).retry(2)}}]),o}(e)}e.$inject=["AbstractDatasource","$q","rx","rxhttp","recordingsListType"],e.$inject=["AbstractDatasource","$q","rx","rxhttp","recordingsListType"],angular.module("ovpApp.rdvr.datasource").factory("DiskUsageDatasource",e)}(),function(){function e(e,t,n,r,i,o,a){return function(e){c.$inject=["stb"],c.$inject=["stb"],In()(c,e);var s=lh(c);function c(e){var t;return we()(this,c),(t=s.call(this,e,a.SCHEDULED,{data:[]})).stb&&t.stb.dvr?(t.locallyScheduled=new n.BehaviorSubject([]),t.locallyCancelled=new n.BehaviorSubject([]),t.source=t.reset.map(function(){return!0}).startWith(!1).flatMapLatest(function(e){return t.fetchAndCombineWithLocalChanges(e).startWith(t.initialValue).takeUntil(t.reset)}).shareReplay(1)):t.source=n.Observable.never(),t}return Ce()(c,[{key:"fetchAndCombineWithLocalChanges",value:function(e){var t=this;return this.locallyScheduled.onNext([]),this.locallyCancelled.onNext([]),n.Observable.combineLatest(this.fetch(e),this.locallyScheduled,this.locallyCancelled,function(e,n,r){var i=e.data.concat(n);return n.length>0&&i.sort(function(e,t){return e.startTime-t.startTime}),r.forEach(function(e){var n=i.find(function(n){return t.recordingsEqual(n,e)});if(n){var r=i.indexOf(n);r>-1&&i.splice(r,1)}}),0===n.length&&0===r.length?o.createNewCache(a.SCHEDULED,t.stb,{data:i,nextParams:e.nextParams}):o.updateCache(a.SCHEDULED,t.stb,{data:i,nextParams:e.nextParams}),{data:i.map(function(e){return t.wrapRecording(e)}),isComplete:!e.nextParams,error:e.error,lastUpdated:e.lastUpdated,busyUntil:e.busyUntil}})}},{key:"fetch",value:function(e){return e&&this.clearCache(),this.batchGetWithCache({getter:this.getOneScheduledRecordingBatch.bind(this),initialParams:{startTime:0,includeCurrent:!0}}).catch(function(e){return n.Observable.just({data:[],error:e})}).scan(this.mergeBatchesWithDuplicates.bind(this))}},{key:"scheduleRecording",value:function(e){var n=this;if(!this.stb||!this.stb.dvr)return t.resolve();var i=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.tb)+"/"+e.mystroServiceId+"/"+e.tmsProgramId+"/"+e.startTime+"/"+(e.recordSeries?"series":"single");return r.put(i,{settings:e.settings},{withCredentials:!0}).toPromise(t).catch(function(e){throw e=n.addClientErrorCode(e)})}},{key:"addClientErrorCode",value:function(e){var t=window.document.createElement("a");t.href=e.config.url;var n=i.getApiCodePrefix(t.pathname);return e.clientErrorCode=String(n+"-"+e.status),e}},{key:"cancelScheduled",value:function(e,i){var o=this;if(!this.stb||!this.stb.dvr)return n.Observable.empty();var a=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase(),s=e.recordSeries?"series":"single";!0===i&&(s="single");var c=a+this.stb.macAddressNormalized+l.a.getSelectorValue(u.ub)+"/"+e.mystroServiceId+"/"+e.tmsProgramId+"/"+e.startTime+"/"+s;return r.delete(c,{withCredentials:!0}).toPromise(t).catch(function(e){throw e=o.addClientErrorCode(e)})}},{key:"getOneScheduledRecordingBatch",value:function(e){var t=this,n=e.startTime,i=e.includeCurrent,o={};o.startUnixTimestampSeconds=n,!0===o.includeCurrent&&(o.includeCurrent=i);var a=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.ub);return r.get(a,{params:o,withCredentials:!0}).retry(2).map(function(e){var n;return n=e.data.current?e.data.current.concat(e.data.recordings):e.data.recordings,206===e.status&&n.length>0&&(e.nextParams={startTime:e.data.lastStartTime,includeCurrent:!1}),e.data=n.map(function(e){return e.programMetadata||t.createEmptyProgramMetadata(e),e}),e})}}]),c}(e)}e.$inject=["AbstractDatasource","$q","rx","rxhttp","ApiErrorCodeService","rdvrCacheService","recordingsListType"],e.$inject=["AbstractDatasource","$q","rx","rxhttp","ApiErrorCodeService","rdvrCacheService","recordingsListType"],angular.module("ovpApp.rdvr.datasource").factory("ScheduledRecordingsDatasource",e)}(),function(){function e(e,t,n,r,i,o){return function(e){s.$inject=["stb"],s.$inject=["stb"],In()(s,e);var a=uh(s);function s(e){var t;return we()(this,s),(t=a.call(this,e,o.PRIORITY,{data:[]})).stb&&t.stb.dvr?t.source=t.reset.map(function(){return!0}).startWith(!1).flatMapLatest(function(e){return t.fetch(e).startWith(t.initialValue).takeUntil(t.reset)}).do(function(e){return t.saveToCache(e)}).map(function(e){return t.convertResultBeforeEmitting(e)}).shareReplay(1):t.source=n.Observable.never(),t}return Ce()(s,[{key:"fetch",value:function(e){return e&&this.clearCache(),this.batchGetWithCache({getter:this.getOneSeriesPriorityBatch.bind(this),initialParams:0}).catch(function(e){return n.Observable.just({data:[],error:e})}).scan(this.mergeBatches)}},{key:"saveToCache",value:function(e){e!==this.initialValue&&i.createNewCache(this.stb,o.PRIORITY,{data:e.data,nextParams:e.nextParams})}},{key:"clearCache",value:function(){i.clearCache(o.PRIORITY,this.stb)}},{key:"getOneSeriesPriorityBatch",value:function(e){var t=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.vb),n={startIndex:e,maxEventCount:100};return r.get(t,{params:n,withCredentials:!0}).retry(2).map(function(t){return t.data.totalCount>t.data.series.length+e&&t.data.series.length>0&&(t.nextParams=t.data.series.length+e),t.data=t.data.series,t})}},{key:"setSeriesPriorities",value:function(e){if(!this.stb||!this.stb.dvr)return t.resolve();var n=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.vb);return r.put(n,{priorities:e},{withCredentials:!0}).retry(2).toPromise(t)}}]),s}(e)}e.$inject=["AbstractDatasource","$q","rx","rxhttp","rdvrCacheService","recordingsListType"],e.$inject=["AbstractDatasource","$q","rx","rxhttp","rdvrCacheService","recordingsListType"],angular.module("ovpApp.rdvr.datasource").factory("SeriesPriorityDatasource",e)}(),function(){function e(e,t,n,r,i,o,a){return function(e){c.$inject=["stb"],c.$inject=["stb"],In()(c,e);var s=dh(c);function c(e){var t;return we()(this,c),(t=s.call(this,e,a.COMPLETED,{data:[]})).stb&&t.stb.dvr?(t.locallyDeleted=new n.BehaviorSubject([]),t.source=t.reset.map(function(){return!0}).startWith(!1).flatMapLatest(function(e){return t.fetchAndCombineWithLocalChanges(e).startWith(t.initialValue).takeUntil(t.reset)}).shareReplay(1)):t.source=n.Observable.never(),t}return Ce()(c,[{key:"fetchAndCombineWithLocalChanges",value:function(e){var t=this;return this.locallyDeleted.onNext([]),n.Observable.combineLatest(this.fetchCompleted(e),this.fetchInProgress(),this.locallyDeleted,function(e,n,r){var i=n.data.concat(e.data);r.forEach(function(e){var n=i.find(function(n){return t.recordingsEqual(n,e)});if(n){var r=i.indexOf(n);r>-1&&i.splice(r,1)}});var s=e.data.slice();return r.forEach(function(e){var n=s.find(function(n){return t.recordingsEqual(n,e)});if(n){var r=s.indexOf(n);r>-1&&s.splice(r,1)}}),s.length===e.data.length?o.createNewCache(a.COMPLETED,t.stb,{data:s,nextParams:e.nextParams}):o.updateCache(a.COMPLETED,t.stb,{data:s,nextParams:e.nextParams}),{data:i.map(function(e){return t.wrapRecording(e)}),isComplete:!e.nextParams&&!n.nextParams,error:e.error||n.error,lastUpdated:e.lastUpdated,busyUntil:e.busyUntil}})}},{key:"fetchCompleted",value:function(e){return e&&this.clearCache(),this.batchGetWithCache({getter:this.getOneCompletedRecordingBatch.bind(this),initialParams:0}).catch(function(e){return n.Observable.just({data:[],error:e})}).scan(this.mergeBatches)}},{key:"getOneCompletedRecordingBatch",value:function(e){var t=this,n=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.ob),i={startIndex:e};return r.get(n,{params:i,withCredentials:!0}).retry(2).map(function(n){return 206==n.status&&(n.nextParams=n.data.recordings.length+e),n.data=n.data.recordings.map(function(e){return e.programMetadata||t.createEmptyProgramMetadata(e),e}),n})}},{key:"fetchInProgress",value:function(){var e=this,t=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.sb);return r.get(t,{withCredentials:!0}).retry(2).map(function(t){return t.data=t.data.recordings.map(function(t){return t.programMetadata||e.createEmptyProgramMetadata(t),t}),t.isComplete=!0,t}).catch(function(e){return n.Observable.just({data:[],error:e})})}},{key:"deleteRecordings",value:function(e){var n=this;if(!this.stb||!this.stb.dvr)return t.resolve();var o=l.a.getSelectorValue(u.Cd)+l.a.getSelectorValue(u.gd)+this.getDvrBase()+this.stb.macAddressNormalized+l.a.getSelectorValue(u.pb);angular.isArray(e)||(e=[e]);var a=e.map(function(e){return{tmsProgramId:e.tmsProgramId,mystroServiceId:e.mystroServiceId,startUnixTimestampSeconds:e.startTime,recordSeries:!1}});return r.put(o,{deletions:a},{withCredentials:!0}).toPromise(t).then(function(t){var r=t.data.failedDeletions.map(function(e){return e.programMetadata||n.createEmptyProgramMetadata(e),i.createInstance(e)}),o=e.filter(function(e){return!r.find(function(t){return n.recordingsEqual(t,e)})}),a=n.locallyDeleted.getValue();return a.push.apply(a,on()(o.map(function(e){return e._context.data}))),n.locallyDeleted.onNext(a),t})}}]),c}(e)}e.$inject=["AbstractDatasource","$q","rx","rxhttp","recordingViewModelDefinition","rdvrCacheService","recordingsListType"],e.$inject=["AbstractDatasource","$q","rx","rxhttp","recordingViewModelDefinition","rdvrCacheService","recordingsListType"],angular.module("ovpApp.rdvr.datasource").factory("MyRecordingsDatasource",e)}(),angular.module("ovpApp.rdvr.recordingItem",["ovpApp.messages","ovpApp.rdvr.rdvrService","ovpApp.services.stbService","ovpApp.services.kiteModal"]).component("rdvrRecordingListItem",{bindings:{recording:"<",state:"<",onStateChanged:"&"},templateUrl:"js/rdvr/my-recordings/recording-item.html",controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{$state:t,stbService:n,rdvrService:r,$rootScope:i,messages:o,kiteModalService:a})}return e.$inject=["$state","stbService","rdvrService","$rootScope","messages","kiteModalService"],e.$inject=["$state","stbService","rdvrService","$rootScope","messages","kiteModalService"],Ce()(e,[{key:"$onChanges",value:function(e){e.state&&"boolean"!=typeof this.state&&(this.state=!1)}},{key:"episodeTitleDescription",value:function(){if(!this.recording||this.recording.episodes[0].isMovie)return"";var e=this.recording.episodes.length;return 1===e?this.recording.episodes[0].episodeTitle:"".concat(e," Episodes")}},{key:"click",value:function(){var e=angular.isDefined(this.recording.episodes[0].tmsSeriesId),t=this.recording.episodes[0];e?this.$state.go("product.series",{tmsSeriesId:t.tmsSeriesId,airtime:t.startTime,serviceId:t.mystroServiceId}):this.$state.go("product.event",{tmsId:t.tmsProgramId,airtime:t.startTime,serviceId:t.mystroServiceId})}},{key:"stateToggled",value:function(e){e.stopPropagation(),this.onStateChanged({recording:this.recording,state:this.state})}},{key:"watchRecording",value:function(){var e=this,t=this.stbService.getCurrentStb().then(function(t){return e.rdvrService.resumeCompletedRecording(t,e.recording.episodes[0])}).then(function(){},function(){e.kiteModalService.errorAlert("WCM-1603")});this.$rootScope.$broadcast("message:loading",t,void 0,this.recording.episodes[0].title)}}]),e}()}),angular.module("ovpApp.rdvr.rdvrToolbar",["ovpApp.stbPicker","ovpApp.renameStb","ovpApp.services.kiteModal"]).component("rdvrToolbar",{bindings:{options:"<"},templateUrl:"js/rdvr/rdvr-toolbar/rdvr-toolbar.html",controller:function(){function e(t,n,r,i,o,a,s,c){we()(this,e),angular.extend(this,{$timeout:t,$interval:n,dateUtil:r,rx:i,stbService:o,modal:a,$q:s,kiteModalService:c})}return e.$inject=["$timeout","$interval","dateUtil","rx","stbService","modal","$q","kiteModalService"],e.$inject=["$timeout","$interval","dateUtil","rx","stbService","modal","$q","kiteModalService"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.subscription=this.stbService.currentStbSource.filter(function(e){return e&&!0===e.dvr}).subscribe(function(t){return e.stb=t})}},{key:"$onDestroy",value:function(){this.subscription.dispose()}},{key:"$onChanges",value:function(e){e.options&&(this.showToggler=e.options.showToggler||!1)}},{key:"showDvrPicker",value:function(){var e=this;this.modal.open({component:"stb-picker",windowClass:"ovp-watch-on-tv-picker-container",showCloseIcon:!1,ariaDescribedBy:"picker-description",ariaLabelledBy:"picker-label",resolve:{stbs:function(){return e.$q.all([e.stbService.getSTBs(),e.stbService.getCurrentStb()]).then(function(e){var t=Oe()(e,2),n=t[0],r=t[1];return n.filter(function(e){return e.dvr}).sort(function(e,t){return e.macAddress===r.macAddress?-1:t.macAddress===r.macAddress?1:0})})},title:function(){return"Select your DVR"},ariaDescription:function(){return"Choose a DVR device from the list to manage"}}}).result.then(function(t){e.stbService.isSupportedDVR(t)?e.stbService.setCurrentStb(t):e.kiteModalService.errorAlert("WRDV-1009")})}},{key:"renameStb",value:function(){var e=this;this.modal.open({component:"rename-stb",windowClass:"ovp-watch-on-tv-picker-container",showCloseIcon:!1,ariaLabelledBy:"rename-label",resolve:{stb:function(){return e.stb}}})}}]),e}()}),angular.module("ovpApp.renameStb",[]).component("renameStb",{templateUrl:"js/rdvr/rdvr-toolbar/rename-stb.html",bindings:{resolve:"<",modalInstance:"<"},controller:function(){function e(t,n){we()(this,e),angular.extend(this,{stbService:t,version:n})}return e.$inject=["stbService","version"],e.$inject=["stbService","version"],Ce()(e,[{key:"$onChanges",value:function(e){e.resolve&&(this.stb=this.resolve.stb)}},{key:"closeIcon",value:function(){return this.version.appVersion+"/images/close-x"+(this.activeCloseIcon?"-active":"")+".svg"}},{key:"inputChanged",value:function(){this.newName=this.newName.replace(/\W/g,"")}},{key:"save",value:function(){this.newName&&this.newName!==this.stb.name&&(this.stb.name=this.newName,this.stbService.postStbName(this.stb,this.newName)),this.modalInstance.close()}}]),e}()}),angular.module("ovpApp.mylibrary",["ovpApp.mylibrary.router","ovpApp.mylibrary.data","ovpApp.directives.focus","ovpApp.mylibrary.recentlywatched","ovpApp.mylibrary.watchlist","ovpApp.mylibrary.favoriteChannels","ovpApp.mylibrary.recentChannels","ovpApp.mylibrary.heroBanner","ovpApp.mylibrary.heroBannerProduct","ovpApp.mylibrary.viewall"]).component("myLibrary",{templateUrl:"js/my-library/my-library.html",controller:function(){function e(t){we()(this,e),angular.extend(this,{mylibraryService:t})}return e.$inject=["mylibraryService"],e.$inject=["mylibraryService"],Ce()(e,[{key:"$onInit",value:function(){var e=l.a.getSelectorValue(u.Kc).find(function(e){return"mylibrary"===e.feature.toLowerCase()});this.sectionLabel=e?e.title:"My Library"}}]),e}()});var ph=n("O4OM"),hh=n.n(ph);function vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}angular.module("ovpApp.mylibrary.router",["ui.router","ovpApp.mylibrary.data","ovpApp.ondemand.category"]).config(["$stateProvider",function(e){e.state("ovp.mylibrary",{redirectTo:function(){return"ovp.mylibrary.default"},views:{appView:{template:"<div ui-view></div>"}}}),e.state("ovp.mylibrary.default",{data:{pageTitle:"My Library",bodyClass:"my-library-page"},resolve:{data:["$rootScope","mylibraryService",function(e,t){var n=l.a.getSelectorValue(u.Kc).find(function(e){return"mylibrary"===e.feature.toLowerCase()}),r=t.fetchData();return e.$broadcast("message:loading",r,void 0,n?n.title:"My Library"),r}],airingPrograms:["data",function(e){var t=_s()(function(e){return e.tmsId},Object(b.c)(nt()(function(e){return"recentNetworks"===e.context},e),"media",[])),n=_s()(function(e){return e.tmsId},Object(b.c)(nt()(function(e){return"favoriteNetworks"===e.context},e),"media",[])),r=hh()(t,n);return ic.fetchGuideData(Date.now(),1,r)}]},views:{"@ovp.mylibrary":{component:"myLibrary"}},url:"/mylibrary"}),e.state("ovp.mylibrary.viewall",{resolve:{category:["$rootScope","mylibraryService","$stateParams","$state",function(e,t,n,r){var i=t.fetchCategoryWithName(n.name);if(i&&i.uri){var o=t.getByUri(i.uri,i.name);return e.$broadcast("message:loading",o,void 0,"My Library ".concat(n.name)),o}if(i&&""===i.uri)return i;r.go("ovp.mylibrary.default")}],name:["$stateParams",function(e){return e.name}]},views:{"@ovp.mylibrary":{component:"myLibraryViewAll"}},data:{pageTitle:"Mylibrary - View All",bodyClass:"my-library-viewall-page"},url:"/mylibrary/:name"})}]),function(){function e(e,t,n,r,i){var o;return{get:function(){return{heroBanner:s(),recentlyWatched:c(),recentChannels:d(),watchlist:p(),favoriteChannels:h()}},getByUri:function(t){return n.get(l.a.getSelectorValue(u.Cd)+t,{withCredentials:!0}).retry(3).map(function(e){var t=e.data.results,n=[],i=0;return t.map(function(e){n=[].concat(on()(n),on()(e.results)),i+=e.results.length}),e.data.results=n,e.data.total_results=i,r.createInstance(e.data)}).toPromise(e)},fetchData:function(){return ea.a.getChannels({onlineEntitled:!0,live:!0,entitled:!0}).then(function(){return t.forDefaultProfile().then(function(t){return n.get(l.a.getSelectorValue(u.Cd)+t.myLibrary(),{withCredentials:!0}).retry(3).map(function(e){return e.data.results.map(r.createInstance)}).do(function(e){return o=e}).toPromise(e)})})},clearList:function(t){var n;switch(t){case"watchlist":n=i.clearWatchlist();break;default:n=e.reject()}return n},getHeroBannerData:s,getRecentlyWatchedData:c,getRecentChannels:d,fetchCategoryWithName:function(e){if(o)return a(e)},getWatchList:p,getFavoriteChannels:h};function a(e){var t;return o&&(t=o.find(function(t){return t.context===e})),t=t||function(e){var t={context:e,type:"media_list",media:[],totalResults:0};return r.createInstance(t)}(e)}function s(){return a("featuredBanner")}function c(){return a("recentlyWatched")}function d(){return a("recentNetworks")}function p(){return a("watchlist")}function h(){return a("favoriteNetworks")}}e.$inject=["$q","entryService","rxhttp","delegateFactory","BookmarkService"],e.$inject=["$q","entryService","rxhttp","delegateFactory","BookmarkService"],angular.module("ovpApp.mylibrary.data",["ovpApp.dataDelegate","ovpApp.services.rxUtils","ovpApp.services.entry","ovpApp.services.bookmark"]).service("mylibraryService",e)}(),angular.module("ovpApp.mylibrary.watchlist",["ovpApp.mylibrary.data","ovpApp.services.bookmark","ovpApp.directives.product"]).component("watchlist",{bindings:{swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/watchlist.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{mylibraryService:t,BookmarkService:n,$rootScope:r,$state:i})}return e.$inject=["mylibraryService","BookmarkService","$rootScope","$state"],e.$inject=["mylibraryService","BookmarkService","$rootScope","$state"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.category=this.mylibraryService.getWatchList(),this.category&&this.category.uri&&(this.viewAllUris="ovp.mylibrary.viewall({name: '".concat(this.category.context,"'})"),this.clearList=function(){return e.mylibraryService.clearList(e.category.context)}),this.deregister=this.$rootScope.$on("watchlist:delete",function(t,n){e.deleteFromWatchList(n)}),this.assets=this.category.media,this.carouselConfig={title:this.category.name,viewAllUri:this.viewAllUris,swimlaneIndex:this.swimlaneIndex,totalSwimlanes:this.totalSwimlanes}}},{key:"$onDestroy",value:function(){this.deregister()}},{key:"browseOnDemand",value:function(){this.$rootScope.$emit("Analytics:select",{elementStandardizedName:"goToFeatured",pageSubSectionName:"watchlist",operationType:"actionTileSelect"}),this.$state.go("ovp.ondemand")}},{key:"deleteFromWatchList",value:function(e){this.assets.splice(this.assets.indexOf(e),1),this.assets=this.assets.slice(0)}},{key:"onRemove",value:function(e){this.BookmarkService.deleteFromWatchlist(e)}}]),e}()}),angular.module("ovpApp.mylibrary.recentlywatched",["ovpApp.mylibrary.data","ovpApp.services.bookmark","ovpApp.directives.product"]).component("recentlyWatched",{bindings:{swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/recently-watched.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{mylibraryService:t,BookmarkService:n,$rootScope:r})}return e.$inject=["mylibraryService","BookmarkService","$rootScope"],e.$inject=["mylibraryService","BookmarkService","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.category=this.mylibraryService.getRecentlyWatchedData(),this.assets=this.category.media}},{key:"onRemove",value:function(e){var t=this;this.BookmarkService.deleteFromInProgressList(e).then(function(){t.assets.splice(t.assets.indexOf(e),1),t.$rootScope.$emit("Analytics:clearSwimlaneItem",{pageSubSectionName:"recentlyWatched"})}).catch(function(){Vi.showToastMessage(te.a.getErrorInfo("WWL-1001").message)})}}]),e}()}),angular.module("ovpApp.mylibrary.heroBanner",["ovpApp.mylibrary.data"]).component("heroBanner",{bindings:{swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/hero-banner.html",controller:function(){function e(t,n,r,i){we()(this,e),angular.extend(this,{mylibraryService:t,$rootScope:n,$element:r,$document:i})}return e.$inject=["mylibraryService","$rootScope","$element","$document"],e.$inject=["mylibraryService","$rootScope","$element","$document"],Ce()(e,[{key:"$onInit",value:function(){this.category=this.mylibraryService.getHeroBannerData(),this.assets=this.category&&this.category.media,this.totalAssets=this.assets.length,this.activeIndex=0,this.previousIndex=this.totalAssets>1?this.totalAssets-1:-1,this.nextIndex=this.totalAssets>1?1:-1,this.activeTitleText=""}},{key:"nextItem",value:function(){this.activeIndex+1>=this.totalAssets?this.activeIndex=0:this.activeIndex+=1,this.setActiveTitleText(),this.previousIndex=0===this.activeIndex?this.totalAssets-1:this.activeIndex-1,this.nextIndex=this.activeIndex+1>=this.totalAssets?0:this.activeIndex+1}},{key:"previousItem",value:function(){this.activeIndex-1<0?this.activeIndex=this.totalAssets-1:this.activeIndex-=1,this.setActiveTitleText(),this.previousIndex=0===this.activeIndex?this.totalAssets-1:this.activeIndex-1,this.nextIndex=this.activeIndex+1>=this.totalAssets?0:this.activeIndex+1}},{key:"setActiveTitleText",value:function(){this.assets.length&&(this.activeTitleText="Showing ".concat(this.assets[this.activeIndex].title,", slide \n                            ").concat(this.activeIndex+1," of ").concat(this.totalAssets))}}]),e}()}),angular.module("ovpApp.mylibrary.heroBannerProduct",["ovpApp.mylibrary.data"]).component("heroBannerProduct",{bindings:{asset:"<",isHidden:"<",index:"<",totalAssets:"<",swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/hero-banner-product.html",controller:function(){function e(t,n,r,i,o,a){we()(this,e),angular.extend(this,{mylibraryService:t,$rootScope:n,$element:r,BookmarkService:i,$state:o,$window:a})}return e.$inject=["mylibraryService","$rootScope","$element","BookmarkService","$state","$window"],e.$inject=["mylibraryService","$rootScope","$element","BookmarkService","$state","$window"],Ce()(e,[{key:"$onInit",value:function(){switch(this.bgImageOptions={orientation:"banner",width:1600},this.showBoxArt=!1,this.hasBookmark=!1,this.playedPct=0,this.canPlay=!1,this.title="",this.subTitle=this.asset.title,this.rentalExpiration="",this.asset.context){case"tvodBookmark":case"bookmark":this.canPlay=!0,this.hasBookmark=!0,this.title="Continue Watching";var e=this.asset.isSeries?this.asset.latestEpisode:this.asset;this.playedPct=e.playedPct,this.rentalExpiration=this.asset.rentalExpiration,this.drmType=Io.getDRMCapabilityForAnalytics(Eo.g.VOD);break;case"tvod":this.canPlay=!0,this.title="Start Watching",this.rentalExpiration=this.asset.rentalExpiration,this.drmType=Io.getDRMCapabilityForAnalytics(Eo.g.VOD);break;case"watchListSeries":case"watchListEvent":this.canPlay=!1,this.title="Your Watchlist"}this.imgElem=this.$element.find(".boxart-image"),this.imgElem.on("error",this.imgLoadErr.bind(this)),this.$window.innerWidth<this.bgImageOptions.width&&(this.bgImageOptions.width=this.$window.innerWidth)}},{key:"getBackgroundImage",value:function(){return this.asset.imageUri(this.bgImageOptions)}},{key:"imgLoadErr",value:function(){"banner"===this.bgImageOptions.orientation?(this.showBoxArt=!0,this.bgImageOptions={}):this.showBoxArt=!1}},{key:"clickRoute",value:function(){var e,t=this.asset.clickRoute;t&&(e=this.$state).go.apply(e,on()(t))}},{key:"playAsset",value:function(){var e=this.asset.isSeries?this.asset.latestEpisode:this.asset;if(e.streamList&&e.streamList.length>0){var t=e.streamList.find(function(e){return"ONLINE_ONDEMAND"===e.type});t&&t.streamProperties.providerAssetID&&this.$state.go("ovp.ondemand.playProduct",{productID:t.streamProperties.providerAssetID})}}},{key:"onAssetSelected",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vh(Object(n),!0).forEach(function(t){f()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({currPageSubsecItemCnt:this.totalSwimlanes,currPageSubsecIndex:this.swimlaneIndex,currPageElemItemCnt:this.totalAssets,currPageElemIndex:this.index,currPageSubsecName:"heroBanner",currPageElemType:"Hero Banner"},Ci(this.asset));this.canPlay?(e.ctntStrmPlbkType=lt.i.VOD,Object(ye.a)(this.hasBookmark?"OneApp_selectAction_swimlanes_resume":"OneApp_selectAction_swimlanes_watch",e),this.playAsset()):(this.asset.isSeries?ga(e,this.asset):ba(e,this.asset),this.clickRoute())}}]),e}()}),angular.module("ovpApp.mylibrary.recentChannels",["ovpApp.mylibrary.data","ovpApp.player.whatsOn"]).component("recentChannels",{bindings:{swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/recent-channels/recent-channels.html",controller:function(){function e(t,n,r){we()(this,e),angular.extend(this,{mylibraryService:t,whatsOn:n,delegateFactory:r})}return e.$inject=["mylibraryService","whatsOn","delegateFactory"],e.$inject=["mylibraryService","whatsOn","delegateFactory"],Ce()(e,[{key:"$onInit",value:function(){this.category=this.mylibraryService.getRecentChannels(),this.channels=this.category&&this.category.media?this.category.media.map(this.delegateFactory.createInstance):[]}}]),e}()}),angular.module("ovpApp.mylibrary.viewall",["ovpApp.mylibrary.data","ovpApp.services.kiteModal","ovpApp.directives.focus","ajoslin.promise-tracker","ovpApp.messages"]).component("myLibraryViewAll",{bindings:{category:"<"},templateUrl:"js/my-library/components/mylibrary-viewall/mylibrary-viewall.html",controller:function(){function e(t,n,r,i,o,a,s){we()(this,e),angular.extend(this,{$rootScope:t,$q:n,$state:r,mylibraryService:i,kiteModalService:o,messages:a,promiseTracker:s})}return e.$inject=["$rootScope","$q","$state","mylibraryService","kiteModalService","messages","promiseTracker"],e.$inject=["$rootScope","$q","$state","mylibraryService","kiteModalService","messages","promiseTracker"],Ce()(e,[{key:"$onInit",value:function(){var e=this;this.emptyViewAll=""===this.category.uri,this.loadingTracker=this.promiseTracker(),this.gridListConfig={title:this.category.name,defaultState:"list"==this.category.uiHint?"list":"grid",totalItems:this.category.totalResults,showTotal:!0,clearListAvailable:!0,showToggle:!0,showPagination:!1,id:k.b.vodMinorCategoryViewMode,useLocalStorage:!0,clearList:function(){var t=e.messages.getAlertForCode("MSG-9106",{CONTEXT:e.category.name});e.$rootScope.$emit("Analytics:select",{elementStandardizedName:"clear"});var n="clear"+e.category.name[0].toUpperCase()+e.category.name.substring(1)+"Confirmation";e.kiteModalService.open({component:"kite-confirm",showCloseIcon:!0,resolve:{title:t.title,description:t.message,analyticsModalName:n},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){var t=e.mylibraryService.clearList(e.category.context).then(function(){return e.emptyViewAll=!0});e.$rootScope.$broadcast("message:loading",t),e.loadingTracker.addPromise(t)})}}}},{key:"backToMyLibrary",value:function(){this.$rootScope.$emit("Analytics:select",{elementStandardizedName:"returnToMyLibrary"}),this.$state.go("ovp.mylibrary.default")}}]),e}()}),angular.module("ovpApp.mylibrary.favoriteChannels",["ovpApp.mylibrary.data","ovpApp.player.whatsOn"]).component("favoriteChannels",{bindings:{swimlaneIndex:"<",totalSwimlanes:"<"},templateUrl:"js/my-library/components/favorite-channels/favorite-channels.html",controller:function(){function e(t,n,r,i,o){we()(this,e),angular.extend(this,{mylibraryService:t,whatsOn:n,delegateFactory:r,$state:i,$rootScope:o})}return e.$inject=["mylibraryService","whatsOn","delegateFactory","$state","$rootScope"],e.$inject=["mylibraryService","whatsOn","delegateFactory","$state","$rootScope"],Ce()(e,[{key:"$onInit",value:function(){this.category=this.mylibraryService.getFavoriteChannels(),this.channels=this.category.media.map(this.delegateFactory.createInstance)}},{key:"goToFavorites",value:function(){this.$rootScope.$emit("Analytics:select",{elementStandardizedName:"goToSettings",pageSubSectionName:"favorites",operationType:"actionTileSelect"}),this.$state.go("ovp.settings.favorites")}}]),e}()});var fh=n("KS72");!function(e){e.keys().forEach(e)}(n("VGrQ")),window.md5=n("gjeX"),window.React=X.a;H.module("ovpApp",["ovpApp.config","ovpApp.components.chromecastPlayerControls","ovpApp.components.chromecastRemote","ovpApp.components.kiteAlert","ovpApp.components.kiteConfirm","ovpApp.components.oohWarningModal","ovpApp.components.kiteModal","ovpApp.services.kiteModal","ovpApp.components.watchNext","ovpApp.login.loginService","ovpApp.login","ovpApp.featureTour","ovpApp.components.ovpFooter","ovpApp.cache","ovpApp.services.runOnceService","ovpApp.components.loadingTracker","ovpApp.components.parentHeader","ovpApp.components.alert","ovpApp.components.popup","ovpApp.components.mobile.login","ovpApp.components.channelIdentifier","ovpApp.twctv.router","ovpApp.live","ovpApp.ondemand","ovpApp.product","ovpApp.rdvr","ovpApp.search","ovpApp.settings","ovpApp.settings.devices","ovpApp.offers.router","ovpApp.buyFlow","ovpApp.rdvr.rdvrService","ovpApp.analytics","ovpApp.service.version","ovpApp.mylibrary","ovpApp.cache","ovpApp.interceptors.oauth","ovpApp.interceptors.httpInterceptor","ovpApp.interceptors.nns","ovpApp.guide","ovpApp.cdvr","ovpApp.interceptors.jquery","ovpApp.services.connectivityService","ovpApp.services.chromecast","ovpApp.store","ui.router"]).constant("store",l.a.getInstance()).config(["paginationTemplateProvider","$uiRouterProvider","$logProvider","$sceDelegateProvider",function(e,t,n,r){n.debugEnabled(!1),e.setPath("js/directives/pagination-template.html"),t.plugin(G.StickyStatesPlugin),r.resourceUrlWhitelist(["**"])}]),H.module("ovpApp.version",[]).constant("version",{appVersion:"13.4.1.28361553",commitHash:"ddfa06e86f"}),H.module("lib.platform",[]).constant("platform",M),H.module("lib.sha1",[]).constant("JSSha",W.a),H.module("dataDelegate",[]).constant("DataDelegate",L.a),H.module("selectn",[]).constant("selectn",U.a),H.module("ovpApp.hnav.vpns",[]).constant("VpnsClient",z.a),H.module("underscore",[]).constant("_",J.a),H.module("moment",[]).constant("moment",ee.a),window.onload=function(){C.a.init(),l.a.init(),function(){var e,t=new URL(window.location.href).hostname.toLowerCase(),n=l.a.getSelectorValue(u.U),r=n.default,i=n.data.find(function(e){return void 0!==e.domainRegexs.find(function(e){return new RegExp(e).test(t)})});l.a.dispatch($p.a.updateClientType(null!==(e=null===i||void 0===i?void 0:i.name)&&void 0!==e?e:r)),(null===i||void 0===i?void 0:i.configOverrides)&&l.a.dispatch(Object(fh.u)(i.configOverrides))}(),D.init(),Object(R.c)(),a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.takeOnce(j.a.UPDATECURRENTENVIRONMENTCONFIG);case 2:return e.prev=2,e.next=5,null===(t=new Y.b("13.4.1.28361553"))||void 0===t?void 0:t.initialize();case 5:if(!l.a.getSelectorValue(s.d)){e.next=8;break}return e.next=8,l.a.takeOnce(N.a.SUCCESS);case 8:Object(y.k)(),ut.a.initialize(),H.bootstrap(document.body,["ovpApp"],{strictDi:!0}),window.addEventListener("error",function(e){var t;(null===e||void 0===e?void 0:null===(t=e.error)||void 0===t?void 0:t.message)?p(e.error):(null===e||void 0===e?void 0:e.message)?p({message:e.message,stack:"not available"}):p({message:"error not available ".concat(e),stack:"not available"})}),window.onunhandledrejection=function(e){var t;p((null===e||void 0===e?void 0:null===(t=e.reason)||void 0===t?void 0:t.message)?e.reason:{message:"error not available ".concat(e),stack:"not available"})},Object($e.setOauthService)(Object(c.c)("OauthService")),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),console.error("Error",e.t0),new Error(e.t0);case 19:case"end":return e.stop()}},e,null,[[2,15]])}))(),l.a.dispatch(j.a.trigger())}},eDgE:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<span class="sr-only" role="status" aria-live="polite" aria-atomic="true" ng-bind="$ctrl.alertmessage"></span>\n<div class="row">\n<h2 class="setting-label col-xs-16">Content block</h2>\n<div class="row">\n<div class="col-xs-16" role="application" arrow-nav="rating-tile">\n<div class="rating-tile" ng-class="{blocked: $ctrl.isContentBlocked(content)}" ng-repeat="content in $ctrl.contentBlock" ng-click="$ctrl.contentClicked(content)">\n<span class="sr-only">{{$index === 0 ? (\'Use arrow keys to navigate content block, press enter to block or unblock, press tab to exit\') : \'\'}}</span>\n<span class="sr-only">{{$ctrl.isContentBlocked(content) ? \'blocked\' : \'\'}}</span>\n<div class="label-content" aria-label="{{content}} content">{{content}}</div>\n<span class="twcicon-svg twcicon-svg-lock"></span>\n</div>\n</div>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-contentBlock.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},eFMu:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return E});n("rB9j"),n("Rm1S");var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("lwsE"),c=n.n(s),l=n("W8MJ"),u=n.n(l),d=n("KS72"),p=n("hd3w"),h=n("PNUD"),v=(n("R5XZ"),n("PnGe")),f=n("KppK"),m=null,g=null,b=function(){var e=h.a.watch("config.configInitComplete.complete"),t=h.a.subscribe(e(function(e){var n=h.a.getStatePath("config.data.configUpdateData.configUpdateCheckIntervalSec");e&&n&&(S(),t())})),n=h.a.watch("config.refresh.required");h.a.subscribe(n(function(e){if(e){var t=angular.element(document.body).injector().get("kiteModalService");k(),t.open({component:"kite-confirm",showCloseIcon:!0,resolve:{primaryButtonLabel:"Restart Now",secondaryButtonLabel:"Postpone",title:"",analyticsModalName:"updateNotificationTDCS",description:"We're sorry to interrupt, but an important update to the Spectrum app requires us to restart."},ariaLabelledBy:"kite-confirm-title",ariaDescribedBy:"kite-confirm-description"}).promise.then(function(){h.a.dispatch(Object(f.b)())},function(){h.a.dispatch(Object(f.c)())})}}));var r=h.a.watch("config.refresh.denied");h.a.subscribe(r(function(e){e&&(h.a.dispatch(Object(f.i)()),C())}));var i=h.a.watch("config.refresh.accepted");h.a.subscribe(i(function(e){e&&h.a.dispatch(Object(f.j)({triggeredBy:"user"}))}));var o=h.a.watch("config.refresh.appRefreshStarted");h.a.subscribe(o(function(e){e&&location.reload(!0)}))},y=function(){Object(p.e)().then(function(e){e.majorMinorVersion=Object(p.g)();var t=Object(p.c)(e),n=Object(p.f)(e),r=h.a.getStatePath("config.tdcsPublic.hash");t&&(n!==r?h.a.dispatch(Object(f.d)()):Object(p.d)().then(function(e){var t=Object(v.c)(e,"data.config");Object(p.f)(t)!==h.a.getStatePath("config.tdcsPrivate.hash")&&h.a.dispatch(Object(f.d)())}))}).catch(function(e){throw new Error(e)})},S=function(){var e=h.a.getStatePath("config.data.configUpdateData.configUpdateCheckIntervalSec");m=setInterval(y,1e3*e)},w=function(){h.a.dispatch(Object(f.j)({triggeredBy:"application"}))},k=function(){var e=h.a.getStatePath("config.data.configUpdateData.promptDisplayTimeSec");g=setTimeout(w,1e3*e)},C=function(){clearInterval(m),clearTimeout(g),S()},$=n("fwyg"),T=n("CnnF"),O={ENVIRONMENT_PRODUCTION:"production"},E=function(){function e(){c()(this,e),b(),this.storeCurrentVersion()}return u()(e,[{key:"initialize",value:function(){var e=a()(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchInitConfig().then(function(e){return h.a.dispatch(Object(d.z)(e)),Object(p.a)(),Object(p.b)(),t.startKochavaTracker(),e}).catch(function(e){throw new Error(e)}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMajorMinorVersion",value:function(){try{return h.a.getStatePath("config.data.version").match(/^[0-9]+\.[0-9]+/)[0]}catch(e){throw"Unable to parse app version "+e}}},{key:"storeCurrentVersion",value:function(){if(window.sessionStorage)try{var e=h.a.getStatePath("config.data.version");window.sessionStorage.setItem("appVersion",JSON.stringify(e))}catch(e){console.error("Unable to store appVersion")}}},{key:"updateConfigOnChange",value:function(e){angular.merge(this,e)}},{key:"fetchInitConfig",value:function(){var e=this;return h.a.dispatch(Object(d.s)()),Object(p.e)().then(function(t){if(t){t.majorMinorVersion=e.getMajorMinorVersion(),h.a.dispatch(Object(d.t)()),Object(T.a)();var n=Object(p.f)(t);return h.a.dispatch(Object(d.x)(n)),t}throw h.a.dispatch(Object(d.r)()),console.warn("No data in tdcs public config"),new Error("No data in tdcs public config")}).catch(function(e){var t;throw t=e.response?e.response:{message:"TDCS activityConfig timeout or an internet connection error. error response property is undefined"},h.a.dispatch(Object(d.r)(t)),new Error(t)})}},{key:"startKochavaTracker",value:function(){if(h.a.getSelectorValue($.ag)){var e=document.createElement("script");e.type="text/javascript";var t='!function(e,t,o,a,n,c){var r=window.kochava=window.kochava||[];if(r.loaded)window.console&&console.error&&console.error("Kochava snippet already included");else{r.loaded=!0,r.methods=["page","identify","activity","conversion","init","submitCookieId","getCookieId","getMAID","getKochavaId"],stub=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),r.push(t),r}};for(var i=0;i<r.methods.length;i++){var s=r.methods[i];r[s]=stub(s)}r.init((new Date).getTime(),e,n,c),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"assets.kochava.com/kochava.js/"+t+"/kochava.min.js",a||(e.src=e.src+"?c="+Math.random());var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}(),o&&r.page()}}("'.concat(h.a.getSelectorValue($.Dc),'","v2.1",true,false,false,false);');try{e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}catch(n){e.text=t,document.head.appendChild(e)}}}}]),e}()},eGZO:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="remote-cc-settings-container">\n<div ng-click="$ctrl.hide()" aria-label="close dialog" role="button" tabindex="0" style="float: right">\n<a class="kite-close">\n<span class="twcicon twcicon-remove"></span>\n</a>\n</div>\n<div class="cc-settings-header" role="heading" aria-level="1">\n<span id="labelText" class="sr-only">Closed captioning settings</span>\n<img alt="" class="cc-icon" style="float: left" ng-src="{{$ctrl.appVersion}}/images/icon-cc.png"/>\n<h5 aria-hidden="true">Settings</h5>\n</div>\n<div>\n<div style="display:none">\n<div id="cc-text-color-button">\nText color\n</div>\n<div id="cc-background-color-button">\nBackground color\n</div>\n<div id="cc-window-color-button">\nWindow color\n</div>\n</div>\n<div class="cc-text-option-container-wrapper">\n<h5 id="cc-text-label">Text</h5>\n<div class="cc-text-option-container">\n<div role="listbox" aria-live="polite" aria-label="text color {{$ctrl.textColorOptions[$ctrl.ccSettings.textColor].text}} selected" class="color-options-container" arrow-nav="div-color" arrow-nav-options="{noShiftTabExit: true}">\n<div role="option" aria-label="{{color.text}}" aria-describedby="cc-text-color-button" class="div-color" focus-when="$first" ng-class="{\'selected-color\': $ctrl.ccSettings.textColor === color.index}" ng-repeat="color in $ctrl.textColorOptions" ng-click="$ctrl.setTextColor(color)" focus-previous=".popupCloseClick" ng-style="{\'background-color\': color.text}"></div>\n</div>\n<ovp-dropdown-list items="$ctrl.textOpacityOptions" config="{activeIndex: $ctrl.ccSettings.textOpacity, onSelect: $ctrl.setTextOpacity, buttonLabel: \'text\'}" class="cc-text-dropdown"></ovp-dropdown-list>\n</div>\n</div>\n<div class="cc-font-option-container">\n<div class="font-container">\n<h5 id="cc-font-label">Font</h5>\n<ovp-dropdown-list items="$ctrl.fontOptions" config="{activeIndex: $ctrl.ccSettings.font, onSelect: $ctrl.setFont, buttonLabel: \'font\'}"></ovp-dropdown-list>\n</div>\n<div class="font-size-container">\n<h5 id="cc-font-size-label">Size</h5>\n<ovp-dropdown-list items="$ctrl.fontSizeOptions" config="{activeIndex: $ctrl.ccSettings.fontSize, onSelect: $ctrl.setFontSize, buttonLabel: \'font size\'}"></ovp-dropdown-list>\n</div>\n</div>\n<div class="cc-background-option-container">\n<h5 id="cc-background-label">Background</h5>\n<div role="listbox" aria-live="polite" aria-label="background color {{$ctrl.backgroundColorOptions[$ctrl.ccSettings.backgroundColor].text}} selected" class="color-options-container" arrow-nav="div-color" arrow-nav-options="{noShiftTabExit: true}">\n<div role="option" aria-label="{{color.text}}" aria-describedby="cc-background-color-button" class="div-color" ng-class="{\'selected-color\': $ctrl.ccSettings.backgroundColor === color.index}" ng-repeat="color in $ctrl.backgroundColorOptions" ng-click="$ctrl.setBackgroundColor(color)" ng-style="{\'background-color\': color.text}"></div>\n</div>\n<ovp-dropdown-list items="$ctrl.backgroundOpacityOptions" config="{activeIndex: $ctrl.ccSettings.backgroundOpacity, onSelect: $ctrl.setBackgroundOpacity, buttonLabel: \'background\'}" class="cc-text-dropdown"></ovp-dropdown-list>\n</div>\n<div class="cc-source-option-container">\n<div class="digital-source-container">\n<h5 id="cc-source-label">Digital source</h5>\n<ovp-dropdown-list items="$ctrl.digitalSourceOptions" config="{activeIndex: $ctrl.ccSettings.digitalSource, onSelect: $ctrl.setDigitalSource, buttonLabel: \'digital source\'}"></ovp-dropdown-list>\n</div>\n<div class="format-source-container">\n<h5 id="format-source-label">Format source</h5>\n<ovp-dropdown-list items="$ctrl.formatSourceOptions" config="{activeIndex: $ctrl.ccSettings.formatSource, onSelect: $ctrl.setFormatSource, buttonLabel: \'format source\'}"></ovp-dropdown-list>\n</div>\n</div>\n<div class="cc-footer-container">\n<button tabindex="0" type="button" class="kite-btn restore-default-btn" ng-click="$ctrl.restoreDefault()">Restore Defaults</button>\n</div>\n</div>\n</div>\n',o="js/components/ovp/ovp-cc-settings/ovp-remote-player-cc-settings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},eOGt:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){var t;return!!(null===e||void 0===e?void 0:null===(t=e.application)||void 0===t?void 0:t.authDependenciesInitialized)},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.application)||void 0===t?void 0:t.clientType}},eaeD:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<span class="sr-only" role="status" aria-live="polite" aria-atomic="true" ng-bind="$ctrl.alertmessage"></span>\n<div class="row" ng-repeat="type in $ctrl.ratingTypes">\n<h2 class="setting-label col-xs-16">Allowed {{type.name}}</h2>\n<div class="row">\n<div class="col-xs-16" role="application" arrow-nav="rating-tile">\n<div class="rating-tile" ng-class="{blocked: $ctrl.isRatingBlocked(rating)}" ng-repeat="rating in $ctrl.separatedRatings[type.id]" ng-click="$ctrl.ratingClicked(rating)">\n<span class="sr-only">{{$first ? (\'Use arrow keys to navigate \' + type.name + \', press enter to block or unblock, press tab to exit\') : \'\'}}</span>\n<span class="sr-only">{{$ctrl.isRatingBlocked(rating) ? \'blocked\' : \'\'}}</span>\n<div class="label">{{rating.toUpperCase()}}</div>\n<span class="twcicon-svg twcicon-svg-lock"></span>\n</div>\n</div>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-allowedRatings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"ep/u":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="specu-activation-loading-container">\n<img ovp-src="/images/logo-specu-horiz.svg" alt="Spectrum U">\n<div class="spinner"></div>\n<h1 tabindex="-2" focus-once class="kite-h3">Verifying your code...</h1>\n<p class="sr-only">\nLoading, please wait.\n</p>\n</div>\n',o="js/specu/loading.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"f8b+":function(e,t,n){"use strict";var r,i,o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),l=n("iuiN"),u=n.n(l),d=n("PnGe"),p=n("gjeX"),h=n.n(p),v=n("PNUD"),f=n("LYxj"),m=n("oRAM"),g=n("fwyg");function b(e,t){var n,o,a=Object(d.c)(m.a,e);a?(o=a.location,n=a.keyName):(o=m.c.LOCAL,n=e),t&&(n=h()(n));try{if(o===m.c.LOCAL)return JSON.parse(r.getItem(n));if(o===m.c.SESSION)return JSON.parse(i.getItem(n));if(o===m.c.USER)return w(S())[n]}catch(e){return}}function y(e){var t,n,o=Object(d.c)(m.a,e);if(o?(n=o.location,t=o.keyName):(n=m.c.LOCAL,t=e),n===m.c.LOCAL)r.removeItem(t);else if(n===m.c.SESSION)i.removeItem(t);else if(n===m.c.USER){var a=S(),s=w(a);delete s[t],r.setItem(a,JSON.stringify(s))}}function S(){return"user-"+v.a.getSelectorValue(f.b)}function w(e){var t=b(e)||{};return Object(d.g)(t)&&(t=JSON.parse(t)),u()(t)}var k=function(){function e(){a()(this,e),this.data={}}return c()(e,[{key:"getItem",value:function(e){return this.data[e]}},{key:"setItem",value:function(e,t){this.data[e]=t}},{key:"removeItem",value:function(e){var t=this.data[e];return delete this.data[e],t}}]),e}();t.a={init:function(){r=function(){var e=Object(d.c)(window,"localStorage");if(e)try{e.setItem("storageCheck","test"),e.removeItem("storageCheck")}catch(e){return!1}return!0}()?Object(d.c)(window,"localStorage"):new k,i=function(){var e=Object(d.c)(window,"sessionStorage");if(e)try{e.setItem("storageCheck","test"),e.removeItem("storageCheck")}catch(e){return!1}return!0}()?Object(d.c)(window,"sessionStorage"):new k},setItem:function(e,t){var n,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=Object(d.c)(m.a,e);if(s?(o=s.location,n=s.keyName):(o=m.c.LOCAL,n=e),a&&a.key&&(n=h()(n)),a&&a.value&&(t=h()(t)),o===m.c.LOCAL)r.setItem(n,JSON.stringify(t));else if(o===m.c.SESSION)i.setItem(n,JSON.stringify(t));else if(o===m.c.USER){var c=S(),l=w(c);l[n]=t,r.setItem(c,JSON.stringify(l))}},getItem:b,removeItem:y,localStorage:r,cleanUp:function(){v.a.getSelectorValue(g.e)&&y(S()),y(m.b.currentUser),y(m.b.userIdHash),y(m.b.vpnsClientId)},hasConfigOverride:function(){return!!b(m.b.configOverride)}}},fJ9L:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='\n<div tabindex="{{($ctrl.hasWatchOnTvActions) ? 0 : -1}}" class="control-item watch-on-tv-icon-wrapper" ovp-click="$ctrl.watchOnTvToggle()" aria-disabled="{{(!$ctrl.hasWatchOnTvActions)}}" prevent-default aria-label="Watch on TV" ng-class="{\'disabled\': !($ctrl.hasWatchOnTvActions)}">\n<img class="watch-on-tv-icon" ng-mouseover="$ctrl.hovered = true" ng-mouseleave="$ctrl.hovered = false" ng-src="{{$ctrl.watchOnTvImage()}}">\n<div class="tooltip-watch">Watch on TV</div>\n</div>\n',o="js/components/player/toggle-watch-on-tv.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},fX0l:function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
!function(i,o){var a=i.document,s=i.navigator,c=i.location,l=function(){var e,t,n,r,c=function(t,n){return new c.fn.init(t,n,e)},l=i.jQuery,u=i.$,d=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,p=/\S/,h=/^\s+/,v=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,b=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,S=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,k=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,$=/-([a-z]|[0-9])/gi,T=/^-ms-/,O=function(e,t){return(t+"").toUpperCase()},E=s.userAgent,A=Object.prototype.toString,P=Object.prototype.hasOwnProperty,I=Array.prototype.push,x=Array.prototype.slice,_=String.prototype.trim,D=Array.prototype.indexOf,R={};function j(){if(!c.isReady){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(j,1)}c.ready()}}return c.fn=c.prototype={constructor:c,init:function(e,t,n){var r,i,s,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!t&&a.body)return this.context=a,this[0]=a.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:d.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1])return l=(t=t instanceof c?t[0]:t)?t.ownerDocument||t:a,(s=f.exec(e))?c.isPlainObject(t)?(e=[a.createElement(s[1])],c.fn.attr.call(e,t,!0)):e=[l.createElement(s[1])]:e=((s=c.buildFragment([r[1]],[l])).cacheable?c.clone(s.fragment):s.fragment).childNodes,c.merge(this,e);if((i=a.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return n.find(e);this.length=1,this[0]=i}return this.context=a,this.selector=e,this}return c.isFunction(e)?n.ready(e):(e.selector!==o&&(this.selector=e.selector,this.context=e.context),c.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return x.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return c.isArray(e)?I.apply(r,e):c.merge(r,e),r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return c.each(this,e,t)},ready:function(e){return c.bindReady(),n.add(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(x.apply(this,arguments),"slice",x.call(arguments).join(","))},map:function(e){return this.pushStack(c.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:I,sort:[].sort,splice:[].splice},c.fn.init.prototype=c.fn,c.extend=c.fn.extend=function(){var e,t,n,r,i,a,s=arguments[0]||{},l=1,u=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==typeof s||c.isFunction(s)||(s={}),u===l&&(s=this,--l);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=s[t],s!==(r=e[t])&&(d&&r&&(c.isPlainObject(r)||(i=c.isArray(r)))?(i?(i=!1,a=n&&c.isArray(n)?n:[]):a=n&&c.isPlainObject(n)?n:{},s[t]=c.extend(d,a,r)):r!==o&&(s[t]=r));return s},c.extend({noConflict:function(e){return i.$===c&&(i.$=u),e&&i.jQuery===c&&(i.jQuery=l),c},isReady:!1,readyWait:1,holdReady:function(e){e?c.readyWait++:c.ready(!0)},ready:function(e){if(!0===e&&!--c.readyWait||!0!==e&&!c.isReady){if(!a.body)return setTimeout(c.ready,1);if(c.isReady=!0,!0!==e&&--c.readyWait>0)return;n.fireWith(a,[c]),c.fn.trigger&&c(a).trigger("ready").off("ready")}},bindReady:function(){if(!n){if(n=c.Callbacks("once memory"),"complete"===a.readyState)return setTimeout(c.ready,1);if(a.addEventListener)a.addEventListener("DOMContentLoaded",r,!1),i.addEventListener("load",c.ready,!1);else if(a.attachEvent){a.attachEvent("onreadystatechange",r),i.attachEvent("onload",c.ready);var e=!1;try{e=null==i.frameElement}catch(e){}a.documentElement.doScroll&&e&&j()}}},isFunction:function(e){return"function"===c.type(e)},isArray:Array.isArray||function(e){return"array"===c.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):R[A.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==c.type(e)||e.nodeType||c.isWindow(e))return!1;try{if(e.constructor&&!P.call(e,"constructor")&&!P.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return t===o||P.call(e,t)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(e){return"string"==typeof e&&e?(e=c.trim(e),i.JSON&&i.JSON.parse?i.JSON.parse(e):m.test(e.replace(g,"@").replace(b,"]").replace(y,""))?new Function("return "+e)():void c.error("Invalid JSON: "+e)):null},parseXML:function(e){if("string"!=typeof e||!e)return null;var t;try{i.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=o}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||c.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&p.test(e)&&(i.execScript||function(e){i.eval.call(i,e)})(e)},camelCase:function(e){return e.replace(T,"ms-").replace($,O)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,t,n){var r,i=0,a=e.length,s=a===o||c.isFunction(e);if(n)if(s){for(r in e)if(!1===t.apply(e[r],n))break}else for(;i<a&&!1!==t.apply(e[i++],n););else if(s){for(r in e)if(!1===t.call(e[r],r,e[r]))break}else for(;i<a&&!1!==t.call(e[i],i,e[i++]););return e},trim:_?function(e){return null==e?"":_.call(e)}:function(e){return null==e?"":e.toString().replace(h,"").replace(v,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var r=c.type(e);null==e.length||"string"===r||"function"===r||"regexp"===r||c.isWindow(e)?I.call(n,e):c.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(D)return D.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=e.length,r=0;if("number"==typeof t.length)for(var i=t.length;r<i;r++)e[n++]=t[r];else for(;t[r]!==o;)e[n++]=t[r++];return e.length=n,e},grep:function(e,t,n){var r=[];n=!!n;for(var i=0,o=e.length;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=[],s=0,l=e.length;if(e instanceof c||l!==o&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||c.isArray(e)))for(;s<l;s++)null!=(r=t(e[s],s,n))&&(a[a.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,t){if("string"==typeof t){var n=e[t];t=e,e=n}if(!c.isFunction(e))return o;var r=x.call(arguments,2),i=function(){return e.apply(t,r.concat(x.call(arguments)))};return i.guid=e.guid=e.guid||i.guid||c.guid++,i},access:function(e,t,n,r,i,a,s){var l,u=null==n,d=0,p=e.length;if(n&&"object"==typeof n){for(d in n)c.access(e,t,d,n[d],1,a,r);i=1}else if(r!==o){if(l=s===o&&c.isFunction(r),u&&(l?(l=t,t=function(e,t,n){return l.call(c(e),n)}):(t.call(e,r),t=null)),t)for(;d<p;d++)t(e[d],n,l?r.call(e[d],d,t(e[d],n)):r,s);i=1}return i?e:u?t.call(e):p?t(e[0],n):a},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=S.exec(e)||w.exec(e)||k.exec(e)||e.indexOf("compatible")<0&&C.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}c.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof c&&!(r instanceof e)&&(r=e(r)),c.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(a);return e},browser:{}}),c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){R["[object "+t+"]"]=t.toLowerCase()}),(t=c.uaMatch(E)).browser&&(c.browser[t.browser]=!0,c.browser.version=t.version),c.browser.webkit&&(c.browser.safari=!0),p.test(" ")&&(h=/^[\s\xA0]+/,v=/[\s\xA0]+$/),e=c(a),a.addEventListener?r=function(){a.removeEventListener("DOMContentLoaded",r,!1),c.ready()}:a.attachEvent&&(r=function(){"complete"===a.readyState&&(a.detachEvent("onreadystatechange",r),c.ready())}),c}(),u={};l.Callbacks=function(e){e=e?u[e]||function(e){var t,n,r=u[e]={};for(t=0,n=(e=e.split(/\s+/)).length;t<n;t++)r[e[t]]=!0;return r}(e):{};var t,n,r,i,a,s,c=[],d=[],p=function(t){var n,r,i,o;for(n=0,r=t.length;n<r;n++)i=t[n],"array"===(o=l.type(i))?p(i):"function"===o&&(e.unique&&v.has(i)||c.push(i))},h=function(o,l){for(l=l||[],t=!e.memory||[o,l],n=!0,r=!0,s=i||0,i=0,a=c.length;c&&s<a;s++)if(!1===c[s].apply(o,l)&&e.stopOnFalse){t=!0;break}r=!1,c&&(e.once?!0===t?v.disable():c=[]:d&&d.length&&(t=d.shift(),v.fireWith(t[0],t[1])))},v={add:function(){if(c){var e=c.length;p(arguments),r?a=c.length:t&&!0!==t&&(i=e,h(t[0],t[1]))}return this},remove:function(){if(c)for(var t=arguments,n=0,i=t.length;n<i;n++)for(var o=0;o<c.length&&(t[n]!==c[o]||(r&&o<=a&&(a--,o<=s&&s--),c.splice(o--,1),!e.unique));o++);return this},has:function(e){if(c)for(var t=0,n=c.length;t<n;t++)if(e===c[t])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=d=t=o,this},disabled:function(){return!c},lock:function(){return d=o,t&&!0!==t||v.disable(),this},locked:function(){return!d},fireWith:function(n,i){return d&&(r?e.once||d.push([n,i]):e.once&&t||h(n,i)),this},fire:function(){return v.fireWith(this,arguments),this},fired:function(){return!!n}};return v};var d=[].slice;l.extend({Deferred:function(e){var t,n=l.Callbacks("once memory"),r=l.Callbacks("once memory"),i=l.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(e,t,n){return c.done(e).fail(t).progress(n),this},always:function(){return c.done.apply(c,arguments).fail.apply(c,arguments),this},pipe:function(e,t,n){return l.Deferred(function(r){l.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,i=t[0],o=t[1];l.isFunction(i)?c[e](function(){(n=i.apply(this,arguments))&&l.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===c?r:this,[n])}):c[e](r[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},c=s.promise({});for(t in a)c[t]=a[t].fire,c[t+"With"]=a[t].fireWith;return c.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),e&&e.call(c,c),c},when:function(e){var t=d.call(arguments,0),n=0,r=t.length,i=new Array(r),o=r,a=r<=1&&e&&l.isFunction(e.promise)?e:l.Deferred(),s=a.promise();function c(e){return function(n){t[e]=arguments.length>1?d.call(arguments,0):n,--o||a.resolveWith(a,t)}}function u(e){return function(t){i[e]=arguments.length>1?d.call(arguments,0):t,a.notifyWith(s,i)}}if(r>1){for(;n<r;n++)t[n]&&t[n].promise&&l.isFunction(t[n].promise)?t[n].promise().then(c(n),a.reject,u(n)):--o;o||a.resolveWith(a,t)}else a!==e&&a.resolveWith(a,r?[e]:[]);return s}}),l.support=function(){var e,t,n,r,o,s,c,u,d,p,h,v=a.createElement("div");a.documentElement;if(v.setAttribute("className","t"),v.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",t=v.getElementsByTagName("*"),n=v.getElementsByTagName("a")[0],!t||!t.length||!n)return{};o=(r=a.createElement("select")).appendChild(a.createElement("option")),s=v.getElementsByTagName("input")[0],e={leadingWhitespace:3===v.firstChild.nodeType,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==v.className,enctype:!!a.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},l.boxModel=e.boxModel="CSS1Compat"===a.compatMode,s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!o.disabled;try{delete v.test}catch(t){e.deleteExpando=!1}if(!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function(){e.noCloneEvent=!1}),v.cloneNode(!0).fireEvent("onclick")),(s=a.createElement("input")).value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),v.appendChild(s),(c=a.createDocumentFragment()).appendChild(v.lastChild),e.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,c.removeChild(s),c.appendChild(v),v.attachEvent)for(p in{submit:1,change:1,focusin:1})(h=(d="on"+p)in v)||(v.setAttribute(d,"return;"),h="function"==typeof v[d]),e[p+"Bubbles"]=h;return c.removeChild(v),c=r=o=v=s=null,l(function(){var t,n,r,o,s,c,d,p,f,m=a.getElementsByTagName("body")[0];m&&(p="<div "+(d="style='"+(f="position:absolute;top:0;left:0;width:1px;height:1px;")+"padding:0;margin:0;border:5px solid #000;")+"display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table "+d+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",(t=a.createElement("div")).style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",m.insertBefore(t,m.firstChild),v=a.createElement("div"),t.appendChild(v),v.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",u=v.getElementsByTagName("td"),h=0===u[0].offsetHeight,u[0].style.display="",u[1].style.display="none",e.reliableHiddenOffsets=h&&0===u[0].offsetHeight,i.getComputedStyle&&(v.innerHTML="",(c=a.createElement("div")).style.width="0",c.style.marginRight="0",v.style.width="2px",v.appendChild(c),e.reliableMarginRight=0===(parseInt((i.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)),void 0!==v.style.zoom&&(v.innerHTML="",v.style.width=v.style.padding="1px",v.style.border=0,v.style.overflow="hidden",v.style.display="inline",v.style.zoom=1,e.inlineBlockNeedsLayout=3===v.offsetWidth,v.style.display="block",v.style.overflow="visible",v.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==v.offsetWidth),v.style.cssText=f+"padding:0;margin:0;border:0;visibility:hidden;",v.innerHTML=p,r=(n=v.firstChild).firstChild,o=n.nextSibling.firstChild.firstChild,s={doesNotAddBorder:5!==r.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},r.style.position="fixed",r.style.top="20px",s.fixedPosition=20===r.offsetTop||15===r.offsetTop,r.style.position=r.style.top="",n.style.overflow="hidden",n.style.position="relative",s.subtractsBorderForOverflowNotVisible=-5===r.offsetTop,s.doesNotIncludeMarginInBodyOffset=1!==m.offsetTop,i.getComputedStyle&&(v.style.marginTop="1%",e.pixelMargin="1%"!==(i.getComputedStyle(v,null)||{marginTop:0}).marginTop),void 0!==t.style.zoom&&(t.style.zoom=1),m.removeChild(t),c=v=t=null,l.extend(e,s))}),e}();var p=/^(?:\{.*\}|\[.*\])$/,h=/([A-Z])/g;function v(e,t,n){if(n===o&&1===e.nodeType){var r="data-"+t.replace(h,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:l.isNumeric(n)?+n:p.test(n)?l.parseJSON(n):n)}catch(e){}l.data(e,t,n)}else n=o}return n}function f(e){for(var t in e)if(("data"!==t||!l.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function m(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",a=l._data(e,r);!a||"queue"!==n&&l._data(e,i)||"mark"!==n&&l._data(e,o)||setTimeout(function(){l._data(e,i)||l._data(e,o)||(l.removeData(e,r,!0),a.fire())},0)}l.extend({cache:{},uuid:0,expando:"jQuery"+(l.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?l.cache[e[l.expando]]:e[l.expando])&&!f(e)},data:function(e,t,n,r){if(l.acceptData(e)){var i,a,s,c=l.expando,u="string"==typeof t,d=e.nodeType,p=d?l.cache:e,h=d?e[c]:e[c]&&c,v="events"===t;if(h&&p[h]&&(v||r||p[h].data)||!u||n!==o)return h||(d?e[c]=h=++l.uuid:h=c),p[h]||(p[h]={},d||(p[h].toJSON=l.noop)),"object"!=typeof t&&"function"!=typeof t||(r?p[h]=l.extend(p[h],t):p[h].data=l.extend(p[h].data,t)),i=a=p[h],r||(a.data||(a.data={}),a=a.data),n!==o&&(a[l.camelCase(t)]=n),v&&!a[t]?i.events:(u?null==(s=a[t])&&(s=a[l.camelCase(t)]):s=a,s)}},removeData:function(e,t,n){if(l.acceptData(e)){var r,i,o,a=l.expando,s=e.nodeType,c=s?l.cache:e,u=s?e[a]:a;if(c[u]){if(t&&(r=n?c[u]:c[u].data)){l.isArray(t)||(t=t in r?[t]:(t=l.camelCase(t))in r?[t]:t.split(" "));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?f:l.isEmptyObject)(r))return}(n||(delete c[u].data,f(c[u])))&&(l.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,s&&(l.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null))}}},_data:function(e,t,n){return l.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=l.noData[e.nodeName.toLowerCase()];if(t)return!(!0===t||e.getAttribute("classid")!==t)}return!0}}),l.fn.extend({data:function(e,t){var n,r,i,a,s,c=this[0],u=0,d=null;if(e===o){if(this.length&&(d=l.data(c),1===c.nodeType&&!l._data(c,"parsedAttrs"))){for(s=(i=c.attributes).length;u<s;u++)0===(a=i[u].name).indexOf("data-")&&(a=l.camelCase(a.substring(5)),v(c,a,d[a]));l._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){l.data(this,e)}):((n=e.split(".",2))[1]=n[1]?"."+n[1]:"",r=n[1]+"!",l.access(this,function(t){if(t===o)return(d=this.triggerHandler("getData"+r,[n[0]]))===o&&c&&(d=l.data(c,e),d=v(c,e,d)),d===o&&n[1]?this.data(n[0]):d;n[1]=t,this.each(function(){var i=l(this);i.triggerHandler("setData"+r,n),l.data(this,e,t),i.triggerHandler("changeData"+r,n)})},null,t,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){l.removeData(this,e)})}}),l.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",l._data(e,t,(l._data(e,t)||0)+1))},_unmark:function(e,t,n){if(!0!==e&&(n=t,t=e,e=!1),t){var r=(n=n||"fx")+"mark",i=e?0:(l._data(t,r)||1)-1;i?l._data(t,r,i):(l.removeData(t,r,!0),m(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=l._data(e,t),n&&(!r||l.isArray(n)?r=l._data(e,t,l.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=l.queue(e,t),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===t&&n.unshift("inprogress"),l._data(e,t+".run",i),r.call(e,function(){l.dequeue(e,t)},i)),n.length||(l.removeData(e,t+"queue "+t+".run",!0),m(e,t,"queue"))}}),l.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?l.queue(this[0],e):t===o?this:this.each(function(){var n=l.queue(this,e,t);"fx"===e&&"inprogress"!==n[0]&&l.dequeue(this,e)})},dequeue:function(e){return this.each(function(){l.dequeue(this,e)})},delay:function(e,t){return e=l.fx&&l.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){"string"!=typeof e&&(t=e,e=o),e=e||"fx";var n,r=l.Deferred(),i=this,a=i.length,s=1,c=e+"defer",u=e+"queue",d=e+"mark";function p(){--s||r.resolveWith(i,[i])}for(;a--;)(n=l.data(i[a],c,o,!0)||(l.data(i[a],u,o,!0)||l.data(i[a],d,o,!0))&&l.data(i[a],c,l.Callbacks("once memory"),!0))&&(s++,n.add(p));return p(),r.promise(t)}});var g,b,y,S=/[\n\t\r]/g,w=/\s+/,k=/\r/g,C=/^(?:button|input)$/i,$=/^(?:button|input|object|select|textarea)$/i,T=/^a(?:rea)?$/i,O=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,E=l.support.getSetAttribute;l.fn.extend({attr:function(e,t){return l.access(this,l.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){l.removeAttr(this,e)})},prop:function(e,t){return l.access(this,l.prop,e,t,arguments.length>1)},removeProp:function(e){return e=l.propFix[e]||e,this.each(function(){try{this[e]=o,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,i,o,a,s;if(l.isFunction(e))return this.each(function(t){l(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(w),n=0,r=this.length;n<r;n++)if(1===(i=this[n]).nodeType)if(i.className||1!==t.length){for(o=" "+i.className+" ",a=0,s=t.length;a<s;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");i.className=l.trim(o)}else i.className=e;return this},removeClass:function(e){var t,n,r,i,a,s,c;if(l.isFunction(e))return this.each(function(t){l(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===o)for(t=(e||"").split(w),n=0,r=this.length;n<r;n++)if(1===(i=this[n]).nodeType&&i.className)if(e){for(a=(" "+i.className+" ").replace(S," "),s=0,c=t.length;s<c;s++)a=a.replace(" "+t[s]+" "," ");i.className=l.trim(a)}else i.className="";return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return l.isFunction(e)?this.each(function(n){l(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,o=0,a=l(this),s=t,c=e.split(w);i=c[o++];)a[(s=r?s:!a.hasClass(i))?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===e?"":l._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(S," ").indexOf(t)>-1)return!0;return!1},val:function(e){var t,n,r,i=this[0];return arguments.length?(r=l.isFunction(e),this.each(function(n){var i,a=l(this);1===this.nodeType&&(null==(i=r?e.call(this,n,a.val()):e)?i="":"number"==typeof i?i+="":l.isArray(i)&&(i=l.map(i,function(e){return null==e?"":e+""})),(t=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,i,"value")!==o||(this.value=i))})):i?(t=l.valHooks[i.type]||l.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(i,"value"))!==o?n:"string"==typeof(n=i.value)?n.replace(k,""):null==n?"":n:void 0}}),l.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,a=[],s=e.options,c="select-one"===e.type;if(o<0)return null;for(n=c?o:0,r=c?o+1:s.length;n<r;n++)if((i=s[n]).selected&&(l.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!l.nodeName(i.parentNode,"optgroup"))){if(t=l(i).val(),c)return t;a.push(t)}return c&&!a.length&&s.length?l(s[o]).val():a},set:function(e,t){var n=l.makeArray(t);return l(e).find("option").each(function(){this.selected=l.inArray(l(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,t,n,r){var i,a,s,c=e.nodeType;if(e&&3!==c&&8!==c&&2!==c)return r&&t in l.attrFn?l(e)[t](n):void 0===e.getAttribute?l.prop(e,t,n):((s=1!==c||!l.isXMLDoc(e))&&(t=t.toLowerCase(),a=l.attrHooks[t]||(O.test(t)?b:g)),n!==o?null===n?void l.removeAttr(e,t):a&&"set"in a&&s&&(i=a.set(e,n,t))!==o?i:(e.setAttribute(t,""+n),n):a&&"get"in a&&s&&null!==(i=a.get(e,t))?i:null===(i=e.getAttribute(t))?o:i)},removeAttr:function(e,t){var n,r,i,o,a,s=0;if(t&&1===e.nodeType)for(o=(r=t.toLowerCase().split(w)).length;s<o;s++)(i=r[s])&&(n=l.propFix[i]||i,(a=O.test(i))||l.attr(e,i,""),e.removeAttribute(E?i:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(C.test(e.nodeName)&&e.parentNode)l.error("type property can't be changed");else if(!l.support.radioValue&&"radio"===t&&l.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return g&&l.nodeName(e,"button")?g.get(e,t):t in e?e.value:null},set:function(e,t,n){if(g&&l.nodeName(e,"button"))return g.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!l.isXMLDoc(e))&&(t=l.propFix[t]||t,i=l.propHooks[t]),n!==o?i&&"set"in i&&(r=i.set(e,n,t))!==o?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=e.getAttributeNode("tabindex");return t&&t.specified?parseInt(t.value,10):$.test(e.nodeName)||T.test(e.nodeName)&&e.href?0:o}}}}),l.attrHooks.tabindex=l.propHooks.tabIndex,b={get:function(e,t){var n,r=l.prop(e,t);return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(t))&&!1!==n.nodeValue?t.toLowerCase():o},set:function(e,t,n){var r;return!1===t?l.removeAttr(e,n):((r=l.propFix[n]||n)in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},E||(y={name:!0,id:!0,coords:!0},g=l.valHooks.button={get:function(e,t){var n;return(n=e.getAttributeNode(t))&&(y[t]?""!==n.nodeValue:n.specified)?n.nodeValue:o},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=a.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},l.attrHooks.tabindex.set=g.set,l.each(["width","height"],function(e,t){l.attrHooks[t]=l.extend(l.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}),l.attrHooks.contenteditable={get:g.get,set:function(e,t,n){""===t&&(t="false"),g.set(e,t,n)}}),l.support.hrefNormalized||l.each(["href","src","width","height"],function(e,t){l.attrHooks[t]=l.extend(l.attrHooks[t],{get:function(e){var n=e.getAttribute(t,2);return null===n?o:n}})}),l.support.style||(l.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||o},set:function(e,t){return e.style.cssText=""+t}}),l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),l.support.enctype||(l.propFix.enctype="encoding"),l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(e,t){if(l.isArray(t))return e.checked=l.inArray(l(e).val(),t)>=0}})});var A=/^(?:textarea|input|select)$/i,P=/^([^\.]*)?(?:\.(.+))?$/,I=/(?:^|\s)hover(\.\S+)?\b/,x=/^key/,_=/^(?:mouse|contextmenu)|click/,D=/^(?:focusinfocus|focusoutblur)$/,R=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,j=function(e){var t=R.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},N=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n.class||{}).value))},M=function(e){return l.event.special.hover?e:e.replace(I,"mouseenter$1 mouseleave$1")};function V(){return!1}function L(){return!0}l.event={add:function(e,t,n,r,i){var a,s,c,u,d,p,h,v,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&t&&n&&(a=l._data(e))){for(n.handler&&(n=(f=n).handler,i=f.selector),n.guid||(n.guid=l.guid++),(c=a.events)||(a.events=c={}),(s=a.handle)||(a.handle=s=function(e){return void 0===l||e&&l.event.triggered===e.type?o:l.event.dispatch.apply(s.elem,arguments)},s.elem=e),t=l.trim(M(t)).split(" "),u=0;u<t.length;u++)p=(d=P.exec(t[u])||[])[1],h=(d[2]||"").split(".").sort(),g=l.event.special[p]||{},p=(i?g.delegateType:g.bindType)||p,g=l.event.special[p]||{},v=l.extend({type:p,origType:d[1],data:r,handler:n,guid:n.guid,selector:i,quick:i&&j(i),namespace:h.join(".")},f),(m=c[p])||((m=c[p]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,h,s)||(e.addEventListener?e.addEventListener(p,s,!1):e.attachEvent&&e.attachEvent("on"+p,s))),g.add&&(g.add.call(e,v),v.handler.guid||(v.handler.guid=n.guid)),i?m.splice(m.delegateCount++,0,v):m.push(v),l.event.global[p]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var o,a,s,c,u,d,p,h,v,f,m,g,b=l.hasData(e)&&l._data(e);if(b&&(h=b.events)){for(t=l.trim(M(t||"")).split(" "),o=0;o<t.length;o++)if(s=c=(a=P.exec(t[o])||[])[1],u=a[2],s){for(v=l.event.special[s]||{},d=(m=h[s=(r?v.delegateType:v.bindType)||s]||[]).length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=0;p<m.length;p++)g=m[p],!i&&c!==g.origType||n&&n.guid!==g.guid||u&&!u.test(g.namespace)||r&&r!==g.selector&&("**"!==r||!g.selector)||(m.splice(p--,1),g.selector&&m.delegateCount--,v.remove&&v.remove.call(e,g));0===m.length&&d!==m.length&&(v.teardown&&!1!==v.teardown.call(e,u)||l.removeEvent(e,s,b.handle),delete h[s])}else for(s in h)l.event.remove(e,s+t[o],n,r,!0);l.isEmptyObject(h)&&((f=b.handle)&&(f.elem=null),l.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,t,n,r){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,s,c,u,d,p,h,v,f,m,g=e.type||e,b=[];if(!D.test(g+l.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(g=(b=g.split(".")).shift(),b.sort()),n&&!l.event.customEvent[g]||l.event.global[g]))if((e="object"==typeof e?e[l.expando]?e:new l.Event(g,e):new l.Event(g)).type=g,e.isTrigger=!0,e.exclusive=s,e.namespace=b.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=g.indexOf(":")<0?"on"+g:"",n){if(e.result=o,e.target||(e.target=n),(t=null!=t?l.makeArray(t):[]).unshift(e),!(h=l.event.special[g]||{}).trigger||!1!==h.trigger.apply(n,t)){if(f=[[n,h.bindType||g]],!r&&!h.noBubble&&!l.isWindow(n)){for(m=h.delegateType||g,u=D.test(m+g)?n:n.parentNode,d=null;u;u=u.parentNode)f.push([u,m]),d=u;d&&d===n.ownerDocument&&f.push([d.defaultView||d.parentWindow||i,m])}for(c=0;c<f.length&&!e.isPropagationStopped();c++)u=f[c][0],e.type=f[c][1],(v=(l._data(u,"events")||{})[e.type]&&l._data(u,"handle"))&&v.apply(u,t),(v=p&&u[p])&&l.acceptData(u)&&!1===v.apply(u,t)&&e.preventDefault();return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(n.ownerDocument,t)||"click"===g&&l.nodeName(n,"a")||!l.acceptData(n)||p&&n[g]&&("focus"!==g&&"blur"!==g||0!==e.target.offsetWidth)&&!l.isWindow(n)&&((d=n[p])&&(n[p]=null),l.event.triggered=g,n[g](),l.event.triggered=o,d&&(n[p]=d)),e.result}}else for(c in a=l.cache)a[c].events&&a[c].events[g]&&l.event.trigger(e,t,a[c].handle.elem,!0)}},dispatch:function(e){e=l.event.fix(e||i.event);var t,n,r,a,s,c,u,d,p,h,v=(l._data(this,"events")||{})[e.type]||[],f=v.delegateCount,m=[].slice.call(arguments,0),g=!e.exclusive&&!e.namespace,b=l.event.special[e.type]||{},y=[];if(m[0]=e,e.delegateTarget=this,!b.preDispatch||!1!==b.preDispatch.call(this,e)){if(f&&(!e.button||"click"!==e.type))for((a=l(this)).context=this.ownerDocument||this,r=e.target;r!=this;r=r.parentNode||this)if(!0!==r.disabled){for(c={},d=[],a[0]=r,t=0;t<f;t++)c[h=(p=v[t]).selector]===o&&(c[h]=p.quick?N(r,p.quick):a.is(h)),c[h]&&d.push(p);d.length&&y.push({elem:r,matches:d})}for(v.length>f&&y.push({elem:this,matches:v.slice(f)}),t=0;t<y.length&&!e.isPropagationStopped();t++)for(u=y[t],e.currentTarget=u.elem,n=0;n<u.matches.length&&!e.isImmediatePropagationStopped();n++)p=u.matches[n],(g||!e.namespace&&!p.namespace||e.namespace_re&&e.namespace_re.test(p.namespace))&&(e.data=p.data,e.handleObj=p,(s=((l.event.special[p.origType]||{}).handle||p.handler).apply(u.elem,m))!==o&&(e.result=s,!1===s&&(e.preventDefault(),e.stopPropagation())));return b.postDispatch&&b.postDispatch.call(this,e),e.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,c=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||a).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&c&&(e.relatedTarget=c===e.target?t.toElement:c),e.which||s===o||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[l.expando])return e;var t,n,r=e,i=l.event.fixHooks[e.type]||{},s=i.props?this.props.concat(i.props):this.props;for(e=l.Event(r),t=s.length;t;)e[n=s[--t]]=r[n];return e.target||(e.target=r.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===o&&(e.metaKey=e.ctrlKey),i.filter?i.filter(e,r):e},special:{ready:{setup:l.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){l.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=l.extend(new l.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?l.event.trigger(i,null,t):l.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},l.event.handle=l.event.dispatch,l.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},l.Event=function(e,t){if(!(this instanceof l.Event))return new l.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?L:V):this.type=e,t&&l.extend(this,t),this.timeStamp=e&&e.timeStamp||l.now(),this[l.expando]=!0},l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=L;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=L;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=L,this.stopPropagation()},isDefaultPrevented:V,isPropagationStopped:V,isImmediatePropagationStopped:V},l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){l.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;i.selector;return r&&(r===this||l.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=l.nodeName(t,"input")||l.nodeName(t,"button")?t.form:o;n&&!n._submit_attached&&(l.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),n._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&l.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}}),l.support.changeBubbles||(l.event.special.change={setup:function(){if(A.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(l.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,l.event.simulate("change",this,e,!0))})),!1;l.event.add(this,"beforeactivate._change",function(e){var t=e.target;A.test(t.nodeName)&&!t._change_attached&&(l.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||l.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return l.event.remove(this,"._change"),A.test(this.nodeName)}}),l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){l.event.simulate(t,e.target,l.event.fix(e),!0)};l.event.special[t]={setup:function(){0==n++&&a.addEventListener(e,r,!0)},teardown:function(){0==--n&&a.removeEventListener(e,r,!0)}}}),l.fn.extend({on:function(e,t,n,r,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof t&&(n=n||t,t=o),e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=o):null==r&&("string"==typeof t?(r=n,n=o):(r=n,n=t,t=o)),!1===r)r=V;else if(!r)return this;return 1===i&&(a=r,(r=function(e){return l().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=l.guid++)),this.each(function(){l.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return l(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(var i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=o),!1===n&&(n=V),this.each(function(){l.event.remove(this,e,n,t)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return l(this.context).on(e,this.selector,t,n),this},die:function(e,t){return l(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){l.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return l.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||l.guid++,r=0,i=function(n){var i=(l._data(this,"lastToggle"+e.guid)||0)%r;return l._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){l.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},l.attrFn&&(l.attrFn[t]=!0),x.test(t)&&(l.event.fixHooks[t]=l.event.keyHooks),_.test(t)&&(l.event.fixHooks[t]=l.event.mouseHooks)}),
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t="sizcache"+(Math.random()+"").replace(".",""),n=0,r=Object.prototype.toString,i=!1,s=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return s=!1,0});var p=function(t,n,i,o){i=i||[];var s=n=n||a;if(1!==n.nodeType&&9!==n.nodeType)return[];if(!t||"string"!=typeof t)return i;var c,l,u,d,h,m,g,b,y=!0,w=p.isXML(n),k=[],$=t;do{if(e.exec(""),(c=e.exec($))&&($=c[3],k.push(c[1]),c[2])){d=c[3];break}}while(c);if(k.length>1&&f.exec(t))if(2===k.length&&v.relative[k[0]])l=C(k[0]+k[1],n,o);else for(l=v.relative[k[0]]?[n]:p(k.shift(),n);k.length;)t=k.shift(),v.relative[t]&&(t+=k.shift()),l=C(t,l,o);else if(!o&&k.length>1&&9===n.nodeType&&!w&&v.match.ID.test(k[0])&&!v.match.ID.test(k[k.length-1])&&(n=(h=p.find(k.shift(),n,w)).expr?p.filter(h.expr,h.set)[0]:h.set[0]),n)for(l=(h=o?{expr:k.pop(),set:S(o)}:p.find(k.pop(),1!==k.length||"~"!==k[0]&&"+"!==k[0]||!n.parentNode?n:n.parentNode,w)).expr?p.filter(h.expr,h.set):h.set,k.length>0?u=S(l):y=!1;k.length;)g=m=k.pop(),v.relative[m]?g=k.pop():m="",null==g&&(g=n),v.relative[m](u,g,w);else u=k=[];if(u||(u=l),u||p.error(m||t),"[object Array]"===r.call(u))if(y)if(n&&1===n.nodeType)for(b=0;null!=u[b];b++)u[b]&&(!0===u[b]||1===u[b].nodeType&&p.contains(n,u[b]))&&i.push(l[b]);else for(b=0;null!=u[b];b++)u[b]&&1===u[b].nodeType&&i.push(l[b]);else i.push.apply(i,u);else S(u,i);return d&&(p(d,s,i,o),p.uniqueSort(i)),i};p.uniqueSort=function(e){if(b&&(i=s,e.sort(b),i))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},p.matches=function(e,t){return p(e,null,null,t)},p.matchesSelector=function(e,t){return p(t,null,null,[e]).length>0},p.find=function(e,t,n){var r,i,o,a,s,l;if(!e)return[];for(i=0,o=v.order.length;i<o;i++)if(s=v.order[i],(a=v.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(c,""),null!=(r=v.find[s](a,t,n))))){e=e.replace(v.match[s],"");break}return r||(r=void 0!==t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:r,expr:e}},p.filter=function(e,t,n,r){for(var i,a,s,c,l,u,d,h,f,m=e,g=[],b=t,y=t&&t[0]&&p.isXML(t[0]);e&&t.length;){for(s in v.filter)if(null!=(i=v.leftMatch[s].exec(e))&&i[2]){if(u=v.filter[s],d=i[1],a=!1,i.splice(1,1),"\\"===d.substr(d.length-1))continue;if(b===g&&(g=[]),v.preFilter[s])if(i=v.preFilter[s](i,b,n,g,r,y)){if(!0===i)continue}else a=c=!0;if(i)for(h=0;null!=(l=b[h]);h++)l&&(f=r^(c=u(l,i,h,b)),n&&null!=c?f?a=!0:b[h]=!1:f&&(g.push(l),a=!0));if(c!==o){if(n||(b=g),e=e.replace(v.match[s],""),!a)return[];break}}if(e===m){if(null!=a)break;p.error(e)}m=e}return b},p.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var h=p.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)i+=h(e)}else if(3===r||4===r)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(i+=h(n));return i},v=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,r=n&&!d.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var o,a=0,s=e.length;a<s;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=i||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}i&&p.filter(t,e,!0)},">":function(e,t){var n,r="string"==typeof t,i=0,o=e.length;if(r&&!d.test(t)){for(t=t.toLowerCase();i<o;i++)if(n=e[i]){var a=n.parentNode;e[i]=a.nodeName.toLowerCase()===t&&a}}else{for(;i<o;i++)(n=e[i])&&(e[i]=r?n.parentNode:n.parentNode===t);r&&p.filter(t,e,!0)}},"":function(e,t,r){var i,o=n++,a=k;"string"!=typeof t||d.test(t)||(i=t=t.toLowerCase(),a=w),a("parentNode",t,o,e,i,r)},"~":function(e,t,r){var i,o=n++,a=k;"string"!=typeof t||d.test(t)||(i=t=t.toLowerCase(),a=w),a("previousSibling",t,o,e,i,r)}},find:{ID:function(e,t,n){if(void 0!==t.getElementById&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(void 0!==t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;i<o;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(c,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e,t){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||p.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===e[2]?"2n":"odd"===e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&p.error(e[0]);return e[0]=n++,e},ATTR:function(e,t,n,r,i,o){var a=e[1]=e[1].replace(c,"");return!o&&v.attrMap[a]&&(e[1]=v.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(t,n,r,i,o){if("not"===t[1]){if(!((e.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=p.filter(t[3],n,r,!0^o);return r||i.push.apply(i,a),!1}t[3]=p(t[3],null,null,n)}else if(v.match.POS.test(t[0])||v.match.CHILD.test(t[0]))return!0;return t},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!p(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=v.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return(e.textContent||e.innerText||h([e])||"").indexOf(t[3])>=0;if("not"===i){for(var a=t[3],s=0,c=a.length;s<c;s++)if(a[s]===e)return!1;return!0}p.error(i)},CHILD:function(e,n){var r,i,o,a,s,c,l=n[1],u=e;switch(l){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===l)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(r=n[2],i=n[3],1===r&&0===i)return!0;if(o=n[0],(a=e.parentNode)&&(a[t]!==o||!e.nodeIndex)){for(s=0,u=a.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++s);a[t]=o}return c=e.nodeIndex-i,0===r?0===c:c%r==0&&c/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=p.attr?p.attr(e,n):v.attrHandle[n]?v.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),i=r+"",o=t[2],a=t[4];return null==r?"!="===o:!o&&p.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o&&(i===a||i.substr(0,a.length+1)===a+"-"):i&&!1!==r},POS:function(e,t,n,r){var i=t[2],o=v.setFilters[i];if(o)return o(e,n,t,r)}}},f=v.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in v.match)v.match[g]=new RegExp(v.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),v.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+v.match[g].source.replace(/\\(\d+)/g,m));v.match.globalPOS=f;var b,y,S=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(a.documentElement.childNodes,0)[0].nodeType}catch(e){S=function(e,t){var n=0,i=t||[];if("[object Array]"===r.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var o=e.length;n<o;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}function w(e,n,r,i,o,a){for(var s=0,c=i.length;s<c;s++){var l=i[s];if(l){var u=!1;for(l=l[e];l;){if(l[t]===r){u=i[l.sizset];break}if(1!==l.nodeType||a||(l[t]=r,l.sizset=s),l.nodeName.toLowerCase()===n){u=l;break}l=l[e]}i[s]=u}}}function k(e,n,r,i,o,a){for(var s=0,c=i.length;s<c;s++){var l=i[s];if(l){var u=!1;for(l=l[e];l;){if(l[t]===r){u=i[l.sizset];break}if(1===l.nodeType)if(a||(l[t]=r,l.sizset=s),"string"!=typeof n){if(l===n){u=!0;break}}else if(p.filter(n,[l]).length>0){u=l;break}l=l[e]}i[s]=u}}}a.documentElement.compareDocumentPosition?b=function(e,t){return e===t?(i=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(b=function(e,t){if(e===t)return i=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,o=[],a=[],s=e.parentNode,c=t.parentNode,l=s;if(s===c)return y(e,t);if(!s)return-1;if(!c)return 1;for(;l;)o.unshift(l),l=l.parentNode;for(l=c;l;)a.unshift(l),l=l.parentNode;n=o.length,r=a.length;for(var u=0;u<n&&u<r;u++)if(o[u]!==a[u])return y(o[u],a[u]);return u===n?y(e,a[u],-1):y(o[u],t,1)},y=function(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=a.createElement("div"),t="script"+(new Date).getTime(),n=a.documentElement;e.innerHTML="<a name='"+t+"'/>",n.insertBefore(e,n.firstChild),a.getElementById(t)&&(v.find.ID=function(e,t,n){if(void 0!==t.getElementById&&!n){var r=t.getElementById(e[1]);return r?r.id===e[1]||void 0!==r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:o:[]}},v.filter.ID=function(e,t){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=a.createElement("div");e.appendChild(a.createComment("")),e.getElementsByTagName("*").length>0&&(v.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(v.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),a.querySelectorAll&&function(){var e=p,t=a.createElement("div");if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){for(var n in p=function(t,n,r,i){if(n=n||a,!i&&!p.isXML(n)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(1===n.nodeType||9===n.nodeType)){if(o[1])return S(n.getElementsByTagName(t),r);if(o[2]&&v.find.CLASS&&n.getElementsByClassName)return S(n.getElementsByClassName(o[2]),r)}if(9===n.nodeType){if("body"===t&&n.body)return S([n.body],r);if(o&&o[3]){var s=n.getElementById(o[3]);if(!s||!s.parentNode)return S([],r);if(s.id===o[3])return S([s],r)}try{return S(n.querySelectorAll(t),r)}catch(e){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,l=n.getAttribute("id"),u=l||"__sizzle__",d=n.parentNode,h=/^\s*[+~]/.test(t);l?u=u.replace(/'/g,"\\$&"):n.setAttribute("id",u),h&&d&&(n=n.parentNode);try{if(!h||d)return S(n.querySelectorAll("[id='"+u+"'] "+t),r)}catch(e){}finally{l||c.removeAttribute("id")}}}return e(t,n,r,i)},e)p[n]=e[n];t=null}}(),function(){var e=a.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(a.createElement("div"),"div"),r=!1;try{t.call(a.documentElement,"[test!='']:sizzle")}catch(e){r=!0}p.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!p.isXML(e))try{if(r||!v.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=t.call(e,i);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(e){}return p(i,null,null,[e]).length>0}}}(),function(){var e=a.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(v.order.splice(1,0,"CLASS"),v.find.CLASS=function(e,t,n){if(void 0!==t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null))}(),a.documentElement.contains?p.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:a.documentElement.compareDocumentPosition?p.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:p.contains=function(){return!1},p.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var C=function(e,t,n){for(var r,i=[],o="",a=t.nodeType?[t]:t;r=v.match.PSEUDO.exec(e);)o+=r[0],e=e.replace(v.match.PSEUDO,"");e=v.relative[e]?e+"*":e;for(var s=0,c=a.length;s<c;s++)p(e,a[s],i,n);return p.filter(o,i)};p.attr=l.attr,p.selectors.attrMap={},l.find=p,l.expr=p.selectors,l.expr[":"]=l.expr.filters,l.unique=p.uniqueSort,l.text=p.getText,l.isXMLDoc=p.isXML,l.contains=p.contains}();var F=/Until$/,U=/^(?:parents|prevUntil|prevAll)/,B=/,/,W=/^.[^:#\[\.,]*$/,H=Array.prototype.slice,G=l.expr.match.globalPOS,q={children:!0,contents:!0,next:!0,prev:!0};function z(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function Y(e,t,n){if(t=t||0,l.isFunction(t))return l.grep(e,function(e,r){return!!t.call(e,r,e)===n});if(t.nodeType)return l.grep(e,function(e,r){return e===t===n});if("string"==typeof t){var r=l.grep(e,function(e){return 1===e.nodeType});if(W.test(t))return l.filter(t,r,!n);t=l.filter(t,r)}return l.grep(e,function(e,r){return l.inArray(e,t)>=0===n})}function K(e){var t=J.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}l.fn.extend({find:function(e){var t,n,r=this;if("string"!=typeof e)return l(e).filter(function(){for(t=0,n=r.length;t<n;t++)if(l.contains(r[t],this))return!0});var i,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++)if(i=s.length,l.find(e,this[t],s),t>0)for(o=i;o<s.length;o++)for(a=0;a<i;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=l(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(l.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(Y(this,e,!1),"not",e)},filter:function(e){return this.pushStack(Y(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?G.test(e)?l(e,this.context).index(this[0])>=0:l.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r,i=[],o=this[0];if(l.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)l(o).is(e[n])&&i.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=G.test(e)||"string"!=typeof e?l(e,t||this.context):0;for(n=0,r=this.length;n<r;n++)for(o=this[n];o;){if(s?s.index(o)>-1:l.find.matchesSelector(o,e)){i.push(o);break}if(!(o=o.parentNode)||!o.ownerDocument||o===t||11===o.nodeType)break}return i=i.length>1?l.unique(i):i,this.pushStack(i,"closest",e)},index:function(e){return e?"string"==typeof e?l.inArray(this[0],l(e)):l.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?l(e,t):l.makeArray(e&&e.nodeType?[e]:e),r=l.merge(this.get(),n);return this.pushStack(z(n[0])||z(r[0])?r:l.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),l.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return l.dir(e,"parentNode")},parentsUntil:function(e,t,n){return l.dir(e,"parentNode",n)},next:function(e){return l.nth(e,2,"nextSibling")},prev:function(e){return l.nth(e,2,"previousSibling")},nextAll:function(e){return l.dir(e,"nextSibling")},prevAll:function(e){return l.dir(e,"previousSibling")},nextUntil:function(e,t,n){return l.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return l.dir(e,"previousSibling",n)},siblings:function(e){return l.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return l.sibling(e.firstChild)},contents:function(e){return l.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:l.makeArray(e.childNodes)}},function(e,t){l.fn[e]=function(n,r){var i=l.map(this,t,n);return F.test(e)||(r=n),r&&"string"==typeof r&&(i=l.filter(r,i)),i=this.length>1&&!q[e]?l.unique(i):i,(this.length>1||B.test(r))&&U.test(e)&&(i=i.reverse()),this.pushStack(i,e,H.call(arguments).join(","))}}),l.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?l.find.matchesSelector(t[0],e)?[t[0]]:[]:l.find.matches(e,t)},dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(n===o||1!==i.nodeType||!l(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},nth:function(e,t,n,r){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var J="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Q=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ee=/<([\w:]+)/,te=/<tbody/i,ne=/<|&#?\w+;/,re=/<(?:script|style)/i,ie=/<(?:script|object|embed|option|style)/i,oe=new RegExp("<(?:"+J+")[\\s/>]","i"),ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/\/(java|ecma)script/i,ce=/^\s*<!(?:\[CDATA\[|\-\-)/,le={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ue=K(a);function de(e,t){return l.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function pe(e,t){if(1===t.nodeType&&l.hasData(e)){var n,r,i,o=l._data(e),a=l._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)l.event.add(t,n,s[n][r]);a.data&&(a.data=l.extend({},a.data))}}function he(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(n=t.nodeName.toLowerCase())?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(l.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function ve(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function fe(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function me(e){var t=(e.nodeName||"").toLowerCase();"input"===t?fe(e):"script"!==t&&void 0!==e.getElementsByTagName&&l.grep(e.getElementsByTagName("input"),fe)}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,l.support.htmlSerialize||(le._default=[1,"div<div>","</div>"]),l.fn.extend({text:function(e){return l.access(this,function(e){return e===o?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(l.isFunction(e))return this.each(function(t){l(this).wrapAll(e.call(this,t))});if(this[0]){var t=l(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return l.isFunction(e)?this.each(function(t){l(this).wrapInner(e.call(this,t))}):this.each(function(){var t=l(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=l.isFunction(e);return this.each(function(n){l(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=l.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,l.clean(arguments)),e}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)e&&!l.filter(e,[n]).length||(t||1!==n.nodeType||(l.cleanData(n.getElementsByTagName("*")),l.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&l.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return l.clone(this,e,t)})},html:function(e){return l.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===o)return 1===t.nodeType?t.innerHTML.replace(Q,""):null;if("string"==typeof e&&!re.test(e)&&(l.support.leadingWhitespace||!X.test(e))&&!le[(ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Z,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(l.cleanData(t.getElementsByTagName("*")),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?l.isFunction(e)?this.each(function(t){var n=l(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=l(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;l(this).remove(),t?l(t).before(e):l(n).append(e)})):this.length?this.pushStack(l(l.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){var r,i,a,s,c=e[0],u=[];if(!l.support.checkClone&&3===arguments.length&&"string"==typeof c&&ae.test(c))return this.each(function(){l(this).domManip(e,t,n,!0)});if(l.isFunction(c))return this.each(function(r){var i=l(this);e[0]=c.call(this,r,t?i.html():o),i.domManip(e,t,n)});if(this[0]){if(s=c&&c.parentNode,i=1===(a=(r=l.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:l.buildFragment(e,this,u)).fragment).childNodes.length?a=a.firstChild:a.firstChild){t=t&&l.nodeName(i,"tr");for(var d=0,p=this.length,h=p-1;d<p;d++)n.call(t?de(this[d],i):this[d],r.cacheable||p>1&&d<h?l.clone(a,!0,!0):a)}u.length&&l.each(u,function(e,t){t.src?l.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):l.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ce,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),l.buildFragment=function(e,t,n){var r,i,o,s,c=e[0];return t&&t[0]&&(s=t[0].ownerDocument||t[0]),s.createDocumentFragment||(s=a),!(1===e.length&&"string"==typeof c&&c.length<512&&s===a&&"<"===c.charAt(0))||ie.test(c)||!l.support.checkClone&&ae.test(c)||!l.support.html5Clone&&oe.test(c)||(i=!0,(o=l.fragments[c])&&1!==o&&(r=o)),r||(r=s.createDocumentFragment(),l.clean(e,s,r,n)),i&&(l.fragments[c]=o?r:1),{fragment:r,cacheable:i}},l.fragments={},l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){l.fn[e]=function(n){var r=[],i=l(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[t](this[0]),this;for(var a=0,s=i.length;a<s;a++){var c=(a>0?this.clone(!0):this).get();l(i[a])[t](c),r=r.concat(c)}return this.pushStack(r,e,i.selector)}}),l.extend({clone:function(e,t,n){var r,i,o,s=l.support.html5Clone||l.isXMLDoc(e)||!oe.test("<"+e.nodeName+">")?e.cloneNode(!0):function(e){var t=a.createElement("div");return ue.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}(e);if(!(l.support.noCloneEvent&&l.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||l.isXMLDoc(e)))for(he(e,s),r=ve(e),i=ve(s),o=0;r[o];++o)i[o]&&he(r[o],i[o]);if(t&&(pe(e,s),n))for(r=ve(e),i=ve(s),o=0;r[o];++o)pe(r[o],i[o]);return r=i=null,s},clean:function(e,t,n,r){var i,o,s,c=[];void 0===(t=t||a).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||a);for(var u,d=0;null!=(u=e[d]);d++)if("number"==typeof u&&(u+=""),u){if("string"==typeof u)if(ne.test(u)){u=u.replace(Z,"<$1></$2>");var p,h=(ee.exec(u)||["",""])[1].toLowerCase(),v=le[h]||le._default,f=v[0],m=t.createElement("div"),g=ue.childNodes;for(t===a?ue.appendChild(m):K(t).appendChild(m),m.innerHTML=v[1]+u+v[2];f--;)m=m.lastChild;if(!l.support.tbody){var b=te.test(u),y="table"!==h||b?"<table>"!==v[1]||b?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(s=y.length-1;s>=0;--s)l.nodeName(y[s],"tbody")&&!y[s].childNodes.length&&y[s].parentNode.removeChild(y[s])}!l.support.leadingWhitespace&&X.test(u)&&m.insertBefore(t.createTextNode(X.exec(u)[0]),m.firstChild),u=m.childNodes,m&&(m.parentNode.removeChild(m),g.length>0&&(p=g[g.length-1])&&p.parentNode&&p.parentNode.removeChild(p))}else u=t.createTextNode(u);var S;if(!l.support.appendChecked)if(u[0]&&"number"==typeof(S=u.length))for(s=0;s<S;s++)me(u[s]);else me(u);u.nodeType?c.push(u):c=l.merge(c,u)}if(n)for(i=function(e){return!e.type||se.test(e.type)},d=0;c[d];d++)if(o=c[d],r&&l.nodeName(o,"script")&&(!o.type||se.test(o.type)))r.push(o.parentNode?o.parentNode.removeChild(o):o);else{if(1===o.nodeType){var w=l.grep(o.getElementsByTagName("script"),i);c.splice.apply(c,[d+1,0].concat(w))}n.appendChild(o)}return c},cleanData:function(e){for(var t,n,r,i=l.cache,o=l.event.special,a=l.support.deleteExpando,s=0;null!=(r=e[s]);s++)if((!r.nodeName||!l.noData[r.nodeName.toLowerCase()])&&(n=r[l.expando])){if((t=i[n])&&t.events){for(var c in t.events)o[c]?l.event.remove(r,c):l.removeEvent(r,c,t.handle);t.handle&&(t.handle.elem=null)}a?delete r[l.expando]:r.removeAttribute&&r.removeAttribute(l.expando),delete i[n]}}});var ge,be,ye,Se=/alpha\([^)]*\)/i,we=/opacity=([^)]*)/,ke=/([A-Z]|^ms)/g,Ce=/^[\-+]?(?:\d*\.)?\d+$/i,$e=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Te=/^([\-+])=([\-+.\de]+)/,Oe=/^margin/,Ee={position:"absolute",visibility:"hidden",display:"block"},Ae=["Top","Right","Bottom","Left"];function Pe(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i="width"===t?1:0;if(r>0){if("border"!==n)for(;i<4;i+=2)n||(r-=parseFloat(l.css(e,"padding"+Ae[i]))||0),"margin"===n?r+=parseFloat(l.css(e,n+Ae[i]))||0:r-=parseFloat(l.css(e,"border"+Ae[i]+"Width"))||0;return r+"px"}if(((r=ge(e,t))<0||null==r)&&(r=e.style[t]),$e.test(r))return r;if(r=parseFloat(r)||0,n)for(;i<4;i+=2)r+=parseFloat(l.css(e,"padding"+Ae[i]))||0,"padding"!==n&&(r+=parseFloat(l.css(e,"border"+Ae[i]+"Width"))||0),"margin"===n&&(r+=parseFloat(l.css(e,n+Ae[i]))||0);return r+"px"}l.fn.css=function(e,t){return l.access(this,function(e,t,n){return n!==o?l.style(e,t,n):l.css(e,t)},e,t,arguments.length>1)},l.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ge(e,"opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,s=l.camelCase(t),c=e.style,u=l.cssHooks[s];if(t=l.cssProps[s]||s,n===o)return u&&"get"in u&&(i=u.get(e,!1,r))!==o?i:c[t];if(!("string"===(a=typeof n)&&(i=Te.exec(n))&&(n=+(i[1]+1)*+i[2]+parseFloat(l.css(e,t)),a="number"),null==n||"number"===a&&isNaN(n)||("number"!==a||l.cssNumber[s]||(n+="px"),u&&"set"in u&&(n=u.set(e,n))===o)))try{c[t]=n}catch(e){}}},css:function(e,t,n){var r,i;return t=l.camelCase(t),i=l.cssHooks[t],"cssFloat"===(t=l.cssProps[t]||t)&&(t="float"),i&&"get"in i&&(r=i.get(e,!0,n))!==o?r:ge?ge(e,t):void 0},swap:function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r}}),l.curCSS=l.css,a.defaultView&&a.defaultView.getComputedStyle&&(be=function(e,t){var n,r,i,o,a=e.style;return t=t.replace(ke,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(""!==(n=i.getPropertyValue(t))||l.contains(e.ownerDocument.documentElement,e)||(n=l.style(e,t))),!l.support.pixelMargin&&i&&Oe.test(t)&&$e.test(n)&&(o=a.width,a.width=n,n=i.width,a.width=o),n}),a.documentElement.currentStyle&&(ye=function(e,t){var n,r,i,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null==o&&a&&(i=a[t])&&(o=i),$e.test(o)&&(n=a.left,(r=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===o?"auto":o}),ge=be||ye,l.each(["height","width"],function(e,t){l.cssHooks[t]={get:function(e,n,r){if(n)return 0!==e.offsetWidth?Pe(e,t,r):l.swap(e,Ee,function(){return Pe(e,t,r)})},set:function(e,t){return Ce.test(t)?t+"px":t}}}),l.support.opacity||(l.cssHooks.opacity={get:function(e,t){return we.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=l.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===l.trim(o.replace(Se,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Se.test(o)?o.replace(Se,i):o+" "+i)}}),l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(e,t){return l.swap(e,{display:"inline-block"},function(){return t?ge(e,"margin-right"):e.style.marginRight})}})}),l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!l.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||l.css(e,"display"))},l.expr.filters.visible=function(e){return!l.expr.filters.hidden(e)}),l.each({margin:"",padding:"",border:"Width"},function(e,t){l.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],o={};for(r=0;r<4;r++)o[e+Ae[r]+t]=i[r]||i[r-2]||i[0];return o}}});var Ie,xe,_e=/%20/g,De=/\[\]$/,Re=/\r?\n/g,je=/#.*$/,Ne=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Me=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ve=/^(?:GET|HEAD)$/,Le=/^\/\//,Fe=/\?/,Ue=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Be=/^(?:select|textarea)/i,We=/\s+/,He=/([?&])_=[^&]*/,Ge=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,qe=l.fn.load,ze={},Ye={},Ke=["*/"]+["*"];try{Ie=c.href}catch(e){(Ie=a.createElement("a")).href="",Ie=Ie.href}function Je(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),l.isFunction(n))for(var r,i,o=t.toLowerCase().split(We),a=0,s=o.length;a<s;a++)r=o[a],(i=/^\+/.test(r))&&(r=r.substr(1)||"*"),(e[r]=e[r]||[])[i?"unshift":"push"](n)}}function Qe(e,t,n,r,i,a){i=i||t.dataTypes[0],(a=a||{})[i]=!0;for(var s,c=e[i],l=0,u=c?c.length:0,d=e===ze;l<u&&(d||!s);l++)"string"==typeof(s=c[l](t,n,r))&&(!d||a[s]?s=o:(t.dataTypes.unshift(s),s=Qe(e,t,n,r,s,a)));return!d&&s||a["*"]||(s=Qe(e,t,n,r,"*",a)),s}function Xe(e,t){var n,r,i=l.ajaxSettings.flatOptions||{};for(n in t)t[n]!==o&&((i[n]?e:r||(r={}))[n]=t[n]);r&&l.extend(!0,e,r)}function Ze(e,t,n,r){if(l.isArray(t))l.each(t,function(t,i){n||De.test(e)?r(e,i):Ze(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==l.type(t))r(e,t);else for(var i in t)Ze(e+"["+i+"]",t[i],n,r)}xe=Ge.exec(Ie.toLowerCase())||[],l.fn.extend({load:function(e,t,n){if("string"!=typeof e&&qe)return qe.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var i=e.slice(r,e.length);e=e.slice(0,r)}var a="GET";t&&(l.isFunction(t)?(n=t,t=o):"object"==typeof t&&(t=l.param(t,l.ajaxSettings.traditional),a="POST"));var s=this;return l.ajax({url:e,type:a,dataType:"html",data:t,complete:function(e,t,r){r=e.responseText,e.isResolved()&&(e.done(function(e){r=e}),s.html(i?l("<div>").append(r.replace(Ue,"")).find(i):r)),n&&s.each(n,[r,t,e])}}),this},serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?l.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Be.test(this.nodeName)||Me.test(this.type))}).map(function(e,t){var n=l(this).val();return null==n?null:l.isArray(n)?l.map(n,function(e,n){return{name:t.name,value:e.replace(Re,"\r\n")}}):{name:t.name,value:n.replace(Re,"\r\n")}}).get()}}),l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){l.fn[t]=function(e){return this.on(t,e)}}),l.each(["get","post"],function(e,t){l[t]=function(e,n,r,i){return l.isFunction(n)&&(i=i||r,r=n,n=o),l.ajax({type:t,url:e,data:n,success:r,dataType:i})}}),l.extend({getScript:function(e,t){return l.get(e,o,t,"script")},getJSON:function(e,t,n){return l.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Xe(e,l.ajaxSettings):(t=e,e=l.ajaxSettings),Xe(e,t),e},ajaxSettings:{url:Ie,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(xe[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ke},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":i.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Je(ze),ajaxTransport:Je(Ye),ajax:function(e,t){"object"==typeof e&&(t=e,e=o),t=t||{};var n,r,i,a,s,c,u,d,p=l.ajaxSetup({},t),h=p.context||p,v=h!==p&&(h.nodeType||h instanceof l)?l(h):l.event,f=l.Deferred(),m=l.Callbacks("once memory"),g=p.statusCode||{},b={},y={},S=0,w={readyState:0,setRequestHeader:function(e,t){if(!S){var n=e.toLowerCase();e=y[n]=y[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return 2===S?r:null},getResponseHeader:function(e){var t;if(2===S){if(!i)for(i={};t=Ne.exec(r);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return t===o?null:t},overrideMimeType:function(e){return S||(p.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),k(0,e),this}};function k(e,t,i,c){if(2!==S){S=2,s&&clearTimeout(s),a=o,r=c||"",w.readyState=e>0?4:0;var d,b,y,k,C,$=t,T=i?function(e,t,n){var r,i,a,s,c=e.contents,l=e.dataTypes,u=e.responseFields;for(i in u)i in n&&(t[u[i]]=n[i]);for(;"*"===l[0];)l.shift(),r===o&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(i in c)if(c[i]&&c[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}s||(s=i)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,w,i):o;if(e>=200&&e<300||304===e)if(p.ifModified&&((k=w.getResponseHeader("Last-Modified"))&&(l.lastModified[n]=k),(C=w.getResponseHeader("Etag"))&&(l.etag[n]=C)),304===e)$="notmodified",d=!0;else try{b=function(e,t){e.dataFilter&&(t=e.dataFilter(t,e.dataType));var n,r,i,a,s,c,u,d,p=e.dataTypes,h={},v=p.length,f=p[0];for(n=1;n<v;n++){if(1===n)for(r in e.converters)"string"==typeof r&&(h[r.toLowerCase()]=e.converters[r]);if(a=f,"*"===(f=p[n]))f=a;else if("*"!==a&&a!==f){if(!(c=h[s=a+" "+f]||h["* "+f]))for(u in d=o,h)if(((i=u.split(" "))[0]===a||"*"===i[0])&&(d=h[i[1]+" "+f])){!0===(u=h[u])?c=d:!0===d&&(c=u);break}c||d||l.error("No conversion from "+s.replace(" "," to ")),!0!==c&&(t=c?c(t):d(u(t)))}}return t}(p,T),$="success",d=!0}catch(e){$="parsererror",y=e}else y=$,$&&!e||($="error",e<0&&(e=0));w.status=e,w.statusText=""+(t||$),d?f.resolveWith(h,[b,$,w]):f.rejectWith(h,[w,$,y]),w.statusCode(g),g=o,u&&v.trigger("ajax"+(d?"Success":"Error"),[w,p,d?b:y]),m.fireWith(h,[w,$]),u&&(v.trigger("ajaxComplete",[w,p]),--l.active||l.event.trigger("ajaxStop"))}}if(f.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(e){var t;if(e)if(S<2)for(t in e)g[t]=[g[t],e[t]];else t=e[w.status],w.then(t,t);return this},p.url=((e||p.url)+"").replace(je,"").replace(Le,xe[1]+"//"),p.dataTypes=l.trim(p.dataType||"*").toLowerCase().split(We),null==p.crossDomain&&(c=Ge.exec(p.url.toLowerCase()),p.crossDomain=!(!c||c[1]==xe[1]&&c[2]==xe[2]&&(c[3]||("http:"===c[1]?80:443))==(xe[3]||("http:"===xe[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=l.param(p.data,p.traditional)),Qe(ze,p,t,w),2===S)return!1;if(u=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Ve.test(p.type),u&&0==l.active++&&l.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Fe.test(p.url)?"&":"?")+p.data,delete p.data),n=p.url,!1===p.cache)){var C=l.now(),$=p.url.replace(He,"$1_="+C);p.url=$+($===p.url?(Fe.test(p.url)?"&":"?")+"_="+C:"")}for(d in(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(n=n||p.url,l.lastModified[n]&&w.setRequestHeader("If-Modified-Since",l.lastModified[n]),l.etag[n]&&w.setRequestHeader("If-None-Match",l.etag[n])),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ke+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,w,p)||2===S))return w.abort(),!1;for(d in{success:1,error:1,complete:1})w[d](p[d]);if(a=Qe(Ye,p,t,w)){w.readyState=1,u&&v.trigger("ajaxSend",[w,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},p.timeout));try{S=1,a.send(b,k)}catch(e){if(!(S<2))throw e;k(-1,e)}}else k(-1,"No Transport");return w},param:function(e,t){var n=[],r=function(e,t){t=l.isFunction(t)?t():t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===o&&(t=l.ajaxSettings.traditional),l.isArray(e)||e.jquery&&!l.isPlainObject(e))l.each(e,function(){r(this.name,this.value)});else for(var i in e)Ze(i,e[i],t,r);return n.join("&").replace(_e,"+")}}),l.extend({active:0,lastModified:{},etag:{}});var et=l.now(),tt=/(\=)\?(&|$)|\?\?/i;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return l.expando+"_"+et++}}),l.ajaxPrefilter("json jsonp",function(e,t,n){var r="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||!1!==e.jsonp&&(tt.test(e.url)||r&&tt.test(e.data))){var o,a=e.jsonpCallback=l.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s=i[a],c=e.url,u=e.data,d="$1"+a+"$2";return!1!==e.jsonp&&(c=c.replace(tt,d),e.url===c&&(r&&(u=u.replace(tt,d)),e.data===u&&(c+=(/\?/.test(c)?"&":"?")+e.jsonp+"="+a))),e.url=c,e.data=u,i[a]=function(e){o=[e]},n.always(function(){i[a]=s,o&&l.isFunction(s)&&i[a](o[0])}),e.converters["script json"]=function(){return o||l.error(a+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return l.globalEval(e),e}}}),l.ajaxPrefilter("script",function(e){e.cache===o&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),l.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=a.head||a.getElementsByTagName("head")[0]||a.documentElement;return{send:function(r,i){(t=a.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,n&&t.parentNode&&n.removeChild(t),t=o,r||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var nt,rt=!!i.ActiveXObject&&function(){for(var e in nt)nt[e](0,1)},it=0;function ot(){try{return new i.XMLHttpRequest}catch(e){}}l.ajaxSettings.xhr=i.ActiveXObject?function(){return!this.isLocal&&ot()||function(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:ot,function(e){l.extend(l.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(l.ajaxSettings.xhr()),l.support.ajax&&l.ajaxTransport(function(e){var t;if(!e.crossDomain||l.support.cors)return{send:function(n,r){var a,s,c=e.xhr();if(e.username?c.open(e.type,e.url,e.async,e.username,e.password):c.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)c[s]=e.xhrFields[s];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");try{for(s in n)c.setRequestHeader(s,n[s])}catch(e){}c.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,d,p,h;try{if(t&&(i||4===c.readyState))if(t=o,a&&(c.onreadystatechange=l.noop,rt&&delete nt[a]),i)4!==c.readyState&&c.abort();else{s=c.status,d=c.getAllResponseHeaders(),p={},(h=c.responseXML)&&h.documentElement&&(p.xml=h);try{p.text=c.responseText}catch(n){}try{u=c.statusText}catch(e){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(e){i||r(-1,e)}p&&r(s,u,p,d)},e.async&&4!==c.readyState?(a=++it,rt&&(nt||(nt={},l(i).unload(rt)),nt[a]=t),c.onreadystatechange=t):t()},abort:function(){t&&t(0,1)}}});var at,st,ct,lt,ut={},dt=/^(?:toggle|show|hide)$/,pt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ht=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function vt(){return setTimeout(ft,0),lt=l.now()}function ft(){lt=o}function mt(e,t){var n={};return l.each(ht.concat.apply([],ht.slice(0,t)),function(){n[this]=e}),n}function gt(e){if(!ut[e]){var t=a.body,n=l("<"+e+">").appendTo(t),r=n.css("display");n.remove(),"none"!==r&&""!==r||(at||((at=a.createElement("iframe")).frameBorder=at.width=at.height=0),t.appendChild(at),st&&at.createElement||((st=(at.contentWindow||at.contentDocument).document).write((l.support.boxModel?"<!doctype html>":"")+"<html><body>"),st.close()),n=st.createElement(e),st.body.appendChild(n),r=l.css(n,"display"),t.removeChild(at)),ut[e]=r}return ut[e]}l.fn.extend({show:function(e,t,n){var r,i;if(e||0===e)return this.animate(mt("show",3),e,t,n);for(var o=0,a=this.length;o<a;o++)(r=this[o]).style&&(i=r.style.display,l._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),(""===i&&"none"===l.css(r,"display")||!l.contains(r.ownerDocument.documentElement,r))&&l._data(r,"olddisplay",gt(r.nodeName)));for(o=0;o<a;o++)(r=this[o]).style&&(""!==(i=r.style.display)&&"none"!==i||(r.style.display=l._data(r,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(mt("hide",3),e,t,n);for(var r,i,o=0,a=this.length;o<a;o++)(r=this[o]).style&&("none"===(i=l.css(r,"display"))||l._data(r,"olddisplay")||l._data(r,"olddisplay",i));for(o=0;o<a;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:l.fn.toggle,toggle:function(e,t,n){var r="boolean"==typeof e;return l.isFunction(e)&&l.isFunction(t)?this._toggle.apply(this,arguments):null==e||r?this.each(function(){var t=r?e:l(this).is(":hidden");l(this)[t?"show":"hide"]()}):this.animate(mt("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=l.speed(t,n,r);if(l.isEmptyObject(e))return this.each(i.complete,[!1]);function o(){!1===i.queue&&l._mark(this);var t,n,r,o,a,s,c,u,d,p,h,v=l.extend({},i),f=1===this.nodeType,m=f&&l(this).is(":hidden");for(r in v.animatedProperties={},e)if(r!==(t=l.camelCase(r))&&(e[t]=e[r],delete e[r]),(a=l.cssHooks[t])&&"expand"in a)for(r in s=a.expand(e[t]),delete e[t],s)r in e||(e[r]=s[r]);for(t in e){if(n=e[t],l.isArray(n)?(v.animatedProperties[t]=n[1],n=e[t]=n[0]):v.animatedProperties[t]=v.specialEasing&&v.specialEasing[t]||v.easing||"swing","hide"===n&&m||"show"===n&&!m)return v.complete.call(this);!f||"height"!==t&&"width"!==t||(v.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===l.css(this,"display")&&"none"===l.css(this,"float")&&(l.support.inlineBlockNeedsLayout&&"inline"!==gt(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}for(r in null!=v.overflow&&(this.style.overflow="hidden"),e)o=new l.fx(this,v,r),n=e[r],dt.test(n)?(h=l._data(this,"toggle"+r)||("toggle"===n?m?"show":"hide":0))?(l._data(this,"toggle"+r,"show"===h?"hide":"show"),o[h]()):o[n]():(c=pt.exec(n),u=o.cur(),c?(d=parseFloat(c[2]),"px"!==(p=c[3]||(l.cssNumber[r]?"":"px"))&&(l.style(this,r,(d||1)+p),u=(d||1)/o.cur()*u,l.style(this,r,u+p)),c[1]&&(d=("-="===c[1]?-1:1)*d+u),o.custom(u,d,p)):o.custom(u,n,""));return!0}return e=l.extend({},e),!1===i.queue?this.each(o):this.queue(i.queue,o)},stop:function(e,t,n){return"string"!=typeof e&&(n=t,t=e,e=o),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t,r=!1,i=l.timers,o=l._data(this);function a(e,t,r){var i=t[r];l.removeData(e,r,!0),i.stop(n)}if(n||l._unmark(!0,this),null==e)for(t in o)o[t]&&o[t].stop&&t.indexOf(".run")===t.length-4&&a(this,o,t);else o[t=e+".run"]&&o[t].stop&&a(this,o,t);for(t=i.length;t--;)i[t].elem!==this||null!=e&&i[t].queue!==e||(n?i[t](!0):i[t].saveState(),r=!0,i.splice(t,1));n&&r||l.dequeue(this,e)})}}),l.each({slideDown:mt("show",1),slideUp:mt("hide",1),slideToggle:mt("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){l.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),l.extend({speed:function(e,t,n){var r=e&&"object"==typeof e?l.extend({},e):{complete:n||!n&&t||l.isFunction(e)&&e,duration:e,easing:n&&t||t&&!l.isFunction(t)&&t};return r.duration=l.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in l.fx.speeds?l.fx.speeds[r.duration]:l.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(e){l.isFunction(r.old)&&r.old.call(this),r.queue?l.dequeue(this,r.queue):!1!==e&&l._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),l.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(l.fx.step[this.prop]||l.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=l.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,n){var r=this,i=l.fx;function a(e){return r.step(e)}this.startTime=lt||vt(),this.end=t,this.now=this.start=e,this.pos=this.state=0,this.unit=n||this.unit||(l.cssNumber[this.prop]?"":"px"),a.queue=this.options.queue,a.elem=this.elem,a.saveState=function(){l._data(r.elem,"fxshow"+r.prop)===o&&(r.options.hide?l._data(r.elem,"fxshow"+r.prop,r.start):r.options.show&&l._data(r.elem,"fxshow"+r.prop,r.end))},a()&&l.timers.push(a)&&!ct&&(ct=setInterval(i.tick,i.interval))},show:function(){var e=l._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||l.style(this.elem,this.prop),this.options.show=!0,e!==o?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),l(this.elem).show()},hide:function(){this.options.orig[this.prop]=l._data(this.elem,"fxshow"+this.prop)||l.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=lt||vt(),o=!0,a=this.elem,s=this.options;if(e||i>=s.duration+this.startTime){for(t in this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0,s.animatedProperties)!0!==s.animatedProperties[t]&&(o=!1);if(o){if(null==s.overflow||l.support.shrinkWrapBlocks||l.each(["","X","Y"],function(e,t){a.style["overflow"+t]=s.overflow[e]}),s.hide&&l(a).hide(),s.hide||s.show)for(t in s.animatedProperties)l.style(a,t,s.orig[t]),l.removeData(a,"fxshow"+t,!0),l.removeData(a,"toggle"+t,!0);(r=s.complete)&&(s.complete=!1,r.call(a))}return!1}return s.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=l.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},l.extend(l.fx,{tick:function(){for(var e,t=l.timers,n=0;n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||l.fx.stop()},interval:13,stop:function(){clearInterval(ct),ct=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){l.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),l.each(ht.concat.apply([],ht),function(e,t){t.indexOf("margin")&&(l.fx.step[t]=function(e){l.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),l.expr&&l.expr.filters&&(l.expr.filters.animated=function(e){return l.grep(l.timers,function(t){return e===t.elem}).length});var bt,yt=/^t(?:able|d|h)$/i,St=/^(?:body|html)$/i;function wt(e){return l.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}bt="getBoundingClientRect"in a.documentElement?function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(e){}if(!r||!l.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var i=t.body,o=wt(t),a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,c=o.pageYOffset||l.support.boxModel&&n.scrollTop||i.scrollTop,u=o.pageXOffset||l.support.boxModel&&n.scrollLeft||i.scrollLeft;return{top:r.top+c-a,left:r.left+u-s}}:function(e,t,n){for(var r,i=e.offsetParent,o=t.body,a=t.defaultView,s=a?a.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,u=e.offsetLeft;(e=e.parentNode)&&e!==o&&e!==n&&(!l.support.fixedPosition||"fixed"!==s.position);)r=a?a.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,u-=e.scrollLeft,e===i&&(c+=e.offsetTop,u+=e.offsetLeft,!l.support.doesNotAddBorder||l.support.doesAddBorderForTableAndCells&&yt.test(e.nodeName)||(c+=parseFloat(r.borderTopWidth)||0,u+=parseFloat(r.borderLeftWidth)||0),i,i=e.offsetParent),l.support.subtractsBorderForOverflowNotVisible&&"visible"!==r.overflow&&(c+=parseFloat(r.borderTopWidth)||0,u+=parseFloat(r.borderLeftWidth)||0),s=r;return"relative"!==s.position&&"static"!==s.position||(c+=o.offsetTop,u+=o.offsetLeft),l.support.fixedPosition&&"fixed"===s.position&&(c+=Math.max(n.scrollTop,o.scrollTop),u+=Math.max(n.scrollLeft,o.scrollLeft)),{top:c,left:u}},l.fn.offset=function(e){if(arguments.length)return e===o?this:this.each(function(t){l.offset.setOffset(this,e,t)});var t=this[0],n=t&&t.ownerDocument;return n?t===n.body?l.offset.bodyOffset(t):bt(t,n,n.documentElement):null},l.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return l.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(l.css(e,"marginTop"))||0,n+=parseFloat(l.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=l.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=l(e),s=a.offset(),c=l.css(e,"top"),u=l.css(e,"left"),d={},p={};("absolute"===r||"fixed"===r)&&l.inArray("auto",[c,u])>-1?(i=(p=a.position()).top,o=p.left):(i=parseFloat(c)||0,o=parseFloat(u)||0),l.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},l.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=St.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(l.css(e,"marginTop"))||0,n.left-=parseFloat(l.css(e,"marginLeft"))||0,r.top+=parseFloat(l.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(l.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||a.body;e&&!St.test(e.nodeName)&&"static"===l.css(e,"position");)e=e.offsetParent;return e})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);l.fn[e]=function(r){return l.access(this,function(e,r,i){var a=wt(e);if(i===o)return a?t in a?a[t]:l.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:e[r];a?a.scrollTo(n?l(a).scrollLeft():i,n?i:l(a).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),l.each({Height:"height",Width:"width"},function(e,t){var n="client"+e,r="scroll"+e,i="offset"+e;l.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(l.css(e,t,"padding")):this[t]():null},l.fn["outer"+e]=function(e){var n=this[0];return n?n.style?parseFloat(l.css(n,t,e?"margin":"border")):this[t]():null},l.fn[t]=function(e){return l.access(this,function(e,t,a){var s,c,u,d;return l.isWindow(e)?(c=(s=e.document).documentElement[n],l.support.boxModel&&c||s.body&&s.body[n]||c):9===e.nodeType?(s=e.documentElement)[n]>=s[r]?s[n]:Math.max(e.body[r],s[r],e.body[i],s[i]):a===o?(u=l.css(e,t),d=parseFloat(u),l.isNumeric(d)?d:u):void l(e).css(t,a)},t,e,arguments.length,null)}}),i.jQuery=i.$=l,n("PDX0").jQuery&&((r=function(){return l}.apply(t,[]))===o||(e.exports=r))}(window)},fwEs:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return d});n("yq1k"),n("yXV3"),n("4mDm"),n("2B1R"),n("+2oP"),n("Rfxz"),n("DQNa"),n("Tskq"),n("07d7"),n("rB9j"),n("JfAA"),n("JTJg"),n("PKPk"),n("UxlC"),n("hByQ"),n("EnZy"),n("3bBZ");var r=n("cDf5"),i=n.n(r);function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function a(){return new Map(location.search.slice(1).split("&").map(function(e){return e.split("=")}))}function s(e){var t=!1;if(e)try{if(e.setItem("storageCheck","test"),"test"!==e.getItem("storageCheck"))throw new Error("storage not supported - set",e);if(e.removeItem("storageCheck"),e.getItem("storageCheck"))throw new Error("storage not supported - remove",e);t=!0}catch(e){t=!1}return t}function c(e){return e.replace(/\s/g,"")}function l(e){return"string"==typeof e?e:"object"==i()(e)?JSON.stringify(e):String(e)}function u(e,t){return e.some(function(e){return t.includes(e)})}function d(e,t,n){return e&&t&&n?e.indexOf("?")<0?e+"?"+t+"="+encodeURI(n):e+"&"+t+"="+encodeURI(n):e}},fwNC:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i=' <div id="sidebar-wrapper-settings" aria-labelledby="screen_title">\n<h1 class="kite-h3" tabindex="-2" id="screen_title" focus-once>Settings</h1>\n<div id="settings_category_{{$index}}">{{category === $ctrl.stbCategory ? ($ctrl.stb.name || $ctrl.stb.macAddress) : category}}</div>\n<ul class="sidebar-nav-settings" aria-labelledby="settings_category_{{$index}}" ng-repeat="category in $ctrl.menuCategory">\n<div aria-hidden="true" id="settings_category_{{$index}}">{{category === $ctrl.stbCategory ? ($ctrl.stb.name || $ctrl.stb.macAddress) : category}}</div>\n<li class="list-item" ng-repeat="menu in $ctrl.menuItems" ng-if="category === menu.type && (menu.enabled() || !menu.hideWhenDisabled())">\n<a class="list-item-anchor" role="link" ng-attr-aria-current="$ctrl.$state.current.name === menu.state ? \'page\' : undefined" ng-class="{\'active\': $ctrl.$state.current.name === menu.state}" href="#" ovp-link-click="$ctrl.menuItemClicked(menu);">\n{{menu.title}}\n</a>\n</li>\n</ul>\n</div>\n',o="js/settings/setting-tablist/setting-tablist.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},fwyg:function(e,t,n){"use strict";n.d(t,"M",function(){return g}),n.d(t,"nd",function(){return b}),n.d(t,"Ib",function(){return y}),n.d(t,"dg",function(){return S}),n.d(t,"sc",function(){return w}),n.d(t,"vc",function(){return k}),n.d(t,"Nb",function(){return C}),n.d(t,"Ld",function(){return $}),n.d(t,"yb",function(){return T}),n.d(t,"E",function(){return E}),n.d(t,"tg",function(){return A}),n.d(t,"ng",function(){return P}),n.d(t,"K",function(){return _}),n.d(t,"C",function(){return D}),n.d(t,"Nd",function(){return R}),n.d(t,"g",function(){return j}),n.d(t,"Sf",function(){return N}),n.d(t,"Tf",function(){return M}),n.d(t,"Qf",function(){return V}),n.d(t,"Rf",function(){return L}),n.d(t,"Yf",function(){return F}),n.d(t,"rc",function(){return U}),n.d(t,"ig",function(){return B}),n.d(t,"bc",function(){return W}),n.d(t,"Uf",function(){return H}),n.d(t,"Le",function(){return G}),n.d(t,"mg",function(){return q}),n.d(t,"Re",function(){return z}),n.d(t,"Se",function(){return Y}),n.d(t,"D",function(){return K}),n.d(t,"Pd",function(){return J}),n.d(t,"ve",function(){return Q}),n.d(t,"we",function(){return X}),n.d(t,"xe",function(){return Z}),n.d(t,"te",function(){return ee}),n.d(t,"ze",function(){return te}),n.d(t,"Ae",function(){return ne}),n.d(t,"ye",function(){return re}),n.d(t,"se",function(){return ie}),n.d(t,"ue",function(){return oe}),n.d(t,"Be",function(){return ae}),n.d(t,"re",function(){return se}),n.d(t,"B",function(){return ce}),n.d(t,"Mf",function(){return le}),n.d(t,"ib",function(){return ue}),n.d(t,"rg",function(){return de}),n.d(t,"of",function(){return pe}),n.d(t,"Te",function(){return he}),n.d(t,"Cd",function(){return ve}),n.d(t,"Pf",function(){return fe}),n.d(t,"eb",function(){return me}),n.d(t,"P",function(){return ge}),n.d(t,"Mb",function(){return be}),n.d(t,"J",function(){return ye}),n.d(t,"W",function(){return Se}),n.d(t,"Fe",function(){return we}),n.d(t,"Wf",function(){return ke}),n.d(t,"jc",function(){return Ce}),n.d(t,"hc",function(){return $e}),n.d(t,"Xb",function(){return Te}),n.d(t,"he",function(){return Oe}),n.d(t,"Fb",function(){return Ee}),n.d(t,"ae",function(){return Ae}),n.d(t,"fc",function(){return Pe}),n.d(t,"Ff",function(){return Ie}),n.d(t,"Gf",function(){return xe}),n.d(t,"H",function(){return _e}),n.d(t,"pd",function(){return De}),n.d(t,"vd",function(){return Re}),n.d(t,"Ne",function(){return je}),n.d(t,"xb",function(){return Ne}),n.d(t,"q",function(){return Me}),n.d(t,"ie",function(){return Ve}),n.d(t,"Ue",function(){return Le}),n.d(t,"T",function(){return Fe}),n.d(t,"gb",function(){return Ue}),n.d(t,"Bd",function(){return Be}),n.d(t,"Ad",function(){return We}),n.d(t,"Md",function(){return He}),n.d(t,"Ob",function(){return Ge}),n.d(t,"V",function(){return qe}),n.d(t,"oc",function(){return Xe}),n.d(t,"m",function(){return Ze}),n.d(t,"yd",function(){return tt}),n.d(t,"zd",function(){return nt}),n.d(t,"xd",function(){return rt}),n.d(t,"Kd",function(){return it}),n.d(t,"Jd",function(){return ot}),n.d(t,"Oe",function(){return at}),n.d(t,"F",function(){return st}),n.d(t,"G",function(){return ct}),n.d(t,"ef",function(){return lt}),n.d(t,"A",function(){return ut}),n.d(t,"Vb",function(){return dt}),n.d(t,"Wb",function(){return pt}),n.d(t,"Wd",function(){return vt}),n.d(t,"ld",function(){return ft}),n.d(t,"kd",function(){return mt}),n.d(t,"id",function(){return gt}),n.d(t,"jd",function(){return bt}),n.d(t,"dc",function(){return yt}),n.d(t,"cc",function(){return St}),n.d(t,"ec",function(){return wt}),n.d(t,"md",function(){return kt}),n.d(t,"ne",function(){return Ct}),n.d(t,"me",function(){return $t}),n.d(t,"oe",function(){return Tt}),n.d(t,"ke",function(){return Et}),n.d(t,"pe",function(){return At}),n.d(t,"df",function(){return Pt}),n.d(t,"je",function(){return It}),n.d(t,"le",function(){return xt}),n.d(t,"Ge",function(){return _t}),n.d(t,"We",function(){return Dt}),n.d(t,"j",function(){return Rt}),n.d(t,"uc",function(){return jt}),n.d(t,"Nc",function(){return Nt}),n.d(t,"Xe",function(){return Mt}),n.d(t,"Me",function(){return Vt}),n.d(t,"Ye",function(){return Lt}),n.d(t,"Cb",function(){return Ft}),n.d(t,"Bb",function(){return Ut}),n.d(t,"z",function(){return Bt}),n.d(t,"n",function(){return Wt}),n.d(t,"Ke",function(){return Ht}),n.d(t,"X",function(){return Gt}),n.d(t,"Mc",function(){return qt}),n.d(t,"ff",function(){return zt}),n.d(t,"Je",function(){return Yt}),n.d(t,"y",function(){return Kt}),n.d(t,"Gb",function(){return Jt}),n.d(t,"Bc",function(){return Qt}),n.d(t,"Gd",function(){return Xt}),n.d(t,"od",function(){return en}),n.d(t,"sd",function(){return tn}),n.d(t,"ud",function(){return nn}),n.d(t,"rd",function(){return rn}),n.d(t,"td",function(){return on}),n.d(t,"wd",function(){return an}),n.d(t,"qd",function(){return sn}),n.d(t,"Jc",function(){return mn}),n.d(t,"o",function(){return gn}),n.d(t,"Xd",function(){return bn}),n.d(t,"Lc",function(){return yn}),n.d(t,"Ve",function(){return Sn}),n.d(t,"hg",function(){return wn}),n.d(t,"nf",function(){return kn}),n.d(t,"de",function(){return Cn}),n.d(t,"ee",function(){return $n}),n.d(t,"hf",function(){return Tn}),n.d(t,"jf",function(){return On}),n.d(t,"if",function(){return En}),n.d(t,"kf",function(){return An}),n.d(t,"Dd",function(){return Pn}),n.d(t,"lf",function(){return In}),n.d(t,"mf",function(){return xn}),n.d(t,"Db",function(){return _n}),n.d(t,"rf",function(){return Dn}),n.d(t,"jb",function(){return jn}),n.d(t,"Jf",function(){return Nn}),n.d(t,"Id",function(){return Mn}),n.d(t,"Kf",function(){return Vn}),n.d(t,"Pb",function(){return Ln}),n.d(t,"If",function(){return Fn}),n.d(t,"Hd",function(){return Un}),n.d(t,"Fd",function(){return Bn}),n.d(t,"gf",function(){return Wn}),n.d(t,"ge",function(){return Gn}),n.d(t,"wc",function(){return qn}),n.d(t,"Td",function(){return zn}),n.d(t,"Ac",function(){return Kn}),n.d(t,"Ed",function(){return Jn}),n.d(t,"Pe",function(){return Qn}),n.d(t,"Zb",function(){return Xn}),n.d(t,"f",function(){return Zn}),n.d(t,"s",function(){return er}),n.d(t,"t",function(){return tr}),n.d(t,"kg",function(){return nr}),n.d(t,"jg",function(){return rr}),n.d(t,"nc",function(){return ir}),n.d(t,"yc",function(){return ar}),n.d(t,"zc",function(){return sr}),n.d(t,"xc",function(){return cr}),n.d(t,"De",function(){return ur}),n.d(t,"Ee",function(){return dr}),n.d(t,"Ce",function(){return pr}),n.d(t,"uf",function(){return hr}),n.d(t,"tf",function(){return vr}),n.d(t,"vf",function(){return fr}),n.d(t,"wf",function(){return mr}),n.d(t,"w",function(){return br}),n.d(t,"x",function(){return yr}),n.d(t,"Kc",function(){return Sr}),n.d(t,"zf",function(){return wr}),n.d(t,"Bf",function(){return kr}),n.d(t,"Af",function(){return Cr}),n.d(t,"Ze",function(){return $r}),n.d(t,"af",function(){return Tr}),n.d(t,"gc",function(){return Or}),n.d(t,"hb",function(){return Er}),n.d(t,"Hf",function(){return Ar}),n.d(t,"Yd",function(){return Pr}),n.d(t,"Zd",function(){return Ir}),n.d(t,"Df",function(){return xr}),n.d(t,"Cf",function(){return _r}),n.d(t,"Xc",function(){return Dr}),n.d(t,"Qe",function(){return Rr}),n.d(t,"Ec",function(){return jr}),n.d(t,"Gc",function(){return Nr}),n.d(t,"Fc",function(){return Mr}),n.d(t,"pf",function(){return Lr}),n.d(t,"u",function(){return Fr}),n.d(t,"qf",function(){return Ur}),n.d(t,"Sd",function(){return Br}),n.d(t,"Ab",function(){return Wr}),n.d(t,"db",function(){return Hr}),n.d(t,"Cc",function(){return Gr}),n.d(t,"Q",function(){return qr}),n.d(t,"gd",function(){return zr}),n.d(t,"hd",function(){return Yr}),n.d(t,"cf",function(){return Kr}),n.d(t,"qe",function(){return Jr}),n.d(t,"O",function(){return Qr}),n.d(t,"I",function(){return Xr}),n.d(t,"Wc",function(){return Zr}),n.d(t,"Oc",function(){return ei}),n.d(t,"Qc",function(){return ni}),n.d(t,"Uc",function(){return ri}),n.d(t,"Pc",function(){return ii}),n.d(t,"Rc",function(){return oi}),n.d(t,"Tc",function(){return ai}),n.d(t,"Vc",function(){return si}),n.d(t,"Sc",function(){return ci}),n.d(t,"Nf",function(){return li}),n.d(t,"Vf",function(){return ui}),n.d(t,"Hc",function(){return di}),n.d(t,"Yb",function(){return pi}),n.d(t,"wb",function(){return hi}),n.d(t,"ic",function(){return vi}),n.d(t,"fd",function(){return fi}),n.d(t,"Kb",function(){return mi}),n.d(t,"Jb",function(){return gi}),n.d(t,"lc",function(){return bi}),n.d(t,"mc",function(){return yi}),n.d(t,"kc",function(){return Si}),n.d(t,"yf",function(){return wi}),n.d(t,"xf",function(){return ki}),n.d(t,"Eb",function(){return Ci}),n.d(t,"kb",function(){return $i}),n.d(t,"cb",function(){return Oi}),n.d(t,"Y",function(){return Ei}),n.d(t,"ab",function(){return Ai}),n.d(t,"Z",function(){return Pi}),n.d(t,"bb",function(){return Ii}),n.d(t,"R",function(){return xi}),n.d(t,"S",function(){return _i}),n.d(t,"N",function(){return Di}),n.d(t,"bf",function(){return Ri}),n.d(t,"Ef",function(){return ji}),n.d(t,"fb",function(){return Ni}),n.d(t,"p",function(){return Mi}),n.d(t,"be",function(){return Vi}),n.d(t,"Od",function(){return Li}),n.d(t,"ce",function(){return Fi}),n.d(t,"lb",function(){return Ui}),n.d(t,"rb",function(){return Bi}),n.d(t,"qb",function(){return Wi}),n.d(t,"Vd",function(){return Hi}),n.d(t,"mb",function(){return Gi}),n.d(t,"tb",function(){return qi}),n.d(t,"ub",function(){return zi}),n.d(t,"vb",function(){return Yi}),n.d(t,"nb",function(){return Ki}),n.d(t,"ob",function(){return Ji}),n.d(t,"sb",function(){return Qi}),n.d(t,"pb",function(){return Xi}),n.d(t,"ac",function(){return Zi}),n.d(t,"Rd",function(){return eo}),n.d(t,"fe",function(){return to}),n.d(t,"sf",function(){return no}),n.d(t,"k",function(){return ro}),n.d(t,"l",function(){return io}),n.d(t,"Hb",function(){return oo}),n.d(t,"ag",function(){return ao}),n.d(t,"Dc",function(){return so}),n.d(t,"r",function(){return co}),n.d(t,"wg",function(){return lo}),n.d(t,"Qb",function(){return uo}),n.d(t,"Rb",function(){return po}),n.d(t,"fg",function(){return ho}),n.d(t,"v",function(){return vo}),n.d(t,"Ic",function(){return fo}),n.d(t,"Qd",function(){return mo}),n.d(t,"e",function(){return go}),n.d(t,"xg",function(){return bo}),n.d(t,"a",function(){return yo}),n.d(t,"lg",function(){return So}),n.d(t,"sg",function(){return wo}),n.d(t,"b",function(){return ko}),n.d(t,"d",function(){return Co}),n.d(t,"pg",function(){return $o}),n.d(t,"Of",function(){return To}),n.d(t,"ug",function(){return Oo}),n.d(t,"Ub",function(){return Eo}),n.d(t,"Zc",function(){return Po}),n.d(t,"ed",function(){return Io}),n.d(t,"Yc",function(){return xo}),n.d(t,"ad",function(){return _o}),n.d(t,"bd",function(){return Do}),n.d(t,"dd",function(){return Ro}),n.d(t,"cd",function(){return jo}),n.d(t,"Lf",function(){return No}),n.d(t,"Xf",function(){return Mo}),n.d(t,"vg",function(){return Vo}),n.d(t,"U",function(){return Lo}),n.d(t,"Sb",function(){return Fo}),n.d(t,"Tb",function(){return Uo}),n.d(t,"c",function(){return Bo}),n.d(t,"Ud",function(){return Wo}),n.d(t,"h",function(){return Ho}),n.d(t,"i",function(){return Go}),n.d(t,"gg",function(){return zo}),n.d(t,"Ie",function(){return Yo}),n.d(t,"He",function(){return Ko}),n.d(t,"Zf",function(){return Jo}),n.d(t,"tc",function(){return Qo}),n.d(t,"eg",function(){return Xo}),n.d(t,"zb",function(){return Zo}),n.d(t,"bg",function(){return ea}),n.d(t,"qg",function(){return ta}),n.d(t,"Lb",function(){return na}),n.d(t,"cg",function(){return ra}),n.d(t,"L",function(){return ia}),n.d(t,"qc",function(){return oa}),n.d(t,"og",function(){return aa}),n.d(t,"pc",function(){return sa});n("ma9I"),n("fbCW"),n("yq1k"),n("oVuX"),n("T63A"),n("4l63"),n("TWNs"),n("rB9j"),n("JfAA"),n("JTJg"),n("hByQ"),n("EnZy");var r=n("J4zp"),i=n.n(r),o=n("7p1Z"),a=n("bB7c"),s=n("PNUD"),c=n("+qwt"),l=n("fwEs"),u=n("eFMu"),d=n("dprx"),p=n.n(d),h=n("I+BT"),v=n("YTiU"),f=n("Beac"),m=n("Aa8z"),g=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:n.data)&&void 0!==t?t:{}},b=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.version},y=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.env},S=function(e){var t,n;return(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.env)===u.a.ENVIRONMENT_PRODUCTION},w=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.hideDevTools},k=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.imageServerEndpoint},C=function(e){var t;return null===(t=g(e))||void 0===t?void 0:t.errorImageEndpoint},$=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.productPage)||void 0===r?void 0:r.version},T=function(e){return null===e||void 0===e?void 0:e.device},O=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.buyflow},E=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.version},A=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.useSagas},P=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.shouldGetCurrentPackage},I=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.offersTactic},x=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.cms},_=function(e){var t;return null===(t=x(e))||void 0===t?void 0:t.imageUrl},D=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.errorCodeMapping},R=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.purchaseErrorCodeMapping},j=function(e){var t,n;return null!==(t=null===(n=O(e))||void 0===n?void 0:n.reinitializeDelaySecs)&&void 0!==t?t:0},N=function(e){var t;return!(1!==(null===(t=O(e))||void 0===t?void 0:t.version))},M=function(e){var t;return!(2!==(null===(t=O(e))||void 0===t?void 0:t.version))},V=function(e){var t;return!!(null===(t=O(e))||void 0===t?void 0:t.buyflowDemoMode)},L=function(e){var t;return!!(null===(t=O(e))||void 0===t?void 0:t.buyflowDemoModeSimulateFailure)},F=function(e){return I(e)===o.f.FRONT_PORCH},U=function(e){var t,n;return null!==(t=null===(n=O(e))||void 0===n?void 0:n.hiddenTabs)&&void 0!==t?t:[]},B=function(e){var t;return!!(null===(t=O(e))||void 0===t?void 0:t.autoPurchaseFreePreview)},W=function(e){var t,n;return null!==(t=null===(n=O(e))||void 0===n?void 0:n.freePreviewLoadingMessage)&&void 0!==t?t:""},H=function(e){var t;return!!(null===(t=O(e))||void 0===t?void 0:t.isClientSideOfferPrioritizationEnabled)},G=function(e){var t;return null===(t=O(e))||void 0===t?void 0:t.supportedBaseOfferIds},q=function(e){var t;return!!(null===(t=O(e))||void 0===t?void 0:t.fallbackToDefaultOffer)},z=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.toast)||void 0===r?void 0:r.throttleWaitMs},Y=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.toast)||void 0===r?void 0:r.timeoutMs},K=function(e){var t;return null===(t=D(e))||void 0===t?void 0:t.unauthorized},J=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.buyflow)||void 0===r?void 0:r.referenceIdMap},Q=function(e){var t,n,r,i,o;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:null===(i=r.messages)||void 0===i?void 0:null===(o=i.offersPage)||void 0===o?void 0:o.disclaimer},X=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.eligible},Z=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.enabled},ee=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.buyFlowEnabled},te=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:null===(i=r.messages)||void 0===i?void 0:i.welcomePage},ne=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.welcomePageBackground},re=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.offers},ie=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.base},oe=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.streamPlus)||void 0===r?void 0:r.cart},ae=function(e){var t,n,r,i;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(i=r.streamPlus)||void 0===i?void 0:i.welcomePageVersion)&&void 0!==t?t:"v1"},se=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.streamBuyUrl},ce=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.buyflow)||void 0===r?void 0:r.selectedTabOnLaunch},le=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.deviceLocationCheck)},ue=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.dlcOverride)&&void 0!==t?t:""},de=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.toggleDevicePicker)||void 0===r?void 0:r.enabled},pe=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vodPlayActionCacheAssetEnabled},he=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.toggleDevicePicker)||void 0===r?void 0:r.tooltip},ve=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.piHost},fe=function(e){return function(t){var n;return!!e.includes(ve(t))||!!(null===(n=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.authenticatedHosts}(t))||void 0===n?void 0:n.find(function(t){return e.includes(t)}))}},me=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.oAuth)||void 0===r?void 0:r.consumerKey},ge=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.errorCodesService)||void 0===r?void 0:r.checkIntervalMs},be=function(e){var t,n,r;return ve(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.errorCodes)},ye=function(e){var t,n,r;return ve(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.quota)},Se=function(e){var t,n,r;return ve(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.configAuth)},we=function(e){return le(e)||Po(e)?Object(m.q)()+"?streamVersion=3":Object(m.p)()+"?streamVersion=2"},ke=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.epgsV4Enabled)},Ce=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.epgs)||void 0===r?void 0:r.gridApi},$e=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.epgs)||void 0===r?void 0:r.cacheCleanupIntervalHours},Te=function(e){var t,n,r;return ve(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.fips)},Oe=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.smartTvApi},Ee=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.epgsApi},Ae=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.epgs)||void 0===r?void 0:r.stbTune},Pe=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.vod)||void 0===r?void 0:r.globalBookmarks},Ie=function(e){var t,n;return ve(e)+Oe(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.watchlist)},xe=function(e){var t,n;return ve(e)+Oe(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.watchlistv2)},_e=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.smartTv)||void 0===r?void 0:r.cdvrBookmark},De=function(e){return ve(e)+fn(e)+cn(e)},Re=function(e){return ve(e)+fn(e)+ln(e)},je=function(e){return ve(e)+fn(e)+un(e)},Ne=function(e){return ve(e)+fn(e)+dn(e)},Me=function(e){return ve(e)+fn(e)+pn(e)},Ve=function(e){return ve(e)+fn(e)+hn(e)},Le=function(e){return ve(e)+fn(e)+nn(e)},Fe=function(e){return ve(e)+fn(e)+vn(e)},Ue=function(e){var t;return ve(e)+(null===(t=O(e))||void 0===t?void 0:t.currentPackageApi)},Be=function(e){var t;return ve(e)+(null===(t=O(e))||void 0===t?void 0:t.offersV2Api)+"?baseOfferId="},We=function(e){var t,n=Object(f.a)(e),r=n?"?baseOfferId=".concat(n):"";return ve(e)+(null===(t=O(e))||void 0===t?void 0:t.offersV2Api)+r},He=function(e){var t;return ve(e)+(null===(t=O(e))||void 0===t?void 0:t.purchaseApi)},Ge=function(e){var t;return ve(e)+(null===(t=O(e))||void 0===t?void 0:t.estimateTaxesApi)},qe=function(){var e=ze(),t=Ye();return"".concat(e).concat(t)},ze=function(){var e=s.a.getSelectorValue(x);return null===e||void 0===e?void 0:e.baseUrl},Ye=function(){var e=Ke(),t=s.a.getSelectorValue(a.e);return s.a.getSelectorValue(a.P)&&Qe(e,o.a.FREE_PREVIEW)?Qe(e,o.a.FREE_PREVIEW):Qe(e,t)},Ke=function(){for(var e=s.a.getSelectorValue(x),t=null===e||void 0===e?void 0:e.endpoints,n=Object.entries(t),r=s.a.getSelectorValue(a.c),o=0,c=n;o<c.length;o++){var l=i()(c[o],2),u=l[0],d=l[1];if(u==r)return d}};function Je(e,t){return new RegExp(Object(l.g)(e),"i").test(Object(l.g)(t))}function Qe(e,t){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=i()(r[n],2),a=o[0],s=o[1];if(Je(t,a))return s}}var Xe=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.bWF4aW11bUNvd2JlbGw)},Ze=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.applyCapIntervalSeconds)},et=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.offCanvasMenu},tt=function(e){var t,n=null===(t=et(e))||void 0===t?void 0:t.manageAccountLink;return Object(l.a)(n,"visitId",p.a.get(h.d.VISIT_ID))},nt=function(e){var t,n=null===(t=et(e))||void 0===t?void 0:t.getSupportLink;return Object(l.a)(n,"visitId",p.a.get(h.d.VISIT_ID))},rt=function(e){var t;return null===(t=et(e))||void 0===t?void 0:t.enabled},it=function(e){var t,n;return null!==(t=null===(n=g(e))||void 0===n?void 0:n.privacyRightsLink)&&void 0!==t?t:""},ot=function(e){var t,n;return null!==(t=null===(n=g(e))||void 0===n?void 0:n.privacyPolicyLink)&&void 0!==t?t:""},at=function(e){var t,n;return null!==(t=null===(n=g(e))||void 0===n?void 0:n.termsAndConditionsLink)&&void 0!==t?t:""},st=function(e){var t,n;return null!==(t=null===(n=g(e))||void 0===n?void 0:n.caConsumerPrivacyRightsLink)&&void 0!==t?t:""},ct=function(e){var t,n;return null!==(t=null===(n=g(e))||void 0===n?void 0:n.caDontSellLink)&&void 0!==t?t:""},lt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.upgradePhoneNumber},ut=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.bulkMDU)||void 0===r?void 0:r.upgradeAccountPhone},dt=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.featureTourSlides)&&void 0!==t?t:[]},pt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.featureTourBackground},ht=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.ooh)&&void 0!==t?t:{}},vt=function(e){var t;return null===(t=ht(e))||void 0===t?void 0:t.restrictLoginOOH},ft=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.ooh)||void 0===r?void 0:null===(i=r.OOHLoginError)||void 0===i?void 0:i.title},mt=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.ooh)||void 0===r?void 0:null===(i=r.OOHLoginError)||void 0===i?void 0:i.message},gt=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.ooh)||void 0===r?void 0:null===(i=r.OOHLoginError)||void 0===i?void 0:i.eventCaseId},bt=function(e){var t,n,r,i;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.ooh)||void 0===r?void 0:null===(i=r.OOHLoginError)||void 0===i?void 0:i.eventCasePayload},yt=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.bannerMessage)||void 0===n?void 0:n.generic},St=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.dialogMessages)||void 0===n?void 0:n.generic},wt=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.miniGuide)||void 0===n?void 0:n.generic},kt=function(e){var t,n,r;return null!==(t=null===(n=ht(e))||void 0===n?void 0:null===(r=n.OOHLoginError)||void 0===r?void 0:r.version)&&void 0!==t?t:1},Ct=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.bannerMessage)||void 0===n?void 0:n.specUTA},$t=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.dialogMessages)||void 0===n?void 0:n.specUTA},Tt=function(e){var t,n;return null===(t=ht(e))||void 0===t?void 0:null===(n=t.miniGuide)||void 0===n?void 0:n.specUTA},Ot=function(e){var t,n;return(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.specU)||{}},Et=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.enabled},At=function(e){var t;return ve(e)+(null===(t=Ot(e))||void 0===t?void 0:t.universityInfoUrl)},Pt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.universityRedirectUrl},It=function(e){var t,n;return null!==(t=null===(n=Ot(e))||void 0===n?void 0:n.authErrors)&&void 0!==t?t:{}},xt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.errorAuthFlows},_t=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.supportLink},Dt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.trustedAuthAscendonEndpoint},Rt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.androidAppStoreLink},jt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.iosAppStoreLink},Nt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.mobileLoginMessage},Mt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.trustedAuthEnabled},Vt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.taAuthFlow},Lt=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.trustedAuthErrors},Ft=function(e){var t;return null===(t=Ot(e))||void 0===t?void 0:t.domainSearchDescriptionText},Ut=function(e){var t;return ve(e)+(null===(t=Ot(e))||void 0===t?void 0:t.domainSearch)},Bt=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.bulkMDU)||void 0===r?void 0:r.enabled},Wt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.autoAccessCombinedEnabled},Ht=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.supportSMBAuthentication},Gt=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.confirmMessageDelayMs)&&void 0!==t?t:0},qt=function(e){var t,n,r;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.miniPlayer)||void 0===r?void 0:r.enabled)},zt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.upgradePhoneNumber},Yt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.supportPhoneNumber},Kt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.showPlayerChannelBrowserFiltersOutOfHome},Jt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.eanChannelNumber},Qt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.intervalForChannelBrowserUpdateInMinutes},Xt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.playerChannelBrowserDefaultSortByType},Zt=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.oAuth},en=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.consumerKey},tn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.s},nn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.tokenExchange},rn=function(e){var t,n;return null!==(t=null===(n=Zt(e))||void 0===n?void 0:n.routes)&&void 0!==t?t:[]},on=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.signatureMethod},an=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.version},sn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.refreshBufferTime},cn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.masqueradeAuthorize},ln=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.token},un=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.tempRequest},dn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.authorize},pn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.autoAuthorize},hn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.specUAuthorize},vn=function(e){var t;return null===(t=Zt(e))||void 0===t?void 0:t.chromecastTokenExchange},fn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.oAuthApi},mn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.loginPath},gn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.autoAccessDisabledTimePeriodInMinutes},bn=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.ssoEnabled)},yn=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.masqueradeEnabled)},Sn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.treatBlockedAutoplayAsFailure},wn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.logoutOnAuthRefreshError},kn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useShakaPlayer},Cn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.shakaVersionOverride},$n=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.shakaVersionOverrideDebug},Tn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useDAIforLIVE},On=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useDRMforLIVE},En=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useDAIforVOD},An=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useDRMforVOD},Pn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.playDrmOnlyStreams},In=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useIrdetoControlDrm},xn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useIrdetoRefreshOnRetry},_n=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.drmAuthHeaderExpirationIntervalMs},Dn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vastSupport},Rn=function(e){var t,n,r,i;return In(e)?null===e||void 0===e?void 0:null===(r=e.config)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.LAUrlsIrdeto:null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.LAUrls},jn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.DRMIrdetoRenewalUrls},Nn=function(e){var t;return null===(t=Rn(e))||void 0===t?void 0:t.widevine},Mn=function(e){var t;return null===(t=Rn(e))||void 0===t?void 0:t.playready},Vn=function(e){var t;return null===(t=Rn(e))||void 0===t?void 0:t.fairplayReplaceUrl},Ln=function(e){var t;return null===(t=Rn(e))||void 0===t?void 0:t.fairplayCertificateURL},Fn=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.widevineMediaKeySystemConfig)&&void 0!==t?t:{}},Un=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.playreadyMediaKeySystemConfig)&&void 0!==t?t:{}},Bn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.playerBufferControlParameters},Wn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useAlternateDAIScheme},Hn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.playerParameters},Gn=function(e){var t;return null===(t=Hn(e))||void 0===t?void 0:t.skipSeconds},qn=function(e){var t;return null===(t=Hn(e))||void 0===t?void 0:t.infoPopupTimeoutMs},zn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.remoteSessionControlEnabled},Yn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.playerOverlaySettings},Kn=function(e){var t;return null===(t=Yn(e))||void 0===t?void 0:t.initialTimeout},Jn=function(e){var t;return null===(t=Yn(e))||void 0===t?void 0:t.defaultTimeout},Qn=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.thresholdForOnNextTitleUpdateInMinutes},Xn=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.useHTTPSforAllAdTracking)&&void 0!==t&&t},Zn=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.adBeaconHostURLS)&&void 0!==t?t:[]},er=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.autoplayTactic)&&void 0!==t?t:v.a.PLAY_ICON},tr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.autoplayTooltip},nr=function(e){return er(e)===v.a.PLAY_ICON},rr=function(e){return er(e)===v.a.MUTE},ir=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.isHdcpSafariError)&&void 0!==t&&t},or=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.streamInitializationTimeoutMs},ar=function(e){var t;return null===(t=or(e))||void 0===t?void 0:t.linear},sr=function(e){var t;return null===(t=or(e))||void 0===t?void 0:t.vod},cr=function(e){var t;return null===(t=or(e))||void 0===t?void 0:t.dvr},lr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.streamBufferingTimeoutMs},ur=function(e){var t;return null===(t=lr(e))||void 0===t?void 0:t.linear},dr=function(e){var t;return null===(t=lr(e))||void 0===t?void 0:t.vod},pr=function(e){var t;return null===(t=lr(e))||void 0===t?void 0:t.dvr},hr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.videoPlayerSettings},vr=function(e){var t;return null===(t=hr(e))||void 0===t?void 0:t.Feature_ManageVideoStream},fr=function(e){var t;return null===(t=hr(e))||void 0===t?void 0:t.linear},mr=function(e){var t;return null===(t=hr(e))||void 0===t?void 0:t.VOD},gr=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.playerRetry)||void 0===r?void 0:r.brokenStreams},br=function(e){var t;return null===(t=gr(e))||void 0===t?void 0:t.linear},yr=function(e){var t;return null===(t=gr(e))||void 0===t?void 0:t.vod},Sr=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.mainMenuData)&&void 0!==t?t:{}},wr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vodAssetsPerPage},kr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vodAssetsReqRetryCount},Cr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vodAssetsReqPerPage},$r=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.tvodRent},Tr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.tvodWatch},Or=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.globalSettings},Er=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.customizationSettings},Ar=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.websiteSettings},Pr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.stbSettings},Ir=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.stbSettingsEnabled},xr=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.watchNextEpisode)||void 0===r?void 0:r.enabled},_r=function(e){var t,n,r,i;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(i=r.watchNextEpisode)||void 0===i?void 0:i.countdownSeconds)&&void 0!==t?t:0},Dr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.newEpisodeThreshold},Rr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.timezoneCacheTimeoutInMinutes},jr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.lineupCacheTimeoutInMinutes},Nr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.lineupRefreshOnFailureInMinutes},Mr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.lineupFailureRetryCount},Vr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.vpns},Lr=function(e){var t;return null===(t=Vr(e))||void 0===t?void 0:t.logging},Fr=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.baseUri)&&void 0!==t?t:""},Ur=function(e){var t;return null===(t=Vr(e))||void 0===t?void 0:t.subscribeToEmptyServices},Br=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.registration)&&void 0!==t?t:""},Wr=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.disconnect)&&void 0!==t?t:""},Hr=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.connect)&&void 0!==t?t:""},Gr=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.join)&&void 0!==t?t:""},qr=function(e){var t,n;return null!==(t=null===(n=Vr(e))||void 0===n?void 0:n.check)&&void 0!==t?t:""},zr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nrsApi},Yr=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.nrs)||void 0===r?void 0:r.stb},Kr=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.unSupportedDVRClientTypes)&&void 0!==t?t:[]},Jr=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.stbSettingsParentalControls)||void 0===r?void 0:r.timeBlockEnabled},Qr=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.cdvrEnabled)},Xr=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.cdvrExtraStopTimeOptionsEnabled)&&void 0!==t&&t},Zr=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nnsVersion},ei=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nnsApi},ti=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nns},ni=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.entryPoint},ri=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.specUConfig},ii=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.bulkMDUConfig},oi=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.ipOnlyConfig},ai=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.qamStbConfig},si=function(e){var t;return null===(t=ti(e))||void 0===t?void 0:t.tvsaConfig},ci=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.nnsParams)&&void 0!==t?t:{}},li=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.includeEpisodeTmsIdOnGuideNnsReq},ui=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.dynamicUrisEnabled)},di=function(e){var t,n;return parseInt(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.locationIntervalInMs)},pi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.flickVod},hi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.defaultApiCallTimeout},vi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.filterUnentitled},fi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nmdEpgsApiV1},mi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.epgs)||void 0===r?void 0:r.guide},gi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.epgs)||void 0===r?void 0:r.grid},bi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.zoneHeightMultiplier},yi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.zoneWidthMultiplier},Si=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.prefetchDistance},wi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.viewportWidthMultiplier},ki=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.guide)||void 0===r?void 0:r.viewportHeightMultiplier},Ci=function(e){var t,n,r;return ve(e)+Oe(e)+(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.smartTv)||void 0===r?void 0:r.drmSession)},$i=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.drmSessionGracePeriodInMilliseconds},Ti=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.connectivityService},Oi=function(e){var t;return null===(t=Ti(e))||void 0===t?void 0:t.enabled},Ei=function(e){var t;return null===(t=Ti(e))||void 0===t?void 0:t.checkXhrEnabled},Ai=function(e){var t;return null===(t=Ti(e))||void 0===t?void 0:t.checkXhrPath},Pi=function(e){var t;return null===(t=Ti(e))||void 0===t?void 0:t.checkXhrIntervalMs},Ii=function(e){var t;return null===(t=Ti(e))||void 0===t?void 0:t.debounceOnlineMs},xi=function(e){var t,n,r;return(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.chromecast)||void 0===r?void 0:r.enabled)&&"Chrome"===c.name},_i=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.chromecast)||void 0===r?void 0:r.receiverApplicationId},Di=function(e){var t,n;return ve(e)+(null===(t=g(e))||void 0===t?void 0:null===(n=t.services)||void 0===n?void 0:n.capabilitiesUrl)},Ri=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.unSupportedBrowsers)&&void 0!==t?t:[]},ji=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.watchListParameters},Ni=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.createUserLink},Mi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.autoAccessUserName},Vi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.search)||void 0===r?void 0:r.fullResultsPerCategory},Li=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.search)||void 0===r?void 0:r.quickResultsPerColumn},Fi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.search)||void 0===r?void 0:r.minimumCharacters},Ui=function(e){var t,n,r,i;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(i=r.services)||void 0===i?void 0:i.dvrBase)&&void 0!==t?t:""},Bi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrRecordedResume},Wi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrRecordedPlay},Hi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.resetScheduledRecordingsDelayInMs},Gi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrConflicts},qi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrSchedule},zi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrScheduled},Yi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrSeriesPriorities},Ki=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrDiskUsage},Ji=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrRecorded},Qi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrRecording},Xi=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.services)||void 0===r?void 0:r.dvrRecordedDelete},Zi=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.forgotHost},eo=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.registration)||void 0===r?void 0:r.forgot},to=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.siteHeaderVersion},no=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.versionCheckTimeoutIntervalMS},ro=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.apiErrorCodeEnabled},io=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.apiPathsToReportResponseTextToQuantum)&&void 0!==t?t:[]},oo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.easEnabled)},ao=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.kochava)||void 0===r?void 0:r.isKochavaSDKEnabled},so=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.kochava)||void 0===r?void 0:r.kochavaAppGUID},co=function(e){var t,n;return null!==(t=null===(n=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.autoTune}(e))||void 0===n?void 0:n.autoTuneTmsGuideIds)&&void 0!==t?t:[]},lo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useStartupChannel)},uo=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.favoritesService)||void 0===r?void 0:r.add},po=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.favoritesService)||void 0===r?void 0:r.remove},ho=function(e){var t,n;return!0===(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.specuta_roku_activation)},vo=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.bookmarkIntervalMs)&&void 0!==t?t:6e4},fo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.locationOnPlaybackStop)},mo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.refreshOauthTokenOnUnauthenticatedError)},go=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.clearUserStorageOnLogout)},bo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.streamTimeoutsCustomLogging)},yo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.addClientVersionToHeader)},So=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.clearAutoAuthSignOutTimeOnTokenRefreshFail)},wo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.unregisterSWBeforeNewPlayer)},ko=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.addTimestampToBitmovinServiceWorker)},Co=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.checkSuspiciousAuth)},$o=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.shouldSynchronizeIsAuthenticatedFlagWithAuth)},To=function(e){var t,n,r;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.appRatingConfigSettings)||void 0===r?void 0:r.enabled)},Oo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.fastOauthTokenTimeoutDevOnly)},Eo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.featureFlagAxiosAuth)},Ao=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.nielsen},Po=function(e){var t;return!!(null===(t=Ao(e))||void 0===t?void 0:t.enabled)},Io=function(e){var t;return!!(null===(t=Ao(e))||void 0===t?void 0:t.useDebug)},xo=function(e){var t;return null===(t=Ao(e))||void 0===t?void 0:t.apid},_o=function(e){var t;return null===(t=Ao(e))||void 0===t?void 0:t.optionsLink},Do=function(e){var t,n;return!!(null===(t=Ao(e))||void 0===t?void 0:null===(n=t.testing)||void 0===n?void 0:n.forced)&&!S(e)&&Po(e)},Ro=function(e){var t,n;return null===(t=Ao(e))||void 0===t?void 0:null===(n=t.testing)||void 0===n?void 0:n.forcedMetrics},jo=function(e){var t,n;return null===(t=Ao(e))||void 0===t?void 0:null===(n=t.testing)||void 0===n?void 0:n.forcedLocations},No=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.globalErrorFlushThresholds)&&void 0!==t?t:[1,10,100,1e3]},Mo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.enableBrowserNativePip)},Vo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.useRecordingIdForCdvrStream)},Lo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.clientTypes},Fo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.featureBrokenStreamIgnoreStopDuringRestart)},Uo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.featureBrokenStreamStartStateDetection)},Bo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.allowHTMLErrorText)},Wo=function(e){var t,n;return!!(null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.reportTrafficOriginId)},Ho=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.akamai)||void 0===r?void 0:r.liveURLFetchQueryAppend},Go=function(e){var t,n,r;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.akamai)||void 0===r?void 0:r.vodURLFetchQueryAppend},qo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.supportModal},zo=function(e){return qo(e).enabled},Yo=function(e){return ve(e)+qo(e).infoUrl},Ko=function(e){return qo(e).emailSubject},Jo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.ignoreChannelNumbers},Qo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.hideGuideFilters},Xo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.disableSignout},Zo=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.disabledStateRegexs},ea=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.disableManualLogin},ta=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.entitledOnlyVod},na=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.errorCodePrefix},ra=function(e){var t,n,r,i,o=null===(t=c.version)||void 0===t?void 0:t.split(".")[0];return(null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(i=r.privateRelay)||void 0===i?void 0:i.restrictLogin)&&"Safari"===c.name&&parseInt(o,10)>=15},ia=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.csidConfig},oa=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.headerLogoPath},aa=function(e){var t,n;return null===e||void 0===e?void 0:null===(t=e.config)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.preventLocationCallOnUnAuth},sa=function(e){var t,n,r;return null!==(t=null===e||void 0===e?void 0:null===(n=e.config)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.headerLogoAlt)&&void 0!==t?t:"Spectrum TV"}},gGPV:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="stream-plus-confirmation">\n<div class="tour-collage-wrapper">\n<div class="tour-collage" feature-tour-background></div>\n</div>\n<div class="content-main">\n<div class="top-section">\n<div class="left-section">\n<div class="heading" role="heading" aria-level="1" tabindex="-2" focus-once>\n<span class="kite-h1">Welcome to <br aria-hidden="true"/>Spectrum TV<sup>TM</sup> Stream</span>\n</div>\n<p>Thanks for subscribing!</p>\n<p>Your new TV experience is ready and waiting.</p>\n<div class="actions">\n<a href="#" class="kite-btn kite-btn-primary" ovp-click="$ctrl.watchTV();">Watch TV Now</a>\n</div>\n</div>\n<div class="right-section">\n<div class="devices">\n<img alt="" aria-hidden="true" ovp-src="/images/devices.svg"/>\n</div>\n</div>\n</div>\n<div class="bottom-section">\n<h2 class="kite-h4">\nSpectrum TV Stream is Available on More than Your Computer\n</h2>\n<p>\nCreate a username and password for access on all your favorite devices.\n</p>\n<a target="_blank" href="https://www.spectrum.net/my-account/create/#/account-info?sourceApp=OVP">Register Now</a>\n</div>\n</div>\n</div>\n',o="js/buyFlow/confirmation.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},gKEH:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="site-alert">\n<div role="alert" aria-live="assertive" aria-atomic="true">\n<span class="sr-only" ng-if="!!$ctrl.easData.message && !$ctrl.easData.audioUri" ng-bind="\'emergency alert,\' + $ctrl.easData.message"></span>\n</div>\n<div class="site-alert-container" ng-if="!!$ctrl.easData.message">\n<div class="kite-grid">\n<div class="kite-cell kite-cell-4 kite-cell-3-gt-md eas-heading">\n<span class="si si-caution-f"></span><span id="easTitle" aria-label="emergency alert" class="eas-label">Emergency Alert:</span>\n</div>\n<div class="kite-cell kite-cell-3 kite-cell-8-gt-md eas-message">\n<span id="easMessage" class="crawl" ng-bind="$ctrl.easData.message"></span>\n</div>\n<div class="kite-cell kite-cell-1 close-icon">\n<div class="si si-x button" focus-once role="button" aria-label="Close alert" ng-click="$ctrl.exit()"></div>\n</div>\n</div>\n</div>\n</div>\n',o="js/eas/eas.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},gdCp:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="login-error" id="login-error">\n<span class="sr-only" id="login-error-label" error-codes-header="WLI-1025"></span>\n<div class="error-icon">\n<span class="si si-caution-f"></span>\n</div>\n<div class="error-message">\n<p aria-hidden="true" error-codes="WLI-1025"></p>\n</div>\n</div>',o="js/login/errors/login-error-lockout.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},gnUE:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="stream-plus-offers">\n<div class="tour-collage-wrapper">\n<div class="tour-collage" feature-tour-background></div>\n</div>\n<div class="content-wrapper">\n<div class="content-main">\n<div class="main-header">\n<h1 focus-once tabindex="-2">Introducing Spectrum TV<sup>TM</sup> Stream</h1>\n<p>Here\'s an offer we think you\'ll love.</p>\n</div>\n<ui-view/>\n</div>\n<p class="content-footer">*More networks will be included based on your market. Not all markets carry Spectrum News.</p>\n</div>\n</div>\n',o="js/buyFlow/offers.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},gwmn:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p});var r="CURRENT_PACKAGE_API_IN_PROGRESS",i="CURRENT_PACKAGE_API_SUCCESS",o="CURRENT_PACKAGE_API_ERROR",a="UPDATE_DAYS_REMAINING",s="HAS_SHOWN_FREE_PREVIEW_MODAL";function c(){return{type:r}}function l(e){return{type:i,payload:e}}function u(e){return{type:o,error:e}}function d(e){return{type:a,payload:e}}function p(e){return{type:s,payload:e}}},gxVg:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i=' <div ng-hide="$ctrl.$state.current.data.hideHeader" ng-class="{\'transparent-header\': $ctrl.usePlayerHeader || $ctrl.isUnsupportedBrowser, \'bottom-gradient\': $ctrl.usePlayerHeader, \'slide-open\': $ctrl.isUnsupportedBrowser || ($ctrl.showHeader===true && $ctrl.usePlayerHeader)}" ng-keydown="$ctrl.onKeyDown($event)" ng-mousemove="$ctrl.playerOverlayTimer.onMouseMove()" role="presentation" tabindex="-1">\n<ooh ng-if="$ctrl.canUseTv && !$ctrl.isSpecUActivate() && !$ctrl.easService.isShowingEAS()"></ooh>\n<eas ng-if="$ctrl.loggedIn"></eas>\n<div aria-hidden="true" ng-if="$ctrl.usePlayerHeader && $ctrl.showHeader===true" class="nav-triangle-pattern"></div>\n<header class="site-header" role="banner" tabindex="-1">\n<set-top-connection ng-if="!$ctrl.easService.isShowingEAS()"></set-top-connection>\n<div class="sr-only" aria-live="polite" aria-atomic="true" ng-bind="$root.loadingMessage"></div>\n<nav class="top-level-nav" role="navigation" aria-label="utility">\n<div ng-if="$ctrl.isMenuVisible()" class="top-level-nav__canvas-menu-container">\n<button class="top-level-nav__canvas-menu" ovp-click="$ctrl.toggleOffCanvasMenu()" aria-label="menu" id="canvas-menu">\n<span class="si si-menu" aria-hidden="true"></span>\n<span class="top-level-nav__canvas-menu--label">MENU</span>\n</button>\n</div>\n<div class="top-level-nav__logo" ng-class="{\'center-align\': $ctrl.isMenuVisible()}">\n<img alt="{{$ctrl.getLogoAltText()}}" class="logo-header" role="img" ng-src="{{$ctrl.OvpSrcService.versionPath($ctrl.getLogoPath())}}"/>\n</div>\n<div class="top-level-nav_right-items">\n<subscribe-link ng-if="!$ctrl.isLoginOrWelcomePage()"></subscribe-link>\n<ul class="top-level-nav__links" ng-class="{\'isSpecOrBulk\': $ctrl.isSpecU() || $ctrl.isBulkMDU()}">\n<li ng-hide="$ctrl.isSpecUDomainSearch()"><a href="#" ovp-link-click="$ctrl.openSupportDialog()">Support</a></li>\n<li ng-if="$ctrl.loggedIn && !$ctrl.isSpecUActivate() && !$ctrl.disableSignout"><a href="#" ovp-link-click="$ctrl.signOut()">{{$ctrl.signOutText()}}</a></li>\n<li ng-if="$ctrl.showDev"><a href="#" accesskey="t" ng-click="$ctrl.showDevTools()" style="padding-top: 5px" class="si si-star" aria-label="Toggle Dev Tools"></a></li>\n</ul>\n<global-search ng-if="!$ctrl.$state.current.data.hideMenu" ng-hide="$ctrl.isSpecUActivate()" class="screen-small"></global-search>\n</div>\n</nav>\n<main-menu ng-hide="$ctrl.$state.current.data.hideMenu"></main-menu>\n</header>\n<div ng-if="!$ctrl.usePlayerHeader" ng-hide="$ctrl.$state.current.data.hideMenu" class="menu-divider"></div>\n<ui-view name="subMenu" ng-hide="$ctrl.$state.current.data.hideSubMenu"></ui-view>\n</div>\n',o="js/components/header/site-header.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},h17v:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div>\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2"> Global Favorites</h2>\n<div>\n<p class="settingsHeader">Select your favorite Networks and create a custom channel lineup by filtering your Guide!</p>\n<div class="settingsHeaderContainer" tabindex="-1">\n<div class="filters">\n<div id="channelSearch">\n<form class="search">\n<div>\n<input class="searchField" placeholder="Jump to Channel" autocomplete="off" ng-model="$ctrl.searchValue" ng-model-options="{ debounce: {\'default\': 1000, \'submit\':0}, updateOn:\'submit\'}" aria-label="Type a channel number then hit enter" maxlength="11"/>\n</div>\n</form>\n<button aria-label="clear entry" class="cancelSearch" ovp-click="$ctrl.cancelSearch()"></button>\n</div>\n</div>\n</div>\n</div>\n<div>\n<div id="settingsSubnavWrapper">\n<div id="favoritesListContent" class="favorite-container" role="listbox" arrow-nav="channel-block" ng-model="$ctrl.filteredChannels" aria-describedby="favorite-instruction">\n<span class="sr-only" id="favorite-instruction">Use arrow keys to navigate channels, enter to select or unselect your favorite network, tab to exit</span>\n<favorite-card ng-repeat="channel in $ctrl.filteredChannels" is-spec-u="$ctrl.isSpecU" channel="channel" ng-keydown="$ctrl.onKeyDown($event, $index)" role="presentation"></favorite-card>\n</div>\n</div>\n</div>\n</div>\n',o="js/settings/favorites/favorites.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},h68X:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="grid-list-header" ng-if="$ctrl.options.showHeader">\n<h1 class="title" ng-if="$ctrl.viewallPage">\n{{$ctrl.options.title}}\n</h1>\n<h2 class="title" ng-if="!$ctrl.viewallPage">\n{{$ctrl.options.title}}\n</h2>\n<dir-pagination-controls ng-if="$ctrl.hasPagination()" position="top" on-page-change="$ctrl.pageChanged({page: newPageNumber})" pagination-id="$ctrl.options.id">\n</dir-pagination-controls>\n<div class="gridlist-header-options" ng-if="$ctrl.items.length > 0">\n<ovp-dropdown-list class="filter-select" ng-if="$ctrl.options.showFilter" items="$ctrl.options.filters" config="$ctrl.filterConfig"></ovp-dropdown-list>\n<grid-list-toggler ng-if="$ctrl.options.showToggle" id="$ctrl.options.id" tab-index="$ctrl.options.tabIndex">\n</grid-list-toggler>\n</div>\n</div>\n<div class="grid-list-sub-header">\n<div ng-if="$ctrl.options.showTotal">\n({{$ctrl.options.totalItems}} items)\n</div>\n<div role="button" class="clear-list" ng-if="$ctrl.options.clearListAvailable" tabindex="0" ovp-click="$ctrl.options.clearList()">\n{{$ctrl.options.clearListText}}\n</div>\n</div>\n<div ng-class="{grid: $ctrl.state === \'grid\', list: $ctrl.state === \'list\'}">\n<div ng-if="$ctrl.state === \'grid\'" ng-transclude="grid" class="grid-container" ng-style="!$ctrl.gridCalculationComplete && {visibility: \'hidden\'}"></div>\n<div ng-if="$ctrl.state === \'list\'" ng-transclude="list"></div>\n</div>\n<div class="grid-list-footer">\n<dir-pagination-controls ng-if="$ctrl.hasPagination()" position="bottom" pagination-id="$ctrl.options.id">\n</dir-pagination-controls>\n</div>\n',o="js/directives/ovp-grid-list.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},hIh8:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r={startSession:{blank:"appInitializing"},playbackSelect:{initiating:"initiating",navigating:"initiating",failed:"initiating",DISABLED:"initiating",playing:"initiating",buffering:"initiating",appInitializing:"initiating",appInitialized:"initiating"},playbackExitBeforeStart:{initiating:"navigating",failed:"navigating",restarting:"navigating"},playbackStreamUriAcquired:{restarting:"initiating",initiating:"initiating"},playbackStart:{initiating:"playing",restarting:"playing"},playbackStartAfterRetry:{restarting:"playing"},playbackStop:{restarting:"navigating",playing:"navigating",buffering:"navigating",paused:"navigating"},bufferingStart:{playing:"buffering"},bufferingStop:{buffering:"playing"},playbackPause:{playing:"paused"},playbackUnpause:{paused:"playing"},playbackFailure:{playing:"failed",initiating:"failed",buffering:"failed",paused:"failed",scrubbing:"failed",restarting:"failed",DISABLED:"DISABLED"},playbackFailureBeforeRetry:{playing:"failed",initiating:"failed",buffering:"failed",paused:"failed",scrubbing:"failed",restarting:"failed",DISABLED:"DISABLED"},attemptRestart:{failed:"restarting"},playbackTrickPlayStart:{playing:"scrubbing",paused:"scrubbing",buffering:"scrubbing"},playbackTrickPlayRateChange:{scrubbing:"scrubbing"},playbackTrickPlayStop:{scrubbing:"playing"},playbackBitRateUpshift:{playing:"playing",scrubbing:"scrubbing",buffering:"buffering",paused:"paused"},playbackBitRateDownshift:{playing:"playing",scrubbing:"scrubbing",buffering:"buffering",paused:"paused"},playbackHeartbeat:{playing:"playing"},loginStart:{navigating:"authenticating",appInitializing:"authenticating"},loginStop:{authenticating:"navigating"},pageView:{appInitializing:"navigating",appInitialized:"navigating","*":"*"},modalView:{appInitializing:"navigating",appInitialized:"navigating","*":"*"},selectAction:{"*":"*"},selectContent:{"*":"*"},searched:{"*":"*"},searchClosed:{"*":"*"},adBreakStart:{playing:"playing"},adBreakStop:{playing:"playing"},adStart:{playing:"playing"},adStop:{playing:"playing"},apiCall:{"*":"*"},error:{"*":"*"},connectionChanged:{"*":"*"},logout:{failed:"navigating",restarting:"navigating",initiating:"navigating","*":"*"},inVisitOauthRefresh:{"*":"*"},userConfigSet:{"*":"*"},pinEntry:{"*":"*"},requestToRecord:{"*":"*"},requestToDeleteRecording:{"*":"*"},requestToEditRecording:{"*":"*"},requestToCancelRecording:{"*":"*"},setVideoZone:{"*":"*"},setAccountFeatures:{"*":"*"},setNetworkStatus:{"*":"*"},setExperimentConfigurations:{"*":"*"},setAutoAccessEnabled:{"*":"*"},setSegment:{"*":"*"},pageViewInit:{"*":"*"},pageViewPartiallyRendered:{"*":"*"},purchaseStart:{"*":"*"},purchaseStop:{"*":"*"},applicationActivity:{"*":"*"},checkAvailableChannels:{"*":"*"},forcedLogin:{"*":"*"},experimentStarted:{"*":"*"},requestToRemind:{"*":"*"},requestToEditReminder:{"*":"*"},requestToDeleteReminder:{"*":"*"},switchScreen:{"*":"*"},setApplicationName:{"*":"*"},displayChange:{"*":"*"},setCpuAverageUsage:{"*":"*"},setPlayerTestFields:{"*":"*"},setTimeZone:{"*":"*"},featureStart:{"*":"*"},featureStop:{"*":"*"},deviceConfigSet:{"*":"*"},modalCancel:{"*":"*"},modalClose:{"*":"*"},setBulkMduClass:{"*":"*"},setPageAdditionalInfo:{"*":"*"},setOtaChannels:{"*":"*"},connectionChange:{"*":"*"},setPictureInPicture:{"*":"*"},setEntitlements:{"*":"*"},pageViewPerformance:{"*":"*"},userFeedback:{"*":"*"},externalAppStateChange:{"*":"*"},applicationCrash:{"*":"*"},customEvent:{"*":"*"},impressionStart:{"*":"*"},impressionStop:{"*":"*"},assetDisplayed:{"*":"*"},applicationPerformance:{"*":"*"},deeplinkStart:{"*":"*"},deeplinkStop:{"*":"*"},concurrencyChange:{"*":"*"}},i={DISABLED:"DISABLED",APP_INITIALIZED:"appInitialized",APP_INITIALIZING:"appInitializing",AUTHENTICATING:"authenticating",BLANK:"blank",BUFFERING:"buffering",FAILED:"failed",INITIATING:"initiating",NAVIGATING:"navigating",PAUSED:"paused",PLAYING:"playing",RESTARTING:"restarting",SCRUBBING:"scrubbing"},o={detectedHdcpCompliant:"detectedHdcpCompliant",detectedHdcpNoncompliant:"detectedHdcpNoncompliant",undetected:"undetected",disabled:"disabled",detectedHdcpNoncompliant_droppedFrames:"detectedHdcpNoncompliant_droppedFrames",undetected_droppedFrames:"undetected_droppedFrames",droppedFrames:"droppedFrames"}},hWvj:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){var t;return!!(null===e||void 0===e?void 0:null===(t=e.lineup)||void 0===t?void 0:t.inProgress)},i=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.lineup)||void 0===t?void 0:t.data}},hd3w:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"f",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"g",function(){return S});n("pNMO"),n("TeQF"),n("QWBl"),n("yXV3"),n("E9XD"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("rB9j"),n("Rm1S"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("PnGe"),c=n("KS72"),l=n("PNUD"),u=n("KYMe"),d=n("Aa8z"),p=n("fwyg");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=function(){if(window.sessionStorage){var e="production"===l.a.getSelectorValue(p.Ib),t=window.sessionStorage.getItem("configOverride");if(t&&!e)try{var n=JSON.parse(t);l.a.dispatch(Object(c.v)(n))}catch(e){console.warn("Local overrides are not valid json, ignored")}}},f=function(){if("production"!==l.a.getStatePath("environment.currentEnvName")){var e,t="",n={};if(window.location.search.indexOf("?")>-1){t=window.location.search.split("?")[1],n=t.split("?").reduce(function(e,t){var n=t.split("="),r=a()(n,2),i=r[0],o=r[1];return e[i]=o,e},{});var r=Object.keys(n);r.length&&(e=r.filter(function(e){return e.startsWith("config.")||"env"===e}).reduce(function(e,t){return e[t.replace("config.","")]=n[t],e},{}))&&l.a.dispatch(Object(c.A)(e))}}},m=function(){var e=l.a.getStatePath("device"),t=l.a.getStatePath("config.data"),n=l.a.getSelectorValue(d.t);n+="&apikey="+window.encodeURIComponent(t.oAuth.consumerKey),n+="&deviceId="+window.encodeURIComponent(e.id).toUpperCase(),n+="&appVersion="+window.encodeURIComponent(S()),n+="&deviceType="+window.encodeURIComponent(e.deviceType);var r={withCredentials:!1,url:n+="&osVersion="+window.encodeURIComponent(e.osVersion)};return u.default.get(r).then(function(e){return Object(s.c)(e,"data.config")})},g=function(){var e=l.a.getStatePath("config.data"),t=l.a.getStatePath("device"),n=l.a.getSelectorValue(d.s),r={clientType:"ONEAPP-OVP",apiKey:e.oAuth.consumerKey,deviceId:t.id.toUpperCase(),appVersion:e.majorMinorVersion,deviceType:t.deviceType,osVersion:t.osVersion},i={Accept:"application/json","Content-Type":"application/json"},o=(JSON.stringify(r),e.defaultApiCallTimeout,{data:JSON.stringify(r),headers:i,url:n});return u.default.post(o)},b=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete t.reinitVersion,md5(JSON.stringify(t))},y=function(e){var t=l.a.getStatePath("config.data.reinitVersion");return e.reinitVersion!==t},S=function(){try{return l.a.getStatePath("config.data.version").match(/^[0-9]+\.[0-9]+/)[0]}catch(e){throw"Unable to parse app version "+e}}},hlQB:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="card channel-card" tabindex="0" ng-class="{\'carousel-selectable\': $ctrl.options.carouselSelectable}" ovp-link-click="$ctrl.click()" role="link">\n<div class="thumbnail thumbnail-channel" ng-class="{blocked: $ctrl.isBlocked()}">\n<img alt="{{$ctrl.channel.callSign}}" ng-src="{{$ctrl.channel.imageUri({width:144})}}"/>\n<span class="twcicon-svg twcicon-svg-key" role="img" aria-label="Unentitled" ng-if="!$ctrl.channel.isEntitled"></span>\n<span class="ooh-unavailable" role="img" aria-label="Streaming unavailable" ng-if="$ctrl.unavailableOoh && $ctrl.channel.isEntitled"></span>\n</div>\n<div class="caption">\n<div class="channel-name" ng-if="$ctrl.options.showChannelName"><p class="caption truncate">{{$ctrl.channel.name || $ctrl.channel.title}}</p></div>\n<div ng-if="$ctrl.options.showCurrentlyAiring">\n<div class="sr-only">{{::$ctrl.channel.name}}</div>\n<div class="sr-only">Currently airing</div>\n<div class="currently-airing">{{::$ctrl.getCurrentlyAiring()}}</div>\n</div>\n</div>\n</div>\n',o="js/components/channel-card/channel-card.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},hs2p:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.visible && $ctrl.blockType === \'blocked\'" class="blocking-banner" role="presentation" ng-class="{\'fill\': $ctrl.fullscreen}" ng-click="$ctrl.onClick($event)" tabindex="-1">\n<div class="overlay"></div>\n<div class="parentally-blocked-screen">\n<div class="network-lock-container">\n<div class="network-logo"><img class="vod-icon-image" ng-src="{{$ctrl.stream ? $ctrl.stream.networkImage({height:275}) : $ctrl.asset.networkImage({height:275}) }}" alt="{{$ctrl.stream ? $ctrl.stream.network.name : $ctrl.asset.channel.networkName}}"></div>\n<div class="twcicon-svg twcicon-svg-lock"></div>\n</div>\n<div role="heading" aria-level="2" class="parental-blocked-text">This show is blocked by Parental Controls</div>\n<div class="unblocking-text">Click below to unblock and turn off all Parental Controls</div>\n<a tabindex="0" focus-once id="unblock-parental-controls-button" class="unblock base-button" role="button" ng-click="$ctrl.unlockParentalControls()" ng-keydown="$ctrl.unblockOnKeyDown($event)">Unblock</a>\n</div>\n</div>\n<div ng-if="$ctrl.visible && $ctrl.blockType === \'adBlocker\'" class="blocking-banner" ng-class="{\'fill\': $ctrl.fullscreen}" ng-click="$ctrl.onClick($event)" tabindex="-1" role="alert">\n<div class="overlay"></div>\n<div class="parentally-blocked-screen">\n<div class="ad-blocker-blocked-text">It looks like you\'re using an ad blocker.</div>\n<div class="unblocking-text">To watch TV, please turn off your ad blocker and reload the page.</div>\n</div>\n</div>\n',o="js/components/player/blocking-screen.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"i+0Q":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="purchasePin" class="parental-controls" ng-if="!stbUnavailable" role="tabpanel">\n<h2 class="settings-h1 kite-h3">{{$ctrl.stb.name || \'Spectrum Receiver\'}} Purchase PIN</h2>\n<div class="row">\n<div id="purchase-pin-label" class="setting-label col-xs-8">Purchase PIN</div>\n<div class="col-xs-8 text-right">\n<ovp-switch id="purchase_pin_enabled" role="button" aria-label="Purchase Pin is {{purchasePinEnabledForStb ? \'on\' : \'off\'}}" ng-click="togglePinEnabled($event);" button-enabled="{{purchasePinEnabledForStb}}" prevent-default>\n</ovp-switch>\n</div>\n</div>\n</div>\n<stb-receiver-unavailable stb="currentStb" ng-if="stbUnavailable"/>\n',o="js/settings/stb-purchasePin/stb-purchasePin.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},i8Df:function(e,t,n){var r;(function(){function n(e){return function(t,n,r,i){n=k(n,i,4);var o=!P(t)&&w.keys(t),a=(o||t).length,s=e>0?0:a-1;return arguments.length<3&&(r=t[o?o[s]:s],s+=e),function(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}(t,n,r,o,s,a)}}function i(e){return function(t,n,r){n=C(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function o(e,t,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(h.call(r,a,s),w.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function a(e,t){var n=R.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||u,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)(o=R[n])in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var s=this,c=s._,l=Array.prototype,u=Object.prototype,d=Function.prototype,p=l.push,h=l.slice,v=u.toString,f=u.hasOwnProperty,m=Array.isArray,g=Object.keys,b=d.bind,y=Object.create,S=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};e.exports&&(t=e.exports=w),t._=w,w.VERSION="1.8.3";var k=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},C=function(e,t,n){return null==e?w.identity:w.isFunction(e)?k(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return C(e,t,1/0)};var $=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,c=0;s>c;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},T=function(e){if(!w.isObject(e))return{};if(y)return y(e);S.prototype=e;var t=new S;return S.prototype=null,t},O=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,A=O("length"),P=function(e){var t=A(e);return"number"==typeof t&&t>=0&&E>=t};w.each=w.forEach=function(e,t,n){var r,i;if(t=k(t,n),P(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=C(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(e,t,n){var r;return void 0!==(r=P(e)?w.findIndex(e,t,n):w.findKey(e,t,n))&&-1!==r?e[r]:void 0},w.filter=w.select=function(e,t,n){var r=[];return t=C(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(C(t)),n)},w.every=w.all=function(e,t,n){t=C(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=C(t,n);for(var r=!P(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return P(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=h.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,c=(e=P(e)?e:w.values(e)).length;c>s;s++)(r=e[s])>o&&(o=r);else t=C(t,n),w.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,c=(e=P(e)?e:w.values(e)).length;c>s;s++)r=e[s],o>r&&(o=r);else t=C(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=P(e)?e:w.values(e),r=n.length,i=Array(r),o=0;r>o;o++)(t=w.random(0,o))!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(P(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=C(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,n,r){var i={};return n=C(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=I(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=I(function(e,t,n){e[n]=t}),w.countBy=I(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?h.call(e):P(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:P(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=C(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var x=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=A(e);s>a;a++){var c=e[a];if(P(c)&&(w.isArray(c)||w.isArguments(c))){t||(c=x(c,t,n));var l=0,u=c.length;for(i.length+=u;u>l;)i[o++]=c[l++]}else n||(i[o++]=c)}return i};w.flatten=function(e,t){return x(e,t,!1)},w.without=function(e){return w.difference(e,h.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=C(n,r));for(var i=[],o=[],a=0,s=A(e);s>a;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||i.push(c),o=l):n?w.contains(o,l)||(o.push(l),i.push(c)):w.contains(i,c)||i.push(c)}return i},w.union=function(){return w.uniq(x(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=x(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(e,t,n,r){for(var i=(n=C(n,r,1))(t),o=0,a=A(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var _=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=T(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,h.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return _(e,r,t,this,n.concat(h.call(arguments)))};return r},w.partial=function(e){var t=h.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return _(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e[n=arguments[t]]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=w.now();s||!1!==n.leading||(s=l);var u=t-(l-s);return r=this,i=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||!1===n.trailing||(a=setTimeout(c,u)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,c=function(){var l=w.now()-a;t>l&&l>=0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return D&&a(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&a(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=C(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;o>s;s++)a[r=i[s]]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=$(w.allKeys),w.extendOwn=w.assign=$(w.keys),w.findKey=function(e,t,n){t=C(t,n);for(var r,i=w.keys(e),o=0,a=i.length;a>o;o++)if(t(e[r=i[o]],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=k(t,n)):(i=x(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=i.length;c>s;s++){var l=i[s],u=a[l];r(u,l,a)&&(o[l]=u)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(x(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=$(w.allKeys,!0),w.create=function(e,t){var n=T(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var j=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=v.call(e);if(i!==v.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!j(e[c],t[c],n,r))return!1}else{var l,u=w.keys(e);if(c=u.length,w.keys(t).length!==c)return!1;for(;c--;)if(l=u[c],!w.has(t,l)||!j(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return j(e,t)},w.isEmpty=function(e){return null==e||(P(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===v.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return v.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===v.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&f.call(e,t)},w.noConflict=function(){return s._=c,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=O,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=k(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=w.invert(N),V=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=V(N),w.unescape=V(M),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var L=0;w.uniqueId=function(e){var t=++L+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+U[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(B,W),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return a.call(this,e,w)},c=t.variable||"obj";return s.source="function("+c+"){\n"+o+"}",s},w.chain=function(e){var t=w(e);return t._chain=!0,t};var H=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),H(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return w}.apply(t,[]))||(e.exports=r)}).call(this)},iDzl:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button class="btn btn-almost-square hoverwatch" ng-class="{\'btn-inverse\': disabled(item.actionType)}" focus-when="item.focus" ng-focus="item.focus = false" ng-click="productActionClicked(item, asset)" ng-if="isValid(item.actionType)" aria-describedby="{{id(item)}}">\n<div class="icon">\n<span class="spinner" aria-label="Loading..." ng-show="productLoading"></span>\n<svg focusable="false" class="svg-icon" ng-show="!productLoading" aria-hidden="true">\n<use xlink:href="{{actionTypeToButtonGraphic(item)}}" svg-path/>\n</svg>\n</div>\n{{actionTypeToLabel(item)}}\n<span id="{{id(item)}}" style="display:none">\n{{actionTypeToHoverText(item)}}\n</span>\n</button>\n',o="js/product/actions/product-button.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},iPfe:function(e,t){!function(){"use strict";function e(e,t,n,r){var i=n.cached;return new e(angular.extend({},n.standardSearchParams,{resultDisplay:"resultDisplay",availableOutOfHome:"availableOutOfHome",availableInMarket:"availableInMarket",linearAvailableInMarket:"linearAvailableInMarket",linearAvailableOutOfHome:"linearAvailableOutOfHome",isEntitled:i(function(e){return"boolean"==typeof e.entitled?e.entitled:!e.tmsGuideServiceId||n.isTMSGuideIdEntitled(["".concat(e.tmsGuideServiceId)])}),isBlocked:function(e){return r.resolve(e.parentallyBlockedByRating||e.parentallyBlockedByChannel)},callsign:"callsign",networkName:"networkName",channelNumber:"channelNumber",imageUri:i(n.createNetworkImageFunction(n.defaultGetUri)),clickRoute:i(function(e){return["ovp.livetv",{tmsid:e.tmsGuideServiceId}]})}))}function t(e,t){t.registerDelegateDefinition(e,function(e){return"network"===e.resultType})}t.$inject=["networkViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","$q"],t.$inject=["networkViewModelDefinition","delegateFactory"],e.$inject=["DataDelegate","delegateFactory","delegateUtils","$q"],angular.module("ovpApp.dataDelegate").factory("networkViewModelDefinition",e).run(t)}()},iWso:function(e,t){!function(){"use strict";function e(e,t){var n=null,r=function(t){!e.focusClass&&(function(e){return"mousemove"===e.type&&(!n||e.screenX!==n.screenX||e.screenY!==n.screenY)}(t)||t.buttons>0)&&e.$applyAsync(function(){e.focusClass="focus-outline-none",e.lastInputType="mouse"}),n=t};t[0].body.addEventListener("mousedown",function(e){r(e)},!0),t[0].body.addEventListener("mousemove",function(e){r(e)},!0),t[0].body.addEventListener("keydown",function(t){!function(t){9!==(t.which||t.keyCode)&&"INPUT"===t.target.nodeName&&"focus-outline-none"===e.focusClass||e.focusClass&&e.$applyAsync(function(){e.focusClass="",e.lastInputType="keyboard"})}(t)},!0)}e.$inject=["$rootScope","$document"],e.$inject=["$rootScope","$document"],angular.module("ovpApp.services.accessibility",[]).run(e)}()},iboZ:function(e,t,n){var r;
/*!
 * COPYRIGHT 2015.  ALL RIGHTS RESERVED.  THIS MODULE CONTAINS
 * TIME WARNER CABLE CONFIDENTIAL AND PROPRIETARY INFORMATION.
 * THE INFORMATION CONTAINED HEREIN IS GOVERNED BY LICENSE AND
 * SHALL NOT BE DISTRIBUTED OR COPIED WITHOUT WRITTEN PERMISSION
 * FROM TIME WARNER CABLE.
 */void 0===(r=function(e,t,n){function r(e){e=e||{},this.timeOutInMs=e.timeOutInMs,void 0===this.timeOutInMs&&(this.timeOutInMs=r.DEFAULT_TIMEOUT),this.context=e.context,this.callback=e.callback}return r.DEFAULT_TIMEOUT=5e3,r.prototype._isActive=function(){return void 0!==this.timer&&void 0!==this.timeOutInMs},r.prototype._timerWentOff=function(){this.context?this.callback.call(this.context):this.callback&&this.callback(),this.timer=void 0},r.prototype.setTimeOutInMs=function(e){this.timeOutInMs=e},r.prototype.createTimeout=function(e,t){return window.setTimeout(e,t)},r.prototype.start=function(){this.stop(),this.timer=this.createTimeout(this._timerWentOff.bind(this),this.timeOutInMs)},r.prototype.stop=function(){clearTimeout(this.timer),this.timer=void 0},r.prototype.reset=function(){this._isActive()&&this.start()},r}.call(t,n,t,e))||(e.exports=r)},iq8f:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="row">\n<div role="heading" aria-level="2" id="parental-controls-label" class="col-xs-8 odn-setting-label setting-label">Parental Controls</div>\n<div class="col-xs-8 text-right">\n<ovp-switch role="button" aria-label="{{$ctrl.stbSettings()}} {{$ctrl.stb.name || \'\'}} Parental Controls Blocking" aria-pressed="{{$ctrl.pcBlockingEnabledForClient ? \'true\' : \'false\'}}" ng-click="$ctrl.togglePCBlocking($event);" button-enabled="{{$ctrl.pcBlockingEnabledForClient}}" prevent-default></ovp-switch>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-parentalControlsToggle.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},j99h:function(e,t){!function(){"use strict";angular.module("ovpApp.specuSuccess",[]).component("specuSuccess",{templateUrl:"js/specu/success.html"})}()},jB83:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={FORCE_TUNE_LAST_CHANNEL:"forceTuneLastChannel",FORCE_TUNE_OVERRIDE:"forceTuneOverride",FORCE_TUNE_FIRST_AVAILABLE_CHANNEL:"forceTuneFirstAvailableChannel",FORCE_TUNE_CUSTOM_CHANNEL:"forceTuneCustomChannel"}},jIcc:function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("ENVIRONMENT");i.UPDATECURRENTENVIRONMENTCONFIG="ENVIRONMENT/UPDATECURRENTENVIRONMENTCONFIG",i.updateCurrentEnvironmentConfig=function(e){return{type:i.UPDATECURRENTENVIRONMENTCONFIG,payload:e}},t.a=i},jKa0:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<nav class="sub-header" aria-label="DVR">\n<div class="sub-header-container">\n<div class="sub-menu-center">\n<ul class="sub-menu">\n<li ng-repeat="menuItem in menuItems" ng-if="menuItem.enabled()" class="{{menuItem.class}}">\n<a ng-attr-aria-current="{{$ctrl.$state.is(menuItem.state) ? \'page\' : undefined}}" ui-sref="{{menuItem.state}}" ui-sref-active="selected">\n{{menuItem.title}}<span class="sr-only" role="presentation" ng-if="menuItem.badges && menuItem.badges()">\n{{menuItem.badges && menuItem.badges()? \'. Recording conflicts\': \'\'}}\n</span>\n</a>\n<span ng-if="menuItem.badges && menuItem.badges()" class="si si-caution-f"></span>\n</li>\n</ul>\n</div>\n</div>\n</nav>\n',o="js/rdvr/sub-header/sub-header.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},jRHC:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="channel{{$ctrl.channel.channelNumber}}" class="channel-block channel {{$ctrl.channel.col}}" ng-click="$ctrl.toggleFavorite($ctrl.channel, $event)" role="option" aria-checked="{{$ctrl.isFavorite($ctrl.channel)}}" tabindex="-1">\n<img ng-src="{{$ctrl.getLogoUrl($ctrl.channel)}}" alt="{{$ctrl.channel.callsign}}"/>\n<span class="fav-span" ng-class="{\'favIsSpec\': $ctrl.isSpecU }">\n<span class="favChanId" ng-if="!$ctrl.ignoreChannelNumbers">{{$ctrl.getChannelNumber($ctrl.channel)}}</span>\n<span id="sett-channel-name_{{$ctrl.channel.tmsId}}" class="favCallSign">{{$ctrl.channel.callSign}}</span>\n</span>\n<div class="favorite" ng-class="{\'favon\': $ctrl.isFavorite($ctrl.channel)}"></div>\n</div>\n',o="js/settings/favorites/favorite-card.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},jk4t:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="kite-grid program-details" ng-show="!ctrl.asset.isSeries || $ctrl.asset.genres || $ctrl.asset.streamProps.formats.length > 0 || $ctrl.asset.streamProps.attributes.length > 0 || $ctrl.asset.commonSenseMedia || $ctrl.asset.metaCritic">\n<div class="kite-cell kite-cell-12">\n<h2>Details</h2>\n<div class="kite-grid">\n<div class="kite-cell" ng-class="$ctrl.asset.isSeries ? \'kite-cell-4\' : \'kite-cell-7\'" role="list">\n<div class="kite-grid" role="presentation">\n<div class="kite-cell kite-cell-5 media-details" role="presentation" ng-if="!$ctrl.asset.isSeries">\n<div role="listitem" ng-show="$ctrl.asset.directors[0]">\n<span class="h6">director</span>{{::$ctrl.asset.directors[0].name}}\n</div>\n<div role="listitem" ng-show="$ctrl.asset.runtimeDisplay">\n<span class="h6">runtime</span>{{::$ctrl.asset.runtimeDisplay}}\n</div>\n<div role="listitem">\n<span class="h6">expires</span>{{::$ctrl.asset.expires | date:\'shortDate\' || \'Never\'}}\n</div>\n</div>\n<div class="media-details kite-cell" ng-class="$ctrl.asset.isSeries ? \'kite-cell-12\' : \'kite-cell-7\'" role="presentation">\n<div role="listitem" ng-show="$ctrl.asset.genreString">\n<span class="h6">genres</span>{{::$ctrl.asset.genreString}}\n</div>\n<div role="listitem" ng-show="$ctrl.asset.streamProps.formats.length > 0">\n<span class="h6">format</span>{{::$ctrl.asset.streamProps.formats.join(\', \')}}\n</div>\n<div role="listitem" ng-show="$ctrl.asset.streamProps.attributes.length > 0">\n<span class="h6">details</span>{{::$ctrl.asset.streamProps.attributes.join(\', \')}}\n</div>\n</div>\n</div>\n</div>\n<div class="kite-cell kite-cell-5" role="list" aria-label="ratings">\n<div class="kite-grid" role="presentation">\n<div class="kite-cell kite-cell-5" ng-show="$ctrl.asset.commonSenseMedia" role="presentation">\n<div role="listitem">\n<common-sense-rating rating="$ctrl.asset.commonSenseMedia"/>\n</div>\n</div>\n<div class="kite-cell kite-cell-7" ng-show="$ctrl.asset.rottenTomatoes" role="presentation">\n<div role="listitem">\n<rotten-tomatoes-rating ng-if="$ctrl.asset.rottenTomatoes" type="\'rottenTomatoes\'" rating="$ctrl.asset.rottenTomatoes"/>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</section>\n',o="js/product/info/product-details.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},jx2R:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return b});var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("PNUD"),c=n("fwyg"),l=n("UntU"),u=n("uI79"),d=n("u2ZA"),p=!1,h=!1,v=!1;function f(){s.a.getSelectorValue(c.Sf)&&(p=!0),s.a.getSelectorValue(c.Tf)&&(h=!0)}function m(){p=!1,b()}function g(e){Object(u.b)(),Object(d.a)(e),h=!1,b()}function b(){return y.apply(this,arguments)}function y(){return(y=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(l.l)()&&console.log("Analytics: updateUserConfigIfNeeded",{waitingForBuyflowOfferBooleans:h,waitingForPromoType:p}),v||p||h){e.next=7;break}if(v||p||h){e.next=7;break}return e.next=5,Object(l.h)();case 5:Object(l.j)("generic_video_userConfigSet"),v=!0;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}},k6Kb:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<li ng-click="$ctrl.toggleSelection()" class="recording-item" ng-class="{conflict : $ctrl.state !== \'save\'}">\n<div class="conflict-checkbox"><img class="checkbox-image" ng-src="{{$ctrl.checkboxImage()}}"></div>\n<div class="row-title">\n<span class="program-title">{{$ctrl.recording.title}}</span>\n<span class="episode-title" ng-if="$ctrl.recording.episodeTitle">{{$ctrl.recording.episodeTitle}}</span>\n<ovp-rating ng-if="$ctrl.isMovie()" rating="$ctrl.recording.rating"></ovp-rating>\n</div>\n<div class="row-series-episode"><span ng-if="$ctrl.seasonNumber">Season {{$ctrl.recording.seasonNumber}} Episode {{$ctrl.recording.episodeNumber}}</span></div>\n<div class="row-genre">{{$ctrl.genre}}</div>\n<div class="row-start-time">{{$ctrl.startTime}}</div>\n<div class="row-channel">\n<ovp-channel display-type="list" mystro-service-id="$ctrl.recording.mystroServiceId" channel-id="$ctrl.recording.displayChannel"></ovp-channel>\n</div>\n</li>\n',o="js/components/edit-conflict/conflict-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"l7a+":function(e,t,n){"use strict";var r=n("aC7e"),i=Object(r.a)("APPLICATION");i.AUTH_DEPENDENCIES_INITIALIZED="AUTH_DEPENDENCIES_INITIALIZED",i.authDependenciesInitialized=function(){return{type:i.AUTH_DEPENDENCIES_INITIALIZED}},i.UPDATE_CLIENT_TYPE="UPDATE_CLIENT_TYPE",i.updateClientType=function(e){return{type:i.UPDATE_CLIENT_TYPE,payload:e}},t.a=i},losG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="specu-activation-success-container">\n<img ovp-src="/images/logo-specu-horiz.svg" alt="Spectrum U" width="299px" height="47px">\n<div class="si si-checkmark-f icon-kite-green icon-md" aria-hidden="true"></div>\n<h1 tabindex="-2" focus-once class="kite-h3" aria-label="Thanks, you are all set.">Thanks&mdash;you\'re all set!</h1>\n<p>\nThere\'s just one more step to complete on your TV.\n</p>\n</div>\n',o="js/specu/success.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},lt9a:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c});var r="PLAYER_AUTOPLAY_SHOW_FAIL_UI",i="PLAYER_AUTOPLAY_HIDE_FAIL_UI",o="DISMISS_AUTOPLAY_TOOLTIP";function a(){return{type:r}}function s(){return{type:i}}function c(){return{type:o}}},ltgI:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="network-category-list" role="list">\n<div ng-if="!$ctrl.selectedCategory" class="list" ng-repeat="category in $ctrl.categoryList.categories" role="listitem">\n<a class="list-template ovp-product-item" ng-click="$ctrl.showCategory(category)" href="#">\n<div class="network-folder-icon" role="presentation"></div>\n<h4 class="title">{{::category.name}}</h4>\n</a>\n</div>\n<div ng-if="$ctrl.selectedCategory">\n<ovp-grid-list items="$ctrl.selectedCategory.media" options="$ctrl.gridListConfig">\n<grid-items>\n<ovp-product dir-paginate="asset in $ctrl.selectedCategory.media | itemsPerPage: $ctrl.pageSize" asset="asset" options="{hideNWLogo: true}" template="boxart" pagination-id="$ctrl.gridListConfig.id"></ovp-product>\n</grid-items>\n<list-items>\n<ovp-product dir-paginate="asset in $ctrl.selectedCategory.media | itemsPerPage: $ctrl.pageSize" asset="asset" options="{hideNWLogo: true}" template="list" pagination-id="$ctrl.gridListConfig.id"></ovp-product>\n</list-items>\n</ovp-grid-list>\n</div>\n</div>\n',o="js/ondemand/networks/network-category-list.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},mYgA:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<svg focusable="false" aria-hidden="true" role="img" class="ooh-icon-arrow-modal"><use xlink:href="#ooh-arrow-icon" svg-path/></svg>\n<h1 id="ooh-message-heading" class="kite-modal-title kite-h3">{{::$ctrl.modalInstance.options.resolve.title}}</h1>\n<img class="modal-img" aria-hidden="true" role="img" ovp-src="/images/coffee_shop_illustration.svg"/>\n<p id="ooh-message-description" class="kite-modal-description">{{::$ctrl.modalInstance.options.resolve.description}}</p>\n<p class="kite-modal-description" ng-if="$ctrl.modalInstance.options.resolve.description2">{{::$ctrl.modalInstance.options.resolve.description2}}</p>\n<button class="kite-btn kite-btn-primary kite-modal-accept-btn kite-btn-xl" ng-click="$ctrl.modalInstance.close()" type="button">OK</button>\n',o="js/components/ooh-warning-modal/ooh-warning-modal.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},nCUr:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="remote-player-controls" role="application">\n<div class="controller-bar slide-up">\n<div class="controls-container">\n<div class="top-controls enlarge-icons">\n<div class="left-col">\n<div class="gap play-icon-wrapper">\n<img class="control-item-img" ovp-src="/images/play-enlarge-disabled.svg">\n</div>\n<div class="gap">\n<img class="control-item-img" ovp-src="/images/skip-backward-enlarge-disabled.svg">\n</div>\n<div class="gap">\n<img class="control-item-img" ovp-src="/images/skip-forward-enlarge-disabled.svg">\n</div>\n</div>\n<div class="middle-col" ng-class="{\'divider\': vm.isVodMode}">\n<div class="scrubber"></div>\n</div>\n<div class="right-col">\n<div class="gap volume-icon-wrapper">\n<img class="control-item-img" ovp-src="/images/volume-enlarge-disabled.svg">\n</div>\n<div class="gap">\n<img class="control-item-img" ovp-src="/images/full-screen-enlarge-disabled.svg">\n</div>\n</div>\n</div>\n<div class="bottom-controls">\n<div class="left-col asset-metadata control-item">\n<div class="network-logo"><img class="vod-icon-image" ng-src="{{$ctrl.asset.networkImage()}}" ng-if="$ctrl.asset.networkImage && $ctrl.asset.networkImage()" fallback-image="display:none"></div>\n<div class="title-panel">\n<div class="title truncate">{{$ctrl.asset.seriesTitle || $ctrl.asset.title}}</div>\n<div class="title-undercard">\n<ovp-rating class="rating" rating="$ctrl.asset.rating"></ovp-rating>\n<span ng-if="!$ctrl.asset.isEpisode && $ctrl.asset.actorsString" class="actors">{{$ctrl.asset.actorsString}}</span>\n<span ng-if="$ctrl.asset.isEpisode" class="episodeTitle truncate">{{$ctrl.asset.episodeTitle || $ctrl.asset.title}}</span>\n</div>\n</div>\n</div>\n<div class="right-col common-controls">\n<div class="watch-on-tv-icon-wrapper">\n<img class="watch-on-tv-icon" ovp-src="/images/watch-on-tv-disable.svg">\n</div>\n<info-panel asset="$ctrl.asset" class="divider"></info-panel>\n<div tabindex="0" role="button" class="gap closed-caption" ng-click="$ctrl.ccToggle()" prevent-default aria-label="{{($ctrl.isCCEnabled ? \'disable\' : \'enable\') + \' closed captioning\'}}">\n<img class="control-item-img" alt="Closed captioning" ng-mouseover="$ctrl.ccHovered = true" ng-mouseleave="$ctrl.ccHovered = false" ng-src="{{$ctrl.ccToggleImage()}}">\n</div>\n<button tabindex="{{$ctrl.isSAPAvailable ? 0 : -1}}" class="gap sap" ng-class="{\'disabled\': !$ctrl.isSAPAvailable}" aria-disabled="{{$ctrl.isSAPAvailable}}" ng-click="$ctrl.sapToggle()" prevent-default aria-label="{{($ctrl.isSapEnabled ? \'disable\' : \'enable\') + \'SAP / DVS\'}}">\n<img class="control-item-img" ng-mouseenter="$ctrl.sapIconHovered = true" ng-mouseleave="$ctrl.sapIconHovered = false" ng-src="{{$ctrl.sapToggleImage()}}">\n</button>\n<div class="gap" ng-click="$ctrl.showStbCcSettings()" tabindex="0" aria-label="stb closed captioning settings">\n<img alt="Stb Closed captioning settings" class="control-item-img" ng-mouseover="$ctrl.ccSettingsHovered = true" ng-mouseleave="$ctrl.ccSettingsHovered = false" ng-src="{{$ctrl.ccSettingsImage()}}"/>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/components/player/remote-player-controls.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},nXEm:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="modal-kite" role="modal">\n<button type="button" class="close-button" aria-label="Close" ng-click="$ctrl.modalInstance.close(\'closed by user\')"><span aria-hidden="true">&times;</span></button>\n<div class="modal-kite-header">\n<h3 class="modal-title" id="modal-title" ng-bind-html="$ctrl.title"></h3>\n</div>\n<div class="modal-kite-body" id="modal-body" ng-bind-html="$ctrl.body"></div>\n<div class="modal-kite-footer">\n<button class="kite-btn kite-btn-secondary" type="button" ng-if="$ctrl.secondaryButtonText" ng-bind-html="$ctrl.secondaryButtonText" ng-click="$ctrl.onSecondaryButton()">Decline</button>\n<button class="kite-btn kite-btn-primary" type="button" ng-if="$ctrl.primaryButtonText" ng-bind-html="$ctrl.primaryButtonText" ng-click="$ctrl.onPrimaryButton()">Agree</button>\n<div ng-if="$ctrl.tertiaryButtonText">\n<a href="#" ng-bind-html="$ctrl.tertiaryButtonText" ng-click="$ctrl.onTertiaryButton()"></a>\n</div>\n</div>\n</div>\n',o="js/components/modal-kite/modal-kite.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},o99H:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="remotePlayerWrapper" ng-if="$ctrl.isVisible()">\n<div class="remote-screen">\n<div class="remote-player-container" role="region">\n<span class="sr-only" aria-live="assertive" aria-atomic="true" ng-bind="$ctrl.ariaLiveMessage"></span>\n<div class="title">This title has been sent to play on TV named:</div>\n<div class="stb-name"> {{$ctrl.selectedStb.name || $ctrl.selectedStb.macAddress}} </div>\n<div class="remote-logo">\n<img class="remote-icon" ovp-src="images/remote-player.svg">\n</div>\n<div class="description">\nUse your TV remote or device for player controls.\n</div>\n<button class="remote-btn" focus-when="$ctrl.isVisible()" ng-click="$ctrl.switchPlayBack()" ng-bind="$ctrl.buttonText"></button>\n</div>\n</div>\n<remote-player-controls ng-if="$ctrl.asset && $ctrl.selectedStb" asset="$ctrl.asset" stb="$ctrl.selectedStb"></remote-player-controls>\n</div>\n',o="js/components/player/remote-player.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},oEbI:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<nav class="sub-header" aria-label="DVR">\n<div class="sub-header-container">\n<div class="sub-menu-center">\n<ul class="sub-menu">\n<li ng-repeat="menuItem in $ctrl.menuItems" ng-if="menuItem.enabled()" class="{{menuItem.class}}">\n<div ng-if="menuItem.badges && menuItem.badges() > 0" ng-bind="menuItem.badges()" class="badge-count"></div>\n<a ng-attr-aria-current="{{$ctrl.$state.is(menuItem.state) ? \'page\' : undefined}}" ui-sref="{{menuItem.state}}" ui-sref-active="selected" focus-next="{{$ctrl.last && \'.list-btn\' || undefined}}">\n{{menuItem.title}}\n</a>\n</li>\n</ul>\n</div>\n</div>\n</nav>\n',o="js/cdvr/cdvr-sub-header.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},oPuz:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});n("pNMO"),n("TeQF"),n("QWBl"),n("brp2"),n("DQNa"),n("HRxU"),n("eoL8"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r=n("lSNA"),i=n.n(r),o=n("PnGe"),a=n("PNUD"),s=n("UntU"),c=n("fwyg"),l=n("dKXy"),u=n("bB7c"),d=n("7p1Z"),p=n("fwEs"),h=n("I+BT"),v=n("JJK5");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){i()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(){var e=function(){if(1===a.a.getSelectorValue(c.E))return Object(o.a)(d.b.FREE_TRIAL);var e=a.a.getSelectorValue(u.b),t=Object(p.g)(Object(o.c)(e,"promotionalState",""));return Object(o.a)(t)}(),t=a.a.getSelectorValue(u.b),n=Object(o.c)(t,"startDate",Date.now()),r=null===t||void 0===t?void 0:t.expirationDate,i=Object(o.c)(t,"promoId");return{promoStartDate:n,promoEndDate:r,offerId:Object(o.c)(t,"offerId"),promoId:i,promoType:e}}function b(){var e=m(m({},g()),{},{msgTriggeredBy:h.m.APPLICATION});Object(s.j)("OneApp_applicationActivity_promoChange",e)}function y(){if(a.a.getSelectorValue(l.f)){var e=a.a.getSelectorValue(l.e),t=Object(s.g)("visit.chromecastEnabled"),n=e&&!1===t,r=Object(s.g)("visit.connection.networkStatus");if(Object(v.a)()!==r||!t||n){var i=null===t?"OneApp_applicationActivity_chromecastDiscovery":"OneApp_applicationActivity_chromecastDiscovery_update",o={chromecastEnabled:e,opType:"receiverDeviceDiscovery"};Object(s.j)(i,o)}}}},oRAM:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r={appLink:"appLink",appRatings:"appRatings",ccSettings:"ccSettings",ccEnabled:"ccEnabled",channelsSortByType:"channelsSortByType",chromecast:"chromecast",currentStb:"currentStb",currentUser:"currentUser",drmSessionKey:"drmSessionKey",guideFilter:"guideFilter",inHome:"inHome",lastViewedChannelFilter:"lastViewedChannelFilter",loginRememberMe:"loginRememberMe",muted:"muted",parentalControlsAccepted:"parentalControlsAccepted",parentalControlsChannelEnabled:"parentalControlsChannelEnabled",parentalControlsDisabled:"parentalControlsDisabled",parentalControlsLocalPin:"parentalControlsLocalPin",parentalControlsUnlocked:"parentalControlsUnlocked",purchasePinDisabled:"purchasePinDisabled",purchasePinLocal:"purchasePinLocal",rdvrDisplayType:"rdvrDisplayType",recentHistory:"recentHistory",recentSearches:"recentSearches",recordingGridCategoryViewMode:"recordingGridCategoryViewMode",sapEnabled:"sapEnabled",scheduledListViewMode:"scheduledListViewMode",tvsaTermsAccepted:"tvsaTermsAccepted",specuTermsAccepted:"specuTermsAccepted",loginTermsAccepted:"loginTermsAccepted",bulkMDUTermsAccepted:"bulkMDUTermsAccepted",vodMinorCategoryViewMode:"vodMinorCategoryViewMode",volumeLevel:"volumeLevel",vpnsAvailableTypes:"vpnsAvailableTypes",vpnsClientId:"vpnsClientId",vpnsRegistrationData:"vpnsRegistrationData",vpnsSessionId:"vpnsSessionId",deviceId:"device_id",env:"env",cdvr:"cdvrEnv",environmentTools:"environmentTools",environmentToolsMinimized:"environmentToolsMinimized",configOverride:"configOverride",figaroOverride:"figaroOverride",httpOverride:"httpOverride",cdvrOverride:"cdvrOverride",bulkMDUOverrideEnabled:"bulkMDUOverrideEnabled",bulkMDUPCSettingsOverrideEnabled:"bulkMDUPCSettingsOverrideEnabled",activateSpecU:"activateSpecU",onDemandScrollCachePosition:"onDemandScrollCachePosition",tvsaUserName:"tvsa",specUUserName:"specu",bulkMDUUserName:"bulkMDU",autoAuthSignOutTime:"autoAuthSignOutTime",ignoreMobileCheck:"ignoreMobileCheck",cdvrStorageFullDialogDay:"cdvrStorageFullDialogDay",cdvrStorageFullDialogCounter:"cdvrStorageFullDialogCounter",specUToBulkMDU:"specUToBulkMDU",aegis:"aegis",rdvrFilter:"rdvrFilter",xFigaroConfig:"xFigaroConfig",autoPlayEnabled:"autoPlayEnabled",chromecastTooltipShown:"chromecastTooltipShown",devicePickerTooltipShown:"devicePickerTooltipShown",miniPlayerEnabled:"miniPlayerEnabled",hidePipSettingTooltip:"hidePipSettingTooltip",castUsername:"castUsername",castPassword:"castPassword",playerPreviousBitrates:"playerPreviousBitrates",tempToken:"tempToken",specUDomainName:"specUDomainName",completedContentAlerts:"completedContentAlerts",deepLinkRoute:"deepLinkRoute",showReminderModal:"showReminderModal",activationCode:"activationCode",startupChannel:"startupChannel",startupChannelEnabled:"startupChannelEnabled",startupChannelStrategy:"startupChannelStrategy",userIdHash:"userIdHash"},i={USER:"USER",LOCAL:"LOCAL",SESSION:"SESSION"},o={aegis:{keyName:"aegis",location:i.USER},appLink:{keyName:"appLink",location:i.LOCAL},deepLinkRoute:{keyName:"deepLinkRoute",location:i.SESSION},appVersion:{keyName:"appVersion",location:i.SESSION},ccEnabled:{keyName:"ccEnabled",location:i.USER},ccSettings:{keyName:"ccSettings",location:i.USER},channelsSortByType:{keyName:"channelsSortbyType",location:i.USER},chromecast:{keyName:"chromecast",location:i.SESSION},currentStb:{keyName:"currentStb",location:i.USER},currentUser:{keyName:"currentUser",location:i.LOCAL},drmSessionKey:{keyName:"drmSession",location:i.SESSION},guideFilter:{keyName:"guideFilter",location:i.USER},inHome:{keyName:"inHome",location:i.SESSION},lastViewedChannelFilter:{keyName:"lastViewedChannelFilter",location:i.USER},loginRememberMe:{keyName:"loginRememberMe",location:i.LOCAL},muted:{keyName:"muted",location:i.USER},parentalControlsAccepted:{keyName:"parentalControlsAccepted",location:i.USER},parentalControlsChannelEnabled:{keyName:"parentalControlsChannelEnabled",location:i.USER},parentalControlsDisabled:{keyName:"parentalControlsDisabled",location:i.USER},parentalControlsLocalPin:{keyName:"parentalControlsLocalPin",location:i.USER},parentalControlsUnlocked:{keyName:"parentalControlsUnlocked",location:i.SESSION},purchasePinDisabled:{keyName:"purchasePinDisabled",location:i.USER},purchasePinLocal:{keyName:"purchasePinLocal",location:i.USER},rdvrDisplayType:{keyName:"rdvrDisplayType",location:i.USER},recentHistory:{keyName:"recentHistory",location:i.USER},recentSearches:{keyName:"recentSearches",location:i.USER},recordingGridCategoryViewMode:{keyName:"recordingGridCategoryViewMode",location:i.USER},sapEnabled:{keyName:"sapEnabled",location:i.USER},scheduledListViewMode:{keyName:"scheduledListViewMode",location:i.USER},tvsaTermsAccepted:{keyName:"tvsaTermsAccepted",location:i.USER},specuTermsAccepted:{keyName:"specuTermsAccepted",location:i.USER},loginTermsAccepted:{keyName:"loginTermsAccepted",location:i.USER},bulkMDUTermsAccepted:{keyName:"bulkMDUTermsAccepted",location:i.USER},volumeLevel:{keyName:"volumeLevel",location:i.USER},vpnsAvailableTypes:{keyName:"vpnsAvailableTypes",location:i.LOCAL},vpnsClientId:{keyName:"vpnsClientId",location:i.LOCAL},vpnsRegistrationData:{keyName:"vpnsRegistrationData",location:i.LOCAL},vpnsSessionId:{keyName:"vpnsSessionId",location:i.LOCAL},deviceId:{keyName:"deviceId",location:i.LOCAL},env:{keyName:"env",location:i.LOCAL},cdvrStorageFullDialogDay:{keyName:"cdvrStorageFullDialogDay",location:i.USER},cdvrStorageFullDialogCounter:{keyName:"cdvrStorageFullDialogCounter",location:i.USER},cdvrEnv:{keyName:"cdvr",location:i.SESSION},environmentTools:{keyName:"environmentTools",location:i.SESSION},environmentToolsMinimized:{keyName:"environmentTools-minimized",location:i.SESSION},configOverride:{keyName:"configOverride",location:i.SESSION},figaroOverride:{keyName:"figaroOverride",location:i.SESSION},httpOverride:{keyName:"httpOverride",location:i.SESSION},activateSpecU:{keyName:"activateSpecU",location:i.SESSION},cdvrOverride:{keyName:"cdvrOverride",location:i.SESSION},bulkMDUOverrideEnabled:{keyName:"bulkMDUOverrideEnabled",location:i.SESSION},bulkMDUPCSettingsOverrideEnabled:{keyName:"bulkMDUPCSettingsOverrideEnabled",location:i.SESSION},onDemandScrollCachePosition:{keyName:"onDemandScrollCachePosition",location:i.SESSION},autoAuthSignOutTime:{keyName:"autoAuthSignOutTime",location:i.LOCAL},ignoreMobileCheck:{keyName:"ignoreMobileCheck",location:i.SESSION},rdvrFilter:{keyName:"rdvrFilter",location:i.USER},autoPlayEnabled:{keyName:"autoPlayEnabled",location:i.USER},miniPlayerEnabled:{keyName:"miniPlayerEnabled",location:i.USER},hidePipSettingTooltip:{keyName:"hidePipSettingTooltip",location:i.USER},xFigaroConfig:{keyName:"xFigaroConfig",location:i.SESSION},chromecastTooltipShown:{keyName:"chromecastTooltipShown",location:i.USER},devicePickerTooltipShown:{keyName:"devicePickerTooltipShown",location:i.USER},castUsername:{keyName:"castUsername",location:i.USER},castPassword:{keyName:"castPassword",location:i.USER},playerPreviousBitrates:{keyName:"player_previousBitrates",location:i.SESSION},tempToken:{keyName:"tempToken",location:i.SESSION},specUDomainName:{keyName:"specUDomainName",location:i.LOCAL},completedContentAlerts:{keyName:"completedContentAlerts",location:i.USER},showReminderModal:{keyName:"showReminderModal",location:i.LOCAL},activationCode:{keyName:"activationCode",location:i.SESSION},startupChannel:{keyName:"startupChannel",location:i.USER},startupChannelEnabled:{keyName:"startupChannelEnabled",location:i.USER},startupChannelStrategy:{keyName:"startupChannelStrategy",location:i.USER},userIdHash:{keyName:"userIdHash",location:i.LOCAL}}},oc7q:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-if="$ctrl.hasRdvrVersion2()" class="priority">\n<h1 tabindex="-1" class="sr-only" id="screen_title" focus-once>DVR, Series Priority</h1>\n<rdvr-toolbar></rdvr-toolbar>\n<header ng-if="!$ctrl.loading">\n<div role="heading" aria-level="2" ng-if="!$ctrl.error && $ctrl.seriesPriorities.length === 0" class="empty-message">\nThere are no scheduled series on this DVR.\n</div>\n</header>\n<p ng-if="!ctrl.error && $ctrl.seriesPriorities.length > 0" class="instructions">\nDrag your favorite shows towards the top of the list to set their recording priority.\n</p>\n<ul ovp-sortable="$ctrl.seriesPriorities" class="rdvr-list">\n<li ng-repeat="seriesPriority in $ctrl.seriesPriorities">\n<div class="row-title">{{::seriesPriority.programMetadata.title}}</div>\n<ovp-sortable-handle></ovp-sortable-handle>\n<ovp-channel mystro-service-id="seriesPriority.mystroServiceId" channel-id="seriesPriority.displayChannel" display-type="list"></ovp-channel>\n</li>\n</ul>\n</div>\n',o="js/rdvr/priority/priority.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ogu7:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="slider" aria-valuemin="0" aria-valuemax="{{$ctrl.ratings.length}}" aria-valuenow="{{$ctrl.getIndexOfRating(currentRating)}}" aria-valuetext="{{$ctrl.currentDescription()}}" aria-label="{{$ctrl.label}}" tabindex="0" ng-keydown="$ctrl.onKeydown($event)">\n<a class="rating-tile" ng-class="{blocked: $ctrl.ratingIsBlocked(rating)}" ng-repeat="rating in $ctrl.ratings" ng-click="$ctrl.ratingClicked(rating)" ng-mouseover="$ctrl.hoveredRating = rating; $ctrl.hovered = true;" ng-mouseleave="$ctrl.hoveredRating = \'\'; $ctrl.hovered = false;">\n<div class="label">{{rating}}</div>\n<span class="twcicon-svg twcicon-svg-lock" aria-hidden="true" aria-label="lock-icon"></span>\n<span class="sr-only" ng-if="!$ctrl.ratingIsBlocked(rating)">block {{rating}}</span>\n<span class="sr-only" ng-if="$ctrl.ratingIsBlocked(rating)">unblock {{rating}}</span>\n</a>\n</div>\n',o="js/components/ovp/ovp-parental-controls-slider/ovp-parental-controls-slider.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ozyn:function(e,t,n){var r;void 0===(r=function(e,t,n){
/*!
     * exports.
     */
n.exports=function(e){var t;Array.isArray(e)?t=e:(e=e.replace(/\[(\d+)\]/g,".$1"),t=e.split("."));function n(e){for(var n=null!=e?e:(0,eval)("this"),r=t.length,i=0;i<r;i+=1)null!=n&&(n=n[t[i]]);return n}return arguments.length>1?n(arguments[1]):n}}.call(t,n,t,e))||(e.exports=r)},p0Ps:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("5rFJ")),a=n("KYMe"),s=n("fwyg"),c=n("Aa8z"),l=n("M5PJ"),u=n("hWvj"),d=n("3V2u"),p=n("5+k9"),h=n("zPQq"),v=i.a.mark(g),f=i.a.mark(b),m=function(e){return 60*+e*1e3};function g(){var e,t,n,r,p,f,g;return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(o.g)(u.b);case 2:return e=i.sent,i.next=5,Object(o.g)(d.c);case 5:if(t=i.sent,!e&&t){i.next=8;break}return i.abrupt("return",{});case 8:return i.prev=8,i.next=11,Object(o.d)(l.a.request());case 11:return i.next=13,Object(o.g)(c.g);case 13:return n=i.sent,i.next=16,Object(o.g)(s.Fc);case 16:return r=+(r=i.sent),i.next=20,Object(o.g)(s.Gc);case 20:return p=i.sent,p=m(p),i.next=24,Object(o.f)(r,p,a.default.get,{url:n,withCredentials:!0,includeDeviceId:!0});case 24:return f=i.sent,g=f.data,i.next=28,Object(o.d)(l.a.success(g));case 28:return i.next=30,Object(o.b)(h.b);case 30:i.next=36;break;case 32:return i.prev=32,i.t0=i.catch(8),i.next=36,Object(o.d)(l.a.failure(i.t0));case 36:case"end":return i.stop()}},v,null,[[8,32]])}function b(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.h)(p.a);case 2:return t.next=4,Object(o.g)(s.Ec);case 4:e=t.sent,e=m(e);case 6:return t.next=9,Object(o.c)(e);case 9:return t.next=11,Object(o.g)(d.c);case 11:if(!t.sent){t.next=15;break}return t.next=15,Object(o.b)(g);case 15:t.next=6;break;case 17:case"end":return t.stop()}},f)}},p9ZU:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="hero-banner-product" tabindex="-1" ovp-click="$ctrl.onAssetSelected()" role="presentation">\n<div class="background-image" ng-class="{\'background-blur\': $ctrl.showBoxArt}" ng-style="{\'background-image\': \'url(\' + $ctrl.getBackgroundImage() + \')\'}"></div>\n<div class="gradiant"></div>\n<img ng-class="{\'boxart-image-visible\': $ctrl.showBoxArt}" class="boxart-image" ng-src="{{$ctrl.getBackgroundImage()}}" alt="" aria-hidden="true">\n<div class="description" tabindex="{{$ctrl.isHidden ? -1 : 0}}" ovp-click="$ctrl.onAssetSelected()" role="{{$ctrl.canPlay ? \'button\' : \'link\'}}">\n<div class="title-container kite-h1" ng-style="{\'margin-bottom\': ($ctrl.canPlay) ? \'-5px\' : \'5px\'}">\n<div ng-bind="$ctrl.title"></div>\n<div ng-if="$ctrl.canPlay" class="play-icon" tabindex="-1">\n<svg focusable="false" aria-hidden="true" role="img" class="play-icon-overlay"><use xlink:href="#play-icon-overlay" svg-path/></svg>\n</div>\n</div>\n<div class="sub-title-container">\n<div class="sub-title kite-h2 truncate" ng-class="{\'larger-title\': !$ctrl.rentalExpiration.length > 0}" ng-bind="$ctrl.subTitle"></div>\n<div ng-if="$ctrl.hasBookmark" class="sr-only">, {{$ctrl.playedPct | number:0}} % watched, </div>\n<div class="rental-expiration kite-h2 truncate" ng-bind="$ctrl.rentalExpiration"></div>\n</div>\n<progress-bar class="progress-bar-container" ng-if="$ctrl.hasBookmark" hide-aria="true" background-color="transparent" percent-played="::$ctrl.playedPct"/>\n</div>\n</div>\n',o="js/my-library/components/hero-banner-product.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pMrH:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="recentSearches" class="recentSearches" fadein-immediate>\n<div ng-if="$ctrl.recentSearches.length > 0" class="search-results-container">\n<div class="container">\n<div class="search-results-group col-1">\n<h4 class="category-header">Recent Searches</h4>\n<div role="application" aria-label="Recent searches category use arrow keys to review items" class="search-results" ng-keydown="$ctrl.onKey($event)"><div role="listitem" ng-repeat="recent in $ctrl.recentSearches" ng-class="{active: $ctrl.activeIndex == $index}" ng-mouseover="$ctrl.selectRecent($index)" ng-click="$ctrl.click(recent)" focus-when="$ctrl.isActiveElement($index)" focus-next=".top-level-nav__logo" focus-previous=".exit-search" ng-attr-tabindex="{{$first && \'0\' || \'-1\'}}" class="search-result" ng-focus="$ctrl.selectRecent($index)">\n{{recent | titleCase}}\n</div>\n<div tabindex="-1" class="search-result search-clear" ng-click="$ctrl.clear()" focus-next=".top-level-nav__logo" focus-previous=".exit-search" role="button">\nClear recent searches\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/search/result-pages/recent-searches.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pOtq:function(e,t,n){!function(){var n={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(e,t){var r="string"==typeof e.initial?{state:e.initial}:e.initial,i=e.terminal||e.final,o=t||e.target||{},a=e.events||[],s=e.callbacks||{},c={},l={},u=function(e){var t=e.from instanceof Array?e.from:e.from?[e.from]:[n.WILDCARD];c[e.name]=c[e.name]||{};for(var r=0;r<t.length;r++)l[t[r]]=l[t[r]]||[],l[t[r]].push(e.name),c[e.name][t[r]]=e.to||t[r]};r&&(r.event=r.event||"startup",u({name:r.event,from:"none",to:r.state}));for(var d=0;d<a.length;d++)u(a[d]);for(var p in c)c.hasOwnProperty(p)&&(o[p]=n.buildEvent(p,c[p]));for(var p in s)s.hasOwnProperty(p)&&(o[p]=s[p]);return o.current="none",o.is=function(e){return e instanceof Array?e.indexOf(this.current)>=0:this.current===e},o.can=function(e){return!this.transition&&(c[e].hasOwnProperty(this.current)||c[e].hasOwnProperty(n.WILDCARD))},o.cannot=function(e){return!this.can(e)},o.transitions=function(){return l[this.current]},o.isFinished=function(){return this.is(i)},o.error=e.error||function(e,t,n,r,i,o,a){throw a||o},r&&!r.defer&&o[r.event](),o},doCallback:function(e,t,r,i,o,a){if(t)try{return t.apply(e,[r,i,o].concat(a))}catch(t){return e.error(r,i,o,a,n.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",t)}},beforeAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e.onbeforeevent,t,r,i,o)},afterAnyEvent:function(e,t,r,i,o){return n.doCallback(e,e.onafterevent||e.onevent,t,r,i,o)},leaveAnyState:function(e,t,r,i,o){return n.doCallback(e,e.onleavestate,t,r,i,o)},enterAnyState:function(e,t,r,i,o){return n.doCallback(e,e.onenterstate||e.onstate,t,r,i,o)},changeState:function(e,t,r,i,o){return n.doCallback(e,e.onchangestate,t,r,i,o)},beforeThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onbefore"+t],t,r,i,o)},afterThisEvent:function(e,t,r,i,o){return n.doCallback(e,e["onafter"+t]||e["on"+t],t,r,i,o)},leaveThisState:function(e,t,r,i,o){return n.doCallback(e,e["onleave"+r],t,r,i,o)},enterThisState:function(e,t,r,i,o){return n.doCallback(e,e["onenter"+i]||e["on"+i],t,r,i,o)},beforeEvent:function(e,t,r,i,o){if(!1===n.beforeThisEvent(e,t,r,i,o)||!1===n.beforeAnyEvent(e,t,r,i,o))return!1},afterEvent:function(e,t,r,i,o){n.afterThisEvent(e,t,r,i,o),n.afterAnyEvent(e,t,r,i,o)},leaveState:function(e,t,r,i,o){var a=n.leaveThisState(e,t,r,i,o),s=n.leaveAnyState(e,t,r,i,o);return!1!==a&&!1!==s&&(n.ASYNC===a||n.ASYNC===s?n.ASYNC:void 0)},enterState:function(e,t,r,i,o){n.enterThisState(e,t,r,i,o),n.enterAnyState(e,t,r,i,o)},buildEvent:function(e,t){return function(){var r=this.current,i=t[r]||t[n.WILDCARD]||r,o=Array.prototype.slice.call(arguments);if(this.transition)return this.error(e,r,i,o,n.Error.PENDING_TRANSITION,"event "+e+" inappropriate because previous transition did not complete");if(this.cannot(e))return this.error(e,r,i,o,n.Error.INVALID_TRANSITION,"event "+e+" inappropriate in current state "+this.current);if(!1===n.beforeEvent(this,e,r,i,o))return n.Result.CANCELLED;if(r===i)return n.afterEvent(this,e,r,i,o),n.Result.NOTRANSITION;var a=this;this.transition=function(){return a.transition=null,a.current=i,n.enterState(a,e,r,i,o),n.changeState(a,e,r,i,o),n.afterEvent(a,e,r,i,o),n.Result.SUCCEEDED},this.transition.cancel=function(){a.transition=null,n.afterEvent(a,e,r,i,o)};var s=n.leaveState(this,e,r,i,o);return!1===s?(this.transition=null,n.Result.CANCELLED):n.ASYNC===s?n.Result.PENDING:this.transition?this.transition():void 0}}};e.exports&&(t=e.exports=n),t.StateMachine=n}()},pQ4o:function(e,t){!function(){"use strict";angular.module("ovpApp.product.details",[]).component("productDetails",{bindings:{asset:"<"},templateUrl:"js/product/info/product-details.html"})}()},pQH6:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"i",function(){return v});var r="UPDATE_GUIDE_DATA",i="UPDATE_CURRENT_GUIDE_SORT",o="UPDATE_CURRENT_GUIDE_FILTER",a="UPDATE_GUIDE_SORTS",s="UPDATE_GUIDE_FILTERS",c="UPDATE_FILTERS_VISIBLE",l=function(e){return{type:r,payload:e}},u=function(e){return{type:i,payload:e}},d=function(e){return{type:o,payload:e}},p=function(e){return{type:a,payload:e}},h=function(e){return{type:s,payload:e}},v=function(e){return{type:c,payload:e}}},pSUN:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button class="sap button-just-icon" ovp-click="$ctrl.isSapAvailable ? $ctrl.sapToggle() : \'\' " aria-label="S A P DVS" aria-pressed="{{$ctrl.isSapEnabled ? \'true\' : \'false\'}}" ng-disabled="!$ctrl.isSapAvailable" ng-class="{\'disabled\': !$ctrl.isSapAvailable}">\n<img alt="S A P DVS" class="control-item-img" ng-mouseenter="$ctrl.sapIconHovered = true" ng-mouseleave="$ctrl.sapIconHovered = false" ng-src="{{$ctrl.sapToggleImage()}}">\n</button>\n',o="js/components/player/toggle-sap.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pXJ4:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="login-error" id="login-error">\n<div class="error-icon">\n<span class="si si-circle-caution-f"/>\n</div>\n<div class="error-message">\n<p error-codes="{{errorCode}}"></p>\n</div>\n</div>\n',o="js/login/errors/login-error-suspicious-auth.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pboN:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="my-library">\n<h1 focus-once class="sr-only" tabindex="-1">{{$ctrl.sectionLabel}}</h1>\n<hero-banner role="region" aria-labelledby="hero-banner-label" swimlane-index="0" total-swimlanes="5"></hero-banner>\n<div class="swimlanes-container">\n<recently-watched swimlane-index="1" total-swimlanes="5"></recently-watched>\n<recent-channels swimlane-index="2" total-swimlanes="5"></recent-channels>\n<watchlist swimlane-index="3" total-swimlanes="5"></watchlist>\n<favorite-channels swimlane-index="4" total-swimlanes="5"></favorite-channels>\n</div>\n</div>\n',o="js/my-library/my-library.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pljR:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="delete-time-block-container">\n<div class="delete-time-block-title">\n<h4>Delete a Timeblock</h4>\n</div>\n<div>\n<div class="form-item">\n<h5>Choose Timeblock to Delete:</h5>\n<ovp-dropdown-list items="$ctrl.timeBlocks" config="$ctrl.timeBlockDropdownConfig" autofocus></ovp-dropdown-list>\n</div>\n</div>\n<div class="delete-time-block-footer">\n<ovp-button label="Close" on-click="$ctrl.onClose()"></ovp-button>\n<ovp-button label="Delete" on-click="$ctrl.onDelete()"></ovp-button>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-timeblock/stb-deleteTimeBlock.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},pzt5:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="ooh-seperator-container banner" ng-if="$ctrl.showOohBanner">\n<ooh-separator></ooh-separator>\n</div>\n<div hidden id="mini_guide_arrow_desc">Use arrow keys to navigate</div>\n<ul id="channel-browser" class="channel-list" tabindex="-1" role="application" aria-label="Browse Channels" aria-describedby="mini_guide_arrow_desc" vs-repeat>\n<li class="channel channel-list-item" id="channel-list-item-{{channel.localChannelNumber + \'-\' + channel.channelId}}" ovp-click="channel.isDividerMockChannel ? angular.noop() : $ctrl.parent.selectChannel(channel, $event)" selectable ng-focus="$ctrl.parent.onChannelFocussed(channel);" ng-blur="$ctrl.parent.showNavInstruction = false;" ng-class="{tuned: channel.available && !channel.isDividerMockChannel && $ctrl.parent.selectedChannel === channel, selected: $ctrl.parent.focusedChannel === channel, transparency: channel.available === false}" tabindex="{{($ctrl.parent.selectedChannel === channel) ? 0 : -1}}" ng-attr-role="{{!channel.isDividerMockChannel ? \'button\' : \'heading\'}}" ng-attr-aria-label="{{channel.isDividerMockChannel ? $ctrl.separatorMessage : undefined}}" ng-repeat="channel in $ctrl.channels">\n<div class="ooh-seperator-container" ng-if="channel.isDividerMockChannel">\n<ooh-separator></ooh-separator>\n</div>\n<div class="channel-block" ng-if="!channel.isDividerMockChannel" ng-class="{\'channel-block-tuned\': channel.available && $ctrl.parent.selectedChannel === channel,\n                                                \'channel-block-focused\': channel.available && $ctrl.parent.focusedChannel === channel }">\n<div class="logo">\n<img aria-hidden="true" alt="" class="logo-url" ng-src="{{channel.networkLogoUri}}">\n</div>\n<div class="channel-number-callsign">\n<div class="chan-call-group">\n<div ng-if="!($ctrl.ignoreChannelNumbers)" class="channel-number" ng-class="{\'text-highlight\': channel.available && $ctrl.parent.selectedChannel === channel}">{{channel.localChannelNumber}}</div>\n<div aria-label="{{channel.networkName}}" class="callsign" ng-class="{\'text-highlight\': channel.available && $ctrl.parent.selectedChannel === channel}">{{channel.callSign}}</div>\n</div>\n</div>\n</div>\n<div class="program-title" ng-if="!channel.isDividerMockChannel">\n<div class="title-episode">\n<div class="truncate title" ng-class="{\'product-title\': !channel.episodeTitle}">{{channel.channelTitle}}<span ng-if="!channel.channelTitle" error-codes="WGU-1009"></span></div>\n<div class="truncate episode" ng-class="{\'text-highlight\': channel.available && $ctrl.parent.selectedChannel === channel}" ng-if="channel.episodeTitle">{{channel.episodeTitle}}</div>\n<span class="sr-only" ng-if="$ctrl.parent.selectedChannel === channel">\nCurrent channel,\n</span>\n</div>\n</div>\n<div class="status-icon" ng-if="channel.asset.isBlockedByParentalControls && !channel.isDividerMockChannel">\n<span class="twcicon-svg twcicon-svg-lock" aria-hidden="true"></span>\n<span class="sr-only">Blocked,</span>\n</div>\n<span ng-if="!channel.isDividerMockChannel && channel.hasLinkedVODAsset" class="action-icon" ng-click="$ctrl.parent.startOver(channel, $event);" tabindex="-1">\n<span class="sr-only">\nAlso Available On Demand,\n</span>\n<img aria-hidden="true" alt="" class="mini-guide-start-over" ovp-src="/images/replay.svg" ng-class="{\'no-pointer\': !channel.available}"/>\n</span>\n<span ng-if="!channel.available" class="sr-only">Streaming Unavailable.</span>\n</li>\n</ul>\n',o="js/components/mini-guide/channel-list.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},r6D7:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>{{::$ctrl.sectionLabel}}</h1>\n<div class="swimlanes-container">\n<div ng-repeat="category in $ctrl.data.categories">\n<ovp-carousel items="category.media" options="{title: category.name, viewAllUri: $ctrl.viewAllUris[$index], swimlaneIndex: $index, totalSwimlanes: $ctrl.data.categories.length, personalized: category.skeletonShelf === true}" on-limit-changed="$ctrl.updateLimit(limit)">\n<ovp-product ng-repeat="asset in category.media | limitTo: $ctrl.itemLimit" asset="asset"></ovp-product>\n</ovp-carousel>\n</div>\n</div>\n',o="js/ondemand/gallery-summary-page/gallery-summary-page.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},rd4J:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="mobile-login kite-grid">\n<div class="kite-card kite-card-active">\n<header>\n<img ng-if="$ctrl.logo" ng-src="{{$ctrl.logo.url}}" alt="" aria-hidden="true">\n<span ng-if="$ctrl.iconClass" class="{{$ctrl.iconClass}}" aria-hidden="true"></span>\n<h1 ng-bind="$ctrl.heading"></h1>\n</header>\n<p ng-bind="$ctrl.message"></p>\n<div class="store-links">\n<a class="link" aria-label="{{$ctrl.store.ariaLabel}}" role="link" target="_self" href="{{$ctrl.store.link}}" ng-click="$ctrl.downloadApp()"><img alt="{{$ctrl.store.alt}}" ng-src="{{$ctrl.store.imageUrl}}"/></a>\n</div>\n</div>\n</section>\n',o="js/components/mobile-login/mobileLogin.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},rsxv:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="row">\n<div class="col-xs-8">\n<div role="heading" aria-level="2" id="parental-controls-label" class="odn-setting-label setting-label">Share In Progress List</div>\n<p class="help-block" id="share-list-desc">Display watched On Demand shows on all boxes in your home.</p>\n</div>\n<div class="col-xs-8 text-right">\n<ovp-switch id="pc_enabled" role="button" aria-label="Share In Progress List" aria-describedby="share-list-desc" aria-pressed="{{$ctrl.shareInProgressListEnabledForClient ? \'true\' : \'false\'}}" ng-click="$ctrl.toggleShareInProgressList($event);" button-enabled="{{$ctrl.shareInProgressListEnabledForClient}}" prevent-default>\n</ovp-switch>\n</div>\n</div>\n',o="js/settings/stb-parentalControls/stb-shareInProgressList.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"s+YT":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button class="closed-caption" ovp-click="$ctrl.ccToggle(!$ctrl.isCCEnabled)" prevent-default aria-label="Closed captions" aria-pressed="{{$ctrl.isCCEnabled ? \'true\' : \'false\'}}">\n<img class="control-item-img" alt="Closed captions" aria-hidden="true" ng-mouseover="$ctrl.hovered = true" ng-mouseleave="$ctrl.hovered = false" ng-src="{{$ctrl.ccToggleImage()}}">\n</button>\n',o="js/components/player/toggle-cc.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"sY/x":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div uib-dropdown on-toggle="vm.toggled(open)" is-open="vm.status.isOpen" class="dropdown-menu-container">\n<a href="#" uib-dropdown-toggle role="presentation" focus-when="vm.focusButton" ng-focus="vm.onFocus()" ng-blur="vm.onBlur()">{{vm.getTitle()}}</a>\n<ul class="dropdown-menu" ng-class="{\'right-align\': vm.config.rightAlign}" uib-dropdown-menu role="menu">\n<li ng-if="vm.config.description" class="description">{{vm.config.description}}</li>\n<li ng-repeat="item in vm.items" ng-class="item.class" role="presentation">\n<a role="menuitem" ng-blur="vm.onDropDownMenuItemBlur($last)" ng-click="vm.click(item)" href="#">{{item.text}}</a>\n</li>\n</ul>\n</div>\n',o="js/directives/ovp-dropdown.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},sZCr:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="ovpScrubber">\n<div class="ovp-start">{{$ctrl.value | hhmmss}}</div>\n<div class="ovpScrubberContainer">\n<div class="slider" ng-keyup="$ctrl.onKeyUp($event)" ng-blur="$ctrl.blurSwitchForUiV2()" tabindex="0" role="slider" aria-label="Video slider" aria-describedby="scrubber-described" aria-valuemin="0" aria-valuemax="{{$ctrl.valueMax()}}" aria-valuenow="{{$ctrl.valueNow()}}" aria-valuetext="{{$ctrl.value | hhmmss}}">\n<div class="slider-container" ng-mouseenter="$ctrl.onMouseEnter($event)" ng-mousemove="$ctrl.onMouseMove($event)" ng-mouseleave="$ctrl.onMouseLeave($event)">\n<div ng-click="$ctrl.onSliderClick($event)" tabindex="-1" ng-class="{\'slider-disabled\': $ctrl.seeking}" role="slider">\n<div class="slider-track">\n<div class="slider-track-low" style="left: 0px; width: 0%;"></div>\n<div class="slider-selection" ng-style="$ctrl.calcSliderSelectionStyle()"></div>\n<div class="slider-track-high" ng-style="$ctrl.calcSliderHighStyle()" ng-class="{\'has-buffer\': $ctrl.showBuffer}"></div>\n<div ng-if="$ctrl.showBuffer" class="slider-track-buffer" ng-style="$ctrl.calcSliderBufferStyle()"></div>\n</div>\n<div class="ad-track">\n<div class="ad-break" ng-repeat="adBreak in $ctrl.adBreaks" ng-style="$ctrl.calcAdBreakStyle(adBreak)"></div>\n</div>\n</div>\n<div class="slider-handle" draggable ng-disabled="{{$ctrl.seeking || $ctrl.cdvrScrubbingDisabled}}" ng-style="$ctrl.sliderHandlePosition"></div>\n</div>\n<p id="scrubber-described" class="sr-only"> {{$ctrl.calcStartTime() | hhmmss}} / {{$ctrl.max | hhmmss}} {{$ctrl.getTooltipMessage()}}"></p>\n<div class="slider-tooltip" ng-class="{\'slider-tooltip-focus\': $ctrl.sliderFocused,\n        \'ff-disabled\': ($ctrl.ffDisabled && (!$ctrl.mousePosition || !$ctrl.isMouseOnSelectedSlider))}" role="presentation" ng-style="$ctrl.calcTooltipPosition().tooltip">\n<div class="slider-tooltip-arrow-border" ng-style="$ctrl.calcTooltipPosition().tooltipArrow"></div>\n<div class="slider-tooltip-arrow" ng-style="$ctrl.calcTooltipPosition().tooltipArrow"></div>\n<div class="slider-tooltip-content">\n<div>\n{{$ctrl.calcStartTime() | hhmmss}} / {{$ctrl.max | hhmmss}}\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class="ovp-end">{{$ctrl.max | hhmmss}}</div>\n</div>\n',o="js/components/player/ovp-scrubber.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},saHx:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="recording-item" ng-class="{conflict: $ctrl.recording.conflicted}">\n<div class="recording-item-wrapper">\n<a id="recording-item-{{$ctrl.idIndex}}" class="col-md-15 recording-item-content" href="#" aria-label="{{$ctrl.recordingDescription}}" ng-click="$ctrl.showProductPage()">\n<span class="col-md-6 truncate">{{::$ctrl.recording.title}}</span>\n<div class="col-md-6">\n<ovp-rating class="col-md-4" ng-if="$ctrl.recording.isMovie" rating="$ctrl.recording.rating"></ovp-rating>\n<span class="col-md-4" aria-label="{{$ctrl.recording.releaseInformation}}" ng-if="$ctrl.recording.releaseShortInformation">{{::$ctrl.recording.releaseShortInformation}}</span>\n<span class="col-md-12 truncate" ng-if="$ctrl.recording.episodeTitle">{{::$ctrl.recording.episodeTitle}}</span>\n</div>\n<div class="col-md-2">{{::$ctrl.startTime}}</div>\n<ovp-channel class="col-md-2" display-type="list" mystro-service-id="$ctrl.recording.mystroServiceId" channel-id="$ctrl.recording.displayChannel"></ovp-channel>\n</a>\n<div id="cancel-button-{{$ctrl.idIndex}}" class="col-md-1 cancel-btn" role="button" aria-label="cancel" aria-describedby="cancel-button-description-{{$ctrl.idIndex}}" ng-blur="$ctrl.onCancelButtonFocus()" ng-click="$ctrl.productActionClicked()">\n<span id="cancel-button-description-{{$ctrl.idIndex}}" style="display: none">{{$ctrl.cancelButtonDescription}}</span>\n<span class="si si-x-f" aria-hidden="true"></span>\n<span>\nCancel\n</span>\n</div>\n</div>\n<div ng-if="$ctrl.recording.conflicted" class="conflict-header kite-grid" role="none" ng-click="$ctrl.showConflictPopup()">\n<div aria-hidden="true" class="kite-cell-6">\n<span class="si si-caution-f"></span>\n<span class="conflict-message">{{$ctrl.conflictMessage}}</span>\n</div>\n<div class="kite-cell-6 text-right resolve-conflicts" role="button" aria-label="Resolve Recording Conflict for {{$ctrl.recording.title}}, {{$ctrl.recording.releaseInformation}}">Resolve Recording Conflict\n<span class="si si-chevron-right" aria-hidden="true"></span></div>\n</div>\n</div>\n',o="js/rdvr/scheduled/scheduled-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},sxA3:function(e,t){!function(){"use strict";function e(e){return{restrict:"A",link:function(t,n){n.each(function(t,n){var r=n.attributes["ovp-src"].value;r&&(n.src=e.versionPath(r))})}}}e.$inject=["OvpSrcService"],e.$inject=["OvpSrcService"],angular.module("ovpApp.cache",["ovpApp.src-service"]).directive("ovpSrc",e)}()},t1SM:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="DISPLAY_SIZE_CHANGE",i=function(e){return{type:r,payload:e}}},t4wx:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="settings-container">\n<div class="settings-tablist" ui-view="tablist" role="none"></div>\n<div class="settings-tabpanel" role="none">\n<ui-view></ui-view>\n</div>\n</div>\n',o="js/settings/settings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},t844:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<ondemand-category category="$ctrl.data.categories[$ctrl.index]" page="$ctrl.page"></ondemand-category>',o="js/ondemand/networks/network-3-tier.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"tJ+2":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="login-error" id="login-error">\n<div class="error-icon">\n<span class="si si-caution-f"/>\n</div>\n<div class="error-message">\n<p error-codes="{{errorCode}}"></p>\n<p ng-if="errorCode === \'WLI-1010\'">\nDid you forget your\n<a ng-click="forgotUsername()" class="alert-link" href="{{config.forgotHost + config.registration.forgot}}" aria-label="Forgot your username?" target="_forgotuser">username</a>\nor\n<a ng-click="forgotPassword()" class="alert-link" href="{{config.forgotHost + config.registration.forgot}}" aria-label="Reset your password" target="_forgotpass">password?</a>\n</p>\n</div>\n</div>\n',o="js/login/errors/login-error-generic.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},tTMH:function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return k});n("ma9I");var r=n("RIqP"),i=n.n(r),o=n("o0o1"),a=n.n(o),s=(n("ls82"),n("KYMe")),c=n("5rFJ"),l=n("Hq+Z"),u=n("0Mdl"),d=n("fwyg"),p=n("3V2u"),h=n("c+yO"),v=n("JJK5"),f=n("5+k9"),m=n("Aa8z"),g=a.a.mark(S),b=a.a.mark(w),y=a.a.mark(k);function S(){var e,t,n,r,i,o;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.g)(h.b);case 2:return e=a.sent,a.next=5,Object(c.g)(p.c);case 5:return t=a.sent,a.next=8,Object(c.g)(d.og);case 8:if(n=a.sent,e){a.next=32;break}if(!n||t){a.next=12;break}return a.abrupt("return");case 12:return a.prev=12,a.next=15,Object(c.d)(l.a.request());case 15:return a.next=17,Object(c.g)(m.h);case 17:return r=a.sent,a.next=20,Object(c.b)(s.default.get,{url:r,withCredentials:!0,includeDeviceId:!0});case 20:return i=a.sent,o=i.data,a.next=24,Object(c.d)(l.a.success(o));case 24:return a.next=26,Object(c.b)(v.c);case 26:a.next=32;break;case 28:return a.prev=28,a.t0=a.catch(12),a.next=32,Object(c.d)(l.a.failure(a.t0));case 32:case"end":return a.stop()}},g,null,[[12,28]])}function w(){var e,t;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.h)(f.a);case 2:return n.next=4,Object(c.g)(d.Hc);case 4:return e=n.sent,t=[Object(c.c)(e)],n.next=8,Object(c.g)(d.Ic);case 8:n.sent&&(t=[].concat(i()(t),[Object(c.h)(u.a.PLAYBACK_STOPPED)]));case 10:return n.next=13,Object(c.e)(t);case 13:return n.next=15,Object(c.g)(p.c);case 15:if(!n.sent){n.next=19;break}return n.next=19,Object(c.d)(l.a.trigger());case 19:n.next=10;break;case 21:case"end":return n.stop()}},b)}function k(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.k)(l.a.TRIGGER,S);case 2:case"end":return e.stop()}},y)}},tYxH:function(e,t){!function(){"use strict";angular.module("ovpApp.messages.local",[]).constant("OVPAPP_MESSAGES_LOCAL",[{name:"please_enter_pin",header:"",status:"active",altText:null,full_code:"MSG-9044",full_customer_message:"Enter your 4-digit PIN"},{name:"parental_controls_block_message",header:"",status:"active",altText:null,full_code:"MSG-9045",full_customer_message:"Parental Controls have been activated"},{name:"unlock_stb_parental_controls",header:"",status:"active",altText:null,full_code:"MSG-9046",full_customer_message:"Please enter your current Spectrum Receiver<br/>blocking PIN"},{name:"stb_new_blocking_pin",header:"",status:"active",altText:null,full_code:"MSG-9047",full_customer_message:"Please create your new Spectrum Receiver<br/>blocking PIN"},{name:"new_pin",header:"",status:"active",altText:null,full_code:"MSG-9048",full_customer_message:"The first step is to create a Parental Controls PIN."},{name:"pin_not_replace_stb",header:"",status:"active",altText:null,full_code:"MSG-9050",full_customer_message:"This will only work across your Spectrum TV&reg; apps, but does not replace your PIN on your set top box at home."},{name:"auth_form_enter_password",header:"",status:"active",altText:null,full_code:"MSG-9051",full_customer_message:"Please enter your master account password to reset your PIN."},{name:"unlock_purchase_pin",header:"",status:"active",altText:null,full_code:"MSG-9053",full_customer_message:"Please enter your Purchase PIN."},{name:"unlock_purchase_pin_to_rent_asset",header:"",status:"active",altText:null,full_code:"MSG-9054",full_customer_message:"Please enter your Purchase PIN to rent this title"},{name:"new_purchase_pin",header:"",status:"active",altText:null,full_code:"MSG-9056",full_customer_message:"To use this feature you need to create a Purchase PIN."},{name:"reset_purchase_pin_instruction",header:"",status:"active",altText:null,full_code:"MSG-9057",full_customer_message:"Please enter new 4-digit PIN"},{name:"new_purchase_pin_instruction",header:"",status:"active",altText:null,full_code:"MSG-9058",full_customer_message:"New 4-digit PIN"},{name:"action_hover_play_trailer",header:"",status:"active",altText:null,full_code:"MSG-9061",full_customer_message:"Watch the Trailer"},{name:"action_hover_delete",header:"",status:"active",altText:null,full_code:"MSG-9062",full_customer_message:"Permanently delete this recorded show"},{name:"action_hover_options",header:"",status:"active",altText:null,full_code:"MSG-9063",full_customer_message:"Edit the options of this recorded show"},{name:"action_hover_watch_later",header:"",status:"active",altText:null,full_code:"MSG-9064",full_customer_message:"Add to Watchlist"},{name:"action_hover_remove_watch_later",header:"",status:"active",altText:null,full_code:"MSG-9065",full_customer_message:"Remove from Watchlist"},{name:"free_price",header:"",status:"active",altText:null,full_code:"MSG-9069",full_customer_message:"Free"},{name:"rent_loading",header:"",status:"active",altText:null,full_code:"MSG-9070",full_customer_message:"You are about to watch..."},{name:"RENT_SINGLE_OPTION_TITLE",header:"",status:"active",altText:null,full_code:"MSG-9071",full_customer_message:"Are you sure you want to rent this?"},{name:"RENT_COMPLEX_OPTION_TITLE",header:"",status:"active",altText:null,full_code:"MSG-9072",full_customer_message:"What would you like to rent?"},{name:"BUTTON_ROLLOVER_WATCH_ON_TV_LIVE",header:"",status:"active",altText:null,full_code:"MSG-9073",full_customer_message:"Watch live on your TV"},{name:"BUTTON_ROLLOVER_WATCH_ON_TV_OD",header:"",status:"active",altText:null,full_code:"MSG-9074",full_customer_message:"Watch On Demand on your TV"},{name:"BUTTON_ROLLOVER_WATCH_ON_TV_BOOKMARK",header:"",status:"active",altText:null,full_code:"MSG-9075",full_customer_message:"Resume on your TV"},{name:"BUTTON_ROLLOVER_WATCH_ON_TV_DVR",header:"",status:"active",altText:null,full_code:"MSG-9076",full_customer_message:"Watch your DVR recording on your TV"},{name:"BUTTON_ROLLOVER_RECORD_SERIES",header:"",status:"active",altText:null,full_code:"MSG-9077",full_customer_message:"Record the series"},{name:"BUTTON_ROLLOVER_RECORD_CANCEL_SERIES",header:"",status:"active",altText:null,full_code:"MSG-9078",full_customer_message:"Cancel recording for the series"},{name:"CDVR_RECORDINGS_EMPTY_MESSAGE",header:"",status:"active",altText:null,full_code:"MSG-9079",full_customer_message:"You dont have any recordings right now"},{name:"CDVR_SCHEDULED_EMPTY_MESSAGE",header:"",status:"active",altText:null,full_code:"MSG-9080",full_customer_message:"You dont have any scheduled recordings"},{name:"connectivity.offlineText",header:"",status:"active",altText:null,full_code:"MSG-9084",full_customer_message:"Your computer is offline."},{name:"connectivity.onlineText",header:"",status:"active",altText:null,full_code:"MSG-9085",full_customer_message:"Your computer is back online."},{name:"connectivity.retryNowText",header:"",status:"active",altText:null,full_code:"MSG-9086",full_customer_message:"Retry Now"},{name:"connectivity.retryingNowText",header:"",status:"active",altText:null,full_code:"MSG-9087",full_customer_message:"Retrying now..."},{name:"flickToTvPlaying",header:"",status:"active",altText:null,full_code:"MSG-9088",full_customer_message:"Playing {{TITLE}} on {{STB}}"},{name:"recordingUpdated",header:"",status:"active",altText:null,full_code:"MSG-9089",full_customer_message:"Recording was updated successfully"},{name:"recordingCancelled",header:"",status:"active",altText:null,full_code:"MSG-9090",full_customer_message:"Recording cancelled successfully"},{name:"recordingSetSuccessfully",header:"",status:"active",altText:null,full_code:"MSG-9091",full_customer_message:"Recording for {{TITLE}} successfully set"},{name:"recordingConfirm",header:"",status:"active",altText:null,full_code:"MSG-9092",full_customer_message:"Would you like to record {{TITLE}} on {{DATE}} on channel {{CHANNEL}}?"},{name:"cancelAllRecordingsConfirm",header:"",status:"active",altText:null,full_code:"MSG-9093",full_customer_message:"Do you want to cancel this series recording?"},{name:"recordingCancelledWithTitle",header:"",status:"active",altText:null,full_code:"MSG-9094",full_customer_message:"Recording canceled. It may take a few seconds to reflect in the app."},{name:"cancelRecordingConfirm",header:"",status:"active",altText:null,full_code:"MSG-9095",full_customer_message:"Do you want to cancel this recording?"},{name:"deleteRecordingConfirm",header:"",status:"active",altText:null,full_code:"MSG-9096",full_customer_message:"Do you want to delete this recording?"},{name:"deleteRecordingSuccessful",header:"",status:"active",altText:null,full_code:"MSG-9097",full_customer_message:"Recording deleted. It may take a few seconds to reflect in the app."},{name:"dvr.conflicts.selectToResolve",header:"",status:"active",altText:"Recording Conflicts {{NUMBER}}",full_code:"MSG-9098",full_customer_message:"Recording Conflict {{NUMBER}}"},{name:"name_your_stb",header:"",status:"active",altText:null,full_code:"MSG-9099",full_customer_message:"Please name your set top box."},{name:"ih_message",header:"Welcome home",status:"active",altText:null,full_code:"MSG-9100",full_customer_message:"Your complete Spectrum TV&reg; channel line-up is now available."},{name:"ivrTelUri",header:"",status:"active",altText:null,full_code:"MSG-9101",full_customer_message:"tel: {{IVR_NUMBER}}"},{name:"no_favorites_set",header:"",status:"active",altText:null,full_code:"MSG-9102",full_customer_message:"You currently have no favorite channels set. To add channels to your favorites list, click OK."},{name:"lockedOutLoginFailure",header:"You have been locked out.",status:"active",altText:null,full_code:"MSG-9103",full_customer_message:"You've exceeded the maximum number of sign-in attempts. Please try again later, or you can retrieve or reset your password."},{name:"tvodUnavailable",header:"Connect to Your Spectrum Internet",status:"active",altText:null,full_code:"MSG-9104",full_customer_message:"Due to programming restrictions, movie rentals are available only when you're connected to your Spectrum Internet service."},{name:"cdvr_storage_full",header:"Your Storage Is Almost Full",status:"active",altText:null,full_code:"MSG-9105",full_customer_message:"Please delete some recorded items to make room for your scheduled recordings."},{name:"mylibrary_clearlist",header:"Clear {{CONTEXT}}",status:"active",altText:null,full_code:"MSG-9106",full_customer_message:"Are you sure you want to clear your {{CONTEXT}}?"},{name:"flashNotEnabledMessages1225",header:"Flash Player Required",status:"active",altText:"Adobe Flash Player Required. To watch TV, you'll need to activate Adobe Flash Player on your browser.",full_code:"MSG-9107",full_customer_message:"In most cases, Flash Player is pre-installed, so simply follow the prompts to allow or activate Flash. ;If Flash Player isn't installed, you'll be prompted to install it, which should take only a moment."},{name:"flashNotEnabledMessages1225.subTitle",header:"",status:"active",altText:null,full_code:"MSG-9108",full_customer_message:"To watch TV, you'll need Adobe Flash Player."},{name:"flashNotEnabledMessages1115",header:"One Quick Step Before You Can Watch TV",status:"active",altText:"To watch TV, you'll need to activate Adobe Flash Player on your browser.",full_code:"MSG-9109",full_customer_message:"In most cases, Flash Player is pre-installed, so simply follow the prompts to allow or activate Flash. ;If Flash Player isn't installed, you'll be prompted to install it, which should take only a moment."},{name:"flashNotEnabledMessages1115.subTitle",header:"",status:"active",altText:null,full_code:"MSG-9110",full_customer_message:"To watch TV, you'll need Adobe Flash Player."},{name:"flashNotEnabledMessages2260",header:"One Quick Step Before You Can Watch TV",status:"active",altText:"To watch TV, you'll need to activate Adobe Flash Player on your browser.",full_code:"MSG-9111",full_customer_message:"In most cases, Flash Player is pre-installed, so simply follow the prompts to allow or activate Flash. ;If Flash Player isn't installed, you'll be prompted to install it, which should take only a moment."},{name:"flashNotEnabledMessages2260.subTitle",header:"",status:"active",altText:null,full_code:"MSG-9112",full_customer_message:"To watch TV, you'll need Adobe Flash Player."},{name:"blockedStartupChannel",header:"Channel Blocked by Parental Controls",altText:null,full_code:"MSG-9113",full_customer_message:"This channel is blocked by Parental Controls and will require your PIN at startup. To avoid entering your PIN, unblock this channel in Settings."},{name:"recordingSetSuccess",header:"",status:"active",altText:null,full_code:"MSG-9114",full_customer_message:"Recording scheduled. It may take a few seconds to reflect in the app."}])}()},terU:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="info-pane" class="tab-pane">\n<div class="row episode-list-container">\n<div class="col-md-16" id="episode-container">\n<product-episode ng-if="$ctrl.elevated" episode="$ctrl.elevated.episode" is-elevated="true" description="$ctrl.elevated.description" selected="$ctrl.elevated.episode==$ctrl.selectedEpisode" on-selected="$ctrl.selectEpisode($ctrl.elevated.episode)">\n</product-episode>\n<div class="list-group" ng-repeat="season in $ctrl.seasons">\n<div class="row list-group-item">\n<h2 class="kite-h3 list-group-item-heading">{{season.name}}</h2>\n</div>\n<div role="list">\n<product-episode role="listitem" ng-repeat="episode in season.episodes" ng-class="{\'last-episode\':$last}" episode="episode" selected="episode==$ctrl.selectedEpisode" on-selected="$ctrl.selectEpisode(episode)">\n</product-episode>\n</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/product/episode-list/product-episode-list.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},tk1m:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div focus-when="$ctrl.focusOnLoad" class="frame" ovp-link-click="$ctrl.click()">\n<span class="sr-only">{{::$ctrl.category}}</span>\n<div class="col-xs-6 title">\n{{::$ctrl.asset.title}}\n</div>\n<div class="col-xs-4 type">\n{{::$ctrl.getTypeString()}}\n</div>\n<div class="col-xs-4 time">\n{{::$ctrl.getTimeString()}}\n</div>\n<div class="col-xs-2 network">\n{{::$ctrl.getNetworkString()}}\n</div>\n</div>\n',o="js/search/widgets/sports-result-list-item.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},twjl:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n("fwyg"),i=n("PnGe"),o=n("PNUD");function a(e){var t=Object(i.c)(e,"ottoErrorCode",Object(i.c)(e,"status"));return o.a.getSelectorValue(r.C)[t]||"WBF-9000"}function s(e){var t=Object(i.c)(e,"ottoErrorCode",Object(i.c)(e,"status"));return o.a.getSelectorValue(r.Nd)[t]||"WBF-9000"}function c(){angular.element(document.body).injector().get("$state").go("ovp.offers")}},"u+oy":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="UPDATE_DEEPLINK_INFO";function i(e){return{type:r,payload:e}}},u2ZA:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("o0o1"),i=n.n(r),o=(n("ls82"),n("yXPU")),a=n.n(o),s=n("dprx"),c=n.n(s),l=n("PNUD"),u=n("I+BT"),d=n("bB7c"),p=n("UntU");function h(e){return v.apply(this,arguments)}function v(){return(v=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.h)();case 2:(n=l.a.getSelectorValue(d.D)).requestedOfferId=t||"none",c.a.set(u.d.BUYFLOW_PROMO_FIELDS,n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},uI79:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return m});n("TeQF"),n("oVuX");var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("bB7c"),p=n("UntU"),h=n("u2ZA");function v(){return f.apply(this,arguments)}function f(){return(f=s()(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.getSelectorValue(d.a)||[],n=u.a.getSelectorValue(d.A),r=t.filter(function(e){return!0===n[e]}).join(", "),e.next=5,Object(p.h)();case 5:l.a.set("configFactors",{configurationFactors:r});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){v(),Object(h.a)(e),angular.element(document.body).injector().get("analyticsUserConfigSet").receivedBuyFlowOfferFlags()}},uJ7E:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="row stb-time-block-container">\n<h2 class="setting-label col-xs-16">Time Block</h2>\n<span class="sr-only" aria-live="polite" ng-bind="$ctrl.srText"></span>\n<div class="row">\n<div class="col-xs-16" role="application" arrow-nav="time-block-tile" ng-model="$ctrl.timeBlocks">\n<div class="time-block-tile" ng-repeat="block in $ctrl.timeBlocks" aria-label="blocking {{block.day}} from {{block.startTime.format(\'LT\')}} to {{block.endTime.format(\'LT\')}}">\n<div class="label-content">{{block.day}}</div>\n<div class="label-content">{{block.startTime.format(\'LT\')}} - {{block.endTime.format(\'LT\')}}</div>\n</div>\n</div>\n<p class="col-xs-16">\n<button class="kite-btn kite-btn-secondary" ng-click="$ctrl.deleteTimeBlock()">Delete Time Block</button>\n<button class="kite-btn kite-btn-primary" ng-click="$ctrl.createTimeBlock()">Create a New Time Block</button>\n</p><p>\n</p></div>\n</div>\n',o="js/settings/stb-parentalControls/stb-timeblock/stb-timeBlock.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},uWE0:function(e,t){!function(){"use strict";function e(e,t){var n=!1,r={windowJustGotFocus:function(){return n}};return angular.element(e).on("focus",function(){n=!0,t(function(){n=!1},0,!1)}),r}e.$inject=["$window","$timeout"],e.$inject=["$window","$timeout"],angular.module("ovpApp.services.windowFocus",[]).factory("windowFocus",e)}()},udCI:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="row cast" ng-if="$ctrl.asset.actorsAndDirectors.length > 0">\n<div class="col-md-16">\n<h2>Cast and Crew</h2>\n<div class="row">\n<ovp-carousel items="$ctrl.asset.actorsAndDirectors" options="$ctrl.carouselConfig" class="col-md-16">\n<ovp-person ng-repeat="person in $ctrl.asset.actorsAndDirectors" person="person"></ovp-person>\n</ovp-carousel>\n</div>\n</div>\n</section>',o="js/product/info/product-cast.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ukCw:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<ondemand-category ng-if="$ctrl.data.type === \'media_list\'" category="$ctrl.data" page="$ctrl.page" hide-logo="true">\n</ondemand-category>\n<network-category-list ng-if="$ctrl.data.type === \'category_list\'" category-list="$ctrl.data" page="$ctrl.page" index="$ctrl.index">\n</network-category-list>\n<network-three-tier ng-if="$ctrl.data.type === \'pods_with_assets\'" data="$ctrl.data" page="$ctrl.page" index="$ctrl.index">\n</network-three-tier>',o="js/ondemand/networks/network-sub-page.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ul2O:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<form name="loginForm" ng-submit="onSubmit()" ng-model="loginForm" novalidate>\n<div class="kite-form-group create-username">\n<a class="kite-btn kite-btn-link kite-btn-standalone-link" ng-click="createUsername()" href="{{config.registrationHost + config.registration.createUsername}}" target="_createUsername">Create a Username</a>\n</div>\n<div class="alert alert-danger" ng-if="loginForm.$submitted && loginForm.$invalid && login.subView != \'fatal\' && isValidationError" ng-class="{\'empty-alert\': !(loginForm.$submitted && loginForm.$invalid)}">\n<div ng-messages="loginForm.loginForm.$error" tabindex="-2" id="login-error-messages">\n<div ng-message="error-generic">\n<ng-include src="\'js/login/errors/login-error-generic.html\'"></ng-include>\n</div>\n<div ng-message="error-locked">\n<ng-include src="\'js/login/errors/login-error-lockout.html\'"></ng-include>\n</div>\n<div ng-message="error-connectivity">\n<ng-include src="\'js/login/errors/login-error-not-online.html\'"></ng-include>\n</div>\n<div ng-message="error-suspicious-auth">\n<ng-include src="\'js/login/errors/login-error-suspicious-auth.html\'"></ng-include>\n</div>\n</div>\n</div>\n<div class="kite-form-group">\n<label for="username">Username</label>\n<input id="username" name="username" class="kite-form-control" type="text" ng-model="user.username" ng-class="{\'kite-form-control-danger\': !loginForm.username.$pristine && !loginForm.username.$valid}" focus-once required>\n<div ng-show="!loginForm.username.$pristine && !loginForm.username.$valid">\n<div ng-show="loginForm.username.$error.required" class="kite-form-control-feedback">Please enter your username.</div>\n</div>\n</div>\n<div class="kite-form-group">\n<label for="password">Password</label>\n<input id="password" name="password" class="kite-form-control" type="password" ng-model="user.password" ng-class="{\'kite-form-control-danger\': !loginForm.password.$pristine && !loginForm.password.$valid}" required>\n<div ng-show="!loginForm.password.$pristine && !loginForm.password.$valid">\n<div class="kite-form-control-feedback">Please enter your password.</div>\n</div>\n</div>\n<div class="kite-form-group">\n<label class="kite-custom-control kite-custom-checkbox" for="remember-me">\n<input id="remember-me" name="remember-me" class="kite-custom-control-input" type="checkbox" ng-model="user.rememberme" ng-change="onRememberMeChange()" ng-keydown="onRememberMeKeydown($event)">\n<span class="kite-custom-control-indicator"></span>\n<span class="kite-custom-control-description">Remember Me</span>\n</label>\n</div>\n<div class="kite-form-group">\nBy clicking the "Sign In" button, you agree to the <a class="kite-btn-link" ng-click="viewTOS()" href="{{termsAndConditionsLink}}" target="_blank">Terms and Conditions</a>\nand <a class="kite-btn-link" ng-click="viewPrivacy()" href="{{privacyPolicyLink}}" target="_blank">Privacy Policy</a>.\n</div>\n<div class="spinner-container">\n<div class="spinner" ng-if="loadingTracker.active() || success"></div>\n<div class="loading-tracker-visible-message"></div>\n</div>\n<input class="kite-btn kite-btn-primary kite-btn-block" type="submit" value="Sign In" ng-if="!loadingTracker.active() && !success"/>\n<div class="kite-form-group forgot-username-password">\n<a class="kite-btn kite-btn-link kite-btn-standalone-link" ng-click="forgotUsernameOrPassword()" href="{{config.forgotHost + config.registration.forgot}}" target="_forgotuser">Forgot Username or Password?</a>\n</div>\n<div ng-if="config.specU.trustedAuthEnabled && !isSpecUError" class="specu-links-container">\n<div class="divider"></div>\n<a ng-show="showSpecUSignInButton" class="kite-btn kite-btn-secondary specu-login-btn-link" ng-mouseover="toggleSpecUButtonState(true)" ng-mouseleave="toggleSpecUButtonState(false)" aria-label="Sign in to Spectrum U" href="/domainsearch/{{specuDomain}}">Sign In to<img ng-src="{{getSpecULogo()}}" alt=""></a>\n<p ng-hide="showSpecUSignInButton" class="specu-login-link">University student?&nbsp;<a ng-click="clickSpecUTA()" href="/domainsearch/{{specuDomain}}" class="kite-btn-link">Sign in to SpectrumU</a></p>\n</div>\n<p class="specu-login" ng-if="isSpecUError">University student? <a class="kite-btn-link" ng-click="retryAutoOauth()" href="#">Go to SpectrumU</a></p>\n<p class="specu-login">At home? <a href="#" class="kite-btn-link" ng-click="retryAutoOauth()">Sign in automatically</a></p>\n</form>\n',o="js/login/loginForm.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},"upK/":function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="disk-usage" ng-if="$ctrl.canShowDiskUsage()">\n<p class="sr-only">{{$ctrl.getHeaderText()}}</p>\n<div class="meter">\n<div ng-style="{ width: $ctrl.getUsedPercent() }"></div>\n</div>\n<span class="space-used" aria-hidden="true">{{$ctrl.getUsageText()}}</span>\n</div>\n',o="js/rdvr/disk-usage/disk-usage.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},v43G:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div tabindex="0" id="info-panel-control" class="info" aria-label="Program Info" ng-click="$ctrl.togglePopup()" ng-mouseover="$ctrl.onMouseOver(\'icon\')" ng-mouseleave="$ctrl.onMouseLeave(\'icon\')" ng-focus="$ctrl.onFocus(\'icon\')" ng-blur="$ctrl.onBlur(\'icon\')" prevent-default>\n<img alt="Program info" class="control-item-img" ng-src="{{$ctrl.image()}}">\n</div>\n<div tabindex="-1" class="info-panel backdrop" ng-if="$ctrl.showInfoPanel">\n</div>\n<div id="info-panel" role="alertdialog" class="info-panel arrow-down" tabindex="-1" ng-mouseover="$ctrl.onMouseOver(\'panel\')" ng-mouseleave="$ctrl.onMouseLeave(\'panel\')" ng-focus="$ctrl.onFocus(\'panel\')" ng-blur="$ctrl.togglePopup()" ng-if="$ctrl.showInfoPanel" focus-when="$ctrl.showInfoPanel">\n<div class="info-panel-wrapper">\n<div class="col-md-16 col-sm-16 text-center" ng-if="!$ctrl.asset">\nData not available\n</div>\n<div class="table">\n<div class="table-cell wd-160">\n<img ng-src="{{$ctrl.asset.imageUri({ height: 237 }) || $ctrl.asset.networkImage()}}" fadein-onload width="160" alt="{{$ctrl.asset.title}}" height="237" fallback-image="display:none">\n</div>\n<div class="asset-description table-cell pd-left-20">\n<div class="title-wrapper">\n<div class="small-logo title-flex" ng-if="!$ctrl.asset.isEpisode">{{$ctrl.asset.title}}</div>\n<div class="text-large text-highlight title title-flex" ng-if="$ctrl.asset.isEpisode">\n{{$ctrl.asset.seriesTitle || $ctrl.asset.title}}\n</div>\n<div id="network-image">\n<img ng-src="{{$ctrl.asset.networkImage({height:60})}}" width="60" height="60" aria-label="Some network logo!" alt="{{$ctrl.asset.channel ? $ctrl.asset.channel.networkName : $ctrl.asset.network.name}}" fadein-onload fallback-image="display:none">\n<span class="sr-only">\n{{$ctrl.asset.channel ? $ctrl.asset.channel.networkName : $ctrl.asset.network.name}}\n</span>\n</div>\n</div>\n<div ng-if="$ctrl.asset.isEpisode">\n<div class="text-medium text-blue">{{$ctrl.asset.episodeTitle || $ctrl.asset.title}}</div>\n<div>\n<span class="text-medium text-highlight season-number" ng-if="$ctrl.asset.seasonNumber">Season {{$ctrl.asset.seasonNumber}}</span>\n<span ng-if="$ctrl.asset.episodeNumber" class="text-medium text-normal-gray">Episode {{$ctrl.asset.episodeNumber}}</span>\n</div>\n</div>\n<div class="text-medium ratingYear">\n<ovp-rating rating="$ctrl.asset.rating"></ovp-rating>\n<span class="text-normal">{{$ctrl.asset.year}}</span>\n</div>\n<div id="description" ng-bind="$ctrl.asset.longDescription" class="text-medium text-normal-gray" data-ellipsis></div>\n<div class="details">\n<div class="table pd-left-20" ng-show="$ctrl.getActors()">\n<div class="table-cell">Actors:</div>\n<div class="table-cell">{{$ctrl.getActors()}}</div>\n</div>\n<div class="table pd-left-20" ng-show="$ctrl.getDirectors()">\n<div class="table-cell">Director:</div>\n<div class="table-cell">{{$ctrl.getDirectors()}}</div>\n</div>\n<div class="table pd-left-20" ng-show="$ctrl.asset.runtimeDisplay">\n<div class="table-cell">Runtime:</div>\n<div class="table-cell">{{$ctrl.asset.runtimeDisplay}}</div>\n</div>\n<div class="table pd-left-20" ng-show="$ctrl.asset.expires">\n<div class="table-cell">Expires:</div>\n<div class="table-cell">{{$ctrl.asset.expires}}</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n',o="js/components/player/info-panel.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},v6sE:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div id="watchNextSetting" class="watchNext">\n<h2 class="settings-h1 kite-h3" focus-when="$ctrl.$state.params.focus === true" tabindex="-2"> Auto Play</h2>\n<div class="row">\n<p id="watchNext-desc" class="col-xs-8">Turn on Auto Play to automatically play the next episode if available.</p>\n<div class="col-xs-8 text-right">\n<ovp-switch id="pc_enabled" role="button" aria-describedby="watchNext-desc" aria-label="Auto Play" aria-pressed="{{$ctrl.watchNextIsEnabled ? \'true\' : \'false\'}}" ovp-click="$ctrl.toggleWatchNext($event);" button-enabled="{{$ctrl.watchNextIsEnabled}}" prevent-default></ovp-switch>\n</div>\n</div>\n</div>\n',o="js/settings/autoPlay/autoPlaySettings.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},vfMh:function(e,t,n){var r;void 0===(r=function(e,t,r){"use strict";var i=n("oxxI").sprintf,o=n("i8Df"),a=function(e,t){if(o.isUndefined(e[t]))try{throw new Error(i("Expect options: %s to have argument: %s",JSON.stringify(e),t))}catch(n){throw new Error(i("Expect options: %s to have argument: %s",e,t))}return e[t]},s=function(e){this.isDefined=!!e,this.options=e};s.prototype={expectKeys:function(e,t){var n;if(Array.isArray(e))n={},t=e;else{if(!Array.isArray(t))throw new Error("Expect to see an array, or an object and an array");n=e}if(!this.isDefined)throw new Error(i("Undefined options can not contain a %s key",t));var r=this.options;return t.reduce(function(e,t){return e[t]=a(r,t),e},n)},expect:function(e){if(!this.isDefined)throw new Error(i("Undefined options can not contain a %s key",e));return a(this.options,e)},defaults:function(){for(var e=arguments[0],t=arguments.length,n=0;n<t;n++)o(e).defaults(arguments[n]);return e},get:function(e){return void 0===e?this.options:this.options[e]}};var c=r.exports=function(){};c.prototype={options:function(e){return c.for(e)}},o(c).extend({for:function(e){return e instanceof s?e:new s(e)}})}.call(t,n,t,e))||(e.exports=r)},vh2o:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="wrapper">\n<div ng-click="$ctrl.modalInstance.dismiss()" tabindex="0" aria-label="close dialog" role="button" class="close-icon-container" ng-mouseover="$ctrl.activeCloseIcon=true" ng-mouseleave="$ctrl.activeCloseIcon=false">\n<img class="close-icon" ng-src="{{$ctrl.closeIcon()}}" alt="">\n</div>\n<div class="header text-center">\n<h1 id="rename-label">Rename This DVR</h1>\n</div>\n<div class="content">\n<div id="rename_dvr_current_name">\n<p class="current-name-caption" class="kite-h2">Current Name</p>\n<div class="current-name truncate kite-h2">{{$ctrl.stb.name || $ctrl.stb.macAddress}}</div>\n</div>\n<label for="newStbName">Type a New Name</label><br/>\n<input aria-describedby="rename_dvr_current_name" focus-once ng-model="$ctrl.newName" ng-change="$ctrl.inputChanged()" type="text" id="newStbName" class="kite-form-control"/>\n</div>\n<button class="kite-btn kite-btn-primary kite-btn-xl" ng-click="$ctrl.save()">Save</button>\n<button class="kite-btn kite-btn-secondary kite-btn-xl" ng-click="$ctrl.modalInstance.dismiss()">Cancel</button>\n</div>\n',o="js/rdvr/rdvr-toolbar/rename-stb.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},voYc:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="carousel-wrapper ovp-carousel" ng-if="$ctrl.items.length > 0" tabindex="-1">\n<h2 class="carousel-title" ng-if="$ctrl.options.title && $ctrl.options.showTitle">{{$ctrl.options.title}}</h2>\n<a class="carousel-all" ng-if="$ctrl.options.viewAllUri" ui-sref="{{$ctrl.options.viewAllUri}}" ng-click="$ctrl.viewAll()" aria-label="View All, {{$ctrl.options.title}}">View All <span class="si si-chevron-right"></span></a>\n<div class="carousel-container" ng-attr-role="{{$ctrl.options.useArrows && \'application\' || \'presentation\'}}" aria-label="{{$ctrl.options.ariaLabel}}">\n<div class="control-arrow" ng-class="$ctrl.leftArrowClass()" aria-hidden="true" ng-click="$ctrl.leftClick($event)" tabindex="-1"></div>\n<div class="carousel-layout">\n<div class="carousel-items" role="list" ng-style="$ctrl.transformation" ng-keydown="$ctrl.onKeydown($event)" ng-transclude>\n</div>\n</div>\n<div class="default-gradient right-gradient" ng-if="$ctrl.options.showGradient"></div>\n<div class="control-arrow" ng-class="$ctrl.rightArrowClass()" aria-hidden="true" ng-click="$ctrl.rightClick($event)" tabindex="-1"></div>\n</div>\n</div>\n',o="js/directives/ovp-carousel-template.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},vprG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<h1 class="sr-only" tabindex="-1" id="screen_title" focus-once>{{$ctrl.sectionLabel}}</h1>\n<div class="swimlanes-container">\n<section ng-if="$ctrl.categories">\n<ovp-carousel ng-repeat="category in $ctrl.categories" items="category.media" options="category.carouselConfig" on-limit-changed="$ctrl.onCarouselLimitChanged(limit)">\n<ovp-product ng-repeat="asset in category.media | limitTo: $ctrl.carouselLimit" asset="asset" options="$ctrl.itemOptions"></ovp-product>\n</ovp-carousel>\n</section>\n<section ng-if="$ctrl.category">\n<div class="store-back">\n<a class="back-to" ui-sref="ovp.store({category:null,page:null})" focus-next=".list-btn" focus-when="true">\n<span class="icon"></span>Back to {{$ctrl.storeTitle}}</a>\n</div>\n<grid-list-toggler id="\'vodMinorCategoryViewMode\'"></grid-list-toggler>\n<ovp-grid-list items="$ctrl.results" options="$ctrl.gridConfig" on-page-changed="$ctrl.onPageChanged(page)">\n<grid-items>\n<ovp-product dir-paginate="asset in $ctrl.results | itemsPerPage: $ctrl.gridLimit" current-page="$ctrl.page" total-items="$ctrl.totalItems" pagination-id="vodMinorCategoryViewMode" asset="asset" options="$ctrl.itemOptions" template="boxart"></ovp-product>\n</grid-items>\n<list-items>\n<ovp-product dir-paginate="asset in $ctrl.results | itemsPerPage: $ctrl.gridLimit" current-page="$ctrl.page" total-items="$ctrl.totalItems" pagination-id="vodMinorCategoryViewMode" asset="asset" options="$ctrl.itemOptions" template="list"></ovp-product>\n</list-items>\n</ovp-grid-list>\n</section>\n<section class="text-center" ng-if="$ctrl.errorMessage!=false">\n<h4>{{$ctrl.errorMessage}}</h4>\n</section>\n</div>',o="js/video-store/store-page.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},vumq:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<section class="row related" ng-if="$ctrl.related.length > 0">\n<div class="col-md-16">\n<h2>Related to <i>{{::$ctrl.asset.title}}</i></h2>\n<div class="row">\n<ovp-carousel items="$ctrl.related" options="$ctrl.relatedCarouselConfig" class="col-md-16">\n<ovp-product ng-repeat="asset in $ctrl.related" asset="asset"></ovp-product>\n</ovp-carousel>\n</div>\n</div>\n</section>',o="js/product/info/product-related.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},vwTg:function(e,t){!function(){"use strict";function e(e,t){return{pinEntry:function(n,r){try{e.isDebug()&&t.debug("Analytics: pinEntry",r);var i=e.state,o=i.getPINEntryContext();if(null===o)return;var a=angular.copy(o);a.success=r.success;var s=i.getTvodFlowState();s&&(s.featureCurrentStep=6,angular.extend(a,s)),e.event("pinEntry",a)}catch(e){t.error("Analytics navigation:",e)}}}}e.$inject=["analyticsService","$log"],e.$inject=["analyticsService","$log"],angular.module("ovpApp.analytics.events.pinEntry",["ovpApp.analytics.analyticsService","ovpApp.legacy.stringUtil","ovpApp.analytics.analyticsAssetHelper"]).factory("analyticsPinEntry",e).run(["analyticsPinEntry",function(e){return e}])}()},wJrZ:function(e,t){!function(){var e="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(t,n,r){return{terminal:!0,multiElement:!0,priority:100,compile:function(i,o){var a=o.dirPaginate,s=a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),c=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===s[2].match(c))throw"pagination directive: the 'itemsPerPage' filter must be set.";var l=s[2].replace(c,""),u=n(l);!function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(i);var d=o.paginationId||e;return r.registerInstance(d),function(i,o,s){var c=n(s.paginationId)(i)||s.paginationId||e;r.registerInstance(c);var l=function(t,n){var r=!!t.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return n===e||r?t:t.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+n+"'")}(a,c);!function(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}(o,s,l),function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(o);var d=t(o),p=function(e,t,r){var i;if(t.currentPage)i=n(t.currentPage);else{var o=(r+"__currentPage").replace(/\W/g,"_");e[o]=1,i=n(o)}return i}(i,s,c);r.setCurrentPageParser(c,p,i),void 0!==s.totalItems?(r.setAsyncModeTrue(c),i.$watch(function(){return n(s.totalItems)(i)},function(e){0<=e&&r.setCollectionLength(c,e)})):(r.setAsyncModeFalse(c),i.$watchCollection(function(){return u(i)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;r.setCollectionLength(c,t)}})),d(i)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(t,n){var r=/^\d+$/;return{restrict:"AE",templateUrl:function(e,t){return t.templateUrl||n.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(n,o,a){var s=a.paginationId||e,c=n.paginationId||a.paginationId||e;if(!t.isRegistered(c)&&!t.isRegistered(s)){var l=c!==e?" (id: "+c+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+l+"cannot be used without the corresponding pagination directive, which was not found at link time.")}n.maxSize||(n.maxSize=9);n.autoHide=void 0===n.autoHide||n.autoHide,n.directionLinks=!angular.isDefined(a.directionLinks)||n.$parent.$eval(a.directionLinks),n.boundaryLinks=!!angular.isDefined(a.boundaryLinks)&&n.$parent.$eval(a.boundaryLinks);var u=Math.max(n.maxSize,5);function d(e){if(t.isRegistered(c)&&v(e)){var r=n.pagination.current;n.pages=i(e,t.getCollectionLength(c),t.getItemsPerPage(c),u),n.pagination.current=e,h(),n.onPageChange&&n.onPageChange({newPageNumber:e,oldPageNumber:r})}}function p(){if(t.isRegistered(c)){var e=parseInt(t.getCurrentPage(c))||1;n.pages=i(e,t.getCollectionLength(c),t.getItemsPerPage(c),u),n.pagination.current=e,n.pagination.last=n.pages[n.pages.length-1],n.pagination.last<n.pagination.current?n.setCurrent(n.pagination.last):h()}}function h(){if(t.isRegistered(c)){var e=t.getCurrentPage(c),r=t.getItemsPerPage(c),i=t.getCollectionLength(c);n.range.lower=(e-1)*r+1,n.range.upper=Math.min(e*r,i),n.range.total=i}}function v(e){return r.test(e)&&0<e&&e<=n.pagination.last}n.pages=[],n.pagination={last:1,current:1},n.range={lower:1,upper:1,total:1},n.$watch("maxSize",function(e){e&&(u=Math.max(n.maxSize,5),p())}),n.$watch(function(){if(t.isRegistered(c))return(t.getCollectionLength(c)+1)*t.getItemsPerPage(c)},function(e){0<e&&p()}),n.$watch(function(){if(t.isRegistered(c))return t.getItemsPerPage(c)},function(e,t){e!=t&&void 0!==t&&d(n.pagination.current)}),n.$watch(function(){if(t.isRegistered(c))return t.getCurrentPage(c)},function(e,t){e!=t&&d(e)}),n.setCurrent=function(e){t.isRegistered(c)&&v(e)&&(e=parseInt(e,10),t.setCurrentPage(c,e))},n.tracker=function(e,t){return e+"_"+t}}};function i(e,t,n,r){var i,a=[],s=Math.ceil(t/n),c=Math.ceil(r/2);i=e<=c?"start":s-c<e?"end":"middle";for(var l=r<s,u=1;u<=s&&u<=r;){var d=o(u,e,r,s),p=2===u&&("middle"===i||"end"===i),h=u===r-1&&("middle"===i||"start"===i);l&&(p||h)?a.push("..."):a.push(d),u++}return a}function o(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-i<t?r-n+e:i<t?t-i+e:e:e}}]).filter("itemsPerPage",["paginationService",function(t){return function(n,r,i){if(void 0===i&&(i=e),!t.isRegistered(i))throw"pagination directive: the itemsPerPage id argument (id: "+i+") does not match a registered pagination-id.";var o,a;if(angular.isObject(n)){if(r=parseInt(r)||9999999999,a=t.isAsyncMode(i)?0:(t.getCurrentPage(i)-1)*r,o=a+r,t.setItemsPerPage(i,r),n instanceof Array)return n.slice(a,o);var s={};return angular.forEach(function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}(n).slice(a,o),function(e){s[e]=n[e]}),s}return n}}]).service("paginationService",function(){var e,t={};this.registerInstance=function(n){void 0===t[n]&&(t[n]={asyncMode:!1},e=n)},this.isRegistered=function(e){return void 0!==t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,r){t[e].currentPageParser=n,t[e].context=r},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.setAsyncModeFalse=function(e){t[e].asyncMode=!1},this.isAsyncMode=function(e){return t[e].asyncMode}}).provider("paginationTemplate",function(){var e="angularUtils.directives.dirPagination.template";this.setPath=function(t){e=t},this.$get=function(){return{getPath:function(){return e}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}()},wU1A:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="volume-control" ng-mouseover="$ctrl.onMouseOver()" ng-mouseleave="$ctrl.onMouseLeave()">\n<button id="volume-control-icon" ovp-click="$ctrl.toggleMute()" ng-focus="$ctrl.onFocus(\'icon\');" ng-blur="$ctrl.sliderFocussed ? null : $ctrl.onBlur(\'icon\');" aria-label="mute" aria-pressed="{{$ctrl.isMuted ? \'true\' : \'false\'}}" ng-keydown="$ctrl.onKeyDown($event)" accesskey="m">\n<img alt="mute" ng-src="{{$ctrl.image()}}">\n</button>\n<div id="volume-control-slider-wrapper" class="volume-control-slider-wrapper" ng-class="{\'no-show\': !$ctrl.sliderVisible}">\n<input id="volume-control-slider" class="volume-control-slider" type="range" min="0" max="100" step="5" aria-label="volume" ng-model="$ctrl.volume" ng-focus="$ctrl.onFocus(\'slider\');" ng-blur="$ctrl.iconFocussed ? null : $ctrl.onBlur(\'slider\');" ng-change="$ctrl.onVolumeChange()">\n</div>\n</div>\n',o="js/components/player/volume-control.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},wpMu:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="stream-plus-welcome-v2">\n<div class="content-wrapper">\n<div class="top-section" ng-style="$ctrl.topSectionStyle">\n<div class="heading1">\n<span role="heading" aria-level="1" class="intro" ng-bind-html="$ctrl.messages.intro" tabindex="-2" focus-once></span>\n<p class="spec-tv" ng-bind-html="$ctrl.getMessageFor($ctrl.messages.title, \'price\', $ctrl.price)"></p>\n</div>\n<div class="actions">\n<a href="#" class="kite-btn kite-btn-primary streamplus-welcome" ovp-click="$ctrl.start();">{{$ctrl.messages.buttonTitle}}</a>\n<p ng-bind-html="$ctrl.messages.buttonInfo"></p>\n</div>\n<div class="networks-info">\n<div role="heading" aria-level="2" class="message" ng-bind-html="$ctrl.messages.networksInfo"/>\n<span class="si si-chevron-down"/>\n</div>\n</div>\n<ul class="networks" aria-label="some of our available networks">\n<li ng-if="$ctrl.networks" ng-repeat="network in $ctrl.networks" class="network-logo">\n<img alt="{{network.name}}" ng-src="{{$ctrl.getNetworkIcons(network)}}"/>\n</li>\n</ul>\n<div class="spec-container">\n<ul class="list-container">\n<li class="list-item-container" ng-repeat="msg in $ctrl.messages.info">\n<div class="tick list-item" ng-bind-html="msg"></div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n',o="js/buyFlow/welcome/v2.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},wryA:function(e,t){!function(){"use strict";function e(e,t){return void(this.get=function(n){var r=angular.element("<img class='hide' src=\"".concat(n,'" />'));r.appendTo(e[0].body),t(function(){r.remove()},1e4)})}e.$inject=["$document","$timeout"],e.$inject=["$document","$timeout"],angular.module("ovpApp.components.insecure",[]).service("InsecureService",e)}()},x7Iy:function(e,t){!function(){"use strict";angular.module("ovpApp.components.oohWarningModal",[]).component("oohWarningModal",{bindings:{modalInstance:"<"},templateUrl:"js/components/ooh-warning-modal/ooh-warning-modal.html"})}()},x7ka:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<button ng-if="!$ctrl.hasClickConfirm" class="kite-btn kite-btn-secondary kite-btn-lg" focus-when="{{$ctrl.focus}}" ng-class="{\'kite-btn-disabled\': $ctrl.isDisabled===\'true\'}" ng-style="$ctrl.wide ? {\'max-width\': $ctrl.maxWidth} : {}" tabindex="{{$ctrl.isDisabled == \'true\' ? \'-1\' : \'0\'}}" ng-disabled="{{String($ctrl.isDisabled) === \'true\'}}" ng-click="$ctrl.isDisabled !== \'true\' && $ctrl.onClick($event)">\n<b ng-class="$ctrl.iconClass()">{{$ctrl.label}}</b>\n</button>\n<button ng-if="$ctrl.hasClickConfirm" class="kite-btn kite-btn-secondary kite-btn-lg" focus-when="{{$ctrl.focus}}" ng-class="{\'kite-btn-disabled\': $ctrl.isDisabled===\'true\'}" ng-style="$ctrl.wide ? {\'max-width\': $ctrl.maxWidth} : {}" tabindex="{{$ctrl.isDisabled == \'true\' ? \'-1\' : \'0\'}}" ng-disabled="{{String($ctrl.isDisabled) === \'true\'}}" ng-click="ctrl.isDisabled !== \'true\' && $ctrl.onClick($event)" ovp-click-confirm="$ctrl.isDisabled !== \'true\' && $ctrl.onClickConfirm()">\n<b ng-class="$ctrl.iconClass()">{{$ctrl.label}}</b>\n</button>\n',o="js/components/ovp/ovp-button/ovp-button.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},xLkM:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div ng-hide="$ctrl.$state.current.data.hideFooter" class="site-footer-container">\n<div class="site-footer">\n<div class="leftside-container">\n<div class="leftside-wrapper">\n<div class="logo-wrapper">\n<img alt="" class="logo-header" ovp-src="images/charter-logo.svg" aria-hidden="true"/>\n</div>\n<div class="copyright">&copy; {{$ctrl.thisYear}} Charter Communications</div>\n</div>\n</div>\n<div class="rigthside-container">\n<ul class="list-inline" ng-if="$ctrl.isSpecUOrBulkMDU()">\n<li><a href="{{$ctrl.privacyPolicyLink}}" target="_privacy" ng-click="$ctrl.clickYourPrivacyRightsLink()" aria-describedby="opens-in-new-tab">Your Privacy Rights</a></li>\n<li><a href="{{$ctrl.caConsumerPrivacyRights}}" target="_caprivacy" ng-click="$ctrl.clickCaliConsumerPrivacyRightsLink()" aria-describedby="opens-in-new-tab">California Consumer Privacy Rights</a></li>\n<li><a href="{{$ctrl.caDontSell}}" target="_cadontsell" ng-click="$ctrl.clickCaliConsumerDoNotSellLink()" aria-describedby="opens-in-new-tab">California Consumer Do Not Sell My Personal Information</a></li>\n<li><a href="{{$ctrl.termsAndConditionsLink}}" target="_terms" ng-click="$ctrl.clickPoliciesLink()" aria-describedby="opens-in-new-tab">Policies</a></li>\n<li ng-if="$ctrl.nielsenOptionsLink"><a href="{{$ctrl.nielsenOptionsLink}}" target="_nielsenOptions" ng-click="$ctrl.clickNielsenOptionsLink()" aria-describedby="opens-in-new-tab">Nielsen Measurement Options</a></li>\n<li ng-if="$ctrl.showDev"><a href="#" accesskey="t" ng-click="$ctrl.showDevTools()">Toggle Dev Tools</a></li>\n</ul>\n<ul class="list-inline" ng-if="!$ctrl.isSpecUOrBulkMDU()">\n<li><a href="{{$ctrl.privacyPolicyLink}}" target="_privacy" ng-click="$ctrl.clickYourPrivacyRightsLink(tvt)" aria-describedby="opens-in-new-tab">Your Privacy Rights</a></li>\n<li><a href="{{$ctrl.caConsumerPrivacyRights}}" target="_caprivacy" ng-click="$ctrl.clickCaliConsumerPrivacyRightsLink()" aria-describedby="opens-in-new-tab">California Consumer Privacy Rights</a></li>\n<li><a href="{{$ctrl.caDontSell}}" target="_cadontsell" ng-click="$ctrl.clickCaliConsumerDoNotSellLink()" aria-describedby="opens-in-new-tab">California Consumer Do Not Sell My Personal Information</a></li>\n<li ng-if="$ctrl.nielsenOptionsLink"><a href="{{$ctrl.nielsenOptionsLink}}" target="_nielsenOptions" ng-click="$ctrl.clickNielsenOptionsLink()" aria-describedby="opens-in-new-tab">Nielsen Measurement Options</a></li>\n<li><a href="{{$ctrl.termsAndConditionsLink}}" target="_terms" ng-click="$ctrl.clickPoliciesLink($event)" aria-describedby="opens-in-new-tab">Policies</a></li>\n</ul>\n<p id="opens-in-new-tab" style="display:none">opens in new tab</p>\n</div>\n</div>\n</div>\n',o="js/components/footer/site-footer.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},xVNG:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="specu-activation-failure-container">\n<img ovp-src="/images/logo-specu-horiz.svg" alt="Spectrum U" width="299px" height="47px">\n<div class="si si-circle-caution-f icon-kite-red icon-md" aria-hidden="true"></div>\n<h1 tabindex="-2" focus-once class="kite-h3" ng-bind-html="$ctrl.error.title"></h1>\n<p ng-bind-html="$ctrl.error.message"></p>\n<a ng-hide="$ctrl.error.hideRetry" ng-click="$ctrl.clickRetry()" href="/activate?retry=true">Retry?</a>\n</div>\n',o="js/specu/failure.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},xXtZ:function(e,t){!function(){"use strict";angular.module("ovpApp.services.easService",[]).factory("easService",["$rootScope",function(e){var t=!1;return e.$on("EAS:start",function(){return t=!0}),e.$on("EAS:end",function(){return t=!1}),{isShowingEAS:function(){return t}}}])}()},xYW1:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="edit-scheduled">\n<div class="sr-only" id="scheduled-recording-dialog-header">{{$ctrl.scheduledRecording.recordSeries ? \'Record series\' : ($ctrl.model.isMovie ? \'Record movie\' : \'Record episode\')}}</div>\n<div ng-if="$ctrl.dvrTracker.active()" class="loading-container">\n<div class="spinner"></div>\n</div>\n<div ng-style="$ctrl.dvrTracker.active() && {visibility: \'hidden\'}">\n<div class="modal-kite-body">\n<div id="scheduled-recording-dialog-description" class="asset-info">\n<div class="asset text-left">\n{{$ctrl.scheduledRecording.title}}<br/>\n{{$ctrl.displayDate}}\n</div>\n<div class="network">\n<ovp-channel channel-id="$ctrl.scheduledRecording.displayChannel" mystro-service-id="$ctrl.scheduledRecording.mystroServiceId">\n</ovp-channel>\n</div>\n</div>\n<form>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showKeepUntil">\n<label for="keep-until" class="text-left">Keep Until</label>\n<select id="keep-until" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.deleteWhenSpaceIsNeeded" ng-options="opt as opt.label for opt in $ctrl.options.deleteWhenSpaceIsNeeded track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showSaveAtMost">\n<label for="save-at-most">Save at Most</label>\n<select id="save-at-most" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.numEpisodesToKeep" ng-options="opt as opt.label for opt in $ctrl.options.numEpisodesToKeep track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showRecord">\n<label for="record">Record</label>\n<select id="record" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.recordOnlyNewEpisodes" ng-options="opt as opt.label for opt in $ctrl.options.recordOnlyNewEpisodes track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showStartTime">\n<label for="start-time-select" class="text-left">Start Time</label>\n<select id="start-time-select" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.startAdjustMinutes" ng-options="opt as opt.label for opt in $ctrl.options.startAdjustMinutes track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showStopTime">\n<label for="stop-time-select">Stop Time</label>\n<select id="stop-time-select" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.stopAdjustMinutes" ng-options="opt as opt.label for opt in $ctrl.options.stopAdjustMinutes track by opt.value">\n</select>\n</div>\n<div class="kite-form-group text-left" ng-show="$ctrl.model.showAirTime">\n<label for="airtime" class="text-left">Air Time</label>\n<select id="airtime" ng-change="$ctrl.onSelect()" class="kite-form-control" role="combobox" ng-model="$ctrl.form.recordOnlyAtThisAirTime" ng-options="opt as opt.label for opt in $ctrl.options.recordOnlyAtThisAirTime track by opt.value">\n</select>\n</div>\n</form>\n</div>\n<div class="text-center">\n<ovp-button ng-hide="{{$ctrl.model.isNew}}" label="{{$ctrl.cancelLabel}}" class="cancel-btn" on-click="$ctrl.openConfirmCancelModal()"></ovp-button>\n<ovp-button ng-hide="{{$ctrl.model.isNew}}" label="Update" is-disabled="{{$ctrl.model.updateDisabled}}" on-click="$ctrl.updateSchedule()"></ovp-button>\n<ovp-button ng-show="{{$ctrl.model.isNew}}" label="Confirm" is-disabled="{{$ctrl.model.updateDisabled}}" on-click="$ctrl.updateSchedule()"></ovp-button>\n</div>\n</div>\n</div>\n',o="js/components/template-popup/edit-scheduled/edit-scheduled.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},xYk6:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return b});n("DQNa"),n("07d7"),n("JfAA");var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("PNUD"),d=n("I+BT"),p=n("Dhhs"),h=n("8fEJ"),v=n("UntU");function f(){return m.apply(this,arguments)}function m(){return(m=s()(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.a.getSelectorValue(p.g),n=u.a.getSelectorValue(h.a),r=g(null===n||void 0===n?void 0:n.offsetFromGMT),!t||!n){e.next=7;break}return e.next=6,Object(v.h)();case 6:l.a.set(d.d.TIME_ZONE,{timeZone:r});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return"UTC"+(e<0?"-":"+")+(e>-9&&e<9?"0":0)+Math.abs(e).toString()+":00"}var b=function(){return r}},xiw1:function(module,exports){
/*!
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
!function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();return"area"===i?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(!!(t=e("img[usemap=#"+i+"]")[0])&&r(t))):(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i&&t.href||n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){n=e(this[0]);for(var r;n.length&&n[0]!==document;){if(("absolute"===(r=n.css("position"))||"relative"===r||"fixed"===r)&&(r=parseInt(n.css("zIndex"),10),!isNaN(r)&&0!==r))return r;n=n.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],a=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?s["inner"+r].call(this):this.each(function(){e(this).css(a,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){for(var i in t=e.ui[t].prototype,r)t.plugins[i]=t.plugins[i]||[],t.plugins[i].push([n,r[i]])},call:function(e,t,n){if((t=e.plugins[t])&&e.element[0].parentNode)for(var r=0;r<t.length;r++)e.options[t[r][0]]&&t[r][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r;return t[n=n&&"left"===n?"scrollLeft":"scrollTop"]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,o,a){return e.ui.isOverAxis(t,r,o)&&e.ui.isOverAxis(n,i,a)}}))}(jQuery),
/*!
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r,i=0;null!=(r=t[i]);i++)try{e(r).triggerHandler("remove")}catch(e){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||t&&!e.filter(t,[this]).length||e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(e){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i,o=t.split(".")[0];i=o+"-"+(t=t.split(".")[1]),r||(r=n,n=e.Widget),e.expr[":"][i]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)},(n=new n).options=e.extend(!0,{},n.options),e[o][t].prototype=e.extend(!0,n,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:i},r),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var o="string"==typeof i,a=Array.prototype.slice.call(arguments,1),s=this;return i=!o&&a.length?e.extend.apply(null,[!0,i].concat(a)):i,o&&"_"===i.charAt(0)?s:(o?this.each(function(){var r=e.data(this,n),o=r&&e.isFunction(r[i])?r[i].apply(r,a):r;if(o!==r&&o!==t)return s=o,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),s)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(r===t)return this.options[n];(i={})[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i=this.options[t];if((n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{},n.originalEvent){t=e.event.props.length;for(var o;t;)n[o=e.event.props[--t]]=n.originalEvent[o]}return this.element.trigger(n,r),!(e.isFunction(i)&&!1===i.call(this.element[0],n,r)||n.isDefaultPrevented())}}}(jQuery),
/*!
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1==n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0))}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t))?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,n=/top|center|bottom/,r=e.fn.position,i=e.fn.offset;e.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);i=e.extend({},i);var o,a,s,c=e(i.of),l=c[0],u=(i.collision||"flip").split(" "),d=i.offset?i.offset.split(" "):[0,0];return 9===l.nodeType?(o=c.width(),a=c.height(),s={top:0,left:0}):l.setTimeout?(o=c.width(),a=c.height(),s={top:c.scrollTop(),left:c.scrollLeft()}):l.preventDefault?(i.at="left top",o=a=0,s={top:i.of.pageY,left:i.of.pageX}):(o=c.outerWidth(),a=c.outerHeight(),s=c.offset()),e.each(["my","at"],function(){var e=(i[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat(["center"]):n.test(e[0])?["center"].concat(e):["center","center"]),e[0]=t.test(e[0])?e[0]:"center",e[1]=n.test(e[1])?e[1]:"center",i[this]=e}),1===u.length&&(u[1]=u[0]),d[0]=parseInt(d[0],10)||0,1===d.length&&(d[1]=d[0]),d[1]=parseInt(d[1],10)||0,"right"===i.at[0]?s.left+=o:"center"===i.at[0]&&(s.left+=o/2),"bottom"===i.at[1]?s.top+=a:"center"===i.at[1]&&(s.top+=a/2),s.left+=d[0],s.top+=d[1],this.each(function(){var t,n=e(this),r=n.outerWidth(),c=n.outerHeight(),l=parseInt(e.curCSS(this,"marginLeft",!0))||0,p=parseInt(e.curCSS(this,"marginTop",!0))||0,h=r+l+(parseInt(e.curCSS(this,"marginRight",!0))||0),v=c+p+(parseInt(e.curCSS(this,"marginBottom",!0))||0),f=e.extend({},s);"right"===i.my[0]?f.left-=r:"center"===i.my[0]&&(f.left-=r/2),"bottom"===i.my[1]?f.top-=c:"center"===i.my[1]&&(f.top-=c/2),f.left=Math.round(f.left),f.top=Math.round(f.top),t={left:f.left-l,top:f.top-p},e.each(["left","top"],function(n,s){e.ui.position[u[n]]&&e.ui.position[u[n]][s](f,{targetWidth:o,targetHeight:a,elemWidth:r,elemHeight:c,collisionPosition:t,collisionWidth:h,collisionHeight:v,offset:d,my:i.my,at:i.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(f,{using:i.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window);r=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),t.left=r>0?t.left-r:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window);r=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),t.top=r>0?t.top-r:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if("center"!==n.at[0]){var r=e(window);r=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();var i="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,o="left"===n.at[0]?n.targetWidth:-n.targetWidth,a=-2*n.offset[0];t.left+=n.collisionPosition.left<0?i+o+a:r>0?i+o+a:0}},top:function(t,n){if("center"!==n.at[1]){var r=e(window);r=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();var i="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,o="top"===n.at[1]?n.targetHeight:-n.targetHeight,a=-2*n.offset[1];t.top+=n.collisionPosition.top<0?i+o+a:r>0?i+o+a:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),o=parseInt(e.curCSS(t,"top",!0),10)||0,a=parseInt(e.curCSS(t,"left",!0),10)||0;i={top:n.top-i.top+o,left:n.left-i.left+a},"using"in n?n.using.call(t,i):r.css(i)},e.fn.offset=function(t){var n=this[0];return n&&n.ownerDocument?t?this.each(function(){e.offset.setOffset(this,t)}):i.call(this):null})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle&&(n.iframeFix&&e(!0===n.iframeFix?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){if(n=this._uiHash(),!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==r._trigger("stop",t)&&r._clear()})}else!1!==this._trigger("stop",t)&&this._clear();return!1},_mouseUp:function(t){return!0===this.options.iframeFix&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options;return(t=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element).parents("body").length||t.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),t[0]!=this.element[0]&&!/(fixed|absolute)/.test(t.css("position"))&&t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=(t=e(t.containment))[0];if(n){t.offset();var r="hidden"!=e(n).css("overflow");this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t}}},_convertPositionTo:function(t,n){n||(n=this.position),t="absolute"==t?1:-1;var r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop())*t),left:n.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())*t)}},_generatePosition:function(t){var n,r=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName),a=t.pageX,s=t.pageY;this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),n=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(s=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(s=n[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=n&&(s-this.offset.click.top<n[1]||s-this.offset.click.top>n[3])?s-this.offset.click.top<n[1]?s+r.grid[1]:s-r.grid[1]:s,a=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=n&&(a-this.offset.click.left<n[0]||a-this.offset.click.left>n[2])?a-this.offset.click.left<n[0]?a+r.grid[0]:a-r.grid[0]:a));return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.16"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,o=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){t=e(n.helper),n=e(this).data("draggable").options,t.css("opacity")&&(n._opacity=t.css("opacity")),t.css("opacity",n.opacity)},stop:function(t,n){(t=e(this).data("draggable").options)._opacity&&e(n.helper).css("opacity",t._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),r=n.options,i=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),!1!==i&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){for(var r=e(this).data("draggable"),i=r.options,o=i.snapTolerance,a=n.offset.left,s=a+r.helperProportions.width,c=n.offset.top,l=c+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--){var d=r.snapElements[u].left,p=d+r.snapElements[u].width,h=r.snapElements[u].top,v=h+r.snapElements[u].height;if(d-o<a&&a<p+o&&h-o<c&&c<v+o||d-o<a&&a<p+o&&h-o<l&&l<v+o||d-o<s&&s<p+o&&h-o<c&&c<v+o||d-o<s&&s<p+o&&h-o<l&&l<v+o){if("inner"!=i.snapMode){var f=Math.abs(h-l)<=o,m=Math.abs(v-c)<=o,g=Math.abs(d-s)<=o,b=Math.abs(p-a)<=o;f&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:p}).left-r.margins.left)}var y=f||m||g||b;"outer"!=i.snapMode&&(f=Math.abs(h-c)<=o,m=Math.abs(v-l)<=o,g=Math.abs(d-a)<=o,b=Math.abs(p-s)<=o,f&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:d}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:p-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[u].snapping&&(f||m||g||b||y)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=f||m||g||b||y}else r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options;if((t=e.makeArray(e(t.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)})).length){var n=parseInt(t[0].style.zIndex)||0;e(t).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+t.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){t=e(n.helper),n=e(this).data("draggable").options,t.css("zIndex")&&(n._zIndex=t.css("zIndex")),t.css("zIndex",n.zIndex)},stop:function(t,n){(t=e(this).data("draggable").options)._zIndex&&e(n.helper).css("zIndex",t._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var i=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope==r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.16"}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var i=(t.positionAbs||t.position.absolute).left,o=i+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,s=a+t.helperProportions.height,c=n.offset.left,l=c+n.proportions.width,u=n.offset.top,d=u+n.proportions.height;switch(r){case"fit":return c<=i&&o<=l&&u<=a&&s<=d;case"intersect":return c<i+t.helperProportions.width/2&&o-t.helperProportions.width/2<l&&u<a+t.helperProportions.height/2&&s-t.helperProportions.height/2<d;case"pointer":return e.ui.isOver((t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,u,c,n.proportions.height,n.proportions.width);case"touch":return(a>=u&&a<=d||s>=u&&s<=d||a<u&&s>d)&&(i>=c&&i<=l||o>=c&&o<=l||i<c&&o>l);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope]||[],i=n?n.type:null,o=(t.currentItem||t.element).find(":data(droppable)").andSelf(),a=0;e:for(;a<r.length;a++)if(!(r[a].options.disabled||t&&!r[a].accept.call(r[a].element[0],t.currentItem||t.element))){for(var s=0;s<o.length;s++)if(o[s]==r[a].element[0]){r[a].proportions.height=0;continue e}r[a].visible="none"!=r[a].element.css("display"),r[a].visible&&("mousedown"==i&&r[a]._activate.call(r[a],n),r[a].offset=r[a].element.offset(),r[a].proportions={width:r[a].element[0].offsetWidth,height:r[a].element[0].offsetHeight})}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=r||this._drop.call(this,n)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r=e.ui.intersect(t,this,this.options.tolerance);if(r=r||1!=this.isover?r&&0==this.isover?"isover":null:"isout"){var i;if(this.options.greedy){var o=this.element.parents(":data(droppable):eq(0)");o.length&&((i=e.data(o[0],"droppable")).greedyChild="isover"==r?1:0)}i&&"isover"==r&&(i.isover=0,i.isout=1,i._out.call(i,n)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,n),i&&"isout"==r&&(i.isout=0,i.isover=1,i._over.call(i,n))}}})},dragStop:function(t,n){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var o=e.trim(r[i]),a=e('<div class="ui-resizable-handle ui-resizable-'+o+'"></div>');/sw|se|ne|nw/.test(o)&&a.css({zIndex:++n.zIndex}),"se"==o&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(a)}}this._renderAxis=function(t){for(var n in t=t||this.element,this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r,i=e(this.handles[n],this.element);r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()}e(this.handles[n])}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var r=this.options,i=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:i.top,left:i.left}),e.browser.opera&&/relative/.test(o.css("position"))&&o.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),i=t(this.helper.css("left"));var a=t(this.helper.css("top"));return r.containment&&(i+=e(r.containment).scrollLeft()||0,a+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:a},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:i,top:a},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"==r?this.axis+"-resize":r),o.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var t=this.helper,n=this.originalMousePosition,r=this._change[this.axis];return!!r&&(n=r.apply(this,[e,e.pageX-n.left||0,e.pageY-n.top||0]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(n),this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName);i=o&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,o=o?0:r.sizeDiff.width,o={width:r.helper.width()-o,height:r.helper.height()-i},i=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null;var a=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(o,{top:a,left:i})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,r,i,o=this.options;o={minWidth:n(o.minWidth)?o.minWidth:0,maxWidth:n(o.maxWidth)?o.maxWidth:1/0,minHeight:n(o.minHeight)?o.minHeight:0,maxHeight:n(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(e=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,t=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),r>o.minHeight&&(o.minHeight=r),t<o.maxWidth&&(o.maxWidth=t),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,r=this.size,i=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==i&&(e.left=t.left+(r.width-e.width),e.top=null),"nw"==i&&(e.top=t.top+(r.height-e.height),e.left=t.left+(r.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,r=this.axis,i=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=n(e.width)&&t.minWidth&&t.minWidth>e.width,s=n(e.height)&&t.minHeight&&t.minHeight>e.height;a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight);var c=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(r);return r=/nw|ne|n/.test(r),a&&u&&(e.left=c-t.minWidth),i&&u&&(e.left=c-t.maxWidth),s&&r&&(e.top=l-t.minHeight),o&&r&&(e.top=l-t.maxHeight),(t=!e.width&&!e.height)&&!e.left&&e.top?e.top=null:t&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var r=this._proportionallyResizeElements[n];if(!this.borderDif){var i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],o=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")];this.borderDif=e.map(i,function(e,t){return(e=parseInt(e,10)||0)+(t=parseInt(o[t],10)||0)})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||r.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.options;if(this.elementOffset=this.element.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.browser.msie&&e.browser.version<7,r=n?1:0;n=n?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+n,height:this.element.outerHeight()+n,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(e,t,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.16"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable").options,n=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?n(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],n(t.alsoResize)):e.each(t.alsoResize,function(e){n(e)})},resize:function(t,n){var r=e(this).data("resizable");t=r.options;var i=r.originalSize,o=r.originalPosition,a={height:r.size.height-i.height||0,width:r.size.width-i.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},s=function(t,i){e(t).each(function(){var t=e(this),o=e(this).data("resizable-alsoresize"),s={},c=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(c,function(e,t){(e=(o[t]||0)+(a[t]||0))&&e>=0&&(s[t]=e||null)}),e.browser.opera&&/relative/.test(t.css("position"))&&(r._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(s)})};"object"!=typeof t.alsoResize||t.alsoResize.nodeType?s(t.alsoResize):e.each(t.alsoResize,function(e,t){s(e,t)})},stop:function(){var t=e(this).data("resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.css({position:t.data("resizable-alsoresize").position})})};t._revertToRelativePosition&&(t._revertToRelativePosition=!1,"object"!=typeof n.alsoResize||n.alsoResize.nodeType?r(n.alsoResize):e.each(n.alsoResize,function(e){r(e)})),e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("resizable"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),a=o&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height;o={width:n.size.width-(o?0:n.sizeDiff.width),height:n.size.height-a},a=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null;var s=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(o,s&&a?{top:s,left:a}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n=e(this).data("resizable"),r=n.element,i=n.options.containment;if(r=i instanceof e?i.get(0):/parent/.test(i)?r.parent().get(0):i)if(n.containerElement=e(r),/document/.test(i)||i==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var o=e(r),a=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){a[e]=t(o.css("padding"+n))}),n.containerOffset=o.offset(),n.containerPosition=o.position(),n.containerSize={height:o.innerHeight()-a[3],width:o.innerWidth()-a[1]},i=n.containerOffset;var s=n.containerSize.height,c=n.containerSize.width;c=e.ui.hasScroll(r,"left")?r.scrollWidth:c,s=e.ui.hasScroll(r)?r.scrollHeight:s,n.parentData={element:r,left:i.left,top:i.top,width:c,height:s}}},resize:function(t){var n=e(this).data("resizable"),r=n.options,i=n.containerOffset,o=n.position;t=n._aspectRatio||t.shiftKey;var a={top:0,left:0},s=n.containerElement;s[0]!=document&&/static/.test(s.css("position"))&&(a=i),o.left<(n._helper?i.left:0)&&(n.size.width+=n._helper?n.position.left-i.left:n.position.left-a.left,t&&(n.size.height=n.size.width/r.aspectRatio),n.position.left=r.helper?i.left:0),o.top<(n._helper?i.top:0)&&(n.size.height+=n._helper?n.position.top-i.top:n.position.top,t&&(n.size.width=n.size.height*r.aspectRatio),n.position.top=n._helper?i.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top,r=Math.abs((n._helper,n.offset.left-a.left+n.sizeDiff.width)),i=Math.abs((n._helper?n.offset.top-a.top:n.offset.top-i.top)+n.sizeDiff.height),o=n.containerElement.get(0)==n.element.parent().get(0),a=/relative|absolute/.test(n.containerElement.css("position")),o&&a&&(r-=n.parentData.left),r+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-r,t&&(n.size.height=n.size.width/n.aspectRatio)),i+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-i,t&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var t=e(this).data("resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),c=a.outerWidth()-t.sizeDiff.width;a=a.outerHeight()-t.sizeDiff.height,t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:c,height:a}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:c,height:a})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("resizable"),n=t.options,r=t.size,i=t.originalSize,o=t.originalPosition,a=t.axis;n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var s=Math.round((r.width-i.width)/(n.grid[0]||1))*(n.grid[0]||1);n=Math.round((r.height-i.height)/(n.grid[1]||1))*(n.grid[1]||1),/^(se|s|e)$/.test(a)?(t.size.width=i.width+s,t.size.height=i.height+n):/^(ne)$/.test(a)?(t.size.width=i.width+s,t.size.height=i.height+n,t.position.top=o.top-n):(/^(sw)$/.test(a)?(t.size.width=i.width+s,t.size.height=i.height+n):(t.size.width=i.width+s,t.size.height=i.height+n,t.position.top=o.top-n),t.position.left=o.left-s)}});var t=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var r=this.options;this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().andSelf().each(function(){var r=e.data(this,"selectable-item");if(r){var i=!t.metaKey||!r.$element.hasClass("ui-selected");return r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,(r.selected=i)?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1}})}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var r=this.options,i=this.opos[0],o=this.opos[1],a=t.pageX,s=t.pageY;if(i>a){var c=a;a=i,i=c}return o>s&&(c=s,s=o,o=c),this.helper.css({left:i,top:o,width:a-i,height:s-o}),this.selectees.each(function(){var c=e.data(this,"selectable-item");if(c&&c.element!=n.element[0]){var l=!1;"touch"==r.tolerance?l=!(c.left>a||c.right<i||c.top>s||c.bottom<o):"fit"==r.tolerance&&(l=c.left>i&&c.right<a&&c.top>o&&c.bottom<s),l?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,n._trigger("selecting",t,{selecting:c.element}))):(c.selecting&&(t.metaKey&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),n._trigger("unselecting",t,{unselecting:c.element}))),c.selected&&(t.metaKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,n._trigger("unselecting",t,{unselecting:c.element}))))}}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.16"})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData("sortable-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null,i=this;if(e(t.target).parents().each(function(){if(e.data(this,"sortable-item")==i)return r=e(this),!1}),e.data(t.target,"sortable-item")==i&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!n){var o=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",n.cursor)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}for(this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--){var i=(r=this.items[n]).item[0],o=this._intersectsWithPointer(r);if(o&&!(i==this.currentItem[0]||this.placeholder[1==o?"next":"prev"]()[0]==i||e.ui.contains(this.placeholder[0],i)||"semi-dynamic"==this.options.type&&e.ui.contains(this.element[0],i))){if(this.direction=1==o?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this;n=r.placeholder.offset(),r.reverting=!0,e(this.helper).animate({left:n.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:n.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,c=s+e.height,l=this.offset.click.top,u=this.offset.click.left;return l=r+l>s&&r+l<c&&t+u>o&&t+u<a,"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?l:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<c},_intersectsWithPointer:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=n&&t,t=this._getDragVerticalDirection();var r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"==r||"down"==t?2:1:t&&("down"==t?2:1))},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height);t=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width);var r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"==i&&t||"left"==i&&!t:r&&("down"==r&&n||"up"==r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(t=i.length-1;t>=0;t--)for(var o=e(i[t]),a=o.length-1;a>=0;a--){var s=e.data(o[a],"sortable");s&&s!=this&&!s.options.disabled&&r.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}for(r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;t>=0;t--)r[t][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i)for(var o=i.length-1;o>=0;o--)for(var a=e(i[o]),s=a.length-1;s>=0;s--){var c=e.data(a[s],"sortable");c&&c!=this&&!c.options.disabled&&(r.push([e.isFunction(c.options.items)?c.options.items.call(c.element[0],t,{item:this.currentItem}):e(c.options.items,c.element),c]),this.containers.push(c))}for(o=r.length-1;o>=0;o--)for(t=r[o][1],s=0,a=(i=r[o][0]).length;s<a;s++)(c=e(i[s])).data("sortable-item",t),n.push({item:c,instance:t,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight()),i=i.offset(),r.left=i.left,r.top=i.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)i=this.containers[n].element.offset(),this.containers[n].containerCache.left=i.left,this.containers[n].containerCache.top=i.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n=t||this,r=n.options;if(!r.placeholder||r.placeholder.constructor==String){var i=r.placeholder;r.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(i||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(t.style.visibility="hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,r=null,i=this.containers.length-1;i>=0;i--)e.ui.contains(this.currentItem[0],this.containers[i].element[0])||(this._intersectsWith(this.containers[i].containerCache)?n&&e.ui.contains(this.containers[i].element[0],n.element[0])||(n=this.containers[i],r=i):this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0));if(n)if(1===this.containers.length)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else if(this.currentContainer!=this.containers[r]){n=1e4,i=null;for(var o=this.positionAbs[this.containers[r].floating?"left":"top"],a=this.items.length-1;a>=0;a--)if(e.ui.contains(this.containers[r].element[0],this.items[a].item[0])){var s=this.items[a][this.containers[r].floating?"left":"top"];Math.abs(s-o)<n&&(n=Math.abs(s-o),i=this.items[a])}(i||this.options.dropOnEmpty)&&(this.currentContainer=this.containers[r],i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1)}},_createHelper:function(t){var n=this.options;return(t=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem).parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(t[0]),t[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==t[0].style.width||n.forceHelperSize)&&t.width(this.currentItem.width()),(""==t[0].style.height||n.forceHelperSize)&&t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0];t=e(t.containment).offset();var r="hidden"!=e(n).css("overflow");this.containment=[t.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,t.left+(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position),t="absolute"==t?1:-1;var r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop())*t),left:n.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())*t)}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=t.pageX,a=t.pageY;return this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(a=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment&&(a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3])?a-this.offset.click.top<this.containment[1]?a+n.grid[1]:a-n.grid[1]:a,o=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment&&(o-this.offset.click.left<this.containment[0]||o-this.offset.click.left>this.containment[2])?o-this.offset.click.left<this.containment[0]?o+n.grid[0]:o-n.grid[0]:o)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this,o=this.counter;window.setTimeout(function(){o==i.counter&&i.refreshPositions(!r)},0)},_clear:function(t,n){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||r.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0]))for(n||r.push(function(e){this._trigger("remove",e,this._uiHash())}),i=this.containers.length-1;i>=0;i--)e.ui.contains(this.containers[i].element[0],this.currentItem[0])&&!n&&(r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[i])),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[i])));for(i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.16"})}(jQuery),function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,n=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){n.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){n.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){n.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){n.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),n.navigation){var r=t.element.find("a").filter(n.navigationFilter).eq(0);if(r.length){var i=r.closest(".ui-accordion-header");t.active=i.length?i:r.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||n.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),n.event&&t.headers.bind(n.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var n=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&n.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(n),"icons"==t&&(this._destroyIcons(),n&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[n?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:o=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return!o||(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),!1)}},resize:function(){var t,n=this.options;if(n.fillSpace){if(e.browser.msie){var r=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",r),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else n.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){return this.options.active=e,e=this._findActive(e)[0],this._clickHandler({target:e},e),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):!1===t?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,n){var r=this.options;if(!r.disabled)if(t.target){if(n=(t=e(t.currentTarget||n))[0]===this.active[0],r.active=(!r.collapsible||!n)&&this.headers.index(t),!(this.running||!r.collapsible&&n)){var i=this.active;c=t.next(),a=this.active.next(),s={options:r,newHeader:n&&r.collapsible?e([]):t,oldHeader:this.active,newContent:n&&r.collapsible?e([]):c,oldContent:a};var o=this.headers.index(this.active[0])>this.headers.index(t[0]);this.active=n?e([]):t,this._toggle(c,a,s,n,o),i.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),n||(t.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),t.next().addClass("ui-accordion-content-active"))}}else if(r.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),this.active.next().addClass("ui-accordion-content-active");var a=this.active.next(),s={options:r,newHeader:e([]),oldHeader:r.active,newContent:e([]),oldContent:a},c=this.active=e([]);this._toggle(c,a,s)}},_toggle:function(t,n,r,i,o){var a=this,s=a.options;a.toShow=t,a.toHide=n,a.data=r;var c=function(){if(a)return a._completed.apply(a,arguments)};if(a._trigger("changestart",null,a.data),a.running=0===n.size()?t.size():n.size(),s.animated){r={},r=s.collapsible&&i?{toShow:e([]),toHide:n,complete:c,down:o,autoHeight:s.autoHeight||s.fillSpace}:{toShow:t,toHide:n,complete:c,down:o,autoHeight:s.autoHeight||s.fillSpace},s.proxied||(s.proxied=s.animated),s.proxiedDuration||(s.proxiedDuration=s.duration),s.animated=e.isFunction(s.proxied)?s.proxied(r):s.proxied,s.duration=e.isFunction(s.proxiedDuration)?s.proxiedDuration(r):s.proxiedDuration,i=e.ui.accordion.animations;var l=s.duration,u=s.animated;!u||i[u]||e.easing[u]||(u="slide"),i[u]||(i[u]=function(e){this.slide(e,{easing:u,duration:l||700})}),i[u](r)}else s.collapsible&&i?t.toggle():(n.hide(),t.show()),c(!0);n.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.16",animations:{slide:function(t,n){if((t=e.extend({easing:"swing",duration:300},t,n)).toHide.size())if(t.toShow.size()){var r,i=t.toShow.css("overflow"),o=0,a={},s={};n=t.toShow,r=n[0].style.width,n.width(parseInt(n.parent().width(),10)-parseInt(n.css("paddingLeft"),10)-parseInt(n.css("paddingRight"),10)-(parseInt(n.css("borderLeftWidth"),10)||0)-(parseInt(n.css("borderRightWidth"),10)||0)),e.each(["height","paddingTop","paddingBottom"],function(n,r){s[r]="hide",n=(""+e.css(t.toShow[0],r)).match(/^([\d+-.]+)(.*)$/),a[r]={value:n[1],unit:n[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(s,{step:function(e,n){"height"==n.prop&&(o=n.end-n.start==0?0:(n.now-n.start)/(n.end-n.start)),t.toShow[0].style[n.prop]=o*a[n.prop].value+a[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:r,overflow:i}),t.complete()}})}else t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t);else t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t)},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,n=this,r=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(r){if(!n.options.disabled&&!n.element.propAttr("readOnly")){t=!1;var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:n._move("previousPage",r);break;case i.PAGE_DOWN:n._move("nextPage",r);break;case i.UP:n._move("previous",r),r.preventDefault();break;case i.DOWN:n._move("next",r),r.preventDefault();break;case i.ENTER:case i.NUMPAD_ENTER:n.menu.active&&(t=!0,r.preventDefault());case i.TAB:if(!n.menu.active)return;n.menu.select(r);break;case i.ESCAPE:n.element.val(n.term),n.close(r);break;default:clearTimeout(n.searching),n.searching=setTimeout(function(){n.term!=n.element.val()&&(n.selectedItem=null,n.search(null,r))},n.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){n.options.disabled||(n.selectedItem=null,n.previous=n.element.val())}).bind("blur.autocomplete",function(e){n.options.disabled||(clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(e),n._change(e)},150))}),this._initSource(),this.response=function(){return n._response.apply(n,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",r)[0]).mousedown(function(t){var r=n.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target!==n.element[0]&&t.target!==r&&!e.ui.contains(r,t.target)&&n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).menu({focus:function(e,t){t=t.item.data("item.autocomplete"),!1!==n._trigger("focus",e,{item:t})&&/^key/.test(e.originalEvent.type)&&n.element.val(t.value)},selected:function(e,t){var i=t.item.data("item.autocomplete"),o=n.previous;n.element[0]!==r.activeElement&&(n.element.focus(),n.previous=o,setTimeout(function(){n.previous=o,n.selectedItem=i},1)),!1!==n._trigger("select",e,{item:i})&&n.element.val(i.value),n.term=n.element.val(),n.close(e),n.selectedItem=i},blur:function(){n.menu.element.is(":visible")&&n.element.val()!==n.term&&n.element.val(n.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var n,r,i=this;e.isArray(this.options.source)?(n=this.options.source,this.source=function(t,r){r(e.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(n,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:r,data:n,dataType:"json",autocompleteRequest:++t,success:function(e){this.autocompleteRequest===t&&o(e)},error:function(){this.autocompleteRequest===t&&o([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),!1!==this._trigger("search",t)?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this.response)},_response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate()):this.menu[e](t):this.search(null,t)},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){e(n.target).closest(".ui-menu-item a").length&&(n.preventDefault(),t.select(n))}),this.refresh()},refresh:function(){var t=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var n=t.offset().top-this.element.offset().top,r=this.element.scrollTop(),i=this.element.height();n<0?this.element.scrollTop(r+n):n>=i&&this.element.scrollTop(r+n-i+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){this.active&&(e=this.active[e+"All"](".ui-menu-item").eq(0)).length?this.activate(n,e):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll())if(!this.active||this.last())this.activate(t,this.element.children(".ui-menu-item:first"));else{var n=this.active.offset().top,r=this.element.height(),i=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-r+e(this).height();return t<10&&t>-10});i.length||(i=this.element.children(".ui-menu-item:last")),this.activate(t,i)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll())if(!this.active||this.first())this.activate(t,this.element.children(".ui-menu-item:last"));else{var n=this.active.offset().top,r=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+r-e(this).height();return t<10&&t>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(t,result)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e){var t,n,r,i,o=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},a=function(t){var n=t.name,r=t.form,i=e([]);return n&&(i=r?e(r).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),i};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",o),"boolean"!=typeof this.options.disabled&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,c=this.options,l="checkbox"===this.type||"radio"===this.type,u="ui-state-hover"+(l?"":" ui-state-active");null===c.label&&(c.label=this.buttonElement.html()),this.element.is(":disabled")&&(c.disabled=!0),this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){c.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){c.disabled||e(this).removeClass(u)}).bind("click.button",function(e){c.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){s.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){s.buttonElement.removeClass("ui-state-focus")}),l&&(this.element.bind("change.button",function(){i||s.refresh()}),this.buttonElement.bind("mousedown.button",function(e){c.disabled||(i=!1,n=e.pageX,r=e.pageY)}).bind("mouseup.button",function(e){c.disabled||n===e.pageX&&r===e.pageY||(i=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(c.disabled||i)return!1;e(this).toggleClass("ui-state-active"),s.buttonElement.attr("aria-pressed",s.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(c.disabled||i)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var t=s.element[0];a(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return!1;e(this).addClass("ui-state-active"),t=this,e(document).one("mouseup",function(){t=null})}).bind("mouseup.button",function(){if(c.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown.button",function(t){if(c.disabled)return!1;t.keyCode!=e.ui.keyCode.SPACE&&t.keyCode!=e.ui.keyCode.ENTER||e(this).addClass("ui-state-active")}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",c.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(e=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",e)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t?n?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var t=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),n=e("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,o=[];r.primary||r.secondary?(this.options.text&&o.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary")),r.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(o.push(i?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",n))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,n){"disabled"===t&&this.buttons.button("option",t,n),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t="ltr"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-left":"ui-corner-right").end().filter(":last").addClass(t?"ui-corner-right":"ui-corner-left").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),function(e,t){var n={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},i=e.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,n=t.options,r=n.title||"&#160;",i=e.ui.dialog.getTitleId(t.element),o=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+n.dialogClass).css({zIndex:n.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){n.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===e.ui.keyCode.ESCAPE&&(t.close(r),r.preventDefault())}).attr({role:"dialog","aria-labelledby":i}).mousedown(function(e){t.moveToTop(!1,e)});t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o);var a=(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),s=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){s.addClass("ui-state-hover")},function(){s.removeClass("ui-state-hover")}).focus(function(){s.addClass("ui-state-focus")}).blur(function(){s.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(a);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(n.closeText).appendTo(s),e("<span></span>").addClass("ui-dialog-title").attr("id",i).html(r).prependTo(a),e.isFunction(n.beforeclose)&&!e.isFunction(n.beforeClose)&&(n.beforeClose=n.beforeclose),a.find("*").add(a).disableSelection(),n.draggable&&e.fn.draggable&&t._makeDraggable(),n.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(n.buttons),t._isOpen=!1,e.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var n,r,i=this;if(!1!==i._trigger("beforeClose",t))return i.overlay&&i.overlay.destroy(),i.uiDialog.unbind("keypress.ui-dialog"),i._isOpen=!1,i.options.hide?i.uiDialog.hide(i.options.hide,function(){i._trigger("close",t)}):(i.uiDialog.hide(),i._trigger("close",t)),e.ui.dialog.overlay.resize(),i.options.modal&&(n=0,e(".ui-dialog").each(function(){this!==i.uiDialog[0]&&(r=e(this).css("z-index"),isNaN(r)||(n=Math.max(n,r)))}),e.ui.dialog.maxZ=n),i},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var r=this,i=r.options;return i.modal&&!t||!i.stack&&!i.modal?r._trigger("focus",n):(i.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=i.zIndex),r.overlay&&(e.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),t={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},e.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",e.ui.dialog.maxZ),r.element.attr(t),r._trigger("focus",n),r)},open:function(){if(!this._isOpen){var t=this,n=t.options,r=t.uiDialog;return t.overlay=n.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(n.position),r.show(n.show),t.moveToTop(!0),n.modal&&r.bind("keypress.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",this),r=n.filter(":first");if(n=n.filter(":last"),t.target===n[0]&&!t.shiftKey)return r.focus(1),!1;if(t.target===r[0]&&t.shiftKey)return n.focus(1),!1}}),e(t.element.find(":tabbable").get().concat(r.find(".ui-dialog-buttonpane :tabbable").get().concat(r.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var n=this,r=!1,o=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),a=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(o);n.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(r=!0)}),r&&(e.each(t,function(t,r){r=e.isFunction(r)?{click:r,text:t}:r;var o=e('<button type="button"></button>').click(function(){r.click.apply(n.element[0],arguments)}).appendTo(a);e.each(r,function(e,t){"click"!==e&&(e in i?o[e](t):o.attr(e,t))}),e.fn.button&&o.button()}),o.appendTo(n.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n,r=this,i=r.options,o=e(document);r.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(o,a){n="auto"===i.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),r._trigger("dragStart",o,t(a))},drag:function(e,n){r._trigger("drag",e,t(n))},stop:function(a,s){i.position=[s.position.left-o.scrollLeft(),s.position.top-o.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(n),r._trigger("dragStop",a,t(s)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(t){function n(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}t=void 0===t?this.options.resizable:t;var r=this,i=r.options,o=r.uiDialog.css("position");t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw",r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:r._minHeight(),handles:t,start:function(t,i){e(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,n(i))},resize:function(e,t){r._trigger("resize",e,n(t))},stop:function(t,o){e(this).removeClass("ui-dialog-resizing"),i.height=e(this).height(),i.width=e(this).width(),r._trigger("resizeStop",t,n(o)),e.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,r=[],i=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(r=t.split?t.split(" "):[t[0],t[1]]).length&&(r[1]=r[0]),e.each(["left","top"],function(e,t){+r[e]===r[e]&&(i[e]=r[e],r[e]=t)}),t={my:r.join(" "),at:r.join(" "),offset:i.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,(n=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),n||this.uiDialog.hide()},_setOptions:function(t){var i=this,o={},a=!1;e.each(t,function(e,t){i._setOption(e,t),e in n&&(a=!0),e in r&&(o[e]=t)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,n){var r=this,i=r.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":r._createButtons(n);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+n);break;case"dialogClass":i.removeClass(r.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+n);break;case"disabled":n?i.addClass("ui-dialog-disabled"):i.removeClass("ui-dialog-disabled");break;case"draggable":var o=i.is(":data(draggable)");o&&!n&&i.draggable("destroy"),!o&&n&&r._makeDraggable();break;case"position":r._position(n);break;case"resizable":(o=i.is(":data(resizable)"))&&!n&&i.resizable("destroy"),o&&"string"==typeof n&&i.resizable("option","handles",n),!o&&!1!==n&&r._makeResizable(n);break;case"title":e(".ui-dialog-title",r.uiDialogTitlebar).html(""+(n||"&#160;"))}e.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var t,n,r=this.options,i=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),r.minWidth>r.width&&(r.width=r.minWidth),t=this.uiDialog.css({height:"auto",width:r.width}).height(),n=Math.max(0,r.minHeight-t),"auto"===r.height?e.support.minHeight?this.element.css({minHeight:n,height:"auto"}):(this.uiDialog.show(),r=this.element.css("height","auto").height(),i||this.uiDialog.hide(),this.element.height(Math.max(r,n))):this.element.height(Math.max(r.height-t,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.16",uuid:0,maxZ:0,getTitleId:function(e){return(e=e.attr("id"))||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){if(e(t.target).zIndex()<e.ui.dialog.overlay.maxZ)return!1})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances);-1!=n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var r=0;e.each(this.instances,function(){r=Math.max(r,this.css("z-index"))}),this.maxZ=r},height:function(){var t;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight))<Math.max(document.documentElement.offsetHeight,document.body.offsetHeight)?e(window).height()+"px":t+"px":e(document).height()+"px"},width:function(){var t;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth))<Math.max(document.documentElement.offsetWidth,document.body.offsetWidth)?e(window).width()+"px":t+"px":e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t=this,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),i=n.values&&n.values.length||1,o=[];this._mouseSliding=this._keySliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(!0===n.range&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&2!==n.values.length&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===n.range||"max"===n.range?" ui-slider-range-"+n.range:"")));for(var a=r.length;a<i;a+=1)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(e(o.join("")).appendTo(t.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(n){var r,i,o,a=!0,s=e(this).data("index.ui-slider-handle");if(!t.options.disabled){switch(n.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a=!1,!t._keySliding&&(t._keySliding=!0,e(this).addClass("ui-state-active"),!1===(r=t._start(n,s))))return}switch(o=t.options.step,r=i=t.options.values&&t.options.values.length?t.values(s):t.value(),n.keyCode){case e.ui.keyCode.HOME:i=t._valueMin();break;case e.ui.keyCode.END:i=t._valueMax();break;case e.ui.keyCode.PAGE_UP:i=t._trimAlignValue(r+(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:i=t._trimAlignValue(r-(t._valueMax()-t._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===t._valueMax())return;i=t._trimAlignValue(r+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===t._valueMin())return;i=t._trimAlignValue(r-o)}return t._slide(n,s,i),a}}).keyup(function(n){var r=e(this).data("index.ui-slider-handle");t._keySliding&&(t._keySliding=!1,t._stop(n,r),t._change(n,r),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n,r,i,o,a,s=this.options;return!s.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n=this._normValueFromMouse({x:t.pageX,y:t.pageY}),r=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var s=Math.abs(n-o.values(t));r>s&&(r=s,i=e(this),a=t)}),!0===s.range&&this.values(1)===s.min&&(a+=1,i=e(this.handles[a])),!1!==this._start(t,a)&&(this._mouseSliding=!0,o._handleIndex=a,i.addClass("ui-state-active").focus(),s=i.offset(),this._clickOffset=e(t.target).parents().andSelf().is(".ui-slider-handle")?{left:t.pageX-s.left-i.width()/2,top:t.pageY-s.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)}:{left:0,top:0},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t=this._normValueFromMouse({x:e.pageX,y:e.pageY});return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._clickOffset=this._handleIndex=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t;return"horizontal"===this.orientation?(t=this.elementSize.width,e=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(t=e/t)>1&&(t=1),t<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),this._trimAlignValue(this._valueMin()+t*e)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>r||1===t&&n<r)&&(n=r),n!==this.values(t)&&((r=this.values())[t]=n,e=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),this.values(t?0:1),!1!==e&&this.values(t,n,!0))):n!==this.value()&&!1!==(e=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n)},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){if(!arguments.length)return this._value();this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0)},values:function(t,n){var r,i,o;if(arguments.length>1)this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);else{if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()}},_setOption:function(t,n){var r,i=0;switch(e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);for(t=this.options.values.slice(),n=0;n<t.length;n+=1)t[n]=this._trimAlignValue(t[n]);return t},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t;return e-=n,2*Math.abs(n)>=t&&(e+=n>0?t:-t),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,o,a=this.options.range,s=this.options,c=this,l=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(r){t=(c.values(r)-c._valueMin())/(c._valueMax()-c._valueMin())*100,u["horizontal"===c.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===c.options.range&&("horizontal"===c.orientation?(0===r&&c.range.stop(1,1)[l?"animate":"css"]({left:t+"%"},s.animate),1===r&&c.range[l?"animate":"css"]({width:t-n+"%"},{queue:!1,duration:s.animate})):(0===r&&c.range.stop(1,1)[l?"animate":"css"]({bottom:t+"%"},s.animate),1===r&&c.range[l?"animate":"css"]({height:t-n+"%"},{queue:!1,duration:s.animate}))),n=t}):(r=this.value(),i=this._valueMin(),o=this._valueMax(),t=o!==i?(r-i)/(o-i)*100:0,u["horizontal"===c.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:t+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:t+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:s.animate}))}}),e.extend(e.ui.slider,{version:"1.8.16"})}(jQuery),function(e,n){var r=0,i=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){"selected"==e?this.options.collapsible&&t==this.options.selected||this.select(t):(this.options[e]=t,this._tabify())},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++r},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++i);return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(t){function r(t,n){t.css("display",""),!e.support.opacity&&n.opacity&&t[0].style.removeAttribute("filter")}var i,o,a,s=this,c=this.options,l=/^#.+/;for(this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,n){var r,i=e(n).attr("href"),o=i.split("#")[0];o&&(o===location.toString().split("#")[0]||(r=e("base")[0])&&o===r.href)&&(i=n.hash,n.href=i),l.test(i)?s.panels=s.panels.add(s.element.find(s._sanitizeSelector(i))):i&&"#"!==i?(e.data(n,"href.tabs",i),e.data(n,"load.tabs",i.replace(/#.*$/,"")),i=s._tabId(n),n.href="#"+i,(n=s.element.find("#"+i)).length||(n=e(c.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(s.panels[t-1]||s.list)).data("destroy.tabs",!0),s.panels=s.panels.add(n)):c.disabled.push(t)}),t?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),c.selected===n?(location.hash&&this.anchors.each(function(e,t){if(t.hash==location.hash)return c.selected=e,!1}),"number"!=typeof c.selected&&c.cookie&&(c.selected=parseInt(s._cookie(),10)),"number"!=typeof c.selected&&this.lis.filter(".ui-tabs-selected").length&&(c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),c.selected=c.selected||(this.lis.length?0:-1)):null===c.selected&&(c.selected=-1),c.selected=c.selected>=0&&this.anchors[c.selected]||c.selected<0?c.selected:0,c.disabled=e.unique(c.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return s.lis.index(e)}))).sort(),-1!=e.inArray(c.selected,c.disabled)&&c.disabled.splice(e.inArray(c.selected,c.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),c.selected>=0&&this.anchors.length&&(s.element.find(s._sanitizeSelector(s.anchors[c.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active"),s.element.queue("tabs",function(){s._trigger("show",null,s._ui(s.anchors[c.selected],s.element.find(s._sanitizeSelector(s.anchors[c.selected].hash))[0]))}),this.load(c.selected)),e(window).bind("unload",function(){s.lis.add(s.anchors).unbind(".tabs"),s.lis=s.anchors=s.panels=null})):c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[c.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),c.cookie&&this._cookie(c.selected,c.cookie),t=0;i=this.lis[t];t++)e(i)[-1==e.inArray(t,c.disabled)||e(i).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===c.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==c.event){var u=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},d=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){u("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){d("hover",e(this))}),this.anchors.bind("focus.tabs",function(){u("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){d("focus",e(this).closest("li"))})}c.fx&&(e.isArray(c.fx)?(o=c.fx[0],a=c.fx[1]):o=a=c.fx);var p=a?function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.hide().removeClass("ui-tabs-hide").animate(a,a.duration||"normal",function(){r(n,a),s._trigger("show",null,s._ui(t,n[0]))})}:function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),s._trigger("show",null,s._ui(t,n[0]))},h=o?function(e,t){t.animate(o,o.duration||"normal",function(){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),r(t,o),s.element.dequeue("tabs")})}:function(e,t){s.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s.element.dequeue("tabs")};this.anchors.bind(c.event+".tabs",function(){var t=this,n=e(t).closest("li"),r=s.panels.filter(":not(.ui-tabs-hide)"),i=s.element.find(s._sanitizeSelector(t.hash));if(n.hasClass("ui-tabs-selected")&&!c.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||s.panels.filter(":animated").length||!1===s._trigger("select",null,s._ui(this,i[0])))return this.blur(),!1;if(c.selected=s.anchors.index(this),s.abort(),c.collapsible){if(n.hasClass("ui-tabs-selected"))return c.selected=-1,c.cookie&&s._cookie(c.selected,c.cookie),s.element.queue("tabs",function(){h(t,r)}).dequeue("tabs"),this.blur(),!1;if(!r.length)return c.cookie&&s._cookie(c.selected,c.cookie),s.element.queue("tabs",function(){p(t,i)}),s.load(s.anchors.index(this)),this.blur(),!1}if(c.cookie&&s._cookie(c.selected,c.cookie),!i.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";r.length&&s.element.queue("tabs",function(){h(t,r)}),s.element.queue("tabs",function(){p(t,i)}),s.load(s.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$="+e+"]"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var n=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")}),t.cookie&&this._cookie(null,t.cookie),this},add:function(t,r,i){i===n&&(i=this.anchors.length);var o=this,a=this.options;r=e(a.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,r)),t=t.indexOf("#")?this._tabId(e("a",r)[0]):t.replace("#",""),r.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var s=o.element.find("#"+t);return s.length||(s=e(a.panelTemplate).attr("id",t).data("destroy.tabs",!0)),s.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),i>=this.lis.length?(r.appendTo(this.list),s.appendTo(this.list[0].parentNode)):(r.insertBefore(this.lis[i]),s.insertBefore(this.panels[i])),a.disabled=e.map(a.disabled,function(e){return e>=i?++e:e}),this._tabify(),1==this.anchors.length&&(a.selected=0,r.addClass("ui-tabs-selected ui-state-active"),s.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[i],this.panels[i])),this},remove:function(t){t=this._getIndex(t);var n=this.options,r=this.lis.eq(t).remove(),i=this.panels.eq(t).remove();return r.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this},enable:function(t){t=this._getIndex(t);var n=this.options;if(-1!=e.inArray(t,n.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),n.disabled=e.grep(n.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(-1==(e=this._getIndex(e))){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var n=this,r=this.options,i=this.anchors.eq(t)[0],o=e.data(i,"load.tabs");if(this.abort(),o&&(0===this.element.queue("tabs").length||!e.data(i,"cache.tabs"))){if(this.lis.eq(t).addClass("ui-state-processing"),r.spinner){var a=e("span",i);a.data("label.tabs",a.html()).html(r.spinner)}return this.xhr=e.ajax(e.extend({},r.ajaxOptions,{url:o,success:function(o,a){n.element.find(n._sanitizeSelector(i.hash)).html(o),n._cleanup(),r.cache&&e.data(i,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.success(o,a)}catch(e){}},error:function(e,o){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{r.ajaxOptions.error(e,o,t,i)}catch(e){}}})),n.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.16"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,n){var r=this,i=this.options,o=r._rotate||(r._rotate=function(t){clearTimeout(r.rotation),r.rotation=setTimeout(function(){var e=i.selected;r.select(++e<r.anchors.length?e:0)},e),t&&t.stopPropagation()});return n=r._unrotate||(r._unrotate=n?function(){t=i.selected,o()}:function(e){e.clientX&&r.rotate(null)}),e?(this.element.bind("tabsshow",o),this.anchors.bind(i.event+".tabs",n),o()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",o),this.anchors.unbind(i.event+".tabs",n),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(d,C){function M(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._inDialog=this._datepickerShowing=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},d.extend(this._defaults,this.regional[""]),this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(e){return e.bind("mouseout",function(e){(e=d(e.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a")).length&&e.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(t){t=d(t.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a"),!d.datepicker._isDisabledDatepicker(J.inline?e.parent()[0]:J.input[0])&&t.length&&(t.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t.addClass("ui-state-hover"),t.hasClass("ui-datepicker-prev")&&t.addClass("ui-datepicker-prev-hover"),t.hasClass("ui-datepicker-next")&&t.addClass("ui-datepicker-next-hover"))})}function H(e,t){for(var n in d.extend(e,t),t)null!=t[n]&&t[n]!=C||(e[n]=t[n]);return e}d.extend(d.ui,{datepicker:{version:"1.8.16"}});var B=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return H(this._defaults,e||{}),this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(t){c[e]=f}}}e=a.nodeName.toLowerCase(),f="div"==e||"span"==e,a.id||(this.uuid+=1,a.id="dp"+this.uuid);var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{}),"input"==e?this._connectDatepicker(a,i):f&&this._inlineDatepicker(a,i)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=d(e);t.append=d([]),t.trigger=d([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),d.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");if(t.append&&t.append.remove(),n&&(t.append=d('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!=(n=this._get(t,"showOn"))&&"both"!=n||e.focus(this._showDatepicker),"button"==n||"both"==n){n=this._get(t,"buttonText");var i=this._get(t,"buttonImage");t.trigger=d(this._get(t,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:i,alt:n,title:n}):d('<button type="button"></button>').addClass(this._triggerClass).html(""==i?n:d("<img/>").attr({src:i,alt:n,title:n}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return d.datepicker._datepickerShowing&&d.datepicker._lastInput==e[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){for(var t=0,n=0,r=0;r<e.length;r++)e[r].length>t&&(t=e[r].length,n=r);return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=d(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),d.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,r,i){return(e=this._dialogInst)||(this.uuid+=1,this._dialogInput=d('<input type="text" id="dp'+this.uuid+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),(e=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},d.data(this._dialogInput[0],"datepicker",e)),H(e.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(e,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null,this._pos||(this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),d.blockUI&&d.blockUI(this.dpDiv),d.data(this._dialogInput[0],"datepicker",e),this},_destroyDatepicker:function(e){var t=d(e),n=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();d.removeData(e,"datepicker"),"input"==r?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=r&&"span"!=r||t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=d(e),n=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();"input"==r?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!=r&&"span"!=r||((t=t.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),t.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=d(e),n=d.data(e,"datepicker");if(t.hasClass(this.markerClassName)){var r=e.nodeName.toLowerCase();"input"==r?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!=r&&"span"!=r||((t=t.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),t.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")),this._disabledInputs=d.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return d.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?d.extend({},d.datepicker._defaults):r?"all"==t?d.extend({},r.settings):this._get(r,t):null;var i=t||{};if("string"==typeof t&&((i={})[t]=n),r){this._curInst==r&&this._hideDatepicker();var o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(r,"min"),s=this._getMinMaxDate(r,"max");H(r.settings,i),null!==a&&i.dateFormat!==C&&i.minDate===C&&(r.settings.minDate=this._formatDate(r,a)),null!==s&&i.dateFormat!==C&&i.maxDate===C&&(r.settings.maxDate=this._formatDate(r,s)),this._attachments(d(e),r),this._autoSize(r),this._setDate(r,o),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){(e=this._getInst(e))&&this._updateDatepicker(e)},_setDateDatepicker:function(e,t){(e=this._getInst(e))&&(this._setDate(e,t),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(e,t){return(e=this._getInst(e))&&!e.inline&&this._setDateFromField(e,t),e?this._getDate(e):null},_doKeyDown:function(e){var t=d.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,d.datepicker._datepickerShowing)switch(e.keyCode){case 9:d.datepicker._hideDatepicker(),n=!1;break;case 13:return(n=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",t.dpDiv))[0]&&d.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,n[0]),(e=d.datepicker._get(t,"onSelect"))?(n=d.datepicker._formatDate(t),e.apply(t.input?t.input[0]:null,[n,t])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&d.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&d.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?-d.datepicker._get(t,"stepBigMonths"):-d.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&d.datepicker._adjustDate(e.target,e.ctrlKey?+d.datepicker._get(t,"stepBigMonths"):+d.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&d.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?d.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=d.datepicker._getInst(e.target);if(d.datepicker._get(t,"constrainInput")){t=d.datepicker._possibleChars(d.datepicker._get(t,"dateFormat"));var n=String.fromCharCode(e.charCode==C?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||n<" "||!t||t.indexOf(n)>-1}},_doKeyUp:function(e){if((e=d.datepicker._getInst(e.target)).input.val()!=e.lastVal)try{d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,d.datepicker._getFormatConfig(e))&&(d.datepicker._setDateFromField(e),d.datepicker._updateAlternate(e),d.datepicker._updateDatepicker(e))}catch(e){d.datepicker.log(e)}return!0},_showDatepicker:function(e){if("input"!=(e=e.target||e).nodeName.toLowerCase()&&(e=d("input",e.parentNode)[0]),!d.datepicker._isDisabledDatepicker(e)&&d.datepicker._lastInput!=e){var t=d.datepicker._getInst(e);d.datepicker._curInst&&d.datepicker._curInst!=t&&(d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst),d.datepicker._curInst.dpDiv.stop(!0,!0));var n=d.datepicker._get(t,"beforeShow");if(!1!==(n=n?n.apply(e,[e,t]):{})){H(t.settings,n),t.lastVal=null,d.datepicker._lastInput=e,d.datepicker._setDateFromField(t),d.datepicker._inDialog&&(e.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(e),d.datepicker._pos[1]+=e.offsetHeight);var r=!1;if(d(e).parents().each(function(){return!(r|="fixed"==d(this).css("position"))}),r&&d.browser.opera&&(d.datepicker._pos[0]-=document.documentElement.scrollLeft,d.datepicker._pos[1]-=document.documentElement.scrollTop),n={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),d.datepicker._updateDatepicker(t),n=d.datepicker._checkOffset(t,n,r),t.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":r?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),!t.inline){n=d.datepicker._get(t,"showAnim");var i=d.datepicker._get(t,"duration"),o=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=d.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex(d(e).zIndex()+1),d.datepicker._datepickerShowing=!0,d.effects&&d.effects[n]?t.dpDiv.show(n,d.datepicker._get(t,"showOptions"),i,o):t.dpDiv[n||"show"](n?i:null,o),n&&i||o(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),d.datepicker._curInst=t}}}},_updateDatepicker:function(e){this.maxRows=4;var t=d.datepicker._getBorders(e.dpDiv);J=e,e.dpDiv.empty().append(this._generateHTML(e));var n=e.dpDiv.find("iframe.ui-datepicker-cover");if(n.length&&n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover(),n=(t=this._getNumberOfMonths(e))[1],e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!=t[0]||1!=t[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==d.datepicker._curInst&&d.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var r=e.yearshtml;setTimeout(function(){r===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),r=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+d(document).scrollLeft(),c=document.documentElement.clientHeight+d(document).scrollTop();return t.left-=this._get(e,"isRTL")?r-o:0,t.left-=n&&t.left==e.input.offset().left?d(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+a?d(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>s&&s>r?Math.abs(t.left+r-s):0),t.top-=Math.min(t.top,t.top+i>c&&c>i?Math.abs(i+a):0),t},_findPos:function(e){for(var t=this._get(this._getInst(e),"isRTL");e&&("hidden"==e.type||1!=e.nodeType||d.expr.filters.hidden(e));)e=e[t?"previousSibling":"nextSibling"];return[(e=d(e).offset()).left,e.top]},_triggerOnClose:function(e){var t=this._get(e,"onClose");t&&t.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e])},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==d.data(e,"datepicker"))&&this._datepickerShowing){e=this._get(t,"showAnim");var n=this._get(t,"duration"),r=function(){d.datepicker._tidyDialog(t),this._curInst=null};d.effects&&d.effects[e]?t.dpDiv.hide(e,d.datepicker._get(t,"showOptions"),n,r):t.dpDiv["slideDown"==e?"slideUp":"fadeIn"==e?"fadeOut":"hide"](e?n:null,r),e||r(),d.datepicker._triggerOnClose(t),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){d.datepicker._curInst&&(e=d(e.target))[0].id!=d.datepicker._mainDivId&&0==e.parents("#"+d.datepicker._mainDivId).length&&!e.hasClass(d.datepicker.markerClassName)&&!e.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)&&d.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){e=d(e);var r=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(r,t+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){e=d(e);var t=this._getInst(e[0]);if(this._get(t,"gotoCurrent")&&t.currentDay)t.selectedDay=t.currentDay,t.drawMonth=t.selectedMonth=t.currentMonth,t.drawYear=t.selectedYear=t.currentYear;else{var n=new Date;t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear()}this._notifyChange(t),this._adjustDate(e)},_selectMonthYear:function(e,t,n){e=d(e);var r=this._getInst(e[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(e)},_selectDay:function(e,t,n,r){var i=d(e);d(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0])||((i=this._getInst(i[0])).selectedDay=i.currentDay=d("a",r).html(),i.selectedMonth=i.currentMonth=t,i.selectedYear=i.currentYear=n,this._selectDate(e,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear)))},_clearDate:function(e){e=d(e),this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(e,t){e=this._getInst(d(e)[0]),t=null!=t?t:this._formatDate(e),e.input&&e.input.val(t),this._updateAlternate(e);var n=this._get(e,"onSelect");n?n.apply(e.input?e.input[0]:null,[t,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));d(t).each(function(){d(this).val(i)})}},noWeekends:function(e){return[(e=e.getDay())>0&&e<6,""]},iso8601Week:function(e){(e=new Date(e.getTime())).setDate(e.getDate()+4-(e.getDay()||7));var t=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(""==(t="object"==typeof t?t.toString():t+""))return null;var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10);for(var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,c=n=-1,l=-1,u=-1,p=!1,h=function(t){return(t=b+1<e.length&&e.charAt(b+1)==t)&&b++,t},v=function(e){var n=h(e);if(e=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2)+"}"),!(e=t.substring(g).match(e)))throw"Missing number at position "+g;return g+=e[0].length,parseInt(e[0],10)},f=function(e,n,r){e=d.map(h(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});var i=-1;if(d.each(e,function(e,n){if(e=n[1],t.substr(g,e.length).toLowerCase()==e.toLowerCase())return i=n[0],g+=e.length,!1}),-1!=i)return i+1;throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(b))throw"Unexpected literal at position "+g;g++},g=0,b=0;b<e.length;b++)if(p)"'"!=e.charAt(b)||h("'")?m():p=!1;else switch(e.charAt(b)){case"d":l=v("d");break;case"D":f("D",i,o);break;case"o":u=v("o");break;case"m":c=v("m");break;case"M":c=f("M",a,s);break;case"y":n=v("y");break;case"@":var y=new Date(v("@"));n=y.getFullYear(),c=y.getMonth()+1,l=y.getDate();break;case"!":n=(y=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),c=y.getMonth()+1,l=y.getDate();break;case"'":h("'")?m():p=!0;break;default:m()}if(g<t.length)throw"Extra/unparsed characters found in date: "+t.substring(g);if(-1==n?n=(new Date).getFullYear():n<100&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n<=r?0:-100)),u>-1)for(c=1,l=u;;){if(l<=(r=this._getDaysInMonth(n,c-1)))break;c++,l-=r}if((y=this._daylightSavingAdjust(new Date(n,c-1,l))).getFullYear()!=n||y.getMonth()+1!=c||y.getDate()!=l)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort;n=(n?n.monthNames:null)||this._defaults.monthNames;var a=function(t){return(t=d+1<e.length&&e.charAt(d+1)==t)&&d++,t},s=function(e,t,n){if(t=""+t,a(e))for(;t.length<n;)t="0"+t;return t},c=function(e,t,n,r){return a(e)?r[t]:n[t]},l="",u=!1;if(t)for(var d=0;d<e.length;d++)if(u)"'"!=e.charAt(d)||a("'")?l+=e.charAt(d):u=!1;else switch(e.charAt(d)){case"d":l+=s("d",t.getDate(),2);break;case"D":l+=c("D",t.getDay(),r,i);break;case"o":l+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",t.getMonth()+1,2);break;case"M":l+=c("M",t.getMonth(),o,n);break;case"y":l+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":a("'")?l+="'":u=!0;break;default:l+=e.charAt(d)}return l},_possibleChars:function(e){for(var t="",n=!1,r=function(t){return(t=i+1<e.length&&e.charAt(i+1)==t)&&i++,t},i=0;i<e.length;i++)if(n)"'"!=e.charAt(i)||r("'")?t+=e.charAt(i):n=!1;else switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}return t},_get:function(e,t){return e.settings[t]!==C?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,r,i=this._get(e,"dateFormat"),o=e.lastVal=e.input?e.input.val():null;n=r=this._getDefaultDate(e);var a=this._getFormatConfig(e);try{n=this.parseDate(i,o,a)||r}catch(e){this.log(e),o=t?"":o}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=o?n.getDate():0,e.currentMonth=o?n.getMonth():0,e.currentYear=o?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){return(t=(t=null==t||""===t?n:"string"==typeof t?function(t){try{return d.datepicker.parseDate(d.datepicker._get(e,"dateFormat"),t,d.datepicker._getFormatConfig(e))}catch(e){}var n=(t.toLowerCase().match(/^c/)?d.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),i=n.getMonth();n=n.getDate();for(var o=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),n=Math.min(n,d.datepicker._getDaysInMonth(r,i));break;case"y":case"Y":r+=parseInt(a[1],10),n=Math.min(n,d.datepicker._getDaysInMonth(r,i))}a=o.exec(t)}return new Date(r,i,n)}(t):"number"==typeof t?isNaN(t)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(t):new Date(t.getTime()))&&"Invalid Date"==t.toString()?n:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear;t=this._restrictMinMax(e,this._determineDate(e,t,new Date)),e.selectedDay=e.currentDay=t.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=t.getMonth(),e.drawYear=e.selectedYear=e.currentYear=t.getFullYear(),i==e.selectedMonth&&o==e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),o=this._get(e,"navigationAsDateFormat"),a=this._getNumberOfMonths(e),s=this._get(e,"showCurrentAtPos"),c=this._get(e,"stepMonths"),l=1!=a[0]||1!=a[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),p=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max");s=e.drawMonth-s;var v=e.drawYear;if(s<0&&(s+=12,v--),h){var f=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-a[0]*a[1]+1,h.getDate()));for(f=p&&f<p?p:f;this._daylightSavingAdjust(new Date(v,s,1))>f;)--s<0&&(s=11,v--)}e.drawMonth=s,e.drawYear=v,f=this._get(e,"prevText"),f=o?this.formatDate(f,this._daylightSavingAdjust(new Date(v,s-c,1)),this._getFormatConfig(e)):f,f=this._canAdjustMonth(e,-1,v,s)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+e.id+"', -"+c+", 'M');\" title=\""+f+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+f+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+f+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+f+"</span></a>";var m=this._get(e,"nextText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(v,s+c,1)),this._getFormatConfig(e)):m,i=this._canAdjustMonth(e,1,v,s)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._adjustDate('#"+e.id+"', +"+c+", 'M');\" title=\""+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+m+"</span></a>",c=this._get(e,"currentText"),m=this._get(e,"gotoCurrent")&&e.currentDay?u:t,c=o?this.formatDate(c,m,this._getFormatConfig(e)):c,o=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+B+'.datepicker._hideDatepicker();">'+this._get(e,"closeText")+"</button>",r=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?o:"")+(this._isInRange(e,m)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+B+".datepicker._gotoToday('#"+e.id+"');\">"+c+"</button>":"")+(n?"":o)+"</div>":"",o=parseInt(this._get(e,"firstDay"),10),o=isNaN(o)?0:o,c=this._get(e,"showWeek"),m=this._get(e,"dayNames"),this._get(e,"dayNamesShort");var g=this._get(e,"dayNamesMin"),b=this._get(e,"monthNames"),y=this._get(e,"monthNamesShort"),S=this._get(e,"beforeShowDay"),w=this._get(e,"showOtherMonths"),k=this._get(e,"selectOtherMonths");this._get(e,"calculateWeek");for(var C=this._getDefaultDate(e),$="",T=0;T<a[0];T++){var O="";this.maxRows=4;for(var E=0;E<a[1];E++){var A=this._daylightSavingAdjust(new Date(v,s,e.selectedDay)),P=" ui-corner-all",I="";if(l){if(I+='<div class="ui-datepicker-group',a[1]>1)switch(E){case 0:I+=" ui-datepicker-group-first",P=" ui-corner-"+(n?"right":"left");break;case a[1]-1:I+=" ui-datepicker-group-last",P=" ui-corner-"+(n?"left":"right");break;default:I+=" ui-datepicker-group-middle",P=""}I+='">'}I+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&0==T?n?i:f:"")+(/all|right/.test(P)&&0==T?n?f:i:"")+this._generateMonthYearHeader(e,s,v,p,h,T>0||E>0,b,y)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var x=c?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(P=0;P<7;P++){var _=(P+o)%7;x+="<th"+((P+o+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+m[_]+'">'+g[_]+"</span></th>"}I+=x+"</tr></thead><tbody>",x=this._getDaysInMonth(v,s),v==e.selectedYear&&s==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,x)),P=(this._getFirstDayOfMonth(v,s)-o+7)%7,x=Math.ceil((P+x)/7),this.maxRows=x=l&&this.maxRows>x?this.maxRows:x,_=this._daylightSavingAdjust(new Date(v,s,1-P));for(var D=0;D<x;D++){I+="<tr>";var R=c?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(_)+"</td>":"";for(P=0;P<7;P++){var j=S?S.apply(e.input?e.input[0]:null,[_]):[!0,""],N=_.getMonth()!=s,M=N&&!k||!j[0]||p&&_<p||h&&_>h;R+='<td class="'+((P+o+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(_.getTime()==A.getTime()&&s==e.selectedMonth&&e._keyEvent||C.getTime()==_.getTime()&&C.getTime()==A.getTime()?" "+this._dayOverClass:"")+(M?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!w?"":" "+j[1]+(_.getTime()==u.getTime()?" "+this._currentClass:"")+(_.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(N&&!w||!j[2]?"":' title="'+j[2]+'"')+(M?"":' onclick="DP_jQuery_'+B+".datepicker._selectDay('#"+e.id+"',"+_.getMonth()+","+_.getFullYear()+', this);return false;"')+">"+(N&&!w?"&#xa0;":M?'<span class="ui-state-default">'+_.getDate()+"</span>":'<a class="ui-state-default'+(_.getTime()==t.getTime()?" ui-state-highlight":"")+(_.getTime()==u.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+'" href="#">'+_.getDate()+"</a>")+"</td>",_.setDate(_.getDate()+1),_=this._daylightSavingAdjust(_)}I+=R+"</tr>"}++s>11&&(s=0,v++),O+=I+="</tbody></table>"+(l?"</div>"+(a[0]>0&&E==a[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}$+=O}return $+=r+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,$},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var c=this._get(e,"changeMonth"),l=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',p="";if(o||!c)p+='<span class="ui-datepicker-month">'+a[t]+"</span>";else{a=r&&r.getFullYear()==n;var h=i&&i.getFullYear()==n;p+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+e.id+"', this, 'M');\" >";for(var v=0;v<12;v++)(!a||v>=r.getMonth())&&(!h||v<=i.getMonth())&&(p+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+s[v]+"</option>");p+="</select>"}if(u||(d+=p+(!o&&c&&l?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!l)d+='<span class="ui-datepicker-year">'+n+"</span>";else{s=this._get(e,"yearRange").split(":");var f=(new Date).getFullYear();for(t=(a=function(e){return e=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?f+parseInt(e,10):parseInt(e,10),isNaN(e)?f:e})(s[0]),s=Math.max(t,a(s[1]||"")),t=r?Math.max(t,r.getFullYear()):t,s=i?Math.min(s,i.getFullYear()):s,e.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+B+".datepicker._selectMonthYear('#"+e.id+"', this, 'Y');\" >";t<=s;t++)e.yearshtml+='<option value="'+t+'"'+(t==n?' selected="selected"':"")+">"+t+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!o&&c&&l?"":"&#xa0;")+p),d+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"==n?t:0),i=e.drawMonth+("M"==n?t:0);t=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"==n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,t))),e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!=n&&"Y"!=n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min");return e=this._getMinMaxDate(e,"max"),t=n&&t<n?n:t,e&&t>e?e:t},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){return null==(e=this._get(e,"numberOfMonths"))?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e);return n=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1)),t<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min");return e=this._getMinMaxDate(e,"max"),(!n||t.getTime()>=n.getTime())&&(!e||t.getTime()<=e.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){return t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear),t=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay)),this.formatDate(this._get(e,"dateFormat"),t,this._getFormatConfig(e))}}),d.fn.datepicker=function(e){if(!this.length)return this;d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv),d.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this].concat(t)):d.datepicker._attachDatepicker(this,e)}):d.datepicker["_"+e+"Datepicker"].apply(d.datepicker,[this[0]].concat(t))},d.datepicker=new M,d.datepicker.initialized=!1,d.datepicker.uuid=(new Date).getTime(),d.datepicker.version="1.8.16",window["DP_jQuery_"+B]=d}(jQuery),function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return void 0===e?this._value():(this._setOption("value",e),this)},_setOption:function(t,n){"value"===t&&(this.options.value=n,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.16"})}(jQuery),jQuery.effects||function(e,t){function n(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?s.transparent:s[e.trim(t).toLowerCase()]}function r(){var e,t=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(t&&t.length&&t[0]&&t[t[0]])for(var r=t.length;r--;)"string"==typeof t[e=t[r]]&&(n[e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]=t[e]);else for(e in t)"string"==typeof t[e]&&(n[e]=t[e]);return n}function i(t){var n,r;for(n in t)(null==(r=t[n])||e.isFunction(r)||n in l||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(r)))&&delete t[n];return t}function o(t,n,r,i){return"object"==typeof t&&(i=n,r=null,t=(n=t).effect),e.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(i=r,r=n,n={}),e.isFunction(r)&&(i=r,r=null),n=n||{},r=r||n.duration,[t,n,r=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,i=i||n.complete]}function a(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects[t]}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,r){e.fx.step[r]=function(t){t.colorInit||(t.start=function(t,r){var i;do{if(""!=(i=e.curCSS(t,r))&&"transparent"!=i||e.nodeName(t,"body"))break;r="backgroundColor"}while(t=t.parentNode);return n(i)}(t.elem,r),t.end=n(t.end),t.colorInit=!0),t.elem.style[r]="rgb("+Math.max(Math.min(parseInt(t.pos*(t.end[0]-t.start[0])+t.start[0],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[1]-t.start[1])+t.start[1],10),255),0)+","+Math.max(Math.min(parseInt(t.pos*(t.end[2]-t.start[2])+t.start[2],10),255),0)+")"}});var s={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},c=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,o,a){return e.isFunction(o)&&(a=o,o=null),this.queue(function(){var s,l=e(this),u=l.attr("style")||" ",d=i(r.call(this)),p=l.attr("class");e.each(c,function(e,n){t[n]&&l[n+"Class"](t[n])}),s=i(r.call(this)),l.attr("class",p),l.animate(function(e,t){var n,r={_:0};for(n in t)e[n]!=t[n]&&(r[n]=t[n]);return r}(d,s),{queue:!1,duration:n,easing:o,complete:function(){e.each(c,function(e,n){t[n]&&l[n+"Class"](t[n])}),"object"==typeof l.attr("style")?(l.attr("style").cssText="",l.attr("style").cssText=u):l.attr("style",u),a&&a.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{add:t},n,r,i]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{remove:t},n,r,i]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,o,a){return"boolean"==typeof r||r===t?i?e.effects.animateClass.apply(this,[r?{add:n}:{remove:n},i,o,a]):this._toggleClass(n,r):e.effects.animateClass.apply(this,[{toggle:n},r,i,o])},switchClass:function(t,n,r,i,o){return e.effects.animateClass.apply(this,[{add:n,remove:t},r,i,o])}}),e.extend(e.effects,{version:"1.8.16",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":e=0;break;case"center":e=.5;break;case"right":e=1;break;default:e=e[1]/t.width}return{x:e,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i=document.activeElement;return t.wrap(r),(t[0]===i||e.contains(t[0],i))&&e(i).focus(),r=t.parent(),"static"==t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(n).show()},removeWrapper:function(t){var n,r=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(n=t.parent().replaceWith(t),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n):t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){unit=t.cssUnit(n),unit[0]>0&&(i[n]=unit[0]*r+unit[1])}),i}}),e.fn.extend({effect:function(t){var n=o.apply(this,arguments),r={options:n[1],duration:n[2],callback:n[3]};n=r.options.mode;var i=e.effects[t];return e.fx.off||!i?n?this[n](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):i.call(this,r)},_show:e.fn.show,show:function(e){if(a(e))return this._show.apply(this,arguments);var t=o.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(a(e))return this._hide.apply(this,arguments);var t=o.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(a(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=o.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,i,o){return e.easing[e.easing.def](t,n,r,i,o)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return 0==t?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(1-Math.pow(2,-10*t/i))+n},easeInOutExpo:function(e,t,n,r,i){return 0==t?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){e=1.70158;var o=0,a=r;return 0==t?n:1==(t/=i)?n+r:(o||(o=.3*i),a<Math.abs(r)?(a=r,e=o/4):e=o/(2*Math.PI)*Math.asin(r/a),-a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/o)+n)},easeOutElastic:function(e,t,n,r,i){e=1.70158;var o=0,a=r;return 0==t?n:1==(t/=i)?n+r:(o||(o=.3*i),a<Math.abs(r)?(a=r,e=o/4):e=o/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/o)+r+n)},easeInOutElastic:function(e,t,n,r,i){e=1.70158;var o=0,a=r;return 0==t?n:2==(t/=i/2)?n+r:(o||(o=.3*i*1.5),a<Math.abs(r)?(a=r,e=o/4):e=o/(2*Math.PI)*Math.asin(r/a),t<1?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/o)+n:a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-e)*Math.PI/o)*.5+r+n)},easeInBack:function(e,n,r,i,o,a){return a==t&&(a=1.70158),i*(n/=o)*n*((a+1)*n-a)+r},easeOutBack:function(e,n,r,i,o,a){return a==t&&(a=1.70158),i*((n=n/o-1)*n*((a+1)*n+a)+1)+r},easeInOutBack:function(e,n,r,i,o,a){return a==t&&(a=1.70158),(n/=o/2)<1?i/2*n*n*((1+(a*=1.525))*n-a)+r:i/2*((n-=2)*n*((1+(a*=1.525))*n+a)+2)+r},easeInBounce:function(t,n,r,i,o){return i-e.easing.easeOutBounce(t,o-n,0,i,o)+r},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,r,i,o){return n<o/2?.5*e.easing.easeInBounce(t,2*n,0,i,o)+r:.5*e.easing.easeOutBounce(t,2*n-o,0,i,o)+.5*i+r}})}(jQuery),function(e){e.effects.blind=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"vertical";e.effects.save(n,r),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"}),s="vertical"==o?"height":"width";o="vertical"==o?a.height():a.width(),"show"==i&&a.css(s,0);var c={};c[s]="show"==i?o:0,a.animate(c,t.duration,t.options.easing,function(){"hide"==i&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e){e.effects.bounce=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"effect"),o=t.options.direction||"up",a=t.options.distance||20,s=t.options.times||5,c=t.duration||250;/show|hide/.test(i)&&r.push("opacity"),e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var l="up"==o||"down"==o?"top":"left";if(o="up"==o||"left"==o?"pos":"neg",a=t.options.distance||("top"==l?n.outerHeight({margin:!0})/3:n.outerWidth({margin:!0})/3),"show"==i&&n.css("opacity",0).css(l,"pos"==o?-a:a),"hide"==i&&(a/=2*s),"hide"!=i&&s--,"show"==i){var u={opacity:1};u[l]=("pos"==o?"+=":"-=")+a,n.animate(u,c/2,t.options.easing),a/=2,s--}for(u=0;u<s;u++){var d={},p={};d[l]=("pos"==o?"-=":"+=")+a,p[l]=("pos"==o?"+=":"-=")+a,n.animate(d,c/2,t.options.easing).animate(p,c/2,t.options.easing),a="hide"==i?2*a:a/2}"hide"==i?((u={opacity:0})[l]=("pos"==o?"-=":"+=")+a,n.animate(u,c/2,t.options.easing,function(){n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})):(p={},(d={})[l]=("pos"==o?"-=":"+=")+a,p[l]=("pos"==o?"+=":"-=")+a,n.animate(d,c/2,t.options.easing).animate(p,c/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e){e.effects.clip=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","height","width"],i=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"vertical";e.effects.save(n,r),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"});a="IMG"==n[0].tagName?a:n;var s={size:"vertical"==o?"height":"width",position:"vertical"==o?"top":"left"};o="vertical"==o?a.height():a.width(),"show"==i&&(a.css(s.size,0),a.css(s.position,o/2));var c={};c[s.size]="show"==i?o:0,c[s.position]="show"==i?0:o/2,a.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==i&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.drop=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","opacity"],i=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var a="up"==o||"down"==o?"top":"left";o="up"==o||"left"==o?"pos":"neg";var s=t.options.distance||("top"==a?n.outerHeight({margin:!0})/2:n.outerWidth({margin:!0})/2);"show"==i&&n.css("opacity",0).css(a,"pos"==o?-s:s);var c={opacity:"show"==i?1:0};c[a]=("show"==i?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+s,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==i&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.explode=function(t){return this.queue(function(){var n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,r=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var i=e(this).show().css("visibility","hidden"),o=i.offset();o.top-=parseInt(i.css("marginTop"),10)||0,o.left-=parseInt(i.css("marginLeft"),10)||0;for(var a=i.outerWidth(!0),s=i.outerHeight(!0),c=0;c<n;c++)for(var l=0;l<r;l++)i.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:a/r*-l,top:s/n*-c}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:a/r,height:s/n,left:o.left+l*(a/r)+("show"==t.options.mode?(l-Math.floor(r/2))*(a/r):0),top:o.top+c*(s/n)+("show"==t.options.mode?(c-Math.floor(n/2))*(s/n):0),opacity:"show"==t.options.mode?0:1}).animate({left:o.left+l*(a/r)+("show"==t.options.mode?0:(l-Math.floor(r/2))*(a/r)),top:o.top+c*(s/n)+("show"==t.options.mode?0:(c-Math.floor(n/2))*(s/n)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?i.css({visibility:"visible"}):i.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(i[0]),i.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(e){e.effects.fade=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"hide");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.fold=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"hide"),o=t.options.size||15,a=!!t.options.horizFirst,s=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(n,r),n.show();var c=e.effects.createWrapper(n).css({overflow:"hidden"}),l="show"==i!=a,u=l?["width","height"]:["height","width"];l=l?[c.width(),c.height()]:[c.height(),c.width()];var d=/([0-9]+)%/.exec(o);d&&(o=parseInt(d[1],10)/100*l["hide"==i?0:1]),"show"==i&&c.css(a?{height:0,width:o}:{height:o,width:0}),d={},(a={})[u[0]]="show"==i?l[0]:o,d[u[1]]="show"==i?l[1]:0,c.animate(a,s,t.options.easing).animate(d,s,t.options.easing,function(){"hide"==i&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],i=e.effects.setMode(n,t.options.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"==i&&(o.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==i&&n.hide(),e.effects.restore(n,r),"show"==i&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.pulsate=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"show");for(times=2*(t.options.times||5)-1,duration=t.duration?t.duration/2:e.fx.speeds._default/2,isVisible=n.is(":visible"),animateTo=0,isVisible||(n.css("opacity",0).show(),animateTo=1),("hide"==r&&isVisible||"show"==r&&!isVisible)&&times--,r=0;r<times;r++)n.animate({opacity:animateTo},duration,t.options.easing),animateTo=(animateTo+1)%2;n.animate({opacity:animateTo},duration,t.options.easing,function(){0==animateTo&&n.hide(),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}).dequeue()})}}(jQuery),function(e){e.effects.puff=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"hide"),i=parseInt(t.options.percent,10)||150,o=i/100,a={height:n.height(),width:n.width()};e.extend(t.options,{fade:!0,mode:r,percent:"hide"==r?i:100,from:"hide"==r?a:{height:a.height*o,width:a.width*o}}),n.effect("scale",t.options,t.duration,t.callback),n.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var n=e(this),r=e.extend(!0,{},t.options),i=e.effects.setMode(n,t.options.mode||"effect"),o=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==i?0:100),a=t.options.direction||"both",s=t.options.origin;"effect"!=i&&(r.origin=s||["middle","center"],r.restore=!0),s={height:n.height(),width:n.width()},n.from=t.options.from||("show"==i?{height:0,width:0}:s),o={y:"horizontal"!=a?o/100:1,x:"vertical"!=a?o/100:1},n.to={height:s.height*o.y,width:s.width*o.x},t.options.fade&&("show"==i&&(n.from.opacity=0,n.to.opacity=1),"hide"==i&&(n.from.opacity=1,n.to.opacity=0)),r.from=n.from,r.to=n.to,r.mode=i,n.effect("size",r,t.duration,t.callback),n.dequeue()})},e.effects.size=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],o=["width","height","overflow"],a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],l=e.effects.setMode(n,t.options.mode||"effect"),u=t.options.restore||!1,d=t.options.scale||"both",p=t.options.origin,h={height:n.height(),width:n.width()};n.from=t.options.from||h,n.to=t.options.to||h,p&&(p=e.effects.getBaseline(p,h),n.from.top=(h.height-n.from.height)*p.y,n.from.left=(h.width-n.from.width)*p.x,n.to.top=(h.height-n.to.height)*p.y,n.to.left=(h.width-n.to.width)*p.x);var v={from:{y:n.from.height/h.height,x:n.from.width/h.width},to:{y:n.to.height/h.height,x:n.to.width/h.width}};"box"!=d&&"both"!=d||(v.from.y!=v.to.y&&(r=r.concat(s),n.from=e.effects.setTransition(n,s,v.from.y,n.from),n.to=e.effects.setTransition(n,s,v.to.y,n.to)),v.from.x!=v.to.x&&(r=r.concat(c),n.from=e.effects.setTransition(n,c,v.from.x,n.from),n.to=e.effects.setTransition(n,c,v.to.x,n.to))),"content"!=d&&"both"!=d||v.from.y!=v.to.y&&(r=r.concat(a),n.from=e.effects.setTransition(n,a,v.from.y,n.from),n.to=e.effects.setTransition(n,a,v.to.y,n.to)),e.effects.save(n,u?r:i),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),"content"!=d&&"both"!=d||(s=s.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),o=r.concat(s).concat(c),n.find("*[width]").each(function(){child=e(this),u&&e.effects.save(child,o);var n=child.height(),r=child.width();child.from={height:n*v.from.y,width:r*v.from.x},child.to={height:n*v.to.y,width:r*v.to.x},v.from.y!=v.to.y&&(child.from=e.effects.setTransition(child,s,v.from.y,child.from),child.to=e.effects.setTransition(child,s,v.to.y,child.to)),v.from.x!=v.to.x&&(child.from=e.effects.setTransition(child,c,v.from.x,child.from),child.to=e.effects.setTransition(child,c,v.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){u&&e.effects.restore(child,o)})})),n.animate(n.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity),"hide"==l&&n.hide(),e.effects.restore(n,u?r:i),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.shake=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"];e.effects.setMode(n,t.options.mode||"effect");var i=t.options.direction||"left",o=t.options.distance||20,a=t.options.times||3,s=t.duration||t.options.duration||140;e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var c="up"==i||"down"==i?"top":"left",l="up"==i||"left"==i?"pos":"neg",u={},d={};for((i={})[c]=("pos"==l?"-=":"+=")+o,u[c]=("pos"==l?"+=":"-=")+2*o,d[c]=("pos"==l?"-=":"+=")+2*o,n.animate(i,s,t.options.easing),o=1;o<a;o++)n.animate(u,s,t.options.easing).animate(d,s,t.options.easing);n.animate(u,s,t.options.easing).animate(i,s/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e){e.effects.slide=function(t){return this.queue(function(){var n=e(this),r=["position","top","bottom","left","right"],i=e.effects.setMode(n,t.options.mode||"show"),o=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n).css({overflow:"hidden"});var a="up"==o||"down"==o?"top":"left";o="up"==o||"left"==o?"pos":"neg";var s=t.options.distance||("top"==a?n.outerHeight({margin:!0}):n.outerWidth({margin:!0}));"show"==i&&n.css(a,"pos"==o?isNaN(s)?"-"+s:-s:s);var c={};c[a]=("show"==i?"pos"==o?"+=":"-=":"pos"==o?"-=":"+=")+s,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==i&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.transfer=function(t){return this.queue(function(){var n=e(this),r=e(t.options.to),i=r.offset();r={top:i.top,left:i.left,height:r.innerHeight(),width:r.innerWidth()},i=n.offset();var o=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:i.top,left:i.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(r,t.duration,t.options.easing,function(){o.remove(),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery)},xsEr:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div role="region" aria-label="Out of home" class="nav ooh-nav" ng-if="$ctrl.isOoh">\n<button type="button" ng-click="$ctrl.onBannerClicked()">\n<svg focusable="false" aria-hidden="true" role="img" aria-label="" class="ooh-icon-arrow"><use xlink:href="#ooh-arrow-icon" svg-path/></svg>\n{{$ctrl.bannerMessage}}\n</button>\n</div>',o="js/components/header/ooh/ooh.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},yELK:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="player-controls">\n<div id="player-mouse-down-focus" tabindex="{{$ctrl.playerMouseDown ? 0 : -1}}" aria-hidden="true"></div>\n<chromecast-mini-guide ng-if="$ctrl.$state.current.name === \'ovp.livetv\'" ng-class="{\'mini-guide-open\': $ctrl.miniGuideOpen}">\n</chromecast-mini-guide>\n<div ng-if="$ctrl.loading" class="channel-loading video-loading">\n<div class="spinner"></div>\n<div aria-hidden="true" class="loading-asset" ng-show="!!$ctrl.loadingMessage" ng-bind-html="$ctrl.loadingMessage"></div>\n</div>\n<div class="sr-only" aria-live="assertive">\n{{$ctrl.loading ? $ctrl.loadingMessage : \'\'}} {{$ctrl.buffering ? \'Buffering\' : \'\'}} {{$ctrl.pcBlockedMessage}}\n</div>\n<blocking-screen is-casting="true" asset="$ctrl.asset"></blocking-screen>\n<div id="video-controls" class="controller-bar" ng-class="{\'slide-open\': $ctrl.controllerBarVisible === true}">\n<div class="updated-controls">\n<div class="asset-information">\n<div class="asset-details">\n<h2 tabindex="-2" class="asset-title kite-h1">{{$ctrl.assetTitle}}</h2>\n<p tabindex="-2" class="asset-meta kite-h4" ng-if="$ctrl.assetSubtitle">{{$ctrl.assetSubtitle}}</p>\n</div>\n<div class="channel-details">\n<div class="channel-number">\n<p class="no-bottom-margin" aria-hidden="true" ng-if="vm.asset.channel.localChannelNumber">{{vm.asset.channel.localChannelNumber}}</p>\n</div>\n<div class="network-logo">\n<p>\n<img class="network-image" ng-src="{{$ctrl.networkImage}}" ng-if="$ctrl.networkImage" fallback-image="display:none" alt="Channel {{vm.asset.channel.localChannelNumber}}, {{$ctrl.media.metadata.networkName}}">\n</p>\n</div>\n</div>\n</div>\n<div class="status-bar" ng-if="!$ctrl.loading">\n<player-status-bar class="status-bar" asset="$ctrl.assetTimeInfo" ng-if="$ctrl.assetTimeInfo && $ctrl.isLiveMode"></player-status-bar>\n<div class="scrubber" ng-if="$ctrl.isVodMode && $ctrl.slider.options.max && !$ctrl.isInProgressCdvr">\n<ovp-scrubber class="scrubber" max="$ctrl.slider.options.max" value="$ctrl.slider.options.value" ff-disabled="$ctrl.slider.options.ffDisabled" cdvr-scrubbing-disabled="$ctrl.slider.options.cdvrScrubbingDisabled" ad-breaks="$ctrl.slider.options.adBreaks" is-ad-playing="$ctrl.slider.options.isAdPlaying" show-buffer="$ctrl.slider.options.showBuffer" enlarge-icon="$ctrl.enlargeIcon">\n</ovp-scrubber>\n</div>\n</div>\n<div class="controls">\n<div class="left-buttons">\n<a href="#" class="kite-btn" ng-if="$ctrl.asset.channel.hasLinkedVODAsset && $ctrl.asset.channel.available" ovp-click="$ctrl.startOver($ctrl.asset.channel, $event);">\n<svg class="restart-icon" aria-hidden="true" focusable="false">\n<use aria-hidden="true" xlink:href="#restart-icon" svg-path/>\n</svg>\n<span>Restart <span class="sr-only">program in on Demand</span></span>\n</a>\n</div>\n<div class="left-col-spacer"></div>\n<ul class="scrubber-controls" ng-if="$ctrl.isVodMode && !$ctrl.isInProgressCdvr">\n<li class="gap">\n<skip-button is-casting="true" ovp-disabled="$ctrl.slider.options.isAdPlaying" direction="-1" on-skip="$ctrl.skip(direction)" seconds="$ctrl.skipSeconds" enlarge-icon="true">\n</skip-button>\n</li>\n<li class="button-space">\n<toggle-play options="{setBookmarkCallback: $ctrl.prepareToSetBookmark, playbackTime: $ctrl.playbackTime, duration: $ctrl.duration}" enlarge-icon="true">\n</toggle-play>\n</li>\n<li class="gap">\n<skip-button is-casting="true" ovp-disabled="$ctrl.slider.options.isAdPlaying || $ctrl.slider.options.ffDisabled" ff-disabled="$ctrl.slider.options.ffDisabled" direction="1" on-skip="$ctrl.skip(direction)" seconds="$ctrl.skipSeconds" enlarge-icon="true">\n</skip-button>\n</li>\n</ul>\n<ul class="other-buttons">\n<li class="common-controls control-item button-spacing">\n<volume-control></volume-control>\n</li>\n<li ng-if="!$ctrl.toggleDevicePickerEnabled">\n<button is="google-cast-button" id="castbutton" class="button-spacing cast-button" aria-describedby="cast_btn_desc" focus-when="$ctrl.chromecastTooltipClosed"></button>\n<span id="cast_btn_desc" hidden>Casting video. Open ChromeCast dialog.</span>\n</li>\n<li ng-if="$ctrl.toggleDevicePickerEnabled">\n<toggle-device-picker class="toggle-device-list button-spacing" hide-stb="$ctrl.isTrailer"/>\n</li>\n<li>\n<toggle-cc class="button-spacing" override="$ctrl.isCCEnabled"></toggle-cc>\n</li>\n<li>\n<toggle-sap class="button-spacing"></toggle-sap>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n',o="js/components/player/chromecast-player-controls.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},ycbE:function(e,t){!function(){"use strict";angular.module("ovpApp.components.baseDropdown",[]).controller("BaseDropdownController",function(){this.toggled=function(){this.alert="",this.focusDropdownMenu=!this.focusDropdownMenu},this.onFocus=function(){this.focusDropdownMenu=!1,this.focusButton=!1},this.onBlur=function(){this.focusDropdownMenu||this.focusButton||(this.status.isOpen=!1,this.focusDropdownMenu=!0)},this.onDropDownMenuItemBlur=function(e){e&&!this.focusButton&&(this.status.isOpen=!1,this.focusDropdownMenu=!1)}})}()},z1ye:function(e,t){var n,r=window.angular;try{n=r.module(["ng"])}catch(e){n=r.module("ng",[])}var i='<div class="no-video-screen">\n<div class="tour-collage-wrapper">\n<div class="tour-collage" feature-tour-background></div>\n</div>\n</div>',o="js/twctv/novideoservice.html",a=r.element(window.document).injector();a?a.get("$templateCache").put(o,i):n.run(["$templateCache",function(e){e.put(o,i)}]),e.exports=i},zPQq:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return m});var r,i=n("o0o1"),o=n.n(i),a=(n("ls82"),n("yXPU")),s=n.n(a),c=n("dprx"),l=n.n(c),u=n("I+BT"),d=n("PNUD"),p=n("hWvj"),h=n("UntU");function v(){return f.apply(this,arguments)}function f(){return(f=s()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.a.getSelectorValue(p.a),r={division:null===t||void 0===t?void 0:t.market,lineup:null===t||void 0===t?void 0:t.lineupId},e.next=4,Object(h.h)();case 4:l.a.set(u.d.VIDEO_ZONE,r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=function(){return r}},zmVM:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"q",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"o",function(){return v}),n.d(t,"k",function(){return f}),n.d(t,"p",function(){return m}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return S}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return k});var r=n("3ASB"),i=n.n(r),o=n("fwyg"),a=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:null===(n=e.capabilities)||void 0===n?void 0:n.inProgress)&&void 0!==t&&t},s=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.capabilities)||void 0===t?void 0:t.errorObj},c=function(e){var t;return null===e||void 0===e?void 0:null===(t=e.capabilities)||void 0===t?void 0:t.data},l=function(e){var t,n,r;return 107===(null!==(t=null===(n=c(e))||void 0===n?void 0:null===(r=n.watchlive)||void 0===r?void 0:r.code)&&void 0!==t?t:0)},u=function(e){var t;return null===(t=Object(o.M)(e))||void 0===t?void 0:t.playerConfig},d=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.linearDrmEncodings},p=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.vodDrmEncodings},h=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.cdvrDrmEncodings},v=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.vod},f=function(e){var t;return null===(t=u(e))||void 0===t?void 0:t.linear},m=function(e){return i()(u(e).shaka.default,u(e).shaka.vod)},g=function(e){return i()(u(e).shaka.default,u(e).shaka.linear)},b=function(e){var t;return null===(t=f(e))||void 0===t?void 0:t.disableCDVRInProgressScrubbing},y=function(e){var t,n;return!!(null===(t=c(e))||void 0===t?void 0:null===(n=t.cdvr)||void 0===n?void 0:n.authorized)},S=function(e){var t,n;return!!(null===(t=c(e))||void 0===t?void 0:null===(n=t.accessibility)||void 0===n?void 0:n.authorized)},w=function(e){var t,n;return!!(null===(t=c(e))||void 0===t?void 0:null===(n=t.iptvpackage)||void 0===n?void 0:n.authorized)},k=function(e){var t,n;return!!(null===(t=c(e))||void 0===t?void 0:null===(n=t.dvroperations)||void 0===n?void 0:n.authorized)}},zwPf:function(e,t){!function(){"use strict";angular.module("ovpApp.oauth",["ovpApp.legacy.httpUtil","ovpApp.messages","lib.sha1","ovpApp.analytics","ovpApp.services.streamPlusService","ovpApp.services.capabilitiesService","ovpApp.services.utils"]).constant("OauthKeyMap",{oauth_token:"token",xoauth_username:"xoauth_username",oauth_token_secret:"tokenSecret",xoauth_token_expiration:"expiration",xoauth_device_registration:"deviceRegistration",oauth_verifier:"verifier",xoauth_device_verifier:"deviceVerifier",xoauth_refresh_token:"refreshToken",xoauth_account_type:"accountType"})}()}});