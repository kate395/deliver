$(document).ready((function(){grecaptcha.ready((function(){grecaptcha.execute("6Lc7PnMgAAAAAOuSgIXxZhcMDKc8QjN4g6wlU41-",{action:"application_form"}).then((function(e){var r=e,a=new URL(window.location.href),t=a.searchParams.get("id"),o=a.searchParams.get("co"),n=browserCheck();$.ajax({type:"POST",url:"/check2.php",data:getCookie("mg_auth"),dataType:"json",success:function(e){$.ajax({type:"POST",data:r,url:"getlink.php?id="+t+"&co="+o+"&drm="+n.toLowerCase(),headers:{Authorization:e.token},dataType:"json",success:function(r){var a=r.stream.complete[0].url;const t=document.getElementById("pal-player"),o={key:"0d994263-ec7e-4590-a821-c7ed3ff02f0b",image:r.thumbnails.spritesheet.href,style:{width:"100%",height:"100%",controls:!0},playback:{autoplay:!0}};const c=new bitmovin.player.Player(t,o),s={drm:{}};"Widevine"==n?(s.hls=a,s.drm.widevine={LA_URL:"key.php?drm="+n.toLowerCase(),headers:{Authorization:e.token},prepareMessage:function(e,r){return new Blob([e.message],{type:"application/octet-binary"})}}):"PlayReady"==n?(s.hls=a,s.drm.playready={LA_URL:"key.php?drm="+n.toLowerCase(),headers:{Authorization:e.token}}):(s.hls="https://vod-akc-na-east-2.media.dssott.com/ps01/disney/133a3616-93ca-4671-b3d2-c562ce464edd/regular-ctr-sw-f307784c-39b6-4a7b-b8dc-9479d945b6a7-527d7ce0-8c49-4842-bfbd-56e896de107d.m3u8",s.drm.fairplay={LA_URL:"key.php?drm="+n.toLowerCase(),certificateURL:"https://playback-certs.bamgrid.com/static/v1.0/disney/fairplay.cer",headers:{Authorization:e.token},prepareContentId:function(e){document.createElement("a");return e.substring(e.indexOf("skd://")+6)},prepareCertificate:function(e){return function(e){var r=window.atob(e),a=r.length,t=new Uint8Array(new ArrayBuffer(a));for(i=0;i<a;i++)t[i]=r.charCodeAt(i);return t}(String.fromCharCode.apply(null,new Uint8Array(e)))},prepareLicense:function(e){try{var r=JSON.parse(String.fromCharCode.apply(null,e.license));if(r&&r.errorCode&&r.message){var a;if(console.log("ri error code : "+r.errorCode+", message :",r.message),8002==parseInt(r.errorCode)){var t=JSON.parse(r.message);t&&t.ERROR&&t.MESSAGE&&(a="RI errorCode : "+r.errorCode+"\nGateway ERROR: "+t.ERROR+"\nGateway MESSAGE: "+t.MESSAGE)}else a="RI errorCode: "+r.errorCode+"\nRI message: "+r.message;console.log(a)}else console.log("valid pr license 1 : ",e)}catch(r){console.log("valid pr license 2 : ",e)}return e},useUint16InitData:!0}),c.load(s).then((function(e){console.log("Successfully created Bitmovin Player instance")}),(function(e){console.log("Error while creating Bitmovin Player instance")}))}})}})}))}))}));
